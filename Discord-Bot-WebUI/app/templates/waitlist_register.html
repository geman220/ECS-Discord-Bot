{% extends "base_unauthenticated.html" %}

{% block title %}Join the Waitlist - ECS Soccer League{% endblock %}

{% block page_css %}

{% if not config.get('ASSETS_PRODUCTION_MODE') and (vite_production_mode is not defined or not vite_production_mode()) %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/pages/authentication.css') }}" />
{% endif %}
{% endblock %}

{% block main_content %}
<div class="c-auth-wrapper c-auth-wrapper--wide" data-component="auth-wrapper">
    <!-- Logo Section -->
    <div class="c-auth-logo" data-component="auth-logo">
        <img src="{{ url_for('static', filename='img/ecs_logo.png') }}"
             alt="ECS Logo"
             class="c-auth-logo__image">
        <div class="c-auth-logo__divider"></div>
        <img src="{{ url_for('static', filename='img/ecs_pl_logo.png') }}"
             alt="ECS FC Pub League Logo"
             class="c-auth-logo__image">
    </div>

    <!-- Waitlist Content -->
    <div class="c-auth-form" data-component="auth-form">
        <div class="c-auth-form__header">
            <h1 class="c-auth-form__title">Join the Waitlist</h1>
            <p class="c-auth-form__subtitle">We're at capacity this season, but you can join our waitlist!</p>
        </div>

        <div class="c-auth-form__body">
            <!-- Season Full Alert -->
            <div class="c-auth-alert c-auth-alert--warning" data-alert>
                <h6 class="c-auth-alert__title">
                    <i class="ti ti-clock"></i>
                    Season Full
                </h6>
                <p class="c-auth-alert__text">
                    All spots for the current season have been filled. Join our waitlist to be first in line for future openings or next season!
                </p>
            </div>

            <!-- Discord Registration - Primary Action -->
            <a href="{{ url_for('auth.waitlist_discord_register') }}"
               class="c-auth-btn c-auth-btn--discord"
               data-action="discord-register">
                <i class="ti ti-brand-discord c-auth-btn__icon"></i>
                Join Waitlist with Discord
            </a>

            <!-- Encouraging Text -->
            <div class="c-auth-help-text" data-component="help-text">
                <p class="c-auth-help-text__content">
                    We highly encourage you to register with Discord for a seamless experience and access to exclusive ECS content.
                </p>
                <p class="c-auth-help-text__links">
                    Don't have Discord? <a href="https://discord.com/register" target="_blank" rel="noopener noreferrer" class="c-auth-link">Create an account</a> and join the <a href="https://discord.gg/weareecs" target="_blank" rel="noopener noreferrer" class="c-auth-link">ECS Discord</a>!
                </p>
            </div>

            <!-- Login Option -->
            <div class="c-auth-divider">
                <span class="c-auth-divider__text">Already have an account?</span>
            </div>

            <p class="c-auth-form__note">
                If you already have an ECS account, please login first to join the waitlist.
            </p>

            <a href="{{ url_for('auth.login') }}"
               class="c-auth-btn c-auth-btn--outline"
               data-action="login">
                <i class="ti ti-login c-auth-btn__icon"></i>
                Login to Join Waitlist
            </a>

            <!-- Benefits Section -->
            <div class="c-auth-benefits" data-component="benefits">
                <h3 class="c-auth-benefits__title">Benefits of Joining</h3>
                <div class="c-auth-benefits__grid">
                    <div class="c-auth-benefits__item">
                        <i class="ti ti-bell c-auth-benefits__icon"></i>
                        <p class="c-auth-benefits__text">Priority notifications when spots open</p>
                    </div>
                    <div class="c-auth-benefits__item">
                        <i class="ti ti-calendar c-auth-benefits__icon"></i>
                        <p class="c-auth-benefits__text">Early access to more information</p>
                    </div>
                    <div class="c-auth-benefits__item">
                        <i class="ti ti-users c-auth-benefits__icon"></i>
                        <p class="c-auth-benefits__text">Stay connected with the ECS community</p>
                    </div>
                </div>
            </div>

            <!-- Footer Links -->
            <div class="c-auth-form__footer">
                <a href="{{ url_for('auth.login') }}" class="c-auth-link" data-action="back-to-login">
                    <i class="ti ti-chevron-left"></i>
                    Back to login
                </a>
            </div>
        </div>
    </div>
</div>
{% endblock %}

{% block custom_js %}
{{ super() }}
{% if not config.get('ASSETS_PRODUCTION_MODE') and (vite_production_mode is not defined or not vite_production_mode()) %}
<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
<script src="{{ url_for('static', filename='custom_js/discord-membership-check.js') }}"></script>
{% endif %}
{% endblock %}
