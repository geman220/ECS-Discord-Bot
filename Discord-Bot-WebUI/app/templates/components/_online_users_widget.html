{#
  ============================================================================
  ONLINE USERS WIDGET
  ============================================================================

  Compact widget showing currently online users.
  Placed in sidebar to show who's currently active.

  Features:
  - Auto-updates via JavaScript
  - Click user to view profile or start chat
  - Shows online status with pulse animation

  Usage:
    {% include 'components/_online_users_widget.html' %}

  Required CSS: /static/css/components/online-users-widget.css
  Required JS: /static/js/online-status.js

  ============================================================================
#}

<div class="c-online-widget"
     data-component="online-users-widget"
     data-refresh-interval="30000">

    {# Widget Header #}
    <div class="c-online-widget__header">
        <h6 class="c-online-widget__title">
            <i class="ti ti-circle-filled c-online-widget__title-icon" aria-hidden="true"></i>
            <span class="c-online-widget__title-text">Online Now</span>
        </h6>
        <span class="c-online-widget__count"
              data-online-count
              aria-label="Online user count">0</span>
    </div>

    {# User List #}
    <ul class="c-online-widget__list"
        data-online-users-list
        role="list"
        aria-label="Online users">

        {# Loading State (shown initially) #}
        <li class="c-online-widget__loading" data-state="loading">
            <span class="c-online-widget__loading-spinner" aria-hidden="true"></span>
            <span>Loading...</span>
        </li>

        {# Empty State (hidden by default) #}
        <li class="c-online-widget__empty u-hidden" data-state="empty">
            <i class="ti ti-users-off c-online-widget__empty-icon" aria-hidden="true"></i>
            <p class="c-online-widget__empty-text">No one else online</p>
        </li>

        {# User items will be dynamically inserted here #}
    </ul>

    {# Footer with action #}
    <div class="c-online-widget__footer">
        <a href="/messages" class="c-online-widget__see-all" data-action="open-messages">
            <span>Start a conversation</span>
            <i class="ti ti-chevron-right" aria-hidden="true"></i>
        </a>
    </div>
</div>

{# Online Users Widget JavaScript Module (extracted from inline JS) #}
<script src="{{ url_for('static', filename='custom_js/online-users-widget.js') }}"></script>
