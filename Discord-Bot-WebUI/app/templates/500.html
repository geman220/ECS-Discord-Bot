{% extends "base_unauthenticated.html" %}

{% block page_css %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/features/error-public.css') }}" />
{% endblock %}

{% block main_content %}
<div class="c-auth-wrapper c-error-wrapper">
    <!-- Logo Section -->
    <div class="c-auth-logo">
        <img src="{{ url_for('static', filename='img/ecs_logo.png') }}"
             alt="ECS"
             class="c-auth-logo__image">
    </div>

    <!-- Header -->
    <div class="c-auth-form__header">
        <div class="c-error-icon c-error-icon--500">
            <i class="ti ti-server-off"></i>
        </div>
        <h1 class="c-error-code c-error-code--500">500</h1>
        <h2 class="c-auth-form__title">Server Error</h2>
        <p class="c-auth-form__subtitle">Our server got a red card and had to leave the field.</p>
    </div>

    <!-- Soccer Joke -->
    <div class="c-error-joke c-error-joke--danger" id="jokeContainer">
        <i class="ti ti-quote"></i>
        <span id="jokeText">Our server just went down faster than a player in the penalty box!</span>
    </div>

    <!-- Action Button -->
    <div class="c-auth-form__body">
        <a href="{{ url_for('main.index') }}" class="c-auth-btn c-auth-btn--danger">
            <i class="ti ti-home c-auth-btn__icon"></i>
            <span>Back to Home</span>
        </a>
    </div>

    <!-- Footer -->
    <div class="c-auth-form__footer">
        <p class="c-auth-form__footer-text">
            Emerald City Supporters
        </p>
    </div>
</div>

<script>
    // Rotating soccer jokes themed around server errors
    const jokes = [
        "Our server just went down faster than a player in the penalty box!",
        "500 Error: Our server got a straight red card from the referee.",
        "Looks like our server pulled a hamstring. We're sending in a substitute page.",
        "Our application is taking a hydration break. Should be back on the pitch soon!",
        "Our server's defending worse than the Sounders against LAFC in 2019.",
        "500 Error: The server is stuck in traffic trying to get to Lumen Field.",
        "The server is experiencing Seattle weather - unexpected downtime.",
        "Looks like our database connection is about as reliable as Seattle sunshine.",
        "Our server just missed an open goal. Even Jordan Morris wouldn't have missed that one!",
        "500: This page is as broken as the Sounders' passing in the final third.",
        "Our server is taking a longer break than halftime at a Sounders match.",
        "Our code got caught offside. We're waiting for VAR to make a decision.",
        "500 Error: The server got confused like a midfielder in a high press.",
        "Our database just got nutmegged by an unexpected query."
    ];

    // Choose a random joke
    document.addEventListener('DOMContentLoaded', function() {
        const jokeText = document.getElementById('jokeText');
        const randomJoke = jokes[Math.floor(Math.random() * jokes.length)];
        jokeText.textContent = randomJoke;
    });
</script>
{% endblock main_content %}
