{% extends "base_unauthenticated.html" %}

{% block page_css %}

{% if not config.get('ASSETS_PRODUCTION_MODE') %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/pages/error-pages.css') }}">
{% endif %}
{% endblock %}

{% block main_content %}
<div class="c-error-page">
    <div class="c-error-container">
        <img src="{{ url_for('static', filename='img/undraw_notify_re_65on.svg') }}"
             alt="500 Illustration"
             class="c-error-illustration">

        <h1 class="c-error-code c-error-code--500">500</h1>
        <h2 class="c-error-title">Server Error</h2>
        <p class="c-error-message">Our server got a red card and had to leave the field.</p>

        <div class="c-error-joke c-error-joke--500" id="jokeContainer" data-role="joke-container">
            <span id="jokeText">Our server just went down faster than a player in the penalty box!</span>
        </div>

        <a href="{{ url_for('main.index') }}" class="c-error-button c-error-button--500" data-action="go-home">
            <i class="ti ti-home me-2"></i> Back to Home
        </a>
    </div>
</div>

  <script>
      // Rotating soccer jokes themed around server errors
      const jokes = [
          "Our server just went down faster than a player in the penalty box!",
          "500 Error: Our server got a straight red card from the referee.",
          "Looks like our server pulled a hamstring. We're sending in a substitute page.",
          "Our application is taking a hydration break. Should be back on the pitch soon!",
          "Our server's defending worse than the Sounders against LAFC in 2019.",
          "500 Error: The server is stuck in traffic trying to get to Lumen Field.",
          "The server is experiencing Seattle weather - unexpected downtime.",
          "Looks like our database connection is about as reliable as Seattle sunshine.",
          "Our server just missed an open goal. Even Jordan Morris wouldn't have missed that one!",
          "500: This page is as broken as the Sounders' passing in the final third.",
          "Our server is taking a longer break than halftime at a Sounders match.",
          "Our code got caught offside. We're waiting for VAR to make a decision.",
          "500 Error: The server got confused like a midfielder in a high press.",
          "Our database just got nutmegged by an unexpected query."
      ];

      // Choose a random joke
      document.addEventListener('DOMContentLoaded', function() {
          const jokeText = document.getElementById('jokeText');
          const randomJoke = jokes[Math.floor(Math.random() * jokes.length)];
          jokeText.textContent = randomJoke;
      });
  </script>
  {% endblock main_content %}