<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>{% block title %}ECS FC Profile Update{% endblock %}</title>

    <!-- Design Tokens (CSS Variables) -->
    {% assets "core_tokens" %}
        <link rel="stylesheet" href="{{ ASSET_URL }}" />
    {% endassets %}

    <!-- Bootstrap CSS (Local) -->
    <link rel="stylesheet" href="{{ url_for('static', filename='vendor/css/rtl/core.css') }}" />

    <!-- Tabler Icons (Local) -->
    <link rel="stylesheet" href="{{ url_for('static', filename='vendor/fonts/tabler-icons.css') }}" />

    <!-- Mobile Wizard Styles (Extracted from inline styles) -->
    <link rel="stylesheet" href="{{ url_for('static', filename='css/pages/mobile-wizard.css') }}" />

    <!-- Profile Verification Components -->
    <link rel="stylesheet" href="{{ url_for('static', filename='css/pages/profile-verify.css') }}" />

    <!-- Custom CSS Block -->
    {% block custom_css %}{% endblock %}
</head>
<body class="mobile-wizard-body">
    <!-- Skip to main content link -->
    <a href="#main-content" class="skip-link">Skip to main content</a>

    <div class="mobile-container">
        <main id="main-content" tabindex="-1">
            {% block main_content %}{% endblock %}
        </main>
    </div>

    <!-- jQuery (Local) -->
    <script src="{{ url_for('static', filename='vendor/libs/jquery/jquery.js') }}"></script>
    <!-- Popper.js (Local) -->
    <script src="{{ url_for('static', filename='vendor/libs/popper/popper.js') }}"></script>
    <!-- Bootstrap JS (Local) -->
    <script src="{{ url_for('static', filename='vendor/js/bootstrap.js') }}"></script>

    <!-- Select2 for better mobile dropdowns -->
    <link href="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/css/select2.min.css" rel="stylesheet" />
    <script src="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/js/select2.min.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/select2-bootstrap-5-theme@1.3.0/dist/select2-bootstrap-5-theme.min.css" />

    <!-- Flash Messages via SweetAlert2 -->
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    {% with messages = get_flashed_messages(with_categories=true) %}
        {% if messages %}
        <script>
            {% for category, message in messages %}
                {% if category == 'error' %}
                    Swal.fire({
                        icon: 'error',
                        title: 'Error',
                        text: '{{ message }}',
                        confirmButtonColor: (typeof ECSTheme !== 'undefined') ? ECSTheme.getColor('danger') : '#dc3545'
                    });
                {% elif category == 'warning' %}
                    Swal.fire({
                        icon: 'warning',
                        title: 'Warning',
                        text: '{{ message }}',
                        confirmButtonColor: (typeof ECSTheme !== 'undefined') ? ECSTheme.getColor('warning') : '#ffc107'
                    });
                {% elif category == 'success' %}
                    Swal.fire({
                        icon: 'success',
                        title: 'Success',
                        text: '{{ message }}',
                        confirmButtonColor: (typeof ECSTheme !== 'undefined') ? ECSTheme.getColor('success') : '#28a745'
                    });
                {% else %}
                    Swal.fire({
                        icon: 'info',
                        title: 'Info',
                        text: '{{ message }}',
                        confirmButtonColor: (typeof ECSTheme !== 'undefined') ? ECSTheme.getColor('info') : '#17a2b8'
                    });
                {% endif %}
            {% endfor %}
        </script>
        {% endif %}
    {% endwith %}

    {% block custom_js %}{% endblock %}
</body>
</html>