{% extends "base_unauthenticated.html" %}

{% block page_css %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/features/error-public.css') }}" />
{% endblock %}

{% block main_content %}
<div class="c-auth-wrapper c-error-wrapper">
    <!-- Logo Section -->
    <div class="c-auth-logo">
        <img src="{{ url_for('static', filename='img/ecs_logo.png') }}"
             alt="ECS"
             class="c-auth-logo__image">
    </div>

    <!-- Header -->
    <div class="c-auth-form__header">
        <div class="c-error-icon c-error-icon--503">
            <i class="ti ti-tool"></i>
        </div>
        <h1 class="c-error-code c-error-code--503">503</h1>
        <h2 class="c-auth-form__title">Service Temporarily Unavailable</h2>
        <p class="c-auth-form__subtitle">We're performing maintenance or experiencing high traffic. The pitch is getting some TLC!</p>
    </div>

    <!-- Status Info -->
    <div class="c-error-status">
        <i class="ti ti-loader c-error-status__icon"></i>
        <span>We're working on it - please check back shortly</span>
    </div>

    {% if error %}
    <!-- Error Details -->
    <div class="c-error-joke c-error-joke--warning">
        <i class="ti ti-info-circle"></i>
        <span>{{ error }}</span>
    </div>
    {% endif %}

    <!-- Action Button -->
    <div class="c-auth-form__body">
        <button class="c-auth-btn c-auth-btn--warning-solid" onclick="window.location.reload()">
            <i class="ti ti-refresh c-auth-btn__icon"></i>
            <span>Try Again</span>
        </button>
    </div>

    <!-- Footer -->
    <div class="c-auth-form__footer">
        <p class="c-auth-form__footer-text">
            Emerald City Supporters
        </p>
    </div>
</div>

<style>
/* Additional styles for 503-specific elements */
.c-error-status {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 0.75rem;
    margin-bottom: var(--auth-space-lg, 1.5rem);
    padding: 0.875rem 1rem;
    background: rgba(245, 158, 11, 0.1);
    border-radius: var(--auth-radius, 12px);
    color: #FBBF24;
    font-size: 0.875rem;
}

.c-error-status__icon {
    font-size: 1.25rem;
    animation: spin 2s linear infinite;
}

@keyframes spin {
    from { transform: rotate(0deg); }
    to { transform: rotate(360deg); }
}

@media (prefers-reduced-motion: reduce) {
    .c-error-status__icon {
        animation: none;
    }
}
</style>
{% endblock main_content %}
