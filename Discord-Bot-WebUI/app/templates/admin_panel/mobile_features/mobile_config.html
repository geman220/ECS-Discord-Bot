{% extends "admin_panel/base.html" %}

{% block title %}Mobile Configuration - Admin Panel{% endblock %}

{% block content %}
<div class="admin-panel-content">
    <div class="row">
        <div class="large-12 columns">
            <h2>Mobile App Configuration</h2>
            
            <div class="row">
                <div class="large-8 columns">
                    <h4>Configuration Settings</h4>
                    <form id="mobile-config-form">
                        <div class="row">
                            <div class="large-6 columns">
                                <label>App Version
                                    <input type="text" name="app_version" value="{{ config.app_version if config else 'v1.0.0' }}" placeholder="v1.0.0">
                                </label>
                            </div>
                            <div class="large-6 columns">
                                <label>Minimum Supported Version
                                    <input type="text" name="min_version" value="{{ config.min_version if config else 'v1.0.0' }}" placeholder="v1.0.0">
                                </label>
                            </div>
                        </div>
                        
                        <div class="row">
                            <div class="large-12 columns">
                                <h5>Feature Toggles</h5>
                                <div class="switch">
                                    <input class="switch-input" id="push-notifications" type="checkbox" name="push_notifications" {{ 'checked' if config and config.push_notifications else '' }}>
                                    <label class="switch-paddle" for="push-notifications">
                                        <span class="show-for-sr">Push Notifications</span>
                                    </label>
                                    <label for="push-notifications">Push Notifications</label>
                                </div>
                                
                                <div class="switch">
                                    <input class="switch-input" id="wallet-passes" type="checkbox" name="wallet_passes" {{ 'checked' if config and config.wallet_passes else '' }}>
                                    <label class="switch-paddle" for="wallet-passes">
                                        <span class="show-for-sr">Wallet Passes</span>
                                    </label>
                                    <label for="wallet-passes">Wallet Passes</label>
                                </div>
                                
                                <div class="switch">
                                    <input class="switch-input" id="offline-mode" type="checkbox" name="offline_mode" {{ 'checked' if config and config.offline_mode else '' }}>
                                    <label class="switch-paddle" for="offline-mode">
                                        <span class="show-for-sr">Offline Mode</span>
                                    </label>
                                    <label for="offline-mode">Offline Mode</label>
                                </div>
                            </div>
                        </div>
                        
                        <div class="row">
                            <div class="large-12 columns">
                                <button type="submit" class="button">Save Configuration</button>
                                <button type="reset" class="button secondary">Reset</button>
                            </div>
                        </div>
                    </form>
                </div>
                
                <div class="large-4 columns">
                    <h4>Configuration Status</h4>
                    <div class="callout {{ 'success' if config_valid else 'warning' }}">
                        <h6>Configuration Status</h6>
                        <p>{{ 'Valid' if config_valid else 'Needs Attention' }}</p>
                    </div>
                    
                    <h4>Quick Actions</h4>
                    <div class="button-group stacked">
                        <button class="button" onclick="testConfiguration()">Test Configuration</button>
                        <button class="button" onclick="exportConfig()">Export Settings</button>
                        <button class="button" onclick="resetToDefaults()">Reset to Defaults</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
document.getElementById('mobile-config-form').addEventListener('submit', function(e) {
    e.preventDefault();
    alert('Configuration save feature will be implemented here');
});

function testConfiguration() {
    alert('Configuration test feature will be implemented here');
}

function exportConfig() {
    alert('Configuration export feature will be implemented here');
}

function resetToDefaults() {
    if (confirm('Are you sure you want to reset to default settings?')) {
        alert('Reset feature will be implemented here');
    }
}
</script>
{% endblock %}