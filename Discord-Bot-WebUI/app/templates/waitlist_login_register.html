{% extends "base_unauthenticated.html" %}

{% block title %}Join the Waitlist - ECS FC Pub League{% endblock %}

{% block page_css %}

{% if not config.get('ASSETS_PRODUCTION_MODE') and (vite_production_mode is not defined or not vite_production_mode()) %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/pages/authentication.css') }}" />
{% endif %}
{% endblock %}

{% block main_content %}
<div class="c-auth-wrapper c-auth-wrapper--wide" data-component="auth-wrapper">
    <!-- Logo Section -->
    <div class="c-auth-logo" data-component="auth-logo">
        <img src="{{ url_for('static', filename='img/ecs_logo.png') }}"
             alt="ECS Logo"
             class="c-auth-logo__image">
        <div class="c-auth-logo__divider"></div>
        <img src="{{ url_for('static', filename='img/ecs_pl_logo.png') }}"
             alt="ECS FC Pub League Logo"
             class="c-auth-logo__image">
    </div>

    <!-- Waitlist Content -->
    <div class="c-auth-form" data-component="auth-form">
        <div class="c-auth-form__header">
            <h1 class="c-auth-form__title">Join the Waitlist</h1>
            <p class="c-auth-form__subtitle">Season is full, but you can join our waitlist!</p>
        </div>

        <div class="c-auth-form__body">
            <!-- Season Full Alert -->
            <div class="c-auth-alert c-auth-alert--warning" data-alert>
                <h6 class="c-auth-alert__title">
                    <i class="ti ti-clock"></i>
                    Season Full
                </h6>
                <p class="c-auth-alert__text">
                    All spots are filled. Join our waitlist to be first in line for future openings!
                </p>
            </div>

            <!-- Existing User Section -->
            <div class="c-auth-help-text" data-component="help-text">
                <p class="c-auth-help-text__content">
                    <strong>Already have an account?</strong> Login with Discord to join the waitlist.
                </p>
            </div>

            <a href="{{ url_for('auth.waitlist_discord_login') }}"
               class="c-auth-btn c-auth-btn--discord"
               data-action="discord-login">
                <i class="ti ti-brand-discord c-auth-btn__icon"></i>
                Login with Discord
            </a>

            <!-- Divider -->
            <div class="c-auth-divider">
                <span class="c-auth-divider__text">New to Pub League?</span>
            </div>

            <!-- New User Section -->
            <p class="c-auth-form__note">
                Create a new account with Discord to join the waitlist.
            </p>

            <a href="{{ url_for('auth.waitlist_discord_register') }}"
               class="c-auth-btn c-auth-btn--outline"
               data-action="discord-register">
                <i class="ti ti-user-plus c-auth-btn__icon"></i>
                Register with Discord
            </a>

            <!-- Info Note -->
            <div class="c-auth-alert c-auth-alert--info" data-alert>
                <h6 class="c-auth-alert__title">
                    <i class="ti ti-info-circle"></i>
                    Why Discord?
                </h6>
                <p class="c-auth-alert__text">
                    Discord registration is required for all members. It helps us manage teams, communicate, and organize matches effectively.
                </p>
            </div>

            <!-- Benefits Section -->
            <div class="c-auth-benefits" data-component="benefits">
                <h3 class="c-auth-benefits__title">Benefits of Joining</h3>
                <div class="c-auth-benefits__grid">
                    <div class="c-auth-benefits__item">
                        <i class="ti ti-bell c-auth-benefits__icon"></i>
                        <p class="c-auth-benefits__text">Priority notifications when spots open</p>
                    </div>
                    <div class="c-auth-benefits__item">
                        <i class="ti ti-calendar c-auth-benefits__icon"></i>
                        <p class="c-auth-benefits__text">Early access to more information</p>
                    </div>
                    <div class="c-auth-benefits__item">
                        <i class="ti ti-users c-auth-benefits__icon"></i>
                        <p class="c-auth-benefits__text">Sub opportunities for matches</p>
                    </div>
                </div>
            </div>

            <!-- Footer Links -->
            <div class="c-auth-form__footer">
                <a href="{{ url_for('auth.login') }}" class="c-auth-link" data-action="back-to-login">
                    <i class="ti ti-chevron-left"></i>
                    Back to login
                </a>
            </div>
        </div>
    </div>
</div>
{% endblock %}

{% block custom_js %}
{{ super() }}
{% if not config.get('ASSETS_PRODUCTION_MODE') and (vite_production_mode is not defined or not vite_production_mode()) %}
<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
<script src="{{ url_for('static', filename='custom_js/discord-membership-check.js') }}"></script>
{% endif %}
{% endblock %}
