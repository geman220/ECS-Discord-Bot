{"version":3,"file":"main-Bl0STsa9.js","sources":["../../vendor/libs/jquery/jquery.js","../../vendor/libs/perfect-scrollbar/perfect-scrollbar.js","../../vendor/libs/popper/popper.js","../../vendor/js/bootstrap.bundle.js","../../vendor/libs/node-waves/node-waves.js","../../vendor/libs/hammer/hammer.js","../../vendor/js/menu-refactored.js","../../js/event-delegation.js","../../js/csrf-fetch.js","../../js/helpers-minimal.js","../../js/modal-manager.js","../../js/config.js","../../js/sidebar-interactions.js","../../js/navbar-modern.js","../../js/simple-theme-switcher.js","../../js/admin-navigation.js","../../js/theme-colors.js","../../js/socket-manager.js","../../js/online-status.js","../../js/components-modern.js","../../js/responsive-system.js","../../js/ui-enhancements.js","../../js/mobile-gestures.js","../../js/mobile-keyboard.js","../../js/mobile-forms.js","../../js/mobile-haptics.js","../../js/responsive-tables.js","../../js/design-system.js","../../js/swal-contextual.js","../../js/chat-widget.js","../../js/messenger-widget.js","../../js/profile-wizard.js","../../js/draft-system.js","../../js/profile-verification.js","../../js/draft-history.js","../../js/pitch-view.js","../../js/app-init-registration.js","../../custom_js/report_match.js","../../custom_js/rsvp-unified.js","../../js/admin-panel-base.js","../../js/admin-panel-dashboard.js","../../js/admin-panel-discord-bot.js","../../js/admin-panel-performance.js","../../js/admin/admin-dashboard.js","../../js/admin/message-categories.js","../../js/admin/message-template-detail.js","../../js/admin/push-campaigns.js","../../js/admin/scheduled-messages.js","../../js/match-operations/match-reports.js","../../js/match-operations/seasons.js","../../js/utils/visibility.js","../../js/components/tabs-controller.js","../../js/init-system.js","../../custom_js/tour.js","../../custom_js/rsvp.js","../../custom_js/discord-membership-check.js","../../custom_js/admin-panel-match-list.js","../../custom_js/redis-stats.js","../../custom_js/modal-helpers.js","../../custom_js/modals.js","../../custom_js/sms-verification.js","../../custom_js/mobile-tables.js","../../custom_js/admin-discord-management.js","../../custom_js/admin-manage-subs.js","../../custom_js/admin-match-detail.js","../../custom_js/cache-stats.js","../../custom_js/create-poll.js","../../custom_js/manage-polls.js","../../custom_js/manage-roles.js","../../custom_js/manage-teams.js","../../custom_js/user-approval-management.js","../../custom_js/calendar-subscription.js","../../custom_js/draft-enhanced.js","../../custom_js/check-duplicate.js","../../custom_js/coach-dashboard.js","../../custom_js/cropper.js","../../custom_js/draft-predictions.js","../../custom_js/ecs-fc-schedule.js","../../custom_js/live_reporting.js","../../custom_js/ecsfc-schedule.js","../../custom_js/handle_2fa.js","../../custom_js/home.js","../../custom_js/match-management.js","../../custom_js/match_stats.js","../../custom_js/merge-profiles.js","../../custom_js/matches-management.js","../../custom_js/onboarding.js","../../custom_js/player-profile.js","../../custom_js/players-list.js","../../custom_js/playoff_bracket.js","../../custom_js/scheduled-message-validation.js","../../custom_js/profile-form-handler.js","../../custom_js/profile-success.js","../../custom_js/schedule-management.js","../../custom_js/settings-tabs.js","../../custom_js/settings.js","../../custom_js/simple-cropper.js","../../custom_js/substitute-pool-management.js","../../custom_js/substitute-request-management.js","../../custom_js/team-detail.js","../../custom_js/teams-overview.js","../../custom_js/verify-2fa.js","../../custom_js/verify-merge.js","../../custom_js/view-standings.js","../../custom_js/waitlist-login-register.js","../../custom_js/waitlist-register-authenticated.js","../../js/auto_schedule_wizard.js","../../js/admin-panel-feature-toggles.js","../../js/admin/announcement-form.js","../../js/mobile-draft.js","../../js/mobile-table-enhancer.js","../../js/message-management.js","../../js/messages-inbox.js","../../js/pass-studio.js","../../js/pass-studio-cropper.js","../../js/security-dashboard.js","../../assets/vendor/libs/shepherd/shepherd.js","../../assets/js/main.js","../../js/main-entry.js"],"sourcesContent":["/*! jQuery v3.7.1 | (c) OpenJS Foundation and other contributors | jquery.org/license */\n!function(e,t){\"use strict\";\"object\"==typeof module&&\"object\"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error(\"jQuery requires a window with a document\");return t(e)}:t(e)}(\"undefined\"!=typeof window?window:this,function(ie,e){\"use strict\";var oe=[],r=Object.getPrototypeOf,ae=oe.slice,g=oe.flat?function(e){return oe.flat.call(e)}:function(e){return oe.concat.apply([],e)},s=oe.push,se=oe.indexOf,n={},i=n.toString,ue=n.hasOwnProperty,o=ue.toString,a=o.call(Object),le={},v=function(e){return\"function\"==typeof e&&\"number\"!=typeof e.nodeType&&\"function\"!=typeof e.item},y=function(e){return null!=e&&e===e.window},C=ie.document,u={type:!0,src:!0,nonce:!0,noModule:!0};function m(e,t,n){var r,i,o=(n=n||C).createElement(\"script\");if(o.text=e,t)for(r in u)(i=t[r]||t.getAttribute&&t.getAttribute(r))&&o.setAttribute(r,i);n.head.appendChild(o).parentNode.removeChild(o)}function x(e){return null==e?e+\"\":\"object\"==typeof e||\"function\"==typeof e?n[i.call(e)]||\"object\":typeof e}var t=\"3.7.1\",l=/HTML$/i,ce=function(e,t){return new ce.fn.init(e,t)};function c(e){var t=!!e&&\"length\"in e&&e.length,n=x(e);return!v(e)&&!y(e)&&(\"array\"===n||0===t||\"number\"==typeof t&&0<t&&t-1 in e)}function fe(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}ce.fn=ce.prototype={jquery:t,constructor:ce,length:0,toArray:function(){return ae.call(this)},get:function(e){return null==e?ae.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){var t=ce.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return ce.each(this,e)},map:function(n){return this.pushStack(ce.map(this,function(e,t){return n.call(e,t,e)}))},slice:function(){return this.pushStack(ae.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(ce.grep(this,function(e,t){return(t+1)%2}))},odd:function(){return this.pushStack(ce.grep(this,function(e,t){return t%2}))},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(0<=n&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:s,sort:oe.sort,splice:oe.splice},ce.extend=ce.fn.extend=function(){var e,t,n,r,i,o,a=arguments[0]||{},s=1,u=arguments.length,l=!1;for(\"boolean\"==typeof a&&(l=a,a=arguments[s]||{},s++),\"object\"==typeof a||v(a)||(a={}),s===u&&(a=this,s--);s<u;s++)if(null!=(e=arguments[s]))for(t in e)r=e[t],\"__proto__\"!==t&&a!==r&&(l&&r&&(ce.isPlainObject(r)||(i=Array.isArray(r)))?(n=a[t],o=i&&!Array.isArray(n)?[]:i||ce.isPlainObject(n)?n:{},i=!1,a[t]=ce.extend(l,o,r)):void 0!==r&&(a[t]=r));return a},ce.extend({expando:\"jQuery\"+(t+Math.random()).replace(/\\D/g,\"\"),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isPlainObject:function(e){var t,n;return!(!e||\"[object Object]\"!==i.call(e))&&(!(t=r(e))||\"function\"==typeof(n=ue.call(t,\"constructor\")&&t.constructor)&&o.call(n)===a)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},globalEval:function(e,t,n){m(e,{nonce:t&&t.nonce},n)},each:function(e,t){var n,r=0;if(c(e)){for(n=e.length;r<n;r++)if(!1===t.call(e[r],r,e[r]))break}else for(r in e)if(!1===t.call(e[r],r,e[r]))break;return e},text:function(e){var t,n=\"\",r=0,i=e.nodeType;if(!i)while(t=e[r++])n+=ce.text(t);return 1===i||11===i?e.textContent:9===i?e.documentElement.textContent:3===i||4===i?e.nodeValue:n},makeArray:function(e,t){var n=t||[];return null!=e&&(c(Object(e))?ce.merge(n,\"string\"==typeof e?[e]:e):s.call(n,e)),n},inArray:function(e,t,n){return null==t?-1:se.call(t,e,n)},isXMLDoc:function(e){var t=e&&e.namespaceURI,n=e&&(e.ownerDocument||e).documentElement;return!l.test(t||n&&n.nodeName||\"HTML\")},merge:function(e,t){for(var n=+t.length,r=0,i=e.length;r<n;r++)e[i++]=t[r];return e.length=i,e},grep:function(e,t,n){for(var r=[],i=0,o=e.length,a=!n;i<o;i++)!t(e[i],i)!==a&&r.push(e[i]);return r},map:function(e,t,n){var r,i,o=0,a=[];if(c(e))for(r=e.length;o<r;o++)null!=(i=t(e[o],o,n))&&a.push(i);else for(o in e)null!=(i=t(e[o],o,n))&&a.push(i);return g(a)},guid:1,support:le}),\"function\"==typeof Symbol&&(ce.fn[Symbol.iterator]=oe[Symbol.iterator]),ce.each(\"Boolean Number String Function Array Date RegExp Object Error Symbol\".split(\" \"),function(e,t){n[\"[object \"+t+\"]\"]=t.toLowerCase()});var pe=oe.pop,de=oe.sort,he=oe.splice,ge=\"[\\\\x20\\\\t\\\\r\\\\n\\\\f]\",ve=new RegExp(\"^\"+ge+\"+|((?:^|[^\\\\\\\\])(?:\\\\\\\\.)*)\"+ge+\"+$\",\"g\");ce.contains=function(e,t){var n=t&&t.parentNode;return e===n||!(!n||1!==n.nodeType||!(e.contains?e.contains(n):e.compareDocumentPosition&&16&e.compareDocumentPosition(n)))};var f=/([\\0-\\x1f\\x7f]|^-?\\d)|^-$|[^\\x80-\\uFFFF\\w-]/g;function p(e,t){return t?\"\\0\"===e?\"\\ufffd\":e.slice(0,-1)+\"\\\\\"+e.charCodeAt(e.length-1).toString(16)+\" \":\"\\\\\"+e}ce.escapeSelector=function(e){return(e+\"\").replace(f,p)};var ye=C,me=s;!function(){var e,b,w,o,a,T,r,C,d,i,k=me,S=ce.expando,E=0,n=0,s=W(),c=W(),u=W(),h=W(),l=function(e,t){return e===t&&(a=!0),0},f=\"checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped\",t=\"(?:\\\\\\\\[\\\\da-fA-F]{1,6}\"+ge+\"?|\\\\\\\\[^\\\\r\\\\n\\\\f]|[\\\\w-]|[^\\0-\\\\x7f])+\",p=\"\\\\[\"+ge+\"*(\"+t+\")(?:\"+ge+\"*([*^$|!~]?=)\"+ge+\"*(?:'((?:\\\\\\\\.|[^\\\\\\\\'])*)'|\\\"((?:\\\\\\\\.|[^\\\\\\\\\\\"])*)\\\"|(\"+t+\"))|)\"+ge+\"*\\\\]\",g=\":(\"+t+\")(?:\\\\((('((?:\\\\\\\\.|[^\\\\\\\\'])*)'|\\\"((?:\\\\\\\\.|[^\\\\\\\\\\\"])*)\\\")|((?:\\\\\\\\.|[^\\\\\\\\()[\\\\]]|\"+p+\")*)|.*)\\\\)|)\",v=new RegExp(ge+\"+\",\"g\"),y=new RegExp(\"^\"+ge+\"*,\"+ge+\"*\"),m=new RegExp(\"^\"+ge+\"*([>+~]|\"+ge+\")\"+ge+\"*\"),x=new RegExp(ge+\"|>\"),j=new RegExp(g),A=new RegExp(\"^\"+t+\"$\"),D={ID:new RegExp(\"^#(\"+t+\")\"),CLASS:new RegExp(\"^\\\\.(\"+t+\")\"),TAG:new RegExp(\"^(\"+t+\"|[*])\"),ATTR:new RegExp(\"^\"+p),PSEUDO:new RegExp(\"^\"+g),CHILD:new RegExp(\"^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\\\(\"+ge+\"*(even|odd|(([+-]|)(\\\\d*)n|)\"+ge+\"*(?:([+-]|)\"+ge+\"*(\\\\d+)|))\"+ge+\"*\\\\)|)\",\"i\"),bool:new RegExp(\"^(?:\"+f+\")$\",\"i\"),needsContext:new RegExp(\"^\"+ge+\"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\\\(\"+ge+\"*((?:-\\\\d)?\\\\d*)\"+ge+\"*\\\\)|)(?=[^-]|$)\",\"i\")},N=/^(?:input|select|textarea|button)$/i,q=/^h\\d$/i,L=/^(?:#([\\w-]+)|(\\w+)|\\.([\\w-]+))$/,H=/[+~]/,O=new RegExp(\"\\\\\\\\[\\\\da-fA-F]{1,6}\"+ge+\"?|\\\\\\\\([^\\\\r\\\\n\\\\f])\",\"g\"),P=function(e,t){var n=\"0x\"+e.slice(1)-65536;return t||(n<0?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320))},M=function(){V()},R=J(function(e){return!0===e.disabled&&fe(e,\"fieldset\")},{dir:\"parentNode\",next:\"legend\"});try{k.apply(oe=ae.call(ye.childNodes),ye.childNodes),oe[ye.childNodes.length].nodeType}catch(e){k={apply:function(e,t){me.apply(e,ae.call(t))},call:function(e){me.apply(e,ae.call(arguments,1))}}}function I(t,e,n,r){var i,o,a,s,u,l,c,f=e&&e.ownerDocument,p=e?e.nodeType:9;if(n=n||[],\"string\"!=typeof t||!t||1!==p&&9!==p&&11!==p)return n;if(!r&&(V(e),e=e||T,C)){if(11!==p&&(u=L.exec(t)))if(i=u[1]){if(9===p){if(!(a=e.getElementById(i)))return n;if(a.id===i)return k.call(n,a),n}else if(f&&(a=f.getElementById(i))&&I.contains(e,a)&&a.id===i)return k.call(n,a),n}else{if(u[2])return k.apply(n,e.getElementsByTagName(t)),n;if((i=u[3])&&e.getElementsByClassName)return k.apply(n,e.getElementsByClassName(i)),n}if(!(h[t+\" \"]||d&&d.test(t))){if(c=t,f=e,1===p&&(x.test(t)||m.test(t))){(f=H.test(t)&&U(e.parentNode)||e)==e&&le.scope||((s=e.getAttribute(\"id\"))?s=ce.escapeSelector(s):e.setAttribute(\"id\",s=S)),o=(l=Y(t)).length;while(o--)l[o]=(s?\"#\"+s:\":scope\")+\" \"+Q(l[o]);c=l.join(\",\")}try{return k.apply(n,f.querySelectorAll(c)),n}catch(e){h(t,!0)}finally{s===S&&e.removeAttribute(\"id\")}}}return re(t.replace(ve,\"$1\"),e,n,r)}function W(){var r=[];return function e(t,n){return r.push(t+\" \")>b.cacheLength&&delete e[r.shift()],e[t+\" \"]=n}}function F(e){return e[S]=!0,e}function $(e){var t=T.createElement(\"fieldset\");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function B(t){return function(e){return fe(e,\"input\")&&e.type===t}}function _(t){return function(e){return(fe(e,\"input\")||fe(e,\"button\"))&&e.type===t}}function z(t){return function(e){return\"form\"in e?e.parentNode&&!1===e.disabled?\"label\"in e?\"label\"in e.parentNode?e.parentNode.disabled===t:e.disabled===t:e.isDisabled===t||e.isDisabled!==!t&&R(e)===t:e.disabled===t:\"label\"in e&&e.disabled===t}}function X(a){return F(function(o){return o=+o,F(function(e,t){var n,r=a([],e.length,o),i=r.length;while(i--)e[n=r[i]]&&(e[n]=!(t[n]=e[n]))})})}function U(e){return e&&\"undefined\"!=typeof e.getElementsByTagName&&e}function V(e){var t,n=e?e.ownerDocument||e:ye;return n!=T&&9===n.nodeType&&n.documentElement&&(r=(T=n).documentElement,C=!ce.isXMLDoc(T),i=r.matches||r.webkitMatchesSelector||r.msMatchesSelector,r.msMatchesSelector&&ye!=T&&(t=T.defaultView)&&t.top!==t&&t.addEventListener(\"unload\",M),le.getById=$(function(e){return r.appendChild(e).id=ce.expando,!T.getElementsByName||!T.getElementsByName(ce.expando).length}),le.disconnectedMatch=$(function(e){return i.call(e,\"*\")}),le.scope=$(function(){return T.querySelectorAll(\":scope\")}),le.cssHas=$(function(){try{return T.querySelector(\":has(*,:jqfake)\"),!1}catch(e){return!0}}),le.getById?(b.filter.ID=function(e){var t=e.replace(O,P);return function(e){return e.getAttribute(\"id\")===t}},b.find.ID=function(e,t){if(\"undefined\"!=typeof t.getElementById&&C){var n=t.getElementById(e);return n?[n]:[]}}):(b.filter.ID=function(e){var n=e.replace(O,P);return function(e){var t=\"undefined\"!=typeof e.getAttributeNode&&e.getAttributeNode(\"id\");return t&&t.value===n}},b.find.ID=function(e,t){if(\"undefined\"!=typeof t.getElementById&&C){var n,r,i,o=t.getElementById(e);if(o){if((n=o.getAttributeNode(\"id\"))&&n.value===e)return[o];i=t.getElementsByName(e),r=0;while(o=i[r++])if((n=o.getAttributeNode(\"id\"))&&n.value===e)return[o]}return[]}}),b.find.TAG=function(e,t){return\"undefined\"!=typeof t.getElementsByTagName?t.getElementsByTagName(e):t.querySelectorAll(e)},b.find.CLASS=function(e,t){if(\"undefined\"!=typeof t.getElementsByClassName&&C)return t.getElementsByClassName(e)},d=[],$(function(e){var t;r.appendChild(e).innerHTML=\"<a id='\"+S+\"' href='' disabled='disabled'></a><select id='\"+S+\"-\\r\\\\' disabled='disabled'><option selected=''></option></select>\",e.querySelectorAll(\"[selected]\").length||d.push(\"\\\\[\"+ge+\"*(?:value|\"+f+\")\"),e.querySelectorAll(\"[id~=\"+S+\"-]\").length||d.push(\"~=\"),e.querySelectorAll(\"a#\"+S+\"+*\").length||d.push(\".#.+[+~]\"),e.querySelectorAll(\":checked\").length||d.push(\":checked\"),(t=T.createElement(\"input\")).setAttribute(\"type\",\"hidden\"),e.appendChild(t).setAttribute(\"name\",\"D\"),r.appendChild(e).disabled=!0,2!==e.querySelectorAll(\":disabled\").length&&d.push(\":enabled\",\":disabled\"),(t=T.createElement(\"input\")).setAttribute(\"name\",\"\"),e.appendChild(t),e.querySelectorAll(\"[name='']\").length||d.push(\"\\\\[\"+ge+\"*name\"+ge+\"*=\"+ge+\"*(?:''|\\\"\\\")\")}),le.cssHas||d.push(\":has\"),d=d.length&&new RegExp(d.join(\"|\")),l=function(e,t){if(e===t)return a=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n||(1&(n=(e.ownerDocument||e)==(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!le.sortDetached&&t.compareDocumentPosition(e)===n?e===T||e.ownerDocument==ye&&I.contains(ye,e)?-1:t===T||t.ownerDocument==ye&&I.contains(ye,t)?1:o?se.call(o,e)-se.call(o,t):0:4&n?-1:1)}),T}for(e in I.matches=function(e,t){return I(e,null,null,t)},I.matchesSelector=function(e,t){if(V(e),C&&!h[t+\" \"]&&(!d||!d.test(t)))try{var n=i.call(e,t);if(n||le.disconnectedMatch||e.document&&11!==e.document.nodeType)return n}catch(e){h(t,!0)}return 0<I(t,T,null,[e]).length},I.contains=function(e,t){return(e.ownerDocument||e)!=T&&V(e),ce.contains(e,t)},I.attr=function(e,t){(e.ownerDocument||e)!=T&&V(e);var n=b.attrHandle[t.toLowerCase()],r=n&&ue.call(b.attrHandle,t.toLowerCase())?n(e,t,!C):void 0;return void 0!==r?r:e.getAttribute(t)},I.error=function(e){throw new Error(\"Syntax error, unrecognized expression: \"+e)},ce.uniqueSort=function(e){var t,n=[],r=0,i=0;if(a=!le.sortStable,o=!le.sortStable&&ae.call(e,0),de.call(e,l),a){while(t=e[i++])t===e[i]&&(r=n.push(i));while(r--)he.call(e,n[r],1)}return o=null,e},ce.fn.uniqueSort=function(){return this.pushStack(ce.uniqueSort(ae.apply(this)))},(b=ce.expr={cacheLength:50,createPseudo:F,match:D,attrHandle:{},find:{},relative:{\">\":{dir:\"parentNode\",first:!0},\" \":{dir:\"parentNode\"},\"+\":{dir:\"previousSibling\",first:!0},\"~\":{dir:\"previousSibling\"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(O,P),e[3]=(e[3]||e[4]||e[5]||\"\").replace(O,P),\"~=\"===e[2]&&(e[3]=\" \"+e[3]+\" \"),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),\"nth\"===e[1].slice(0,3)?(e[3]||I.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*(\"even\"===e[3]||\"odd\"===e[3])),e[5]=+(e[7]+e[8]||\"odd\"===e[3])):e[3]&&I.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return D.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||\"\":n&&j.test(n)&&(t=Y(n,!0))&&(t=n.indexOf(\")\",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(O,P).toLowerCase();return\"*\"===e?function(){return!0}:function(e){return fe(e,t)}},CLASS:function(e){var t=s[e+\" \"];return t||(t=new RegExp(\"(^|\"+ge+\")\"+e+\"(\"+ge+\"|$)\"))&&s(e,function(e){return t.test(\"string\"==typeof e.className&&e.className||\"undefined\"!=typeof e.getAttribute&&e.getAttribute(\"class\")||\"\")})},ATTR:function(n,r,i){return function(e){var t=I.attr(e,n);return null==t?\"!=\"===r:!r||(t+=\"\",\"=\"===r?t===i:\"!=\"===r?t!==i:\"^=\"===r?i&&0===t.indexOf(i):\"*=\"===r?i&&-1<t.indexOf(i):\"$=\"===r?i&&t.slice(-i.length)===i:\"~=\"===r?-1<(\" \"+t.replace(v,\" \")+\" \").indexOf(i):\"|=\"===r&&(t===i||t.slice(0,i.length+1)===i+\"-\"))}},CHILD:function(d,e,t,h,g){var v=\"nth\"!==d.slice(0,3),y=\"last\"!==d.slice(-4),m=\"of-type\"===e;return 1===h&&0===g?function(e){return!!e.parentNode}:function(e,t,n){var r,i,o,a,s,u=v!==y?\"nextSibling\":\"previousSibling\",l=e.parentNode,c=m&&e.nodeName.toLowerCase(),f=!n&&!m,p=!1;if(l){if(v){while(u){o=e;while(o=o[u])if(m?fe(o,c):1===o.nodeType)return!1;s=u=\"only\"===d&&!s&&\"nextSibling\"}return!0}if(s=[y?l.firstChild:l.lastChild],y&&f){p=(a=(r=(i=l[S]||(l[S]={}))[d]||[])[0]===E&&r[1])&&r[2],o=a&&l.childNodes[a];while(o=++a&&o&&o[u]||(p=a=0)||s.pop())if(1===o.nodeType&&++p&&o===e){i[d]=[E,a,p];break}}else if(f&&(p=a=(r=(i=e[S]||(e[S]={}))[d]||[])[0]===E&&r[1]),!1===p)while(o=++a&&o&&o[u]||(p=a=0)||s.pop())if((m?fe(o,c):1===o.nodeType)&&++p&&(f&&((i=o[S]||(o[S]={}))[d]=[E,p]),o===e))break;return(p-=g)===h||p%h==0&&0<=p/h}}},PSEUDO:function(e,o){var t,a=b.pseudos[e]||b.setFilters[e.toLowerCase()]||I.error(\"unsupported pseudo: \"+e);return a[S]?a(o):1<a.length?(t=[e,e,\"\",o],b.setFilters.hasOwnProperty(e.toLowerCase())?F(function(e,t){var n,r=a(e,o),i=r.length;while(i--)e[n=se.call(e,r[i])]=!(t[n]=r[i])}):function(e){return a(e,0,t)}):a}},pseudos:{not:F(function(e){var r=[],i=[],s=ne(e.replace(ve,\"$1\"));return s[S]?F(function(e,t,n,r){var i,o=s(e,null,r,[]),a=e.length;while(a--)(i=o[a])&&(e[a]=!(t[a]=i))}):function(e,t,n){return r[0]=e,s(r,null,n,i),r[0]=null,!i.pop()}}),has:F(function(t){return function(e){return 0<I(t,e).length}}),contains:F(function(t){return t=t.replace(O,P),function(e){return-1<(e.textContent||ce.text(e)).indexOf(t)}}),lang:F(function(n){return A.test(n||\"\")||I.error(\"unsupported lang: \"+n),n=n.replace(O,P).toLowerCase(),function(e){var t;do{if(t=C?e.lang:e.getAttribute(\"xml:lang\")||e.getAttribute(\"lang\"))return(t=t.toLowerCase())===n||0===t.indexOf(n+\"-\")}while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var t=ie.location&&ie.location.hash;return t&&t.slice(1)===e.id},root:function(e){return e===r},focus:function(e){return e===function(){try{return T.activeElement}catch(e){}}()&&T.hasFocus()&&!!(e.type||e.href||~e.tabIndex)},enabled:z(!1),disabled:z(!0),checked:function(e){return fe(e,\"input\")&&!!e.checked||fe(e,\"option\")&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!b.pseudos.empty(e)},header:function(e){return q.test(e.nodeName)},input:function(e){return N.test(e.nodeName)},button:function(e){return fe(e,\"input\")&&\"button\"===e.type||fe(e,\"button\")},text:function(e){var t;return fe(e,\"input\")&&\"text\"===e.type&&(null==(t=e.getAttribute(\"type\"))||\"text\"===t.toLowerCase())},first:X(function(){return[0]}),last:X(function(e,t){return[t-1]}),eq:X(function(e,t,n){return[n<0?n+t:n]}),even:X(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:X(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:X(function(e,t,n){var r;for(r=n<0?n+t:t<n?t:n;0<=--r;)e.push(r);return e}),gt:X(function(e,t,n){for(var r=n<0?n+t:n;++r<t;)e.push(r);return e})}}).pseudos.nth=b.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})b.pseudos[e]=B(e);for(e in{submit:!0,reset:!0})b.pseudos[e]=_(e);function G(){}function Y(e,t){var n,r,i,o,a,s,u,l=c[e+\" \"];if(l)return t?0:l.slice(0);a=e,s=[],u=b.preFilter;while(a){for(o in n&&!(r=y.exec(a))||(r&&(a=a.slice(r[0].length)||a),s.push(i=[])),n=!1,(r=m.exec(a))&&(n=r.shift(),i.push({value:n,type:r[0].replace(ve,\" \")}),a=a.slice(n.length)),b.filter)!(r=D[o].exec(a))||u[o]&&!(r=u[o](r))||(n=r.shift(),i.push({value:n,type:o,matches:r}),a=a.slice(n.length));if(!n)break}return t?a.length:a?I.error(e):c(e,s).slice(0)}function Q(e){for(var t=0,n=e.length,r=\"\";t<n;t++)r+=e[t].value;return r}function J(a,e,t){var s=e.dir,u=e.next,l=u||s,c=t&&\"parentNode\"===l,f=n++;return e.first?function(e,t,n){while(e=e[s])if(1===e.nodeType||c)return a(e,t,n);return!1}:function(e,t,n){var r,i,o=[E,f];if(n){while(e=e[s])if((1===e.nodeType||c)&&a(e,t,n))return!0}else while(e=e[s])if(1===e.nodeType||c)if(i=e[S]||(e[S]={}),u&&fe(e,u))e=e[s]||e;else{if((r=i[l])&&r[0]===E&&r[1]===f)return o[2]=r[2];if((i[l]=o)[2]=a(e,t,n))return!0}return!1}}function K(i){return 1<i.length?function(e,t,n){var r=i.length;while(r--)if(!i[r](e,t,n))return!1;return!0}:i[0]}function Z(e,t,n,r,i){for(var o,a=[],s=0,u=e.length,l=null!=t;s<u;s++)(o=e[s])&&(n&&!n(o,r,i)||(a.push(o),l&&t.push(s)));return a}function ee(d,h,g,v,y,e){return v&&!v[S]&&(v=ee(v)),y&&!y[S]&&(y=ee(y,e)),F(function(e,t,n,r){var i,o,a,s,u=[],l=[],c=t.length,f=e||function(e,t,n){for(var r=0,i=t.length;r<i;r++)I(e,t[r],n);return n}(h||\"*\",n.nodeType?[n]:n,[]),p=!d||!e&&h?f:Z(f,u,d,n,r);if(g?g(p,s=y||(e?d:c||v)?[]:t,n,r):s=p,v){i=Z(s,l),v(i,[],n,r),o=i.length;while(o--)(a=i[o])&&(s[l[o]]=!(p[l[o]]=a))}if(e){if(y||d){if(y){i=[],o=s.length;while(o--)(a=s[o])&&i.push(p[o]=a);y(null,s=[],i,r)}o=s.length;while(o--)(a=s[o])&&-1<(i=y?se.call(e,a):u[o])&&(e[i]=!(t[i]=a))}}else s=Z(s===t?s.splice(c,s.length):s),y?y(null,t,s,r):k.apply(t,s)})}function te(e){for(var i,t,n,r=e.length,o=b.relative[e[0].type],a=o||b.relative[\" \"],s=o?1:0,u=J(function(e){return e===i},a,!0),l=J(function(e){return-1<se.call(i,e)},a,!0),c=[function(e,t,n){var r=!o&&(n||t!=w)||((i=t).nodeType?u(e,t,n):l(e,t,n));return i=null,r}];s<r;s++)if(t=b.relative[e[s].type])c=[J(K(c),t)];else{if((t=b.filter[e[s].type].apply(null,e[s].matches))[S]){for(n=++s;n<r;n++)if(b.relative[e[n].type])break;return ee(1<s&&K(c),1<s&&Q(e.slice(0,s-1).concat({value:\" \"===e[s-2].type?\"*\":\"\"})).replace(ve,\"$1\"),t,s<n&&te(e.slice(s,n)),n<r&&te(e=e.slice(n)),n<r&&Q(e))}c.push(t)}return K(c)}function ne(e,t){var n,v,y,m,x,r,i=[],o=[],a=u[e+\" \"];if(!a){t||(t=Y(e)),n=t.length;while(n--)(a=te(t[n]))[S]?i.push(a):o.push(a);(a=u(e,(v=o,m=0<(y=i).length,x=0<v.length,r=function(e,t,n,r,i){var o,a,s,u=0,l=\"0\",c=e&&[],f=[],p=w,d=e||x&&b.find.TAG(\"*\",i),h=E+=null==p?1:Math.random()||.1,g=d.length;for(i&&(w=t==T||t||i);l!==g&&null!=(o=d[l]);l++){if(x&&o){a=0,t||o.ownerDocument==T||(V(o),n=!C);while(s=v[a++])if(s(o,t||T,n)){k.call(r,o);break}i&&(E=h)}m&&((o=!s&&o)&&u--,e&&c.push(o))}if(u+=l,m&&l!==u){a=0;while(s=y[a++])s(c,f,t,n);if(e){if(0<u)while(l--)c[l]||f[l]||(f[l]=pe.call(r));f=Z(f)}k.apply(r,f),i&&!e&&0<f.length&&1<u+y.length&&ce.uniqueSort(r)}return i&&(E=h,w=p),c},m?F(r):r))).selector=e}return a}function re(e,t,n,r){var i,o,a,s,u,l=\"function\"==typeof e&&e,c=!r&&Y(e=l.selector||e);if(n=n||[],1===c.length){if(2<(o=c[0]=c[0].slice(0)).length&&\"ID\"===(a=o[0]).type&&9===t.nodeType&&C&&b.relative[o[1].type]){if(!(t=(b.find.ID(a.matches[0].replace(O,P),t)||[])[0]))return n;l&&(t=t.parentNode),e=e.slice(o.shift().value.length)}i=D.needsContext.test(e)?0:o.length;while(i--){if(a=o[i],b.relative[s=a.type])break;if((u=b.find[s])&&(r=u(a.matches[0].replace(O,P),H.test(o[0].type)&&U(t.parentNode)||t))){if(o.splice(i,1),!(e=r.length&&Q(o)))return k.apply(n,r),n;break}}}return(l||ne(e,c))(r,t,!C,n,!t||H.test(e)&&U(t.parentNode)||t),n}G.prototype=b.filters=b.pseudos,b.setFilters=new G,le.sortStable=S.split(\"\").sort(l).join(\"\")===S,V(),le.sortDetached=$(function(e){return 1&e.compareDocumentPosition(T.createElement(\"fieldset\"))}),ce.find=I,ce.expr[\":\"]=ce.expr.pseudos,ce.unique=ce.uniqueSort,I.compile=ne,I.select=re,I.setDocument=V,I.tokenize=Y,I.escape=ce.escapeSelector,I.getText=ce.text,I.isXML=ce.isXMLDoc,I.selectors=ce.expr,I.support=ce.support,I.uniqueSort=ce.uniqueSort}();var d=function(e,t,n){var r=[],i=void 0!==n;while((e=e[t])&&9!==e.nodeType)if(1===e.nodeType){if(i&&ce(e).is(n))break;r.push(e)}return r},h=function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n},b=ce.expr.match.needsContext,w=/^<([a-z][^\\/\\0>:\\x20\\t\\r\\n\\f]*)[\\x20\\t\\r\\n\\f]*\\/?>(?:<\\/\\1>|)$/i;function T(e,n,r){return v(n)?ce.grep(e,function(e,t){return!!n.call(e,t,e)!==r}):n.nodeType?ce.grep(e,function(e){return e===n!==r}):\"string\"!=typeof n?ce.grep(e,function(e){return-1<se.call(n,e)!==r}):ce.filter(n,e,r)}ce.filter=function(e,t,n){var r=t[0];return n&&(e=\":not(\"+e+\")\"),1===t.length&&1===r.nodeType?ce.find.matchesSelector(r,e)?[r]:[]:ce.find.matches(e,ce.grep(t,function(e){return 1===e.nodeType}))},ce.fn.extend({find:function(e){var t,n,r=this.length,i=this;if(\"string\"!=typeof e)return this.pushStack(ce(e).filter(function(){for(t=0;t<r;t++)if(ce.contains(i[t],this))return!0}));for(n=this.pushStack([]),t=0;t<r;t++)ce.find(e,i[t],n);return 1<r?ce.uniqueSort(n):n},filter:function(e){return this.pushStack(T(this,e||[],!1))},not:function(e){return this.pushStack(T(this,e||[],!0))},is:function(e){return!!T(this,\"string\"==typeof e&&b.test(e)?ce(e):e||[],!1).length}});var k,S=/^(?:\\s*(<[\\w\\W]+>)[^>]*|#([\\w-]+))$/;(ce.fn.init=function(e,t,n){var r,i;if(!e)return this;if(n=n||k,\"string\"==typeof e){if(!(r=\"<\"===e[0]&&\">\"===e[e.length-1]&&3<=e.length?[null,e,null]:S.exec(e))||!r[1]&&t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(r[1]){if(t=t instanceof ce?t[0]:t,ce.merge(this,ce.parseHTML(r[1],t&&t.nodeType?t.ownerDocument||t:C,!0)),w.test(r[1])&&ce.isPlainObject(t))for(r in t)v(this[r])?this[r](t[r]):this.attr(r,t[r]);return this}return(i=C.getElementById(r[2]))&&(this[0]=i,this.length=1),this}return e.nodeType?(this[0]=e,this.length=1,this):v(e)?void 0!==n.ready?n.ready(e):e(ce):ce.makeArray(e,this)}).prototype=ce.fn,k=ce(C);var E=/^(?:parents|prev(?:Until|All))/,j={children:!0,contents:!0,next:!0,prev:!0};function A(e,t){while((e=e[t])&&1!==e.nodeType);return e}ce.fn.extend({has:function(e){var t=ce(e,this),n=t.length;return this.filter(function(){for(var e=0;e<n;e++)if(ce.contains(this,t[e]))return!0})},closest:function(e,t){var n,r=0,i=this.length,o=[],a=\"string\"!=typeof e&&ce(e);if(!b.test(e))for(;r<i;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(a?-1<a.index(n):1===n.nodeType&&ce.find.matchesSelector(n,e))){o.push(n);break}return this.pushStack(1<o.length?ce.uniqueSort(o):o)},index:function(e){return e?\"string\"==typeof e?se.call(ce(e),this[0]):se.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(ce.uniqueSort(ce.merge(this.get(),ce(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),ce.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return d(e,\"parentNode\")},parentsUntil:function(e,t,n){return d(e,\"parentNode\",n)},next:function(e){return A(e,\"nextSibling\")},prev:function(e){return A(e,\"previousSibling\")},nextAll:function(e){return d(e,\"nextSibling\")},prevAll:function(e){return d(e,\"previousSibling\")},nextUntil:function(e,t,n){return d(e,\"nextSibling\",n)},prevUntil:function(e,t,n){return d(e,\"previousSibling\",n)},siblings:function(e){return h((e.parentNode||{}).firstChild,e)},children:function(e){return h(e.firstChild)},contents:function(e){return null!=e.contentDocument&&r(e.contentDocument)?e.contentDocument:(fe(e,\"template\")&&(e=e.content||e),ce.merge([],e.childNodes))}},function(r,i){ce.fn[r]=function(e,t){var n=ce.map(this,i,e);return\"Until\"!==r.slice(-5)&&(t=e),t&&\"string\"==typeof t&&(n=ce.filter(t,n)),1<this.length&&(j[r]||ce.uniqueSort(n),E.test(r)&&n.reverse()),this.pushStack(n)}});var D=/[^\\x20\\t\\r\\n\\f]+/g;function N(e){return e}function q(e){throw e}function L(e,t,n,r){var i;try{e&&v(i=e.promise)?i.call(e).done(t).fail(n):e&&v(i=e.then)?i.call(e,t,n):t.apply(void 0,[e].slice(r))}catch(e){n.apply(void 0,[e])}}ce.Callbacks=function(r){var e,n;r=\"string\"==typeof r?(e=r,n={},ce.each(e.match(D)||[],function(e,t){n[t]=!0}),n):ce.extend({},r);var i,t,o,a,s=[],u=[],l=-1,c=function(){for(a=a||r.once,o=i=!0;u.length;l=-1){t=u.shift();while(++l<s.length)!1===s[l].apply(t[0],t[1])&&r.stopOnFalse&&(l=s.length,t=!1)}r.memory||(t=!1),i=!1,a&&(s=t?[]:\"\")},f={add:function(){return s&&(t&&!i&&(l=s.length-1,u.push(t)),function n(e){ce.each(e,function(e,t){v(t)?r.unique&&f.has(t)||s.push(t):t&&t.length&&\"string\"!==x(t)&&n(t)})}(arguments),t&&!i&&c()),this},remove:function(){return ce.each(arguments,function(e,t){var n;while(-1<(n=ce.inArray(t,s,n)))s.splice(n,1),n<=l&&l--}),this},has:function(e){return e?-1<ce.inArray(e,s):0<s.length},empty:function(){return s&&(s=[]),this},disable:function(){return a=u=[],s=t=\"\",this},disabled:function(){return!s},lock:function(){return a=u=[],t||i||(s=t=\"\"),this},locked:function(){return!!a},fireWith:function(e,t){return a||(t=[e,(t=t||[]).slice?t.slice():t],u.push(t),i||c()),this},fire:function(){return f.fireWith(this,arguments),this},fired:function(){return!!o}};return f},ce.extend({Deferred:function(e){var o=[[\"notify\",\"progress\",ce.Callbacks(\"memory\"),ce.Callbacks(\"memory\"),2],[\"resolve\",\"done\",ce.Callbacks(\"once memory\"),ce.Callbacks(\"once memory\"),0,\"resolved\"],[\"reject\",\"fail\",ce.Callbacks(\"once memory\"),ce.Callbacks(\"once memory\"),1,\"rejected\"]],i=\"pending\",a={state:function(){return i},always:function(){return s.done(arguments).fail(arguments),this},\"catch\":function(e){return a.then(null,e)},pipe:function(){var i=arguments;return ce.Deferred(function(r){ce.each(o,function(e,t){var n=v(i[t[4]])&&i[t[4]];s[t[1]](function(){var e=n&&n.apply(this,arguments);e&&v(e.promise)?e.promise().progress(r.notify).done(r.resolve).fail(r.reject):r[t[0]+\"With\"](this,n?[e]:arguments)})}),i=null}).promise()},then:function(t,n,r){var u=0;function l(i,o,a,s){return function(){var n=this,r=arguments,e=function(){var e,t;if(!(i<u)){if((e=a.apply(n,r))===o.promise())throw new TypeError(\"Thenable self-resolution\");t=e&&(\"object\"==typeof e||\"function\"==typeof e)&&e.then,v(t)?s?t.call(e,l(u,o,N,s),l(u,o,q,s)):(u++,t.call(e,l(u,o,N,s),l(u,o,q,s),l(u,o,N,o.notifyWith))):(a!==N&&(n=void 0,r=[e]),(s||o.resolveWith)(n,r))}},t=s?e:function(){try{e()}catch(e){ce.Deferred.exceptionHook&&ce.Deferred.exceptionHook(e,t.error),u<=i+1&&(a!==q&&(n=void 0,r=[e]),o.rejectWith(n,r))}};i?t():(ce.Deferred.getErrorHook?t.error=ce.Deferred.getErrorHook():ce.Deferred.getStackHook&&(t.error=ce.Deferred.getStackHook()),ie.setTimeout(t))}}return ce.Deferred(function(e){o[0][3].add(l(0,e,v(r)?r:N,e.notifyWith)),o[1][3].add(l(0,e,v(t)?t:N)),o[2][3].add(l(0,e,v(n)?n:q))}).promise()},promise:function(e){return null!=e?ce.extend(e,a):a}},s={};return ce.each(o,function(e,t){var n=t[2],r=t[5];a[t[1]]=n.add,r&&n.add(function(){i=r},o[3-e][2].disable,o[3-e][3].disable,o[0][2].lock,o[0][3].lock),n.add(t[3].fire),s[t[0]]=function(){return s[t[0]+\"With\"](this===s?void 0:this,arguments),this},s[t[0]+\"With\"]=n.fireWith}),a.promise(s),e&&e.call(s,s),s},when:function(e){var n=arguments.length,t=n,r=Array(t),i=ae.call(arguments),o=ce.Deferred(),a=function(t){return function(e){r[t]=this,i[t]=1<arguments.length?ae.call(arguments):e,--n||o.resolveWith(r,i)}};if(n<=1&&(L(e,o.done(a(t)).resolve,o.reject,!n),\"pending\"===o.state()||v(i[t]&&i[t].then)))return o.then();while(t--)L(i[t],a(t),o.reject);return o.promise()}});var H=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;ce.Deferred.exceptionHook=function(e,t){ie.console&&ie.console.warn&&e&&H.test(e.name)&&ie.console.warn(\"jQuery.Deferred exception: \"+e.message,e.stack,t)},ce.readyException=function(e){ie.setTimeout(function(){throw e})};var O=ce.Deferred();function P(){C.removeEventListener(\"DOMContentLoaded\",P),ie.removeEventListener(\"load\",P),ce.ready()}ce.fn.ready=function(e){return O.then(e)[\"catch\"](function(e){ce.readyException(e)}),this},ce.extend({isReady:!1,readyWait:1,ready:function(e){(!0===e?--ce.readyWait:ce.isReady)||(ce.isReady=!0)!==e&&0<--ce.readyWait||O.resolveWith(C,[ce])}}),ce.ready.then=O.then,\"complete\"===C.readyState||\"loading\"!==C.readyState&&!C.documentElement.doScroll?ie.setTimeout(ce.ready):(C.addEventListener(\"DOMContentLoaded\",P),ie.addEventListener(\"load\",P));var M=function(e,t,n,r,i,o,a){var s=0,u=e.length,l=null==n;if(\"object\"===x(n))for(s in i=!0,n)M(e,t,s,n[s],!0,o,a);else if(void 0!==r&&(i=!0,v(r)||(a=!0),l&&(a?(t.call(e,r),t=null):(l=t,t=function(e,t,n){return l.call(ce(e),n)})),t))for(;s<u;s++)t(e[s],n,a?r:r.call(e[s],s,t(e[s],n)));return i?e:l?t.call(e):u?t(e[0],n):o},R=/^-ms-/,I=/-([a-z])/g;function W(e,t){return t.toUpperCase()}function F(e){return e.replace(R,\"ms-\").replace(I,W)}var $=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};function B(){this.expando=ce.expando+B.uid++}B.uid=1,B.prototype={cache:function(e){var t=e[this.expando];return t||(t={},$(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var r,i=this.cache(e);if(\"string\"==typeof t)i[F(t)]=n;else for(r in t)i[F(r)]=t[r];return i},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][F(t)]},access:function(e,t,n){return void 0===t||t&&\"string\"==typeof t&&void 0===n?this.get(e,t):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,r=e[this.expando];if(void 0!==r){if(void 0!==t){n=(t=Array.isArray(t)?t.map(F):(t=F(t))in r?[t]:t.match(D)||[]).length;while(n--)delete r[t[n]]}(void 0===t||ce.isEmptyObject(r))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!ce.isEmptyObject(t)}};var _=new B,z=new B,X=/^(?:\\{[\\w\\W]*\\}|\\[[\\w\\W]*\\])$/,U=/[A-Z]/g;function V(e,t,n){var r,i;if(void 0===n&&1===e.nodeType)if(r=\"data-\"+t.replace(U,\"-$&\").toLowerCase(),\"string\"==typeof(n=e.getAttribute(r))){try{n=\"true\"===(i=n)||\"false\"!==i&&(\"null\"===i?null:i===+i+\"\"?+i:X.test(i)?JSON.parse(i):i)}catch(e){}z.set(e,t,n)}else n=void 0;return n}ce.extend({hasData:function(e){return z.hasData(e)||_.hasData(e)},data:function(e,t,n){return z.access(e,t,n)},removeData:function(e,t){z.remove(e,t)},_data:function(e,t,n){return _.access(e,t,n)},_removeData:function(e,t){_.remove(e,t)}}),ce.fn.extend({data:function(n,e){var t,r,i,o=this[0],a=o&&o.attributes;if(void 0===n){if(this.length&&(i=z.get(o),1===o.nodeType&&!_.get(o,\"hasDataAttrs\"))){t=a.length;while(t--)a[t]&&0===(r=a[t].name).indexOf(\"data-\")&&(r=F(r.slice(5)),V(o,r,i[r]));_.set(o,\"hasDataAttrs\",!0)}return i}return\"object\"==typeof n?this.each(function(){z.set(this,n)}):M(this,function(e){var t;if(o&&void 0===e)return void 0!==(t=z.get(o,n))?t:void 0!==(t=V(o,n))?t:void 0;this.each(function(){z.set(this,n,e)})},null,e,1<arguments.length,null,!0)},removeData:function(e){return this.each(function(){z.remove(this,e)})}}),ce.extend({queue:function(e,t,n){var r;if(e)return t=(t||\"fx\")+\"queue\",r=_.get(e,t),n&&(!r||Array.isArray(n)?r=_.access(e,t,ce.makeArray(n)):r.push(n)),r||[]},dequeue:function(e,t){t=t||\"fx\";var n=ce.queue(e,t),r=n.length,i=n.shift(),o=ce._queueHooks(e,t);\"inprogress\"===i&&(i=n.shift(),r--),i&&(\"fx\"===t&&n.unshift(\"inprogress\"),delete o.stop,i.call(e,function(){ce.dequeue(e,t)},o)),!r&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+\"queueHooks\";return _.get(e,n)||_.access(e,n,{empty:ce.Callbacks(\"once memory\").add(function(){_.remove(e,[t+\"queue\",n])})})}}),ce.fn.extend({queue:function(t,n){var e=2;return\"string\"!=typeof t&&(n=t,t=\"fx\",e--),arguments.length<e?ce.queue(this[0],t):void 0===n?this:this.each(function(){var e=ce.queue(this,t,n);ce._queueHooks(this,t),\"fx\"===t&&\"inprogress\"!==e[0]&&ce.dequeue(this,t)})},dequeue:function(e){return this.each(function(){ce.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||\"fx\",[])},promise:function(e,t){var n,r=1,i=ce.Deferred(),o=this,a=this.length,s=function(){--r||i.resolveWith(o,[o])};\"string\"!=typeof e&&(t=e,e=void 0),e=e||\"fx\";while(a--)(n=_.get(o[a],e+\"queueHooks\"))&&n.empty&&(r++,n.empty.add(s));return s(),i.promise(t)}});var G=/[+-]?(?:\\d*\\.|)\\d+(?:[eE][+-]?\\d+|)/.source,Y=new RegExp(\"^(?:([+-])=|)(\"+G+\")([a-z%]*)$\",\"i\"),Q=[\"Top\",\"Right\",\"Bottom\",\"Left\"],J=C.documentElement,K=function(e){return ce.contains(e.ownerDocument,e)},Z={composed:!0};J.getRootNode&&(K=function(e){return ce.contains(e.ownerDocument,e)||e.getRootNode(Z)===e.ownerDocument});var ee=function(e,t){return\"none\"===(e=t||e).style.display||\"\"===e.style.display&&K(e)&&\"none\"===ce.css(e,\"display\")};function te(e,t,n,r){var i,o,a=20,s=r?function(){return r.cur()}:function(){return ce.css(e,t,\"\")},u=s(),l=n&&n[3]||(ce.cssNumber[t]?\"\":\"px\"),c=e.nodeType&&(ce.cssNumber[t]||\"px\"!==l&&+u)&&Y.exec(ce.css(e,t));if(c&&c[3]!==l){u/=2,l=l||c[3],c=+u||1;while(a--)ce.style(e,t,c+l),(1-o)*(1-(o=s()/u||.5))<=0&&(a=0),c/=o;c*=2,ce.style(e,t,c+l),n=n||[]}return n&&(c=+c||+u||0,i=n[1]?c+(n[1]+1)*n[2]:+n[2],r&&(r.unit=l,r.start=c,r.end=i)),i}var ne={};function re(e,t){for(var n,r,i,o,a,s,u,l=[],c=0,f=e.length;c<f;c++)(r=e[c]).style&&(n=r.style.display,t?(\"none\"===n&&(l[c]=_.get(r,\"display\")||null,l[c]||(r.style.display=\"\")),\"\"===r.style.display&&ee(r)&&(l[c]=(u=a=o=void 0,a=(i=r).ownerDocument,s=i.nodeName,(u=ne[s])||(o=a.body.appendChild(a.createElement(s)),u=ce.css(o,\"display\"),o.parentNode.removeChild(o),\"none\"===u&&(u=\"block\"),ne[s]=u)))):\"none\"!==n&&(l[c]=\"none\",_.set(r,\"display\",n)));for(c=0;c<f;c++)null!=l[c]&&(e[c].style.display=l[c]);return e}ce.fn.extend({show:function(){return re(this,!0)},hide:function(){return re(this)},toggle:function(e){return\"boolean\"==typeof e?e?this.show():this.hide():this.each(function(){ee(this)?ce(this).show():ce(this).hide()})}});var xe,be,we=/^(?:checkbox|radio)$/i,Te=/<([a-z][^\\/\\0>\\x20\\t\\r\\n\\f]*)/i,Ce=/^$|^module$|\\/(?:java|ecma)script/i;xe=C.createDocumentFragment().appendChild(C.createElement(\"div\")),(be=C.createElement(\"input\")).setAttribute(\"type\",\"radio\"),be.setAttribute(\"checked\",\"checked\"),be.setAttribute(\"name\",\"t\"),xe.appendChild(be),le.checkClone=xe.cloneNode(!0).cloneNode(!0).lastChild.checked,xe.innerHTML=\"<textarea>x</textarea>\",le.noCloneChecked=!!xe.cloneNode(!0).lastChild.defaultValue,xe.innerHTML=\"<option></option>\",le.option=!!xe.lastChild;var ke={thead:[1,\"<table>\",\"</table>\"],col:[2,\"<table><colgroup>\",\"</colgroup></table>\"],tr:[2,\"<table><tbody>\",\"</tbody></table>\"],td:[3,\"<table><tbody><tr>\",\"</tr></tbody></table>\"],_default:[0,\"\",\"\"]};function Se(e,t){var n;return n=\"undefined\"!=typeof e.getElementsByTagName?e.getElementsByTagName(t||\"*\"):\"undefined\"!=typeof e.querySelectorAll?e.querySelectorAll(t||\"*\"):[],void 0===t||t&&fe(e,t)?ce.merge([e],n):n}function Ee(e,t){for(var n=0,r=e.length;n<r;n++)_.set(e[n],\"globalEval\",!t||_.get(t[n],\"globalEval\"))}ke.tbody=ke.tfoot=ke.colgroup=ke.caption=ke.thead,ke.th=ke.td,le.option||(ke.optgroup=ke.option=[1,\"<select multiple='multiple'>\",\"</select>\"]);var je=/<|&#?\\w+;/;function Ae(e,t,n,r,i){for(var o,a,s,u,l,c,f=t.createDocumentFragment(),p=[],d=0,h=e.length;d<h;d++)if((o=e[d])||0===o)if(\"object\"===x(o))ce.merge(p,o.nodeType?[o]:o);else if(je.test(o)){a=a||f.appendChild(t.createElement(\"div\")),s=(Te.exec(o)||[\"\",\"\"])[1].toLowerCase(),u=ke[s]||ke._default,a.innerHTML=u[1]+ce.htmlPrefilter(o)+u[2],c=u[0];while(c--)a=a.lastChild;ce.merge(p,a.childNodes),(a=f.firstChild).textContent=\"\"}else p.push(t.createTextNode(o));f.textContent=\"\",d=0;while(o=p[d++])if(r&&-1<ce.inArray(o,r))i&&i.push(o);else if(l=K(o),a=Se(f.appendChild(o),\"script\"),l&&Ee(a),n){c=0;while(o=a[c++])Ce.test(o.type||\"\")&&n.push(o)}return f}var De=/^([^.]*)(?:\\.(.+)|)/;function Ne(){return!0}function qe(){return!1}function Le(e,t,n,r,i,o){var a,s;if(\"object\"==typeof t){for(s in\"string\"!=typeof n&&(r=r||n,n=void 0),t)Le(e,s,n,r,t[s],o);return e}if(null==r&&null==i?(i=n,r=n=void 0):null==i&&(\"string\"==typeof n?(i=r,r=void 0):(i=r,r=n,n=void 0)),!1===i)i=qe;else if(!i)return e;return 1===o&&(a=i,(i=function(e){return ce().off(e),a.apply(this,arguments)}).guid=a.guid||(a.guid=ce.guid++)),e.each(function(){ce.event.add(this,t,i,r,n)})}function He(e,r,t){t?(_.set(e,r,!1),ce.event.add(e,r,{namespace:!1,handler:function(e){var t,n=_.get(this,r);if(1&e.isTrigger&&this[r]){if(n)(ce.event.special[r]||{}).delegateType&&e.stopPropagation();else if(n=ae.call(arguments),_.set(this,r,n),this[r](),t=_.get(this,r),_.set(this,r,!1),n!==t)return e.stopImmediatePropagation(),e.preventDefault(),t}else n&&(_.set(this,r,ce.event.trigger(n[0],n.slice(1),this)),e.stopPropagation(),e.isImmediatePropagationStopped=Ne)}})):void 0===_.get(e,r)&&ce.event.add(e,r,Ne)}ce.event={global:{},add:function(t,e,n,r,i){var o,a,s,u,l,c,f,p,d,h,g,v=_.get(t);if($(t)){n.handler&&(n=(o=n).handler,i=o.selector),i&&ce.find.matchesSelector(J,i),n.guid||(n.guid=ce.guid++),(u=v.events)||(u=v.events=Object.create(null)),(a=v.handle)||(a=v.handle=function(e){return\"undefined\"!=typeof ce&&ce.event.triggered!==e.type?ce.event.dispatch.apply(t,arguments):void 0}),l=(e=(e||\"\").match(D)||[\"\"]).length;while(l--)d=g=(s=De.exec(e[l])||[])[1],h=(s[2]||\"\").split(\".\").sort(),d&&(f=ce.event.special[d]||{},d=(i?f.delegateType:f.bindType)||d,f=ce.event.special[d]||{},c=ce.extend({type:d,origType:g,data:r,handler:n,guid:n.guid,selector:i,needsContext:i&&ce.expr.match.needsContext.test(i),namespace:h.join(\".\")},o),(p=u[d])||((p=u[d]=[]).delegateCount=0,f.setup&&!1!==f.setup.call(t,r,h,a)||t.addEventListener&&t.addEventListener(d,a)),f.add&&(f.add.call(t,c),c.handler.guid||(c.handler.guid=n.guid)),i?p.splice(p.delegateCount++,0,c):p.push(c),ce.event.global[d]=!0)}},remove:function(e,t,n,r,i){var o,a,s,u,l,c,f,p,d,h,g,v=_.hasData(e)&&_.get(e);if(v&&(u=v.events)){l=(t=(t||\"\").match(D)||[\"\"]).length;while(l--)if(d=g=(s=De.exec(t[l])||[])[1],h=(s[2]||\"\").split(\".\").sort(),d){f=ce.event.special[d]||{},p=u[d=(r?f.delegateType:f.bindType)||d]||[],s=s[2]&&new RegExp(\"(^|\\\\.)\"+h.join(\"\\\\.(?:.*\\\\.|)\")+\"(\\\\.|$)\"),a=o=p.length;while(o--)c=p[o],!i&&g!==c.origType||n&&n.guid!==c.guid||s&&!s.test(c.namespace)||r&&r!==c.selector&&(\"**\"!==r||!c.selector)||(p.splice(o,1),c.selector&&p.delegateCount--,f.remove&&f.remove.call(e,c));a&&!p.length&&(f.teardown&&!1!==f.teardown.call(e,h,v.handle)||ce.removeEvent(e,d,v.handle),delete u[d])}else for(d in u)ce.event.remove(e,d+t[l],n,r,!0);ce.isEmptyObject(u)&&_.remove(e,\"handle events\")}},dispatch:function(e){var t,n,r,i,o,a,s=new Array(arguments.length),u=ce.event.fix(e),l=(_.get(this,\"events\")||Object.create(null))[u.type]||[],c=ce.event.special[u.type]||{};for(s[0]=u,t=1;t<arguments.length;t++)s[t]=arguments[t];if(u.delegateTarget=this,!c.preDispatch||!1!==c.preDispatch.call(this,u)){a=ce.event.handlers.call(this,u,l),t=0;while((i=a[t++])&&!u.isPropagationStopped()){u.currentTarget=i.elem,n=0;while((o=i.handlers[n++])&&!u.isImmediatePropagationStopped())u.rnamespace&&!1!==o.namespace&&!u.rnamespace.test(o.namespace)||(u.handleObj=o,u.data=o.data,void 0!==(r=((ce.event.special[o.origType]||{}).handle||o.handler).apply(i.elem,s))&&!1===(u.result=r)&&(u.preventDefault(),u.stopPropagation()))}return c.postDispatch&&c.postDispatch.call(this,u),u.result}},handlers:function(e,t){var n,r,i,o,a,s=[],u=t.delegateCount,l=e.target;if(u&&l.nodeType&&!(\"click\"===e.type&&1<=e.button))for(;l!==this;l=l.parentNode||this)if(1===l.nodeType&&(\"click\"!==e.type||!0!==l.disabled)){for(o=[],a={},n=0;n<u;n++)void 0===a[i=(r=t[n]).selector+\" \"]&&(a[i]=r.needsContext?-1<ce(i,this).index(l):ce.find(i,this,null,[l]).length),a[i]&&o.push(r);o.length&&s.push({elem:l,handlers:o})}return l=this,u<t.length&&s.push({elem:l,handlers:t.slice(u)}),s},addProp:function(t,e){Object.defineProperty(ce.Event.prototype,t,{enumerable:!0,configurable:!0,get:v(e)?function(){if(this.originalEvent)return e(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[t]},set:function(e){Object.defineProperty(this,t,{enumerable:!0,configurable:!0,writable:!0,value:e})}})},fix:function(e){return e[ce.expando]?e:new ce.Event(e)},special:{load:{noBubble:!0},click:{setup:function(e){var t=this||e;return we.test(t.type)&&t.click&&fe(t,\"input\")&&He(t,\"click\",!0),!1},trigger:function(e){var t=this||e;return we.test(t.type)&&t.click&&fe(t,\"input\")&&He(t,\"click\"),!0},_default:function(e){var t=e.target;return we.test(t.type)&&t.click&&fe(t,\"input\")&&_.get(t,\"click\")||fe(t,\"a\")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},ce.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},ce.Event=function(e,t){if(!(this instanceof ce.Event))return new ce.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?Ne:qe,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&ce.extend(this,t),this.timeStamp=e&&e.timeStamp||Date.now(),this[ce.expando]=!0},ce.Event.prototype={constructor:ce.Event,isDefaultPrevented:qe,isPropagationStopped:qe,isImmediatePropagationStopped:qe,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=Ne,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=Ne,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=Ne,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},ce.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,\"char\":!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},ce.event.addProp),ce.each({focus:\"focusin\",blur:\"focusout\"},function(r,i){function o(e){if(C.documentMode){var t=_.get(this,\"handle\"),n=ce.event.fix(e);n.type=\"focusin\"===e.type?\"focus\":\"blur\",n.isSimulated=!0,t(e),n.target===n.currentTarget&&t(n)}else ce.event.simulate(i,e.target,ce.event.fix(e))}ce.event.special[r]={setup:function(){var e;if(He(this,r,!0),!C.documentMode)return!1;(e=_.get(this,i))||this.addEventListener(i,o),_.set(this,i,(e||0)+1)},trigger:function(){return He(this,r),!0},teardown:function(){var e;if(!C.documentMode)return!1;(e=_.get(this,i)-1)?_.set(this,i,e):(this.removeEventListener(i,o),_.remove(this,i))},_default:function(e){return _.get(e.target,r)},delegateType:i},ce.event.special[i]={setup:function(){var e=this.ownerDocument||this.document||this,t=C.documentMode?this:e,n=_.get(t,i);n||(C.documentMode?this.addEventListener(i,o):e.addEventListener(r,o,!0)),_.set(t,i,(n||0)+1)},teardown:function(){var e=this.ownerDocument||this.document||this,t=C.documentMode?this:e,n=_.get(t,i)-1;n?_.set(t,i,n):(C.documentMode?this.removeEventListener(i,o):e.removeEventListener(r,o,!0),_.remove(t,i))}}}),ce.each({mouseenter:\"mouseover\",mouseleave:\"mouseout\",pointerenter:\"pointerover\",pointerleave:\"pointerout\"},function(e,i){ce.event.special[e]={delegateType:i,bindType:i,handle:function(e){var t,n=e.relatedTarget,r=e.handleObj;return n&&(n===this||ce.contains(this,n))||(e.type=r.origType,t=r.handler.apply(this,arguments),e.type=i),t}}}),ce.fn.extend({on:function(e,t,n,r){return Le(this,e,t,n,r)},one:function(e,t,n,r){return Le(this,e,t,n,r,1)},off:function(e,t,n){var r,i;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,ce(e.delegateTarget).off(r.namespace?r.origType+\".\"+r.namespace:r.origType,r.selector,r.handler),this;if(\"object\"==typeof e){for(i in e)this.off(i,t,e[i]);return this}return!1!==t&&\"function\"!=typeof t||(n=t,t=void 0),!1===n&&(n=qe),this.each(function(){ce.event.remove(this,e,n,t)})}});var Oe=/<script|<style|<link/i,Pe=/checked\\s*(?:[^=]|=\\s*.checked.)/i,Me=/^\\s*<!\\[CDATA\\[|\\]\\]>\\s*$/g;function Re(e,t){return fe(e,\"table\")&&fe(11!==t.nodeType?t:t.firstChild,\"tr\")&&ce(e).children(\"tbody\")[0]||e}function Ie(e){return e.type=(null!==e.getAttribute(\"type\"))+\"/\"+e.type,e}function We(e){return\"true/\"===(e.type||\"\").slice(0,5)?e.type=e.type.slice(5):e.removeAttribute(\"type\"),e}function Fe(e,t){var n,r,i,o,a,s;if(1===t.nodeType){if(_.hasData(e)&&(s=_.get(e).events))for(i in _.remove(t,\"handle events\"),s)for(n=0,r=s[i].length;n<r;n++)ce.event.add(t,i,s[i][n]);z.hasData(e)&&(o=z.access(e),a=ce.extend({},o),z.set(t,a))}}function $e(n,r,i,o){r=g(r);var e,t,a,s,u,l,c=0,f=n.length,p=f-1,d=r[0],h=v(d);if(h||1<f&&\"string\"==typeof d&&!le.checkClone&&Pe.test(d))return n.each(function(e){var t=n.eq(e);h&&(r[0]=d.call(this,e,t.html())),$e(t,r,i,o)});if(f&&(t=(e=Ae(r,n[0].ownerDocument,!1,n,o)).firstChild,1===e.childNodes.length&&(e=t),t||o)){for(s=(a=ce.map(Se(e,\"script\"),Ie)).length;c<f;c++)u=e,c!==p&&(u=ce.clone(u,!0,!0),s&&ce.merge(a,Se(u,\"script\"))),i.call(n[c],u,c);if(s)for(l=a[a.length-1].ownerDocument,ce.map(a,We),c=0;c<s;c++)u=a[c],Ce.test(u.type||\"\")&&!_.access(u,\"globalEval\")&&ce.contains(l,u)&&(u.src&&\"module\"!==(u.type||\"\").toLowerCase()?ce._evalUrl&&!u.noModule&&ce._evalUrl(u.src,{nonce:u.nonce||u.getAttribute(\"nonce\")},l):m(u.textContent.replace(Me,\"\"),u,l))}return n}function Be(e,t,n){for(var r,i=t?ce.filter(t,e):e,o=0;null!=(r=i[o]);o++)n||1!==r.nodeType||ce.cleanData(Se(r)),r.parentNode&&(n&&K(r)&&Ee(Se(r,\"script\")),r.parentNode.removeChild(r));return e}ce.extend({htmlPrefilter:function(e){return e},clone:function(e,t,n){var r,i,o,a,s,u,l,c=e.cloneNode(!0),f=K(e);if(!(le.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||ce.isXMLDoc(e)))for(a=Se(c),r=0,i=(o=Se(e)).length;r<i;r++)s=o[r],u=a[r],void 0,\"input\"===(l=u.nodeName.toLowerCase())&&we.test(s.type)?u.checked=s.checked:\"input\"!==l&&\"textarea\"!==l||(u.defaultValue=s.defaultValue);if(t)if(n)for(o=o||Se(e),a=a||Se(c),r=0,i=o.length;r<i;r++)Fe(o[r],a[r]);else Fe(e,c);return 0<(a=Se(c,\"script\")).length&&Ee(a,!f&&Se(e,\"script\")),c},cleanData:function(e){for(var t,n,r,i=ce.event.special,o=0;void 0!==(n=e[o]);o++)if($(n)){if(t=n[_.expando]){if(t.events)for(r in t.events)i[r]?ce.event.remove(n,r):ce.removeEvent(n,r,t.handle);n[_.expando]=void 0}n[z.expando]&&(n[z.expando]=void 0)}}}),ce.fn.extend({detach:function(e){return Be(this,e,!0)},remove:function(e){return Be(this,e)},text:function(e){return M(this,function(e){return void 0===e?ce.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)})},null,e,arguments.length)},append:function(){return $e(this,arguments,function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||Re(this,e).appendChild(e)})},prepend:function(){return $e(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=Re(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return $e(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return $e(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(ce.cleanData(Se(e,!1)),e.textContent=\"\");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return ce.clone(this,e,t)})},html:function(e){return M(this,function(e){var t=this[0]||{},n=0,r=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if(\"string\"==typeof e&&!Oe.test(e)&&!ke[(Te.exec(e)||[\"\",\"\"])[1].toLowerCase()]){e=ce.htmlPrefilter(e);try{for(;n<r;n++)1===(t=this[n]||{}).nodeType&&(ce.cleanData(Se(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var n=[];return $e(this,arguments,function(e){var t=this.parentNode;ce.inArray(this,n)<0&&(ce.cleanData(Se(this)),t&&t.replaceChild(e,this))},n)}}),ce.each({appendTo:\"append\",prependTo:\"prepend\",insertBefore:\"before\",insertAfter:\"after\",replaceAll:\"replaceWith\"},function(e,a){ce.fn[e]=function(e){for(var t,n=[],r=ce(e),i=r.length-1,o=0;o<=i;o++)t=o===i?this:this.clone(!0),ce(r[o])[a](t),s.apply(n,t.get());return this.pushStack(n)}});var _e=new RegExp(\"^(\"+G+\")(?!px)[a-z%]+$\",\"i\"),ze=/^--/,Xe=function(e){var t=e.ownerDocument.defaultView;return t&&t.opener||(t=ie),t.getComputedStyle(e)},Ue=function(e,t,n){var r,i,o={};for(i in t)o[i]=e.style[i],e.style[i]=t[i];for(i in r=n.call(e),t)e.style[i]=o[i];return r},Ve=new RegExp(Q.join(\"|\"),\"i\");function Ge(e,t,n){var r,i,o,a,s=ze.test(t),u=e.style;return(n=n||Xe(e))&&(a=n.getPropertyValue(t)||n[t],s&&a&&(a=a.replace(ve,\"$1\")||void 0),\"\"!==a||K(e)||(a=ce.style(e,t)),!le.pixelBoxStyles()&&_e.test(a)&&Ve.test(t)&&(r=u.width,i=u.minWidth,o=u.maxWidth,u.minWidth=u.maxWidth=u.width=a,a=n.width,u.width=r,u.minWidth=i,u.maxWidth=o)),void 0!==a?a+\"\":a}function Ye(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments);delete this.get}}}!function(){function e(){if(l){u.style.cssText=\"position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0\",l.style.cssText=\"position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%\",J.appendChild(u).appendChild(l);var e=ie.getComputedStyle(l);n=\"1%\"!==e.top,s=12===t(e.marginLeft),l.style.right=\"60%\",o=36===t(e.right),r=36===t(e.width),l.style.position=\"absolute\",i=12===t(l.offsetWidth/3),J.removeChild(u),l=null}}function t(e){return Math.round(parseFloat(e))}var n,r,i,o,a,s,u=C.createElement(\"div\"),l=C.createElement(\"div\");l.style&&(l.style.backgroundClip=\"content-box\",l.cloneNode(!0).style.backgroundClip=\"\",le.clearCloneStyle=\"content-box\"===l.style.backgroundClip,ce.extend(le,{boxSizingReliable:function(){return e(),r},pixelBoxStyles:function(){return e(),o},pixelPosition:function(){return e(),n},reliableMarginLeft:function(){return e(),s},scrollboxSize:function(){return e(),i},reliableTrDimensions:function(){var e,t,n,r;return null==a&&(e=C.createElement(\"table\"),t=C.createElement(\"tr\"),n=C.createElement(\"div\"),e.style.cssText=\"position:absolute;left:-11111px;border-collapse:separate\",t.style.cssText=\"box-sizing:content-box;border:1px solid\",t.style.height=\"1px\",n.style.height=\"9px\",n.style.display=\"block\",J.appendChild(e).appendChild(t).appendChild(n),r=ie.getComputedStyle(t),a=parseInt(r.height,10)+parseInt(r.borderTopWidth,10)+parseInt(r.borderBottomWidth,10)===t.offsetHeight,J.removeChild(e)),a}}))}();var Qe=[\"Webkit\",\"Moz\",\"ms\"],Je=C.createElement(\"div\").style,Ke={};function Ze(e){var t=ce.cssProps[e]||Ke[e];return t||(e in Je?e:Ke[e]=function(e){var t=e[0].toUpperCase()+e.slice(1),n=Qe.length;while(n--)if((e=Qe[n]+t)in Je)return e}(e)||e)}var et=/^(none|table(?!-c[ea]).+)/,tt={position:\"absolute\",visibility:\"hidden\",display:\"block\"},nt={letterSpacing:\"0\",fontWeight:\"400\"};function rt(e,t,n){var r=Y.exec(t);return r?Math.max(0,r[2]-(n||0))+(r[3]||\"px\"):t}function it(e,t,n,r,i,o){var a=\"width\"===t?1:0,s=0,u=0,l=0;if(n===(r?\"border\":\"content\"))return 0;for(;a<4;a+=2)\"margin\"===n&&(l+=ce.css(e,n+Q[a],!0,i)),r?(\"content\"===n&&(u-=ce.css(e,\"padding\"+Q[a],!0,i)),\"margin\"!==n&&(u-=ce.css(e,\"border\"+Q[a]+\"Width\",!0,i))):(u+=ce.css(e,\"padding\"+Q[a],!0,i),\"padding\"!==n?u+=ce.css(e,\"border\"+Q[a]+\"Width\",!0,i):s+=ce.css(e,\"border\"+Q[a]+\"Width\",!0,i));return!r&&0<=o&&(u+=Math.max(0,Math.ceil(e[\"offset\"+t[0].toUpperCase()+t.slice(1)]-o-u-s-.5))||0),u+l}function ot(e,t,n){var r=Xe(e),i=(!le.boxSizingReliable()||n)&&\"border-box\"===ce.css(e,\"boxSizing\",!1,r),o=i,a=Ge(e,t,r),s=\"offset\"+t[0].toUpperCase()+t.slice(1);if(_e.test(a)){if(!n)return a;a=\"auto\"}return(!le.boxSizingReliable()&&i||!le.reliableTrDimensions()&&fe(e,\"tr\")||\"auto\"===a||!parseFloat(a)&&\"inline\"===ce.css(e,\"display\",!1,r))&&e.getClientRects().length&&(i=\"border-box\"===ce.css(e,\"boxSizing\",!1,r),(o=s in e)&&(a=e[s])),(a=parseFloat(a)||0)+it(e,t,n||(i?\"border\":\"content\"),o,r,a)+\"px\"}function at(e,t,n,r,i){return new at.prototype.init(e,t,n,r,i)}ce.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=Ge(e,\"opacity\");return\"\"===n?\"1\":n}}}},cssNumber:{animationIterationCount:!0,aspectRatio:!0,borderImageSlice:!0,columnCount:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,scale:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeMiterlimit:!0,strokeOpacity:!0},cssProps:{},style:function(e,t,n,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var i,o,a,s=F(t),u=ze.test(t),l=e.style;if(u||(t=Ze(s)),a=ce.cssHooks[t]||ce.cssHooks[s],void 0===n)return a&&\"get\"in a&&void 0!==(i=a.get(e,!1,r))?i:l[t];\"string\"===(o=typeof n)&&(i=Y.exec(n))&&i[1]&&(n=te(e,t,i),o=\"number\"),null!=n&&n==n&&(\"number\"!==o||u||(n+=i&&i[3]||(ce.cssNumber[s]?\"\":\"px\")),le.clearCloneStyle||\"\"!==n||0!==t.indexOf(\"background\")||(l[t]=\"inherit\"),a&&\"set\"in a&&void 0===(n=a.set(e,n,r))||(u?l.setProperty(t,n):l[t]=n))}},css:function(e,t,n,r){var i,o,a,s=F(t);return ze.test(t)||(t=Ze(s)),(a=ce.cssHooks[t]||ce.cssHooks[s])&&\"get\"in a&&(i=a.get(e,!0,n)),void 0===i&&(i=Ge(e,t,r)),\"normal\"===i&&t in nt&&(i=nt[t]),\"\"===n||n?(o=parseFloat(i),!0===n||isFinite(o)?o||0:i):i}}),ce.each([\"height\",\"width\"],function(e,u){ce.cssHooks[u]={get:function(e,t,n){if(t)return!et.test(ce.css(e,\"display\"))||e.getClientRects().length&&e.getBoundingClientRect().width?ot(e,u,n):Ue(e,tt,function(){return ot(e,u,n)})},set:function(e,t,n){var r,i=Xe(e),o=!le.scrollboxSize()&&\"absolute\"===i.position,a=(o||n)&&\"border-box\"===ce.css(e,\"boxSizing\",!1,i),s=n?it(e,u,n,a,i):0;return a&&o&&(s-=Math.ceil(e[\"offset\"+u[0].toUpperCase()+u.slice(1)]-parseFloat(i[u])-it(e,u,\"border\",!1,i)-.5)),s&&(r=Y.exec(t))&&\"px\"!==(r[3]||\"px\")&&(e.style[u]=t,t=ce.css(e,u)),rt(0,t,s)}}}),ce.cssHooks.marginLeft=Ye(le.reliableMarginLeft,function(e,t){if(t)return(parseFloat(Ge(e,\"marginLeft\"))||e.getBoundingClientRect().left-Ue(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}))+\"px\"}),ce.each({margin:\"\",padding:\"\",border:\"Width\"},function(i,o){ce.cssHooks[i+o]={expand:function(e){for(var t=0,n={},r=\"string\"==typeof e?e.split(\" \"):[e];t<4;t++)n[i+Q[t]+o]=r[t]||r[t-2]||r[0];return n}},\"margin\"!==i&&(ce.cssHooks[i+o].set=rt)}),ce.fn.extend({css:function(e,t){return M(this,function(e,t,n){var r,i,o={},a=0;if(Array.isArray(t)){for(r=Xe(e),i=t.length;a<i;a++)o[t[a]]=ce.css(e,t[a],!1,r);return o}return void 0!==n?ce.style(e,t,n):ce.css(e,t)},e,t,1<arguments.length)}}),((ce.Tween=at).prototype={constructor:at,init:function(e,t,n,r,i,o){this.elem=e,this.prop=n,this.easing=i||ce.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=o||(ce.cssNumber[n]?\"\":\"px\")},cur:function(){var e=at.propHooks[this.prop];return e&&e.get?e.get(this):at.propHooks._default.get(this)},run:function(e){var t,n=at.propHooks[this.prop];return this.options.duration?this.pos=t=ce.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):at.propHooks._default.set(this),this}}).init.prototype=at.prototype,(at.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=ce.css(e.elem,e.prop,\"\"))&&\"auto\"!==t?t:0},set:function(e){ce.fx.step[e.prop]?ce.fx.step[e.prop](e):1!==e.elem.nodeType||!ce.cssHooks[e.prop]&&null==e.elem.style[Ze(e.prop)]?e.elem[e.prop]=e.now:ce.style(e.elem,e.prop,e.now+e.unit)}}}).scrollTop=at.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},ce.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:\"swing\"},ce.fx=at.prototype.init,ce.fx.step={};var st,ut,lt,ct,ft=/^(?:toggle|show|hide)$/,pt=/queueHooks$/;function dt(){ut&&(!1===C.hidden&&ie.requestAnimationFrame?ie.requestAnimationFrame(dt):ie.setTimeout(dt,ce.fx.interval),ce.fx.tick())}function ht(){return ie.setTimeout(function(){st=void 0}),st=Date.now()}function gt(e,t){var n,r=0,i={height:e};for(t=t?1:0;r<4;r+=2-t)i[\"margin\"+(n=Q[r])]=i[\"padding\"+n]=e;return t&&(i.opacity=i.width=e),i}function vt(e,t,n){for(var r,i=(yt.tweeners[t]||[]).concat(yt.tweeners[\"*\"]),o=0,a=i.length;o<a;o++)if(r=i[o].call(n,t,e))return r}function yt(o,e,t){var n,a,r=0,i=yt.prefilters.length,s=ce.Deferred().always(function(){delete u.elem}),u=function(){if(a)return!1;for(var e=st||ht(),t=Math.max(0,l.startTime+l.duration-e),n=1-(t/l.duration||0),r=0,i=l.tweens.length;r<i;r++)l.tweens[r].run(n);return s.notifyWith(o,[l,n,t]),n<1&&i?t:(i||s.notifyWith(o,[l,1,0]),s.resolveWith(o,[l]),!1)},l=s.promise({elem:o,props:ce.extend({},e),opts:ce.extend(!0,{specialEasing:{},easing:ce.easing._default},t),originalProperties:e,originalOptions:t,startTime:st||ht(),duration:t.duration,tweens:[],createTween:function(e,t){var n=ce.Tween(o,l.opts,e,t,l.opts.specialEasing[e]||l.opts.easing);return l.tweens.push(n),n},stop:function(e){var t=0,n=e?l.tweens.length:0;if(a)return this;for(a=!0;t<n;t++)l.tweens[t].run(1);return e?(s.notifyWith(o,[l,1,0]),s.resolveWith(o,[l,e])):s.rejectWith(o,[l,e]),this}}),c=l.props;for(!function(e,t){var n,r,i,o,a;for(n in e)if(i=t[r=F(n)],o=e[n],Array.isArray(o)&&(i=o[1],o=e[n]=o[0]),n!==r&&(e[r]=o,delete e[n]),(a=ce.cssHooks[r])&&\"expand\"in a)for(n in o=a.expand(o),delete e[r],o)n in e||(e[n]=o[n],t[n]=i);else t[r]=i}(c,l.opts.specialEasing);r<i;r++)if(n=yt.prefilters[r].call(l,o,c,l.opts))return v(n.stop)&&(ce._queueHooks(l.elem,l.opts.queue).stop=n.stop.bind(n)),n;return ce.map(c,vt,l),v(l.opts.start)&&l.opts.start.call(o,l),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always),ce.fx.timer(ce.extend(u,{elem:o,anim:l,queue:l.opts.queue})),l}ce.Animation=ce.extend(yt,{tweeners:{\"*\":[function(e,t){var n=this.createTween(e,t);return te(n.elem,e,Y.exec(t),n),n}]},tweener:function(e,t){v(e)?(t=e,e=[\"*\"]):e=e.match(D);for(var n,r=0,i=e.length;r<i;r++)n=e[r],yt.tweeners[n]=yt.tweeners[n]||[],yt.tweeners[n].unshift(t)},prefilters:[function(e,t,n){var r,i,o,a,s,u,l,c,f=\"width\"in t||\"height\"in t,p=this,d={},h=e.style,g=e.nodeType&&ee(e),v=_.get(e,\"fxshow\");for(r in n.queue||(null==(a=ce._queueHooks(e,\"fx\")).unqueued&&(a.unqueued=0,s=a.empty.fire,a.empty.fire=function(){a.unqueued||s()}),a.unqueued++,p.always(function(){p.always(function(){a.unqueued--,ce.queue(e,\"fx\").length||a.empty.fire()})})),t)if(i=t[r],ft.test(i)){if(delete t[r],o=o||\"toggle\"===i,i===(g?\"hide\":\"show\")){if(\"show\"!==i||!v||void 0===v[r])continue;g=!0}d[r]=v&&v[r]||ce.style(e,r)}if((u=!ce.isEmptyObject(t))||!ce.isEmptyObject(d))for(r in f&&1===e.nodeType&&(n.overflow=[h.overflow,h.overflowX,h.overflowY],null==(l=v&&v.display)&&(l=_.get(e,\"display\")),\"none\"===(c=ce.css(e,\"display\"))&&(l?c=l:(re([e],!0),l=e.style.display||l,c=ce.css(e,\"display\"),re([e]))),(\"inline\"===c||\"inline-block\"===c&&null!=l)&&\"none\"===ce.css(e,\"float\")&&(u||(p.done(function(){h.display=l}),null==l&&(c=h.display,l=\"none\"===c?\"\":c)),h.display=\"inline-block\")),n.overflow&&(h.overflow=\"hidden\",p.always(function(){h.overflow=n.overflow[0],h.overflowX=n.overflow[1],h.overflowY=n.overflow[2]})),u=!1,d)u||(v?\"hidden\"in v&&(g=v.hidden):v=_.access(e,\"fxshow\",{display:l}),o&&(v.hidden=!g),g&&re([e],!0),p.done(function(){for(r in g||re([e]),_.remove(e,\"fxshow\"),d)ce.style(e,r,d[r])})),u=vt(g?v[r]:0,r,p),r in v||(v[r]=u.start,g&&(u.end=u.start,u.start=0))}],prefilter:function(e,t){t?yt.prefilters.unshift(e):yt.prefilters.push(e)}}),ce.speed=function(e,t,n){var r=e&&\"object\"==typeof e?ce.extend({},e):{complete:n||!n&&t||v(e)&&e,duration:e,easing:n&&t||t&&!v(t)&&t};return ce.fx.off?r.duration=0:\"number\"!=typeof r.duration&&(r.duration in ce.fx.speeds?r.duration=ce.fx.speeds[r.duration]:r.duration=ce.fx.speeds._default),null!=r.queue&&!0!==r.queue||(r.queue=\"fx\"),r.old=r.complete,r.complete=function(){v(r.old)&&r.old.call(this),r.queue&&ce.dequeue(this,r.queue)},r},ce.fn.extend({fadeTo:function(e,t,n,r){return this.filter(ee).css(\"opacity\",0).show().end().animate({opacity:t},e,n,r)},animate:function(t,e,n,r){var i=ce.isEmptyObject(t),o=ce.speed(e,n,r),a=function(){var e=yt(this,ce.extend({},t),o);(i||_.get(this,\"finish\"))&&e.stop(!0)};return a.finish=a,i||!1===o.queue?this.each(a):this.queue(o.queue,a)},stop:function(i,e,o){var a=function(e){var t=e.stop;delete e.stop,t(o)};return\"string\"!=typeof i&&(o=e,e=i,i=void 0),e&&this.queue(i||\"fx\",[]),this.each(function(){var e=!0,t=null!=i&&i+\"queueHooks\",n=ce.timers,r=_.get(this);if(t)r[t]&&r[t].stop&&a(r[t]);else for(t in r)r[t]&&r[t].stop&&pt.test(t)&&a(r[t]);for(t=n.length;t--;)n[t].elem!==this||null!=i&&n[t].queue!==i||(n[t].anim.stop(o),e=!1,n.splice(t,1));!e&&o||ce.dequeue(this,i)})},finish:function(a){return!1!==a&&(a=a||\"fx\"),this.each(function(){var e,t=_.get(this),n=t[a+\"queue\"],r=t[a+\"queueHooks\"],i=ce.timers,o=n?n.length:0;for(t.finish=!0,ce.queue(this,a,[]),r&&r.stop&&r.stop.call(this,!0),e=i.length;e--;)i[e].elem===this&&i[e].queue===a&&(i[e].anim.stop(!0),i.splice(e,1));for(e=0;e<o;e++)n[e]&&n[e].finish&&n[e].finish.call(this);delete t.finish})}}),ce.each([\"toggle\",\"show\",\"hide\"],function(e,r){var i=ce.fn[r];ce.fn[r]=function(e,t,n){return null==e||\"boolean\"==typeof e?i.apply(this,arguments):this.animate(gt(r,!0),e,t,n)}}),ce.each({slideDown:gt(\"show\"),slideUp:gt(\"hide\"),slideToggle:gt(\"toggle\"),fadeIn:{opacity:\"show\"},fadeOut:{opacity:\"hide\"},fadeToggle:{opacity:\"toggle\"}},function(e,r){ce.fn[e]=function(e,t,n){return this.animate(r,e,t,n)}}),ce.timers=[],ce.fx.tick=function(){var e,t=0,n=ce.timers;for(st=Date.now();t<n.length;t++)(e=n[t])()||n[t]!==e||n.splice(t--,1);n.length||ce.fx.stop(),st=void 0},ce.fx.timer=function(e){ce.timers.push(e),ce.fx.start()},ce.fx.interval=13,ce.fx.start=function(){ut||(ut=!0,dt())},ce.fx.stop=function(){ut=null},ce.fx.speeds={slow:600,fast:200,_default:400},ce.fn.delay=function(r,e){return r=ce.fx&&ce.fx.speeds[r]||r,e=e||\"fx\",this.queue(e,function(e,t){var n=ie.setTimeout(e,r);t.stop=function(){ie.clearTimeout(n)}})},lt=C.createElement(\"input\"),ct=C.createElement(\"select\").appendChild(C.createElement(\"option\")),lt.type=\"checkbox\",le.checkOn=\"\"!==lt.value,le.optSelected=ct.selected,(lt=C.createElement(\"input\")).value=\"t\",lt.type=\"radio\",le.radioValue=\"t\"===lt.value;var mt,xt=ce.expr.attrHandle;ce.fn.extend({attr:function(e,t){return M(this,ce.attr,e,t,1<arguments.length)},removeAttr:function(e){return this.each(function(){ce.removeAttr(this,e)})}}),ce.extend({attr:function(e,t,n){var r,i,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return\"undefined\"==typeof e.getAttribute?ce.prop(e,t,n):(1===o&&ce.isXMLDoc(e)||(i=ce.attrHooks[t.toLowerCase()]||(ce.expr.match.bool.test(t)?mt:void 0)),void 0!==n?null===n?void ce.removeAttr(e,t):i&&\"set\"in i&&void 0!==(r=i.set(e,n,t))?r:(e.setAttribute(t,n+\"\"),n):i&&\"get\"in i&&null!==(r=i.get(e,t))?r:null==(r=ce.find.attr(e,t))?void 0:r)},attrHooks:{type:{set:function(e,t){if(!le.radioValue&&\"radio\"===t&&fe(e,\"input\")){var n=e.value;return e.setAttribute(\"type\",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,r=0,i=t&&t.match(D);if(i&&1===e.nodeType)while(n=i[r++])e.removeAttribute(n)}}),mt={set:function(e,t,n){return!1===t?ce.removeAttr(e,n):e.setAttribute(n,n),n}},ce.each(ce.expr.match.bool.source.match(/\\w+/g),function(e,t){var a=xt[t]||ce.find.attr;xt[t]=function(e,t,n){var r,i,o=t.toLowerCase();return n||(i=xt[o],xt[o]=r,r=null!=a(e,t,n)?o:null,xt[o]=i),r}});var bt=/^(?:input|select|textarea|button)$/i,wt=/^(?:a|area)$/i;function Tt(e){return(e.match(D)||[]).join(\" \")}function Ct(e){return e.getAttribute&&e.getAttribute(\"class\")||\"\"}function kt(e){return Array.isArray(e)?e:\"string\"==typeof e&&e.match(D)||[]}ce.fn.extend({prop:function(e,t){return M(this,ce.prop,e,t,1<arguments.length)},removeProp:function(e){return this.each(function(){delete this[ce.propFix[e]||e]})}}),ce.extend({prop:function(e,t,n){var r,i,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&ce.isXMLDoc(e)||(t=ce.propFix[t]||t,i=ce.propHooks[t]),void 0!==n?i&&\"set\"in i&&void 0!==(r=i.set(e,n,t))?r:e[t]=n:i&&\"get\"in i&&null!==(r=i.get(e,t))?r:e[t]},propHooks:{tabIndex:{get:function(e){var t=ce.find.attr(e,\"tabindex\");return t?parseInt(t,10):bt.test(e.nodeName)||wt.test(e.nodeName)&&e.href?0:-1}}},propFix:{\"for\":\"htmlFor\",\"class\":\"className\"}}),le.optSelected||(ce.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),ce.each([\"tabIndex\",\"readOnly\",\"maxLength\",\"cellSpacing\",\"cellPadding\",\"rowSpan\",\"colSpan\",\"useMap\",\"frameBorder\",\"contentEditable\"],function(){ce.propFix[this.toLowerCase()]=this}),ce.fn.extend({addClass:function(t){var e,n,r,i,o,a;return v(t)?this.each(function(e){ce(this).addClass(t.call(this,e,Ct(this)))}):(e=kt(t)).length?this.each(function(){if(r=Ct(this),n=1===this.nodeType&&\" \"+Tt(r)+\" \"){for(o=0;o<e.length;o++)i=e[o],n.indexOf(\" \"+i+\" \")<0&&(n+=i+\" \");a=Tt(n),r!==a&&this.setAttribute(\"class\",a)}}):this},removeClass:function(t){var e,n,r,i,o,a;return v(t)?this.each(function(e){ce(this).removeClass(t.call(this,e,Ct(this)))}):arguments.length?(e=kt(t)).length?this.each(function(){if(r=Ct(this),n=1===this.nodeType&&\" \"+Tt(r)+\" \"){for(o=0;o<e.length;o++){i=e[o];while(-1<n.indexOf(\" \"+i+\" \"))n=n.replace(\" \"+i+\" \",\" \")}a=Tt(n),r!==a&&this.setAttribute(\"class\",a)}}):this:this.attr(\"class\",\"\")},toggleClass:function(t,n){var e,r,i,o,a=typeof t,s=\"string\"===a||Array.isArray(t);return v(t)?this.each(function(e){ce(this).toggleClass(t.call(this,e,Ct(this),n),n)}):\"boolean\"==typeof n&&s?n?this.addClass(t):this.removeClass(t):(e=kt(t),this.each(function(){if(s)for(o=ce(this),i=0;i<e.length;i++)r=e[i],o.hasClass(r)?o.removeClass(r):o.addClass(r);else void 0!==t&&\"boolean\"!==a||((r=Ct(this))&&_.set(this,\"__className__\",r),this.setAttribute&&this.setAttribute(\"class\",r||!1===t?\"\":_.get(this,\"__className__\")||\"\"))}))},hasClass:function(e){var t,n,r=0;t=\" \"+e+\" \";while(n=this[r++])if(1===n.nodeType&&-1<(\" \"+Tt(Ct(n))+\" \").indexOf(t))return!0;return!1}});var St=/\\r/g;ce.fn.extend({val:function(n){var r,e,i,t=this[0];return arguments.length?(i=v(n),this.each(function(e){var t;1===this.nodeType&&(null==(t=i?n.call(this,e,ce(this).val()):n)?t=\"\":\"number\"==typeof t?t+=\"\":Array.isArray(t)&&(t=ce.map(t,function(e){return null==e?\"\":e+\"\"})),(r=ce.valHooks[this.type]||ce.valHooks[this.nodeName.toLowerCase()])&&\"set\"in r&&void 0!==r.set(this,t,\"value\")||(this.value=t))})):t?(r=ce.valHooks[t.type]||ce.valHooks[t.nodeName.toLowerCase()])&&\"get\"in r&&void 0!==(e=r.get(t,\"value\"))?e:\"string\"==typeof(e=t.value)?e.replace(St,\"\"):null==e?\"\":e:void 0}}),ce.extend({valHooks:{option:{get:function(e){var t=ce.find.attr(e,\"value\");return null!=t?t:Tt(ce.text(e))}},select:{get:function(e){var t,n,r,i=e.options,o=e.selectedIndex,a=\"select-one\"===e.type,s=a?null:[],u=a?o+1:i.length;for(r=o<0?u:a?o:0;r<u;r++)if(((n=i[r]).selected||r===o)&&!n.disabled&&(!n.parentNode.disabled||!fe(n.parentNode,\"optgroup\"))){if(t=ce(n).val(),a)return t;s.push(t)}return s},set:function(e,t){var n,r,i=e.options,o=ce.makeArray(t),a=i.length;while(a--)((r=i[a]).selected=-1<ce.inArray(ce.valHooks.option.get(r),o))&&(n=!0);return n||(e.selectedIndex=-1),o}}}}),ce.each([\"radio\",\"checkbox\"],function(){ce.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=-1<ce.inArray(ce(e).val(),t)}},le.checkOn||(ce.valHooks[this].get=function(e){return null===e.getAttribute(\"value\")?\"on\":e.value})});var Et=ie.location,jt={guid:Date.now()},At=/\\?/;ce.parseXML=function(e){var t,n;if(!e||\"string\"!=typeof e)return null;try{t=(new ie.DOMParser).parseFromString(e,\"text/xml\")}catch(e){}return n=t&&t.getElementsByTagName(\"parsererror\")[0],t&&!n||ce.error(\"Invalid XML: \"+(n?ce.map(n.childNodes,function(e){return e.textContent}).join(\"\\n\"):e)),t};var Dt=/^(?:focusinfocus|focusoutblur)$/,Nt=function(e){e.stopPropagation()};ce.extend(ce.event,{trigger:function(e,t,n,r){var i,o,a,s,u,l,c,f,p=[n||C],d=ue.call(e,\"type\")?e.type:e,h=ue.call(e,\"namespace\")?e.namespace.split(\".\"):[];if(o=f=a=n=n||C,3!==n.nodeType&&8!==n.nodeType&&!Dt.test(d+ce.event.triggered)&&(-1<d.indexOf(\".\")&&(d=(h=d.split(\".\")).shift(),h.sort()),u=d.indexOf(\":\")<0&&\"on\"+d,(e=e[ce.expando]?e:new ce.Event(d,\"object\"==typeof e&&e)).isTrigger=r?2:3,e.namespace=h.join(\".\"),e.rnamespace=e.namespace?new RegExp(\"(^|\\\\.)\"+h.join(\"\\\\.(?:.*\\\\.|)\")+\"(\\\\.|$)\"):null,e.result=void 0,e.target||(e.target=n),t=null==t?[e]:ce.makeArray(t,[e]),c=ce.event.special[d]||{},r||!c.trigger||!1!==c.trigger.apply(n,t))){if(!r&&!c.noBubble&&!y(n)){for(s=c.delegateType||d,Dt.test(s+d)||(o=o.parentNode);o;o=o.parentNode)p.push(o),a=o;a===(n.ownerDocument||C)&&p.push(a.defaultView||a.parentWindow||ie)}i=0;while((o=p[i++])&&!e.isPropagationStopped())f=o,e.type=1<i?s:c.bindType||d,(l=(_.get(o,\"events\")||Object.create(null))[e.type]&&_.get(o,\"handle\"))&&l.apply(o,t),(l=u&&o[u])&&l.apply&&$(o)&&(e.result=l.apply(o,t),!1===e.result&&e.preventDefault());return e.type=d,r||e.isDefaultPrevented()||c._default&&!1!==c._default.apply(p.pop(),t)||!$(n)||u&&v(n[d])&&!y(n)&&((a=n[u])&&(n[u]=null),ce.event.triggered=d,e.isPropagationStopped()&&f.addEventListener(d,Nt),n[d](),e.isPropagationStopped()&&f.removeEventListener(d,Nt),ce.event.triggered=void 0,a&&(n[u]=a)),e.result}},simulate:function(e,t,n){var r=ce.extend(new ce.Event,n,{type:e,isSimulated:!0});ce.event.trigger(r,null,t)}}),ce.fn.extend({trigger:function(e,t){return this.each(function(){ce.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];if(n)return ce.event.trigger(e,t,n,!0)}});var qt=/\\[\\]$/,Lt=/\\r?\\n/g,Ht=/^(?:submit|button|image|reset|file)$/i,Ot=/^(?:input|select|textarea|keygen)/i;function Pt(n,e,r,i){var t;if(Array.isArray(e))ce.each(e,function(e,t){r||qt.test(n)?i(n,t):Pt(n+\"[\"+(\"object\"==typeof t&&null!=t?e:\"\")+\"]\",t,r,i)});else if(r||\"object\"!==x(e))i(n,e);else for(t in e)Pt(n+\"[\"+t+\"]\",e[t],r,i)}ce.param=function(e,t){var n,r=[],i=function(e,t){var n=v(t)?t():t;r[r.length]=encodeURIComponent(e)+\"=\"+encodeURIComponent(null==n?\"\":n)};if(null==e)return\"\";if(Array.isArray(e)||e.jquery&&!ce.isPlainObject(e))ce.each(e,function(){i(this.name,this.value)});else for(n in e)Pt(n,e[n],t,i);return r.join(\"&\")},ce.fn.extend({serialize:function(){return ce.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=ce.prop(this,\"elements\");return e?ce.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!ce(this).is(\":disabled\")&&Ot.test(this.nodeName)&&!Ht.test(e)&&(this.checked||!we.test(e))}).map(function(e,t){var n=ce(this).val();return null==n?null:Array.isArray(n)?ce.map(n,function(e){return{name:t.name,value:e.replace(Lt,\"\\r\\n\")}}):{name:t.name,value:n.replace(Lt,\"\\r\\n\")}}).get()}});var Mt=/%20/g,Rt=/#.*$/,It=/([?&])_=[^&]*/,Wt=/^(.*?):[ \\t]*([^\\r\\n]*)$/gm,Ft=/^(?:GET|HEAD)$/,$t=/^\\/\\//,Bt={},_t={},zt=\"*/\".concat(\"*\"),Xt=C.createElement(\"a\");function Ut(o){return function(e,t){\"string\"!=typeof e&&(t=e,e=\"*\");var n,r=0,i=e.toLowerCase().match(D)||[];if(v(t))while(n=i[r++])\"+\"===n[0]?(n=n.slice(1)||\"*\",(o[n]=o[n]||[]).unshift(t)):(o[n]=o[n]||[]).push(t)}}function Vt(t,i,o,a){var s={},u=t===_t;function l(e){var r;return s[e]=!0,ce.each(t[e]||[],function(e,t){var n=t(i,o,a);return\"string\"!=typeof n||u||s[n]?u?!(r=n):void 0:(i.dataTypes.unshift(n),l(n),!1)}),r}return l(i.dataTypes[0])||!s[\"*\"]&&l(\"*\")}function Gt(e,t){var n,r,i=ce.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((i[n]?e:r||(r={}))[n]=t[n]);return r&&ce.extend(!0,e,r),e}Xt.href=Et.href,ce.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Et.href,type:\"GET\",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(Et.protocol),global:!0,processData:!0,async:!0,contentType:\"application/x-www-form-urlencoded; charset=UTF-8\",accepts:{\"*\":zt,text:\"text/plain\",html:\"text/html\",xml:\"application/xml, text/xml\",json:\"application/json, text/javascript\"},contents:{xml:/\\bxml\\b/,html:/\\bhtml/,json:/\\bjson\\b/},responseFields:{xml:\"responseXML\",text:\"responseText\",json:\"responseJSON\"},converters:{\"* text\":String,\"text html\":!0,\"text json\":JSON.parse,\"text xml\":ce.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?Gt(Gt(e,ce.ajaxSettings),t):Gt(ce.ajaxSettings,e)},ajaxPrefilter:Ut(Bt),ajaxTransport:Ut(_t),ajax:function(e,t){\"object\"==typeof e&&(t=e,e=void 0),t=t||{};var c,f,p,n,d,r,h,g,i,o,v=ce.ajaxSetup({},t),y=v.context||v,m=v.context&&(y.nodeType||y.jquery)?ce(y):ce.event,x=ce.Deferred(),b=ce.Callbacks(\"once memory\"),w=v.statusCode||{},a={},s={},u=\"canceled\",T={readyState:0,getResponseHeader:function(e){var t;if(h){if(!n){n={};while(t=Wt.exec(p))n[t[1].toLowerCase()+\" \"]=(n[t[1].toLowerCase()+\" \"]||[]).concat(t[2])}t=n[e.toLowerCase()+\" \"]}return null==t?null:t.join(\", \")},getAllResponseHeaders:function(){return h?p:null},setRequestHeader:function(e,t){return null==h&&(e=s[e.toLowerCase()]=s[e.toLowerCase()]||e,a[e]=t),this},overrideMimeType:function(e){return null==h&&(v.mimeType=e),this},statusCode:function(e){var t;if(e)if(h)T.always(e[T.status]);else for(t in e)w[t]=[w[t],e[t]];return this},abort:function(e){var t=e||u;return c&&c.abort(t),l(0,t),this}};if(x.promise(T),v.url=((e||v.url||Et.href)+\"\").replace($t,Et.protocol+\"//\"),v.type=t.method||t.type||v.method||v.type,v.dataTypes=(v.dataType||\"*\").toLowerCase().match(D)||[\"\"],null==v.crossDomain){r=C.createElement(\"a\");try{r.href=v.url,r.href=r.href,v.crossDomain=Xt.protocol+\"//\"+Xt.host!=r.protocol+\"//\"+r.host}catch(e){v.crossDomain=!0}}if(v.data&&v.processData&&\"string\"!=typeof v.data&&(v.data=ce.param(v.data,v.traditional)),Vt(Bt,v,t,T),h)return T;for(i in(g=ce.event&&v.global)&&0==ce.active++&&ce.event.trigger(\"ajaxStart\"),v.type=v.type.toUpperCase(),v.hasContent=!Ft.test(v.type),f=v.url.replace(Rt,\"\"),v.hasContent?v.data&&v.processData&&0===(v.contentType||\"\").indexOf(\"application/x-www-form-urlencoded\")&&(v.data=v.data.replace(Mt,\"+\")):(o=v.url.slice(f.length),v.data&&(v.processData||\"string\"==typeof v.data)&&(f+=(At.test(f)?\"&\":\"?\")+v.data,delete v.data),!1===v.cache&&(f=f.replace(It,\"$1\"),o=(At.test(f)?\"&\":\"?\")+\"_=\"+jt.guid+++o),v.url=f+o),v.ifModified&&(ce.lastModified[f]&&T.setRequestHeader(\"If-Modified-Since\",ce.lastModified[f]),ce.etag[f]&&T.setRequestHeader(\"If-None-Match\",ce.etag[f])),(v.data&&v.hasContent&&!1!==v.contentType||t.contentType)&&T.setRequestHeader(\"Content-Type\",v.contentType),T.setRequestHeader(\"Accept\",v.dataTypes[0]&&v.accepts[v.dataTypes[0]]?v.accepts[v.dataTypes[0]]+(\"*\"!==v.dataTypes[0]?\", \"+zt+\"; q=0.01\":\"\"):v.accepts[\"*\"]),v.headers)T.setRequestHeader(i,v.headers[i]);if(v.beforeSend&&(!1===v.beforeSend.call(y,T,v)||h))return T.abort();if(u=\"abort\",b.add(v.complete),T.done(v.success),T.fail(v.error),c=Vt(_t,v,t,T)){if(T.readyState=1,g&&m.trigger(\"ajaxSend\",[T,v]),h)return T;v.async&&0<v.timeout&&(d=ie.setTimeout(function(){T.abort(\"timeout\")},v.timeout));try{h=!1,c.send(a,l)}catch(e){if(h)throw e;l(-1,e)}}else l(-1,\"No Transport\");function l(e,t,n,r){var i,o,a,s,u,l=t;h||(h=!0,d&&ie.clearTimeout(d),c=void 0,p=r||\"\",T.readyState=0<e?4:0,i=200<=e&&e<300||304===e,n&&(s=function(e,t,n){var r,i,o,a,s=e.contents,u=e.dataTypes;while(\"*\"===u[0])u.shift(),void 0===r&&(r=e.mimeType||t.getResponseHeader(\"Content-Type\"));if(r)for(i in s)if(s[i]&&s[i].test(r)){u.unshift(i);break}if(u[0]in n)o=u[0];else{for(i in n){if(!u[0]||e.converters[i+\" \"+u[0]]){o=i;break}a||(a=i)}o=o||a}if(o)return o!==u[0]&&u.unshift(o),n[o]}(v,T,n)),!i&&-1<ce.inArray(\"script\",v.dataTypes)&&ce.inArray(\"json\",v.dataTypes)<0&&(v.converters[\"text script\"]=function(){}),s=function(e,t,n,r){var i,o,a,s,u,l={},c=e.dataTypes.slice();if(c[1])for(a in e.converters)l[a.toLowerCase()]=e.converters[a];o=c.shift();while(o)if(e.responseFields[o]&&(n[e.responseFields[o]]=t),!u&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),u=o,o=c.shift())if(\"*\"===o)o=u;else if(\"*\"!==u&&u!==o){if(!(a=l[u+\" \"+o]||l[\"* \"+o]))for(i in l)if((s=i.split(\" \"))[1]===o&&(a=l[u+\" \"+s[0]]||l[\"* \"+s[0]])){!0===a?a=l[i]:!0!==l[i]&&(o=s[0],c.unshift(s[1]));break}if(!0!==a)if(a&&e[\"throws\"])t=a(t);else try{t=a(t)}catch(e){return{state:\"parsererror\",error:a?e:\"No conversion from \"+u+\" to \"+o}}}return{state:\"success\",data:t}}(v,s,T,i),i?(v.ifModified&&((u=T.getResponseHeader(\"Last-Modified\"))&&(ce.lastModified[f]=u),(u=T.getResponseHeader(\"etag\"))&&(ce.etag[f]=u)),204===e||\"HEAD\"===v.type?l=\"nocontent\":304===e?l=\"notmodified\":(l=s.state,o=s.data,i=!(a=s.error))):(a=l,!e&&l||(l=\"error\",e<0&&(e=0))),T.status=e,T.statusText=(t||l)+\"\",i?x.resolveWith(y,[o,l,T]):x.rejectWith(y,[T,l,a]),T.statusCode(w),w=void 0,g&&m.trigger(i?\"ajaxSuccess\":\"ajaxError\",[T,v,i?o:a]),b.fireWith(y,[T,l]),g&&(m.trigger(\"ajaxComplete\",[T,v]),--ce.active||ce.event.trigger(\"ajaxStop\")))}return T},getJSON:function(e,t,n){return ce.get(e,t,n,\"json\")},getScript:function(e,t){return ce.get(e,void 0,t,\"script\")}}),ce.each([\"get\",\"post\"],function(e,i){ce[i]=function(e,t,n,r){return v(t)&&(r=r||n,n=t,t=void 0),ce.ajax(ce.extend({url:e,type:i,dataType:r,data:t,success:n},ce.isPlainObject(e)&&e))}}),ce.ajaxPrefilter(function(e){var t;for(t in e.headers)\"content-type\"===t.toLowerCase()&&(e.contentType=e.headers[t]||\"\")}),ce._evalUrl=function(e,t,n){return ce.ajax({url:e,type:\"GET\",dataType:\"script\",cache:!0,async:!1,global:!1,converters:{\"text script\":function(){}},dataFilter:function(e){ce.globalEval(e,t,n)}})},ce.fn.extend({wrapAll:function(e){var t;return this[0]&&(v(e)&&(e=e.call(this[0])),t=ce(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){var e=this;while(e.firstElementChild)e=e.firstElementChild;return e}).append(this)),this},wrapInner:function(n){return v(n)?this.each(function(e){ce(this).wrapInner(n.call(this,e))}):this.each(function(){var e=ce(this),t=e.contents();t.length?t.wrapAll(n):e.append(n)})},wrap:function(t){var n=v(t);return this.each(function(e){ce(this).wrapAll(n?t.call(this,e):t)})},unwrap:function(e){return this.parent(e).not(\"body\").each(function(){ce(this).replaceWith(this.childNodes)}),this}}),ce.expr.pseudos.hidden=function(e){return!ce.expr.pseudos.visible(e)},ce.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},ce.ajaxSettings.xhr=function(){try{return new ie.XMLHttpRequest}catch(e){}};var Yt={0:200,1223:204},Qt=ce.ajaxSettings.xhr();le.cors=!!Qt&&\"withCredentials\"in Qt,le.ajax=Qt=!!Qt,ce.ajaxTransport(function(i){var o,a;if(le.cors||Qt&&!i.crossDomain)return{send:function(e,t){var n,r=i.xhr();if(r.open(i.type,i.url,i.async,i.username,i.password),i.xhrFields)for(n in i.xhrFields)r[n]=i.xhrFields[n];for(n in i.mimeType&&r.overrideMimeType&&r.overrideMimeType(i.mimeType),i.crossDomain||e[\"X-Requested-With\"]||(e[\"X-Requested-With\"]=\"XMLHttpRequest\"),e)r.setRequestHeader(n,e[n]);o=function(e){return function(){o&&(o=a=r.onload=r.onerror=r.onabort=r.ontimeout=r.onreadystatechange=null,\"abort\"===e?r.abort():\"error\"===e?\"number\"!=typeof r.status?t(0,\"error\"):t(r.status,r.statusText):t(Yt[r.status]||r.status,r.statusText,\"text\"!==(r.responseType||\"text\")||\"string\"!=typeof r.responseText?{binary:r.response}:{text:r.responseText},r.getAllResponseHeaders()))}},r.onload=o(),a=r.onerror=r.ontimeout=o(\"error\"),void 0!==r.onabort?r.onabort=a:r.onreadystatechange=function(){4===r.readyState&&ie.setTimeout(function(){o&&a()})},o=o(\"abort\");try{r.send(i.hasContent&&i.data||null)}catch(e){if(o)throw e}},abort:function(){o&&o()}}}),ce.ajaxPrefilter(function(e){e.crossDomain&&(e.contents.script=!1)}),ce.ajaxSetup({accepts:{script:\"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript\"},contents:{script:/\\b(?:java|ecma)script\\b/},converters:{\"text script\":function(e){return ce.globalEval(e),e}}}),ce.ajaxPrefilter(\"script\",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type=\"GET\")}),ce.ajaxTransport(\"script\",function(n){var r,i;if(n.crossDomain||n.scriptAttrs)return{send:function(e,t){r=ce(\"<script>\").attr(n.scriptAttrs||{}).prop({charset:n.scriptCharset,src:n.url}).on(\"load error\",i=function(e){r.remove(),i=null,e&&t(\"error\"===e.type?404:200,e.type)}),C.head.appendChild(r[0])},abort:function(){i&&i()}}});var Jt,Kt=[],Zt=/(=)\\?(?=&|$)|\\?\\?/;ce.ajaxSetup({jsonp:\"callback\",jsonpCallback:function(){var e=Kt.pop()||ce.expando+\"_\"+jt.guid++;return this[e]=!0,e}}),ce.ajaxPrefilter(\"json jsonp\",function(e,t,n){var r,i,o,a=!1!==e.jsonp&&(Zt.test(e.url)?\"url\":\"string\"==typeof e.data&&0===(e.contentType||\"\").indexOf(\"application/x-www-form-urlencoded\")&&Zt.test(e.data)&&\"data\");if(a||\"jsonp\"===e.dataTypes[0])return r=e.jsonpCallback=v(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,a?e[a]=e[a].replace(Zt,\"$1\"+r):!1!==e.jsonp&&(e.url+=(At.test(e.url)?\"&\":\"?\")+e.jsonp+\"=\"+r),e.converters[\"script json\"]=function(){return o||ce.error(r+\" was not called\"),o[0]},e.dataTypes[0]=\"json\",i=ie[r],ie[r]=function(){o=arguments},n.always(function(){void 0===i?ce(ie).removeProp(r):ie[r]=i,e[r]&&(e.jsonpCallback=t.jsonpCallback,Kt.push(r)),o&&v(i)&&i(o[0]),o=i=void 0}),\"script\"}),le.createHTMLDocument=((Jt=C.implementation.createHTMLDocument(\"\").body).innerHTML=\"<form></form><form></form>\",2===Jt.childNodes.length),ce.parseHTML=function(e,t,n){return\"string\"!=typeof e?[]:(\"boolean\"==typeof t&&(n=t,t=!1),t||(le.createHTMLDocument?((r=(t=C.implementation.createHTMLDocument(\"\")).createElement(\"base\")).href=C.location.href,t.head.appendChild(r)):t=C),o=!n&&[],(i=w.exec(e))?[t.createElement(i[1])]:(i=Ae([e],t,o),o&&o.length&&ce(o).remove(),ce.merge([],i.childNodes)));var r,i,o},ce.fn.load=function(e,t,n){var r,i,o,a=this,s=e.indexOf(\" \");return-1<s&&(r=Tt(e.slice(s)),e=e.slice(0,s)),v(t)?(n=t,t=void 0):t&&\"object\"==typeof t&&(i=\"POST\"),0<a.length&&ce.ajax({url:e,type:i||\"GET\",dataType:\"html\",data:t}).done(function(e){o=arguments,a.html(r?ce(\"<div>\").append(ce.parseHTML(e)).find(r):e)}).always(n&&function(e,t){a.each(function(){n.apply(this,o||[e.responseText,t,e])})}),this},ce.expr.pseudos.animated=function(t){return ce.grep(ce.timers,function(e){return t===e.elem}).length},ce.offset={setOffset:function(e,t,n){var r,i,o,a,s,u,l=ce.css(e,\"position\"),c=ce(e),f={};\"static\"===l&&(e.style.position=\"relative\"),s=c.offset(),o=ce.css(e,\"top\"),u=ce.css(e,\"left\"),(\"absolute\"===l||\"fixed\"===l)&&-1<(o+u).indexOf(\"auto\")?(a=(r=c.position()).top,i=r.left):(a=parseFloat(o)||0,i=parseFloat(u)||0),v(t)&&(t=t.call(e,n,ce.extend({},s))),null!=t.top&&(f.top=t.top-s.top+a),null!=t.left&&(f.left=t.left-s.left+i),\"using\"in t?t.using.call(e,f):c.css(f)}},ce.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each(function(e){ce.offset.setOffset(this,t,e)});var e,n,r=this[0];return r?r.getClientRects().length?(e=r.getBoundingClientRect(),n=r.ownerDocument.defaultView,{top:e.top+n.pageYOffset,left:e.left+n.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var e,t,n,r=this[0],i={top:0,left:0};if(\"fixed\"===ce.css(r,\"position\"))t=r.getBoundingClientRect();else{t=this.offset(),n=r.ownerDocument,e=r.offsetParent||n.documentElement;while(e&&(e===n.body||e===n.documentElement)&&\"static\"===ce.css(e,\"position\"))e=e.parentNode;e&&e!==r&&1===e.nodeType&&((i=ce(e).offset()).top+=ce.css(e,\"borderTopWidth\",!0),i.left+=ce.css(e,\"borderLeftWidth\",!0))}return{top:t.top-i.top-ce.css(r,\"marginTop\",!0),left:t.left-i.left-ce.css(r,\"marginLeft\",!0)}}},offsetParent:function(){return this.map(function(){var e=this.offsetParent;while(e&&\"static\"===ce.css(e,\"position\"))e=e.offsetParent;return e||J})}}),ce.each({scrollLeft:\"pageXOffset\",scrollTop:\"pageYOffset\"},function(t,i){var o=\"pageYOffset\"===i;ce.fn[t]=function(e){return M(this,function(e,t,n){var r;if(y(e)?r=e:9===e.nodeType&&(r=e.defaultView),void 0===n)return r?r[i]:e[t];r?r.scrollTo(o?r.pageXOffset:n,o?n:r.pageYOffset):e[t]=n},t,e,arguments.length)}}),ce.each([\"top\",\"left\"],function(e,n){ce.cssHooks[n]=Ye(le.pixelPosition,function(e,t){if(t)return t=Ge(e,n),_e.test(t)?ce(e).position()[n]+\"px\":t})}),ce.each({Height:\"height\",Width:\"width\"},function(a,s){ce.each({padding:\"inner\"+a,content:s,\"\":\"outer\"+a},function(r,o){ce.fn[o]=function(e,t){var n=arguments.length&&(r||\"boolean\"!=typeof e),i=r||(!0===e||!0===t?\"margin\":\"border\");return M(this,function(e,t,n){var r;return y(e)?0===o.indexOf(\"outer\")?e[\"inner\"+a]:e.document.documentElement[\"client\"+a]:9===e.nodeType?(r=e.documentElement,Math.max(e.body[\"scroll\"+a],r[\"scroll\"+a],e.body[\"offset\"+a],r[\"offset\"+a],r[\"client\"+a])):void 0===n?ce.css(e,t,i):ce.style(e,t,n,i)},s,n?e:void 0,n)}})}),ce.each([\"ajaxStart\",\"ajaxStop\",\"ajaxComplete\",\"ajaxError\",\"ajaxSuccess\",\"ajaxSend\"],function(e,t){ce.fn[t]=function(e){return this.on(t,e)}}),ce.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,\"**\"):this.off(t,e||\"**\",n)},hover:function(e,t){return this.on(\"mouseenter\",e).on(\"mouseleave\",t||e)}}),ce.each(\"blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu\".split(\" \"),function(e,n){ce.fn[n]=function(e,t){return 0<arguments.length?this.on(n,null,e,t):this.trigger(n)}});var en=/^[\\s\\uFEFF\\xA0]+|([^\\s\\uFEFF\\xA0])[\\s\\uFEFF\\xA0]+$/g;ce.proxy=function(e,t){var n,r,i;if(\"string\"==typeof t&&(n=e[t],t=e,e=n),v(e))return r=ae.call(arguments,2),(i=function(){return e.apply(t||this,r.concat(ae.call(arguments)))}).guid=e.guid=e.guid||ce.guid++,i},ce.holdReady=function(e){e?ce.readyWait++:ce.ready(!0)},ce.isArray=Array.isArray,ce.parseJSON=JSON.parse,ce.nodeName=fe,ce.isFunction=v,ce.isWindow=y,ce.camelCase=F,ce.type=x,ce.now=Date.now,ce.isNumeric=function(e){var t=ce.type(e);return(\"number\"===t||\"string\"===t)&&!isNaN(e-parseFloat(e))},ce.trim=function(e){return null==e?\"\":(e+\"\").replace(en,\"$1\")},\"function\"==typeof define&&define.amd&&define(\"jquery\",[],function(){return ce});var tn=ie.jQuery,nn=ie.$;return ce.noConflict=function(e){return ie.$===ce&&(ie.$=nn),e&&ie.jQuery===ce&&(ie.jQuery=tn),ce},\"undefined\"==typeof e&&(ie.jQuery=ie.$=ce),ce});\n","/*!\n * perfect-scrollbar v1.5.3\n * Copyright 2021 Hyunje Jun, MDBootstrap and Contributors\n * Licensed under MIT\n */(function(a,b){\"object\"==typeof exports&&\"undefined\"!=typeof module?module.exports=b():\"function\"==typeof define&&define.amd?define(b):(a=a||self,a.PerfectScrollbar=b())})(this,function(){'use strict';var u=Math.abs,v=Math.floor;function a(a){return getComputedStyle(a)}function b(a,b){for(var c in b){var d=b[c];\"number\"==typeof d&&(d+=\"px\"),a.style[c]=d}return a}function c(a){var b=document.createElement(\"div\");return b.className=a,b}function d(a,b){if(!w)throw new Error(\"No element matching method supported\");return w.call(a,b)}function e(a){a.remove?a.remove():a.parentNode&&a.parentNode.removeChild(a)}function f(a,b){return Array.prototype.filter.call(a.children,function(a){return d(a,b)})}function g(a,b){var c=a.element.classList,d=z.state.scrolling(b);c.contains(d)?clearTimeout(A[b]):c.add(d)}function h(a,b){A[b]=setTimeout(function(){return a.isAlive&&a.element.classList.remove(z.state.scrolling(b))},a.settings.scrollingThreshold)}function j(a,b){g(a,b),h(a,b)}function k(a){if(\"function\"==typeof window.CustomEvent)return new CustomEvent(a);var b=document.createEvent(\"CustomEvent\");return b.initCustomEvent(a,!1,!1,void 0),b}function l(a,b,c,d,e){void 0===d&&(d=!0),void 0===e&&(e=!1);var f;if(\"top\"===b)f=[\"contentHeight\",\"containerHeight\",\"scrollTop\",\"y\",\"up\",\"down\"];else if(\"left\"===b)f=[\"contentWidth\",\"containerWidth\",\"scrollLeft\",\"x\",\"left\",\"right\"];else throw new Error(\"A proper axis should be provided\");m(a,c,f,d,e)}function m(a,b,c,d,e){var f=c[0],g=c[1],h=c[2],i=c[3],l=c[4],m=c[5];void 0===d&&(d=!0),void 0===e&&(e=!1);var n=a.element;// reset reach\na.reach[i]=null,1>n[h]&&(a.reach[i]=\"start\"),n[h]>a[f]-a[g]-1&&(a.reach[i]=\"end\"),b&&(n.dispatchEvent(k(\"ps-scroll-\"+i)),0>b?n.dispatchEvent(k(\"ps-scroll-\"+l)):0<b&&n.dispatchEvent(k(\"ps-scroll-\"+m)),d&&j(a,i)),a.reach[i]&&(b||e)&&n.dispatchEvent(k(\"ps-\"+i+\"-reach-\"+a.reach[i]))}function n(a){return parseInt(a,10)||0}function o(a){return d(a,\"input,[contenteditable]\")||d(a,\"select,[contenteditable]\")||d(a,\"textarea,[contenteditable]\")||d(a,\"button,[contenteditable]\")}function p(b){var c=a(b);return n(c.width)+n(c.paddingLeft)+n(c.paddingRight)+n(c.borderLeftWidth)+n(c.borderRightWidth)}function q(a){var b=Math.round,c=a.element,d=v(c.scrollTop),g=c.getBoundingClientRect();a.containerWidth=b(g.width),a.containerHeight=b(g.height),a.contentWidth=c.scrollWidth,a.contentHeight=c.scrollHeight,c.contains(a.scrollbarXRail)||(f(c,z.element.rail(\"x\")).forEach(function(a){return e(a)}),c.appendChild(a.scrollbarXRail)),c.contains(a.scrollbarYRail)||(f(c,z.element.rail(\"y\")).forEach(function(a){return e(a)}),c.appendChild(a.scrollbarYRail)),!a.settings.suppressScrollX&&a.containerWidth+a.settings.scrollXMarginOffset<a.contentWidth?(a.scrollbarXActive=!0,a.railXWidth=a.containerWidth-a.railXMarginWidth,a.railXRatio=a.containerWidth/a.railXWidth,a.scrollbarXWidth=r(a,n(a.railXWidth*a.containerWidth/a.contentWidth)),a.scrollbarXLeft=n((a.negativeScrollAdjustment+c.scrollLeft)*(a.railXWidth-a.scrollbarXWidth)/(a.contentWidth-a.containerWidth))):a.scrollbarXActive=!1,!a.settings.suppressScrollY&&a.containerHeight+a.settings.scrollYMarginOffset<a.contentHeight?(a.scrollbarYActive=!0,a.railYHeight=a.containerHeight-a.railYMarginHeight,a.railYRatio=a.containerHeight/a.railYHeight,a.scrollbarYHeight=r(a,n(a.railYHeight*a.containerHeight/a.contentHeight)),a.scrollbarYTop=n(d*(a.railYHeight-a.scrollbarYHeight)/(a.contentHeight-a.containerHeight))):a.scrollbarYActive=!1,a.scrollbarXLeft>=a.railXWidth-a.scrollbarXWidth&&(a.scrollbarXLeft=a.railXWidth-a.scrollbarXWidth),a.scrollbarYTop>=a.railYHeight-a.scrollbarYHeight&&(a.scrollbarYTop=a.railYHeight-a.scrollbarYHeight),s(c,a),a.scrollbarXActive?c.classList.add(z.state.active(\"x\")):(c.classList.remove(z.state.active(\"x\")),a.scrollbarXWidth=0,a.scrollbarXLeft=0,c.scrollLeft=!0===a.isRtl?a.contentWidth:0),a.scrollbarYActive?c.classList.add(z.state.active(\"y\")):(c.classList.remove(z.state.active(\"y\")),a.scrollbarYHeight=0,a.scrollbarYTop=0,c.scrollTop=0)}function r(a,b){var c=Math.min,d=Math.max;return a.settings.minScrollbarLength&&(b=d(b,a.settings.minScrollbarLength)),a.settings.maxScrollbarLength&&(b=c(b,a.settings.maxScrollbarLength)),b}function s(a,c){var d={width:c.railXWidth},e=v(a.scrollTop);d.left=c.isRtl?c.negativeScrollAdjustment+a.scrollLeft+c.containerWidth-c.contentWidth:a.scrollLeft,c.isScrollbarXUsingBottom?d.bottom=c.scrollbarXBottom-e:d.top=c.scrollbarXTop+e,b(c.scrollbarXRail,d);var f={top:e,height:c.railYHeight};c.isScrollbarYUsingRight?c.isRtl?f.right=c.contentWidth-(c.negativeScrollAdjustment+a.scrollLeft)-c.scrollbarYRight-c.scrollbarYOuterWidth-9:f.right=c.scrollbarYRight-a.scrollLeft:c.isRtl?f.left=c.negativeScrollAdjustment+a.scrollLeft+2*c.containerWidth-c.contentWidth-c.scrollbarYLeft-c.scrollbarYOuterWidth:f.left=c.scrollbarYLeft+a.scrollLeft,b(c.scrollbarYRail,f),b(c.scrollbarX,{left:c.scrollbarXLeft,width:c.scrollbarXWidth-c.railBorderXWidth}),b(c.scrollbarY,{top:c.scrollbarYTop,height:c.scrollbarYHeight-c.railBorderYWidth})}function t(a,b){function c(b){b.touches&&b.touches[0]&&(b[k]=b.touches[0].pageY),s[o]=t+v*(b[k]-u),g(a,p),q(a),b.stopPropagation(),b.type.startsWith(\"touch\")&&1<b.changedTouches.length&&b.preventDefault()}function d(){h(a,p),a[r].classList.remove(z.state.clicking),a.event.unbind(a.ownerDocument,\"mousemove\",c)}function f(b,e){t=s[o],e&&b.touches&&(b[k]=b.touches[0].pageY),u=b[k],v=(a[j]-a[i])/(a[l]-a[n]),e?a.event.bind(a.ownerDocument,\"touchmove\",c):(a.event.bind(a.ownerDocument,\"mousemove\",c),a.event.once(a.ownerDocument,\"mouseup\",d),b.preventDefault()),a[r].classList.add(z.state.clicking),b.stopPropagation()}var i=b[0],j=b[1],k=b[2],l=b[3],m=b[4],n=b[5],o=b[6],p=b[7],r=b[8],s=a.element,t=null,u=null,v=null;a.event.bind(a[m],\"mousedown\",function(a){f(a)}),a.event.bind(a[m],\"touchstart\",function(a){f(a,!0)})}var w=\"undefined\"!=typeof Element&&(Element.prototype.matches||Element.prototype.webkitMatchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector),z={main:\"ps\",rtl:\"ps__rtl\",element:{thumb:function(a){return\"ps__thumb-\"+a},rail:function(a){return\"ps__rail-\"+a},consuming:\"ps__child--consume\"},state:{focus:\"ps--focus\",clicking:\"ps--clicking\",active:function(a){return\"ps--active-\"+a},scrolling:function(a){return\"ps--scrolling-\"+a}}},A={x:null,y:null},B=function(a){this.element=a,this.handlers={}},C={isEmpty:{configurable:!0}};B.prototype.bind=function(a,b){\"undefined\"==typeof this.handlers[a]&&(this.handlers[a]=[]),this.handlers[a].push(b),this.element.addEventListener(a,b,!1)},B.prototype.unbind=function(a,b){var c=this;this.handlers[a]=this.handlers[a].filter(function(d){return!!(b&&d!==b)||(c.element.removeEventListener(a,d,!1),!1)})},B.prototype.unbindAll=function(){for(var a in this.handlers)this.unbind(a)},C.isEmpty.get=function(){var a=this;return Object.keys(this.handlers).every(function(b){return 0===a.handlers[b].length})},Object.defineProperties(B.prototype,C);var D=function(){this.eventElements=[]};D.prototype.eventElement=function(a){var b=this.eventElements.filter(function(b){return b.element===a})[0];return b||(b=new B(a),this.eventElements.push(b)),b},D.prototype.bind=function(a,b,c){this.eventElement(a).bind(b,c)},D.prototype.unbind=function(a,b,c){var d=this.eventElement(a);d.unbind(b,c),d.isEmpty&&this.eventElements.splice(this.eventElements.indexOf(d),1)},D.prototype.unbindAll=function(){this.eventElements.forEach(function(a){return a.unbindAll()}),this.eventElements=[]},D.prototype.once=function(a,b,c){var d=this.eventElement(a),e=function(a){d.unbind(b,e),c(a)};d.bind(b,e)};var E={isWebKit:\"undefined\"!=typeof document&&\"WebkitAppearance\"in document.documentElement.style,supportsTouch:\"undefined\"!=typeof window&&(\"ontouchstart\"in window||\"maxTouchPoints\"in window.navigator&&0<window.navigator.maxTouchPoints||window.DocumentTouch&&document instanceof window.DocumentTouch),supportsIePointer:\"undefined\"!=typeof navigator&&navigator.msMaxTouchPoints,isChrome:\"undefined\"!=typeof navigator&&/Chrome/i.test(navigator&&navigator.userAgent)},F=function(){return{handlers:[\"click-rail\",\"drag-thumb\",\"keyboard\",\"wheel\",\"touch\"],maxScrollbarLength:null,minScrollbarLength:null,scrollingThreshold:1e3,scrollXMarginOffset:0,scrollYMarginOffset:0,suppressScrollX:!1,suppressScrollY:!1,swipeEasing:!0,useBothWheelAxes:!1,wheelPropagation:!0,wheelSpeed:1}},G={\"click-rail\":function(a){a.element;a.event.bind(a.scrollbarY,\"mousedown\",function(a){return a.stopPropagation()}),a.event.bind(a.scrollbarYRail,\"mousedown\",function(b){var c=b.pageY-window.pageYOffset-a.scrollbarYRail.getBoundingClientRect().top,d=c>a.scrollbarYTop?1:-1;a.element.scrollTop+=d*a.containerHeight,q(a),b.stopPropagation()}),a.event.bind(a.scrollbarX,\"mousedown\",function(a){return a.stopPropagation()}),a.event.bind(a.scrollbarXRail,\"mousedown\",function(b){var c=b.pageX-window.pageXOffset-a.scrollbarXRail.getBoundingClientRect().left,d=c>a.scrollbarXLeft?1:-1;a.element.scrollLeft+=d*a.containerWidth,q(a),b.stopPropagation()})},\"drag-thumb\":function(a){t(a,[\"containerWidth\",\"contentWidth\",\"pageX\",\"railXWidth\",\"scrollbarX\",\"scrollbarXWidth\",\"scrollLeft\",\"x\",\"scrollbarXRail\"]),t(a,[\"containerHeight\",\"contentHeight\",\"pageY\",\"railYHeight\",\"scrollbarY\",\"scrollbarYHeight\",\"scrollTop\",\"y\",\"scrollbarYRail\"])},keyboard:function(a){function b(b,d){var e=v(c.scrollTop);if(0===b){if(!a.scrollbarYActive)return!1;if(0===e&&0<d||e>=a.contentHeight-a.containerHeight&&0>d)return!a.settings.wheelPropagation}var f=c.scrollLeft;if(0===d){if(!a.scrollbarXActive)return!1;if(0===f&&0>b||f>=a.contentWidth-a.containerWidth&&0<b)return!a.settings.wheelPropagation}return!0}var c=a.element,f=function(){return d(c,\":hover\")},g=function(){return d(a.scrollbarX,\":focus\")||d(a.scrollbarY,\":focus\")};a.event.bind(a.ownerDocument,\"keydown\",function(d){if(!(d.isDefaultPrevented&&d.isDefaultPrevented()||d.defaultPrevented)&&(f()||g())){var e=document.activeElement?document.activeElement:a.ownerDocument.activeElement;if(e){if(\"IFRAME\"===e.tagName)e=e.contentDocument.activeElement;else// go deeper if element is a webcomponent\nfor(;e.shadowRoot;)e=e.shadowRoot.activeElement;if(o(e))return}var h=0,i=0;switch(d.which){case 37:h=d.metaKey?-a.contentWidth:d.altKey?-a.containerWidth:-30;break;case 38:i=d.metaKey?a.contentHeight:d.altKey?a.containerHeight:30;break;case 39:h=d.metaKey?a.contentWidth:d.altKey?a.containerWidth:30;break;case 40:i=d.metaKey?-a.contentHeight:d.altKey?-a.containerHeight:-30;break;case 32:i=d.shiftKey?a.containerHeight:-a.containerHeight;break;case 33:i=a.containerHeight;break;case 34:i=-a.containerHeight;break;case 36:i=a.contentHeight;break;case 35:i=-a.contentHeight;break;default:return;}a.settings.suppressScrollX&&0!==h||a.settings.suppressScrollY&&0!==i||(c.scrollTop-=i,c.scrollLeft+=h,q(a),b(h,i)&&d.preventDefault())}})},wheel:function(b){function c(a,c){var d,e=v(h.scrollTop),f=0===h.scrollTop,g=e+h.offsetHeight===h.scrollHeight,i=0===h.scrollLeft,j=h.scrollLeft+h.offsetWidth===h.scrollWidth;return d=u(c)>u(a)?f||g:i||j,!d||!b.settings.wheelPropagation}function d(a){var b=a.deltaX,c=-1*a.deltaY;return(\"undefined\"==typeof b||\"undefined\"==typeof c)&&(b=-1*a.wheelDeltaX/6,c=a.wheelDeltaY/6),a.deltaMode&&1===a.deltaMode&&(b*=10,c*=10),b!==b&&c!==c/* NaN checks */&&(b=0,c=a.wheelDelta),a.shiftKey?[-c,-b]:[b,c]}function f(b,c,d){// FIXME: this is a workaround for <select> issue in FF and IE #571\nif(!E.isWebKit&&h.querySelector(\"select:focus\"))return!0;if(!h.contains(b))return!1;for(var e=b;e&&e!==h;){if(e.classList.contains(z.element.consuming))return!0;var f=a(e);// if deltaY && vertical scrollable\nif(d&&f.overflowY.match(/(scroll|auto)/)){var g=e.scrollHeight-e.clientHeight;if(0<g&&(0<e.scrollTop&&0>d||e.scrollTop<g&&0<d))return!0}// if deltaX && horizontal scrollable\nif(c&&f.overflowX.match(/(scroll|auto)/)){var i=e.scrollWidth-e.clientWidth;if(0<i&&(0<e.scrollLeft&&0>c||e.scrollLeft<i&&0<c))return!0}e=e.parentNode}return!1}function g(a){var e=d(a),g=e[0],i=e[1];if(!f(a.target,g,i)){var j=!1;b.settings.useBothWheelAxes?b.scrollbarYActive&&!b.scrollbarXActive?(i?h.scrollTop-=i*b.settings.wheelSpeed:h.scrollTop+=g*b.settings.wheelSpeed,j=!0):b.scrollbarXActive&&!b.scrollbarYActive&&(g?h.scrollLeft+=g*b.settings.wheelSpeed:h.scrollLeft-=i*b.settings.wheelSpeed,j=!0):(h.scrollTop-=i*b.settings.wheelSpeed,h.scrollLeft+=g*b.settings.wheelSpeed),q(b),j=j||c(g,i),j&&!a.ctrlKey&&(a.stopPropagation(),a.preventDefault())}}var h=b.element;\"undefined\"==typeof window.onwheel?\"undefined\"!=typeof window.onmousewheel&&b.event.bind(h,\"mousewheel\",g):b.event.bind(h,\"wheel\",g)},touch:function(b){function c(a,c){var d=v(l.scrollTop),e=l.scrollLeft,f=u(a),g=u(c);if(g>f){// user is perhaps trying to swipe up/down the page\nif(0>c&&d===b.contentHeight-b.containerHeight||0<c&&0===d)// set prevent for mobile Chrome refresh\nreturn 0===window.scrollY&&0<c&&E.isChrome;}else if(f>g&&(0>a&&e===b.contentWidth-b.containerWidth||0<a&&0===e))// user is perhaps trying to swipe left/right across the page\nreturn!0;return!0}function d(a,c){l.scrollTop-=c,l.scrollLeft-=a,q(b)}function f(a){return a.targetTouches?a.targetTouches[0]:a}function g(a){return!(a.pointerType&&\"pen\"===a.pointerType&&0===a.buttons)&&(!!(a.targetTouches&&1===a.targetTouches.length)||!!(a.pointerType&&\"mouse\"!==a.pointerType&&a.pointerType!==a.MSPOINTER_TYPE_MOUSE))}function h(a){if(g(a)){var b=f(a);m.pageX=b.pageX,m.pageY=b.pageY,n=new Date().getTime(),null!==p&&clearInterval(p)}}function i(b,c,d){if(!l.contains(b))return!1;for(var e=b;e&&e!==l;){if(e.classList.contains(z.element.consuming))return!0;var f=a(e);// if deltaY && vertical scrollable\nif(d&&f.overflowY.match(/(scroll|auto)/)){var g=e.scrollHeight-e.clientHeight;if(0<g&&(0<e.scrollTop&&0>d||e.scrollTop<g&&0<d))return!0}// if deltaX && horizontal scrollable\nif(c&&f.overflowX.match(/(scroll|auto)/)){var h=e.scrollWidth-e.clientWidth;if(0<h&&(0<e.scrollLeft&&0>c||e.scrollLeft<h&&0<c))return!0}e=e.parentNode}return!1}function j(a){if(g(a)){var b=f(a),e={pageX:b.pageX,pageY:b.pageY},h=e.pageX-m.pageX,j=e.pageY-m.pageY;if(i(a.target,h,j))return;d(h,j),m=e;var k=new Date().getTime(),l=k-n;0<l&&(o.x=h/l,o.y=j/l,n=k),c(h,j)&&a.preventDefault()}}function k(){b.settings.swipeEasing&&(clearInterval(p),p=setInterval(function(){return b.isInitialized?void clearInterval(p):o.x||o.y?.01>u(o.x)&&.01>u(o.y)?void clearInterval(p):b.element?void(d(30*o.x,30*o.y),o.x*=.8,o.y*=.8):void clearInterval(p):void clearInterval(p)},10))}if(E.supportsTouch||E.supportsIePointer){var l=b.element,m={},n=0,o={},p=null;E.supportsTouch?(b.event.bind(l,\"touchstart\",h),b.event.bind(l,\"touchmove\",j),b.event.bind(l,\"touchend\",k)):E.supportsIePointer&&(window.PointerEvent?(b.event.bind(l,\"pointerdown\",h),b.event.bind(l,\"pointermove\",j),b.event.bind(l,\"pointerup\",k)):window.MSPointerEvent&&(b.event.bind(l,\"MSPointerDown\",h),b.event.bind(l,\"MSPointerMove\",j),b.event.bind(l,\"MSPointerUp\",k)))}}},H=function(d,e){var f=this;if(void 0===e&&(e={}),\"string\"==typeof d&&(d=document.querySelector(d)),!d||!d.nodeName)throw new Error(\"no element is specified to initialize PerfectScrollbar\");for(var g in this.element=d,d.classList.add(z.main),this.settings=F(),e)this.settings[g]=e[g];this.containerWidth=null,this.containerHeight=null,this.contentWidth=null,this.contentHeight=null;var h=function(){return d.classList.add(z.state.focus)},i=function(){return d.classList.remove(z.state.focus)};this.isRtl=\"rtl\"===a(d).direction,!0===this.isRtl&&d.classList.add(z.rtl),this.isNegativeScroll=function(){var a=d.scrollLeft,b=null;return d.scrollLeft=-1,b=0>d.scrollLeft,d.scrollLeft=a,b}(),this.negativeScrollAdjustment=this.isNegativeScroll?d.scrollWidth-d.clientWidth:0,this.event=new D,this.ownerDocument=d.ownerDocument||document,this.scrollbarXRail=c(z.element.rail(\"x\")),d.appendChild(this.scrollbarXRail),this.scrollbarX=c(z.element.thumb(\"x\")),this.scrollbarXRail.appendChild(this.scrollbarX),this.scrollbarX.setAttribute(\"tabindex\",0),this.event.bind(this.scrollbarX,\"focus\",h),this.event.bind(this.scrollbarX,\"blur\",i),this.scrollbarXActive=null,this.scrollbarXWidth=null,this.scrollbarXLeft=null;var j=a(this.scrollbarXRail);this.scrollbarXBottom=parseInt(j.bottom,10),isNaN(this.scrollbarXBottom)?(this.isScrollbarXUsingBottom=!1,this.scrollbarXTop=n(j.top)):this.isScrollbarXUsingBottom=!0,this.railBorderXWidth=n(j.borderLeftWidth)+n(j.borderRightWidth),b(this.scrollbarXRail,{display:\"block\"}),this.railXMarginWidth=n(j.marginLeft)+n(j.marginRight),b(this.scrollbarXRail,{display:\"\"}),this.railXWidth=null,this.railXRatio=null,this.scrollbarYRail=c(z.element.rail(\"y\")),d.appendChild(this.scrollbarYRail),this.scrollbarY=c(z.element.thumb(\"y\")),this.scrollbarYRail.appendChild(this.scrollbarY),this.scrollbarY.setAttribute(\"tabindex\",0),this.event.bind(this.scrollbarY,\"focus\",h),this.event.bind(this.scrollbarY,\"blur\",i),this.scrollbarYActive=null,this.scrollbarYHeight=null,this.scrollbarYTop=null;var k=a(this.scrollbarYRail);this.scrollbarYRight=parseInt(k.right,10),isNaN(this.scrollbarYRight)?(this.isScrollbarYUsingRight=!1,this.scrollbarYLeft=n(k.left)):this.isScrollbarYUsingRight=!0,this.scrollbarYOuterWidth=this.isRtl?p(this.scrollbarY):null,this.railBorderYWidth=n(k.borderTopWidth)+n(k.borderBottomWidth),b(this.scrollbarYRail,{display:\"block\"}),this.railYMarginHeight=n(k.marginTop)+n(k.marginBottom),b(this.scrollbarYRail,{display:\"\"}),this.railYHeight=null,this.railYRatio=null,this.reach={x:0>=d.scrollLeft?\"start\":d.scrollLeft>=this.contentWidth-this.containerWidth?\"end\":null,y:0>=d.scrollTop?\"start\":d.scrollTop>=this.contentHeight-this.containerHeight?\"end\":null},this.isAlive=!0,this.settings.handlers.forEach(function(a){return G[a](f)}),this.lastScrollTop=v(d.scrollTop),this.lastScrollLeft=d.scrollLeft,this.event.bind(this.element,\"scroll\",function(a){return f.onScroll(a)}),q(this)};return H.prototype.update=function(){this.isAlive&&(// Recalcuate negative scrollLeft adjustment\n// Recalculate rail margins\n// Hide scrollbars not to affect scrollWidth and scrollHeight\nthis.negativeScrollAdjustment=this.isNegativeScroll?this.element.scrollWidth-this.element.clientWidth:0,b(this.scrollbarXRail,{display:\"block\"}),b(this.scrollbarYRail,{display:\"block\"}),this.railXMarginWidth=n(a(this.scrollbarXRail).marginLeft)+n(a(this.scrollbarXRail).marginRight),this.railYMarginHeight=n(a(this.scrollbarYRail).marginTop)+n(a(this.scrollbarYRail).marginBottom),b(this.scrollbarXRail,{display:\"none\"}),b(this.scrollbarYRail,{display:\"none\"}),q(this),l(this,\"top\",0,!1,!0),l(this,\"left\",0,!1,!0),b(this.scrollbarXRail,{display:\"\"}),b(this.scrollbarYRail,{display:\"\"}))},H.prototype.onScroll=function(){this.isAlive&&(q(this),l(this,\"top\",this.element.scrollTop-this.lastScrollTop),l(this,\"left\",this.element.scrollLeft-this.lastScrollLeft),this.lastScrollTop=v(this.element.scrollTop),this.lastScrollLeft=this.element.scrollLeft)},H.prototype.destroy=function(){this.isAlive&&(// unset elements\nthis.event.unbindAll(),e(this.scrollbarX),e(this.scrollbarY),e(this.scrollbarXRail),e(this.scrollbarYRail),this.removePsClasses(),this.element=null,this.scrollbarX=null,this.scrollbarY=null,this.scrollbarXRail=null,this.scrollbarYRail=null,this.isAlive=!1)},H.prototype.removePsClasses=function(){this.element.className=this.element.className.split(\" \").filter(function(a){return!a.match(/^ps([-_].+|)$/)}).join(\" \")},H});\n//# sourceMappingURL=perfect-scrollbar.min.js.map\n","/**\n * @popperjs/core v2.11.8 - MIT License\n */\n\n!function(e,t){\"object\"==typeof exports&&\"undefined\"!=typeof module?t(exports):\"function\"==typeof define&&define.amd?define([\"exports\"],t):t((e=\"undefined\"!=typeof globalThis?globalThis:e||self).Popper={})}(this,(function(e){\"use strict\";function t(e){if(null==e)return window;if(\"[object Window]\"!==e.toString()){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function n(e){return e instanceof t(e).Element||e instanceof Element}function r(e){return e instanceof t(e).HTMLElement||e instanceof HTMLElement}function o(e){return\"undefined\"!=typeof ShadowRoot&&(e instanceof t(e).ShadowRoot||e instanceof ShadowRoot)}var i=Math.max,a=Math.min,s=Math.round;function f(){var e=navigator.userAgentData;return null!=e&&e.brands&&Array.isArray(e.brands)?e.brands.map((function(e){return e.brand+\"/\"+e.version})).join(\" \"):navigator.userAgent}function c(){return!/^((?!chrome|android).)*safari/i.test(f())}function p(e,o,i){void 0===o&&(o=!1),void 0===i&&(i=!1);var a=e.getBoundingClientRect(),f=1,p=1;o&&r(e)&&(f=e.offsetWidth>0&&s(a.width)/e.offsetWidth||1,p=e.offsetHeight>0&&s(a.height)/e.offsetHeight||1);var u=(n(e)?t(e):window).visualViewport,l=!c()&&i,d=(a.left+(l&&u?u.offsetLeft:0))/f,h=(a.top+(l&&u?u.offsetTop:0))/p,m=a.width/f,v=a.height/p;return{width:m,height:v,top:h,right:d+m,bottom:h+v,left:d,x:d,y:h}}function u(e){var n=t(e);return{scrollLeft:n.pageXOffset,scrollTop:n.pageYOffset}}function l(e){return e?(e.nodeName||\"\").toLowerCase():null}function d(e){return((n(e)?e.ownerDocument:e.document)||window.document).documentElement}function h(e){return p(d(e)).left+u(e).scrollLeft}function m(e){return t(e).getComputedStyle(e)}function v(e){var t=m(e),n=t.overflow,r=t.overflowX,o=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+o+r)}function y(e,n,o){void 0===o&&(o=!1);var i,a,f=r(n),c=r(n)&&function(e){var t=e.getBoundingClientRect(),n=s(t.width)/e.offsetWidth||1,r=s(t.height)/e.offsetHeight||1;return 1!==n||1!==r}(n),m=d(n),y=p(e,c,o),g={scrollLeft:0,scrollTop:0},b={x:0,y:0};return(f||!f&&!o)&&((\"body\"!==l(n)||v(m))&&(g=(i=n)!==t(i)&&r(i)?{scrollLeft:(a=i).scrollLeft,scrollTop:a.scrollTop}:u(i)),r(n)?((b=p(n,!0)).x+=n.clientLeft,b.y+=n.clientTop):m&&(b.x=h(m))),{x:y.left+g.scrollLeft-b.x,y:y.top+g.scrollTop-b.y,width:y.width,height:y.height}}function g(e){var t=p(e),n=e.offsetWidth,r=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:r}}function b(e){return\"html\"===l(e)?e:e.assignedSlot||e.parentNode||(o(e)?e.host:null)||d(e)}function x(e){return[\"html\",\"body\",\"#document\"].indexOf(l(e))>=0?e.ownerDocument.body:r(e)&&v(e)?e:x(b(e))}function w(e,n){var r;void 0===n&&(n=[]);var o=x(e),i=o===(null==(r=e.ownerDocument)?void 0:r.body),a=t(o),s=i?[a].concat(a.visualViewport||[],v(o)?o:[]):o,f=n.concat(s);return i?f:f.concat(w(b(s)))}function O(e){return[\"table\",\"td\",\"th\"].indexOf(l(e))>=0}function j(e){return r(e)&&\"fixed\"!==m(e).position?e.offsetParent:null}function E(e){for(var n=t(e),i=j(e);i&&O(i)&&\"static\"===m(i).position;)i=j(i);return i&&(\"html\"===l(i)||\"body\"===l(i)&&\"static\"===m(i).position)?n:i||function(e){var t=/firefox/i.test(f());if(/Trident/i.test(f())&&r(e)&&\"fixed\"===m(e).position)return null;var n=b(e);for(o(n)&&(n=n.host);r(n)&&[\"html\",\"body\"].indexOf(l(n))<0;){var i=m(n);if(\"none\"!==i.transform||\"none\"!==i.perspective||\"paint\"===i.contain||-1!==[\"transform\",\"perspective\"].indexOf(i.willChange)||t&&\"filter\"===i.willChange||t&&i.filter&&\"none\"!==i.filter)return n;n=n.parentNode}return null}(e)||n}var D=\"top\",A=\"bottom\",L=\"right\",P=\"left\",M=\"auto\",k=[D,A,L,P],W=\"start\",B=\"end\",H=\"viewport\",T=\"popper\",R=k.reduce((function(e,t){return e.concat([t+\"-\"+W,t+\"-\"+B])}),[]),S=[].concat(k,[M]).reduce((function(e,t){return e.concat([t,t+\"-\"+W,t+\"-\"+B])}),[]),V=[\"beforeRead\",\"read\",\"afterRead\",\"beforeMain\",\"main\",\"afterMain\",\"beforeWrite\",\"write\",\"afterWrite\"];function q(e){var t=new Map,n=new Set,r=[];function o(e){n.add(e.name),[].concat(e.requires||[],e.requiresIfExists||[]).forEach((function(e){if(!n.has(e)){var r=t.get(e);r&&o(r)}})),r.push(e)}return e.forEach((function(e){t.set(e.name,e)})),e.forEach((function(e){n.has(e.name)||o(e)})),r}function C(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&o(n)){var r=t;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function N(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function I(e,r,o){return r===H?N(function(e,n){var r=t(e),o=d(e),i=r.visualViewport,a=o.clientWidth,s=o.clientHeight,f=0,p=0;if(i){a=i.width,s=i.height;var u=c();(u||!u&&\"fixed\"===n)&&(f=i.offsetLeft,p=i.offsetTop)}return{width:a,height:s,x:f+h(e),y:p}}(e,o)):n(r)?function(e,t){var n=p(e,!1,\"fixed\"===t);return n.top=n.top+e.clientTop,n.left=n.left+e.clientLeft,n.bottom=n.top+e.clientHeight,n.right=n.left+e.clientWidth,n.width=e.clientWidth,n.height=e.clientHeight,n.x=n.left,n.y=n.top,n}(r,o):N(function(e){var t,n=d(e),r=u(e),o=null==(t=e.ownerDocument)?void 0:t.body,a=i(n.scrollWidth,n.clientWidth,o?o.scrollWidth:0,o?o.clientWidth:0),s=i(n.scrollHeight,n.clientHeight,o?o.scrollHeight:0,o?o.clientHeight:0),f=-r.scrollLeft+h(e),c=-r.scrollTop;return\"rtl\"===m(o||n).direction&&(f+=i(n.clientWidth,o?o.clientWidth:0)-a),{width:a,height:s,x:f,y:c}}(d(e)))}function _(e,t,o,s){var f=\"clippingParents\"===t?function(e){var t=w(b(e)),o=[\"absolute\",\"fixed\"].indexOf(m(e).position)>=0&&r(e)?E(e):e;return n(o)?t.filter((function(e){return n(e)&&C(e,o)&&\"body\"!==l(e)})):[]}(e):[].concat(t),c=[].concat(f,[o]),p=c[0],u=c.reduce((function(t,n){var r=I(e,n,s);return t.top=i(r.top,t.top),t.right=a(r.right,t.right),t.bottom=a(r.bottom,t.bottom),t.left=i(r.left,t.left),t}),I(e,p,s));return u.width=u.right-u.left,u.height=u.bottom-u.top,u.x=u.left,u.y=u.top,u}function F(e){return e.split(\"-\")[0]}function U(e){return e.split(\"-\")[1]}function z(e){return[\"top\",\"bottom\"].indexOf(e)>=0?\"x\":\"y\"}function X(e){var t,n=e.reference,r=e.element,o=e.placement,i=o?F(o):null,a=o?U(o):null,s=n.x+n.width/2-r.width/2,f=n.y+n.height/2-r.height/2;switch(i){case D:t={x:s,y:n.y-r.height};break;case A:t={x:s,y:n.y+n.height};break;case L:t={x:n.x+n.width,y:f};break;case P:t={x:n.x-r.width,y:f};break;default:t={x:n.x,y:n.y}}var c=i?z(i):null;if(null!=c){var p=\"y\"===c?\"height\":\"width\";switch(a){case W:t[c]=t[c]-(n[p]/2-r[p]/2);break;case B:t[c]=t[c]+(n[p]/2-r[p]/2)}}return t}function Y(e){return Object.assign({},{top:0,right:0,bottom:0,left:0},e)}function G(e,t){return t.reduce((function(t,n){return t[n]=e,t}),{})}function J(e,t){void 0===t&&(t={});var r=t,o=r.placement,i=void 0===o?e.placement:o,a=r.strategy,s=void 0===a?e.strategy:a,f=r.boundary,c=void 0===f?\"clippingParents\":f,u=r.rootBoundary,l=void 0===u?H:u,h=r.elementContext,m=void 0===h?T:h,v=r.altBoundary,y=void 0!==v&&v,g=r.padding,b=void 0===g?0:g,x=Y(\"number\"!=typeof b?b:G(b,k)),w=m===T?\"reference\":T,O=e.rects.popper,j=e.elements[y?w:m],E=_(n(j)?j:j.contextElement||d(e.elements.popper),c,l,s),P=p(e.elements.reference),M=X({reference:P,element:O,strategy:\"absolute\",placement:i}),W=N(Object.assign({},O,M)),B=m===T?W:P,R={top:E.top-B.top+x.top,bottom:B.bottom-E.bottom+x.bottom,left:E.left-B.left+x.left,right:B.right-E.right+x.right},S=e.modifiersData.offset;if(m===T&&S){var V=S[i];Object.keys(R).forEach((function(e){var t=[L,A].indexOf(e)>=0?1:-1,n=[D,A].indexOf(e)>=0?\"y\":\"x\";R[e]+=V[n]*t}))}return R}var K={placement:\"bottom\",modifiers:[],strategy:\"absolute\"};function Q(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some((function(e){return!(e&&\"function\"==typeof e.getBoundingClientRect)}))}function Z(e){void 0===e&&(e={});var t=e,r=t.defaultModifiers,o=void 0===r?[]:r,i=t.defaultOptions,a=void 0===i?K:i;return function(e,t,r){void 0===r&&(r=a);var i,s,f={placement:\"bottom\",orderedModifiers:[],options:Object.assign({},K,a),modifiersData:{},elements:{reference:e,popper:t},attributes:{},styles:{}},c=[],p=!1,u={state:f,setOptions:function(r){var i=\"function\"==typeof r?r(f.options):r;l(),f.options=Object.assign({},a,f.options,i),f.scrollParents={reference:n(e)?w(e):e.contextElement?w(e.contextElement):[],popper:w(t)};var s,p,d=function(e){var t=q(e);return V.reduce((function(e,n){return e.concat(t.filter((function(e){return e.phase===n})))}),[])}((s=[].concat(o,f.options.modifiers),p=s.reduce((function(e,t){var n=e[t.name];return e[t.name]=n?Object.assign({},n,t,{options:Object.assign({},n.options,t.options),data:Object.assign({},n.data,t.data)}):t,e}),{}),Object.keys(p).map((function(e){return p[e]}))));return f.orderedModifiers=d.filter((function(e){return e.enabled})),f.orderedModifiers.forEach((function(e){var t=e.name,n=e.options,r=void 0===n?{}:n,o=e.effect;if(\"function\"==typeof o){var i=o({state:f,name:t,instance:u,options:r}),a=function(){};c.push(i||a)}})),u.update()},forceUpdate:function(){if(!p){var e=f.elements,t=e.reference,n=e.popper;if(Q(t,n)){f.rects={reference:y(t,E(n),\"fixed\"===f.options.strategy),popper:g(n)},f.reset=!1,f.placement=f.options.placement,f.orderedModifiers.forEach((function(e){return f.modifiersData[e.name]=Object.assign({},e.data)}));for(var r=0;r<f.orderedModifiers.length;r++)if(!0!==f.reset){var o=f.orderedModifiers[r],i=o.fn,a=o.options,s=void 0===a?{}:a,c=o.name;\"function\"==typeof i&&(f=i({state:f,options:s,name:c,instance:u})||f)}else f.reset=!1,r=-1}}},update:(i=function(){return new Promise((function(e){u.forceUpdate(),e(f)}))},function(){return s||(s=new Promise((function(e){Promise.resolve().then((function(){s=void 0,e(i())}))}))),s}),destroy:function(){l(),p=!0}};if(!Q(e,t))return u;function l(){c.forEach((function(e){return e()})),c=[]}return u.setOptions(r).then((function(e){!p&&r.onFirstUpdate&&r.onFirstUpdate(e)})),u}}var $={passive:!0};var ee={name:\"eventListeners\",enabled:!0,phase:\"write\",fn:function(){},effect:function(e){var n=e.state,r=e.instance,o=e.options,i=o.scroll,a=void 0===i||i,s=o.resize,f=void 0===s||s,c=t(n.elements.popper),p=[].concat(n.scrollParents.reference,n.scrollParents.popper);return a&&p.forEach((function(e){e.addEventListener(\"scroll\",r.update,$)})),f&&c.addEventListener(\"resize\",r.update,$),function(){a&&p.forEach((function(e){e.removeEventListener(\"scroll\",r.update,$)})),f&&c.removeEventListener(\"resize\",r.update,$)}},data:{}};var te={name:\"popperOffsets\",enabled:!0,phase:\"read\",fn:function(e){var t=e.state,n=e.name;t.modifiersData[n]=X({reference:t.rects.reference,element:t.rects.popper,strategy:\"absolute\",placement:t.placement})},data:{}},ne={top:\"auto\",right:\"auto\",bottom:\"auto\",left:\"auto\"};function re(e){var n,r=e.popper,o=e.popperRect,i=e.placement,a=e.variation,f=e.offsets,c=e.position,p=e.gpuAcceleration,u=e.adaptive,l=e.roundOffsets,h=e.isFixed,v=f.x,y=void 0===v?0:v,g=f.y,b=void 0===g?0:g,x=\"function\"==typeof l?l({x:y,y:b}):{x:y,y:b};y=x.x,b=x.y;var w=f.hasOwnProperty(\"x\"),O=f.hasOwnProperty(\"y\"),j=P,M=D,k=window;if(u){var W=E(r),H=\"clientHeight\",T=\"clientWidth\";if(W===t(r)&&\"static\"!==m(W=d(r)).position&&\"absolute\"===c&&(H=\"scrollHeight\",T=\"scrollWidth\"),W=W,i===D||(i===P||i===L)&&a===B)M=A,b-=(h&&W===k&&k.visualViewport?k.visualViewport.height:W[H])-o.height,b*=p?1:-1;if(i===P||(i===D||i===A)&&a===B)j=L,y-=(h&&W===k&&k.visualViewport?k.visualViewport.width:W[T])-o.width,y*=p?1:-1}var R,S=Object.assign({position:c},u&&ne),V=!0===l?function(e,t){var n=e.x,r=e.y,o=t.devicePixelRatio||1;return{x:s(n*o)/o||0,y:s(r*o)/o||0}}({x:y,y:b},t(r)):{x:y,y:b};return y=V.x,b=V.y,p?Object.assign({},S,((R={})[M]=O?\"0\":\"\",R[j]=w?\"0\":\"\",R.transform=(k.devicePixelRatio||1)<=1?\"translate(\"+y+\"px, \"+b+\"px)\":\"translate3d(\"+y+\"px, \"+b+\"px, 0)\",R)):Object.assign({},S,((n={})[M]=O?b+\"px\":\"\",n[j]=w?y+\"px\":\"\",n.transform=\"\",n))}var oe={name:\"computeStyles\",enabled:!0,phase:\"beforeWrite\",fn:function(e){var t=e.state,n=e.options,r=n.gpuAcceleration,o=void 0===r||r,i=n.adaptive,a=void 0===i||i,s=n.roundOffsets,f=void 0===s||s,c={placement:F(t.placement),variation:U(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:o,isFixed:\"fixed\"===t.options.strategy};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,re(Object.assign({},c,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:a,roundOffsets:f})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,re(Object.assign({},c,{offsets:t.modifiersData.arrow,position:\"absolute\",adaptive:!1,roundOffsets:f})))),t.attributes.popper=Object.assign({},t.attributes.popper,{\"data-popper-placement\":t.placement})},data:{}};var ie={name:\"applyStyles\",enabled:!0,phase:\"write\",fn:function(e){var t=e.state;Object.keys(t.elements).forEach((function(e){var n=t.styles[e]||{},o=t.attributes[e]||{},i=t.elements[e];r(i)&&l(i)&&(Object.assign(i.style,n),Object.keys(o).forEach((function(e){var t=o[e];!1===t?i.removeAttribute(e):i.setAttribute(e,!0===t?\"\":t)})))}))},effect:function(e){var t=e.state,n={popper:{position:t.options.strategy,left:\"0\",top:\"0\",margin:\"0\"},arrow:{position:\"absolute\"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach((function(e){var o=t.elements[e],i=t.attributes[e]||{},a=Object.keys(t.styles.hasOwnProperty(e)?t.styles[e]:n[e]).reduce((function(e,t){return e[t]=\"\",e}),{});r(o)&&l(o)&&(Object.assign(o.style,a),Object.keys(i).forEach((function(e){o.removeAttribute(e)})))}))}},requires:[\"computeStyles\"]};var ae={name:\"offset\",enabled:!0,phase:\"main\",requires:[\"popperOffsets\"],fn:function(e){var t=e.state,n=e.options,r=e.name,o=n.offset,i=void 0===o?[0,0]:o,a=S.reduce((function(e,n){return e[n]=function(e,t,n){var r=F(e),o=[P,D].indexOf(r)>=0?-1:1,i=\"function\"==typeof n?n(Object.assign({},t,{placement:e})):n,a=i[0],s=i[1];return a=a||0,s=(s||0)*o,[P,L].indexOf(r)>=0?{x:s,y:a}:{x:a,y:s}}(n,t.rects,i),e}),{}),s=a[t.placement],f=s.x,c=s.y;null!=t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x+=f,t.modifiersData.popperOffsets.y+=c),t.modifiersData[r]=a}},se={left:\"right\",right:\"left\",bottom:\"top\",top:\"bottom\"};function fe(e){return e.replace(/left|right|bottom|top/g,(function(e){return se[e]}))}var ce={start:\"end\",end:\"start\"};function pe(e){return e.replace(/start|end/g,(function(e){return ce[e]}))}function ue(e,t){void 0===t&&(t={});var n=t,r=n.placement,o=n.boundary,i=n.rootBoundary,a=n.padding,s=n.flipVariations,f=n.allowedAutoPlacements,c=void 0===f?S:f,p=U(r),u=p?s?R:R.filter((function(e){return U(e)===p})):k,l=u.filter((function(e){return c.indexOf(e)>=0}));0===l.length&&(l=u);var d=l.reduce((function(t,n){return t[n]=J(e,{placement:n,boundary:o,rootBoundary:i,padding:a})[F(n)],t}),{});return Object.keys(d).sort((function(e,t){return d[e]-d[t]}))}var le={name:\"flip\",enabled:!0,phase:\"main\",fn:function(e){var t=e.state,n=e.options,r=e.name;if(!t.modifiersData[r]._skip){for(var o=n.mainAxis,i=void 0===o||o,a=n.altAxis,s=void 0===a||a,f=n.fallbackPlacements,c=n.padding,p=n.boundary,u=n.rootBoundary,l=n.altBoundary,d=n.flipVariations,h=void 0===d||d,m=n.allowedAutoPlacements,v=t.options.placement,y=F(v),g=f||(y===v||!h?[fe(v)]:function(e){if(F(e)===M)return[];var t=fe(e);return[pe(e),t,pe(t)]}(v)),b=[v].concat(g).reduce((function(e,n){return e.concat(F(n)===M?ue(t,{placement:n,boundary:p,rootBoundary:u,padding:c,flipVariations:h,allowedAutoPlacements:m}):n)}),[]),x=t.rects.reference,w=t.rects.popper,O=new Map,j=!0,E=b[0],k=0;k<b.length;k++){var B=b[k],H=F(B),T=U(B)===W,R=[D,A].indexOf(H)>=0,S=R?\"width\":\"height\",V=J(t,{placement:B,boundary:p,rootBoundary:u,altBoundary:l,padding:c}),q=R?T?L:P:T?A:D;x[S]>w[S]&&(q=fe(q));var C=fe(q),N=[];if(i&&N.push(V[H]<=0),s&&N.push(V[q]<=0,V[C]<=0),N.every((function(e){return e}))){E=B,j=!1;break}O.set(B,N)}if(j)for(var I=function(e){var t=b.find((function(t){var n=O.get(t);if(n)return n.slice(0,e).every((function(e){return e}))}));if(t)return E=t,\"break\"},_=h?3:1;_>0;_--){if(\"break\"===I(_))break}t.placement!==E&&(t.modifiersData[r]._skip=!0,t.placement=E,t.reset=!0)}},requiresIfExists:[\"offset\"],data:{_skip:!1}};function de(e,t,n){return i(e,a(t,n))}var he={name:\"preventOverflow\",enabled:!0,phase:\"main\",fn:function(e){var t=e.state,n=e.options,r=e.name,o=n.mainAxis,s=void 0===o||o,f=n.altAxis,c=void 0!==f&&f,p=n.boundary,u=n.rootBoundary,l=n.altBoundary,d=n.padding,h=n.tether,m=void 0===h||h,v=n.tetherOffset,y=void 0===v?0:v,b=J(t,{boundary:p,rootBoundary:u,padding:d,altBoundary:l}),x=F(t.placement),w=U(t.placement),O=!w,j=z(x),M=\"x\"===j?\"y\":\"x\",k=t.modifiersData.popperOffsets,B=t.rects.reference,H=t.rects.popper,T=\"function\"==typeof y?y(Object.assign({},t.rects,{placement:t.placement})):y,R=\"number\"==typeof T?{mainAxis:T,altAxis:T}:Object.assign({mainAxis:0,altAxis:0},T),S=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,V={x:0,y:0};if(k){if(s){var q,C=\"y\"===j?D:P,N=\"y\"===j?A:L,I=\"y\"===j?\"height\":\"width\",_=k[j],X=_+b[C],Y=_-b[N],G=m?-H[I]/2:0,K=w===W?B[I]:H[I],Q=w===W?-H[I]:-B[I],Z=t.elements.arrow,$=m&&Z?g(Z):{width:0,height:0},ee=t.modifiersData[\"arrow#persistent\"]?t.modifiersData[\"arrow#persistent\"].padding:{top:0,right:0,bottom:0,left:0},te=ee[C],ne=ee[N],re=de(0,B[I],$[I]),oe=O?B[I]/2-G-re-te-R.mainAxis:K-re-te-R.mainAxis,ie=O?-B[I]/2+G+re+ne+R.mainAxis:Q+re+ne+R.mainAxis,ae=t.elements.arrow&&E(t.elements.arrow),se=ae?\"y\"===j?ae.clientTop||0:ae.clientLeft||0:0,fe=null!=(q=null==S?void 0:S[j])?q:0,ce=_+ie-fe,pe=de(m?a(X,_+oe-fe-se):X,_,m?i(Y,ce):Y);k[j]=pe,V[j]=pe-_}if(c){var ue,le=\"x\"===j?D:P,he=\"x\"===j?A:L,me=k[M],ve=\"y\"===M?\"height\":\"width\",ye=me+b[le],ge=me-b[he],be=-1!==[D,P].indexOf(x),xe=null!=(ue=null==S?void 0:S[M])?ue:0,we=be?ye:me-B[ve]-H[ve]-xe+R.altAxis,Oe=be?me+B[ve]+H[ve]-xe-R.altAxis:ge,je=m&&be?function(e,t,n){var r=de(e,t,n);return r>n?n:r}(we,me,Oe):de(m?we:ye,me,m?Oe:ge);k[M]=je,V[M]=je-me}t.modifiersData[r]=V}},requiresIfExists:[\"offset\"]};var me={name:\"arrow\",enabled:!0,phase:\"main\",fn:function(e){var t,n=e.state,r=e.name,o=e.options,i=n.elements.arrow,a=n.modifiersData.popperOffsets,s=F(n.placement),f=z(s),c=[P,L].indexOf(s)>=0?\"height\":\"width\";if(i&&a){var p=function(e,t){return Y(\"number\"!=typeof(e=\"function\"==typeof e?e(Object.assign({},t.rects,{placement:t.placement})):e)?e:G(e,k))}(o.padding,n),u=g(i),l=\"y\"===f?D:P,d=\"y\"===f?A:L,h=n.rects.reference[c]+n.rects.reference[f]-a[f]-n.rects.popper[c],m=a[f]-n.rects.reference[f],v=E(i),y=v?\"y\"===f?v.clientHeight||0:v.clientWidth||0:0,b=h/2-m/2,x=p[l],w=y-u[c]-p[d],O=y/2-u[c]/2+b,j=de(x,O,w),M=f;n.modifiersData[r]=((t={})[M]=j,t.centerOffset=j-O,t)}},effect:function(e){var t=e.state,n=e.options.element,r=void 0===n?\"[data-popper-arrow]\":n;null!=r&&(\"string\"!=typeof r||(r=t.elements.popper.querySelector(r)))&&C(t.elements.popper,r)&&(t.elements.arrow=r)},requires:[\"popperOffsets\"],requiresIfExists:[\"preventOverflow\"]};function ve(e,t,n){return void 0===n&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function ye(e){return[D,L,A,P].some((function(t){return e[t]>=0}))}var ge={name:\"hide\",enabled:!0,phase:\"main\",requiresIfExists:[\"preventOverflow\"],fn:function(e){var t=e.state,n=e.name,r=t.rects.reference,o=t.rects.popper,i=t.modifiersData.preventOverflow,a=J(t,{elementContext:\"reference\"}),s=J(t,{altBoundary:!0}),f=ve(a,r),c=ve(s,o,i),p=ye(f),u=ye(c);t.modifiersData[n]={referenceClippingOffsets:f,popperEscapeOffsets:c,isReferenceHidden:p,hasPopperEscaped:u},t.attributes.popper=Object.assign({},t.attributes.popper,{\"data-popper-reference-hidden\":p,\"data-popper-escaped\":u})}},be=Z({defaultModifiers:[ee,te,oe,ie]}),xe=[ee,te,oe,ie,ae,le,he,me,ge],we=Z({defaultModifiers:xe});e.applyStyles=ie,e.arrow=me,e.computeStyles=oe,e.createPopper=we,e.createPopperLite=be,e.defaultModifiers=xe,e.detectOverflow=J,e.eventListeners=ee,e.flip=le,e.hide=ge,e.offset=ae,e.popperGenerator=Z,e.popperOffsets=te,e.preventOverflow=he,Object.defineProperty(e,\"__esModule\",{value:!0})}));\n//# sourceMappingURL=popper.min.js.map\n","/*!\n  * Bootstrap v5.3.0 (https://getbootstrap.com/)\n  * Copyright 2011-2023 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)\n  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)\n  */\n!function(t,e){\"object\"==typeof exports&&\"undefined\"!=typeof module?module.exports=e():\"function\"==typeof define&&define.amd?define(e):(t=\"undefined\"!=typeof globalThis?globalThis:t||self).bootstrap=e()}(this,(function(){\"use strict\";const t=new Map,e={set(e,i,n){t.has(e)||t.set(e,new Map);const s=t.get(e);s.has(i)||0===s.size?s.set(i,n):console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(s.keys())[0]}.`)},get:(e,i)=>t.has(e)&&t.get(e).get(i)||null,remove(e,i){if(!t.has(e))return;const n=t.get(e);n.delete(i),0===n.size&&t.delete(e)}},i=\"transitionend\",n=t=>(t&&window.CSS&&window.CSS.escape&&(t=t.replace(/#([^\\s\"#']+)/g,((t,e)=>`#${CSS.escape(e)}`))),t),s=t=>{t.dispatchEvent(new Event(i))},o=t=>!(!t||\"object\"!=typeof t)&&(void 0!==t.jquery&&(t=t[0]),void 0!==t.nodeType),r=t=>o(t)?t.jquery?t[0]:t:\"string\"==typeof t&&t.length>0?document.querySelector(n(t)):null,a=t=>{if(!o(t)||0===t.getClientRects().length)return!1;const e=\"visible\"===getComputedStyle(t).getPropertyValue(\"visibility\"),i=t.closest(\"details:not([open])\");if(!i)return e;if(i!==t){const e=t.closest(\"summary\");if(e&&e.parentNode!==i)return!1;if(null===e)return!1}return e},l=t=>!t||t.nodeType!==Node.ELEMENT_NODE||!!t.classList.contains(\"disabled\")||(void 0!==t.disabled?t.disabled:t.hasAttribute(\"disabled\")&&\"false\"!==t.getAttribute(\"disabled\")),c=t=>{if(!document.documentElement.attachShadow)return null;if(\"function\"==typeof t.getRootNode){const e=t.getRootNode();return e instanceof ShadowRoot?e:null}return t instanceof ShadowRoot?t:t.parentNode?c(t.parentNode):null},h=()=>{},d=t=>{t.offsetHeight},u=()=>window.jQuery&&!document.body.hasAttribute(\"data-bs-no-jquery\")?window.jQuery:null,f=[],p=()=>\"rtl\"===document.documentElement.dir,m=t=>{var e;e=()=>{const e=u();if(e){const i=t.NAME,n=e.fn[i];e.fn[i]=t.jQueryInterface,e.fn[i].Constructor=t,e.fn[i].noConflict=()=>(e.fn[i]=n,t.jQueryInterface)}},\"loading\"===document.readyState?(f.length||document.addEventListener(\"DOMContentLoaded\",(()=>{for(const t of f)t()})),f.push(e)):e()},g=(t,e=[],i=t)=>\"function\"==typeof t?t(...e):i,_=(t,e,n=!0)=>{if(!n)return void g(t);const o=(t=>{if(!t)return 0;let{transitionDuration:e,transitionDelay:i}=window.getComputedStyle(t);const n=Number.parseFloat(e),s=Number.parseFloat(i);return n||s?(e=e.split(\",\")[0],i=i.split(\",\")[0],1e3*(Number.parseFloat(e)+Number.parseFloat(i))):0})(e)+5;let r=!1;const a=({target:n})=>{n===e&&(r=!0,e.removeEventListener(i,a),g(t))};e.addEventListener(i,a),setTimeout((()=>{r||s(e)}),o)},b=(t,e,i,n)=>{const s=t.length;let o=t.indexOf(e);return-1===o?!i&&n?t[s-1]:t[0]:(o+=i?1:-1,n&&(o=(o+s)%s),t[Math.max(0,Math.min(o,s-1))])},v=/[^.]*(?=\\..*)\\.|.*/,y=/\\..*/,w=/::\\d+$/,A={};let E=1;const T={mouseenter:\"mouseover\",mouseleave:\"mouseout\"},C=new Set([\"click\",\"dblclick\",\"mouseup\",\"mousedown\",\"contextmenu\",\"mousewheel\",\"DOMMouseScroll\",\"mouseover\",\"mouseout\",\"mousemove\",\"selectstart\",\"selectend\",\"keydown\",\"keypress\",\"keyup\",\"orientationchange\",\"touchstart\",\"touchmove\",\"touchend\",\"touchcancel\",\"pointerdown\",\"pointermove\",\"pointerup\",\"pointerleave\",\"pointercancel\",\"gesturestart\",\"gesturechange\",\"gestureend\",\"focus\",\"blur\",\"change\",\"reset\",\"select\",\"submit\",\"focusin\",\"focusout\",\"load\",\"unload\",\"beforeunload\",\"resize\",\"move\",\"DOMContentLoaded\",\"readystatechange\",\"error\",\"abort\",\"scroll\"]);function O(t,e){return e&&`${e}::${E++}`||t.uidEvent||E++}function x(t){const e=O(t);return t.uidEvent=e,A[e]=A[e]||{},A[e]}function k(t,e,i=null){return Object.values(t).find((t=>t.callable===e&&t.delegationSelector===i))}function L(t,e,i){const n=\"string\"==typeof e,s=n?i:e||i;let o=N(t);return C.has(o)||(o=t),[n,s,o]}function S(t,e,i,n,s){if(\"string\"!=typeof e||!t)return;let[o,r,a]=L(e,i,n);if(e in T){const t=t=>function(e){if(!e.relatedTarget||e.relatedTarget!==e.delegateTarget&&!e.delegateTarget.contains(e.relatedTarget))return t.call(this,e)};r=t(r)}const l=x(t),c=l[a]||(l[a]={}),h=k(c,r,o?i:null);if(h)return void(h.oneOff=h.oneOff&&s);const d=O(r,e.replace(v,\"\")),u=o?function(t,e,i){return function n(s){const o=t.querySelectorAll(e);for(let{target:r}=s;r&&r!==this;r=r.parentNode)for(const a of o)if(a===r)return M(s,{delegateTarget:r}),n.oneOff&&P.off(t,s.type,e,i),i.apply(r,[s])}}(t,i,r):function(t,e){return function i(n){return M(n,{delegateTarget:t}),i.oneOff&&P.off(t,n.type,e),e.apply(t,[n])}}(t,r);u.delegationSelector=o?i:null,u.callable=r,u.oneOff=s,u.uidEvent=d,c[d]=u,t.addEventListener(a,u,o)}function D(t,e,i,n,s){const o=k(e[i],n,s);o&&(t.removeEventListener(i,o,Boolean(s)),delete e[i][o.uidEvent])}function I(t,e,i,n){const s=e[i]||{};for(const[o,r]of Object.entries(s))o.includes(n)&&D(t,e,i,r.callable,r.delegationSelector)}function N(t){return t=t.replace(y,\"\"),T[t]||t}const P={on(t,e,i,n){S(t,e,i,n,!1)},one(t,e,i,n){S(t,e,i,n,!0)},off(t,e,i,n){if(\"string\"!=typeof e||!t)return;const[s,o,r]=L(e,i,n),a=r!==e,l=x(t),c=l[r]||{},h=e.startsWith(\".\");if(void 0===o){if(h)for(const i of Object.keys(l))I(t,l,i,e.slice(1));for(const[i,n]of Object.entries(c)){const s=i.replace(w,\"\");a&&!e.includes(s)||D(t,l,r,n.callable,n.delegationSelector)}}else{if(!Object.keys(c).length)return;D(t,l,r,o,s?i:null)}},trigger(t,e,i){if(\"string\"!=typeof e||!t)return null;const n=u();let s=null,o=!0,r=!0,a=!1;e!==N(e)&&n&&(s=n.Event(e,i),n(t).trigger(s),o=!s.isPropagationStopped(),r=!s.isImmediatePropagationStopped(),a=s.isDefaultPrevented());const l=M(new Event(e,{bubbles:o,cancelable:!0}),i);return a&&l.preventDefault(),r&&t.dispatchEvent(l),l.defaultPrevented&&s&&s.preventDefault(),l}};function M(t,e={}){for(const[i,n]of Object.entries(e))try{t[i]=n}catch(e){Object.defineProperty(t,i,{configurable:!0,get:()=>n})}return t}function j(t){if(\"true\"===t)return!0;if(\"false\"===t)return!1;if(t===Number(t).toString())return Number(t);if(\"\"===t||\"null\"===t)return null;if(\"string\"!=typeof t)return t;try{return JSON.parse(decodeURIComponent(t))}catch(e){return t}}function F(t){return t.replace(/[A-Z]/g,(t=>`-${t.toLowerCase()}`))}const H={setDataAttribute(t,e,i){t.setAttribute(`data-bs-${F(e)}`,i)},removeDataAttribute(t,e){t.removeAttribute(`data-bs-${F(e)}`)},getDataAttributes(t){if(!t)return{};const e={},i=Object.keys(t.dataset).filter((t=>t.startsWith(\"bs\")&&!t.startsWith(\"bsConfig\")));for(const n of i){let i=n.replace(/^bs/,\"\");i=i.charAt(0).toLowerCase()+i.slice(1,i.length),e[i]=j(t.dataset[n])}return e},getDataAttribute:(t,e)=>j(t.getAttribute(`data-bs-${F(e)}`))};class ${static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method \"NAME\", for each component!')}_getConfig(t){return t=this._mergeConfigObj(t),t=this._configAfterMerge(t),this._typeCheckConfig(t),t}_configAfterMerge(t){return t}_mergeConfigObj(t,e){const i=o(e)?H.getDataAttribute(e,\"config\"):{};return{...this.constructor.Default,...\"object\"==typeof i?i:{},...o(e)?H.getDataAttributes(e):{},...\"object\"==typeof t?t:{}}}_typeCheckConfig(t,e=this.constructor.DefaultType){for(const[n,s]of Object.entries(e)){const e=t[n],r=o(e)?\"element\":null==(i=e)?`${i}`:Object.prototype.toString.call(i).match(/\\s([a-z]+)/i)[1].toLowerCase();if(!new RegExp(s).test(r))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option \"${n}\" provided type \"${r}\" but expected type \"${s}\".`)}var i}}class W extends ${constructor(t,i){super(),(t=r(t))&&(this._element=t,this._config=this._getConfig(i),e.set(this._element,this.constructor.DATA_KEY,this))}dispose(){e.remove(this._element,this.constructor.DATA_KEY),P.off(this._element,this.constructor.EVENT_KEY);for(const t of Object.getOwnPropertyNames(this))this[t]=null}_queueCallback(t,e,i=!0){_(t,e,i)}_getConfig(t){return t=this._mergeConfigObj(t,this._element),t=this._configAfterMerge(t),this._typeCheckConfig(t),t}static getInstance(t){return e.get(r(t),this.DATA_KEY)}static getOrCreateInstance(t,e={}){return this.getInstance(t)||new this(t,\"object\"==typeof e?e:null)}static get VERSION(){return\"5.3.0\"}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(t){return`${t}${this.EVENT_KEY}`}}const B=t=>{let e=t.getAttribute(\"data-bs-target\");if(!e||\"#\"===e){let i=t.getAttribute(\"href\");if(!i||!i.includes(\"#\")&&!i.startsWith(\".\"))return null;i.includes(\"#\")&&!i.startsWith(\"#\")&&(i=`#${i.split(\"#\")[1]}`),e=i&&\"#\"!==i?i.trim():null}return n(e)},z={find:(t,e=document.documentElement)=>[].concat(...Element.prototype.querySelectorAll.call(e,t)),findOne:(t,e=document.documentElement)=>Element.prototype.querySelector.call(e,t),children:(t,e)=>[].concat(...t.children).filter((t=>t.matches(e))),parents(t,e){const i=[];let n=t.parentNode.closest(e);for(;n;)i.push(n),n=n.parentNode.closest(e);return i},prev(t,e){let i=t.previousElementSibling;for(;i;){if(i.matches(e))return[i];i=i.previousElementSibling}return[]},next(t,e){let i=t.nextElementSibling;for(;i;){if(i.matches(e))return[i];i=i.nextElementSibling}return[]},focusableChildren(t){const e=[\"a\",\"button\",\"input\",\"textarea\",\"select\",\"details\",\"[tabindex]\",'[contenteditable=\"true\"]'].map((t=>`${t}:not([tabindex^=\"-\"])`)).join(\",\");return this.find(e,t).filter((t=>!l(t)&&a(t)))},getSelectorFromElement(t){const e=B(t);return e&&z.findOne(e)?e:null},getElementFromSelector(t){const e=B(t);return e?z.findOne(e):null},getMultipleElementsFromSelector(t){const e=B(t);return e?z.find(e):[]}},R=(t,e=\"hide\")=>{const i=`click.dismiss${t.EVENT_KEY}`,n=t.NAME;P.on(document,i,`[data-bs-dismiss=\"${n}\"]`,(function(i){if([\"A\",\"AREA\"].includes(this.tagName)&&i.preventDefault(),l(this))return;const s=z.getElementFromSelector(this)||this.closest(`.${n}`);t.getOrCreateInstance(s)[e]()}))};class q extends W{static get NAME(){return\"alert\"}close(){if(P.trigger(this._element,\"close.bs.alert\").defaultPrevented)return;this._element.classList.remove(\"show\");const t=this._element.classList.contains(\"fade\");this._queueCallback((()=>this._destroyElement()),this._element,t)}_destroyElement(){this._element.remove(),P.trigger(this._element,\"closed.bs.alert\"),this.dispose()}static jQueryInterface(t){return this.each((function(){const e=q.getOrCreateInstance(this);if(\"string\"==typeof t){if(void 0===e[t]||t.startsWith(\"_\")||\"constructor\"===t)throw new TypeError(`No method named \"${t}\"`);e[t](this)}}))}}R(q,\"close\"),m(q);const V='[data-bs-toggle=\"button\"]';class K extends W{static get NAME(){return\"button\"}toggle(){this._element.setAttribute(\"aria-pressed\",this._element.classList.toggle(\"active\"))}static jQueryInterface(t){return this.each((function(){const e=K.getOrCreateInstance(this);\"toggle\"===t&&e[t]()}))}}P.on(document,\"click.bs.button.data-api\",V,(t=>{t.preventDefault();const e=t.target.closest(V);K.getOrCreateInstance(e).toggle()})),m(K);const Q={endCallback:null,leftCallback:null,rightCallback:null},X={endCallback:\"(function|null)\",leftCallback:\"(function|null)\",rightCallback:\"(function|null)\"};class Y extends ${constructor(t,e){super(),this._element=t,t&&Y.isSupported()&&(this._config=this._getConfig(e),this._deltaX=0,this._supportPointerEvents=Boolean(window.PointerEvent),this._initEvents())}static get Default(){return Q}static get DefaultType(){return X}static get NAME(){return\"swipe\"}dispose(){P.off(this._element,\".bs.swipe\")}_start(t){this._supportPointerEvents?this._eventIsPointerPenTouch(t)&&(this._deltaX=t.clientX):this._deltaX=t.touches[0].clientX}_end(t){this._eventIsPointerPenTouch(t)&&(this._deltaX=t.clientX-this._deltaX),this._handleSwipe(),g(this._config.endCallback)}_move(t){this._deltaX=t.touches&&t.touches.length>1?0:t.touches[0].clientX-this._deltaX}_handleSwipe(){const t=Math.abs(this._deltaX);if(t<=40)return;const e=t/this._deltaX;this._deltaX=0,e&&g(e>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(P.on(this._element,\"pointerdown.bs.swipe\",(t=>this._start(t))),P.on(this._element,\"pointerup.bs.swipe\",(t=>this._end(t))),this._element.classList.add(\"pointer-event\")):(P.on(this._element,\"touchstart.bs.swipe\",(t=>this._start(t))),P.on(this._element,\"touchmove.bs.swipe\",(t=>this._move(t))),P.on(this._element,\"touchend.bs.swipe\",(t=>this._end(t))))}_eventIsPointerPenTouch(t){return this._supportPointerEvents&&(\"pen\"===t.pointerType||\"touch\"===t.pointerType)}static isSupported(){return\"ontouchstart\"in document.documentElement||navigator.maxTouchPoints>0}}const U=\"next\",G=\"prev\",J=\"left\",Z=\"right\",tt=\"slid.bs.carousel\",et=\"carousel\",it=\"active\",nt={ArrowLeft:Z,ArrowRight:J},st={interval:5e3,keyboard:!0,pause:\"hover\",ride:!1,touch:!0,wrap:!0},ot={interval:\"(number|boolean)\",keyboard:\"boolean\",pause:\"(string|boolean)\",ride:\"(boolean|string)\",touch:\"boolean\",wrap:\"boolean\"};class rt extends W{constructor(t,e){super(t,e),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=z.findOne(\".carousel-indicators\",this._element),this._addEventListeners(),this._config.ride===et&&this.cycle()}static get Default(){return st}static get DefaultType(){return ot}static get NAME(){return\"carousel\"}next(){this._slide(U)}nextWhenVisible(){!document.hidden&&a(this._element)&&this.next()}prev(){this._slide(G)}pause(){this._isSliding&&s(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval((()=>this.nextWhenVisible()),this._config.interval)}_maybeEnableCycle(){this._config.ride&&(this._isSliding?P.one(this._element,tt,(()=>this.cycle())):this.cycle())}to(t){const e=this._getItems();if(t>e.length-1||t<0)return;if(this._isSliding)return void P.one(this._element,tt,(()=>this.to(t)));const i=this._getItemIndex(this._getActive());if(i===t)return;const n=t>i?U:G;this._slide(n,e[t])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(t){return t.defaultInterval=t.interval,t}_addEventListeners(){this._config.keyboard&&P.on(this._element,\"keydown.bs.carousel\",(t=>this._keydown(t))),\"hover\"===this._config.pause&&(P.on(this._element,\"mouseenter.bs.carousel\",(()=>this.pause())),P.on(this._element,\"mouseleave.bs.carousel\",(()=>this._maybeEnableCycle()))),this._config.touch&&Y.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const t of z.find(\".carousel-item img\",this._element))P.on(t,\"dragstart.bs.carousel\",(t=>t.preventDefault()));const t={leftCallback:()=>this._slide(this._directionToOrder(J)),rightCallback:()=>this._slide(this._directionToOrder(Z)),endCallback:()=>{\"hover\"===this._config.pause&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout((()=>this._maybeEnableCycle()),500+this._config.interval))}};this._swipeHelper=new Y(this._element,t)}_keydown(t){if(/input|textarea/i.test(t.target.tagName))return;const e=nt[t.key];e&&(t.preventDefault(),this._slide(this._directionToOrder(e)))}_getItemIndex(t){return this._getItems().indexOf(t)}_setActiveIndicatorElement(t){if(!this._indicatorsElement)return;const e=z.findOne(\".active\",this._indicatorsElement);e.classList.remove(it),e.removeAttribute(\"aria-current\");const i=z.findOne(`[data-bs-slide-to=\"${t}\"]`,this._indicatorsElement);i&&(i.classList.add(it),i.setAttribute(\"aria-current\",\"true\"))}_updateInterval(){const t=this._activeElement||this._getActive();if(!t)return;const e=Number.parseInt(t.getAttribute(\"data-bs-interval\"),10);this._config.interval=e||this._config.defaultInterval}_slide(t,e=null){if(this._isSliding)return;const i=this._getActive(),n=t===U,s=e||b(this._getItems(),i,n,this._config.wrap);if(s===i)return;const o=this._getItemIndex(s),r=e=>P.trigger(this._element,e,{relatedTarget:s,direction:this._orderToDirection(t),from:this._getItemIndex(i),to:o});if(r(\"slide.bs.carousel\").defaultPrevented)return;if(!i||!s)return;const a=Boolean(this._interval);this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(o),this._activeElement=s;const l=n?\"carousel-item-start\":\"carousel-item-end\",c=n?\"carousel-item-next\":\"carousel-item-prev\";s.classList.add(c),d(s),i.classList.add(l),s.classList.add(l),this._queueCallback((()=>{s.classList.remove(l,c),s.classList.add(it),i.classList.remove(it,c,l),this._isSliding=!1,r(tt)}),i,this._isAnimated()),a&&this.cycle()}_isAnimated(){return this._element.classList.contains(\"slide\")}_getActive(){return z.findOne(\".active.carousel-item\",this._element)}_getItems(){return z.find(\".carousel-item\",this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(t){return p()?t===J?G:U:t===J?U:G}_orderToDirection(t){return p()?t===G?J:Z:t===G?Z:J}static jQueryInterface(t){return this.each((function(){const e=rt.getOrCreateInstance(this,t);if(\"number\"!=typeof t){if(\"string\"==typeof t){if(void 0===e[t]||t.startsWith(\"_\")||\"constructor\"===t)throw new TypeError(`No method named \"${t}\"`);e[t]()}}else e.to(t)}))}}P.on(document,\"click.bs.carousel.data-api\",\"[data-bs-slide], [data-bs-slide-to]\",(function(t){const e=z.getElementFromSelector(this);if(!e||!e.classList.contains(et))return;t.preventDefault();const i=rt.getOrCreateInstance(e),n=this.getAttribute(\"data-bs-slide-to\");return n?(i.to(n),void i._maybeEnableCycle()):\"next\"===H.getDataAttribute(this,\"slide\")?(i.next(),void i._maybeEnableCycle()):(i.prev(),void i._maybeEnableCycle())})),P.on(window,\"load.bs.carousel.data-api\",(()=>{const t=z.find('[data-bs-ride=\"carousel\"]');for(const e of t)rt.getOrCreateInstance(e)})),m(rt);const at=\"show\",lt=\"collapse\",ct=\"collapsing\",ht='[data-bs-toggle=\"collapse\"]',dt={parent:null,toggle:!0},ut={parent:\"(null|element)\",toggle:\"boolean\"};class ft extends W{constructor(t,e){super(t,e),this._isTransitioning=!1,this._triggerArray=[];const i=z.find(ht);for(const t of i){const e=z.getSelectorFromElement(t),i=z.find(e).filter((t=>t===this._element));null!==e&&i.length&&this._triggerArray.push(t)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return dt}static get DefaultType(){return ut}static get NAME(){return\"collapse\"}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let t=[];if(this._config.parent&&(t=this._getFirstLevelChildren(\".collapse.show, .collapse.collapsing\").filter((t=>t!==this._element)).map((t=>ft.getOrCreateInstance(t,{toggle:!1})))),t.length&&t[0]._isTransitioning)return;if(P.trigger(this._element,\"show.bs.collapse\").defaultPrevented)return;for(const e of t)e.hide();const e=this._getDimension();this._element.classList.remove(lt),this._element.classList.add(ct),this._element.style[e]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const i=`scroll${e[0].toUpperCase()+e.slice(1)}`;this._queueCallback((()=>{this._isTransitioning=!1,this._element.classList.remove(ct),this._element.classList.add(lt,at),this._element.style[e]=\"\",P.trigger(this._element,\"shown.bs.collapse\")}),this._element,!0),this._element.style[e]=`${this._element[i]}px`}hide(){if(this._isTransitioning||!this._isShown())return;if(P.trigger(this._element,\"hide.bs.collapse\").defaultPrevented)return;const t=this._getDimension();this._element.style[t]=`${this._element.getBoundingClientRect()[t]}px`,d(this._element),this._element.classList.add(ct),this._element.classList.remove(lt,at);for(const t of this._triggerArray){const e=z.getElementFromSelector(t);e&&!this._isShown(e)&&this._addAriaAndCollapsedClass([t],!1)}this._isTransitioning=!0,this._element.style[t]=\"\",this._queueCallback((()=>{this._isTransitioning=!1,this._element.classList.remove(ct),this._element.classList.add(lt),P.trigger(this._element,\"hidden.bs.collapse\")}),this._element,!0)}_isShown(t=this._element){return t.classList.contains(at)}_configAfterMerge(t){return t.toggle=Boolean(t.toggle),t.parent=r(t.parent),t}_getDimension(){return this._element.classList.contains(\"collapse-horizontal\")?\"width\":\"height\"}_initializeChildren(){if(!this._config.parent)return;const t=this._getFirstLevelChildren(ht);for(const e of t){const t=z.getElementFromSelector(e);t&&this._addAriaAndCollapsedClass([e],this._isShown(t))}}_getFirstLevelChildren(t){const e=z.find(\":scope .collapse .collapse\",this._config.parent);return z.find(t,this._config.parent).filter((t=>!e.includes(t)))}_addAriaAndCollapsedClass(t,e){if(t.length)for(const i of t)i.classList.toggle(\"collapsed\",!e),i.setAttribute(\"aria-expanded\",e)}static jQueryInterface(t){const e={};return\"string\"==typeof t&&/show|hide/.test(t)&&(e.toggle=!1),this.each((function(){const i=ft.getOrCreateInstance(this,e);if(\"string\"==typeof t){if(void 0===i[t])throw new TypeError(`No method named \"${t}\"`);i[t]()}}))}}P.on(document,\"click.bs.collapse.data-api\",ht,(function(t){(\"A\"===t.target.tagName||t.delegateTarget&&\"A\"===t.delegateTarget.tagName)&&t.preventDefault();for(const t of z.getMultipleElementsFromSelector(this))ft.getOrCreateInstance(t,{toggle:!1}).toggle()})),m(ft);var pt=\"top\",mt=\"bottom\",gt=\"right\",_t=\"left\",bt=\"auto\",vt=[pt,mt,gt,_t],yt=\"start\",wt=\"end\",At=\"clippingParents\",Et=\"viewport\",Tt=\"popper\",Ct=\"reference\",Ot=vt.reduce((function(t,e){return t.concat([e+\"-\"+yt,e+\"-\"+wt])}),[]),xt=[].concat(vt,[bt]).reduce((function(t,e){return t.concat([e,e+\"-\"+yt,e+\"-\"+wt])}),[]),kt=\"beforeRead\",Lt=\"read\",St=\"afterRead\",Dt=\"beforeMain\",It=\"main\",Nt=\"afterMain\",Pt=\"beforeWrite\",Mt=\"write\",jt=\"afterWrite\",Ft=[kt,Lt,St,Dt,It,Nt,Pt,Mt,jt];function Ht(t){return t?(t.nodeName||\"\").toLowerCase():null}function $t(t){if(null==t)return window;if(\"[object Window]\"!==t.toString()){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function Wt(t){return t instanceof $t(t).Element||t instanceof Element}function Bt(t){return t instanceof $t(t).HTMLElement||t instanceof HTMLElement}function zt(t){return\"undefined\"!=typeof ShadowRoot&&(t instanceof $t(t).ShadowRoot||t instanceof ShadowRoot)}const Rt={name:\"applyStyles\",enabled:!0,phase:\"write\",fn:function(t){var e=t.state;Object.keys(e.elements).forEach((function(t){var i=e.styles[t]||{},n=e.attributes[t]||{},s=e.elements[t];Bt(s)&&Ht(s)&&(Object.assign(s.style,i),Object.keys(n).forEach((function(t){var e=n[t];!1===e?s.removeAttribute(t):s.setAttribute(t,!0===e?\"\":e)})))}))},effect:function(t){var e=t.state,i={popper:{position:e.options.strategy,left:\"0\",top:\"0\",margin:\"0\"},arrow:{position:\"absolute\"},reference:{}};return Object.assign(e.elements.popper.style,i.popper),e.styles=i,e.elements.arrow&&Object.assign(e.elements.arrow.style,i.arrow),function(){Object.keys(e.elements).forEach((function(t){var n=e.elements[t],s=e.attributes[t]||{},o=Object.keys(e.styles.hasOwnProperty(t)?e.styles[t]:i[t]).reduce((function(t,e){return t[e]=\"\",t}),{});Bt(n)&&Ht(n)&&(Object.assign(n.style,o),Object.keys(s).forEach((function(t){n.removeAttribute(t)})))}))}},requires:[\"computeStyles\"]};function qt(t){return t.split(\"-\")[0]}var Vt=Math.max,Kt=Math.min,Qt=Math.round;function Xt(){var t=navigator.userAgentData;return null!=t&&t.brands&&Array.isArray(t.brands)?t.brands.map((function(t){return t.brand+\"/\"+t.version})).join(\" \"):navigator.userAgent}function Yt(){return!/^((?!chrome|android).)*safari/i.test(Xt())}function Ut(t,e,i){void 0===e&&(e=!1),void 0===i&&(i=!1);var n=t.getBoundingClientRect(),s=1,o=1;e&&Bt(t)&&(s=t.offsetWidth>0&&Qt(n.width)/t.offsetWidth||1,o=t.offsetHeight>0&&Qt(n.height)/t.offsetHeight||1);var r=(Wt(t)?$t(t):window).visualViewport,a=!Yt()&&i,l=(n.left+(a&&r?r.offsetLeft:0))/s,c=(n.top+(a&&r?r.offsetTop:0))/o,h=n.width/s,d=n.height/o;return{width:h,height:d,top:c,right:l+h,bottom:c+d,left:l,x:l,y:c}}function Gt(t){var e=Ut(t),i=t.offsetWidth,n=t.offsetHeight;return Math.abs(e.width-i)<=1&&(i=e.width),Math.abs(e.height-n)<=1&&(n=e.height),{x:t.offsetLeft,y:t.offsetTop,width:i,height:n}}function Jt(t,e){var i=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(i&&zt(i)){var n=e;do{if(n&&t.isSameNode(n))return!0;n=n.parentNode||n.host}while(n)}return!1}function Zt(t){return $t(t).getComputedStyle(t)}function te(t){return[\"table\",\"td\",\"th\"].indexOf(Ht(t))>=0}function ee(t){return((Wt(t)?t.ownerDocument:t.document)||window.document).documentElement}function ie(t){return\"html\"===Ht(t)?t:t.assignedSlot||t.parentNode||(zt(t)?t.host:null)||ee(t)}function ne(t){return Bt(t)&&\"fixed\"!==Zt(t).position?t.offsetParent:null}function se(t){for(var e=$t(t),i=ne(t);i&&te(i)&&\"static\"===Zt(i).position;)i=ne(i);return i&&(\"html\"===Ht(i)||\"body\"===Ht(i)&&\"static\"===Zt(i).position)?e:i||function(t){var e=/firefox/i.test(Xt());if(/Trident/i.test(Xt())&&Bt(t)&&\"fixed\"===Zt(t).position)return null;var i=ie(t);for(zt(i)&&(i=i.host);Bt(i)&&[\"html\",\"body\"].indexOf(Ht(i))<0;){var n=Zt(i);if(\"none\"!==n.transform||\"none\"!==n.perspective||\"paint\"===n.contain||-1!==[\"transform\",\"perspective\"].indexOf(n.willChange)||e&&\"filter\"===n.willChange||e&&n.filter&&\"none\"!==n.filter)return i;i=i.parentNode}return null}(t)||e}function oe(t){return[\"top\",\"bottom\"].indexOf(t)>=0?\"x\":\"y\"}function re(t,e,i){return Vt(t,Kt(e,i))}function ae(t){return Object.assign({},{top:0,right:0,bottom:0,left:0},t)}function le(t,e){return e.reduce((function(e,i){return e[i]=t,e}),{})}const ce={name:\"arrow\",enabled:!0,phase:\"main\",fn:function(t){var e,i=t.state,n=t.name,s=t.options,o=i.elements.arrow,r=i.modifiersData.popperOffsets,a=qt(i.placement),l=oe(a),c=[_t,gt].indexOf(a)>=0?\"height\":\"width\";if(o&&r){var h=function(t,e){return ae(\"number\"!=typeof(t=\"function\"==typeof t?t(Object.assign({},e.rects,{placement:e.placement})):t)?t:le(t,vt))}(s.padding,i),d=Gt(o),u=\"y\"===l?pt:_t,f=\"y\"===l?mt:gt,p=i.rects.reference[c]+i.rects.reference[l]-r[l]-i.rects.popper[c],m=r[l]-i.rects.reference[l],g=se(o),_=g?\"y\"===l?g.clientHeight||0:g.clientWidth||0:0,b=p/2-m/2,v=h[u],y=_-d[c]-h[f],w=_/2-d[c]/2+b,A=re(v,w,y),E=l;i.modifiersData[n]=((e={})[E]=A,e.centerOffset=A-w,e)}},effect:function(t){var e=t.state,i=t.options.element,n=void 0===i?\"[data-popper-arrow]\":i;null!=n&&(\"string\"!=typeof n||(n=e.elements.popper.querySelector(n)))&&Jt(e.elements.popper,n)&&(e.elements.arrow=n)},requires:[\"popperOffsets\"],requiresIfExists:[\"preventOverflow\"]};function he(t){return t.split(\"-\")[1]}var de={top:\"auto\",right:\"auto\",bottom:\"auto\",left:\"auto\"};function ue(t){var e,i=t.popper,n=t.popperRect,s=t.placement,o=t.variation,r=t.offsets,a=t.position,l=t.gpuAcceleration,c=t.adaptive,h=t.roundOffsets,d=t.isFixed,u=r.x,f=void 0===u?0:u,p=r.y,m=void 0===p?0:p,g=\"function\"==typeof h?h({x:f,y:m}):{x:f,y:m};f=g.x,m=g.y;var _=r.hasOwnProperty(\"x\"),b=r.hasOwnProperty(\"y\"),v=_t,y=pt,w=window;if(c){var A=se(i),E=\"clientHeight\",T=\"clientWidth\";A===$t(i)&&\"static\"!==Zt(A=ee(i)).position&&\"absolute\"===a&&(E=\"scrollHeight\",T=\"scrollWidth\"),(s===pt||(s===_t||s===gt)&&o===wt)&&(y=mt,m-=(d&&A===w&&w.visualViewport?w.visualViewport.height:A[E])-n.height,m*=l?1:-1),s!==_t&&(s!==pt&&s!==mt||o!==wt)||(v=gt,f-=(d&&A===w&&w.visualViewport?w.visualViewport.width:A[T])-n.width,f*=l?1:-1)}var C,O=Object.assign({position:a},c&&de),x=!0===h?function(t,e){var i=t.x,n=t.y,s=e.devicePixelRatio||1;return{x:Qt(i*s)/s||0,y:Qt(n*s)/s||0}}({x:f,y:m},$t(i)):{x:f,y:m};return f=x.x,m=x.y,l?Object.assign({},O,((C={})[y]=b?\"0\":\"\",C[v]=_?\"0\":\"\",C.transform=(w.devicePixelRatio||1)<=1?\"translate(\"+f+\"px, \"+m+\"px)\":\"translate3d(\"+f+\"px, \"+m+\"px, 0)\",C)):Object.assign({},O,((e={})[y]=b?m+\"px\":\"\",e[v]=_?f+\"px\":\"\",e.transform=\"\",e))}const fe={name:\"computeStyles\",enabled:!0,phase:\"beforeWrite\",fn:function(t){var e=t.state,i=t.options,n=i.gpuAcceleration,s=void 0===n||n,o=i.adaptive,r=void 0===o||o,a=i.roundOffsets,l=void 0===a||a,c={placement:qt(e.placement),variation:he(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:s,isFixed:\"fixed\"===e.options.strategy};null!=e.modifiersData.popperOffsets&&(e.styles.popper=Object.assign({},e.styles.popper,ue(Object.assign({},c,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:r,roundOffsets:l})))),null!=e.modifiersData.arrow&&(e.styles.arrow=Object.assign({},e.styles.arrow,ue(Object.assign({},c,{offsets:e.modifiersData.arrow,position:\"absolute\",adaptive:!1,roundOffsets:l})))),e.attributes.popper=Object.assign({},e.attributes.popper,{\"data-popper-placement\":e.placement})},data:{}};var pe={passive:!0};const me={name:\"eventListeners\",enabled:!0,phase:\"write\",fn:function(){},effect:function(t){var e=t.state,i=t.instance,n=t.options,s=n.scroll,o=void 0===s||s,r=n.resize,a=void 0===r||r,l=$t(e.elements.popper),c=[].concat(e.scrollParents.reference,e.scrollParents.popper);return o&&c.forEach((function(t){t.addEventListener(\"scroll\",i.update,pe)})),a&&l.addEventListener(\"resize\",i.update,pe),function(){o&&c.forEach((function(t){t.removeEventListener(\"scroll\",i.update,pe)})),a&&l.removeEventListener(\"resize\",i.update,pe)}},data:{}};var ge={left:\"right\",right:\"left\",bottom:\"top\",top:\"bottom\"};function _e(t){return t.replace(/left|right|bottom|top/g,(function(t){return ge[t]}))}var be={start:\"end\",end:\"start\"};function ve(t){return t.replace(/start|end/g,(function(t){return be[t]}))}function ye(t){var e=$t(t);return{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}}function we(t){return Ut(ee(t)).left+ye(t).scrollLeft}function Ae(t){var e=Zt(t),i=e.overflow,n=e.overflowX,s=e.overflowY;return/auto|scroll|overlay|hidden/.test(i+s+n)}function Ee(t){return[\"html\",\"body\",\"#document\"].indexOf(Ht(t))>=0?t.ownerDocument.body:Bt(t)&&Ae(t)?t:Ee(ie(t))}function Te(t,e){var i;void 0===e&&(e=[]);var n=Ee(t),s=n===(null==(i=t.ownerDocument)?void 0:i.body),o=$t(n),r=s?[o].concat(o.visualViewport||[],Ae(n)?n:[]):n,a=e.concat(r);return s?a:a.concat(Te(ie(r)))}function Ce(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function Oe(t,e,i){return e===Et?Ce(function(t,e){var i=$t(t),n=ee(t),s=i.visualViewport,o=n.clientWidth,r=n.clientHeight,a=0,l=0;if(s){o=s.width,r=s.height;var c=Yt();(c||!c&&\"fixed\"===e)&&(a=s.offsetLeft,l=s.offsetTop)}return{width:o,height:r,x:a+we(t),y:l}}(t,i)):Wt(e)?function(t,e){var i=Ut(t,!1,\"fixed\"===e);return i.top=i.top+t.clientTop,i.left=i.left+t.clientLeft,i.bottom=i.top+t.clientHeight,i.right=i.left+t.clientWidth,i.width=t.clientWidth,i.height=t.clientHeight,i.x=i.left,i.y=i.top,i}(e,i):Ce(function(t){var e,i=ee(t),n=ye(t),s=null==(e=t.ownerDocument)?void 0:e.body,o=Vt(i.scrollWidth,i.clientWidth,s?s.scrollWidth:0,s?s.clientWidth:0),r=Vt(i.scrollHeight,i.clientHeight,s?s.scrollHeight:0,s?s.clientHeight:0),a=-n.scrollLeft+we(t),l=-n.scrollTop;return\"rtl\"===Zt(s||i).direction&&(a+=Vt(i.clientWidth,s?s.clientWidth:0)-o),{width:o,height:r,x:a,y:l}}(ee(t)))}function xe(t){var e,i=t.reference,n=t.element,s=t.placement,o=s?qt(s):null,r=s?he(s):null,a=i.x+i.width/2-n.width/2,l=i.y+i.height/2-n.height/2;switch(o){case pt:e={x:a,y:i.y-n.height};break;case mt:e={x:a,y:i.y+i.height};break;case gt:e={x:i.x+i.width,y:l};break;case _t:e={x:i.x-n.width,y:l};break;default:e={x:i.x,y:i.y}}var c=o?oe(o):null;if(null!=c){var h=\"y\"===c?\"height\":\"width\";switch(r){case yt:e[c]=e[c]-(i[h]/2-n[h]/2);break;case wt:e[c]=e[c]+(i[h]/2-n[h]/2)}}return e}function ke(t,e){void 0===e&&(e={});var i=e,n=i.placement,s=void 0===n?t.placement:n,o=i.strategy,r=void 0===o?t.strategy:o,a=i.boundary,l=void 0===a?At:a,c=i.rootBoundary,h=void 0===c?Et:c,d=i.elementContext,u=void 0===d?Tt:d,f=i.altBoundary,p=void 0!==f&&f,m=i.padding,g=void 0===m?0:m,_=ae(\"number\"!=typeof g?g:le(g,vt)),b=u===Tt?Ct:Tt,v=t.rects.popper,y=t.elements[p?b:u],w=function(t,e,i,n){var s=\"clippingParents\"===e?function(t){var e=Te(ie(t)),i=[\"absolute\",\"fixed\"].indexOf(Zt(t).position)>=0&&Bt(t)?se(t):t;return Wt(i)?e.filter((function(t){return Wt(t)&&Jt(t,i)&&\"body\"!==Ht(t)})):[]}(t):[].concat(e),o=[].concat(s,[i]),r=o[0],a=o.reduce((function(e,i){var s=Oe(t,i,n);return e.top=Vt(s.top,e.top),e.right=Kt(s.right,e.right),e.bottom=Kt(s.bottom,e.bottom),e.left=Vt(s.left,e.left),e}),Oe(t,r,n));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}(Wt(y)?y:y.contextElement||ee(t.elements.popper),l,h,r),A=Ut(t.elements.reference),E=xe({reference:A,element:v,strategy:\"absolute\",placement:s}),T=Ce(Object.assign({},v,E)),C=u===Tt?T:A,O={top:w.top-C.top+_.top,bottom:C.bottom-w.bottom+_.bottom,left:w.left-C.left+_.left,right:C.right-w.right+_.right},x=t.modifiersData.offset;if(u===Tt&&x){var k=x[s];Object.keys(O).forEach((function(t){var e=[gt,mt].indexOf(t)>=0?1:-1,i=[pt,mt].indexOf(t)>=0?\"y\":\"x\";O[t]+=k[i]*e}))}return O}function Le(t,e){void 0===e&&(e={});var i=e,n=i.placement,s=i.boundary,o=i.rootBoundary,r=i.padding,a=i.flipVariations,l=i.allowedAutoPlacements,c=void 0===l?xt:l,h=he(n),d=h?a?Ot:Ot.filter((function(t){return he(t)===h})):vt,u=d.filter((function(t){return c.indexOf(t)>=0}));0===u.length&&(u=d);var f=u.reduce((function(e,i){return e[i]=ke(t,{placement:i,boundary:s,rootBoundary:o,padding:r})[qt(i)],e}),{});return Object.keys(f).sort((function(t,e){return f[t]-f[e]}))}const Se={name:\"flip\",enabled:!0,phase:\"main\",fn:function(t){var e=t.state,i=t.options,n=t.name;if(!e.modifiersData[n]._skip){for(var s=i.mainAxis,o=void 0===s||s,r=i.altAxis,a=void 0===r||r,l=i.fallbackPlacements,c=i.padding,h=i.boundary,d=i.rootBoundary,u=i.altBoundary,f=i.flipVariations,p=void 0===f||f,m=i.allowedAutoPlacements,g=e.options.placement,_=qt(g),b=l||(_!==g&&p?function(t){if(qt(t)===bt)return[];var e=_e(t);return[ve(t),e,ve(e)]}(g):[_e(g)]),v=[g].concat(b).reduce((function(t,i){return t.concat(qt(i)===bt?Le(e,{placement:i,boundary:h,rootBoundary:d,padding:c,flipVariations:p,allowedAutoPlacements:m}):i)}),[]),y=e.rects.reference,w=e.rects.popper,A=new Map,E=!0,T=v[0],C=0;C<v.length;C++){var O=v[C],x=qt(O),k=he(O)===yt,L=[pt,mt].indexOf(x)>=0,S=L?\"width\":\"height\",D=ke(e,{placement:O,boundary:h,rootBoundary:d,altBoundary:u,padding:c}),I=L?k?gt:_t:k?mt:pt;y[S]>w[S]&&(I=_e(I));var N=_e(I),P=[];if(o&&P.push(D[x]<=0),a&&P.push(D[I]<=0,D[N]<=0),P.every((function(t){return t}))){T=O,E=!1;break}A.set(O,P)}if(E)for(var M=function(t){var e=v.find((function(e){var i=A.get(e);if(i)return i.slice(0,t).every((function(t){return t}))}));if(e)return T=e,\"break\"},j=p?3:1;j>0&&\"break\"!==M(j);j--);e.placement!==T&&(e.modifiersData[n]._skip=!0,e.placement=T,e.reset=!0)}},requiresIfExists:[\"offset\"],data:{_skip:!1}};function De(t,e,i){return void 0===i&&(i={x:0,y:0}),{top:t.top-e.height-i.y,right:t.right-e.width+i.x,bottom:t.bottom-e.height+i.y,left:t.left-e.width-i.x}}function Ie(t){return[pt,gt,mt,_t].some((function(e){return t[e]>=0}))}const Ne={name:\"hide\",enabled:!0,phase:\"main\",requiresIfExists:[\"preventOverflow\"],fn:function(t){var e=t.state,i=t.name,n=e.rects.reference,s=e.rects.popper,o=e.modifiersData.preventOverflow,r=ke(e,{elementContext:\"reference\"}),a=ke(e,{altBoundary:!0}),l=De(r,n),c=De(a,s,o),h=Ie(l),d=Ie(c);e.modifiersData[i]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:h,hasPopperEscaped:d},e.attributes.popper=Object.assign({},e.attributes.popper,{\"data-popper-reference-hidden\":h,\"data-popper-escaped\":d})}},Pe={name:\"offset\",enabled:!0,phase:\"main\",requires:[\"popperOffsets\"],fn:function(t){var e=t.state,i=t.options,n=t.name,s=i.offset,o=void 0===s?[0,0]:s,r=xt.reduce((function(t,i){return t[i]=function(t,e,i){var n=qt(t),s=[_t,pt].indexOf(n)>=0?-1:1,o=\"function\"==typeof i?i(Object.assign({},e,{placement:t})):i,r=o[0],a=o[1];return r=r||0,a=(a||0)*s,[_t,gt].indexOf(n)>=0?{x:a,y:r}:{x:r,y:a}}(i,e.rects,o),t}),{}),a=r[e.placement],l=a.x,c=a.y;null!=e.modifiersData.popperOffsets&&(e.modifiersData.popperOffsets.x+=l,e.modifiersData.popperOffsets.y+=c),e.modifiersData[n]=r}},Me={name:\"popperOffsets\",enabled:!0,phase:\"read\",fn:function(t){var e=t.state,i=t.name;e.modifiersData[i]=xe({reference:e.rects.reference,element:e.rects.popper,strategy:\"absolute\",placement:e.placement})},data:{}},je={name:\"preventOverflow\",enabled:!0,phase:\"main\",fn:function(t){var e=t.state,i=t.options,n=t.name,s=i.mainAxis,o=void 0===s||s,r=i.altAxis,a=void 0!==r&&r,l=i.boundary,c=i.rootBoundary,h=i.altBoundary,d=i.padding,u=i.tether,f=void 0===u||u,p=i.tetherOffset,m=void 0===p?0:p,g=ke(e,{boundary:l,rootBoundary:c,padding:d,altBoundary:h}),_=qt(e.placement),b=he(e.placement),v=!b,y=oe(_),w=\"x\"===y?\"y\":\"x\",A=e.modifiersData.popperOffsets,E=e.rects.reference,T=e.rects.popper,C=\"function\"==typeof m?m(Object.assign({},e.rects,{placement:e.placement})):m,O=\"number\"==typeof C?{mainAxis:C,altAxis:C}:Object.assign({mainAxis:0,altAxis:0},C),x=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,k={x:0,y:0};if(A){if(o){var L,S=\"y\"===y?pt:_t,D=\"y\"===y?mt:gt,I=\"y\"===y?\"height\":\"width\",N=A[y],P=N+g[S],M=N-g[D],j=f?-T[I]/2:0,F=b===yt?E[I]:T[I],H=b===yt?-T[I]:-E[I],$=e.elements.arrow,W=f&&$?Gt($):{width:0,height:0},B=e.modifiersData[\"arrow#persistent\"]?e.modifiersData[\"arrow#persistent\"].padding:{top:0,right:0,bottom:0,left:0},z=B[S],R=B[D],q=re(0,E[I],W[I]),V=v?E[I]/2-j-q-z-O.mainAxis:F-q-z-O.mainAxis,K=v?-E[I]/2+j+q+R+O.mainAxis:H+q+R+O.mainAxis,Q=e.elements.arrow&&se(e.elements.arrow),X=Q?\"y\"===y?Q.clientTop||0:Q.clientLeft||0:0,Y=null!=(L=null==x?void 0:x[y])?L:0,U=N+K-Y,G=re(f?Kt(P,N+V-Y-X):P,N,f?Vt(M,U):M);A[y]=G,k[y]=G-N}if(a){var J,Z=\"x\"===y?pt:_t,tt=\"x\"===y?mt:gt,et=A[w],it=\"y\"===w?\"height\":\"width\",nt=et+g[Z],st=et-g[tt],ot=-1!==[pt,_t].indexOf(_),rt=null!=(J=null==x?void 0:x[w])?J:0,at=ot?nt:et-E[it]-T[it]-rt+O.altAxis,lt=ot?et+E[it]+T[it]-rt-O.altAxis:st,ct=f&&ot?function(t,e,i){var n=re(t,e,i);return n>i?i:n}(at,et,lt):re(f?at:nt,et,f?lt:st);A[w]=ct,k[w]=ct-et}e.modifiersData[n]=k}},requiresIfExists:[\"offset\"]};function Fe(t,e,i){void 0===i&&(i=!1);var n,s,o=Bt(e),r=Bt(e)&&function(t){var e=t.getBoundingClientRect(),i=Qt(e.width)/t.offsetWidth||1,n=Qt(e.height)/t.offsetHeight||1;return 1!==i||1!==n}(e),a=ee(e),l=Ut(t,r,i),c={scrollLeft:0,scrollTop:0},h={x:0,y:0};return(o||!o&&!i)&&((\"body\"!==Ht(e)||Ae(a))&&(c=(n=e)!==$t(n)&&Bt(n)?{scrollLeft:(s=n).scrollLeft,scrollTop:s.scrollTop}:ye(n)),Bt(e)?((h=Ut(e,!0)).x+=e.clientLeft,h.y+=e.clientTop):a&&(h.x=we(a))),{x:l.left+c.scrollLeft-h.x,y:l.top+c.scrollTop-h.y,width:l.width,height:l.height}}function He(t){var e=new Map,i=new Set,n=[];function s(t){i.add(t.name),[].concat(t.requires||[],t.requiresIfExists||[]).forEach((function(t){if(!i.has(t)){var n=e.get(t);n&&s(n)}})),n.push(t)}return t.forEach((function(t){e.set(t.name,t)})),t.forEach((function(t){i.has(t.name)||s(t)})),n}var $e={placement:\"bottom\",modifiers:[],strategy:\"absolute\"};function We(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return!e.some((function(t){return!(t&&\"function\"==typeof t.getBoundingClientRect)}))}function Be(t){void 0===t&&(t={});var e=t,i=e.defaultModifiers,n=void 0===i?[]:i,s=e.defaultOptions,o=void 0===s?$e:s;return function(t,e,i){void 0===i&&(i=o);var s,r,a={placement:\"bottom\",orderedModifiers:[],options:Object.assign({},$e,o),modifiersData:{},elements:{reference:t,popper:e},attributes:{},styles:{}},l=[],c=!1,h={state:a,setOptions:function(i){var s=\"function\"==typeof i?i(a.options):i;d(),a.options=Object.assign({},o,a.options,s),a.scrollParents={reference:Wt(t)?Te(t):t.contextElement?Te(t.contextElement):[],popper:Te(e)};var r,c,u=function(t){var e=He(t);return Ft.reduce((function(t,i){return t.concat(e.filter((function(t){return t.phase===i})))}),[])}((r=[].concat(n,a.options.modifiers),c=r.reduce((function(t,e){var i=t[e.name];return t[e.name]=i?Object.assign({},i,e,{options:Object.assign({},i.options,e.options),data:Object.assign({},i.data,e.data)}):e,t}),{}),Object.keys(c).map((function(t){return c[t]}))));return a.orderedModifiers=u.filter((function(t){return t.enabled})),a.orderedModifiers.forEach((function(t){var e=t.name,i=t.options,n=void 0===i?{}:i,s=t.effect;if(\"function\"==typeof s){var o=s({state:a,name:e,instance:h,options:n});l.push(o||function(){})}})),h.update()},forceUpdate:function(){if(!c){var t=a.elements,e=t.reference,i=t.popper;if(We(e,i)){a.rects={reference:Fe(e,se(i),\"fixed\"===a.options.strategy),popper:Gt(i)},a.reset=!1,a.placement=a.options.placement,a.orderedModifiers.forEach((function(t){return a.modifiersData[t.name]=Object.assign({},t.data)}));for(var n=0;n<a.orderedModifiers.length;n++)if(!0!==a.reset){var s=a.orderedModifiers[n],o=s.fn,r=s.options,l=void 0===r?{}:r,d=s.name;\"function\"==typeof o&&(a=o({state:a,options:l,name:d,instance:h})||a)}else a.reset=!1,n=-1}}},update:(s=function(){return new Promise((function(t){h.forceUpdate(),t(a)}))},function(){return r||(r=new Promise((function(t){Promise.resolve().then((function(){r=void 0,t(s())}))}))),r}),destroy:function(){d(),c=!0}};if(!We(t,e))return h;function d(){l.forEach((function(t){return t()})),l=[]}return h.setOptions(i).then((function(t){!c&&i.onFirstUpdate&&i.onFirstUpdate(t)})),h}}var ze=Be(),Re=Be({defaultModifiers:[me,Me,fe,Rt]}),qe=Be({defaultModifiers:[me,Me,fe,Rt,Pe,Se,je,ce,Ne]});const Ve=Object.freeze(Object.defineProperty({__proto__:null,afterMain:Nt,afterRead:St,afterWrite:jt,applyStyles:Rt,arrow:ce,auto:bt,basePlacements:vt,beforeMain:Dt,beforeRead:kt,beforeWrite:Pt,bottom:mt,clippingParents:At,computeStyles:fe,createPopper:qe,createPopperBase:ze,createPopperLite:Re,detectOverflow:ke,end:wt,eventListeners:me,flip:Se,hide:Ne,left:_t,main:It,modifierPhases:Ft,offset:Pe,placements:xt,popper:Tt,popperGenerator:Be,popperOffsets:Me,preventOverflow:je,read:Lt,reference:Ct,right:gt,start:yt,top:pt,variationPlacements:Ot,viewport:Et,write:Mt},Symbol.toStringTag,{value:\"Module\"})),Ke=\"dropdown\",Qe=\"ArrowUp\",Xe=\"ArrowDown\",Ye=\"click.bs.dropdown.data-api\",Ue=\"keydown.bs.dropdown.data-api\",Ge=\"show\",Je='[data-bs-toggle=\"dropdown\"]:not(.disabled):not(:disabled)',Ze=`${Je}.show`,ti=\".dropdown-menu\",ei=p()?\"top-end\":\"top-start\",ii=p()?\"top-start\":\"top-end\",ni=p()?\"bottom-end\":\"bottom-start\",si=p()?\"bottom-start\":\"bottom-end\",oi=p()?\"left-start\":\"right-start\",ri=p()?\"right-start\":\"left-start\",ai={autoClose:!0,boundary:\"clippingParents\",display:\"dynamic\",offset:[0,2],popperConfig:null,reference:\"toggle\"},li={autoClose:\"(boolean|string)\",boundary:\"(string|element)\",display:\"string\",offset:\"(array|string|function)\",popperConfig:\"(null|object|function)\",reference:\"(string|element|object)\"};class ci extends W{constructor(t,e){super(t,e),this._popper=null,this._parent=this._element.parentNode,this._menu=z.next(this._element,ti)[0]||z.prev(this._element,ti)[0]||z.findOne(ti,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return ai}static get DefaultType(){return li}static get NAME(){return Ke}toggle(){return this._isShown()?this.hide():this.show()}show(){if(l(this._element)||this._isShown())return;const t={relatedTarget:this._element};if(!P.trigger(this._element,\"show.bs.dropdown\",t).defaultPrevented){if(this._createPopper(),\"ontouchstart\"in document.documentElement&&!this._parent.closest(\".navbar-nav\"))for(const t of[].concat(...document.body.children))P.on(t,\"mouseover\",h);this._element.focus(),this._element.setAttribute(\"aria-expanded\",!0),this._menu.classList.add(Ge),this._element.classList.add(Ge),P.trigger(this._element,\"shown.bs.dropdown\",t)}}hide(){if(l(this._element)||!this._isShown())return;const t={relatedTarget:this._element};this._completeHide(t)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(t){if(!P.trigger(this._element,\"hide.bs.dropdown\",t).defaultPrevented){if(\"ontouchstart\"in document.documentElement)for(const t of[].concat(...document.body.children))P.off(t,\"mouseover\",h);this._popper&&this._popper.destroy(),this._menu.classList.remove(Ge),this._element.classList.remove(Ge),this._element.setAttribute(\"aria-expanded\",\"false\"),H.removeDataAttribute(this._menu,\"popper\"),P.trigger(this._element,\"hidden.bs.dropdown\",t)}}_getConfig(t){if(\"object\"==typeof(t=super._getConfig(t)).reference&&!o(t.reference)&&\"function\"!=typeof t.reference.getBoundingClientRect)throw new TypeError(`${Ke.toUpperCase()}: Option \"reference\" provided type \"object\" without a required \"getBoundingClientRect\" method.`);return t}_createPopper(){if(void 0===Ve)throw new TypeError(\"Bootstrap's dropdowns require Popper (https://popper.js.org)\");let t=this._element;\"parent\"===this._config.reference?t=this._parent:o(this._config.reference)?t=r(this._config.reference):\"object\"==typeof this._config.reference&&(t=this._config.reference);const e=this._getPopperConfig();this._popper=qe(t,this._menu,e)}_isShown(){return this._menu.classList.contains(Ge)}_getPlacement(){const t=this._parent;if(t.classList.contains(\"dropend\"))return oi;if(t.classList.contains(\"dropstart\"))return ri;if(t.classList.contains(\"dropup-center\"))return\"top\";if(t.classList.contains(\"dropdown-center\"))return\"bottom\";const e=\"end\"===getComputedStyle(this._menu).getPropertyValue(\"--bs-position\").trim();return t.classList.contains(\"dropup\")?e?ii:ei:e?si:ni}_detectNavbar(){return null!==this._element.closest(\".navbar\")}_getOffset(){const{offset:t}=this._config;return\"string\"==typeof t?t.split(\",\").map((t=>Number.parseInt(t,10))):\"function\"==typeof t?e=>t(e,this._element):t}_getPopperConfig(){const t={placement:this._getPlacement(),modifiers:[{name:\"preventOverflow\",options:{boundary:this._config.boundary}},{name:\"offset\",options:{offset:this._getOffset()}}]};return(this._inNavbar||\"static\"===this._config.display)&&(H.setDataAttribute(this._menu,\"popper\",\"static\"),t.modifiers=[{name:\"applyStyles\",enabled:!1}]),{...t,...g(this._config.popperConfig,[t])}}_selectMenuItem({key:t,target:e}){const i=z.find(\".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)\",this._menu).filter((t=>a(t)));i.length&&b(i,e,t===Xe,!i.includes(e)).focus()}static jQueryInterface(t){return this.each((function(){const e=ci.getOrCreateInstance(this,t);if(\"string\"==typeof t){if(void 0===e[t])throw new TypeError(`No method named \"${t}\"`);e[t]()}}))}static clearMenus(t){if(2===t.button||\"keyup\"===t.type&&\"Tab\"!==t.key)return;const e=z.find(Ze);for(const i of e){const e=ci.getInstance(i);if(!e||!1===e._config.autoClose)continue;const n=t.composedPath(),s=n.includes(e._menu);if(n.includes(e._element)||\"inside\"===e._config.autoClose&&!s||\"outside\"===e._config.autoClose&&s)continue;if(e._menu.contains(t.target)&&(\"keyup\"===t.type&&\"Tab\"===t.key||/input|select|option|textarea|form/i.test(t.target.tagName)))continue;const o={relatedTarget:e._element};\"click\"===t.type&&(o.clickEvent=t),e._completeHide(o)}}static dataApiKeydownHandler(t){const e=/input|textarea/i.test(t.target.tagName),i=\"Escape\"===t.key,n=[Qe,Xe].includes(t.key);if(!n&&!i)return;if(e&&!i)return;t.preventDefault();const s=this.matches(Je)?this:z.prev(this,Je)[0]||z.next(this,Je)[0]||z.findOne(Je,t.delegateTarget.parentNode),o=ci.getOrCreateInstance(s);if(n)return t.stopPropagation(),o.show(),void o._selectMenuItem(t);o._isShown()&&(t.stopPropagation(),o.hide(),s.focus())}}P.on(document,Ue,Je,ci.dataApiKeydownHandler),P.on(document,Ue,ti,ci.dataApiKeydownHandler),P.on(document,Ye,ci.clearMenus),P.on(document,\"keyup.bs.dropdown.data-api\",ci.clearMenus),P.on(document,Ye,Je,(function(t){t.preventDefault(),ci.getOrCreateInstance(this).toggle()})),m(ci);const hi=\"show\",di=\"mousedown.bs.backdrop\",ui={className:\"modal-backdrop\",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:\"body\"},fi={className:\"string\",clickCallback:\"(function|null)\",isAnimated:\"boolean\",isVisible:\"boolean\",rootElement:\"(element|string)\"};class pi extends ${constructor(t){super(),this._config=this._getConfig(t),this._isAppended=!1,this._element=null}static get Default(){return ui}static get DefaultType(){return fi}static get NAME(){return\"backdrop\"}show(t){if(!this._config.isVisible)return void g(t);this._append();const e=this._getElement();this._config.isAnimated&&d(e),e.classList.add(hi),this._emulateAnimation((()=>{g(t)}))}hide(t){this._config.isVisible?(this._getElement().classList.remove(hi),this._emulateAnimation((()=>{this.dispose(),g(t)}))):g(t)}dispose(){this._isAppended&&(P.off(this._element,di),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const t=document.createElement(\"div\");t.className=this._config.className,this._config.isAnimated&&t.classList.add(\"fade\"),this._element=t}return this._element}_configAfterMerge(t){return t.rootElement=r(t.rootElement),t}_append(){if(this._isAppended)return;const t=this._getElement();this._config.rootElement.append(t),P.on(t,di,(()=>{g(this._config.clickCallback)})),this._isAppended=!0}_emulateAnimation(t){_(t,this._getElement(),this._config.isAnimated)}}const mi=\".bs.focustrap\",gi=\"backward\",_i={autofocus:!0,trapElement:null},bi={autofocus:\"boolean\",trapElement:\"element\"};class vi extends ${constructor(t){super(),this._config=this._getConfig(t),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return _i}static get DefaultType(){return bi}static get NAME(){return\"focustrap\"}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),P.off(document,mi),P.on(document,\"focusin.bs.focustrap\",(t=>this._handleFocusin(t))),P.on(document,\"keydown.tab.bs.focustrap\",(t=>this._handleKeydown(t))),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,P.off(document,mi))}_handleFocusin(t){const{trapElement:e}=this._config;if(t.target===document||t.target===e||e.contains(t.target))return;const i=z.focusableChildren(e);0===i.length?e.focus():this._lastTabNavDirection===gi?i[i.length-1].focus():i[0].focus()}_handleKeydown(t){\"Tab\"===t.key&&(this._lastTabNavDirection=t.shiftKey?gi:\"forward\")}}const yi=\".fixed-top, .fixed-bottom, .is-fixed, .sticky-top\",wi=\".sticky-top\",Ai=\"padding-right\",Ei=\"margin-right\";class Ti{constructor(){this._element=document.body}getWidth(){const t=document.documentElement.clientWidth;return Math.abs(window.innerWidth-t)}hide(){const t=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,Ai,(e=>e+t)),this._setElementAttributes(yi,Ai,(e=>e+t)),this._setElementAttributes(wi,Ei,(e=>e-t))}reset(){this._resetElementAttributes(this._element,\"overflow\"),this._resetElementAttributes(this._element,Ai),this._resetElementAttributes(yi,Ai),this._resetElementAttributes(wi,Ei)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,\"overflow\"),this._element.style.overflow=\"hidden\"}_setElementAttributes(t,e,i){const n=this.getWidth();this._applyManipulationCallback(t,(t=>{if(t!==this._element&&window.innerWidth>t.clientWidth+n)return;this._saveInitialAttribute(t,e);const s=window.getComputedStyle(t).getPropertyValue(e);t.style.setProperty(e,`${i(Number.parseFloat(s))}px`)}))}_saveInitialAttribute(t,e){const i=t.style.getPropertyValue(e);i&&H.setDataAttribute(t,e,i)}_resetElementAttributes(t,e){this._applyManipulationCallback(t,(t=>{const i=H.getDataAttribute(t,e);null!==i?(H.removeDataAttribute(t,e),t.style.setProperty(e,i)):t.style.removeProperty(e)}))}_applyManipulationCallback(t,e){if(o(t))e(t);else for(const i of z.find(t,this._element))e(i)}}const Ci=\".bs.modal\",Oi=\"hidden.bs.modal\",xi=\"show.bs.modal\",ki=\"modal-open\",Li=\"show\",Si=\"modal-static\",Di={backdrop:!0,focus:!0,keyboard:!0},Ii={backdrop:\"(boolean|string)\",focus:\"boolean\",keyboard:\"boolean\"};class Ni extends W{constructor(t,e){super(t,e),this._dialog=z.findOne(\".modal-dialog\",this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new Ti,this._addEventListeners()}static get Default(){return Di}static get DefaultType(){return Ii}static get NAME(){return\"modal\"}toggle(t){return this._isShown?this.hide():this.show(t)}show(t){this._isShown||this._isTransitioning||P.trigger(this._element,xi,{relatedTarget:t}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(ki),this._adjustDialog(),this._backdrop.show((()=>this._showElement(t))))}hide(){this._isShown&&!this._isTransitioning&&(P.trigger(this._element,\"hide.bs.modal\").defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(Li),this._queueCallback((()=>this._hideModal()),this._element,this._isAnimated())))}dispose(){P.off(window,Ci),P.off(this._dialog,Ci),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new pi({isVisible:Boolean(this._config.backdrop),isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new vi({trapElement:this._element})}_showElement(t){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display=\"block\",this._element.removeAttribute(\"aria-hidden\"),this._element.setAttribute(\"aria-modal\",!0),this._element.setAttribute(\"role\",\"dialog\"),this._element.scrollTop=0;const e=z.findOne(\".modal-body\",this._dialog);e&&(e.scrollTop=0),d(this._element),this._element.classList.add(Li),this._queueCallback((()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,P.trigger(this._element,\"shown.bs.modal\",{relatedTarget:t})}),this._dialog,this._isAnimated())}_addEventListeners(){P.on(this._element,\"keydown.dismiss.bs.modal\",(t=>{\"Escape\"===t.key&&(this._config.keyboard?this.hide():this._triggerBackdropTransition())})),P.on(window,\"resize.bs.modal\",(()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()})),P.on(this._element,\"mousedown.dismiss.bs.modal\",(t=>{P.one(this._element,\"click.dismiss.bs.modal\",(e=>{this._element===t.target&&this._element===e.target&&(\"static\"!==this._config.backdrop?this._config.backdrop&&this.hide():this._triggerBackdropTransition())}))}))}_hideModal(){this._element.style.display=\"none\",this._element.setAttribute(\"aria-hidden\",!0),this._element.removeAttribute(\"aria-modal\"),this._element.removeAttribute(\"role\"),this._isTransitioning=!1,this._backdrop.hide((()=>{document.body.classList.remove(ki),this._resetAdjustments(),this._scrollBar.reset(),P.trigger(this._element,Oi)}))}_isAnimated(){return this._element.classList.contains(\"fade\")}_triggerBackdropTransition(){if(P.trigger(this._element,\"hidePrevented.bs.modal\").defaultPrevented)return;const t=this._element.scrollHeight>document.documentElement.clientHeight,e=this._element.style.overflowY;\"hidden\"===e||this._element.classList.contains(Si)||(t||(this._element.style.overflowY=\"hidden\"),this._element.classList.add(Si),this._queueCallback((()=>{this._element.classList.remove(Si),this._queueCallback((()=>{this._element.style.overflowY=e}),this._dialog)}),this._dialog),this._element.focus())}_adjustDialog(){const t=this._element.scrollHeight>document.documentElement.clientHeight,e=this._scrollBar.getWidth(),i=e>0;if(i&&!t){const t=p()?\"paddingLeft\":\"paddingRight\";this._element.style[t]=`${e}px`}if(!i&&t){const t=p()?\"paddingRight\":\"paddingLeft\";this._element.style[t]=`${e}px`}}_resetAdjustments(){this._element.style.paddingLeft=\"\",this._element.style.paddingRight=\"\"}static jQueryInterface(t,e){return this.each((function(){const i=Ni.getOrCreateInstance(this,t);if(\"string\"==typeof t){if(void 0===i[t])throw new TypeError(`No method named \"${t}\"`);i[t](e)}}))}}P.on(document,\"click.bs.modal.data-api\",'[data-bs-toggle=\"modal\"]',(function(t){const e=z.getElementFromSelector(this);[\"A\",\"AREA\"].includes(this.tagName)&&t.preventDefault(),P.one(e,xi,(t=>{t.defaultPrevented||P.one(e,Oi,(()=>{a(this)&&this.focus()}))}));const i=z.findOne(\".modal.show\");i&&Ni.getInstance(i).hide(),Ni.getOrCreateInstance(e).toggle(this)})),R(Ni),m(Ni);const Pi=\"show\",Mi=\"showing\",ji=\"hiding\",Fi=\".offcanvas.show\",Hi=\"hidePrevented.bs.offcanvas\",$i=\"hidden.bs.offcanvas\",Wi={backdrop:!0,keyboard:!0,scroll:!1},Bi={backdrop:\"(boolean|string)\",keyboard:\"boolean\",scroll:\"boolean\"};class zi extends W{constructor(t,e){super(t,e),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return Wi}static get DefaultType(){return Bi}static get NAME(){return\"offcanvas\"}toggle(t){return this._isShown?this.hide():this.show(t)}show(t){this._isShown||P.trigger(this._element,\"show.bs.offcanvas\",{relatedTarget:t}).defaultPrevented||(this._isShown=!0,this._backdrop.show(),this._config.scroll||(new Ti).hide(),this._element.setAttribute(\"aria-modal\",!0),this._element.setAttribute(\"role\",\"dialog\"),this._element.classList.add(Mi),this._queueCallback((()=>{this._config.scroll&&!this._config.backdrop||this._focustrap.activate(),this._element.classList.add(Pi),this._element.classList.remove(Mi),P.trigger(this._element,\"shown.bs.offcanvas\",{relatedTarget:t})}),this._element,!0))}hide(){this._isShown&&(P.trigger(this._element,\"hide.bs.offcanvas\").defaultPrevented||(this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(ji),this._backdrop.hide(),this._queueCallback((()=>{this._element.classList.remove(Pi,ji),this._element.removeAttribute(\"aria-modal\"),this._element.removeAttribute(\"role\"),this._config.scroll||(new Ti).reset(),P.trigger(this._element,$i)}),this._element,!0)))}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const t=Boolean(this._config.backdrop);return new pi({className:\"offcanvas-backdrop\",isVisible:t,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:t?()=>{\"static\"!==this._config.backdrop?this.hide():P.trigger(this._element,Hi)}:null})}_initializeFocusTrap(){return new vi({trapElement:this._element})}_addEventListeners(){P.on(this._element,\"keydown.dismiss.bs.offcanvas\",(t=>{\"Escape\"===t.key&&(this._config.keyboard?this.hide():P.trigger(this._element,Hi))}))}static jQueryInterface(t){return this.each((function(){const e=zi.getOrCreateInstance(this,t);if(\"string\"==typeof t){if(void 0===e[t]||t.startsWith(\"_\")||\"constructor\"===t)throw new TypeError(`No method named \"${t}\"`);e[t](this)}}))}}P.on(document,\"click.bs.offcanvas.data-api\",'[data-bs-toggle=\"offcanvas\"]',(function(t){const e=z.getElementFromSelector(this);if([\"A\",\"AREA\"].includes(this.tagName)&&t.preventDefault(),l(this))return;P.one(e,$i,(()=>{a(this)&&this.focus()}));const i=z.findOne(Fi);i&&i!==e&&zi.getInstance(i).hide(),zi.getOrCreateInstance(e).toggle(this)})),P.on(window,\"load.bs.offcanvas.data-api\",(()=>{for(const t of z.find(Fi))zi.getOrCreateInstance(t).show()})),P.on(window,\"resize.bs.offcanvas\",(()=>{for(const t of z.find(\"[aria-modal][class*=show][class*=offcanvas-]\"))\"fixed\"!==getComputedStyle(t).position&&zi.getOrCreateInstance(t).hide()})),R(zi),m(zi);const Ri={\"*\":[\"class\",\"dir\",\"id\",\"lang\",\"role\",/^aria-[\\w-]*$/i],a:[\"target\",\"href\",\"title\",\"rel\"],area:[],b:[],br:[],col:[],code:[],div:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:[\"src\",\"srcset\",\"alt\",\"title\",\"width\",\"height\"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},qi=new Set([\"background\",\"cite\",\"href\",\"itemtype\",\"longdesc\",\"poster\",\"src\",\"xlink:href\"]),Vi=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,Ki=(t,e)=>{const i=t.nodeName.toLowerCase();return e.includes(i)?!qi.has(i)||Boolean(Vi.test(t.nodeValue)):e.filter((t=>t instanceof RegExp)).some((t=>t.test(i)))},Qi={allowList:Ri,content:{},extraClass:\"\",html:!1,sanitize:!0,sanitizeFn:null,template:\"<div></div>\"},Xi={allowList:\"object\",content:\"object\",extraClass:\"(string|function)\",html:\"boolean\",sanitize:\"boolean\",sanitizeFn:\"(null|function)\",template:\"string\"},Yi={entry:\"(string|element|function|null)\",selector:\"(string|element)\"};class Ui extends ${constructor(t){super(),this._config=this._getConfig(t)}static get Default(){return Qi}static get DefaultType(){return Xi}static get NAME(){return\"TemplateFactory\"}getContent(){return Object.values(this._config.content).map((t=>this._resolvePossibleFunction(t))).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(t){return this._checkContent(t),this._config.content={...this._config.content,...t},this}toHtml(){const t=document.createElement(\"div\");t.innerHTML=this._maybeSanitize(this._config.template);for(const[e,i]of Object.entries(this._config.content))this._setContent(t,i,e);const e=t.children[0],i=this._resolvePossibleFunction(this._config.extraClass);return i&&e.classList.add(...i.split(\" \")),e}_typeCheckConfig(t){super._typeCheckConfig(t),this._checkContent(t.content)}_checkContent(t){for(const[e,i]of Object.entries(t))super._typeCheckConfig({selector:e,entry:i},Yi)}_setContent(t,e,i){const n=z.findOne(i,t);n&&((e=this._resolvePossibleFunction(e))?o(e)?this._putElementInTemplate(r(e),n):this._config.html?n.innerHTML=this._maybeSanitize(e):n.textContent=e:n.remove())}_maybeSanitize(t){return this._config.sanitize?function(t,e,i){if(!t.length)return t;if(i&&\"function\"==typeof i)return i(t);const n=(new window.DOMParser).parseFromString(t,\"text/html\"),s=[].concat(...n.body.querySelectorAll(\"*\"));for(const t of s){const i=t.nodeName.toLowerCase();if(!Object.keys(e).includes(i)){t.remove();continue}const n=[].concat(...t.attributes),s=[].concat(e[\"*\"]||[],e[i]||[]);for(const e of n)Ki(e,s)||t.removeAttribute(e.nodeName)}return n.body.innerHTML}(t,this._config.allowList,this._config.sanitizeFn):t}_resolvePossibleFunction(t){return g(t,[this])}_putElementInTemplate(t,e){if(this._config.html)return e.innerHTML=\"\",void e.append(t);e.textContent=t.textContent}}const Gi=new Set([\"sanitize\",\"allowList\",\"sanitizeFn\"]),Ji=\"fade\",Zi=\"show\",tn=\".modal\",en=\"hide.bs.modal\",nn=\"hover\",sn=\"focus\",on={AUTO:\"auto\",TOP:\"top\",RIGHT:p()?\"left\":\"right\",BOTTOM:\"bottom\",LEFT:p()?\"right\":\"left\"},rn={allowList:Ri,animation:!0,boundary:\"clippingParents\",container:!1,customClass:\"\",delay:0,fallbackPlacements:[\"top\",\"right\",\"bottom\",\"left\"],html:!1,offset:[0,6],placement:\"top\",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class=\"tooltip\" role=\"tooltip\"><div class=\"tooltip-arrow\"></div><div class=\"tooltip-inner\"></div></div>',title:\"\",trigger:\"hover focus\"},an={allowList:\"object\",animation:\"boolean\",boundary:\"(string|element)\",container:\"(string|element|boolean)\",customClass:\"(string|function)\",delay:\"(number|object)\",fallbackPlacements:\"array\",html:\"boolean\",offset:\"(array|string|function)\",placement:\"(string|function)\",popperConfig:\"(null|object|function)\",sanitize:\"boolean\",sanitizeFn:\"(null|function)\",selector:\"(string|boolean)\",template:\"string\",title:\"(string|element|function)\",trigger:\"string\"};class ln extends W{constructor(t,e){if(void 0===Ve)throw new TypeError(\"Bootstrap's tooltips require Popper (https://popper.js.org)\");super(t,e),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return rn}static get DefaultType(){return an}static get NAME(){return\"tooltip\"}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){this._isEnabled&&(this._activeTrigger.click=!this._activeTrigger.click,this._isShown()?this._leave():this._enter())}dispose(){clearTimeout(this._timeout),P.off(this._element.closest(tn),en,this._hideModalHandler),this._element.getAttribute(\"data-bs-original-title\")&&this._element.setAttribute(\"title\",this._element.getAttribute(\"data-bs-original-title\")),this._disposePopper(),super.dispose()}show(){if(\"none\"===this._element.style.display)throw new Error(\"Please use show on visible elements\");if(!this._isWithContent()||!this._isEnabled)return;const t=P.trigger(this._element,this.constructor.eventName(\"show\")),e=(c(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(t.defaultPrevented||!e)return;this._disposePopper();const i=this._getTipElement();this._element.setAttribute(\"aria-describedby\",i.getAttribute(\"id\"));const{container:n}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(n.append(i),P.trigger(this._element,this.constructor.eventName(\"inserted\"))),this._popper=this._createPopper(i),i.classList.add(Zi),\"ontouchstart\"in document.documentElement)for(const t of[].concat(...document.body.children))P.on(t,\"mouseover\",h);this._queueCallback((()=>{P.trigger(this._element,this.constructor.eventName(\"shown\")),!1===this._isHovered&&this._leave(),this._isHovered=!1}),this.tip,this._isAnimated())}hide(){if(this._isShown()&&!P.trigger(this._element,this.constructor.eventName(\"hide\")).defaultPrevented){if(this._getTipElement().classList.remove(Zi),\"ontouchstart\"in document.documentElement)for(const t of[].concat(...document.body.children))P.off(t,\"mouseover\",h);this._activeTrigger.click=!1,this._activeTrigger.focus=!1,this._activeTrigger.hover=!1,this._isHovered=null,this._queueCallback((()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute(\"aria-describedby\"),P.trigger(this._element,this.constructor.eventName(\"hidden\")))}),this.tip,this._isAnimated())}}update(){this._popper&&this._popper.update()}_isWithContent(){return Boolean(this._getTitle())}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(t){const e=this._getTemplateFactory(t).toHtml();if(!e)return null;e.classList.remove(Ji,Zi),e.classList.add(`bs-${this.constructor.NAME}-auto`);const i=(t=>{do{t+=Math.floor(1e6*Math.random())}while(document.getElementById(t));return t})(this.constructor.NAME).toString();return e.setAttribute(\"id\",i),this._isAnimated()&&e.classList.add(Ji),e}setContent(t){this._newContent=t,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(t){return this._templateFactory?this._templateFactory.changeContent(t):this._templateFactory=new Ui({...this._config,content:t,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{\".tooltip-inner\":this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute(\"data-bs-original-title\")}_initializeOnDelegatedTarget(t){return this.constructor.getOrCreateInstance(t.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(Ji)}_isShown(){return this.tip&&this.tip.classList.contains(Zi)}_createPopper(t){const e=g(this._config.placement,[this,t,this._element]),i=on[e.toUpperCase()];return qe(this._element,t,this._getPopperConfig(i))}_getOffset(){const{offset:t}=this._config;return\"string\"==typeof t?t.split(\",\").map((t=>Number.parseInt(t,10))):\"function\"==typeof t?e=>t(e,this._element):t}_resolvePossibleFunction(t){return g(t,[this._element])}_getPopperConfig(t){const e={placement:t,modifiers:[{name:\"flip\",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:\"offset\",options:{offset:this._getOffset()}},{name:\"preventOverflow\",options:{boundary:this._config.boundary}},{name:\"arrow\",options:{element:`.${this.constructor.NAME}-arrow`}},{name:\"preSetPlacement\",enabled:!0,phase:\"beforeMain\",fn:t=>{this._getTipElement().setAttribute(\"data-popper-placement\",t.state.placement)}}]};return{...e,...g(this._config.popperConfig,[e])}}_setListeners(){const t=this._config.trigger.split(\" \");for(const e of t)if(\"click\"===e)P.on(this._element,this.constructor.eventName(\"click\"),this._config.selector,(t=>{this._initializeOnDelegatedTarget(t).toggle()}));else if(\"manual\"!==e){const t=e===nn?this.constructor.eventName(\"mouseenter\"):this.constructor.eventName(\"focusin\"),i=e===nn?this.constructor.eventName(\"mouseleave\"):this.constructor.eventName(\"focusout\");P.on(this._element,t,this._config.selector,(t=>{const e=this._initializeOnDelegatedTarget(t);e._activeTrigger[\"focusin\"===t.type?sn:nn]=!0,e._enter()})),P.on(this._element,i,this._config.selector,(t=>{const e=this._initializeOnDelegatedTarget(t);e._activeTrigger[\"focusout\"===t.type?sn:nn]=e._element.contains(t.relatedTarget),e._leave()}))}this._hideModalHandler=()=>{this._element&&this.hide()},P.on(this._element.closest(tn),en,this._hideModalHandler)}_fixTitle(){const t=this._element.getAttribute(\"title\");t&&(this._element.getAttribute(\"aria-label\")||this._element.textContent.trim()||this._element.setAttribute(\"aria-label\",t),this._element.setAttribute(\"data-bs-original-title\",t),this._element.removeAttribute(\"title\"))}_enter(){this._isShown()||this._isHovered?this._isHovered=!0:(this._isHovered=!0,this._setTimeout((()=>{this._isHovered&&this.show()}),this._config.delay.show))}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout((()=>{this._isHovered||this.hide()}),this._config.delay.hide))}_setTimeout(t,e){clearTimeout(this._timeout),this._timeout=setTimeout(t,e)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(t){const e=H.getDataAttributes(this._element);for(const t of Object.keys(e))Gi.has(t)&&delete e[t];return t={...e,...\"object\"==typeof t&&t?t:{}},t=this._mergeConfigObj(t),t=this._configAfterMerge(t),this._typeCheckConfig(t),t}_configAfterMerge(t){return t.container=!1===t.container?document.body:r(t.container),\"number\"==typeof t.delay&&(t.delay={show:t.delay,hide:t.delay}),\"number\"==typeof t.title&&(t.title=t.title.toString()),\"number\"==typeof t.content&&(t.content=t.content.toString()),t}_getDelegateConfig(){const t={};for(const[e,i]of Object.entries(this._config))this.constructor.Default[e]!==i&&(t[e]=i);return t.selector=!1,t.trigger=\"manual\",t}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(t){return this.each((function(){const e=ln.getOrCreateInstance(this,t);if(\"string\"==typeof t){if(void 0===e[t])throw new TypeError(`No method named \"${t}\"`);e[t]()}}))}}m(ln);const cn={...ln.Default,content:\"\",offset:[0,8],placement:\"right\",template:'<div class=\"popover\" role=\"tooltip\"><div class=\"popover-arrow\"></div><h3 class=\"popover-header\"></h3><div class=\"popover-body\"></div></div>',trigger:\"click\"},hn={...ln.DefaultType,content:\"(null|string|element|function)\"};class dn extends ln{static get Default(){return cn}static get DefaultType(){return hn}static get NAME(){return\"popover\"}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{\".popover-header\":this._getTitle(),\".popover-body\":this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(t){return this.each((function(){const e=dn.getOrCreateInstance(this,t);if(\"string\"==typeof t){if(void 0===e[t])throw new TypeError(`No method named \"${t}\"`);e[t]()}}))}}m(dn);const un=\"click.bs.scrollspy\",fn=\"active\",pn=\"[href]\",mn={offset:null,rootMargin:\"0px 0px -25%\",smoothScroll:!1,target:null,threshold:[.1,.5,1]},gn={offset:\"(number|null)\",rootMargin:\"string\",smoothScroll:\"boolean\",target:\"element\",threshold:\"array\"};class _n extends W{constructor(t,e){super(t,e),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement=\"visible\"===getComputedStyle(this._element).overflowY?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return mn}static get DefaultType(){return gn}static get NAME(){return\"scrollspy\"}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const t of this._observableSections.values())this._observer.observe(t)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(t){return t.target=r(t.target)||document.body,t.rootMargin=t.offset?`${t.offset}px 0px -30%`:t.rootMargin,\"string\"==typeof t.threshold&&(t.threshold=t.threshold.split(\",\").map((t=>Number.parseFloat(t)))),t}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(P.off(this._config.target,un),P.on(this._config.target,un,pn,(t=>{const e=this._observableSections.get(t.target.hash);if(e){t.preventDefault();const i=this._rootElement||window,n=e.offsetTop-this._element.offsetTop;if(i.scrollTo)return void i.scrollTo({top:n,behavior:\"smooth\"});i.scrollTop=n}})))}_getNewObserver(){const t={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver((t=>this._observerCallback(t)),t)}_observerCallback(t){const e=t=>this._targetLinks.get(`#${t.target.id}`),i=t=>{this._previousScrollData.visibleEntryTop=t.target.offsetTop,this._process(e(t))},n=(this._rootElement||document.documentElement).scrollTop,s=n>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=n;for(const o of t){if(!o.isIntersecting){this._activeTarget=null,this._clearActiveClass(e(o));continue}const t=o.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(s&&t){if(i(o),!n)return}else s||t||i(o)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const t=z.find(pn,this._config.target);for(const e of t){if(!e.hash||l(e))continue;const t=z.findOne(decodeURI(e.hash),this._element);a(t)&&(this._targetLinks.set(decodeURI(e.hash),e),this._observableSections.set(e.hash,t))}}_process(t){this._activeTarget!==t&&(this._clearActiveClass(this._config.target),this._activeTarget=t,t.classList.add(fn),this._activateParents(t),P.trigger(this._element,\"activate.bs.scrollspy\",{relatedTarget:t}))}_activateParents(t){if(t.classList.contains(\"dropdown-item\"))z.findOne(\".dropdown-toggle\",t.closest(\".dropdown\")).classList.add(fn);else for(const e of z.parents(t,\".nav, .list-group\"))for(const t of z.prev(e,\".nav-link, .nav-item > .nav-link, .list-group-item\"))t.classList.add(fn)}_clearActiveClass(t){t.classList.remove(fn);const e=z.find(\"[href].active\",t);for(const t of e)t.classList.remove(fn)}static jQueryInterface(t){return this.each((function(){const e=_n.getOrCreateInstance(this,t);if(\"string\"==typeof t){if(void 0===e[t]||t.startsWith(\"_\")||\"constructor\"===t)throw new TypeError(`No method named \"${t}\"`);e[t]()}}))}}P.on(window,\"load.bs.scrollspy.data-api\",(()=>{for(const t of z.find('[data-bs-spy=\"scroll\"]'))_n.getOrCreateInstance(t)})),m(_n);const bn=\"ArrowLeft\",vn=\"ArrowRight\",yn=\"ArrowUp\",wn=\"ArrowDown\",An=\"active\",En=\"fade\",Tn=\"show\",Cn='[data-bs-toggle=\"tab\"], [data-bs-toggle=\"pill\"], [data-bs-toggle=\"list\"]',On=`.nav-link:not(.dropdown-toggle), .list-group-item:not(.dropdown-toggle), [role=\"tab\"]:not(.dropdown-toggle), ${Cn}`;class xn extends W{constructor(t){super(t),this._parent=this._element.closest('.list-group, .nav, [role=\"tablist\"]'),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),P.on(this._element,\"keydown.bs.tab\",(t=>this._keydown(t))))}static get NAME(){return\"tab\"}show(){const t=this._element;if(this._elemIsActive(t))return;const e=this._getActiveElem(),i=e?P.trigger(e,\"hide.bs.tab\",{relatedTarget:t}):null;P.trigger(t,\"show.bs.tab\",{relatedTarget:e}).defaultPrevented||i&&i.defaultPrevented||(this._deactivate(e,t),this._activate(t,e))}_activate(t,e){t&&(t.classList.add(An),this._activate(z.getElementFromSelector(t)),this._queueCallback((()=>{\"tab\"===t.getAttribute(\"role\")?(t.removeAttribute(\"tabindex\"),t.setAttribute(\"aria-selected\",!0),this._toggleDropDown(t,!0),P.trigger(t,\"shown.bs.tab\",{relatedTarget:e})):t.classList.add(Tn)}),t,t.classList.contains(En)))}_deactivate(t,e){t&&(t.classList.remove(An),t.blur(),this._deactivate(z.getElementFromSelector(t)),this._queueCallback((()=>{\"tab\"===t.getAttribute(\"role\")?(t.setAttribute(\"aria-selected\",!1),t.setAttribute(\"tabindex\",\"-1\"),this._toggleDropDown(t,!1),P.trigger(t,\"hidden.bs.tab\",{relatedTarget:e})):t.classList.remove(Tn)}),t,t.classList.contains(En)))}_keydown(t){if(![bn,vn,yn,wn].includes(t.key))return;t.stopPropagation(),t.preventDefault();const e=[vn,wn].includes(t.key),i=b(this._getChildren().filter((t=>!l(t))),t.target,e,!0);i&&(i.focus({preventScroll:!0}),xn.getOrCreateInstance(i).show())}_getChildren(){return z.find(On,this._parent)}_getActiveElem(){return this._getChildren().find((t=>this._elemIsActive(t)))||null}_setInitialAttributes(t,e){this._setAttributeIfNotExists(t,\"role\",\"tablist\");for(const t of e)this._setInitialAttributesOnChild(t)}_setInitialAttributesOnChild(t){t=this._getInnerElement(t);const e=this._elemIsActive(t),i=this._getOuterElement(t);t.setAttribute(\"aria-selected\",e),i!==t&&this._setAttributeIfNotExists(i,\"role\",\"presentation\"),e||t.setAttribute(\"tabindex\",\"-1\"),this._setAttributeIfNotExists(t,\"role\",\"tab\"),this._setInitialAttributesOnTargetPanel(t)}_setInitialAttributesOnTargetPanel(t){const e=z.getElementFromSelector(t);e&&(this._setAttributeIfNotExists(e,\"role\",\"tabpanel\"),t.id&&this._setAttributeIfNotExists(e,\"aria-labelledby\",`${t.id}`))}_toggleDropDown(t,e){const i=this._getOuterElement(t);if(!i.classList.contains(\"dropdown\"))return;const n=(t,n)=>{const s=z.findOne(t,i);s&&s.classList.toggle(n,e)};n(\".dropdown-toggle\",An),n(\".dropdown-menu\",Tn),i.setAttribute(\"aria-expanded\",e)}_setAttributeIfNotExists(t,e,i){t.hasAttribute(e)||t.setAttribute(e,i)}_elemIsActive(t){return t.classList.contains(An)}_getInnerElement(t){return t.matches(On)?t:z.findOne(On,t)}_getOuterElement(t){return t.closest(\".nav-item, .list-group-item\")||t}static jQueryInterface(t){return this.each((function(){const e=xn.getOrCreateInstance(this);if(\"string\"==typeof t){if(void 0===e[t]||t.startsWith(\"_\")||\"constructor\"===t)throw new TypeError(`No method named \"${t}\"`);e[t]()}}))}}P.on(document,\"click.bs.tab\",Cn,(function(t){[\"A\",\"AREA\"].includes(this.tagName)&&t.preventDefault(),l(this)||xn.getOrCreateInstance(this).show()})),P.on(window,\"load.bs.tab\",(()=>{for(const t of z.find('.active[data-bs-toggle=\"tab\"], .active[data-bs-toggle=\"pill\"], .active[data-bs-toggle=\"list\"]'))xn.getOrCreateInstance(t)})),m(xn);const kn=\"hide\",Ln=\"show\",Sn=\"showing\",Dn={animation:\"boolean\",autohide:\"boolean\",delay:\"number\"},In={animation:!0,autohide:!0,delay:5e3};class Nn extends W{constructor(t,e){super(t,e),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return In}static get DefaultType(){return Dn}static get NAME(){return\"toast\"}show(){P.trigger(this._element,\"show.bs.toast\").defaultPrevented||(this._clearTimeout(),this._config.animation&&this._element.classList.add(\"fade\"),this._element.classList.remove(kn),d(this._element),this._element.classList.add(Ln,Sn),this._queueCallback((()=>{this._element.classList.remove(Sn),P.trigger(this._element,\"shown.bs.toast\"),this._maybeScheduleHide()}),this._element,this._config.animation))}hide(){this.isShown()&&(P.trigger(this._element,\"hide.bs.toast\").defaultPrevented||(this._element.classList.add(Sn),this._queueCallback((()=>{this._element.classList.add(kn),this._element.classList.remove(Sn,Ln),P.trigger(this._element,\"hidden.bs.toast\")}),this._element,this._config.animation)))}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(Ln),super.dispose()}isShown(){return this._element.classList.contains(Ln)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout((()=>{this.hide()}),this._config.delay)))}_onInteraction(t,e){switch(t.type){case\"mouseover\":case\"mouseout\":this._hasMouseInteraction=e;break;case\"focusin\":case\"focusout\":this._hasKeyboardInteraction=e}if(e)return void this._clearTimeout();const i=t.relatedTarget;this._element===i||this._element.contains(i)||this._maybeScheduleHide()}_setListeners(){P.on(this._element,\"mouseover.bs.toast\",(t=>this._onInteraction(t,!0))),P.on(this._element,\"mouseout.bs.toast\",(t=>this._onInteraction(t,!1))),P.on(this._element,\"focusin.bs.toast\",(t=>this._onInteraction(t,!0))),P.on(this._element,\"focusout.bs.toast\",(t=>this._onInteraction(t,!1)))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(t){return this.each((function(){const e=Nn.getOrCreateInstance(this,t);if(\"string\"==typeof t){if(void 0===e[t])throw new TypeError(`No method named \"${t}\"`);e[t](this)}}))}}return R(Nn),m(Nn),{Alert:q,Button:K,Carousel:rt,Collapse:ft,Dropdown:ci,Modal:Ni,Offcanvas:zi,Popover:dn,ScrollSpy:_n,Tab:xn,Toast:Nn,Tooltip:ln}}));\n//# sourceMappingURL=bootstrap.bundle.min.js.map\n","!function(t,e){\"use strict\";\"function\"==typeof define&&define.amd?define([],function(){return t.Waves=e.call(t),t.Waves}):\"object\"==typeof exports?module.exports=e.call(t):t.Waves=e.call(t)}(\"object\"==typeof global?global:this,function(){\"use strict\";function t(t){return null!==t&&t===t.window}function e(e){return t(e)?e:9===e.nodeType&&e.defaultView}function n(t){var e=typeof t;return\"function\"===e||\"object\"===e&&!!t}function o(t){return n(t)&&t.nodeType>0}function a(t){var e=f.call(t);return\"[object String]\"===e?d(t):n(t)&&/^\\[object (Array|HTMLCollection|NodeList|Object)\\]$/.test(e)&&t.hasOwnProperty(\"length\")?t:o(t)?[t]:[]}function i(t){var n,o,a={top:0,left:0},i=t&&t.ownerDocument;return n=i.documentElement,void 0!==t.getBoundingClientRect&&(a=t.getBoundingClientRect()),o=e(i),{top:a.top+o.pageYOffset-n.clientTop,left:a.left+o.pageXOffset-n.clientLeft}}function r(t){var e=\"\";for(var n in t)t.hasOwnProperty(n)&&(e+=n+\":\"+t[n]+\";\");return e}function s(t,e,n){if(n){n.classList.remove(\"waves-rippling\");var o=n.getAttribute(\"data-x\"),a=n.getAttribute(\"data-y\"),i=n.getAttribute(\"data-scale\"),s=n.getAttribute(\"data-translate\"),u=350-(Date.now()-Number(n.getAttribute(\"data-hold\")));u<0&&(u=0),\"mousemove\"===t.type&&(u=150);var c=\"mousemove\"===t.type?2500:v.duration;setTimeout(function(){var t={top:a+\"px\",left:o+\"px\",opacity:\"0\",\"-webkit-transition-duration\":c+\"ms\",\"-moz-transition-duration\":c+\"ms\",\"-o-transition-duration\":c+\"ms\",\"transition-duration\":c+\"ms\",\"-webkit-transform\":i+\" \"+s,\"-moz-transform\":i+\" \"+s,\"-ms-transform\":i+\" \"+s,\"-o-transform\":i+\" \"+s,transform:i+\" \"+s};n.setAttribute(\"style\",r(t)),setTimeout(function(){try{e.removeChild(n)}catch(t){return!1}},c)},u)}}function u(t){if(!1===h.allowEvent(t))return null;for(var e=null,n=t.target||t.srcElement;n.parentElement;){if(!(n instanceof SVGElement)&&n.classList.contains(\"waves-effect\")){e=n;break}n=n.parentElement}return e}function c(t){var e=u(t);if(null!==e){if(e.disabled||e.getAttribute(\"disabled\")||e.classList.contains(\"disabled\"))return;if(h.registerEvent(t),\"touchstart\"===t.type&&v.delay){var n=!1,o=setTimeout(function(){o=null,v.show(t,e)},v.delay),a=function(a){o&&(clearTimeout(o),o=null,v.show(t,e)),n||(n=!0,v.hide(a,e)),r()},i=function(t){o&&(clearTimeout(o),o=null),a(t),r()};e.addEventListener(\"touchmove\",i,!1),e.addEventListener(\"touchend\",a,!1),e.addEventListener(\"touchcancel\",a,!1);var r=function(){e.removeEventListener(\"touchmove\",i),e.removeEventListener(\"touchend\",a),e.removeEventListener(\"touchcancel\",a)}}else v.show(t,e),m&&(e.addEventListener(\"touchend\",v.hide,!1),e.addEventListener(\"touchcancel\",v.hide,!1)),e.addEventListener(\"mouseup\",v.hide,!1),e.addEventListener(\"mouseleave\",v.hide,!1)}}var l=l||{},d=document.querySelectorAll.bind(document),f=Object.prototype.toString,m=\"ontouchstart\"in window,v={duration:750,delay:200,show:function(t,e,n){if(2===t.button)return!1;e=e||this;var o=document.createElement(\"div\");o.className=\"waves-ripple waves-rippling\",e.appendChild(o);var a=i(e),s=0,u=0;\"touches\"in t&&t.touches.length?(s=t.touches[0].pageY-a.top,u=t.touches[0].pageX-a.left):(s=t.pageY-a.top,u=t.pageX-a.left),u=u>=0?u:0,s=s>=0?s:0;var c=\"scale(\"+e.clientWidth/100*3+\")\",l=\"translate(0,0)\";n&&(l=\"translate(\"+n.x+\"px, \"+n.y+\"px)\"),o.setAttribute(\"data-hold\",Date.now()),o.setAttribute(\"data-x\",u),o.setAttribute(\"data-y\",s),o.setAttribute(\"data-scale\",c),o.setAttribute(\"data-translate\",l);var d={top:s+\"px\",left:u+\"px\"};o.classList.add(\"waves-notransition\"),o.setAttribute(\"style\",r(d)),o.classList.remove(\"waves-notransition\"),d[\"-webkit-transform\"]=c+\" \"+l,d[\"-moz-transform\"]=c+\" \"+l,d[\"-ms-transform\"]=c+\" \"+l,d[\"-o-transform\"]=c+\" \"+l,d.transform=c+\" \"+l,d.opacity=\"1\";var f=\"mousemove\"===t.type?2500:v.duration;d[\"-webkit-transition-duration\"]=f+\"ms\",d[\"-moz-transition-duration\"]=f+\"ms\",d[\"-o-transition-duration\"]=f+\"ms\",d[\"transition-duration\"]=f+\"ms\",o.setAttribute(\"style\",r(d))},hide:function(t,e){for(var n=(e=e||this).getElementsByClassName(\"waves-rippling\"),o=0,a=n.length;o<a;o++)s(t,e,n[o]);m&&(e.removeEventListener(\"touchend\",v.hide),e.removeEventListener(\"touchcancel\",v.hide)),e.removeEventListener(\"mouseup\",v.hide),e.removeEventListener(\"mouseleave\",v.hide)}},p={input:function(t){var e=t.parentNode;if(\"i\"!==e.tagName.toLowerCase()||!e.classList.contains(\"waves-effect\")){var n=document.createElement(\"i\");n.className=t.className+\" waves-input-wrapper\",t.className=\"waves-button-input\",e.replaceChild(n,t),n.appendChild(t);var o=window.getComputedStyle(t,null),a=o.color,i=o.backgroundColor;n.setAttribute(\"style\",\"color:\"+a+\";background:\"+i),t.setAttribute(\"style\",\"background-color:rgba(0,0,0,0);\")}},img:function(t){var e=t.parentNode;if(\"i\"!==e.tagName.toLowerCase()||!e.classList.contains(\"waves-effect\")){var n=document.createElement(\"i\");e.replaceChild(n,t),n.appendChild(t)}}},h={touches:0,allowEvent:function(t){var e=!0;return/^(mousedown|mousemove)$/.test(t.type)&&h.touches&&(e=!1),e},registerEvent:function(t){var e=t.type;\"touchstart\"===e?h.touches+=1:/^(touchend|touchcancel)$/.test(e)&&setTimeout(function(){h.touches&&(h.touches-=1)},500)}};return l.init=function(t){var e=document.body;\"duration\"in(t=t||{})&&(v.duration=t.duration),\"delay\"in t&&(v.delay=t.delay),m&&(e.addEventListener(\"touchstart\",c,!1),e.addEventListener(\"touchcancel\",h.registerEvent,!1),e.addEventListener(\"touchend\",h.registerEvent,!1)),e.addEventListener(\"mousedown\",c,!1)},l.attach=function(t,e){t=a(t),\"[object Array]\"===f.call(e)&&(e=e.join(\" \")),e=e?\" \"+e:\"\";for(var n,o,i=0,r=t.length;i<r;i++)o=(n=t[i]).tagName.toLowerCase(),-1!==[\"input\",\"img\"].indexOf(o)&&(p[o](n),n=n.parentElement),-1===n.className.indexOf(\"waves-effect\")&&(n.className+=\" waves-effect\"+e)},l.ripple=function(t,e){var n=(t=a(t)).length;if(e=e||{},e.wait=e.wait||0,e.position=e.position||null,n)for(var o,r,s,u={},c=0,l={type:\"mousedown\",button:1};c<n;c++)if(o=t[c],r=e.position||{x:o.clientWidth/2,y:o.clientHeight/2},s=i(o),u.x=s.left+r.x,u.y=s.top+r.y,l.pageX=u.x,l.pageY=u.y,v.show(l,o),e.wait>=0&&null!==e.wait){var d={type:\"mouseup\",button:1};setTimeout(function(t,e){return function(){v.hide(t,e)}}(d,o),e.wait)}},l.calm=function(t){for(var e={type:\"mouseup\",button:1},n=0,o=(t=a(t)).length;n<o;n++)v.hide(e,t[n])},l.displayEffect=function(t){l.init(t)},l});\n//# sourceMappingURL=waves.min.js.map\n","/*! Hammer.JS - v2.0.7 - 2016-04-22\n * http://hammerjs.github.io/\n *\n * Copyright (c) 2016 Jorik Tangelder;\n * Licensed under the MIT license */\n!function(a,b,c,d){\"use strict\";function e(a,b,c){return setTimeout(j(a,c),b)}function f(a,b,c){return Array.isArray(a)?(g(a,c[b],c),!0):!1}function g(a,b,c){var e;if(a)if(a.forEach)a.forEach(b,c);else if(a.length!==d)for(e=0;e<a.length;)b.call(c,a[e],e,a),e++;else for(e in a)a.hasOwnProperty(e)&&b.call(c,a[e],e,a)}function h(b,c,d){var e=\"DEPRECATED METHOD: \"+c+\"\\n\"+d+\" AT \\n\";return function(){var c=new Error(\"get-stack-trace\"),d=c&&c.stack?c.stack.replace(/^[^\\(]+?[\\n$]/gm,\"\").replace(/^\\s+at\\s+/gm,\"\").replace(/^Object.<anonymous>\\s*\\(/gm,\"{anonymous}()@\"):\"Unknown Stack Trace\",f=a.console&&(a.console.warn||a.console.log);return f&&f.call(a.console,e,d),b.apply(this,arguments)}}function i(a,b,c){var d,e=b.prototype;d=a.prototype=Object.create(e),d.constructor=a,d._super=e,c&&la(d,c)}function j(a,b){return function(){return a.apply(b,arguments)}}function k(a,b){return typeof a==oa?a.apply(b?b[0]||d:d,b):a}function l(a,b){return a===d?b:a}function m(a,b,c){g(q(b),function(b){a.addEventListener(b,c,!1)})}function n(a,b,c){g(q(b),function(b){a.removeEventListener(b,c,!1)})}function o(a,b){for(;a;){if(a==b)return!0;a=a.parentNode}return!1}function p(a,b){return a.indexOf(b)>-1}function q(a){return a.trim().split(/\\s+/g)}function r(a,b,c){if(a.indexOf&&!c)return a.indexOf(b);for(var d=0;d<a.length;){if(c&&a[d][c]==b||!c&&a[d]===b)return d;d++}return-1}function s(a){return Array.prototype.slice.call(a,0)}function t(a,b,c){for(var d=[],e=[],f=0;f<a.length;){var g=b?a[f][b]:a[f];r(e,g)<0&&d.push(a[f]),e[f]=g,f++}return c&&(d=b?d.sort(function(a,c){return a[b]>c[b]}):d.sort()),d}function u(a,b){for(var c,e,f=b[0].toUpperCase()+b.slice(1),g=0;g<ma.length;){if(c=ma[g],e=c?c+f:b,e in a)return e;g++}return d}function v(){return ua++}function w(b){var c=b.ownerDocument||b;return c.defaultView||c.parentWindow||a}function x(a,b){var c=this;this.manager=a,this.callback=b,this.element=a.element,this.target=a.options.inputTarget,this.domHandler=function(b){k(a.options.enable,[a])&&c.handler(b)},this.init()}function y(a){var b,c=a.options.inputClass;return new(b=c?c:xa?M:ya?P:wa?R:L)(a,z)}function z(a,b,c){var d=c.pointers.length,e=c.changedPointers.length,f=b&Ea&&d-e===0,g=b&(Ga|Ha)&&d-e===0;c.isFirst=!!f,c.isFinal=!!g,f&&(a.session={}),c.eventType=b,A(a,c),a.emit(\"hammer.input\",c),a.recognize(c),a.session.prevInput=c}function A(a,b){var c=a.session,d=b.pointers,e=d.length;c.firstInput||(c.firstInput=D(b)),e>1&&!c.firstMultiple?c.firstMultiple=D(b):1===e&&(c.firstMultiple=!1);var f=c.firstInput,g=c.firstMultiple,h=g?g.center:f.center,i=b.center=E(d);b.timeStamp=ra(),b.deltaTime=b.timeStamp-f.timeStamp,b.angle=I(h,i),b.distance=H(h,i),B(c,b),b.offsetDirection=G(b.deltaX,b.deltaY);var j=F(b.deltaTime,b.deltaX,b.deltaY);b.overallVelocityX=j.x,b.overallVelocityY=j.y,b.overallVelocity=qa(j.x)>qa(j.y)?j.x:j.y,b.scale=g?K(g.pointers,d):1,b.rotation=g?J(g.pointers,d):0,b.maxPointers=c.prevInput?b.pointers.length>c.prevInput.maxPointers?b.pointers.length:c.prevInput.maxPointers:b.pointers.length,C(c,b);var k=a.element;o(b.srcEvent.target,k)&&(k=b.srcEvent.target),b.target=k}function B(a,b){var c=b.center,d=a.offsetDelta||{},e=a.prevDelta||{},f=a.prevInput||{};b.eventType!==Ea&&f.eventType!==Ga||(e=a.prevDelta={x:f.deltaX||0,y:f.deltaY||0},d=a.offsetDelta={x:c.x,y:c.y}),b.deltaX=e.x+(c.x-d.x),b.deltaY=e.y+(c.y-d.y)}function C(a,b){var c,e,f,g,h=a.lastInterval||b,i=b.timeStamp-h.timeStamp;if(b.eventType!=Ha&&(i>Da||h.velocity===d)){var j=b.deltaX-h.deltaX,k=b.deltaY-h.deltaY,l=F(i,j,k);e=l.x,f=l.y,c=qa(l.x)>qa(l.y)?l.x:l.y,g=G(j,k),a.lastInterval=b}else c=h.velocity,e=h.velocityX,f=h.velocityY,g=h.direction;b.velocity=c,b.velocityX=e,b.velocityY=f,b.direction=g}function D(a){for(var b=[],c=0;c<a.pointers.length;)b[c]={clientX:pa(a.pointers[c].clientX),clientY:pa(a.pointers[c].clientY)},c++;return{timeStamp:ra(),pointers:b,center:E(b),deltaX:a.deltaX,deltaY:a.deltaY}}function E(a){var b=a.length;if(1===b)return{x:pa(a[0].clientX),y:pa(a[0].clientY)};for(var c=0,d=0,e=0;b>e;)c+=a[e].clientX,d+=a[e].clientY,e++;return{x:pa(c/b),y:pa(d/b)}}function F(a,b,c){return{x:b/a||0,y:c/a||0}}function G(a,b){return a===b?Ia:qa(a)>=qa(b)?0>a?Ja:Ka:0>b?La:Ma}function H(a,b,c){c||(c=Qa);var d=b[c[0]]-a[c[0]],e=b[c[1]]-a[c[1]];return Math.sqrt(d*d+e*e)}function I(a,b,c){c||(c=Qa);var d=b[c[0]]-a[c[0]],e=b[c[1]]-a[c[1]];return 180*Math.atan2(e,d)/Math.PI}function J(a,b){return I(b[1],b[0],Ra)+I(a[1],a[0],Ra)}function K(a,b){return H(b[0],b[1],Ra)/H(a[0],a[1],Ra)}function L(){this.evEl=Ta,this.evWin=Ua,this.pressed=!1,x.apply(this,arguments)}function M(){this.evEl=Xa,this.evWin=Ya,x.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}function N(){this.evTarget=$a,this.evWin=_a,this.started=!1,x.apply(this,arguments)}function O(a,b){var c=s(a.touches),d=s(a.changedTouches);return b&(Ga|Ha)&&(c=t(c.concat(d),\"identifier\",!0)),[c,d]}function P(){this.evTarget=bb,this.targetIds={},x.apply(this,arguments)}function Q(a,b){var c=s(a.touches),d=this.targetIds;if(b&(Ea|Fa)&&1===c.length)return d[c[0].identifier]=!0,[c,c];var e,f,g=s(a.changedTouches),h=[],i=this.target;if(f=c.filter(function(a){return o(a.target,i)}),b===Ea)for(e=0;e<f.length;)d[f[e].identifier]=!0,e++;for(e=0;e<g.length;)d[g[e].identifier]&&h.push(g[e]),b&(Ga|Ha)&&delete d[g[e].identifier],e++;return h.length?[t(f.concat(h),\"identifier\",!0),h]:void 0}function R(){x.apply(this,arguments);var a=j(this.handler,this);this.touch=new P(this.manager,a),this.mouse=new L(this.manager,a),this.primaryTouch=null,this.lastTouches=[]}function S(a,b){a&Ea?(this.primaryTouch=b.changedPointers[0].identifier,T.call(this,b)):a&(Ga|Ha)&&T.call(this,b)}function T(a){var b=a.changedPointers[0];if(b.identifier===this.primaryTouch){var c={x:b.clientX,y:b.clientY};this.lastTouches.push(c);var d=this.lastTouches,e=function(){var a=d.indexOf(c);a>-1&&d.splice(a,1)};setTimeout(e,cb)}}function U(a){for(var b=a.srcEvent.clientX,c=a.srcEvent.clientY,d=0;d<this.lastTouches.length;d++){var e=this.lastTouches[d],f=Math.abs(b-e.x),g=Math.abs(c-e.y);if(db>=f&&db>=g)return!0}return!1}function V(a,b){this.manager=a,this.set(b)}function W(a){if(p(a,jb))return jb;var b=p(a,kb),c=p(a,lb);return b&&c?jb:b||c?b?kb:lb:p(a,ib)?ib:hb}function X(){if(!fb)return!1;var b={},c=a.CSS&&a.CSS.supports;return[\"auto\",\"manipulation\",\"pan-y\",\"pan-x\",\"pan-x pan-y\",\"none\"].forEach(function(d){b[d]=c?a.CSS.supports(\"touch-action\",d):!0}),b}function Y(a){this.options=la({},this.defaults,a||{}),this.id=v(),this.manager=null,this.options.enable=l(this.options.enable,!0),this.state=nb,this.simultaneous={},this.requireFail=[]}function Z(a){return a&sb?\"cancel\":a&qb?\"end\":a&pb?\"move\":a&ob?\"start\":\"\"}function $(a){return a==Ma?\"down\":a==La?\"up\":a==Ja?\"left\":a==Ka?\"right\":\"\"}function _(a,b){var c=b.manager;return c?c.get(a):a}function aa(){Y.apply(this,arguments)}function ba(){aa.apply(this,arguments),this.pX=null,this.pY=null}function ca(){aa.apply(this,arguments)}function da(){Y.apply(this,arguments),this._timer=null,this._input=null}function ea(){aa.apply(this,arguments)}function fa(){aa.apply(this,arguments)}function ga(){Y.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function ha(a,b){return b=b||{},b.recognizers=l(b.recognizers,ha.defaults.preset),new ia(a,b)}function ia(a,b){this.options=la({},ha.defaults,b||{}),this.options.inputTarget=this.options.inputTarget||a,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=a,this.input=y(this),this.touchAction=new V(this,this.options.touchAction),ja(this,!0),g(this.options.recognizers,function(a){var b=this.add(new a[0](a[1]));a[2]&&b.recognizeWith(a[2]),a[3]&&b.requireFailure(a[3])},this)}function ja(a,b){var c=a.element;if(c.style){var d;g(a.options.cssProps,function(e,f){d=u(c.style,f),b?(a.oldCssProps[d]=c.style[d],c.style[d]=e):c.style[d]=a.oldCssProps[d]||\"\"}),b||(a.oldCssProps={})}}function ka(a,c){var d=b.createEvent(\"Event\");d.initEvent(a,!0,!0),d.gesture=c,c.target.dispatchEvent(d)}var la,ma=[\"\",\"webkit\",\"Moz\",\"MS\",\"ms\",\"o\"],na=b.createElement(\"div\"),oa=\"function\",pa=Math.round,qa=Math.abs,ra=Date.now;la=\"function\"!=typeof Object.assign?function(a){if(a===d||null===a)throw new TypeError(\"Cannot convert undefined or null to object\");for(var b=Object(a),c=1;c<arguments.length;c++){var e=arguments[c];if(e!==d&&null!==e)for(var f in e)e.hasOwnProperty(f)&&(b[f]=e[f])}return b}:Object.assign;var sa=h(function(a,b,c){for(var e=Object.keys(b),f=0;f<e.length;)(!c||c&&a[e[f]]===d)&&(a[e[f]]=b[e[f]]),f++;return a},\"extend\",\"Use `assign`.\"),ta=h(function(a,b){return sa(a,b,!0)},\"merge\",\"Use `assign`.\"),ua=1,va=/mobile|tablet|ip(ad|hone|od)|android/i,wa=\"ontouchstart\"in a,xa=u(a,\"PointerEvent\")!==d,ya=wa&&va.test(navigator.userAgent),za=\"touch\",Aa=\"pen\",Ba=\"mouse\",Ca=\"kinect\",Da=25,Ea=1,Fa=2,Ga=4,Ha=8,Ia=1,Ja=2,Ka=4,La=8,Ma=16,Na=Ja|Ka,Oa=La|Ma,Pa=Na|Oa,Qa=[\"x\",\"y\"],Ra=[\"clientX\",\"clientY\"];x.prototype={handler:function(){},init:function(){this.evEl&&m(this.element,this.evEl,this.domHandler),this.evTarget&&m(this.target,this.evTarget,this.domHandler),this.evWin&&m(w(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&n(this.element,this.evEl,this.domHandler),this.evTarget&&n(this.target,this.evTarget,this.domHandler),this.evWin&&n(w(this.element),this.evWin,this.domHandler)}};var Sa={mousedown:Ea,mousemove:Fa,mouseup:Ga},Ta=\"mousedown\",Ua=\"mousemove mouseup\";i(L,x,{handler:function(a){var b=Sa[a.type];b&Ea&&0===a.button&&(this.pressed=!0),b&Fa&&1!==a.which&&(b=Ga),this.pressed&&(b&Ga&&(this.pressed=!1),this.callback(this.manager,b,{pointers:[a],changedPointers:[a],pointerType:Ba,srcEvent:a}))}});var Va={pointerdown:Ea,pointermove:Fa,pointerup:Ga,pointercancel:Ha,pointerout:Ha},Wa={2:za,3:Aa,4:Ba,5:Ca},Xa=\"pointerdown\",Ya=\"pointermove pointerup pointercancel\";a.MSPointerEvent&&!a.PointerEvent&&(Xa=\"MSPointerDown\",Ya=\"MSPointerMove MSPointerUp MSPointerCancel\"),i(M,x,{handler:function(a){var b=this.store,c=!1,d=a.type.toLowerCase().replace(\"ms\",\"\"),e=Va[d],f=Wa[a.pointerType]||a.pointerType,g=f==za,h=r(b,a.pointerId,\"pointerId\");e&Ea&&(0===a.button||g)?0>h&&(b.push(a),h=b.length-1):e&(Ga|Ha)&&(c=!0),0>h||(b[h]=a,this.callback(this.manager,e,{pointers:b,changedPointers:[a],pointerType:f,srcEvent:a}),c&&b.splice(h,1))}});var Za={touchstart:Ea,touchmove:Fa,touchend:Ga,touchcancel:Ha},$a=\"touchstart\",_a=\"touchstart touchmove touchend touchcancel\";i(N,x,{handler:function(a){var b=Za[a.type];if(b===Ea&&(this.started=!0),this.started){var c=O.call(this,a,b);b&(Ga|Ha)&&c[0].length-c[1].length===0&&(this.started=!1),this.callback(this.manager,b,{pointers:c[0],changedPointers:c[1],pointerType:za,srcEvent:a})}}});var ab={touchstart:Ea,touchmove:Fa,touchend:Ga,touchcancel:Ha},bb=\"touchstart touchmove touchend touchcancel\";i(P,x,{handler:function(a){var b=ab[a.type],c=Q.call(this,a,b);c&&this.callback(this.manager,b,{pointers:c[0],changedPointers:c[1],pointerType:za,srcEvent:a})}});var cb=2500,db=25;i(R,x,{handler:function(a,b,c){var d=c.pointerType==za,e=c.pointerType==Ba;if(!(e&&c.sourceCapabilities&&c.sourceCapabilities.firesTouchEvents)){if(d)S.call(this,b,c);else if(e&&U.call(this,c))return;this.callback(a,b,c)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var eb=u(na.style,\"touchAction\"),fb=eb!==d,gb=\"compute\",hb=\"auto\",ib=\"manipulation\",jb=\"none\",kb=\"pan-x\",lb=\"pan-y\",mb=X();V.prototype={set:function(a){a==gb&&(a=this.compute()),fb&&this.manager.element.style&&mb[a]&&(this.manager.element.style[eb]=a),this.actions=a.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var a=[];return g(this.manager.recognizers,function(b){k(b.options.enable,[b])&&(a=a.concat(b.getTouchAction()))}),W(a.join(\" \"))},preventDefaults:function(a){var b=a.srcEvent,c=a.offsetDirection;if(this.manager.session.prevented)return void b.preventDefault();var d=this.actions,e=p(d,jb)&&!mb[jb],f=p(d,lb)&&!mb[lb],g=p(d,kb)&&!mb[kb];if(e){var h=1===a.pointers.length,i=a.distance<2,j=a.deltaTime<250;if(h&&i&&j)return}return g&&f?void 0:e||f&&c&Na||g&&c&Oa?this.preventSrc(b):void 0},preventSrc:function(a){this.manager.session.prevented=!0,a.preventDefault()}};var nb=1,ob=2,pb=4,qb=8,rb=qb,sb=16,tb=32;Y.prototype={defaults:{},set:function(a){return la(this.options,a),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(a){if(f(a,\"recognizeWith\",this))return this;var b=this.simultaneous;return a=_(a,this),b[a.id]||(b[a.id]=a,a.recognizeWith(this)),this},dropRecognizeWith:function(a){return f(a,\"dropRecognizeWith\",this)?this:(a=_(a,this),delete this.simultaneous[a.id],this)},requireFailure:function(a){if(f(a,\"requireFailure\",this))return this;var b=this.requireFail;return a=_(a,this),-1===r(b,a)&&(b.push(a),a.requireFailure(this)),this},dropRequireFailure:function(a){if(f(a,\"dropRequireFailure\",this))return this;a=_(a,this);var b=r(this.requireFail,a);return b>-1&&this.requireFail.splice(b,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(a){return!!this.simultaneous[a.id]},emit:function(a){function b(b){c.manager.emit(b,a)}var c=this,d=this.state;qb>d&&b(c.options.event+Z(d)),b(c.options.event),a.additionalEvent&&b(a.additionalEvent),d>=qb&&b(c.options.event+Z(d))},tryEmit:function(a){return this.canEmit()?this.emit(a):void(this.state=tb)},canEmit:function(){for(var a=0;a<this.requireFail.length;){if(!(this.requireFail[a].state&(tb|nb)))return!1;a++}return!0},recognize:function(a){var b=la({},a);return k(this.options.enable,[this,b])?(this.state&(rb|sb|tb)&&(this.state=nb),this.state=this.process(b),void(this.state&(ob|pb|qb|sb)&&this.tryEmit(b))):(this.reset(),void(this.state=tb))},process:function(a){},getTouchAction:function(){},reset:function(){}},i(aa,Y,{defaults:{pointers:1},attrTest:function(a){var b=this.options.pointers;return 0===b||a.pointers.length===b},process:function(a){var b=this.state,c=a.eventType,d=b&(ob|pb),e=this.attrTest(a);return d&&(c&Ha||!e)?b|sb:d||e?c&Ga?b|qb:b&ob?b|pb:ob:tb}}),i(ba,aa,{defaults:{event:\"pan\",threshold:10,pointers:1,direction:Pa},getTouchAction:function(){var a=this.options.direction,b=[];return a&Na&&b.push(lb),a&Oa&&b.push(kb),b},directionTest:function(a){var b=this.options,c=!0,d=a.distance,e=a.direction,f=a.deltaX,g=a.deltaY;return e&b.direction||(b.direction&Na?(e=0===f?Ia:0>f?Ja:Ka,c=f!=this.pX,d=Math.abs(a.deltaX)):(e=0===g?Ia:0>g?La:Ma,c=g!=this.pY,d=Math.abs(a.deltaY))),a.direction=e,c&&d>b.threshold&&e&b.direction},attrTest:function(a){return aa.prototype.attrTest.call(this,a)&&(this.state&ob||!(this.state&ob)&&this.directionTest(a))},emit:function(a){this.pX=a.deltaX,this.pY=a.deltaY;var b=$(a.direction);b&&(a.additionalEvent=this.options.event+b),this._super.emit.call(this,a)}}),i(ca,aa,{defaults:{event:\"pinch\",threshold:0,pointers:2},getTouchAction:function(){return[jb]},attrTest:function(a){return this._super.attrTest.call(this,a)&&(Math.abs(a.scale-1)>this.options.threshold||this.state&ob)},emit:function(a){if(1!==a.scale){var b=a.scale<1?\"in\":\"out\";a.additionalEvent=this.options.event+b}this._super.emit.call(this,a)}}),i(da,Y,{defaults:{event:\"press\",pointers:1,time:251,threshold:9},getTouchAction:function(){return[hb]},process:function(a){var b=this.options,c=a.pointers.length===b.pointers,d=a.distance<b.threshold,f=a.deltaTime>b.time;if(this._input=a,!d||!c||a.eventType&(Ga|Ha)&&!f)this.reset();else if(a.eventType&Ea)this.reset(),this._timer=e(function(){this.state=rb,this.tryEmit()},b.time,this);else if(a.eventType&Ga)return rb;return tb},reset:function(){clearTimeout(this._timer)},emit:function(a){this.state===rb&&(a&&a.eventType&Ga?this.manager.emit(this.options.event+\"up\",a):(this._input.timeStamp=ra(),this.manager.emit(this.options.event,this._input)))}}),i(ea,aa,{defaults:{event:\"rotate\",threshold:0,pointers:2},getTouchAction:function(){return[jb]},attrTest:function(a){return this._super.attrTest.call(this,a)&&(Math.abs(a.rotation)>this.options.threshold||this.state&ob)}}),i(fa,aa,{defaults:{event:\"swipe\",threshold:10,velocity:.3,direction:Na|Oa,pointers:1},getTouchAction:function(){return ba.prototype.getTouchAction.call(this)},attrTest:function(a){var b,c=this.options.direction;return c&(Na|Oa)?b=a.overallVelocity:c&Na?b=a.overallVelocityX:c&Oa&&(b=a.overallVelocityY),this._super.attrTest.call(this,a)&&c&a.offsetDirection&&a.distance>this.options.threshold&&a.maxPointers==this.options.pointers&&qa(b)>this.options.velocity&&a.eventType&Ga},emit:function(a){var b=$(a.offsetDirection);b&&this.manager.emit(this.options.event+b,a),this.manager.emit(this.options.event,a)}}),i(ga,Y,{defaults:{event:\"tap\",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[ib]},process:function(a){var b=this.options,c=a.pointers.length===b.pointers,d=a.distance<b.threshold,f=a.deltaTime<b.time;if(this.reset(),a.eventType&Ea&&0===this.count)return this.failTimeout();if(d&&f&&c){if(a.eventType!=Ga)return this.failTimeout();var g=this.pTime?a.timeStamp-this.pTime<b.interval:!0,h=!this.pCenter||H(this.pCenter,a.center)<b.posThreshold;this.pTime=a.timeStamp,this.pCenter=a.center,h&&g?this.count+=1:this.count=1,this._input=a;var i=this.count%b.taps;if(0===i)return this.hasRequireFailures()?(this._timer=e(function(){this.state=rb,this.tryEmit()},b.interval,this),ob):rb}return tb},failTimeout:function(){return this._timer=e(function(){this.state=tb},this.options.interval,this),tb},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==rb&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),ha.VERSION=\"2.0.7\",ha.defaults={domEvents:!1,touchAction:gb,enable:!0,inputTarget:null,inputClass:null,preset:[[ea,{enable:!1}],[ca,{enable:!1},[\"rotate\"]],[fa,{direction:Na}],[ba,{direction:Na},[\"swipe\"]],[ga],[ga,{event:\"doubletap\",taps:2},[\"tap\"]],[da]],cssProps:{userSelect:\"none\",touchSelect:\"none\",touchCallout:\"none\",contentZooming:\"none\",userDrag:\"none\",tapHighlightColor:\"rgba(0,0,0,0)\"}};var ub=1,vb=2;ia.prototype={set:function(a){return la(this.options,a),a.touchAction&&this.touchAction.update(),a.inputTarget&&(this.input.destroy(),this.input.target=a.inputTarget,this.input.init()),this},stop:function(a){this.session.stopped=a?vb:ub},recognize:function(a){var b=this.session;if(!b.stopped){this.touchAction.preventDefaults(a);var c,d=this.recognizers,e=b.curRecognizer;(!e||e&&e.state&rb)&&(e=b.curRecognizer=null);for(var f=0;f<d.length;)c=d[f],b.stopped===vb||e&&c!=e&&!c.canRecognizeWith(e)?c.reset():c.recognize(a),!e&&c.state&(ob|pb|qb)&&(e=b.curRecognizer=c),f++}},get:function(a){if(a instanceof Y)return a;for(var b=this.recognizers,c=0;c<b.length;c++)if(b[c].options.event==a)return b[c];return null},add:function(a){if(f(a,\"add\",this))return this;var b=this.get(a.options.event);return b&&this.remove(b),this.recognizers.push(a),a.manager=this,this.touchAction.update(),a},remove:function(a){if(f(a,\"remove\",this))return this;if(a=this.get(a)){var b=this.recognizers,c=r(b,a);-1!==c&&(b.splice(c,1),this.touchAction.update())}return this},on:function(a,b){if(a!==d&&b!==d){var c=this.handlers;return g(q(a),function(a){c[a]=c[a]||[],c[a].push(b)}),this}},off:function(a,b){if(a!==d){var c=this.handlers;return g(q(a),function(a){b?c[a]&&c[a].splice(r(c[a],b),1):delete c[a]}),this}},emit:function(a,b){this.options.domEvents&&ka(a,b);var c=this.handlers[a]&&this.handlers[a].slice();if(c&&c.length){b.type=a,b.preventDefault=function(){b.srcEvent.preventDefault()};for(var d=0;d<c.length;)c[d](b),d++}},destroy:function(){this.element&&ja(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},la(ha,{INPUT_START:Ea,INPUT_MOVE:Fa,INPUT_END:Ga,INPUT_CANCEL:Ha,STATE_POSSIBLE:nb,STATE_BEGAN:ob,STATE_CHANGED:pb,STATE_ENDED:qb,STATE_RECOGNIZED:rb,STATE_CANCELLED:sb,STATE_FAILED:tb,DIRECTION_NONE:Ia,DIRECTION_LEFT:Ja,DIRECTION_RIGHT:Ka,DIRECTION_UP:La,DIRECTION_DOWN:Ma,DIRECTION_HORIZONTAL:Na,DIRECTION_VERTICAL:Oa,DIRECTION_ALL:Pa,Manager:ia,Input:x,TouchAction:V,TouchInput:P,MouseInput:L,PointerEventInput:M,TouchMouseInput:R,SingleTouchInput:N,Recognizer:Y,AttrRecognizer:aa,Tap:ga,Pan:ba,Swipe:fa,Pinch:ca,Rotate:ea,Press:da,on:m,off:n,each:g,merge:ta,extend:sa,assign:la,inherit:i,bindFn:j,prefixed:u});var wb=\"undefined\"!=typeof a?a:\"undefined\"!=typeof self?self:{};wb.Hammer=ha,\"function\"==typeof define&&define.amd?define(function(){return ha}):\"undefined\"!=typeof module&&module.exports?module.exports=ha:a[c]=ha}(window,document,\"Hammer\");\n//# sourceMappingURL=hammer.min.js.map\n","/**\n * Menu.js - Refactored to use CSS classes instead of inline styles\n * Removed all .style.* manipulations and replaced with .classList operations\n */\n\nconst TRANSITION_EVENTS = ['transitionend', 'webkitTransitionEnd', 'oTransitionEnd'];\nconst DELTA = 5;\n\nclass Menu {\n  constructor(el, config = {}, _PS = null) {\n    this._el = el;\n    this._horizontal = config.orientation === 'horizontal';\n    this._animate = config.animate !== false;\n    this._accordion = config.accordion !== false;\n    this._showDropdownOnHover = Boolean(config.showDropdownOnHover);\n    this._closeChildren = Boolean(config.closeChildren);\n    this._rtl = document.documentElement.getAttribute('dir') === 'rtl' || document.body.getAttribute('dir') === 'rtl';\n    this._onOpen = config.onOpen || function () {};\n    this._onOpened = config.onOpened || function () {};\n    this._onClose = config.onClose || function () {};\n    this._onClosed = config.onClosed || function () {};\n    this._psScroll = null;\n    this._topParent = null;\n    this._menuBgClass = null;\n\n    el.classList.add('menu');\n    el.classList[this._animate ? 'remove' : 'add']('menu-no-animation');\n\n    if (!this._horizontal) {\n      el.classList.add('menu-vertical');\n      el.classList.remove('menu-horizontal');\n\n      const PerfectScrollbarLib = _PS || window.PerfectScrollbar;\n      if (PerfectScrollbarLib) {\n        this._scrollbar = new PerfectScrollbarLib(el.querySelector('.menu-inner'), {\n          suppressScrollX: true,\n          wheelPropagation: !Menu._hasClass('layout-menu-fixed layout-menu-fixed-offcanvas')\n        });\n        window.Helpers.menuPsScroll = this._scrollbar;\n      } else {\n        el.querySelector('.menu-inner').classList.add('overflow-auto');\n      }\n    } else {\n      el.classList.add('menu-horizontal');\n      el.classList.remove('menu-vertical');\n      this._inner = el.querySelector('.menu-inner');\n      const container = this._inner.parentNode;\n\n      this._prevBtn = el.querySelector('.menu-horizontal-prev');\n      if (!this._prevBtn) {\n        this._prevBtn = document.createElement('a');\n        this._prevBtn.href = '#';\n        this._prevBtn.className = 'menu-horizontal-prev';\n        container.appendChild(this._prevBtn);\n      }\n\n      this._wrapper = el.querySelector('.menu-horizontal-wrapper');\n      if (!this._wrapper) {\n        this._wrapper = document.createElement('div');\n        this._wrapper.className = 'menu-horizontal-wrapper';\n        this._wrapper.appendChild(this._inner);\n        container.appendChild(this._wrapper);\n      }\n\n      this._nextBtn = el.querySelector('.menu-horizontal-next');\n      if (!this._nextBtn) {\n        this._nextBtn = document.createElement('a');\n        this._nextBtn.href = '#';\n        this._nextBtn.className = 'menu-horizontal-next';\n        container.appendChild(this._nextBtn);\n      }\n\n      this._innerPosition = 0;\n      this.update();\n    }\n\n    // Add data attribute for bg color class of menu\n    const menuClassList = el.classList;\n    for (let i = 0; i < menuClassList.length; i++) {\n      if (menuClassList[i].startsWith('bg-')) {\n        this._menuBgClass = menuClassList[i];\n      }\n    }\n    el.setAttribute('data-bg-class', this._menuBgClass);\n\n    // Switch to vertical menu on small screen for horizontal menu layout on page load\n    if (this._horizontal && window.innerWidth < window.Helpers.LAYOUT_BREAKPOINT) {\n      this.switchMenu('vertical');\n    } else {\n      this._bindEvents();\n    }\n\n    // Link menu instance to element\n    el.menuInstance = this;\n  }\n\n  _bindEvents() {\n    // Click Event\n    this._evntElClick = (e) => {\n      // Find top parent element\n      if (e.target.closest('ul') && e.target.closest('ul').classList.contains('menu-inner')) {\n        const menuItem = Menu._findParent(e.target, 'menu-item', false);\n        if (menuItem) this._topParent = menuItem.childNodes[0];\n      }\n\n      const toggleLink = e.target.classList.contains('menu-toggle')\n        ? e.target\n        : Menu._findParent(e.target, 'menu-toggle', false);\n\n      if (toggleLink) {\n        e.preventDefault();\n        if (toggleLink.getAttribute('data-hover') !== 'true') {\n          this.toggle(toggleLink);\n        }\n      }\n    };\n\n    if ((!this._showDropdownOnHover && this._horizontal) || !this._horizontal || window.Helpers.isMobileDevice) {\n      this._el.addEventListener('click', this._evntElClick);\n    }\n\n    this._evntWindowResize = () => {\n      this.update();\n      if (this._lastWidth !== window.innerWidth) {\n        this._lastWidth = window.innerWidth;\n        this.update();\n      }\n      const horizontalMenuTemplate = document.querySelector(\"[data-template^='horizontal-menu']\");\n      if (!this._horizontal && !horizontalMenuTemplate) this.manageScroll();\n    };\n    window.addEventListener('resize', this._evntWindowResize);\n\n    if (this._horizontal) {\n      this._evntPrevBtnClick = (e) => {\n        e.preventDefault();\n        if (this._prevBtn.classList.contains('disabled')) return;\n        this._slide('prev');\n      };\n      this._prevBtn.addEventListener('click', this._evntPrevBtnClick);\n\n      this._evntNextBtnClick = (e) => {\n        e.preventDefault();\n        if (this._nextBtn.classList.contains('disabled')) return;\n        this._slide('next');\n      };\n      this._nextBtn.addEventListener('click', this._evntNextBtnClick);\n\n      this._evntBodyClick = (e) => {\n        if (!this._inner.contains(e.target) && this._el.querySelectorAll('.menu-inner > .menu-item.open').length) {\n          this.closeAll();\n        }\n      };\n      document.body.addEventListener('click', this._evntBodyClick);\n\n      if (this._showDropdownOnHover) {\n        this._evntElMouseOver = (e) => {\n          if (e.target !== e.currentTarget && !e.target.parentNode.classList.contains('open')) {\n            const toggleLink = e.target.classList.contains('menu-toggle') ? e.target : null;\n            if (toggleLink) {\n              e.preventDefault();\n              if (toggleLink.getAttribute('data-hover') !== 'true') {\n                this.toggle(toggleLink);\n              }\n            }\n          }\n          e.stopPropagation();\n        };\n\n        if (this._horizontal && window.screen.width > window.Helpers.LAYOUT_BREAKPOINT) {\n          this._el.addEventListener('mouseover', this._evntElMouseOver);\n        }\n\n        this._evntElMouseOut = (e) => {\n          const mainEl = e.currentTarget;\n          const mouseOutEl = e.target;\n          const mouseOverEl = e.toElement || e.relatedTarget;\n\n          // Find absolute parent of any menu item from which mouseout event triggered\n          if (mouseOutEl.closest('ul') && mouseOutEl.closest('ul').classList.contains('menu-inner')) {\n            this._topParent = mouseOutEl;\n          }\n\n          if (\n            mouseOutEl !== mainEl &&\n            (mouseOutEl.parentNode.classList.contains('open') || !mouseOutEl.classList.contains('menu-toggle')) &&\n            mouseOverEl &&\n            mouseOverEl.parentNode &&\n            !mouseOverEl.parentNode.classList.contains('menu-link')\n          ) {\n            // When mouse goes totally out of menu items, check mouse over element to confirm it's not the child of menu\n            if (this._topParent && !Menu.childOf(mouseOverEl, this._topParent.parentNode)) {\n              const _toggleLink = this._topParent.classList.contains('menu-toggle') ? this._topParent : null;\n              if (_toggleLink) {\n                e.preventDefault();\n                if (_toggleLink.getAttribute('data-hover') !== 'true') {\n                  this.toggle(_toggleLink);\n                  this._topParent = null;\n                }\n              }\n            }\n\n            // When mouse enter the sub menu, check if it's child of the initially mouse overed menu item\n            if (Menu.childOf(mouseOverEl, mouseOutEl.parentNode)) {\n              return;\n            }\n\n            const toggleLink = mouseOutEl.classList.contains('menu-toggle') ? mouseOutEl : null;\n            if (toggleLink) {\n              e.preventDefault();\n              if (toggleLink.getAttribute('data-hover') !== 'true') {\n                this.toggle(toggleLink);\n              }\n            }\n          }\n          e.stopPropagation();\n        };\n\n        if (this._horizontal && window.screen.width > window.Helpers.LAYOUT_BREAKPOINT) {\n          this._el.addEventListener('mouseout', this._evntElMouseOut);\n        }\n      }\n    }\n  }\n\n  _unbindEvents() {\n    if (this._evntElClick) {\n      this._el.removeEventListener('click', this._evntElClick);\n      this._evntElClick = null;\n    }\n    if (this._evntElMouseOver) {\n      this._el.removeEventListener('mouseover', this._evntElMouseOver);\n      this._evntElMouseOver = null;\n    }\n    if (this._evntElMouseOut) {\n      this._el.removeEventListener('mouseout', this._evntElMouseOut);\n      this._evntElMouseOut = null;\n    }\n    if (this._evntWindowResize) {\n      window.removeEventListener('resize', this._evntWindowResize);\n      this._evntWindowResize = null;\n    }\n    if (this._evntBodyClick) {\n      document.body.removeEventListener('click', this._evntBodyClick);\n      this._evntBodyClick = null;\n    }\n    if (this._evntInnerMousemove) {\n      this._inner.removeEventListener('mousemove', this._evntInnerMousemove);\n      this._evntInnerMousemove = null;\n    }\n    if (this._evntInnerMouseleave) {\n      this._inner.removeEventListener('mouseleave', this._evntInnerMouseleave);\n      this._evntInnerMouseleave = null;\n    }\n  }\n\n  open(el, closeChildren = this._closeChildren) {\n    const item = this._findUnopenedParent(Menu._getItem(el, true), closeChildren);\n    if (!item) return;\n\n    const toggleLink = Menu._getLink(item, true);\n    Menu._promisify(this._onOpen, this, item, toggleLink, Menu._findMenu(item)).then(() => {\n      if (!this._horizontal || !Menu._isRoot(item)) {\n        if (this._animate && !this._horizontal) {\n          window.requestAnimationFrame(() => this._toggleAnimation(true, item, false));\n          if (this._accordion) this._closeOther(item, closeChildren);\n        } else if (this._animate) {\n          this._toggleDropdown(true, item, closeChildren);\n          this._onOpened && this._onOpened(this, item, toggleLink, Menu._findMenu(item));\n        } else {\n          item.classList.add('open');\n          this._onOpened && this._onOpened(this, item, toggleLink, Menu._findMenu(item));\n          if (this._accordion) this._closeOther(item, closeChildren);\n        }\n      } else {\n        this._toggleDropdown(true, item, closeChildren);\n        this._onOpened && this._onOpened(this, item, toggleLink, Menu._findMenu(item));\n      }\n    }).catch(() => {});\n  }\n\n  close(el, closeChildren = this._closeChildren, _autoClose = false) {\n    const item = Menu._getItem(el, true);\n    const toggleLink = Menu._getLink(el, true);\n\n    if (!item.classList.contains('open') || item.classList.contains('disabled')) return;\n\n    Menu._promisify(this._onClose, this, item, toggleLink, Menu._findMenu(item), _autoClose).then(() => {\n      if (!this._horizontal || !Menu._isRoot(item)) {\n        if (this._animate && !this._horizontal) {\n          window.requestAnimationFrame(() => this._toggleAnimation(false, item, closeChildren));\n        } else {\n          item.classList.remove('open');\n          if (closeChildren) {\n            const opened = item.querySelectorAll('.menu-item.open');\n            for (let i = 0, l = opened.length; i < l; i++) {\n              opened[i].classList.remove('open');\n            }\n          }\n          this._onClosed && this._onClosed(this, item, toggleLink, Menu._findMenu(item));\n        }\n      } else {\n        this._toggleDropdown(false, item, closeChildren);\n        this._onClosed && this._onClosed(this, item, toggleLink, Menu._findMenu(item));\n      }\n    }).catch(() => {});\n  }\n\n  _closeOther(item, closeChildren) {\n    const opened = Menu._findChild(item.parentNode, ['menu-item', 'open']);\n    for (let i = 0, l = opened.length; i < l; i++) {\n      if (opened[i] !== item) this.close(opened[i], closeChildren);\n    }\n  }\n\n  toggle(el, closeChildren = this._closeChildren) {\n    const item = Menu._getItem(el, true);\n    if (item.classList.contains('open')) {\n      this.close(item, closeChildren);\n    } else {\n      this.open(item, closeChildren);\n    }\n  }\n\n  _toggleDropdown(show, item, closeChildren) {\n    const menu = Menu._findMenu(item);\n    let actualItem = item;\n    let subMenuItem = false;\n\n    if (show) {\n      if (Menu._findParent(item, 'menu-sub', false)) {\n        subMenuItem = true;\n        item = this._topParent ? this._topParent.parentNode : item;\n      }\n\n      const wrapperWidth = Math.round(this._wrapper.getBoundingClientRect().width);\n      let position = this._innerPosition;\n      const itemOffset = this._getItemOffset(item);\n      const itemWidth = Math.round(item.getBoundingClientRect().width);\n\n      if (itemOffset - DELTA <= -1 * position) {\n        this._innerPosition = -1 * itemOffset;\n      } else if (itemOffset + position + itemWidth + DELTA >= wrapperWidth) {\n        if (itemWidth > wrapperWidth) {\n          this._innerPosition = -1 * itemOffset;\n        } else {\n          this._innerPosition = -1 * (itemOffset + itemWidth - wrapperWidth);\n        }\n      }\n\n      actualItem.classList.add('open');\n      const menuWidth = Math.round(menu.getBoundingClientRect().width);\n\n      if (subMenuItem) {\n        if (itemOffset + this._innerPosition + menuWidth * 2 > wrapperWidth &&\n            menuWidth < wrapperWidth &&\n            menuWidth >= itemWidth) {\n          // Use class instead of inline style\n          if (this._rtl) {\n            menu.classList.add('menu-position-right-100');\n          } else {\n            menu.classList.add('menu-position-left-100');\n          }\n        }\n      } else if (itemOffset + this._innerPosition + menuWidth > wrapperWidth &&\n                 menuWidth < wrapperWidth &&\n                 menuWidth > itemWidth) {\n        // Store margin value in data attribute and apply via CSS class\n        const marginValue = menuWidth - itemWidth;\n        menu.setAttribute('data-menu-margin', marginValue);\n        if (this._rtl) {\n          menu.classList.add('menu-margin-right');\n        } else {\n          menu.classList.add('menu-margin-left');\n        }\n      }\n\n      this._closeOther(actualItem, closeChildren);\n      this._updateSlider();\n    } else {\n      const toggle = Menu._findChild(item, ['menu-toggle']);\n      if (toggle.length) toggle[0].removeAttribute('data-hover', 'true');\n\n      item.classList.remove('open');\n      // Remove margin classes instead of setting style to null\n      menu.classList.remove('menu-margin-left', 'menu-margin-right', 'menu-position-left-100', 'menu-position-right-100');\n      menu.removeAttribute('data-menu-margin');\n\n      if (closeChildren) {\n        const opened = menu.querySelectorAll('.menu-item.open');\n        for (let i = 0, l = opened.length; i < l; i++) {\n          opened[i].classList.remove('open');\n        }\n      }\n    }\n  }\n\n  _slide(direction) {\n    const wrapperWidth = Math.round(this._wrapper.getBoundingClientRect().width);\n    const innerWidth = this._innerWidth;\n    let newPosition;\n\n    if (direction === 'next') {\n      newPosition = this._getSlideNextPos();\n      if (innerWidth + newPosition < wrapperWidth) {\n        newPosition = wrapperWidth - innerWidth;\n      }\n    } else {\n      newPosition = this._getSlidePrevPos();\n      if (newPosition > 0) newPosition = 0;\n    }\n\n    this._innerPosition = newPosition;\n    this.update();\n  }\n\n  _getSlideNextPos() {\n    const wrapperWidth = Math.round(this._wrapper.getBoundingClientRect().width);\n    const position = this._innerPosition;\n    let curItem = this._inner.childNodes[0];\n    let left = 0;\n\n    while (curItem) {\n      if (curItem.tagName) {\n        const curItemWidth = Math.round(curItem.getBoundingClientRect().width);\n        if (left + position - DELTA <= wrapperWidth && left + position + curItemWidth + DELTA >= wrapperWidth) {\n          if (curItemWidth > wrapperWidth && left === -1 * position) left += curItemWidth;\n          break;\n        }\n        left += curItemWidth;\n      }\n      curItem = curItem.nextSibling;\n    }\n    return -1 * left;\n  }\n\n  _getSlidePrevPos() {\n    const wrapperWidth = Math.round(this._wrapper.getBoundingClientRect().width);\n    const position = this._innerPosition;\n    let curItem = this._inner.childNodes[0];\n    let left = 0;\n\n    while (curItem) {\n      if (curItem.tagName) {\n        const curItemWidth = Math.round(curItem.getBoundingClientRect().width);\n        if (left - DELTA <= -1 * position && left + curItemWidth + DELTA >= -1 * position) {\n          if (curItemWidth <= wrapperWidth) left = left + curItemWidth - wrapperWidth;\n          break;\n        }\n        left += curItemWidth;\n      }\n      curItem = curItem.nextSibling;\n    }\n    return -1 * left;\n  }\n\n  _findUnopenedParent(item, closeChildren) {\n    let tree = [];\n    let parentItem = null;\n\n    while (item) {\n      if (item.classList.contains('disabled')) {\n        parentItem = null;\n        tree = [];\n      } else {\n        if (!item.classList.contains('open')) parentItem = item;\n        tree.push(item);\n      }\n      item = Menu._findParent(item, 'menu-item', false);\n    }\n\n    if (!parentItem) return null;\n    if (tree.length === 1) return parentItem;\n\n    tree = tree.slice(0, tree.indexOf(parentItem));\n    for (let i = 0, l = tree.length; i < l; i++) {\n      tree[i].classList.add('open');\n\n      if (this._accordion) {\n        const openedItems = Menu._findChild(tree[i].parentNode, ['menu-item', 'open']);\n        for (let j = 0, k = openedItems.length; j < k; j++) {\n          if (openedItems[j] !== tree[i]) {\n            openedItems[j].classList.remove('open');\n            if (closeChildren) {\n              const openedChildren = openedItems[j].querySelectorAll('.menu-item.open');\n              for (let x = 0, z = openedChildren.length; x < z; x++) {\n                openedChildren[x].classList.remove('open');\n              }\n            }\n          }\n        }\n      }\n    }\n    return parentItem;\n  }\n\n  _toggleAnimation(open, item, closeChildren) {\n    const toggleLink = Menu._getLink(item, true);\n    const menu = Menu._findMenu(item);\n    Menu._unbindAnimationEndEvent(item);\n\n    const linkHeight = Math.round(toggleLink.getBoundingClientRect().height);\n\n    // Use CSS class instead of inline style\n    item.classList.add('menu-item-overflow-hidden');\n\n    const clearItemStyle = () => {\n      item.classList.remove('menu-item-animating');\n      item.classList.remove('menu-item-closing');\n      item.classList.remove('menu-item-overflow-hidden');\n      // Remove height data attribute\n      item.removeAttribute('data-menu-height');\n      if (!this._horizontal) this.update();\n    };\n\n    if (open) {\n      // Set height via data attribute\n      item.setAttribute('data-menu-height', `${linkHeight}px`);\n      item.classList.add('menu-item-animating');\n      item.classList.add('open');\n\n      Menu._bindAnimationEndEvent(item, () => {\n        clearItemStyle();\n        this._onOpened(this, item, toggleLink, menu);\n      });\n\n      setTimeout(() => {\n        const totalHeight = linkHeight + Math.round(menu.getBoundingClientRect().height);\n        item.setAttribute('data-menu-height', `${totalHeight}px`);\n      }, 50);\n    } else {\n      // Set initial height\n      const totalHeight = linkHeight + Math.round(menu.getBoundingClientRect().height);\n      item.setAttribute('data-menu-height', `${totalHeight}px`);\n      item.classList.add('menu-item-animating');\n      item.classList.add('menu-item-closing');\n\n      Menu._bindAnimationEndEvent(item, () => {\n        item.classList.remove('open');\n        clearItemStyle();\n\n        if (closeChildren) {\n          const opened = item.querySelectorAll('.menu-item.open');\n          for (let i = 0, l = opened.length; i < l; i++) {\n            opened[i].classList.remove('open');\n          }\n        }\n        this._onClosed(this, item, toggleLink, menu);\n      });\n\n      setTimeout(() => {\n        item.setAttribute('data-menu-height', `${linkHeight}px`);\n      }, 50);\n    }\n  }\n\n  _getItemOffset(item) {\n    let curItem = this._inner.childNodes[0];\n    let left = 0;\n\n    while (curItem !== item) {\n      if (curItem.tagName) {\n        left += Math.round(curItem.getBoundingClientRect().width);\n      }\n      curItem = curItem.nextSibling;\n    }\n    return left;\n  }\n\n  _updateSlider(wrapperWidth = null, innerWidth = null, position = null) {\n    const _wrapperWidth = wrapperWidth !== null ? wrapperWidth : Math.round(this._wrapper.getBoundingClientRect().width);\n    const _innerWidth = innerWidth !== null ? innerWidth : this._innerWidth;\n    const _position = position !== null ? position : this._innerPosition;\n\n    if (_innerWidth < _wrapperWidth || window.innerWidth < window.Helpers.LAYOUT_BREAKPOINT) {\n      this._prevBtn.classList.add('d-none');\n      this._nextBtn.classList.add('d-none');\n    } else {\n      this._prevBtn.classList.remove('d-none');\n      this._nextBtn.classList.remove('d-none');\n    }\n\n    if (_innerWidth > _wrapperWidth && window.innerWidth > window.Helpers.LAYOUT_BREAKPOINT) {\n      if (_position === 0) {\n        this._prevBtn.classList.add('disabled');\n      } else {\n        this._prevBtn.classList.remove('disabled');\n      }\n\n      if (_innerWidth + _position <= _wrapperWidth) {\n        this._nextBtn.classList.add('disabled');\n      } else {\n        this._nextBtn.classList.remove('disabled');\n      }\n    }\n  }\n\n  get _innerWidth() {\n    const items = this._inner.childNodes;\n    let width = 0;\n\n    for (let i = 0, l = items.length; i < l; i++) {\n      if (items[i].tagName) {\n        width += Math.round(items[i].getBoundingClientRect().width);\n      }\n    }\n    return width;\n  }\n\n  get _innerPosition() {\n    return parseInt(this._inner.getAttribute('data-inner-position') || '0', 10);\n  }\n\n  set _innerPosition(value) {\n    this._inner.setAttribute('data-inner-position', value);\n    // Apply margin via custom property or class\n    const marginValue = `${value}px`;\n    if (this._rtl) {\n      this._inner.style.setProperty('--menu-margin-right', marginValue);\n    } else {\n      this._inner.style.setProperty('--menu-margin-left', marginValue);\n    }\n    return value;\n  }\n\n  closeAll(closeChildren = this._closeChildren) {\n    const opened = this._el.querySelectorAll('.menu-inner > .menu-item.open');\n    for (let i = 0, l = opened.length; i < l; i++) {\n      this.close(opened[i], closeChildren);\n    }\n  }\n\n  update() {\n    if (!this._horizontal) {\n      if (this._scrollbar) {\n        this._scrollbar.update();\n      }\n    } else {\n      this.closeAll();\n      const wrapperWidth = Math.round(this._wrapper.getBoundingClientRect().width);\n      const innerWidth = this._innerWidth;\n      let position = this._innerPosition;\n\n      if (wrapperWidth - position > innerWidth) {\n        position = wrapperWidth - innerWidth;\n        if (position > 0) position = 0;\n        this._innerPosition = position;\n      }\n      this._updateSlider(wrapperWidth, innerWidth, position);\n    }\n  }\n\n  manageScroll() {\n    const { PerfectScrollbar } = window;\n    const menuInner = document.querySelector('.menu-inner');\n\n    if (window.innerWidth < window.Helpers.LAYOUT_BREAKPOINT) {\n      if (this._scrollbar !== null) {\n        this._scrollbar.destroy();\n        this._scrollbar = null;\n      }\n      menuInner.classList.add('overflow-auto');\n    } else {\n      if (this._scrollbar === null) {\n        const menuScroll = new PerfectScrollbar(document.querySelector('.menu-inner'), {\n          suppressScrollX: true,\n          wheelPropagation: false\n        });\n        this._scrollbar = menuScroll;\n      }\n      menuInner.classList.remove('overflow-auto');\n    }\n  }\n\n  switchMenu(menu) {\n    // Unbind Events\n    this._unbindEvents();\n\n    const navbar = document.querySelector('nav.layout-navbar');\n    const navbarCollapse = document.querySelector('#navbar-collapse');\n    const asideMenuWrapper = document.querySelector('#layout-menu div');\n    const asideMenu = document.querySelector('#layout-menu');\n    const horzMenuClasses = ['layout-menu-horizontal', 'menu', 'menu-horizontal', 'container-fluid', 'flex-grow-0'];\n    const vertMenuClasses = ['layout-menu', 'menu', 'menu-vertical'];\n    const horzMenuWrapper = document.querySelector('.menu-horizontal-wrapper');\n    const menuInner = document.querySelector('.menu-inner');\n    const brand = document.querySelector('.app-brand');\n    const menuToggler = document.querySelector('.layout-menu-toggle');\n    const activeMenuItems = document.querySelectorAll('.menu-inner .active');\n\n    if (menu === 'vertical') {\n      this._horizontal = false;\n      asideMenuWrapper.insertBefore(brand, horzMenuWrapper);\n      asideMenuWrapper.insertBefore(menuInner, horzMenuWrapper);\n      asideMenuWrapper.classList.add('flex-column', 'p-0');\n\n      [...asideMenu.classList].forEach(cls => asideMenu.classList.remove(cls));\n      asideMenu.classList.add(...vertMenuClasses, this._menuBgClass);\n\n      brand.classList.remove('d-none', 'd-lg-flex');\n      menuToggler.classList.remove('d-none');\n      menuInner.classList.add('overflow-auto');\n\n      // Add open class to active items\n      for (let i = 0; i < activeMenuItems.length - 1; ++i) {\n        activeMenuItems[i].classList.add('open');\n      }\n    } else {\n      this._horizontal = true;\n      navbar.children[0].insertBefore(brand, navbarCollapse);\n      brand.classList.add('d-none', 'd-lg-flex');\n      horzMenuWrapper.appendChild(menuInner);\n      asideMenuWrapper.classList.remove('flex-column', 'p-0');\n\n      [...asideMenu.classList].forEach(cls => asideMenu.classList.remove(cls));\n      asideMenu.classList.add(...horzMenuClasses, this._menuBgClass);\n\n      menuToggler.classList.add('d-none');\n      menuInner.classList.remove('overflow-auto');\n\n      // Remove open class from active items\n      for (let i = 0; i < activeMenuItems.length; ++i) {\n        activeMenuItems[i].classList.remove('open');\n      }\n    }\n\n    this._bindEvents();\n  }\n\n  destroy() {\n    if (!this._el) return;\n\n    this._unbindEvents();\n\n    const items = this._el.querySelectorAll('.menu-item');\n    for (let i = 0, l = items.length; i < l; i++) {\n      Menu._unbindAnimationEndEvent(items[i]);\n      items[i].classList.remove('menu-item-animating');\n      items[i].classList.remove('open');\n      items[i].classList.remove('menu-item-overflow-hidden');\n      items[i].removeAttribute('data-menu-height');\n    }\n\n    const menus = this._el.querySelectorAll('.menu-menu');\n    for (let i2 = 0, l2 = menus.length; i2 < l2; i2++) {\n      menus[i2].classList.remove('menu-margin-left', 'menu-margin-right', 'menu-position-left-100', 'menu-position-right-100');\n      menus[i2].removeAttribute('data-menu-margin');\n    }\n\n    this._el.classList.remove('menu-no-animation');\n\n    if (this._wrapper) {\n      this._prevBtn.parentNode.removeChild(this._prevBtn);\n      this._nextBtn.parentNode.removeChild(this._nextBtn);\n      this._wrapper.parentNode.insertBefore(this._inner, this._wrapper);\n      this._wrapper.parentNode.removeChild(this._wrapper);\n      this._inner.removeAttribute('data-inner-position');\n      this._inner.style.removeProperty('--menu-margin-left');\n      this._inner.style.removeProperty('--menu-margin-right');\n    }\n\n    this._el.menuInstance = null;\n    delete this._el.menuInstance;\n    this._el = null;\n    this._horizontal = null;\n    this._animate = null;\n    this._accordion = null;\n    this._showDropdownOnHover = null;\n    this._closeChildren = null;\n    this._rtl = null;\n    this._onOpen = null;\n    this._onOpened = null;\n    this._onClose = null;\n    this._onClosed = null;\n\n    if (this._scrollbar) {\n      this._scrollbar.destroy();\n      this._scrollbar = null;\n    }\n\n    this._inner = null;\n    this._prevBtn = null;\n    this._wrapper = null;\n    this._nextBtn = null;\n  }\n\n  static childOf(c, p) {\n    if (c.parentNode) {\n      while ((c = c.parentNode) && c !== p);\n      return !!c;\n    }\n    return false;\n  }\n\n  static _isRoot(item) {\n    return !Menu._findParent(item, 'menu-item', false);\n  }\n\n  static _findParent(el, cls, throwError = true) {\n    if (el.tagName.toUpperCase() === 'BODY') return null;\n\n    el = el.parentNode;\n    while (el.tagName.toUpperCase() !== 'BODY' && !el.classList.contains(cls)) {\n      el = el.parentNode;\n    }\n\n    el = el.tagName.toUpperCase() !== 'BODY' ? el : null;\n\n    if (!el && throwError) {\n      throw new Error(`Cannot find .${cls} parent element`);\n    }\n    return el;\n  }\n\n  static _findChild(el, cls) {\n    const items = el.childNodes;\n    const found = [];\n\n    for (let i = 0, l = items.length; i < l; i++) {\n      if (items[i].classList) {\n        let passed = 0;\n        for (let j = 0; j < cls.length; j++) {\n          if (items[i].classList.contains(cls[j])) passed += 1;\n        }\n        if (cls.length === passed) found.push(items[i]);\n      }\n    }\n    return found;\n  }\n\n  static _findMenu(item) {\n    let curEl = item.childNodes[0];\n    let menu = null;\n\n    while (curEl && !menu) {\n      if (curEl.classList && curEl.classList.contains('menu-sub')) menu = curEl;\n      curEl = curEl.nextSibling;\n    }\n\n    if (!menu) throw new Error('Cannot find `.menu-sub` element for the current `.menu-toggle`');\n    return menu;\n  }\n\n  static _hasClass(cls, el = window.Helpers.ROOT_EL) {\n    let result = false;\n    cls.split(' ').forEach((c) => {\n      if (el.classList.contains(c)) result = true;\n    });\n    return result;\n  }\n\n  static _getItem(el, toggle) {\n    let item = null;\n    const selector = toggle ? 'menu-toggle' : 'menu-link';\n\n    if (el.classList.contains('menu-item')) {\n      if (Menu._findChild(el, [selector]).length) item = el;\n    } else if (el.classList.contains(selector)) {\n      item = el.parentNode.classList.contains('menu-item') ? el.parentNode : null;\n    }\n\n    if (!item) {\n      throw new Error(`${toggle ? 'Toggable ' : ''}.menu-item element not found.`);\n    }\n    return item;\n  }\n\n  static _getLink(el, toggle) {\n    let found = [];\n    const selector = toggle ? 'menu-toggle' : 'menu-link';\n\n    if (el.classList.contains(selector)) {\n      found = [el];\n    } else if (el.classList.contains('menu-item')) {\n      found = Menu._findChild(el, [selector]);\n    }\n\n    if (!found.length) throw new Error(`${selector} element not found.`);\n    return found[0];\n  }\n\n  static _bindAnimationEndEvent(el, handler) {\n    const cb = (e) => {\n      if (e.target !== el) return;\n      Menu._unbindAnimationEndEvent(el);\n      handler(e);\n    };\n\n    let duration = window.getComputedStyle(el).transitionDuration;\n    duration = parseFloat(duration) * (duration.indexOf('ms') !== -1 ? 1 : 1000);\n\n    el._menuAnimationEndEventCb = cb;\n    TRANSITION_EVENTS.forEach((ev) => el.addEventListener(ev, el._menuAnimationEndEventCb, false));\n    el._menuAnimationEndEventTimeout = setTimeout(() => {\n      cb({ target: el });\n    }, duration + 50);\n  }\n\n  static _promisify(fn, ...args) {\n    const result = fn.apply(void 0, args);\n\n    if (result instanceof Promise) {\n      return result;\n    }\n    if (result === false) {\n      return Promise.reject();\n    }\n    return Promise.resolve();\n  }\n\n  static _unbindAnimationEndEvent(el) {\n    const cb = el._menuAnimationEndEventCb;\n\n    if (el._menuAnimationEndEventTimeout) {\n      clearTimeout(el._menuAnimationEndEventTimeout);\n      el._menuAnimationEndEventTimeout = null;\n    }\n    if (!cb) return;\n\n    TRANSITION_EVENTS.forEach((ev) => el.removeEventListener(ev, cb, false));\n    el._menuAnimationEndEventCb = null;\n  }\n\n  setDisabled(el, disabled) {\n    Menu._getItem(el, false).classList[disabled ? 'add' : 'remove']('disabled');\n  }\n\n  isActive(el) {\n    return Menu._getItem(el, false).classList.contains('active');\n  }\n\n  isOpened(el) {\n    return Menu._getItem(el, false).classList.contains('open');\n  }\n\n  isDisabled(el) {\n    return Menu._getItem(el, false).classList.contains('disabled');\n  }\n}\n\nwindow.Menu = Menu;\n\n// NOTE: Removed \"export { Menu };\" - ES6 exports break when concatenated into non-module bundles\n// The window.Menu assignment above makes Menu globally available\n","/**\n * Centralized Event Delegation System\n *\n * Handles all interactive events for dynamic content across the application.\n * Uses event delegation to ensure event handlers work for elements added after page load\n * (via AJAX, HTMX, innerHTML, appendChild, etc.)\n *\n * @version 1.0.0\n * @author ECS Development Team\n * @date 2025-12-16\n *\n * USAGE:\n *\n * 1. In HTML, use data-action attributes:\n *    <button data-action=\"delete-match\" data-match-id=\"123\">Delete</button>\n *\n * 2. Register handler in JavaScript:\n *    EventDelegation.register('delete-match', function(element, event) {\n *        const matchId = element.dataset.matchId;\n *        // Handle delete\n *    });\n *\n * 3. Initialize (already done in this file):\n *    EventDelegation.init();\n */\n\nconst EventDelegation = {\n    // Handler registry - maps action names to handler functions\n    handlers: new Map(),\n\n    // Debug mode - set to true for verbose logging\n    debug: false,\n\n    // Statistics for monitoring\n    stats: {\n        handlersRegistered: 0,\n        eventsProcessed: 0,\n        errorsEncountered: 0\n    },\n\n    /**\n     * Register an action handler\n     *\n     * @param {string} action - Action name (from data-action attribute)\n     * @param {Function} handler - Handler function(element, event)\n     * @param {Object} options - Optional configuration\n     *   @param {boolean} options.preventDefault - Auto preventDefault (default: false)\n     *   @param {boolean} options.stopPropagation - Auto stopPropagation (default: false)\n     *\n     * @example\n     * EventDelegation.register('delete-item', function(element, e) {\n     *     const itemId = element.dataset.itemId;\n     *     deleteItem(itemId);\n     * });\n     */\n    register(action, handler, options = {}) {\n        if (typeof handler !== 'function') {\n            console.error(`[EventDelegation] Handler for action \"${action}\" must be a function`);\n            return;\n        }\n\n        // Wrap handler with options\n        const wrappedHandler = (element, event) => {\n            if (options.preventDefault) event.preventDefault();\n            if (options.stopPropagation) event.stopPropagation();\n            return handler(element, event);\n        };\n\n        this.handlers.set(action, wrappedHandler);\n        this.stats.handlersRegistered++;\n\n        if (this.debug) {\n            console.log(`[EventDelegation] Registered handler: ${action}`);\n        }\n    },\n\n    /**\n     * Unregister an action handler\n     *\n     * @param {string} action - Action name to unregister\n     */\n    unregister(action) {\n        if (this.handlers.has(action)) {\n            this.handlers.delete(action);\n            this.stats.handlersRegistered--;\n            if (this.debug) {\n                console.log(`[EventDelegation] Unregistered handler: ${action}`);\n            }\n        }\n    },\n\n    /**\n     * Check if an action is registered\n     *\n     * @param {string} action - Action name to check\n     * @returns {boolean}\n     */\n    isRegistered(action) {\n        return this.handlers.has(action);\n    },\n\n    /**\n     * Get all registered action names\n     *\n     * @returns {string[]} Array of action names\n     */\n    getRegisteredActions() {\n        return Array.from(this.handlers.keys());\n    },\n\n    /**\n     * Initialize event delegation system\n     * Sets up global event listeners on document\n     */\n    init() {\n        // Click events (most common)\n        // NOTE: Using bubble phase (false) to allow other handlers to also process events\n        document.addEventListener('click', this.handleClick.bind(this), false);\n\n        // Change events (for form inputs)\n        document.addEventListener('change', this.handleChange.bind(this), false);\n\n        // Input events (for real-time validation/search)\n        document.addEventListener('input', this.handleInput.bind(this), false);\n\n        // Submit events (for forms)\n        document.addEventListener('submit', this.handleSubmit.bind(this), false);\n\n        // Keydown events (for keyboard shortcuts)\n        document.addEventListener('keydown', this.handleKeydown.bind(this), false);\n\n        console.log('[EventDelegation] System initialized');\n        console.log(`[EventDelegation] Registered ${this.stats.handlersRegistered} handlers`);\n    },\n\n    /**\n     * Handle click events\n     * Delegates to registered action handlers based on data-action attribute\n     *\n     * @param {Event} e - Click event\n     */\n    handleClick(e) {\n        // Find element with data-action (check target and parents)\n        const actionElement = e.target.closest('[data-action]');\n        if (!actionElement) return;\n\n        const action = actionElement.dataset.action;\n        const handler = this.handlers.get(action);\n\n        if (handler) {\n            this.stats.eventsProcessed++;\n\n            if (this.debug) {\n                console.log(`[EventDelegation] Handling click action: ${action}`, {\n                    element: actionElement,\n                    data: actionElement.dataset\n                });\n            }\n\n            try {\n                handler(actionElement, e);\n            } catch (error) {\n                this.stats.errorsEncountered++;\n                console.error(`[EventDelegation] Error in handler \"${action}\":`, error);\n                this.handleError(action, error, actionElement);\n            }\n        } else {\n            if (this.debug) {\n                console.warn(`[EventDelegation] No handler registered for action: ${action}`);\n            }\n        }\n    },\n\n    /**\n     * Handle change events (for form inputs with data-on-change)\n     *\n     * @param {Event} e - Change event\n     */\n    handleChange(e) {\n        const target = e.target.closest('[data-on-change]');\n        if (!target) return;\n\n        const action = target.dataset.onChange;\n        const handler = this.handlers.get(action);\n\n        if (handler) {\n            this.stats.eventsProcessed++;\n\n            if (this.debug) {\n                console.log(`[EventDelegation] Handling change action: ${action}`, {\n                    element: target,\n                    value: target.value\n                });\n            }\n\n            try {\n                handler(target, e);\n            } catch (error) {\n                this.stats.errorsEncountered++;\n                console.error(`[EventDelegation] Error in handler \"${action}\":`, error);\n                this.handleError(action, error, target);\n            }\n        }\n    },\n\n    /**\n     * Handle input events (for real-time validation/search with data-on-input)\n     *\n     * @param {Event} e - Input event\n     */\n    handleInput(e) {\n        const target = e.target.closest('[data-on-input]');\n        if (!target) return;\n\n        const action = target.dataset.onInput;\n        const handler = this.handlers.get(action);\n\n        if (handler) {\n            this.stats.eventsProcessed++;\n\n            if (this.debug) {\n                console.log(`[EventDelegation] Handling input action: ${action}`, {\n                    element: target,\n                    value: target.value\n                });\n            }\n\n            try {\n                handler(target, e);\n            } catch (error) {\n                this.stats.errorsEncountered++;\n                console.error(`[EventDelegation] Error in handler \"${action}\":`, error);\n                this.handleError(action, error, target);\n            }\n        }\n    },\n\n    /**\n     * Handle submit events (for forms with data-on-submit)\n     *\n     * @param {Event} e - Submit event\n     */\n    handleSubmit(e) {\n        const form = e.target.closest('[data-on-submit]');\n        if (!form) return;\n\n        const action = form.dataset.onSubmit;\n        const handler = this.handlers.get(action);\n\n        if (handler) {\n            this.stats.eventsProcessed++;\n\n            if (this.debug) {\n                console.log(`[EventDelegation] Handling submit action: ${action}`, {\n                    form: form,\n                    data: new FormData(form)\n                });\n            }\n\n            try {\n                handler(form, e);\n            } catch (error) {\n                this.stats.errorsEncountered++;\n                console.error(`[EventDelegation] Error in handler \"${action}\":`, error);\n                this.handleError(action, error, form);\n            }\n        }\n    },\n\n    /**\n     * Handle keydown events (for keyboard shortcuts with data-on-keydown)\n     *\n     * @param {Event} e - Keydown event\n     */\n    handleKeydown(e) {\n        const target = e.target.closest('[data-on-keydown]');\n        if (!target) return;\n\n        const action = target.dataset.onKeydown;\n        const handler = this.handlers.get(action);\n\n        if (handler) {\n            this.stats.eventsProcessed++;\n\n            if (this.debug) {\n                console.log(`[EventDelegation] Handling keydown action: ${action}`, {\n                    element: target,\n                    key: e.key,\n                    code: e.code\n                });\n            }\n\n            try {\n                handler(target, e);\n            } catch (error) {\n                this.stats.errorsEncountered++;\n                console.error(`[EventDelegation] Error in handler \"${action}\":`, error);\n                this.handleError(action, error, target);\n            }\n        }\n    },\n\n    /**\n     * Handle errors in action handlers\n     * Can be overridden to customize error handling\n     *\n     * @param {string} action - Action name that errored\n     * @param {Error} error - The error object\n     * @param {HTMLElement} element - The element that triggered the action\n     */\n    handleError(action, error, element) {\n        // Default error handling - can be customized\n        console.error(`[EventDelegation] Action \"${action}\" failed:`, error);\n\n        // Optionally show user-facing error message\n        if (typeof showNotification === 'function') {\n            showNotification('Error', `Action failed: ${action}`, 'error');\n        }\n    },\n\n    /**\n     * Enable debug mode\n     */\n    enableDebug() {\n        this.debug = true;\n        console.log('[EventDelegation] Debug mode enabled');\n    },\n\n    /**\n     * Disable debug mode\n     */\n    disableDebug() {\n        this.debug = false;\n        console.log('[EventDelegation] Debug mode disabled');\n    },\n\n    /**\n     * Get system statistics\n     *\n     * @returns {Object} Statistics object\n     */\n    getStats() {\n        return {\n            ...this.stats,\n            registeredActions: this.handlers.size\n        };\n    },\n\n    /**\n     * Reset statistics\n     */\n    resetStats() {\n        this.stats.eventsProcessed = 0;\n        this.stats.errorsEncountered = 0;\n    }\n};\n\n// Initialize the system when DOM is ready\nif (document.readyState === 'loading') {\n    document.addEventListener('DOMContentLoaded', function() {\n        EventDelegation.init();\n    });\n} else {\n    // DOM already loaded\n    EventDelegation.init();\n}\n\n// ============================================================================\n// MATCH MANAGEMENT ACTIONS\n// ============================================================================\n\n/**\n * Show Task Info Action\n * Displays detailed information about a scheduled task\n */\nEventDelegation.register('show-task-info', function(element, e) {\n    e.preventDefault();\n\n    const taskId = element.dataset.taskId;\n    const taskType = element.dataset.taskType;\n    const taskDataStr = element.dataset.taskData;\n\n    if (!taskId || !taskType) {\n        console.error('[show-task-info] Missing required data attributes');\n        return;\n    }\n\n    let taskData;\n    try {\n        taskData = taskDataStr ? JSON.parse(taskDataStr) : {};\n    } catch (err) {\n        console.error('[show-task-info] Failed to parse task data:', err);\n        taskData = {};\n    }\n\n    if (typeof showTaskInfo === 'function') {\n        showTaskInfo(taskId, taskType, taskData);\n    } else {\n        console.error('[show-task-info] Function not found');\n    }\n});\n\n/**\n * Revoke Task Action\n * Cancels a scheduled task (thread creation, reporting, etc.)\n */\nEventDelegation.register('revoke-task', function(element, e) {\n    e.preventDefault();\n\n    const taskId = element.dataset.taskId;\n    const matchId = element.dataset.matchId;\n    const taskType = element.dataset.taskType;\n\n    if (!taskId || !matchId || !taskType) {\n        console.error('[revoke-task] Missing required data attributes');\n        return;\n    }\n\n    if (typeof revokeTask === 'function') {\n        revokeTask(taskId, matchId, taskType);\n    } else {\n        console.error('[revoke-task] Function not found');\n    }\n});\n\n/**\n * Reschedule Task Action\n * Re-schedules a task to run at a different time\n */\nEventDelegation.register('reschedule-task', function(element, e) {\n    e.preventDefault();\n\n    const matchId = element.dataset.matchId;\n    const taskType = element.dataset.taskType;\n\n    if (!matchId || !taskType) {\n        console.error('[reschedule-task] Missing required data attributes');\n        return;\n    }\n\n    if (typeof rescheduleTask === 'function') {\n        rescheduleTask(matchId, taskType);\n    } else {\n        console.error('[reschedule-task] Function not found');\n    }\n});\n\n/**\n * Refresh Tasks Action\n * Manually refreshes task status for all matches\n */\nEventDelegation.register('refresh-tasks', function(element, e) {\n    e.preventDefault();\n\n    if (typeof loadAllTaskDetails === 'function') {\n        loadAllTaskDetails();\n    } else if (typeof refreshStatuses === 'function') {\n        refreshStatuses();\n    } else {\n        console.error('[refresh-tasks] No refresh function found');\n    }\n});\n\n/**\n * Toggle Historical Matches Action\n * Shows/hides historical matches section\n */\nEventDelegation.register('toggle-historical', function(element, e) {\n    e.preventDefault();\n\n    const targetId = element.dataset.target;\n    if (!targetId) {\n        console.error('[toggle-historical] Missing target ID');\n        return;\n    }\n\n    const target = document.querySelector(targetId);\n    if (target && window.bootstrap) {\n        const collapse = bootstrap.Collapse.getOrCreateInstance(target);\n        collapse.toggle();\n    }\n});\n\n/**\n * Schedule Match Action\n * Schedules all tasks for a match (thread + reporting)\n */\nEventDelegation.register('schedule-match', function(element, e) {\n    e.preventDefault();\n\n    const matchId = element.dataset.matchId;\n\n    if (!matchId) {\n        console.error('[schedule-match] Missing match ID');\n        return;\n    }\n\n    if (typeof scheduleMatch === 'function') {\n        scheduleMatch(matchId);\n    } else {\n        console.error('[schedule-match] Function not found');\n    }\n});\n\n/**\n * Verify Match Action\n * Opens match verification modal/page\n */\nEventDelegation.register('verify-match', function(element, e) {\n    e.preventDefault();\n\n    const matchId = element.dataset.matchId;\n\n    if (!matchId) {\n        console.error('[verify-match] Missing match ID');\n        return;\n    }\n\n    // Navigate to verification page or open modal\n    if (typeof verifyMatch === 'function') {\n        verifyMatch(matchId);\n    } else {\n        // Fallback: navigate to verification page\n        const verifyUrl = element.dataset.verifyUrl || `/admin/match_verification/${matchId}`;\n        window.location.href = verifyUrl;\n    }\n});\n\n/**\n * Edit Match Action\n * Opens match editing modal/page\n */\nEventDelegation.register('edit-match', function(element, e) {\n    e.preventDefault();\n\n    const matchId = element.dataset.matchId;\n\n    if (!matchId) {\n        console.error('[edit-match] Missing match ID');\n        return;\n    }\n\n    if (typeof editMatch === 'function') {\n        editMatch(matchId);\n    } else {\n        console.error('[edit-match] Function not found');\n    }\n});\n\n// ============================================================================\n// DRAFT SYSTEM ACTIONS\n// ============================================================================\n\n/**\n * Draft Player Action\n * Shows modal to select team and draft player\n */\nEventDelegation.register('draft-player', function(element, e) {\n    e.preventDefault();\n\n    const playerId = element.dataset.playerId;\n    const playerName = element.dataset.playerName;\n\n    if (!playerId || !playerName) {\n        console.error('[draft-player] Missing required data attributes');\n        return;\n    }\n\n    // Call global function\n    if (typeof confirmDraftPlayer === 'function') {\n        confirmDraftPlayer(playerId, playerName);\n    } else if (window.draftSystemInstance && typeof window.draftSystemInstance.showDraftModal === 'function') {\n        window.draftSystemInstance.showDraftModal(playerId, playerName);\n    } else {\n        console.error('[draft-player] No draft function available');\n    }\n});\n\n/**\n * Remove Player Action\n * Removes player from team and returns to available pool\n */\nEventDelegation.register('remove-player', function(element, e) {\n    e.preventDefault();\n\n    const playerId = element.dataset.playerId;\n    const teamId = element.dataset.teamId;\n    const playerName = element.dataset.playerName;\n    const teamName = element.dataset.teamName;\n\n    if (!playerId || !teamId) {\n        console.error('[remove-player] Missing required data attributes');\n        return;\n    }\n\n    // Call global function\n    if (typeof confirmRemovePlayer === 'function') {\n        confirmRemovePlayer(playerId, teamId, playerName, teamName);\n    } else {\n        console.error('[remove-player] Function not found');\n    }\n});\n\n/**\n * View Player Profile Action\n * Opens modal with player details\n */\nEventDelegation.register('view-player-profile', function(element, e) {\n    e.preventDefault();\n\n    const playerId = element.dataset.playerId;\n\n    if (!playerId) {\n        console.error('[view-player-profile] Missing player ID');\n        return;\n    }\n\n    // Check for instance method first, then global\n    if (window.draftSystemInstance && typeof window.draftSystemInstance.openPlayerModal === 'function') {\n        window.draftSystemInstance.openPlayerModal(playerId);\n    } else if (typeof openPlayerModal === 'function') {\n        openPlayerModal(playerId);\n    } else {\n        console.error('[view-player-profile] No modal function available');\n    }\n});\n\n/**\n * Search Players Action (triggered by input event)\n * Filters available players by name\n */\nEventDelegation.register('search-players', function(element, e) {\n    const searchTerm = element.value.toLowerCase().trim();\n\n    if (window.draftSystemInstance && typeof window.draftSystemInstance.handleSearch === 'function') {\n        window.draftSystemInstance.handleSearch(e);\n    } else {\n        // Fallback: basic search implementation\n        const playerCards = document.querySelectorAll('[data-component=\"player-card\"]');\n        playerCards.forEach(card => {\n            const playerName = (card.dataset.playerName || '').toLowerCase();\n            const shouldShow = !searchTerm || playerName.includes(searchTerm);\n            card.closest('[data-component=\"player-column\"]')?.classList.toggle('d-none', !shouldShow);\n        });\n    }\n});\n\n/**\n * Filter Players by Position (triggered by change event)\n */\nEventDelegation.register('filter-position', function(element, e) {\n    if (window.draftSystemInstance && typeof window.draftSystemInstance.handleFilter === 'function') {\n        window.draftSystemInstance.handleFilter(e);\n    } else {\n        const position = element.value.toLowerCase();\n        const playerCards = document.querySelectorAll('[data-component=\"player-card\"]');\n        playerCards.forEach(card => {\n            const playerPosition = (card.dataset.position || '').toLowerCase();\n            const shouldShow = !position || playerPosition === position;\n            card.closest('[data-component=\"player-column\"]')?.classList.toggle('d-none', !shouldShow);\n        });\n    }\n});\n\n/**\n * Sort Players (triggered by change event)\n */\nEventDelegation.register('sort-players', function(element, e) {\n    if (window.draftSystemInstance && typeof window.draftSystemInstance.handleSort === 'function') {\n        window.draftSystemInstance.handleSort(e);\n    } else {\n        console.warn('[sort-players] Sort function not available');\n    }\n});\n\n// ============================================================================\n// MATCH REPORTING ACTIONS\n// ============================================================================\n\n/**\n * Edit Match Report Action\n * Opens modal to edit/create match report\n */\nEventDelegation.register('edit-match-report', function(element, e) {\n    e.preventDefault();\n\n    const matchId = element.dataset.matchId;\n\n    if (!matchId) {\n        console.error('[edit-match-report] Missing match ID');\n        return;\n    }\n\n    // Call the global function that handles the edit button click\n    if (typeof handleEditButtonClick === 'function') {\n        handleEditButtonClick(matchId);\n    } else {\n        console.error('[edit-match-report] handleEditButtonClick function not found');\n    }\n});\n\n/**\n * Add Goal Action\n * Adds goal scorer to match report\n */\nEventDelegation.register('add-goal', function(element, e) {\n    e.preventDefault();\n\n    // Extract matchId from onclick attribute or data attribute\n    let matchId = element.dataset.matchId;\n    if (!matchId) {\n        const onclickAttr = element.getAttribute('onclick');\n        if (onclickAttr) {\n            const match = onclickAttr.match(/'([^']+)'/);\n            if (match) matchId = match[1];\n        }\n    }\n\n    if (!matchId) {\n        console.error('[add-goal] Missing match ID');\n        return;\n    }\n\n    const containerId = `goalScorersContainer-${matchId}`;\n\n    if (typeof window.addEvent === 'function') {\n        window.addEvent(matchId, containerId);\n    } else {\n        console.error('[add-goal] addEvent function not found');\n    }\n});\n\n/**\n * Add Assist Action\n * Adds assist provider to match report\n */\nEventDelegation.register('add-assist', function(element, e) {\n    e.preventDefault();\n\n    // Extract matchId from onclick attribute or data attribute\n    let matchId = element.dataset.matchId;\n    if (!matchId) {\n        const onclickAttr = element.getAttribute('onclick');\n        if (onclickAttr) {\n            const match = onclickAttr.match(/'([^']+)'/);\n            if (match) matchId = match[1];\n        }\n    }\n\n    if (!matchId) {\n        console.error('[add-assist] Missing match ID');\n        return;\n    }\n\n    const containerId = `assistProvidersContainer-${matchId}`;\n\n    if (typeof window.addEvent === 'function') {\n        window.addEvent(matchId, containerId);\n    } else {\n        console.error('[add-assist] addEvent function not found');\n    }\n});\n\n/**\n * Add Yellow Card Action\n * Adds yellow card to match report\n */\nEventDelegation.register('add-yellow-card', function(element, e) {\n    e.preventDefault();\n\n    // Extract matchId from onclick attribute or data attribute\n    let matchId = element.dataset.matchId;\n    if (!matchId) {\n        const onclickAttr = element.getAttribute('onclick');\n        if (onclickAttr) {\n            const match = onclickAttr.match(/'([^']+)'/);\n            if (match) matchId = match[1];\n        }\n    }\n\n    if (!matchId) {\n        console.error('[add-yellow-card] Missing match ID');\n        return;\n    }\n\n    const containerId = `yellowCardsContainer-${matchId}`;\n\n    if (typeof window.addEvent === 'function') {\n        window.addEvent(matchId, containerId);\n    } else {\n        console.error('[add-yellow-card] addEvent function not found');\n    }\n});\n\n/**\n * Add Red Card Action\n * Adds red card to match report\n */\nEventDelegation.register('add-red-card', function(element, e) {\n    e.preventDefault();\n\n    // Extract matchId from onclick attribute or data attribute\n    let matchId = element.dataset.matchId;\n    if (!matchId) {\n        const onclickAttr = element.getAttribute('onclick');\n        if (onclickAttr) {\n            const match = onclickAttr.match(/'([^']+)'/);\n            if (match) matchId = match[1];\n        }\n    }\n\n    if (!matchId) {\n        console.error('[add-red-card] Missing match ID');\n        return;\n    }\n\n    const containerId = `redCardsContainer-${matchId}`;\n\n    if (typeof window.addEvent === 'function') {\n        window.addEvent(matchId, containerId);\n    } else {\n        console.error('[add-red-card] addEvent function not found');\n    }\n});\n\n/**\n * Remove Event Action (Generic)\n * Removes any event entry (goal, assist, card) from match report\n */\nEventDelegation.register('remove-event', function(element, e) {\n    e.preventDefault();\n\n    if (typeof window.removeEvent === 'function') {\n        window.removeEvent(element);\n    } else {\n        console.error('[remove-event] removeEvent function not found');\n    }\n});\n\n/**\n * Remove Own Goal Action\n * Removes own goal from match report\n */\nEventDelegation.register('remove-own-goal', function(element, e) {\n    e.preventDefault();\n\n    if (typeof window.removeEvent === 'function') {\n        window.removeEvent(element);\n    } else {\n        console.error('[remove-own-goal] removeEvent function not found');\n    }\n});\n\n// ============================================================================\n// RSVP ACTIONS\n// ============================================================================\n\n/**\n * RSVP Yes Action\n * Player confirms attendance (admin can set for players)\n */\nEventDelegation.register('rsvp-yes', function(element, e) {\n    e.preventDefault();\n\n    const matchId = element.dataset.matchId;\n    const playerId = element.dataset.playerId;\n\n    if (!matchId) {\n        console.error('[rsvp-yes] Missing match ID');\n        return;\n    }\n\n    // Admin update mode (has playerId) vs player self-RSVP\n    if (playerId) {\n        // Admin updating player RSVP\n        if (typeof updatePlayerRSVP === 'function') {\n            updatePlayerRSVP(playerId, matchId, 'yes');\n        } else {\n            // Fallback: trigger the update-rsvp-btn logic\n            const response = 'yes';\n            updateRSVPStatus(playerId, matchId, response);\n        }\n    } else {\n        // Player self-RSVP\n        if (typeof submitRSVP === 'function') {\n            submitRSVP(matchId, 'yes');\n        } else {\n            console.error('[rsvp-yes] submitRSVP function not found');\n        }\n    }\n});\n\n/**\n * RSVP No Action\n * Player confirms they cannot attend\n */\nEventDelegation.register('rsvp-no', function(element, e) {\n    e.preventDefault();\n\n    const matchId = element.dataset.matchId;\n    const playerId = element.dataset.playerId;\n\n    if (!matchId) {\n        console.error('[rsvp-no] Missing match ID');\n        return;\n    }\n\n    if (playerId) {\n        if (typeof updatePlayerRSVP === 'function') {\n            updatePlayerRSVP(playerId, matchId, 'no');\n        } else {\n            updateRSVPStatus(playerId, matchId, 'no');\n        }\n    } else {\n        if (typeof submitRSVP === 'function') {\n            submitRSVP(matchId, 'no');\n        } else {\n            console.error('[rsvp-no] submitRSVP function not found');\n        }\n    }\n});\n\n/**\n * RSVP Maybe Action\n * Player is unsure about attendance\n */\nEventDelegation.register('rsvp-maybe', function(element, e) {\n    e.preventDefault();\n\n    const matchId = element.dataset.matchId;\n    const playerId = element.dataset.playerId;\n\n    if (!matchId) {\n        console.error('[rsvp-maybe] Missing match ID');\n        return;\n    }\n\n    if (playerId) {\n        if (typeof updatePlayerRSVP === 'function') {\n            updatePlayerRSVP(playerId, matchId, 'maybe');\n        } else {\n            updateRSVPStatus(playerId, matchId, 'maybe');\n        }\n    } else {\n        if (typeof submitRSVP === 'function') {\n            submitRSVP(matchId, 'maybe');\n        } else {\n            console.error('[rsvp-maybe] submitRSVP function not found');\n        }\n    }\n});\n\n/**\n * Withdraw RSVP Action\n * Player cancels their RSVP\n */\nEventDelegation.register('rsvp-withdraw', function(element, e) {\n    e.preventDefault();\n\n    const matchId = element.dataset.matchId;\n    const playerId = element.dataset.playerId;\n\n    if (!matchId) {\n        console.error('[rsvp-withdraw] Missing match ID');\n        return;\n    }\n\n    if (playerId) {\n        // Admin clearing player RSVP\n        if (typeof updatePlayerRSVP === 'function') {\n            updatePlayerRSVP(playerId, matchId, 'no_response');\n        } else {\n            updateRSVPStatus(playerId, matchId, 'no_response');\n        }\n    } else {\n        // Player withdrawing own RSVP\n        if (typeof withdrawRSVP === 'function') {\n            withdrawRSVP(matchId);\n        } else {\n            console.error('[rsvp-withdraw] withdrawRSVP function not found');\n        }\n    }\n});\n\n/**\n * Send SMS Action\n * Opens modal to send SMS to player\n */\nEventDelegation.register('rsvp-request-sms', function(element, e) {\n    e.preventDefault();\n\n    const playerId = element.dataset.playerId;\n    const playerName = element.dataset.playerName;\n    const phone = element.dataset.phone;\n\n    if (!playerId) {\n        console.error('[rsvp-request-sms] Missing player ID');\n        return;\n    }\n\n    // Use jQuery if available (legacy code uses it)\n    if (window.jQuery) {\n        const $ = window.jQuery;\n\n        try {\n            // Populate modal fields\n            $('#smsPlayerName').text(playerName || 'Player');\n            $('#smsPlayerId').val(playerId);\n            $('#smsPlayerPhone').val(phone || '');\n\n            // Format phone number for display\n            if (phone && typeof formatPhoneNumber === 'function') {\n                $('#smsPlayerPhoneDisplay').text(formatPhoneNumber(phone));\n            } else {\n                $('#smsPlayerPhoneDisplay').text(phone || '');\n            }\n\n            $('#smsMessage').val('');\n            $('#smsCharCount').text('0');\n\n            // Show modal\n            const smsModal = document.querySelector('[data-modal=\"send-sms\"]');\n            if (smsModal) {\n                ModalManager.showByElement(smsModal);\n            }\n        } catch (err) {\n            console.error('[rsvp-request-sms] Error opening modal:', err);\n        }\n    } else {\n        // Vanilla JS fallback\n        const smsModal = document.querySelector('[data-modal=\"send-sms\"]');\n        if (smsModal && window.bootstrap) {\n            // Set values directly\n            const playerNameEl = document.getElementById('smsPlayerName');\n            const playerIdEl = document.getElementById('smsPlayerId');\n            const playerPhoneEl = document.getElementById('smsPlayerPhone');\n            const messageEl = document.getElementById('smsMessage');\n            const charCountEl = document.getElementById('smsCharCount');\n\n            if (playerNameEl) playerNameEl.textContent = playerName || 'Player';\n            if (playerIdEl) playerIdEl.value = playerId;\n            if (playerPhoneEl) playerPhoneEl.value = phone || '';\n            if (messageEl) messageEl.value = '';\n            if (charCountEl) charCountEl.textContent = '0';\n\n            ModalManager.showByElement(smsModal);\n        }\n    }\n});\n\n/**\n * Send Discord DM Action\n * Opens modal to send Discord direct message\n */\nEventDelegation.register('rsvp-request-discord-dm', function(element, e) {\n    e.preventDefault();\n\n    const playerId = element.dataset.playerId;\n    const playerName = element.dataset.playerName;\n    const discordId = element.dataset.discordId;\n\n    if (!playerId) {\n        console.error('[rsvp-request-discord-dm] Missing player ID');\n        return;\n    }\n\n    // Use jQuery if available (legacy code uses it)\n    if (window.jQuery) {\n        const $ = window.jQuery;\n\n        try {\n            $('#discordPlayerName').text(playerName || 'Player');\n            $('#discordPlayerId').val(playerId);\n            $('#discordId').val(discordId || '');\n            $('#discordMessage').val('');\n            $('#discordCharCount').text('0');\n\n            const discordModal = document.querySelector('[data-modal=\"send-discord-dm\"]');\n            if (discordModal) {\n                ModalManager.showByElement(discordModal);\n            }\n        } catch (err) {\n            console.error('[rsvp-request-discord-dm] Error opening modal:', err);\n        }\n    } else {\n        // Vanilla JS fallback\n        const discordModal = document.querySelector('[data-modal=\"send-discord-dm\"]');\n        if (discordModal && window.bootstrap) {\n            const playerNameEl = document.getElementById('discordPlayerName');\n            const playerIdEl = document.getElementById('discordPlayerId');\n            const discordIdEl = document.getElementById('discordId');\n            const messageEl = document.getElementById('discordMessage');\n            const charCountEl = document.getElementById('discordCharCount');\n\n            if (playerNameEl) playerNameEl.textContent = playerName || 'Player';\n            if (playerIdEl) playerIdEl.value = playerId;\n            if (discordIdEl) discordIdEl.value = discordId || '';\n            if (messageEl) messageEl.value = '';\n            if (charCountEl) charCountEl.textContent = '0';\n\n            ModalManager.showByElement(discordModal);\n        }\n    }\n});\n\n/**\n * Update RSVP Status Action (Admin)\n * Admin manually updates player RSVP status\n * This is the main handler that triggers the update via AJAX\n */\nEventDelegation.register('rsvp-update-status', function(element, e) {\n    e.preventDefault();\n\n    const playerId = element.dataset.playerId;\n    const matchId = element.dataset.matchId;\n    const response = element.dataset.response;\n\n    if (!playerId || !matchId || !response) {\n        console.error('[rsvp-update-status] Missing required data attributes');\n        return;\n    }\n\n    updateRSVPStatus(playerId, matchId, response);\n});\n\n/**\n * Helper function to update RSVP status via AJAX\n * This replaces the inline logic from the jQuery handler\n */\nfunction updateRSVPStatus(playerId, matchId, response) {\n    // Use SweetAlert2 for confirmation\n    if (typeof Swal === 'undefined') {\n        console.error('[updateRSVPStatus] SweetAlert2 not available');\n        return;\n    }\n\n    Swal.fire({\n        title: 'Update RSVP Status?',\n        text: 'Are you sure you want to update this player\\'s RSVP status?',\n        icon: 'question',\n        showCancelButton: true,\n        confirmButtonText: 'Yes, update it',\n        cancelButtonText: 'Cancel',\n        confirmButtonColor: (typeof ECSTheme !== 'undefined') ? ECSTheme.getColor('primary') : '#0d6efd',\n        customClass: {\n            confirmButton: 'swal-btn-confirm',\n            cancelButton: 'swal-btn-cancel'\n        },\n        buttonsStyling: false\n    }).then((result) => {\n        if (result.isConfirmed) {\n            const formData = new FormData();\n\n            // Get CSRF token\n            const csrfToken = document.querySelector('input[name=\"csrf_token\"]')?.value || '';\n\n            formData.append('csrf_token', csrfToken);\n            formData.append('player_id', playerId);\n            formData.append('match_id', matchId);\n            formData.append('response', response);\n\n            // Show loading state\n            Swal.fire({\n                title: 'Updating...',\n                allowOutsideClick: false,\n                didOpen: () => {\n                    Swal.showLoading();\n                }\n            });\n\n            // Make the AJAX request\n            fetch('/admin/update_rsvp', {\n                method: 'POST',\n                body: formData,\n                headers: {\n                    'X-Requested-With': 'XMLHttpRequest'\n                }\n            })\n            .then(function(response) {\n                if (!response.ok) {\n                    throw new Error('Network response was not ok');\n                }\n                return response.json();\n            })\n            .then(function(data) {\n                if (data.success) {\n                    Swal.fire({\n                        title: 'Success!',\n                        text: 'RSVP updated successfully.',\n                        icon: 'success',\n                        timer: 1500,\n                        showConfirmButton: false\n                    }).then(() => {\n                        window.location.reload();\n                    });\n                } else {\n                    Swal.fire({\n                        title: 'Error',\n                        text: data.message || 'Error updating RSVP.',\n                        icon: 'error'\n                    });\n                }\n            })\n            .catch(function(error) {\n                console.error('[updateRSVPStatus] Error:', error);\n                Swal.fire({\n                    title: 'Error',\n                    text: 'An error occurred while updating RSVP. Please try again.',\n                    icon: 'error'\n                });\n            });\n        }\n    });\n}\n\n// ============================================================================\n// CALENDAR SUBSCRIPTION ACTIONS\n// ============================================================================\n\n/**\n * Copy Subscription URL Action\n * Copies the calendar subscription URL to clipboard\n */\nEventDelegation.register('copy-subscription-url', async function(element, e) {\n    e.preventDefault();\n\n    const urlInput = document.getElementById('subscriptionUrl');\n    if (!urlInput || !urlInput.value) {\n        showCalendarToast('warning', 'No subscription URL available');\n        return;\n    }\n\n    try {\n        await navigator.clipboard.writeText(urlInput.value);\n        showCalendarToast('success', 'URL copied to clipboard');\n\n        // Visual feedback\n        const originalHtml = element.innerHTML;\n        element.innerHTML = '<i class=\"ti ti-check me-1\"></i>Copied!';\n        setTimeout(() => {\n            element.innerHTML = originalHtml;\n        }, 2000);\n    } catch (error) {\n        // Fallback for older browsers\n        urlInput.select();\n        document.execCommand('copy');\n        showCalendarToast('success', 'URL copied to clipboard');\n    }\n});\n\n/**\n * Regenerate Subscription Token Action\n * Regenerates the calendar subscription URL/token\n */\nEventDelegation.register('regenerate-subscription-token', async function(element, e) {\n    e.preventDefault();\n\n    if (!confirm('Are you sure you want to regenerate your subscription URL?\\n\\nYour existing calendar subscriptions will stop working and you will need to re-subscribe with the new URL.')) {\n        return;\n    }\n\n    setCalendarLoading(true);\n\n    try {\n        const response = await fetch('/api/calendar/subscription/regenerate', {\n            method: 'POST',\n            headers: {\n                'X-Requested-With': 'XMLHttpRequest',\n                'Content-Type': 'application/json'\n            }\n        });\n\n        if (!response.ok) {\n            throw new Error('Failed to regenerate token');\n        }\n\n        const data = await response.json();\n\n        // Update the calendar subscription state if CalendarSubscription module is available\n        if (typeof CalendarSubscription !== 'undefined' && CalendarSubscription.loadSubscription) {\n            await CalendarSubscription.loadSubscription();\n        }\n\n        showCalendarToast('success', 'Subscription URL regenerated successfully');\n\n    } catch (error) {\n        console.error('[regenerate-subscription-token] Error:', error);\n        showCalendarToast('error', 'Failed to regenerate subscription URL');\n    } finally {\n        setCalendarLoading(false);\n    }\n});\n\n/**\n * Subscribe via Webcal Action\n * Opens subscription in iOS/macOS Calendar app via webcal:// protocol\n */\nEventDelegation.register('subscribe-webcal', function(element, e) {\n    e.preventDefault();\n\n    const webcalUrl = element.dataset.webcalUrl;\n\n    if (webcalUrl) {\n        window.location.href = webcalUrl;\n    } else {\n        showCalendarToast('warning', 'Subscription URL not available');\n    }\n});\n\n/**\n * Subscribe via Google Calendar Action\n * Opens Google Calendar subscription page in new tab\n */\nEventDelegation.register('subscribe-google', function(element, e) {\n    e.preventDefault();\n\n    const feedUrl = element.dataset.feedUrl;\n\n    if (!feedUrl) {\n        showCalendarToast('warning', 'Subscription URL not available');\n        return;\n    }\n\n    // Google Calendar subscription URL\n    const googleUrl = 'https://calendar.google.com/calendar/r?cid=' + encodeURIComponent(feedUrl);\n    window.open(googleUrl, '_blank');\n});\n\n/**\n * Update Calendar Preferences Action\n * Updates subscription preferences (which events to include)\n * Triggered by change events on preference checkboxes\n */\nEventDelegation.register('update-calendar-preferences', async function(element, e) {\n    const preferences = {\n        include_team_matches: document.getElementById('subIncludeMatches')?.checked ?? true,\n        include_league_events: document.getElementById('subIncludeLeagueEvents')?.checked ?? true,\n        include_ref_assignments: document.getElementById('subIncludeRefAssignments')?.checked ?? true\n    };\n\n    try {\n        const response = await fetch('/api/calendar/subscription/preferences', {\n            method: 'PUT',\n            headers: {\n                'X-Requested-With': 'XMLHttpRequest',\n                'Content-Type': 'application/json'\n            },\n            body: JSON.stringify(preferences)\n        });\n\n        if (!response.ok) {\n            throw new Error('Failed to update preferences');\n        }\n\n        await response.json();\n        showCalendarToast('success', 'Preferences updated');\n\n    } catch (error) {\n        console.error('[update-calendar-preferences] Error:', error);\n        showCalendarToast('error', 'Failed to update preferences');\n\n        // Revert checkbox state\n        element.checked = !element.checked;\n    }\n});\n\n/**\n * Helper: Show calendar-specific toast notification\n * Uses existing toast system if available\n */\nfunction showCalendarToast(type, message) {\n    // Use existing toast system if available\n    if (typeof window.showToast === 'function') {\n        window.showToast(type, message);\n        return;\n    }\n\n    // Fallback to Toastify\n    if (typeof Toastify !== 'undefined') {\n        // Use ECSTheme colors with gradient variations for toast backgrounds\n        const successColor = (typeof ECSTheme !== 'undefined') ? ECSTheme.getColor('success') : '#198754';\n        const successLight = (typeof ECSTheme !== 'undefined') ? ECSTheme.getColor('success-light') : '#198754';\n        const dangerColor = (typeof ECSTheme !== 'undefined') ? ECSTheme.getColor('danger') : '#dc3545';\n        const dangerLight = (typeof ECSTheme !== 'undefined') ? ECSTheme.getColor('danger-light') : '#dc3545';\n        const warningColor = (typeof ECSTheme !== 'undefined') ? ECSTheme.getColor('warning') : '#ffc107';\n        const warningLight = (typeof ECSTheme !== 'undefined') ? ECSTheme.getColor('warning-light') : '#ffc107';\n        const infoColor = (typeof ECSTheme !== 'undefined') ? ECSTheme.getColor('info') : '#0dcaf0';\n        const infoLight = (typeof ECSTheme !== 'undefined') ? ECSTheme.getColor('info-light') : '#0dcaf0';\n        const bgColors = {\n            success: `linear-gradient(to right, ${successColor}, ${successLight})`,\n            error: `linear-gradient(to right, ${dangerColor}, ${dangerLight})`,\n            warning: `linear-gradient(to right, ${warningColor}, ${warningLight})`,\n            info: `linear-gradient(to right, ${infoColor}, ${infoLight})`\n        };\n\n        Toastify({\n            text: message,\n            duration: 3000,\n            gravity: 'top',\n            position: 'right',\n            style: { background: bgColors[type] || bgColors.info }\n        }).showToast();\n        return;\n    }\n\n    // Final fallback\n    console.log(`[${type}] ${message}`);\n}\n\n/**\n * Helper: Set loading state for calendar subscription\n */\nfunction setCalendarLoading(loading) {\n    const loadingIndicator = document.getElementById('subscriptionLoading');\n    const content = document.getElementById('subscriptionContent');\n\n    if (loadingIndicator) {\n        loadingIndicator.classList.toggle('is-hidden', !loading);\n    }\n    if (content) {\n        content.classList.toggle('is-hidden', loading);\n    }\n}\n\n// ============================================================================\n// PROFILE VERIFICATION ACTIONS\n// ============================================================================\n\n/**\n * Toggle Section Reviewed Checkbox Action\n * Handles when user checks/unchecks a profile section as reviewed\n * Updates progress indicator and confirm button state\n */\nEventDelegation.register('verify-section-reviewed', function(element, e) {\n    // This handler is triggered by the change event via data-on-change\n    // The ProfileVerification module will handle the actual logic\n    if (window.ProfileVerification && typeof window.ProfileVerification.handleCheckboxChange === 'function') {\n        window.ProfileVerification.handleCheckboxChange(element);\n    } else {\n        console.error('[verify-section-reviewed] ProfileVerification not available');\n    }\n});\n\n/**\n * Verify Profile Action\n * Navigates to the profile verification page where users review sections.\n * Used on the main profile page to start the verification flow.\n * The /verify route auto-detects mobile vs desktop and redirects appropriately.\n */\nEventDelegation.register('verify-profile', function(element, e) {\n    e.preventDefault();\n\n    const playerId = element.dataset.playerId;\n\n    if (!playerId) {\n        console.error('[verify-profile] Missing player ID');\n        return;\n    }\n\n    // Get verify URL from data element or construct it\n    // The /verify GET route handles mobile vs desktop detection\n    const verifyDataEl = document.querySelector('[data-profile-verify]');\n    const verifyUrl = verifyDataEl?.dataset.verifyUrl || `/players/profile/${playerId}/verify`;\n\n    // Navigate to verification page\n    window.location.href = verifyUrl;\n});\n\n/**\n * Verify Profile Submit Action (Form-based)\n * Submits the profile verification form\n * Validates that all sections have been reviewed before allowing submission\n */\nEventDelegation.register('verify-profile-submit', function(element, e) {\n    // Check if all sections are reviewed before allowing submission\n    if (window.ProfileVerification && typeof window.ProfileVerification.areAllSectionsReviewed === 'function') {\n        const allReviewed = window.ProfileVerification.areAllSectionsReviewed();\n\n        if (!allReviewed) {\n            e.preventDefault();\n\n            const uncheckedSections = window.ProfileVerification.getUncheckedSections();\n\n            // Haptic feedback for error\n            if (window.Haptics) {\n                window.Haptics.error();\n            }\n\n            // Show warning\n            window.ProfileVerification.showIncompleteWarning(uncheckedSections);\n        } else {\n            // All reviewed - allow form submission with success feedback\n            if (window.Haptics) {\n                window.Haptics.success();\n            }\n            // Form will submit naturally\n        }\n    } else {\n        // ProfileVerification not available - allow submission (backward compatibility)\n        console.warn('[verify-profile-submit] ProfileVerification not available, allowing submission');\n    }\n});\n\n// ============================================================================\n// DISCORD MANAGEMENT ACTIONS\n// ============================================================================\n\n/**\n * Change Per Page Action (triggered by change event)\n * Updates the number of items displayed per page\n */\nEventDelegation.register('change-per-page', function(element, e) {\n    const perPage = element.value;\n    const url = new URL(window.location);\n    url.searchParams.set('per_page', perPage);\n    url.searchParams.set('page', '1'); // Reset to first page\n    window.location.href = url.toString();\n});\n\n/**\n * Refresh All Discord Status Action\n * Refreshes Discord status for all players\n */\nEventDelegation.register('refresh-all-discord-status', function(element, e) {\n    e.preventDefault();\n\n    const btn = element;\n\n    if (typeof Swal === 'undefined') {\n        console.error('[refresh-all-discord-status] SweetAlert2 not available');\n        return;\n    }\n\n    Swal.fire({\n        title: 'Refresh All Discord Status',\n        text: 'This will refresh Discord status for all players. This may take a moment. Continue?',\n        icon: 'question',\n        showCancelButton: true,\n        confirmButtonText: 'Yes, refresh all',\n        cancelButtonText: 'Cancel',\n        confirmButtonColor: (typeof ECSTheme !== 'undefined') ? ECSTheme.getColor('success') : '#28c76f',\n        cancelButtonColor: (typeof ECSTheme !== 'undefined') ? ECSTheme.getColor('danger') : '#ea5455'\n    }).then((result) => {\n        if (result.isConfirmed) {\n            // Show loading state\n            const originalText = btn.innerHTML;\n            btn.innerHTML = '<i class=\"ti ti-loader ti-spin me-1\"></i>Refreshing...';\n            btn.disabled = true;\n\n            // Get CSRF token\n            const csrfToken = document.querySelector('meta[name=csrf-token]')?.getAttribute('content') || '';\n\n            // Refresh all Discord status\n            fetch('/admin/refresh_all_discord_status', {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json',\n                    'X-CSRFToken': csrfToken\n                }\n            }).then(response => response.json())\n            .then(data => {\n                if (data.success) {\n                    Swal.fire({\n                        icon: 'success',\n                        title: 'Status Updated',\n                        text: `Refreshed Discord status for ${data.success_count} players`,\n                        timer: 2000,\n                        showConfirmButton: false\n                    }).then(() => {\n                        location.reload();\n                    });\n                } else {\n                    throw new Error(data.message || 'Failed to refresh status');\n                }\n            }).catch(error => {\n                Swal.fire({\n                    icon: 'error',\n                    title: 'Error',\n                    text: 'Failed to refresh status: ' + error.message,\n                    confirmButtonColor: (typeof ECSTheme !== 'undefined') ? ECSTheme.getColor('danger') : '#ea5455'\n                });\n            }).finally(() => {\n                btn.innerHTML = originalText;\n                btn.disabled = false;\n            });\n        }\n    });\n});\n\n/**\n * Refresh Unknown Discord Status Action\n * Checks Discord status for all players with unknown status\n */\nEventDelegation.register('refresh-unknown-discord-status', function(element, e) {\n    e.preventDefault();\n\n    const btn = element;\n\n    if (typeof Swal === 'undefined') {\n        console.error('[refresh-unknown-discord-status] SweetAlert2 not available');\n        return;\n    }\n\n    Swal.fire({\n        title: 'Check Unknown Discord Status',\n        text: 'This will check Discord status for all players with unknown status. Continue?',\n        icon: 'question',\n        showCancelButton: true,\n        confirmButtonText: 'Yes, check unknown',\n        cancelButtonText: 'Cancel',\n        confirmButtonColor: (typeof ECSTheme !== 'undefined') ? ECSTheme.getColor('warning') : '#ffab00',\n        cancelButtonColor: (typeof ECSTheme !== 'undefined') ? ECSTheme.getColor('danger') : '#ea5455'\n    }).then((result) => {\n        if (result.isConfirmed) {\n            // Show loading state\n            const originalText = btn.innerHTML;\n            btn.innerHTML = '<i class=\"ti ti-loader ti-spin me-1\"></i>Checking...';\n            btn.disabled = true;\n\n            // Get CSRF token\n            const csrfToken = document.querySelector('meta[name=csrf-token]')?.getAttribute('content') || '';\n\n            // Check unknown Discord status\n            fetch('/admin/refresh_unknown_discord_status', {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json',\n                    'X-CSRFToken': csrfToken\n                }\n            }).then(response => response.json())\n            .then(data => {\n                if (data.success) {\n                    Swal.fire({\n                        icon: 'success',\n                        title: 'Status Checked',\n                        text: `Checked Discord status for ${data.success_count} players with unknown status`,\n                        timer: 2000,\n                        showConfirmButton: false\n                    }).then(() => {\n                        location.reload();\n                    });\n                } else {\n                    throw new Error(data.message || 'Failed to check unknown status');\n                }\n            }).catch(error => {\n                Swal.fire({\n                    icon: 'error',\n                    title: 'Error',\n                    text: 'Failed to check unknown status: ' + error.message,\n                    confirmButtonColor: (typeof ECSTheme !== 'undefined') ? ECSTheme.getColor('danger') : '#ea5455'\n                });\n            }).finally(() => {\n                btn.innerHTML = originalText;\n                btn.disabled = false;\n            });\n        }\n    });\n});\n\n/**\n * Refresh Player Status Action\n * Refreshes Discord status for individual player\n */\nEventDelegation.register('refresh-player-status', function(element, e) {\n    e.preventDefault();\n\n    const playerId = element.dataset.playerId;\n    const playerName = element.dataset.playerName;\n\n    if (!playerId) {\n        console.error('[refresh-player-status] Missing player ID');\n        return;\n    }\n\n    const originalText = element.innerHTML;\n    element.innerHTML = '<i class=\"ti ti-loader ti-spin me-1\"></i><span>Checking...</span>';\n    element.disabled = true;\n\n    // Get CSRF token\n    const csrfToken = document.querySelector('meta[name=csrf-token]')?.getAttribute('content') || '';\n\n    fetch(`/teams/player/${playerId}/refresh-discord-status`, {\n        method: 'POST',\n        headers: {\n            'Content-Type': 'application/json',\n            'X-CSRFToken': csrfToken\n        }\n    }).then(response => response.json())\n    .then(data => {\n        if (data.success) {\n            // Show success message and reload\n            if (typeof Swal !== 'undefined') {\n                Swal.fire({\n                    icon: 'success',\n                    title: 'Status Updated',\n                    text: `Discord status refreshed for ${playerName}`,\n                    timer: 2000,\n                    showConfirmButton: false\n                }).then(() => {\n                    location.reload();\n                });\n            } else {\n                location.reload();\n            }\n        } else {\n            throw new Error(data.message || 'Failed to refresh status');\n        }\n    }).catch(error => {\n        if (typeof Swal !== 'undefined') {\n            Swal.fire({\n                icon: 'error',\n                title: 'Error',\n                text: 'Failed to refresh status: ' + error.message,\n                confirmButtonColor: (typeof ECSTheme !== 'undefined') ? ECSTheme.getColor('danger') : '#ea5455'\n            });\n        } else {\n            console.error('[refresh-player-status] Error:', error);\n        }\n    }).finally(() => {\n        element.innerHTML = originalText;\n        element.disabled = false;\n    });\n});\n\n/**\n * Send Discord DM Action\n * Opens modal to send Discord direct message\n */\nEventDelegation.register('send-discord-dm', function(element, e) {\n    e.preventDefault();\n\n    const discordId = element.dataset.discordId;\n    const playerName = element.dataset.playerName;\n\n    if (!discordId) {\n        console.error('[send-discord-dm] Missing Discord ID');\n        return;\n    }\n\n    const dmDiscordIdInput = document.getElementById('dmDiscordId');\n    const modalTitle = document.querySelector('#discordDMModal .modal-title');\n    const dmMessageTextarea = document.getElementById('dmMessage');\n\n    if (dmDiscordIdInput) dmDiscordIdInput.value = discordId;\n    if (modalTitle) modalTitle.textContent = `Send Discord DM to ${playerName}`;\n\n    // Set default message\n    const defaultMessage = `Hi ${playerName}! \n\nWe noticed you haven't joined our ECS FC Discord server yet.\n\nJoin us to:\n Get match updates and announcements\n Connect with your teammates\n Participate in league discussions\n\nJoin here: https://discord.gg/weareecs\n\nSee you there!\n- ECS FC Admin Team`;\n\n    if (dmMessageTextarea) dmMessageTextarea.value = defaultMessage;\n\n    // Show modal\n    const modalElement = document.getElementById('discordDMModal');\n    if (modalElement) {\n        ModalManager.show('discordDMModal');\n    }\n});\n\n/**\n * Submit Discord DM Action\n * Sends the Discord direct message\n */\nEventDelegation.register('submit-discord-dm', function(element, e) {\n    e.preventDefault();\n\n    const discordId = document.getElementById('dmDiscordId')?.value;\n    const message = document.getElementById('dmMessage')?.value;\n\n    if (!message || !message.trim()) {\n        if (typeof Swal !== 'undefined') {\n            Swal.fire({\n                icon: 'warning',\n                title: 'Message Required',\n                text: 'Please enter a message before sending',\n                confirmButtonColor: (typeof ECSTheme !== 'undefined') ? ECSTheme.getColor('warning') : '#ffab00'\n            });\n        }\n        return;\n    }\n\n    const originalText = element.innerHTML;\n    element.innerHTML = '<i class=\"ti ti-loader ti-spin me-1\"></i>Sending...';\n    element.disabled = true;\n\n    // Get CSRF token\n    const csrfToken = document.querySelector('meta[name=csrf-token]')?.getAttribute('content') || '';\n\n    fetch('/admin/send_discord_dm', {\n        method: 'POST',\n        headers: {\n            'Content-Type': 'application/json',\n            'X-CSRFToken': csrfToken\n        },\n        body: JSON.stringify({\n            discord_id: discordId,\n            message: message\n        })\n    }).then(response => response.json())\n    .then(data => {\n        if (data.success) {\n            const modalElement = document.getElementById('discordDMModal');\n            if (modalElement && window.bootstrap) {\n                const modalInstance = bootstrap.Modal.getInstance(modalElement);\n                if (modalInstance) modalInstance.hide();\n            }\n\n            if (typeof Swal !== 'undefined') {\n                Swal.fire({\n                    icon: 'success',\n                    title: 'Message Sent',\n                    text: 'Discord message sent successfully!',\n                    timer: 2000,\n                    showConfirmButton: false\n                });\n            }\n        } else {\n            throw new Error(data.message || 'Failed to send message');\n        }\n    }).catch(error => {\n        if (typeof Swal !== 'undefined') {\n            Swal.fire({\n                icon: 'error',\n                title: 'Error',\n                text: 'Failed to send Discord message: ' + error.message,\n                confirmButtonColor: (typeof ECSTheme !== 'undefined') ? ECSTheme.getColor('danger') : '#ea5455'\n            });\n        } else {\n            console.error('[submit-discord-dm] Error:', error);\n        }\n    }).finally(() => {\n        element.innerHTML = originalText;\n        element.disabled = false;\n    });\n});\n\n// ============================================================================\n// REFEREE MANAGEMENT ACTIONS\n// ============================================================================\n\n/**\n * Assign Referee Action\n * Assigns a referee to a match via form submission\n */\nEventDelegation.register('assign-referee', function(element, e) {\n    e.preventDefault();\n\n    const matchId = document.getElementById('matchId')?.value;\n    const refId = document.getElementById('refSelect')?.value;\n\n    if (!matchId || !refId) {\n        console.error('[assign-referee] Missing match ID or referee ID');\n        return;\n    }\n\n    // Call global function if exists\n    if (typeof assignReferee === 'function') {\n        assignReferee(e);\n    } else {\n        console.error('[assign-referee] assignReferee function not found');\n    }\n});\n\n/**\n * Remove Referee Action\n * Removes a referee from a match\n */\nEventDelegation.register('remove-referee', function(element, e) {\n    e.preventDefault();\n\n    const matchId = element.dataset.matchId || document.getElementById('matchId')?.value;\n\n    if (!matchId) {\n        console.error('[remove-referee] Missing match ID');\n        return;\n    }\n\n    // Call global function if exists\n    if (typeof removeReferee === 'function') {\n        removeReferee();\n    } else {\n        console.error('[remove-referee] removeReferee function not found');\n    }\n});\n\n/**\n * Refresh Calendar Action\n * Reloads calendar events and available referees list\n */\nEventDelegation.register('refresh-calendar', function(element, e) {\n    e.preventDefault();\n\n    // Check for calendar-specific refresh function\n    if (typeof loadCalendarEvents === 'function' && typeof fetchAvailableReferees === 'function') {\n        loadCalendarEvents();\n        // Get calendar instance if available\n        if (window.calendarInstance) {\n            fetchAvailableReferees(window.calendarInstance.getDate());\n        } else {\n            fetchAvailableReferees(new Date());\n        }\n    } else if (typeof window.refreshCalendar === 'function') {\n        window.refreshCalendar();\n    } else {\n        console.error('[refresh-calendar] No refresh function available');\n    }\n});\n\n/**\n * View Referee Profile Action\n * Opens modal or page with referee details\n */\nEventDelegation.register('view-referee-profile', function(element, e) {\n    e.preventDefault();\n\n    const refereeId = element.dataset.refereeId;\n\n    if (!refereeId) {\n        console.error('[view-referee-profile] Missing referee ID');\n        return;\n    }\n\n    if (typeof viewRefereeProfile === 'function') {\n        viewRefereeProfile(refereeId);\n    } else {\n        // Fallback: navigate to referee profile page\n        const profileUrl = element.dataset.profileUrl || `/admin/referee/${refereeId}`;\n        window.location.href = profileUrl;\n    }\n});\n\n/**\n * Update Referee Status Action\n * Updates referee availability status\n */\nEventDelegation.register('update-referee-status', function(element, e) {\n    e.preventDefault();\n\n    const refereeId = element.dataset.refereeId;\n    const status = element.dataset.status;\n\n    if (!refereeId || !status) {\n        console.error('[update-referee-status] Missing referee ID or status');\n        return;\n    }\n\n    if (typeof updateRefereeStatus === 'function') {\n        updateRefereeStatus(refereeId, status);\n    } else {\n        console.error('[update-referee-status] updateRefereeStatus function not found');\n    }\n});\n\n// ============================================================================\n// SUBSTITUTE POOL MANAGEMENT ACTIONS\n// ============================================================================\n\n/**\n * Approve Pool Player Action\n * Adds a pending player to the active substitute pool\n */\nEventDelegation.register('approve-pool-player', function(element, e) {\n    e.preventDefault();\n\n    const playerId = element.dataset.playerId;\n    const league = element.dataset.league;\n\n    if (!playerId || !league) {\n        console.error('[approve-pool-player] Missing required data attributes');\n        return;\n    }\n\n    if (typeof approvePlayer === 'function') {\n        approvePlayer(playerId, league);\n    } else {\n        console.error('[approve-pool-player] approvePlayer function not found');\n    }\n});\n\n/**\n * Remove Pool Player Action\n * Removes a player from the active substitute pool\n */\nEventDelegation.register('remove-pool-player', function(element, e) {\n    e.preventDefault();\n\n    const playerId = element.dataset.playerId;\n    const league = element.dataset.league;\n\n    if (!playerId || !league) {\n        console.error('[remove-pool-player] Missing required data attributes');\n        return;\n    }\n\n    if (typeof removePlayer === 'function') {\n        removePlayer(playerId, league);\n    } else {\n        console.error('[remove-pool-player] removePlayer function not found');\n    }\n});\n\n/**\n * Edit Pool Preferences Action\n * Opens modal to edit player's substitute pool preferences\n */\nEventDelegation.register('edit-pool-preferences', function(element, e) {\n    e.preventDefault();\n\n    const playerId = element.dataset.playerId;\n    const league = element.dataset.league;\n\n    if (!playerId || !league) {\n        console.error('[edit-pool-preferences] Missing required data attributes');\n        return;\n    }\n\n    if (typeof openEditPreferencesModal === 'function') {\n        openEditPreferencesModal(playerId, league);\n    } else {\n        console.error('[edit-pool-preferences] openEditPreferencesModal function not found');\n    }\n});\n\n/**\n * View Pool Player Details Action\n * Opens modal with detailed player information\n */\nEventDelegation.register('view-pool-player-details', function(element, e) {\n    e.preventDefault();\n\n    const playerId = element.dataset.playerId;\n\n    if (!playerId) {\n        console.error('[view-pool-player-details] Missing player ID');\n        return;\n    }\n\n    if (typeof openPlayerDetailsModal === 'function') {\n        openPlayerDetailsModal(playerId);\n    } else {\n        console.error('[view-pool-player-details] openPlayerDetailsModal function not found');\n    }\n});\n\n/**\n * Add Player to League Action\n * Adds a player to a specific league's substitute pool (from search results)\n */\nEventDelegation.register('add-player-to-league', function(element, e) {\n    e.preventDefault();\n\n    const playerId = element.dataset.playerId;\n    const league = element.dataset.league;\n\n    if (!playerId || !league) {\n        console.error('[add-player-to-league] Missing required data attributes');\n        return;\n    }\n\n    if (typeof approvePlayer === 'function') {\n        approvePlayer(playerId, league);\n    } else {\n        console.error('[add-player-to-league] approvePlayer function not found');\n    }\n});\n\n/**\n * Toggle Pool View Action\n * Switches between grid and list view for substitute pool\n */\nEventDelegation.register('toggle-pool-view', function(element, e) {\n    e.preventDefault();\n\n    const view = element.dataset.view;\n    const league = element.dataset.league;\n    const section = element.dataset.section;\n\n    if (!view || !league || !section) {\n        console.error('[toggle-pool-view] Missing required data attributes');\n        return;\n    }\n\n    // Update button states\n    const siblings = element.parentElement.querySelectorAll('.view-toggle');\n    siblings.forEach(btn => btn.classList.remove('active'));\n    element.classList.add('active');\n\n    // Show/hide views\n    const listView = document.getElementById(`${section}-list-${league}`);\n    const gridView = document.getElementById(`${section}-grid-${league}`);\n\n    if (view === 'list') {\n        if (listView) listView.classList.remove('u-hidden');\n        if (gridView) gridView.classList.add('u-hidden');\n    } else {\n        if (listView) listView.classList.add('u-hidden');\n        if (gridView) gridView.classList.remove('u-hidden');\n    }\n});\n\n/**\n * Filter Pool Action (triggered by input event)\n * Filters player cards by search text\n */\nEventDelegation.register('filter-pool', function(element, e) {\n    const filterText = element.value.toLowerCase().trim();\n    const league = element.dataset.league;\n    const section = element.dataset.section;\n\n    if (!league || !section) {\n        console.error('[filter-pool] Missing required data attributes');\n        return;\n    }\n\n    if (typeof filterPlayerCards === 'function') {\n        filterPlayerCards(league, section, filterText);\n    } else {\n        // Fallback implementation\n        const cards = document.querySelectorAll(\n            `.player-card[data-league=\"${league}\"][data-status=\"${section}\"], ` +\n            `.player-list-item[data-league=\"${league}\"][data-status=\"${section}\"]`\n        );\n\n        cards.forEach(card => {\n            const searchText = (card.dataset.searchText || '').toLowerCase();\n            const shouldShow = !filterText || searchText.includes(filterText);\n            card.classList.toggle('u-hidden', !shouldShow);\n        });\n    }\n});\n\n/**\n * Manage League Pool Action\n * Opens modal for league-specific pool management\n */\nEventDelegation.register('manage-league-pool', function(element, e) {\n    e.preventDefault();\n\n    const league = element.dataset.league;\n\n    if (!league) {\n        console.error('[manage-league-pool] Missing league identifier');\n        return;\n    }\n\n    if (typeof openLeagueManagementModal === 'function') {\n        openLeagueManagementModal(league);\n    } else {\n        console.error('[manage-league-pool] openLeagueManagementModal function not found');\n    }\n});\n\n/**\n * Save Pool Preferences Action\n * Saves edited preferences for a substitute pool player\n */\nEventDelegation.register('save-pool-preferences', function(element, e) {\n    e.preventDefault();\n\n    if (typeof savePreferences === 'function') {\n        savePreferences();\n    } else {\n        console.error('[save-pool-preferences] savePreferences function not found');\n    }\n});\n\n/**\n * Pagination Click Handler for Pool Pages\n * Handles page navigation for substitute pool pagination\n */\nEventDelegation.register('pool-pagination', function(element, e) {\n    e.preventDefault();\n\n    const page = parseInt(element.dataset.page);\n    const league = element.dataset.league;\n    const section = element.dataset.section;\n\n    if (!page || !league || !section) {\n        console.error('[pool-pagination] Missing required data attributes');\n        return;\n    }\n\n    const key = `${league}-${section}`;\n\n    if (typeof paginationState !== 'undefined' && paginationState[key]) {\n        if (page !== paginationState[key].currentPage) {\n            paginationState[key].currentPage = page;\n            if (typeof updatePagination === 'function') {\n                updatePagination(league, section);\n            }\n        }\n    }\n});\n\n/**\n * Add to Pool Action (Admin Panel variant)\n * Adds a player to substitute pool (admin panel version)\n */\nEventDelegation.register('add-to-pool', async function(element, e) {\n    e.preventDefault();\n\n    const playerId = element.dataset.playerId;\n\n    if (!playerId) {\n        console.error('[add-to-pool] Missing player ID');\n        return;\n    }\n\n    // Check if addToPool function exists (from substitute_pool_detail.html)\n    if (typeof addToPool === 'function') {\n        addToPool(playerId);\n    } else {\n        console.error('[add-to-pool] addToPool function not found');\n    }\n});\n\n/**\n * Reject Player Action (Admin Panel)\n * Rejects a player from being added to substitute pool\n */\nEventDelegation.register('reject-player', async function(element, e) {\n    e.preventDefault();\n\n    const playerId = element.dataset.playerId;\n    const playerName = element.dataset.playerName;\n\n    if (!playerId) {\n        console.error('[reject-player] Missing player ID');\n        return;\n    }\n\n    // Check if rejectPlayer function exists (from substitute_pool_detail.html)\n    if (typeof rejectPlayer === 'function') {\n        rejectPlayer(playerId, playerName);\n    } else {\n        console.error('[reject-player] rejectPlayer function not found');\n    }\n});\n\n/**\n * Remove Player Action (Admin Panel variant)\n * Removes player from pool (maps to remove-pool-player for compatibility)\n */\nEventDelegation.register('remove-player', async function(element, e) {\n    e.preventDefault();\n\n    const playerId = element.dataset.playerId;\n    const playerName = element.dataset.playerName;\n\n    if (!playerId) {\n        console.error('[remove-player] Missing player ID');\n        return;\n    }\n\n    // Check if removeFromPool function exists (from substitute_pool_detail.html)\n    if (typeof removeFromPool === 'function') {\n        removeFromPool(playerId, playerName);\n    } else {\n        console.error('[remove-player] removeFromPool function not found');\n    }\n});\n\n/**\n * Load Stats Action (Admin Panel)\n * Opens statistics modal for substitute pool\n */\nEventDelegation.register('load-stats', async function(element, e) {\n    e.preventDefault();\n\n    if (typeof loadStatistics === 'function') {\n        loadStatistics();\n    } else {\n        console.error('[load-stats] loadStatistics function not found');\n    }\n});\n\n/**\n * Add Player Action (Admin Panel)\n * Opens modal to add player to substitute pool\n */\nEventDelegation.register('add-player', function(element, e) {\n    e.preventDefault();\n\n    if (typeof showAddPlayerModal === 'function') {\n        showAddPlayerModal();\n    } else {\n        console.error('[add-player] showAddPlayerModal function not found');\n    }\n});\n\n// ============================================================================\n// ONBOARDING WIZARD ACTIONS\n// ============================================================================\n\n/**\n * Create Profile Action\n * User clicks \"Create Profile\" button on intro screen\n * Advances carousel to first step and sets form action\n */\nEventDelegation.register('onboarding-create-profile', function(element, e) {\n    e.preventDefault();\n\n    const formActionInput = document.getElementById('form_action');\n    if (formActionInput) formActionInput.value = 'create_profile';\n\n    // Get bootstrap carousel instance and advance to next slide\n    const carouselElement = document.getElementById('modalCarouselControls');\n    if (carouselElement && window.bootstrap) {\n        const bootstrapCarousel = bootstrap.Carousel.getInstance(carouselElement) ||\n                                 new bootstrap.Carousel(carouselElement);\n        bootstrapCarousel.next();\n    }\n});\n\n/**\n * Skip Profile Action\n * User clicks \"Skip for now\" button on intro screen\n * Submits form with skip_profile action\n */\nEventDelegation.register('onboarding-skip-profile', function(element, e) {\n    e.preventDefault();\n\n    const formActionInput = document.getElementById('form_action');\n    const modalElement = document.getElementById('onboardingSlideModal');\n    const form = modalElement ? modalElement.querySelector('form.needs-validation') : null;\n\n    if (formActionInput) formActionInput.value = 'skip_profile';\n    if (form) form.submit();\n});\n\n/**\n * Next/Save Button Action\n * Handles \"Next\" button clicks (validation + navigation) and \"Save and Finish\" on final step\n * Validates current step before advancing, or submits form on final step\n */\nEventDelegation.register('onboarding-next', function(element, e) {\n    e.preventDefault();\n    e.stopPropagation();\n\n    if (!window.OnboardingWizard) {\n        console.error('[onboarding-next] OnboardingWizard not initialized');\n        return;\n    }\n\n    const { form, formActionInput, croppedImageHiddenInput, carouselElement, bootstrapCarousel, totalSteps } =\n        window.OnboardingWizard.getFormElements();\n\n    const step = window.OnboardingWizard.getCurrentStep();\n\n    // Final step - save and finish\n    if (step === totalSteps) {\n        if (formActionInput) formActionInput.value = 'update_profile';\n\n        // Final check for any cropping\n        if (window.cropper) {\n            try {\n                const canvas = window.cropper.getCroppedCanvas();\n                if (canvas) {\n                    croppedImageHiddenInput.value = canvas.toDataURL('image/png');\n                }\n            } catch (err) {\n                console.error('[onboarding-next] Error getting cropped image:', err);\n            }\n        }\n\n        // Validate form\n        if (form && form.checkValidity()) {\n            form.submit();\n        } else {\n            form.classList.add('was-validated');\n\n            // Find first invalid input and focus it\n            const firstInvalid = form.querySelector(':invalid');\n            if (firstInvalid) {\n                firstInvalid.focus();\n                firstInvalid.scrollIntoView({\n                    behavior: 'smooth',\n                    block: 'center'\n                });\n            }\n        }\n    } else {\n        // Validate current step's required fields before moving to next\n        const activeItem = carouselElement ? carouselElement.querySelector('.carousel-item.active') : null;\n        const requiredFields = activeItem ? activeItem.querySelectorAll('input[required], select[required], textarea[required]') : [];\n        let isValid = true;\n\n        // Check if all required fields in current step are filled\n        requiredFields.forEach(field => {\n            // Skip hidden fields or fields that are part of hidden sections\n            if (field.offsetParent === null) return;\n\n            if (!field.checkValidity()) {\n                isValid = false;\n                field.classList.add('is-invalid');\n\n                // Add validation feedback if it doesn't exist\n                if (!field.nextElementSibling || !field.nextElementSibling.classList.contains('invalid-feedback')) {\n                    const feedback = document.createElement('div');\n                    feedback.className = 'invalid-feedback';\n                    feedback.textContent = field.validationMessage || 'This field is required.';\n                    field.parentNode.insertBefore(feedback, field.nextSibling);\n                }\n            } else {\n                field.classList.remove('is-invalid');\n            }\n        });\n\n        if (isValid) {\n            // Clear form action and manually move to next step\n            if (formActionInput) formActionInput.value = '';\n            if (bootstrapCarousel) {\n                bootstrapCarousel.next();\n            }\n        } else {\n            // Focus first invalid field\n            const firstInvalid = activeItem ? activeItem.querySelector('.is-invalid') : null;\n            if (firstInvalid) {\n                firstInvalid.focus();\n                firstInvalid.scrollIntoView({\n                    behavior: 'smooth',\n                    block: 'center'\n                });\n            }\n        }\n    }\n});\n\n/**\n * Previous Button Action\n * Navigates to previous step in onboarding carousel\n */\nEventDelegation.register('onboarding-previous', function(element, e) {\n    e.preventDefault();\n\n    const carouselElement = document.getElementById('modalCarouselControls');\n    if (carouselElement && window.bootstrap) {\n        const bootstrapCarousel = bootstrap.Carousel.getInstance(carouselElement);\n        if (bootstrapCarousel) bootstrapCarousel.prev();\n    }\n});\n\n/**\n * Toggle SMS Notifications Section\n * Shows/hides SMS opt-in section with animation when checkbox changes\n * Triggered by data-on-change attribute on SMS toggle checkbox\n */\nEventDelegation.register('onboarding-toggle-sms', function(element, e) {\n    // Element is the checkbox that was changed\n    if (window.OnboardingWizard && typeof window.OnboardingWizard.handleSmsToggle === 'function') {\n        window.OnboardingWizard.handleSmsToggle(element);\n    } else {\n        console.error('[onboarding-toggle-sms] SMS toggle handler not available');\n    }\n});\n\n// ============================================================================\n// SECURITY DASHBOARD ACTIONS\n// ============================================================================\n\n/**\n * Refresh Security Stats Action\n * Refreshes all security dashboard data (stats, events, logs)\n */\nEventDelegation.register('refresh-stats', async function(element, e) {\n    e.preventDefault();\n\n    if (window.securityDashboard && typeof window.securityDashboard.refreshAll === 'function') {\n        await window.securityDashboard.refreshAll();\n    } else {\n        console.error('[refresh-stats] SecurityDashboard instance not available');\n    }\n});\n\n/**\n * Refresh Security Events Action\n * Reloads recent security events list\n */\nEventDelegation.register('refresh-events', async function(element, e) {\n    e.preventDefault();\n\n    if (window.securityDashboard && typeof window.securityDashboard.loadSecurityEvents === 'function') {\n        await window.securityDashboard.loadSecurityEvents();\n    } else {\n        console.error('[refresh-events] SecurityDashboard instance not available');\n    }\n});\n\n/**\n * Refresh Security Logs Action\n * Reloads security logs display\n */\nEventDelegation.register('refresh-logs', async function(element, e) {\n    e.preventDefault();\n\n    if (window.securityDashboard && typeof window.securityDashboard.loadSecurityLogs === 'function') {\n        await window.securityDashboard.loadSecurityLogs();\n    } else {\n        console.error('[refresh-logs] SecurityDashboard instance not available');\n    }\n});\n\n/**\n * Unban IP Action\n * Removes an IP address from the blacklist\n */\nEventDelegation.register('unban-ip', async function(element, e) {\n    e.preventDefault();\n\n    const ip = element.dataset.ip;\n\n    if (!ip) {\n        console.error('[unban-ip] Missing IP address');\n        return;\n    }\n\n    if (window.securityDashboard && typeof window.securityDashboard.unbanIP === 'function') {\n        await window.securityDashboard.unbanIP(ip, element);\n    } else {\n        console.error('[unban-ip] SecurityDashboard instance not available');\n    }\n});\n\n/**\n * Quick Ban IP Action\n * Quickly bans an IP from the security events list\n */\nEventDelegation.register('ban-ip-quick', async function(element, e) {\n    e.preventDefault();\n\n    const ip = element.dataset.ip;\n    const reason = element.dataset.reason || 'Security event';\n\n    if (!ip) {\n        console.error('[ban-ip-quick] Missing IP address');\n        return;\n    }\n\n    if (window.securityDashboard && typeof window.securityDashboard.quickBanIP === 'function') {\n        await window.securityDashboard.quickBanIP(ip, reason);\n    } else {\n        console.error('[ban-ip-quick] SecurityDashboard instance not available');\n    }\n});\n\n/**\n * Ban IP Confirm Action\n * Confirms and submits the ban IP form from the modal\n */\nEventDelegation.register('ban-ip-confirm', async function(element, e) {\n    e.preventDefault();\n\n    if (window.securityDashboard && typeof window.securityDashboard.banIP === 'function') {\n        await window.securityDashboard.banIP();\n    } else {\n        console.error('[ban-ip-confirm] SecurityDashboard instance not available');\n    }\n});\n\n/**\n * Clear All Bans Action\n * Removes all IP addresses from the blacklist\n */\nEventDelegation.register('clear-all-bans', async function(element, e) {\n    e.preventDefault();\n\n    if (window.securityDashboard && typeof window.securityDashboard.clearAllBans === 'function') {\n        await window.securityDashboard.clearAllBans();\n    } else if (typeof clearAllBans === 'function') {\n        // Admin panel version\n        await clearAllBans();\n    } else {\n        console.error('[clear-all-bans] No clearAllBans function available');\n    }\n});\n\n/**\n * Show Ban IP Modal Action (Admin Panel)\n * Opens the modal to manually ban an IP address\n */\nEventDelegation.register('show-ban-ip-modal', function(element, e) {\n    e.preventDefault();\n\n    if (typeof showBanIpModal === 'function') {\n        showBanIpModal();\n    } else if (window.bootstrap) {\n        // Fallback: directly show the modal\n        const modalElement = document.getElementById('banIpModal');\n        if (modalElement) {\n            ModalManager.show('banIpModal');\n        }\n    } else {\n        console.error('[show-ban-ip-modal] No showBanIpModal function available');\n    }\n});\n\n/**\n * Ban IP Action (Admin Panel)\n * Submits the ban IP form from the admin panel modal\n */\nEventDelegation.register('ban-ip', async function(element, e) {\n    e.preventDefault();\n\n    if (typeof banIp === 'function') {\n        await banIp();\n    } else if (window.securityDashboard && typeof window.securityDashboard.banIP === 'function') {\n        await window.securityDashboard.banIP();\n    } else {\n        console.error('[ban-ip] No banIp function available');\n    }\n});\n\n// ============================================================================\n// AUTO SCHEDULE WIZARD ACTIONS\n// ============================================================================\n\n/**\n * Start Season Wizard Action\n * Opens the season builder wizard modal\n */\nEventDelegation.register('start-season-wizard', function(element, e) {\n    e.preventDefault();\n\n    if (typeof startSeasonWizard === 'function') {\n        startSeasonWizard();\n    } else {\n        console.error('[start-season-wizard] startSeasonWizard function not found');\n    }\n});\n\n/**\n * Show Existing Seasons Action\n * Displays the list of existing seasons\n */\nEventDelegation.register('show-existing-seasons', function(element, e) {\n    e.preventDefault();\n\n    if (typeof showExistingSeasons === 'function') {\n        showExistingSeasons();\n    } else {\n        console.error('[show-existing-seasons] showExistingSeasons function not found');\n    }\n});\n\n/**\n * Show Main View Action\n * Returns to main season builder view\n */\nEventDelegation.register('show-main-view', function(element, e) {\n    e.preventDefault();\n\n    if (typeof showMainView === 'function') {\n        showMainView();\n    } else {\n        console.error('[show-main-view] showMainView function not found');\n    }\n});\n\n/**\n * Next Step Action (Wizard Navigation)\n * Advances to the next step in the wizard\n */\nEventDelegation.register('next-step', function(element, e) {\n    e.preventDefault();\n\n    if (typeof nextStep === 'function') {\n        nextStep();\n    } else {\n        console.error('[next-step] nextStep function not found');\n    }\n});\n\n/**\n * Previous Step Action (Wizard Navigation)\n * Goes back to the previous step in the wizard\n */\nEventDelegation.register('previous-step', function(element, e) {\n    e.preventDefault();\n\n    if (typeof previousStep === 'function') {\n        previousStep();\n    } else {\n        console.error('[previous-step] previousStep function not found');\n    }\n});\n\n/**\n * Create Season Action\n * Submits the wizard and creates the season\n */\nEventDelegation.register('create-season', function(element, e) {\n    e.preventDefault();\n\n    if (typeof createSeason === 'function') {\n        createSeason();\n    } else {\n        console.error('[create-season] createSeason function not found');\n    }\n});\n\n/**\n * Update Season Structure Action\n * Updates season breakdown based on total weeks selection\n */\nEventDelegation.register('update-season-structure', function(element, e) {\n    if (typeof updateSeasonStructure === 'function') {\n        updateSeasonStructure();\n    } else {\n        console.error('[update-season-structure] updateSeasonStructure function not found');\n    }\n});\n\n/**\n * Apply Wizard Template Action\n * Applies a configuration template (standard, classic-practice, custom)\n */\nEventDelegation.register('apply-wizard-template', function(element, e) {\n    e.preventDefault();\n\n    const templateType = element.dataset.templateType;\n\n    if (!templateType) {\n        console.error('[apply-wizard-template] Missing template type');\n        return;\n    }\n\n    if (typeof applyWizardTemplate === 'function') {\n        applyWizardTemplate(templateType);\n    } else {\n        console.error('[apply-wizard-template] applyWizardTemplate function not found');\n    }\n});\n\n/**\n * Add Wizard Field Action\n * Adds a new field configuration row in the wizard\n */\nEventDelegation.register('add-wizard-field', function(element, e) {\n    e.preventDefault();\n\n    if (typeof addWizardField === 'function') {\n        addWizardField();\n    } else {\n        console.error('[add-wizard-field] addWizardField function not found');\n    }\n});\n\n/**\n * Remove Wizard Field Action\n * Removes a field configuration row from the wizard\n */\nEventDelegation.register('remove-wizard-field', function(element, e) {\n    e.preventDefault();\n\n    if (typeof removeWizardField === 'function') {\n        removeWizardField(element);\n    } else {\n        console.error('[remove-wizard-field] removeWizardField function not found');\n    }\n});\n\n/**\n * Set Active Season Action\n * Sets a season as the current active season\n */\nEventDelegation.register('set-active-season', function(element, e) {\n    e.preventDefault();\n\n    const seasonId = element.dataset.seasonId;\n    const seasonType = element.dataset.seasonType;\n\n    if (!seasonId || !seasonType) {\n        console.error('[set-active-season] Missing season ID or type');\n        return;\n    }\n\n    if (typeof setActiveSeason === 'function') {\n        setActiveSeason(seasonId, seasonType);\n    } else {\n        console.error('[set-active-season] setActiveSeason function not found');\n    }\n});\n\n/**\n * Confirm Delete Season Action\n * Shows confirmation dialog before deleting a season\n */\nEventDelegation.register('confirm-delete-season', function(element, e) {\n    e.preventDefault();\n\n    const seasonId = element.dataset.seasonId;\n    const seasonName = element.dataset.seasonName;\n\n    if (!seasonId || !seasonName) {\n        console.error('[confirm-delete-season] Missing season ID or name');\n        return;\n    }\n\n    if (typeof confirmDeleteSeason === 'function') {\n        confirmDeleteSeason(seasonId, seasonName);\n    } else {\n        console.error('[confirm-delete-season] confirmDeleteSeason function not found');\n    }\n});\n\n/**\n * Recreate Discord Resources Action\n * Recreates Discord channels and roles for a season\n */\nEventDelegation.register('recreate-discord-resources', function(element, e) {\n    e.preventDefault();\n\n    const seasonId = element.dataset.seasonId;\n    const seasonName = element.dataset.seasonName;\n\n    if (!seasonId || !seasonName) {\n        console.error('[recreate-discord-resources] Missing season ID or name');\n        return;\n    }\n\n    if (typeof recreateDiscordResources === 'function') {\n        recreateDiscordResources(seasonId, seasonName);\n    } else {\n        console.error('[recreate-discord-resources] recreateDiscordResources function not found');\n    }\n});\n\n/**\n * Toggle Settings Action (Schedule Preview)\n * Toggles visibility of schedule settings panel\n */\nEventDelegation.register('toggle-settings', function(element, e) {\n    e.preventDefault();\n\n    if (typeof toggleScheduleSettings === 'function') {\n        toggleScheduleSettings();\n    } else {\n        console.error('[toggle-settings] toggleScheduleSettings function not found');\n    }\n});\n\n/**\n * Delete Schedule Action (Schedule Preview)\n * Deletes the generated schedule\n */\nEventDelegation.register('delete-schedule', function(element, e) {\n    e.preventDefault();\n\n    if (typeof deleteSchedule === 'function') {\n        deleteSchedule();\n    } else {\n        console.error('[delete-schedule] deleteSchedule function not found');\n    }\n});\n\n/**\n * Commit Schedule Action (Schedule Preview)\n * Commits the schedule and creates matches\n */\nEventDelegation.register('commit-schedule', function(element, e) {\n    e.preventDefault();\n\n    if (typeof commitSchedule === 'function') {\n        commitSchedule();\n    } else {\n        console.error('[commit-schedule] commitSchedule function not found');\n    }\n});\n\n/**\n * Select for Swap Action (Schedule Preview)\n * Selects a match for team swapping\n */\nEventDelegation.register('select-for-swap', function(element, e) {\n    e.preventDefault();\n\n    const matchId = parseInt(element.dataset.matchId);\n    const matchDesc = element.dataset.matchDesc;\n\n    if (!matchId || !matchDesc) {\n        console.error('[select-for-swap] Missing match ID or description');\n        return;\n    }\n\n    if (typeof selectForSwap === 'function') {\n        selectForSwap(matchId, matchDesc);\n    } else {\n        console.error('[select-for-swap] selectForSwap function not found');\n    }\n});\n\n/**\n * Execute Swap Action (Schedule Preview)\n * Executes the team swap\n */\nEventDelegation.register('execute-swap', function(element, e) {\n    e.preventDefault();\n\n    if (typeof executeSwap === 'function') {\n        executeSwap();\n    } else {\n        console.error('[execute-swap] executeSwap function not found');\n    }\n});\n\n/**\n * Remove from Swap Action (Schedule Preview)\n * Removes a match from swap selection\n */\nEventDelegation.register('remove-from-swap', function(element, e) {\n    e.preventDefault();\n\n    const swapIndex = parseInt(element.dataset.swapIndex);\n\n    if (swapIndex === undefined || swapIndex === null) {\n        console.error('[remove-from-swap] Missing swap index');\n        return;\n    }\n\n    if (typeof removeFromSwap === 'function') {\n        removeFromSwap(swapIndex);\n    } else {\n        console.error('[remove-from-swap] removeFromSwap function not found');\n    }\n});\n\n/**\n * Remove Field Action (Config Page)\n * Removes a field from the configuration\n */\nEventDelegation.register('remove-field', function(element, e) {\n    e.preventDefault();\n\n    if (typeof removeField === 'function') {\n        removeField(element);\n    } else {\n        console.error('[remove-field] removeField function not found');\n    }\n});\n\n/**\n * Add Field Action (Config Page)\n * Adds a new field to the configuration\n */\nEventDelegation.register('add-field', function(element, e) {\n    e.preventDefault();\n\n    if (typeof addField === 'function') {\n        addField();\n    } else {\n        console.error('[add-field] addField function not found');\n    }\n});\n\n/**\n * Apply Template Action (Config Page)\n * Applies a configuration template\n */\nEventDelegation.register('apply-template', function(element, e) {\n    e.preventDefault();\n\n    const template = element.dataset.template;\n\n    if (!template) {\n        console.error('[apply-template] Missing template type');\n        return;\n    }\n\n    if (typeof applyTemplate === 'function') {\n        applyTemplate(template);\n    } else {\n        console.error('[apply-template] applyTemplate function not found');\n    }\n});\n\n/**\n * Add Week Config Action (Config Page)\n * Adds a new week configuration\n */\nEventDelegation.register('add-week-config', function(element, e) {\n    e.preventDefault();\n\n    if (typeof addWeekConfig === 'function') {\n        addWeekConfig();\n    } else {\n        console.error('[add-week-config] addWeekConfig function not found');\n    }\n});\n\n/**\n * Generate Default Weeks Action (Config Page)\n * Auto-generates default week configuration\n */\nEventDelegation.register('generate-default-weeks', function(element, e) {\n    e.preventDefault();\n\n    if (typeof generateDefaultWeeks === 'function') {\n        generateDefaultWeeks();\n    } else {\n        console.error('[generate-default-weeks] generateDefaultWeeks function not found');\n    }\n});\n\n/**\n * Clear Weeks Action (Config Page)\n * Clears all week configurations\n */\nEventDelegation.register('clear-weeks', function(element, e) {\n    e.preventDefault();\n\n    if (typeof clearWeeks === 'function') {\n        clearWeeks();\n    } else {\n        console.error('[clear-weeks] clearWeeks function not found');\n    }\n});\n\n/**\n * Update Week Card Action (Config Page)\n * Updates week type when dropdown changes\n */\nEventDelegation.register('update-week-card', function(element, e) {\n    if (typeof updateWeekCard === 'function') {\n        updateWeekCard(element);\n    } else {\n        console.error('[update-week-card] updateWeekCard function not found');\n    }\n});\n\n/**\n * Remove Week Card Action (Config Page)\n * Removes a week configuration\n */\nEventDelegation.register('remove-week-card', function(element, e) {\n    e.preventDefault();\n\n    if (typeof removeWeekCard === 'function') {\n        removeWeekCard(element);\n    } else {\n        console.error('[remove-week-card] removeWeekCard function not found');\n    }\n});\n\n/**\n * Close Toast Action\n * Closes/removes a toast notification\n */\nEventDelegation.register('close-toast', function(element, e) {\n    e.preventDefault();\n\n    // Remove the toast (parent element)\n    if (element.parentElement) {\n        element.parentElement.remove();\n    }\n});\n\n// ============================================================================\n// PASS STUDIO ACTIONS\n// ============================================================================\n\n/**\n * Platform Toggle Action\n * Switches between Apple and Google wallet preview\n */\nEventDelegation.register('toggle-platform', function(element, e) {\n    e.preventDefault();\n\n    const platform = element.dataset.platform;\n\n    if (!platform) {\n        console.error('[toggle-platform] Missing platform attribute');\n        return;\n    }\n\n    if (window.PassStudio && typeof window.PassStudio.setPreviewPlatform === 'function') {\n        window.PassStudio.setPreviewPlatform(platform);\n    } else {\n        console.error('[toggle-platform] PassStudio.setPreviewPlatform not available');\n    }\n});\n\n/**\n * Update Pass Style Action\n * Changes pass layout style (generic, storeCard, eventTicket)\n * Triggered by change event on radio buttons\n */\nEventDelegation.register('update-pass-style', function(element, e) {\n    if (window.PassStudio && typeof window.PassStudio.updatePassStylePreview === 'function') {\n        window.PassStudio.updatePassStylePreview();\n    } else {\n        console.error('[update-pass-style] PassStudio.updatePassStylePreview not available');\n    }\n});\n\n/**\n * Apply Color Preset Action\n * Applies predefined color schemes to the pass\n */\nEventDelegation.register('apply-color-preset', function(element, e) {\n    e.preventDefault();\n\n    const bg = element.dataset.bg;\n    const fg = element.dataset.fg;\n    const label = element.dataset.label;\n\n    if (!bg || !fg || !label) {\n        console.error('[apply-color-preset] Missing color data attributes');\n        return;\n    }\n\n    // Set color inputs\n    const bgColorInput = document.getElementById('background_color');\n    const fgColorInput = document.getElementById('foreground_color');\n    const labelColorInput = document.getElementById('label_color');\n\n    if (bgColorInput) bgColorInput.value = bg;\n    if (fgColorInput) fgColorInput.value = fg;\n    if (labelColorInput) labelColorInput.value = label;\n\n    // Set text inputs\n    const bgColorText = document.getElementById('background_color_text');\n    const fgColorText = document.getElementById('foreground_color_text');\n    const labelColorText = document.getElementById('label_color_text');\n\n    if (bgColorText) bgColorText.value = bg;\n    if (fgColorText) fgColorText.value = fg;\n    if (labelColorText) labelColorText.value = label;\n\n    // Update preview\n    if (window.PassStudio && typeof window.PassStudio.updatePreviewFromForm === 'function') {\n        window.PassStudio.updatePreviewFromForm();\n    }\n\n    // Mark unsaved\n    if (window.PassStudio && typeof window.PassStudio.markUnsaved === 'function') {\n        window.PassStudio.markUnsaved();\n    }\n});\n\n/**\n * Sync Color Input Action\n * Syncs color picker with text input and vice versa\n */\nEventDelegation.register('sync-color-input', function(element, e) {\n    const targetId = element.dataset.target;\n    if (!targetId) return;\n\n    const target = document.getElementById(targetId);\n    if (!target) return;\n\n    // Sync the values\n    if (element.type === 'color') {\n        // Color picker changed - update text input\n        const textInput = document.getElementById(targetId + '_text');\n        if (textInput) textInput.value = element.value;\n    } else {\n        // Text input changed - update color picker\n        target.value = element.value;\n    }\n\n    // Update preview\n    if (window.PassStudio && typeof window.PassStudio.updatePreviewFromForm === 'function') {\n        window.PassStudio.updatePreviewFromForm();\n    }\n});\n\n/**\n * Update Preview Field Action\n * Updates specific field in preview (e.g., logo text)\n */\nEventDelegation.register('update-preview-field', function(element, e) {\n    if (window.PassStudio && typeof window.PassStudio.updatePreviewFromForm === 'function') {\n        window.PassStudio.updatePreviewFromForm();\n    }\n});\n\n/**\n * Toggle Logo Visibility Action\n * Shows/hides logo in preview\n */\nEventDelegation.register('toggle-logo-visibility', function(element, e) {\n    if (window.PassStudio && typeof window.PassStudio.toggleLogoVisibility === 'function') {\n        window.PassStudio.toggleLogoVisibility();\n    }\n});\n\n/**\n * Open Asset Cropper Action\n * Opens modal to upload/crop pass assets\n */\nEventDelegation.register('open-asset-cropper', function(element, e) {\n    e.preventDefault();\n\n    const assetType = element.dataset.assetType;\n\n    if (!assetType) {\n        console.error('[open-asset-cropper] Missing asset type');\n        return;\n    }\n\n    if (window.PassStudio && typeof window.PassStudio.openAssetCropper === 'function') {\n        window.PassStudio.openAssetCropper(assetType);\n    } else {\n        console.error('[open-asset-cropper] PassStudio.openAssetCropper not available');\n    }\n});\n\n/**\n * Update Google Preview Action\n * Updates Google Wallet preview with URL changes\n */\nEventDelegation.register('update-google-preview', function(element, e) {\n    if (window.PassStudio && typeof window.PassStudio.updateGooglePreview === 'function') {\n        window.PassStudio.updateGooglePreview();\n    }\n});\n\n/**\n * Update Barcode Preview Action\n * Shows/hides barcode in preview\n */\nEventDelegation.register('update-barcode-preview', function(element, e) {\n    if (window.PassStudio && typeof window.PassStudio.updateBarcodePreview === 'function') {\n        window.PassStudio.updateBarcodePreview();\n    }\n});\n\n/**\n * Save Appearance Action\n * Saves appearance settings to server\n */\nEventDelegation.register('save-appearance', function(element, e) {\n    e.preventDefault();\n\n    if (window.PassStudio && typeof window.PassStudio.saveAppearance === 'function') {\n        window.PassStudio.saveAppearance();\n    } else {\n        console.error('[save-appearance] PassStudio.saveAppearance not available');\n    }\n});\n\n/**\n * Initialize Defaults Action\n * Loads default field configuration for pass\n */\nEventDelegation.register('initialize-defaults', function(element, e) {\n    e.preventDefault();\n\n    if (window.FieldsManager && typeof window.FieldsManager.initializeDefaults === 'function') {\n        window.FieldsManager.initializeDefaults();\n    } else {\n        console.error('[initialize-defaults] FieldsManager.initializeDefaults not available');\n    }\n});\n\n/**\n * Add Field Action\n * Opens modal to add new pass field\n */\nEventDelegation.register('add-field', function(element, e) {\n    e.preventDefault();\n\n    const fieldType = element.dataset.fieldType;\n\n    if (!fieldType) {\n        console.error('[add-field] Missing field type');\n        return;\n    }\n\n    if (window.FieldsManager && typeof window.FieldsManager.openAddFieldModal === 'function') {\n        window.FieldsManager.openAddFieldModal(fieldType);\n    } else {\n        console.error('[add-field] FieldsManager.openAddFieldModal not available');\n    }\n});\n\n/**\n * Create Field Action\n * Creates new field from modal data\n */\nEventDelegation.register('create-field', function(element, e) {\n    e.preventDefault();\n\n    if (window.FieldsManager && typeof window.FieldsManager.createField === 'function') {\n        window.FieldsManager.createField();\n    } else {\n        console.error('[create-field] FieldsManager.createField not available');\n    }\n});\n\n/**\n * Save Fields Action\n * Saves all field configurations to server\n */\nEventDelegation.register('save-fields', function(element, e) {\n    e.preventDefault();\n\n    if (window.FieldsManager && typeof window.FieldsManager.saveFields === 'function') {\n        window.FieldsManager.saveFields();\n    } else {\n        console.error('[save-fields] FieldsManager.saveFields not available');\n    }\n});\n\n/**\n * Reset Fields Action\n * Resets fields to last saved state\n */\nEventDelegation.register('reset-fields', function(element, e) {\n    e.preventDefault();\n\n    if (window.FieldsManager && typeof window.FieldsManager.resetFields === 'function') {\n        window.FieldsManager.resetFields();\n    } else {\n        console.error('[reset-fields] FieldsManager.resetFields not available');\n    }\n});\n\n/**\n * Insert Variable Action\n * Inserts template variable at cursor position\n */\nEventDelegation.register('insert-variable', function(element, e) {\n    e.preventDefault();\n\n    const variableName = element.dataset.variableName;\n\n    if (!variableName) {\n        console.error('[insert-variable] Missing variable name');\n        return;\n    }\n\n    if (window.FieldsManager && typeof window.FieldsManager.insertVariableInAdd === 'function') {\n        window.FieldsManager.insertVariableInAdd(variableName);\n    } else {\n        console.error('[insert-variable] FieldsManager.insertVariableInAdd not available');\n    }\n});\n\n// ============================================================================\n// USER APPROVAL MANAGEMENT ACTIONS\n// ============================================================================\n\n/**\n * Refresh Approval Stats Action\n * Manually refreshes user approval statistics display\n */\nEventDelegation.register('refresh-approval-stats', function(element, e) {\n    e.preventDefault();\n\n    if (typeof window.refreshStats === 'function') {\n        window.refreshStats();\n    } else {\n        console.error('[refresh-approval-stats] refreshStats function not found');\n    }\n});\n\n/**\n * Show Player Details Action\n * Opens modal showing detailed player information\n */\nEventDelegation.register('show-player-details', function(element, e) {\n    e.preventDefault();\n\n    const userId = element.dataset.userId;\n\n    if (!userId) {\n        console.error('[show-player-details] Missing user ID');\n        return;\n    }\n\n    if (typeof window.showPlayerDetails === 'function') {\n        window.showPlayerDetails(parseInt(userId));\n    } else {\n        console.error('[show-player-details] showPlayerDetails function not found');\n    }\n});\n\n/**\n * Show Approval Modal Action\n * Opens modal to approve a user and assign them to a league\n */\nEventDelegation.register('show-approval-modal', function(element, e) {\n    e.preventDefault();\n\n    const userId = element.dataset.userId;\n\n    if (!userId) {\n        console.error('[show-approval-modal] Missing user ID');\n        return;\n    }\n\n    if (typeof window.showApprovalModal === 'function') {\n        window.showApprovalModal(parseInt(userId));\n    } else {\n        console.error('[show-approval-modal] showApprovalModal function not found');\n    }\n});\n\n/**\n * Show Denial Modal Action\n * Opens modal to deny a user application\n */\nEventDelegation.register('show-denial-modal', function(element, e) {\n    e.preventDefault();\n\n    const userId = element.dataset.userId;\n\n    if (!userId) {\n        console.error('[show-denial-modal] Missing user ID');\n        return;\n    }\n\n    if (typeof window.showDenialModal === 'function') {\n        window.showDenialModal(parseInt(userId));\n    } else {\n        console.error('[show-denial-modal] showDenialModal function not found');\n    }\n});\n\n/**\n * Approve User Action\n * Submits user approval form\n */\nEventDelegation.register('approve-user', function(element, e) {\n    e.preventDefault();\n\n    if (typeof window.submitApproval === 'function') {\n        window.submitApproval();\n    } else {\n        console.error('[approve-user] submitApproval function not found');\n    }\n});\n\n/**\n * Deny User Action\n * Submits user denial form\n */\nEventDelegation.register('deny-user', function(element, e) {\n    e.preventDefault();\n\n    if (typeof window.submitDenial === 'function') {\n        window.submitDenial();\n    } else {\n        console.error('[deny-user] submitDenial function not found');\n    }\n});\n\n// Make globally available\nwindow.EventDelegation = EventDelegation;\n\n// Export for module systems\nif (typeof module !== 'undefined' && module.exports) {\n    module.exports = EventDelegation;\n}\n","/**\n * CSRF-Protected Fetch Utility\n *\n * Automatically adds CSRF token to all fetch requests with methods\n * that modify data (POST, PUT, DELETE, PATCH).\n *\n * Usage: Just use fetch() as normal - CSRF token is added automatically.\n *\n * The CSRF token is read from: <meta name=\"csrf-token\" content=\"...\">\n */\n\n(function() {\n    'use strict';\n\n    // Store the original fetch\n    const originalFetch = window.fetch;\n\n    // Methods that require CSRF protection\n    const CSRF_METHODS = ['POST', 'PUT', 'DELETE', 'PATCH'];\n\n    /**\n     * Get CSRF token from meta tag\n     */\n    function getCSRFToken() {\n        const meta = document.querySelector('meta[name=\"csrf-token\"]');\n        return meta ? meta.getAttribute('content') : null;\n    }\n\n    /**\n     * Enhanced fetch that automatically adds CSRF token\n     */\n    window.fetch = function(url, options = {}) {\n        // Determine the method (default is GET)\n        const method = (options.method || 'GET').toUpperCase();\n\n        // Only add CSRF token for methods that modify data\n        if (CSRF_METHODS.includes(method)) {\n            const csrfToken = getCSRFToken();\n\n            if (csrfToken) {\n                // Ensure headers object exists\n                options.headers = options.headers || {};\n\n                // Handle Headers object vs plain object\n                if (options.headers instanceof Headers) {\n                    if (!options.headers.has('X-CSRFToken')) {\n                        options.headers.set('X-CSRFToken', csrfToken);\n                    }\n                } else {\n                    // Plain object - only add if not already present\n                    if (!options.headers['X-CSRFToken'] && !options.headers['x-csrftoken']) {\n                        options.headers['X-CSRFToken'] = csrfToken;\n                    }\n                }\n            }\n        }\n\n        // Call the original fetch\n        return originalFetch.call(window, url, options);\n    };\n\n    // Also provide a named export for explicit usage\n    window.fetchWithCSRF = window.fetch;\n\n    console.debug('[CSRF] Fetch wrapper initialized');\n})();\n","/**\n * HELPERS MINIMAL\n * ================\n * Minimal replacement for Sneat/Vuexy helpers.js\n * Provides the same API but WITHOUT the problematic layout manipulation\n *\n * The original helpers.js injected inline styles that broke CSS Grid layouts.\n * This version provides the utility functions that main.js and other scripts need,\n * but removes all layout manipulation (_updateInlineStyle, update, etc.)\n */\n\n(function() {\n    'use strict';\n\n    const Helpers = {\n        // Root Element\n        ROOT_EL: document.documentElement,\n\n        // Large screens breakpoint (matches Bootstrap xl)\n        LAYOUT_BREAKPOINT: 1200,\n\n        // Resize delay in milliseconds\n        RESIZE_DELAY: 200,\n\n        // Internal state\n        _initialized: false,\n        _listeners: [],\n        _resizeCallback: null,\n        _resizeTimeout: null,\n        menuPsScroll: null,\n        mainMenu: null,\n\n        // *******************************************************************************\n        // * Tests / State Checks\n        // *******************************************************************************\n\n        isRtl: function() {\n            return document.querySelector('body')?.getAttribute('dir') === 'rtl' ||\n                   document.querySelector('html')?.getAttribute('dir') === 'rtl';\n        },\n\n        isMobileDevice: function() {\n            return typeof window.orientation !== 'undefined' ||\n                   navigator.userAgent.indexOf('IEMobile') !== -1;\n        },\n\n        isSmallScreen: function() {\n            return (window.innerWidth || document.documentElement.clientWidth || document.body.clientWidth) < this.LAYOUT_BREAKPOINT;\n        },\n\n        isDarkStyle: function() {\n            return document.documentElement.getAttribute('data-style') === 'dark' ||\n                   document.documentElement.classList.contains('dark-style');\n        },\n\n        isLightStyle: function() {\n            return !this.isDarkStyle();\n        },\n\n        isCollapsed: function() {\n            if (this.isSmallScreen()) {\n                return !document.documentElement.classList.contains('layout-menu-expanded');\n            }\n            return document.documentElement.classList.contains('layout-menu-collapsed');\n        },\n\n        isFixed: function() {\n            return document.documentElement.classList.contains('layout-menu-fixed') ||\n                   document.documentElement.classList.contains('layout-menu-fixed-offcanvas');\n        },\n\n        isOffcanvas: function() {\n            return document.documentElement.classList.contains('layout-menu-offcanvas') ||\n                   document.documentElement.classList.contains('layout-menu-fixed-offcanvas');\n        },\n\n        isNavbarFixed: function() {\n            return document.documentElement.classList.contains('layout-navbar-fixed');\n        },\n\n        isFooterFixed: function() {\n            return document.documentElement.classList.contains('layout-footer-fixed');\n        },\n\n        isLayoutNavbarFull: function() {\n            return !!document.querySelector('.layout-wrapper.layout-navbar-full');\n        },\n\n        // *******************************************************************************\n        // * Getters\n        // *******************************************************************************\n\n        getLayoutMenu: function() {\n            return document.querySelector('.layout-menu, .c-sidebar');\n        },\n\n        getMenu: function() {\n            const layoutMenu = this.getLayoutMenu();\n            if (!layoutMenu) return null;\n            return layoutMenu.classList.contains('menu') ? layoutMenu : layoutMenu.querySelector('.menu');\n        },\n\n        getLayoutNavbar: function() {\n            return document.querySelector('.layout-navbar');\n        },\n\n        getLayoutFooter: function() {\n            return document.querySelector('.content-footer');\n        },\n\n        // *******************************************************************************\n        // * Class Helpers\n        // *******************************************************************************\n\n        _addClass: function(cls, el = this.ROOT_EL) {\n            if (!el) return;\n            const elements = el.length !== undefined ? el : [el];\n            elements.forEach(e => {\n                if (e) cls.split(' ').forEach(c => e.classList.add(c));\n            });\n        },\n\n        _removeClass: function(cls, el = this.ROOT_EL) {\n            if (!el) return;\n            const elements = el.length !== undefined ? el : [el];\n            elements.forEach(e => {\n                if (e) cls.split(' ').forEach(c => e.classList.remove(c));\n            });\n        },\n\n        _hasClass: function(cls, el = this.ROOT_EL) {\n            let result = false;\n            cls.split(' ').forEach(c => {\n                if (el.classList.contains(c)) result = true;\n            });\n            return result;\n        },\n\n        // *******************************************************************************\n        // * Sidebar / Menu Controls\n        // *******************************************************************************\n\n        setCollapsed: function(collapsed, animate = true) {\n            if (this.isSmallScreen()) {\n                if (collapsed) {\n                    this._removeClass('layout-menu-expanded');\n                    document.body.classList.remove('sidebar-open');\n                } else {\n                    this._addClass('layout-menu-expanded');\n                    document.body.classList.add('sidebar-open');\n                }\n            } else {\n                if (collapsed) {\n                    this._addClass('layout-menu-collapsed');\n                } else {\n                    this._removeClass('layout-menu-collapsed');\n                }\n            }\n            this._triggerEvent('toggle');\n        },\n\n        toggleCollapsed: function(animate = true) {\n            this.setCollapsed(!this.isCollapsed(), animate);\n        },\n\n        setNavbarFixed: function(fixed) {\n            if (fixed) {\n                this._addClass('layout-navbar-fixed');\n            } else {\n                this._removeClass('layout-navbar-fixed');\n            }\n        },\n\n        setFooterFixed: function(fixed) {\n            if (fixed) {\n                this._addClass('layout-footer-fixed');\n            } else {\n                this._removeClass('layout-footer-fixed');\n            }\n        },\n\n        // *******************************************************************************\n        // * Scroll Helpers\n        // *******************************************************************************\n\n        scrollToActive: function(animate = false) {\n            const layoutMenu = this.getLayoutMenu();\n            if (!layoutMenu) return;\n\n            const activeEl = layoutMenu.querySelector('li.menu-item.active:not(.open), .c-sidebar__item.is-active');\n            if (!activeEl) return;\n\n            const menuInner = layoutMenu.querySelector('.menu-inner, .c-sidebar__nav');\n            if (!menuInner) return;\n\n            // Only scroll if item is below 66% of menu height\n            const activeTop = activeEl.getBoundingClientRect().top - menuInner.getBoundingClientRect().top + menuInner.scrollTop;\n            if (activeTop < menuInner.clientHeight * 0.66) return;\n\n            const scrollTo = activeTop - menuInner.clientHeight / 2;\n            if (animate) {\n                menuInner.scrollTo({ top: scrollTo, behavior: 'smooth' });\n            } else {\n                menuInner.scrollTop = scrollTo;\n            }\n        },\n\n        // *******************************************************************************\n        // * Gesture Support (Mobile)\n        // *******************************************************************************\n\n        swipeIn: function(targetEl, callback) {\n            // Hammer.js gesture support - if available\n            if (typeof Hammer !== 'undefined' && typeof targetEl === 'string') {\n                const el = document.querySelector(targetEl);\n                if (el) {\n                    const hammer = new Hammer(el);\n                    hammer.on('panright', callback);\n                }\n            }\n        },\n\n        swipeOut: function(targetEl, callback) {\n            if (typeof Hammer !== 'undefined' && typeof targetEl === 'string') {\n                setTimeout(() => {\n                    const el = document.querySelector(targetEl);\n                    if (el) {\n                        const hammer = new Hammer(el);\n                        hammer.get('pan').set({ direction: Hammer.DIRECTION_ALL, threshold: 250 });\n                        hammer.on('panleft', callback);\n                    }\n                }, 500);\n            }\n        },\n\n        // *******************************************************************************\n        // * Form Helpers\n        // *******************************************************************************\n\n        initPasswordToggle: function() {\n            document.querySelectorAll('.form-password-toggle i').forEach(el => {\n                el.addEventListener('click', function(e) {\n                    e.preventDefault();\n                    const toggle = el.closest('.form-password-toggle');\n                    const input = toggle?.querySelector('input');\n                    const icon = toggle?.querySelector('i');\n                    if (input && icon) {\n                        if (input.type === 'text') {\n                            input.type = 'password';\n                            icon.classList.replace('ti-eye', 'ti-eye-off');\n                        } else {\n                            input.type = 'text';\n                            icon.classList.replace('ti-eye-off', 'ti-eye');\n                        }\n                    }\n                });\n            });\n        },\n\n        initCustomOptionCheck: function() {\n            document.querySelectorAll('.custom-option .form-check-input').forEach(el => {\n                this.updateCustomOptionCheck(el);\n                el.addEventListener('click', () => this.updateCustomOptionCheck(el));\n            });\n        },\n\n        updateCustomOptionCheck: function(el) {\n            if (el.checked) {\n                if (el.type === 'radio') {\n                    el.closest('.row')?.querySelectorAll('.custom-option').forEach(opt => {\n                        opt.classList.remove('checked');\n                    });\n                }\n                el.closest('.custom-option')?.classList.add('checked');\n            } else {\n                el.closest('.custom-option')?.classList.remove('checked');\n            }\n        },\n\n        initSpeechToText: function() {\n            const SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;\n            if (!SpeechRecognition) return;\n\n            document.querySelectorAll('.speech-to-text i').forEach(el => {\n                let listening = false;\n                el.addEventListener('click', function() {\n                    const input = el.closest('.input-group')?.querySelector('.form-control');\n                    if (!input) return;\n                    input.focus();\n\n                    const recognition = new SpeechRecognition();\n                    recognition.onspeechstart = () => { listening = true; };\n                    recognition.onerror = () => { listening = false; };\n                    recognition.onresult = (e) => { input.value = e.results[0][0].transcript; };\n                    recognition.onspeechend = () => { listening = false; recognition.stop(); };\n\n                    if (!listening) recognition.start();\n                });\n            });\n        },\n\n        // *******************************************************************************\n        // * Navbar Dropdown Scrollbar\n        // *******************************************************************************\n\n        initNavbarDropdownScrollbar: function() {\n            if (typeof PerfectScrollbar === 'undefined') return;\n\n            document.querySelectorAll('.navbar-dropdown .scrollable-container').forEach(el => {\n                new PerfectScrollbar(el, { wheelPropagation: false, suppressScrollX: true });\n            });\n        },\n\n        // *******************************************************************************\n        // * Sidebar Toggle (for apps)\n        // *******************************************************************************\n\n        initSidebarToggle: function() {\n            document.querySelectorAll('[data-bs-toggle=\"sidebar\"]').forEach(el => {\n                el.addEventListener('click', function() {\n                    const target = el.getAttribute('data-target');\n                    const overlay = el.getAttribute('data-overlay');\n                    const appOverlay = document.querySelector('.app-overlay');\n\n                    document.querySelectorAll(target).forEach(tel => {\n                        tel.classList.toggle('show');\n                        if (overlay && appOverlay) {\n                            if (tel.classList.contains('show')) {\n                                appOverlay.classList.add('show');\n                            } else {\n                                appOverlay.classList.remove('show');\n                            }\n                            appOverlay.addEventListener('click', (e) => {\n                                e.currentTarget.classList.remove('show');\n                                tel.classList.remove('show');\n                            });\n                        }\n                    });\n                });\n            });\n        },\n\n        // *******************************************************************************\n        // * Events\n        // *******************************************************************************\n\n        on: function(event, callback) {\n            const [eventName, ...namespaceParts] = event.split('.');\n            const namespace = namespaceParts.join('.') || null;\n            this._listeners.push({ event: eventName, namespace, callback });\n        },\n\n        off: function(event) {\n            const [eventName, ...namespaceParts] = event.split('.');\n            const namespace = namespaceParts.join('.') || null;\n            this._listeners = this._listeners.filter(l => !(l.event === eventName && l.namespace === namespace));\n        },\n\n        _triggerEvent: function(name) {\n            // Dispatch window event\n            window.dispatchEvent(new Event('layout' + name));\n            // Call registered listeners\n            this._listeners.filter(l => l.event === name).forEach(l => l.callback.call(null));\n        },\n\n        // *******************************************************************************\n        // * Update (NO-OP - Layout is CSS-only)\n        // *******************************************************************************\n\n        update: function() {\n            // NO-OP: Layout is handled by CSS Grid/Flexbox, not inline styles\n            // The original Helpers.update() injected problematic inline styles\n        },\n\n        setAutoUpdate: function(enable) {\n            // NO-OP: Auto-update was used for inline style injection\n        },\n\n        // *******************************************************************************\n        // * Initialization\n        // *******************************************************************************\n\n        init: function() {\n            if (this._initialized) return;\n            this._initialized = true;\n\n            // Bind window resize event\n            const self = this;\n            this._resizeCallback = function() {\n                if (self._resizeTimeout) clearTimeout(self._resizeTimeout);\n                self._resizeTimeout = setTimeout(() => {\n                    self._triggerEvent('resize');\n                }, self.RESIZE_DELAY);\n            };\n            window.addEventListener('resize', this._resizeCallback);\n        },\n\n        destroy: function() {\n            if (!this._initialized) return;\n            this._initialized = false;\n\n            if (this._resizeCallback) {\n                window.removeEventListener('resize', this._resizeCallback);\n                this._resizeCallback = null;\n            }\n            this._listeners = [];\n        }\n    };\n\n    // Initialize immediately\n    Helpers.init();\n\n    // Expose globally\n    window.Helpers = Helpers;\n\n})();\n","/**\n * Modal Manager - Centralized Bootstrap Modal Management\n * ========================================================\n *\n * Best Practice 2025: Single source of truth for all modal operations\n *\n * USAGE:\n * ------\n * 1. Declarative (no JavaScript needed):\n *    <button data-bs-toggle=\"modal\" data-bs-target=\"#myModal\">Show Modal</button>\n *\n * 2. Programmatic (simple one-liner):\n *    ModalManager.show('myModal');\n *\n * 3. With options:\n *    ModalManager.show('myModal', { backdrop: 'static', keyboard: false });\n *\n * 4. Event delegation (preferred):\n *    <button data-action=\"show-modal\" data-modal-id=\"myModal\">Show</button>\n *\n * FEATURES:\n * ---------\n * - Instance caching (prevents duplicate modal initializations)\n * - Safe initialization (handles timing issues)\n * - Auto-discovery of all modals on page\n * - Event delegation support via data-action attributes\n * - Memory cleanup\n * - InitSystem registration (priority 20)\n *\n * SELECTOR CONVENTION:\n * --------------------\n * - Uses data-modal attribute for modal identification\n * - Falls back to .modal class for backward compatibility\n * - Uses data-action=\"show-modal|hide-modal|toggle-modal\" for triggers\n *\n * @author ECS Discord Bot Team\n * @since 2025-12-17\n */\n\nclass ModalManager {\n    /**\n     * Modal instance cache - prevents duplicate initializations\n     * @private\n     */\n    static modalInstances = new Map();\n\n    /**\n     * Debug mode - set to true for debugging, false in production\n     * @private\n     */\n    static DEBUG = true;\n\n    /**\n     * Track initialization state\n     * @private\n     */\n    static _initialized = false;\n\n    /**\n     * Initialize the Modal Manager\n     * - Auto-discovers all modals on the page\n     * - Sets up event delegation for data-action triggers\n     * - Called automatically via InitSystem or DOMContentLoaded\n     *\n     * @param {Element} context - Optional context element (defaults to document)\n     */\n    static init(context = document) {\n        // For full document init, only run once\n        if (context === document && this._initialized) {\n            return;\n        }\n\n        if (typeof bootstrap === 'undefined' || typeof bootstrap.Modal === 'undefined') {\n            console.error('[ModalManager] Bootstrap not loaded. Cannot initialize modals.');\n            return;\n        }\n\n        this.log('Initializing Modal Manager...');\n\n        // Discover and cache all modals in context\n        this.discoverModals(context);\n\n        // Set up event delegation (only once for document)\n        if (context === document) {\n            this.setupEventDelegation();\n            this.setupMutationObserver();\n            this._initialized = true;\n        }\n\n        this.log(`Initialized with ${this.modalInstances.size} modals`);\n    }\n\n    /**\n     * Discover all modals in context and cache their instances\n     * Uses data-modal attribute first, falls back to .modal class\n     * @private\n     * @param {Element} context - Context element to search within\n     */\n    static discoverModals(context = document) {\n        // Query by data attribute first, then fall back to class\n        const modalElements = context.querySelectorAll('[data-modal], .modal');\n\n        modalElements.forEach(modalEl => {\n            if (modalEl.id) {\n                // Skip if already cached\n                if (this.modalInstances.has(modalEl.id)) {\n                    return;\n                }\n\n                try {\n                    // Check if modal already has a Bootstrap instance\n                    let instance = bootstrap.Modal.getInstance(modalEl);\n\n                    if (!instance) {\n                        // Create new instance if it doesn't exist\n                        instance = new bootstrap.Modal(modalEl);\n                    }\n\n                    this.modalInstances.set(modalEl.id, instance);\n                    this.log(`Cached modal: ${modalEl.id}`);\n                } catch (error) {\n                    console.error(`[ModalManager] Failed to initialize modal ${modalEl.id}:`, error);\n                }\n            } else {\n                console.warn('[ModalManager] Found modal without ID. Modals should have unique IDs:', modalEl);\n            }\n        });\n    }\n\n    /**\n     * Set up event delegation for data-action triggers\n     * Supports: show-modal, hide-modal, toggle-modal, close-modal\n     * Uses EventDelegation system if available\n     * @private\n     */\n    static setupEventDelegation() {\n        // Use EventDelegation if available\n        if (typeof EventDelegation !== 'undefined') {\n            // Show modal\n            EventDelegation.register('show-modal', (element, e) => {\n                const modalId = element.dataset.modalId;\n                if (modalId) {\n                    const options = this.parseOptionsFromElement(element);\n                    this.show(modalId, options);\n                } else {\n                    console.error('[ModalManager] data-action=\"show-modal\" requires data-modal-id attribute');\n                }\n            }, { preventDefault: true });\n\n            // Hide modal\n            EventDelegation.register('hide-modal', (element, e) => {\n                const modalId = element.dataset.modalId;\n                if (modalId) {\n                    this.hide(modalId);\n                } else {\n                    // Try to find the closest modal and close it\n                    const closestModal = element.closest('[data-modal], .modal');\n                    if (closestModal && closestModal.id) {\n                        this.hide(closestModal.id);\n                    }\n                }\n            }, { preventDefault: true });\n\n            // Close modal (alias for hide)\n            EventDelegation.register('close-modal', (element, e) => {\n                const modalId = element.dataset.modalId;\n                if (modalId) {\n                    this.hide(modalId);\n                } else {\n                    const closestModal = element.closest('[data-modal], .modal');\n                    if (closestModal && closestModal.id) {\n                        this.hide(closestModal.id);\n                    }\n                }\n            }, { preventDefault: true });\n\n            // Toggle modal\n            EventDelegation.register('toggle-modal', (element, e) => {\n                const modalId = element.dataset.modalId;\n                if (modalId) {\n                    this.toggle(modalId);\n                } else {\n                    console.error('[ModalManager] data-action=\"toggle-modal\" requires data-modal-id attribute');\n                }\n            }, { preventDefault: true });\n\n            this.log('Event delegation registered via EventDelegation system');\n        } else {\n            // Fallback: Use standard event delegation\n            document.addEventListener('click', (e) => {\n                const actionElement = e.target.closest('[data-action]');\n                if (!actionElement) return;\n\n                const action = actionElement.dataset.action;\n                const modalId = actionElement.dataset.modalId;\n\n                switch (action) {\n                    case 'show-modal':\n                        if (modalId) {\n                            e.preventDefault();\n                            const options = this.parseOptionsFromElement(actionElement);\n                            this.show(modalId, options);\n                        } else {\n                            console.error('[ModalManager] data-action=\"show-modal\" requires data-modal-id attribute');\n                        }\n                        break;\n\n                    case 'hide-modal':\n                    case 'close-modal':\n                        e.preventDefault();\n                        if (modalId) {\n                            this.hide(modalId);\n                        } else {\n                            // Try to find the closest modal and close it\n                            const closestModal = actionElement.closest('[data-modal], .modal');\n                            if (closestModal && closestModal.id) {\n                                this.hide(closestModal.id);\n                            }\n                        }\n                        break;\n\n                    case 'toggle-modal':\n                        if (modalId) {\n                            e.preventDefault();\n                            this.toggle(modalId);\n                        } else {\n                            console.error('[ModalManager] data-action=\"toggle-modal\" requires data-modal-id attribute');\n                        }\n                        break;\n                }\n            });\n\n            this.log('Event delegation registered via fallback click handler');\n        }\n    }\n\n    /**\n     * Parse modal options from data attributes\n     * @private\n     * @param {Element} element - Element to parse options from\n     * @returns {Object|null} Options object or null\n     */\n    static parseOptionsFromElement(element) {\n        const options = {};\n\n        if (element.dataset.backdrop !== undefined) {\n            options.backdrop = element.dataset.backdrop === 'false' ? false : element.dataset.backdrop;\n        }\n\n        if (element.dataset.keyboard !== undefined) {\n            options.keyboard = element.dataset.keyboard === 'true';\n        }\n\n        if (element.dataset.focus !== undefined) {\n            options.focus = element.dataset.focus === 'true';\n        }\n\n        return Object.keys(options).length > 0 ? options : null;\n    }\n\n    /**\n     * Set up MutationObserver to clean up modal instances when removed from DOM\n     * @private\n     */\n    static setupMutationObserver() {\n        const observer = new MutationObserver((mutations) => {\n            mutations.forEach((mutation) => {\n                mutation.removedNodes.forEach((node) => {\n                    if (node.nodeType === 1) {\n                        // Check if removed node is a modal\n                        const isModal = (node.classList?.contains('modal') || node.hasAttribute?.('data-modal'));\n                        if (isModal && node.id) {\n                            this.cleanup(node.id);\n                        }\n                    }\n                });\n            });\n        });\n\n        observer.observe(document.body, { childList: true, subtree: true });\n    }\n\n    /**\n     * Show a modal by ID\n     * @param {string} modalId - The ID of the modal to show (without # prefix)\n     * @param {Object} options - Bootstrap modal options (backdrop, keyboard, focus)\n     * @returns {boolean} - True if modal was shown successfully, false otherwise\n     */\n    static show(modalId, options = null) {\n        if (!modalId) {\n            console.error('[ModalManager] show() requires a modal ID');\n            return false;\n        }\n\n        this.log(`Showing modal: ${modalId}`);\n\n        // Get or create modal instance\n        let modal = this.modalInstances.get(modalId);\n\n        if (!modal) {\n            // Modal not in cache - try to find and initialize it\n            const modalElement = document.getElementById(modalId);\n\n            if (!modalElement) {\n                console.error(`[ModalManager] Modal element not found: ${modalId}`);\n                return false;\n            }\n\n            try {\n                // Check if Bootstrap already initialized it\n                modal = bootstrap.Modal.getInstance(modalElement);\n\n                if (!modal) {\n                    // Create new instance with options\n                    modal = new bootstrap.Modal(modalElement, options);\n                }\n\n                // Cache for future use\n                this.modalInstances.set(modalId, modal);\n                this.log(`Created and cached new modal: ${modalId}`);\n            } catch (error) {\n                console.error(`[ModalManager] Failed to initialize modal ${modalId}:`, error);\n                return false;\n            }\n        }\n\n        // Show the modal\n        try {\n            modal.show();\n            return true;\n        } catch (error) {\n            console.error(`[ModalManager] Failed to show modal ${modalId}:`, error);\n            return false;\n        }\n    }\n\n    /**\n     * Hide a modal by ID\n     * @param {string} modalId - The ID of the modal to hide (without # prefix)\n     * @returns {boolean} - True if modal was hidden successfully, false otherwise\n     */\n    static hide(modalId) {\n        if (!modalId) {\n            console.error('[ModalManager] hide() requires a modal ID');\n            return false;\n        }\n\n        this.log(`Hiding modal: ${modalId}`);\n\n        const modal = this.modalInstances.get(modalId);\n\n        if (!modal) {\n            console.warn(`[ModalManager] Modal not found in cache: ${modalId}`);\n\n            // Try to find it in DOM and get Bootstrap instance\n            const modalElement = document.getElementById(modalId);\n            if (modalElement) {\n                const instance = bootstrap.Modal.getInstance(modalElement);\n                if (instance) {\n                    try {\n                        instance.hide();\n                        return true;\n                    } catch (error) {\n                        console.error(`[ModalManager] Failed to hide modal ${modalId}:`, error);\n                        return false;\n                    }\n                }\n            }\n\n            return false;\n        }\n\n        try {\n            modal.hide();\n            return true;\n        } catch (error) {\n            console.error(`[ModalManager] Failed to hide modal ${modalId}:`, error);\n            return false;\n        }\n    }\n\n    /**\n     * Toggle a modal (show if hidden, hide if shown)\n     * @param {string} modalId - The ID of the modal to toggle\n     * @returns {boolean} - True if toggle was successful, false otherwise\n     */\n    static toggle(modalId) {\n        if (!modalId) {\n            console.error('[ModalManager] toggle() requires a modal ID');\n            return false;\n        }\n\n        const modal = this.modalInstances.get(modalId);\n\n        if (!modal) {\n            // Modal not in cache - just show it\n            return this.show(modalId);\n        }\n\n        try {\n            modal.toggle();\n            return true;\n        } catch (error) {\n            console.error(`[ModalManager] Failed to toggle modal ${modalId}:`, error);\n            return false;\n        }\n    }\n\n    /**\n     * Get a modal instance by ID\n     * @param {string} modalId - The ID of the modal\n     * @returns {bootstrap.Modal|null} - The Bootstrap modal instance or null\n     */\n    static getInstance(modalId) {\n        return this.modalInstances.get(modalId) || null;\n    }\n\n    /**\n     * Clean up a modal instance from cache\n     * @param {string} modalId - The ID of the modal to clean up\n     */\n    static cleanup(modalId) {\n        if (this.modalInstances.has(modalId)) {\n            this.log(`Cleaning up modal: ${modalId}`);\n\n            try {\n                const modal = this.modalInstances.get(modalId);\n                modal.dispose();\n            } catch (error) {\n                console.warn(`[ModalManager] Error disposing modal ${modalId}:`, error);\n            }\n\n            this.modalInstances.delete(modalId);\n        }\n    }\n\n    /**\n     * Clean up all modal instances\n     */\n    static cleanupAll() {\n        this.log('Cleaning up all modals...');\n\n        this.modalInstances.forEach((modal, modalId) => {\n            try {\n                modal.dispose();\n            } catch (error) {\n                console.warn(`[ModalManager] Error disposing modal ${modalId}:`, error);\n            }\n        });\n\n        this.modalInstances.clear();\n        this.log('All modals cleaned up');\n    }\n\n    /**\n     * Reinitialize - useful after dynamic content loading (HTMX, Turbo, AJAX)\n     * @param {Element} context - Optional context element (defaults to document)\n     */\n    static reinit(context = document) {\n        this.log('Reinitializing Modal Manager...');\n        this.discoverModals(context);\n    }\n\n    /**\n     * Enable debug logging\n     */\n    static enableDebug() {\n        this.DEBUG = true;\n        console.log('[ModalManager] Debug mode enabled');\n    }\n\n    /**\n     * Disable debug logging\n     */\n    static disableDebug() {\n        this.DEBUG = false;\n    }\n\n    /**\n     * Debug logging helper\n     * @private\n     */\n    static log(...args) {\n        if (this.DEBUG) {\n            console.log('[ModalManager]', ...args);\n        }\n    }\n}\n\n// Register with InitSystem if available\nif (typeof window.InitSystem !== 'undefined') {\n    window.InitSystem.register('ModalManager', {\n        priority: 20, // After responsive (10) and admin-base (15), before page-specific components\n        init: function(context) {\n            ModalManager.init(context);\n        }\n    });\n} else {\n    // Fallback to DOMContentLoaded\n    if (document.readyState === 'loading') {\n        document.addEventListener('DOMContentLoaded', () => ModalManager.init());\n    } else {\n        ModalManager.init();\n    }\n}\n\n// Make ModalManager globally available\nwindow.ModalManager = ModalManager;\n\n// Backward compatibility: Maintain the old helper functions\nwindow.safeGetModal = function(modalId) {\n    console.warn('[Deprecated] safeGetModal() is deprecated. Use ModalManager.getInstance() instead.');\n    return ModalManager.getInstance(modalId);\n};\n\nwindow.safeShowModal = function(modalId) {\n    console.warn('[Deprecated] safeShowModal() is deprecated. Use ModalManager.show() instead.');\n    return ModalManager.show(modalId);\n};\n","'use strict';\n\n/**\n * ECS Theme Configuration\n * Colors are read from CSS variables defined in core/variables.css\n * This ensures JS and CSS stay in sync with the admin color customization\n */\n\n// Utility function to get CSS variable value\nfunction getCSSVariable(name, fallback) {\n  const value = getComputedStyle(document.documentElement).getPropertyValue(name).trim();\n  return value || fallback;\n}\n\n// Initialize colors from CSS variables (called after DOM ready)\nfunction initConfigColors() {\n  config.colors = {\n    primary: getCSSVariable('--ecs-primary', '#7C3AED'),\n    success: getCSSVariable('--ecs-success', '#10B981'),\n    danger: getCSSVariable('--ecs-danger', '#EF4444'),\n    warning: getCSSVariable('--ecs-warning', '#F59E0B'),\n    info: getCSSVariable('--ecs-info', '#3B82F6'),\n    secondary: getCSSVariable('--ecs-secondary', '#64748B'),\n    light: getCSSVariable('--ecs-neutral-5', '#FAFAFA'),\n    dark: getCSSVariable('--ecs-neutral-90', '#18181B'),\n  };\n\n  config.colors_label = { ...config.colors };\n\n  config.colors_dark = {\n    cardBg: getCSSVariable('--ecs-dark-bg-card', '#18181B'),\n    bodyBg: getCSSVariable('--ecs-dark-bg-body', '#09090B'),\n    headerBg: getCSSVariable('--ecs-dark-bg-elevated', '#27272A'),\n  };\n}\n\n// JS global variables - initial values (will be updated by initConfigColors)\nlet config = {\n  colors: {\n    primary: '#7C3AED',\n    success: '#10B981',\n    danger: '#EF4444',\n    warning: '#F59E0B',\n    info: '#3B82F6',\n    secondary: '#64748B',\n    light: '#FAFAFA',\n    dark: '#18181B',\n  },\n  colors_label: {\n    primary: '#7C3AED',\n    success: '#10B981',\n    danger: '#EF4444',\n    warning: '#F59E0B',\n    info: '#3B82F6',\n    secondary: '#64748B',\n    light: '#FAFAFA',\n    dark: '#18181B',\n  },\n  colors_dark: {\n    cardBg: '#18181B',\n    bodyBg: '#09090B',\n    headerBg: '#27272A',\n  },\n  enableMenuLocalStorage: true, // Enable menu state with local storage support\n\n  // Set contentWidth to 'wide'\n  contentWidth: 'wide',\n\n  // Additional configurations\n  layout: 'vertical',\n  layoutPadding: 20,\n  // Remove or adjust compactContentWidth if it affects layout\n  // compactContentWidth: 1200, // Optional: Remove or set to a higher value if necessary\n  navbar: {\n    type: 'fixed',\n    contentWidth: 'wide',\n    floating: false,\n    detached: false,\n    blur: false,\n  },\n  // If you have a footer configuration, ensure it is also set to 'wide'\n  footer: {\n    type: 'static', // or 'fixed' based on your needs\n    contentWidth: 'wide', // Ensure footer is also wide\n    detached: false,\n  },\n};\n\n// Paths and RTL support - Use window. to avoid TDZ issues when files are concatenated\nwindow.assetsPath = document.documentElement.getAttribute('data-assets-path');\nwindow.templateName = document.documentElement.getAttribute('data-template');\nwindow.rtlSupport = true; // set to true for RTL support, false otherwise.\n\n// Also expose as local variables for backwards compatibility\nvar assetsPath = window.assetsPath;\nvar templateName = window.templateName;\nvar rtlSupport = window.rtlSupport;\n\n// Set the default content layout to 'wide' and initialize colors from CSS variables\ndocument.addEventListener('DOMContentLoaded', function() {\n  document.documentElement.setAttribute('data-content', 'wide');\n  // Initialize colors from CSS variables after DOM is ready\n  initConfigColors();\n});\n","/**\n * ============================================================================\n * SIDEBAR INTERACTIONS - MODERN EVENT DELEGATION\n * ============================================================================\n *\n * Handles all sidebar navigation interactions using event delegation.\n * Zero inline event handlers - all actions use data-action attributes.\n *\n * Features:\n * - Sidebar toggle (mobile & desktop)\n * - Submenu expansion/collapse\n * - Active state management\n * - Keyboard navigation support\n * - Touch-friendly interactions\n * - Accessibility (ARIA attributes)\n *\n * Architecture:\n * - Event delegation from document root\n * - Data-action attribute routing\n * - State classes (is-open, is-active)\n * - No direct DOM manipulation outside state classes\n * - Mobile-first responsive behavior\n *\n * ============================================================================\n */\n\n(function () {\n  'use strict';\n\n  /**\n   * Configuration\n   */\n  const CONFIG = {\n    selectors: {\n      sidebar: '.c-sidebar',\n      sidebarToggle: '[data-action=\"toggle-sidebar\"]',\n      submenuToggle: '[data-action=\"toggle-submenu\"]',\n      expandableItem: '[data-expandable]',\n      noActiveSeason: '[data-action=\"no-active-season\"]',\n    },\n    classes: {\n      open: 'is-open',\n      active: 'is-active',\n      collapsed: 'layout-menu-collapsed',\n    },\n    storage: {\n      collapsedKey: 'sidebar-collapsed',\n    },\n    breakpoints: {\n      desktop: 1200,\n    },\n  };\n\n  /**\n   * State management\n   */\n  const State = {\n    isDesktop: window.innerWidth >= CONFIG.breakpoints.desktop,\n    isSidebarOpen: false,\n    collapsedState: localStorage.getItem(CONFIG.storage.collapsedKey) === 'true',\n  };\n\n  /**\n   * DOM references (cached for performance)\n   */\n  let sidebar = null;\n\n  /**\n   * ============================================================================\n   * INITIALIZATION\n   * ============================================================================\n   */\n\n  function init() {\n    // Cache DOM references\n    sidebar = document.querySelector(CONFIG.selectors.sidebar);\n\n    if (!sidebar) {\n      console.warn('Sidebar not found');\n      return;\n    }\n\n    // Restore collapsed state on desktop\n    if (State.isDesktop && State.collapsedState) {\n      document.body.classList.add(CONFIG.classes.collapsed);\n    }\n\n    // Set up event delegation\n    setupEventDelegation();\n\n    // Set up keyboard navigation\n    setupKeyboardNavigation();\n\n    // Handle window resize\n    setupResizeHandler();\n\n    // Set initial ARIA attributes\n    setupAriaAttributes();\n\n    console.log('Sidebar interactions initialized');\n  }\n\n  /**\n   * ============================================================================\n   * EVENT DELEGATION\n   * ============================================================================\n   */\n\n  function setupEventDelegation() {\n    // Global click handler for all sidebar actions\n    document.addEventListener('click', handleClick);\n\n    // Close sidebar when clicking outside on mobile\n    document.addEventListener('click', handleOutsideClick);\n  }\n\n  function handleClick(event) {\n    const target = event.target;\n    const action = target.closest('[data-action]')?.getAttribute('data-action');\n\n    if (!action) return;\n\n    // Route to appropriate handler\n    switch (action) {\n      case 'toggle-sidebar':\n      case 'toggle-menu':\n        // Both toggle-sidebar (from sidebar) and toggle-menu (from navbar) do the same thing\n        event.preventDefault();\n        handleSidebarToggle();\n        break;\n\n      case 'close-menu':\n        // Close menu action (from overlay)\n        event.preventDefault();\n        if (!State.isDesktop) {\n          closeSidebar();\n        }\n        break;\n\n      case 'toggle-submenu':\n        event.preventDefault();\n        handleSubmenuToggle(target);\n        break;\n\n      case 'no-active-season':\n        event.preventDefault();\n        handleNoActiveSeason();\n        break;\n\n      case 'navigate':\n      case 'navigate-home':\n        // Allow default navigation\n        // Close sidebar on mobile after navigation\n        if (!State.isDesktop) {\n          closeSidebar();\n        }\n        break;\n    }\n  }\n\n  function handleOutsideClick(event) {\n    // Only on mobile\n    if (State.isDesktop) return;\n\n    // Only if sidebar is open\n    if (!State.isSidebarOpen) return;\n\n    // Check if click is outside sidebar\n    if (!sidebar.contains(event.target)) {\n      closeSidebar();\n    }\n  }\n\n  /**\n   * ============================================================================\n   * SIDEBAR TOGGLE\n   * ============================================================================\n   */\n\n  function handleSidebarToggle() {\n    if (State.isDesktop) {\n      // Desktop: Toggle collapsed state\n      toggleCollapsedState();\n    } else {\n      // Mobile: Toggle open/close\n      toggleMobileSidebar();\n    }\n  }\n\n  function toggleCollapsedState() {\n    const isCollapsed = document.body.classList.toggle(CONFIG.classes.collapsed);\n    State.collapsedState = isCollapsed;\n\n    // Save to localStorage\n    localStorage.setItem(CONFIG.storage.collapsedKey, isCollapsed);\n\n    // Update ARIA\n    const toggle = sidebar.querySelector(CONFIG.selectors.sidebarToggle);\n    if (toggle) {\n      toggle.setAttribute('aria-label', isCollapsed ? 'Expand navigation menu' : 'Collapse navigation menu');\n    }\n\n    console.log('Sidebar collapsed state:', isCollapsed);\n  }\n\n  function toggleMobileSidebar() {\n    if (State.isSidebarOpen) {\n      closeSidebar();\n    } else {\n      openSidebar();\n    }\n  }\n\n  function openSidebar() {\n    sidebar.classList.add(CONFIG.classes.open);\n    State.isSidebarOpen = true;\n\n    // Add layout-menu-expanded class to HTML for CSS compatibility with foundation.css\n    document.documentElement.classList.add('layout-menu-expanded');\n\n    // Show the existing overlay (from base.html)\n    const overlay = document.querySelector('.layout-overlay');\n    if (overlay) {\n      overlay.classList.add('show');\n    }\n\n    // Update ARIA\n    sidebar.setAttribute('aria-hidden', 'false');\n\n    // Trap focus in sidebar\n    trapFocus(sidebar);\n\n    console.log('Sidebar opened');\n  }\n\n  function closeSidebar() {\n    sidebar.classList.remove(CONFIG.classes.open);\n    State.isSidebarOpen = false;\n\n    // Remove layout-menu-expanded class from HTML\n    document.documentElement.classList.remove('layout-menu-expanded');\n\n    // Hide the existing overlay\n    const overlay = document.querySelector('.layout-overlay');\n    if (overlay) {\n      overlay.classList.remove('show');\n    }\n\n    // Update ARIA\n    sidebar.setAttribute('aria-hidden', 'true');\n\n    // Release focus trap\n    releaseFocus();\n\n    console.log('Sidebar closed');\n  }\n\n  /**\n   * ============================================================================\n   * SUBMENU TOGGLE\n   * ============================================================================\n   */\n\n  function handleSubmenuToggle(button) {\n    const item = button.closest(CONFIG.selectors.expandableItem);\n    if (!item) return;\n\n    const isOpen = item.classList.toggle(CONFIG.classes.open);\n\n    // Update ARIA\n    button.setAttribute('aria-expanded', isOpen);\n\n    // Close other submenus at the same level (optional - comment out for accordion behavior)\n    // closeOtherSubmenus(item);\n\n    console.log('Submenu toggled:', isOpen);\n  }\n\n  function closeOtherSubmenus(currentItem) {\n    const parent = currentItem.parentElement;\n    const siblings = Array.from(parent.children).filter(\n      child => child !== currentItem && child.matches(CONFIG.selectors.expandableItem)\n    );\n\n    siblings.forEach(sibling => {\n      sibling.classList.remove(CONFIG.classes.open);\n      const toggle = sibling.querySelector(CONFIG.selectors.submenuToggle);\n      if (toggle) {\n        toggle.setAttribute('aria-expanded', 'false');\n      }\n    });\n  }\n\n  /**\n   * ============================================================================\n   * SPECIAL ACTIONS\n   * ============================================================================\n   */\n\n  function handleNoActiveSeason() {\n    alert('No active Pub League season');\n  }\n\n  /**\n   * ============================================================================\n   * KEYBOARD NAVIGATION\n   * ============================================================================\n   */\n\n  function setupKeyboardNavigation() {\n    sidebar.addEventListener('keydown', handleKeyDown);\n  }\n\n  function handleKeyDown(event) {\n    const { key, target } = event;\n\n    // Escape closes sidebar on mobile\n    if (key === 'Escape' && !State.isDesktop) {\n      closeSidebar();\n      return;\n    }\n\n    // Only handle navigation within links and buttons\n    if (!target.matches('a, button')) return;\n\n    switch (key) {\n      case 'ArrowUp':\n        event.preventDefault();\n        focusPreviousItem(target);\n        break;\n\n      case 'ArrowDown':\n        event.preventDefault();\n        focusNextItem(target);\n        break;\n\n      case 'Home':\n        event.preventDefault();\n        focusFirstItem();\n        break;\n\n      case 'End':\n        event.preventDefault();\n        focusLastItem();\n        break;\n    }\n  }\n\n  function focusPreviousItem(currentElement) {\n    const focusable = getFocusableElements();\n    const currentIndex = focusable.indexOf(currentElement);\n    const previousIndex = currentIndex > 0 ? currentIndex - 1 : focusable.length - 1;\n    focusable[previousIndex]?.focus();\n  }\n\n  function focusNextItem(currentElement) {\n    const focusable = getFocusableElements();\n    const currentIndex = focusable.indexOf(currentElement);\n    const nextIndex = currentIndex < focusable.length - 1 ? currentIndex + 1 : 0;\n    focusable[nextIndex]?.focus();\n  }\n\n  function focusFirstItem() {\n    const focusable = getFocusableElements();\n    focusable[0]?.focus();\n  }\n\n  function focusLastItem() {\n    const focusable = getFocusableElements();\n    focusable[focusable.length - 1]?.focus();\n  }\n\n  function getFocusableElements() {\n    return Array.from(\n      sidebar.querySelectorAll('a[href], button:not([disabled])')\n    ).filter(el => !el.closest('.c-sidebar__link--disabled'));\n  }\n\n  /**\n   * ============================================================================\n   * ARIA ATTRIBUTES\n   * ============================================================================\n   */\n\n  function setupAriaAttributes() {\n    // Set sidebar role and label\n    if (!sidebar.hasAttribute('role')) {\n      sidebar.setAttribute('role', 'navigation');\n    }\n    if (!sidebar.hasAttribute('aria-label')) {\n      sidebar.setAttribute('aria-label', 'Main navigation');\n    }\n\n    // Set initial aria-hidden for mobile\n    if (!State.isDesktop) {\n      sidebar.setAttribute('aria-hidden', 'true');\n    }\n\n    // Set aria-expanded for all toggle buttons\n    const toggles = sidebar.querySelectorAll(CONFIG.selectors.submenuToggle);\n    toggles.forEach(toggle => {\n      const item = toggle.closest(CONFIG.selectors.expandableItem);\n      const isOpen = item?.classList.contains(CONFIG.classes.open);\n      toggle.setAttribute('aria-expanded', isOpen);\n    });\n  }\n\n  /**\n   * ============================================================================\n   * FOCUS TRAP (MOBILE)\n   * ============================================================================\n   */\n\n  let focusTrapActive = false;\n  let firstFocusableElement = null;\n  let lastFocusableElement = null;\n\n  function trapFocus(container) {\n    const focusableElements = getFocusableElements();\n    firstFocusableElement = focusableElements[0];\n    lastFocusableElement = focusableElements[focusableElements.length - 1];\n\n    focusTrapActive = true;\n\n    // Focus first element\n    firstFocusableElement?.focus();\n\n    // Handle tab key\n    document.addEventListener('keydown', handleFocusTrap);\n  }\n\n  function releaseFocus() {\n    focusTrapActive = false;\n    document.removeEventListener('keydown', handleFocusTrap);\n  }\n\n  function handleFocusTrap(event) {\n    if (!focusTrapActive || event.key !== 'Tab') return;\n\n    if (event.shiftKey) {\n      // Shift + Tab\n      if (document.activeElement === firstFocusableElement) {\n        event.preventDefault();\n        lastFocusableElement?.focus();\n      }\n    } else {\n      // Tab\n      if (document.activeElement === lastFocusableElement) {\n        event.preventDefault();\n        firstFocusableElement?.focus();\n      }\n    }\n  }\n\n  /**\n   * ============================================================================\n   * BACKDROP (MOBILE)\n   * ============================================================================\n   */\n\n  function createBackdrop() {\n    if (document.querySelector('.c-sidebar-backdrop')) return;\n\n    const backdrop = document.createElement('div');\n    backdrop.className = 'c-sidebar-backdrop';\n    backdrop.style.cssText = `\n      position: fixed;\n      top: 0;\n      left: 0;\n      right: 0;\n      bottom: 0;\n      background: rgba(0, 0, 0, 0.5);\n      z-index: ${parseInt(getComputedStyle(sidebar).zIndex) - 1};\n      transition: opacity 0.3s ease;\n    `;\n    document.body.appendChild(backdrop);\n\n    // Fade in\n    setTimeout(() => {\n      backdrop.style.opacity = '1';\n    }, 10);\n  }\n\n  function removeBackdrop() {\n    const backdrop = document.querySelector('.c-sidebar-backdrop');\n    if (!backdrop) return;\n\n    backdrop.style.opacity = '0';\n    setTimeout(() => {\n      backdrop.remove();\n    }, 300);\n  }\n\n  /**\n   * ============================================================================\n   * RESIZE HANDLER\n   * ============================================================================\n   */\n\n  function setupResizeHandler() {\n    let resizeTimeout;\n\n    window.addEventListener('resize', () => {\n      clearTimeout(resizeTimeout);\n      resizeTimeout = setTimeout(handleResize, 150);\n    });\n  }\n\n  function handleResize() {\n    const wasDesktop = State.isDesktop;\n    State.isDesktop = window.innerWidth >= CONFIG.breakpoints.desktop;\n\n    // Desktop to mobile transition\n    if (wasDesktop && !State.isDesktop) {\n      // Close mobile sidebar\n      closeSidebar();\n      // Remove collapsed class\n      document.body.classList.remove(CONFIG.classes.collapsed);\n    }\n\n    // Mobile to desktop transition\n    if (!wasDesktop && State.isDesktop) {\n      // Close mobile sidebar\n      closeSidebar();\n      // Restore collapsed state\n      if (State.collapsedState) {\n        document.body.classList.add(CONFIG.classes.collapsed);\n      }\n    }\n  }\n\n  /**\n   * ============================================================================\n   * PUBLIC API\n   * ============================================================================\n   */\n\n  window.SidebarInteractions = {\n    open: openSidebar,\n    close: closeSidebar,\n    toggle: handleSidebarToggle,\n    collapse: () => {\n      if (State.isDesktop && !State.collapsedState) {\n        toggleCollapsedState();\n      }\n    },\n    expand: () => {\n      if (State.isDesktop && State.collapsedState) {\n        toggleCollapsedState();\n      }\n    },\n  };\n\n  /**\n   * ============================================================================\n   * AUTO-INITIALIZE\n   * ============================================================================\n   */\n\n  // Register with InitSystem if available\n  if (typeof window.InitSystem !== 'undefined' && window.InitSystem.register) {\n    window.InitSystem.register('sidebar-interactions', init, {\n      priority: 80,\n      description: 'Sidebar toggle, collapse, and mobile drawer interactions',\n      reinitializable: false\n    });\n  } else {\n    // Fallback: Initialize on DOM ready\n    if (document.readyState === 'loading') {\n      document.addEventListener('DOMContentLoaded', init);\n    } else {\n      init();\n    }\n  }\n})();\n","/**\n * ============================================================================\n * MODERN NAVBAR CONTROLLER - BEM ARCHITECTURE\n * ============================================================================\n *\n * Handles all navbar interactions with smooth animations and proper state management.\n * Uses EventDelegation for optimal performance and maintainability.\n *\n * Features:\n * - Dropdown management (theme, notifications, profile, impersonation)\n * - Search autocomplete integration\n * - Scroll state tracking\n * - Mobile menu toggle\n * - Keyboard navigation (Escape to close, Arrow keys for items)\n * - Outside click detection\n * - Badge animations\n * - Role impersonation management\n *\n * Architecture:\n * - Event delegation via EventDelegation system\n * - State management via classList and ARIA attributes\n * - No inline styles (all via CSS classes)\n * - BEM naming conventions\n * - Full accessibility support\n * - Proper cleanup on destroy\n *\n * ============================================================================\n */\n\nclass ModernNavbarController {\n  constructor() {\n    this.navbar = document.querySelector('.c-navbar-modern');\n    if (!this.navbar) {\n      console.warn('Modern navbar not found');\n      return;\n    }\n\n    this.activeDropdown = null;\n    this.lastScrollTop = 0;\n    this.scrollThreshold = 50;\n\n    this.init();\n  }\n\n  /**\n   * Get CSRF token from meta tag, input field, or cookie\n   */\n  getCSRFToken() {\n    // Try meta tag first\n    const csrfMeta = document.querySelector('meta[name=\"csrf-token\"]');\n    if (csrfMeta) {\n      return csrfMeta.getAttribute('content');\n    }\n\n    // Try hidden input field\n    const csrfInput = document.querySelector('input[name=\"csrf_token\"]');\n    if (csrfInput) {\n      return csrfInput.value;\n    }\n\n    // Try cookie\n    const cookies = document.cookie.split(';');\n    for (const cookie of cookies) {\n      const [name, value] = cookie.trim().split('=');\n      if (name === 'csrf_token') {\n        return decodeURIComponent(value);\n      }\n    }\n\n    return '';\n  }\n\n  init() {\n    this.registerEventHandlers();\n    this.attachEventListeners();\n    this.initScrollTracking();\n    this.initSearch();\n    this.initNotifications();\n    this.initRoleImpersonation();\n    this.initTheme();\n    this.initPresence();\n  }\n\n  /**\n   * Register all data-action handlers via EventDelegation\n   */\n  registerEventHandlers() {\n    if (typeof EventDelegation === 'undefined') {\n      console.warn('[Navbar] EventDelegation not available, using fallback');\n      return;\n    }\n\n    // Mobile menu toggle\n    EventDelegation.register('toggle-menu', (element, e) => {\n      this.toggleMobileMenu();\n    }, { preventDefault: true });\n\n    // Dropdown toggles\n    EventDelegation.register('toggle-dropdown', (element, e) => {\n      const dropdownId = element.dataset.dropdown;\n      if (dropdownId) {\n        this.toggleDropdown(dropdownId);\n      }\n    }, { preventDefault: true });\n\n    // Theme switcher\n    EventDelegation.register('switch-theme', (element, e) => {\n      const theme = element.dataset.theme;\n      if (theme) {\n        this.switchTheme(theme);\n      }\n    }, { preventDefault: true });\n\n    // Role impersonation\n    EventDelegation.register('start-impersonation', (element, e) => {\n      this.startRoleImpersonation();\n    }, { preventDefault: true });\n\n    EventDelegation.register('stop-impersonation', (element, e) => {\n      this.stopRoleImpersonation();\n    }, { preventDefault: true });\n\n    // Notification actions\n    EventDelegation.register('mark-read', (element, e) => {\n      const notificationId = element.dataset.notificationId;\n      if (notificationId) {\n        this.markNotificationRead(notificationId);\n      }\n    }, { preventDefault: true });\n\n    EventDelegation.register('mark-all-read', (element, e) => {\n      this.markAllNotificationsRead();\n    }, { preventDefault: true });\n\n    EventDelegation.register('clear-all-notifications', (element, e) => {\n      this.clearAllNotifications();\n    }, { preventDefault: true });\n\n    EventDelegation.register('dismiss-notification', (element, e) => {\n      const notificationId = element.dataset.notificationId;\n      if (notificationId) {\n        this.dismissNotification(notificationId);\n      }\n    }, { preventDefault: true, stopPropagation: true });\n\n    EventDelegation.register('expand-notification', (element, e) => {\n      const notificationId = element.dataset.notificationId;\n      if (notificationId) {\n        this.toggleNotificationExpand(notificationId);\n      }\n    }, { preventDefault: true });\n\n    // Logout\n    EventDelegation.register('logout', (element, e) => {\n      this.handleLogout();\n    }, { preventDefault: true });\n  }\n\n  /**\n   * Attach event listeners (non data-action events)\n   */\n  attachEventListeners() {\n    // Keyboard navigation\n    document.addEventListener('keydown', this.handleKeyboard.bind(this));\n\n    // Close dropdowns on outside click\n    document.addEventListener('click', this.handleOutsideClick.bind(this));\n  }\n\n  /**\n   * Handle keyboard navigation\n   */\n  handleKeyboard(e) {\n    // Escape key - close all dropdowns\n    if (e.key === 'Escape' && this.activeDropdown) {\n      this.closeDropdown(this.activeDropdown);\n      return;\n    }\n\n    // Arrow keys for dropdown navigation\n    if (this.activeDropdown && (e.key === 'ArrowDown' || e.key === 'ArrowUp')) {\n      e.preventDefault();\n      this.navigateDropdown(e.key);\n      return;\n    }\n  }\n\n  /**\n   * Close dropdown when clicking outside\n   */\n  handleOutsideClick(e) {\n    if (!this.activeDropdown) return;\n\n    const dropdown = document.querySelector(`[data-dropdown-id=\"${this.activeDropdown}\"]`);\n    const toggle = document.querySelector(`[data-dropdown=\"${this.activeDropdown}\"]`);\n\n    if (dropdown && !dropdown.contains(e.target) && toggle && !toggle.contains(e.target)) {\n      this.closeDropdown(this.activeDropdown);\n    }\n  }\n\n  /**\n   * Toggle dropdown open/closed\n   */\n  toggleDropdown(dropdownId) {\n    const dropdown = document.querySelector(`[data-dropdown-id=\"${dropdownId}\"]`);\n    if (!dropdown) return;\n\n    // Close other dropdowns first\n    if (this.activeDropdown && this.activeDropdown !== dropdownId) {\n      this.closeDropdown(this.activeDropdown);\n    }\n\n    const isOpen = dropdown.classList.contains('is-open');\n\n    if (isOpen) {\n      this.closeDropdown(dropdownId);\n    } else {\n      this.openDropdown(dropdownId);\n    }\n  }\n\n  /**\n   * Open a dropdown with animation\n   */\n  openDropdown(dropdownId) {\n    const dropdown = document.querySelector(`[data-dropdown-id=\"${dropdownId}\"]`);\n    const toggle = document.querySelector(`[data-dropdown=\"${dropdownId}\"]`);\n\n    if (!dropdown) return;\n\n    // Add open class for CSS animation\n    dropdown.classList.add('is-open');\n    dropdown.setAttribute('aria-hidden', 'false');\n\n    if (toggle) {\n      toggle.classList.add('is-active');\n      toggle.setAttribute('aria-expanded', 'true');\n    }\n\n    this.activeDropdown = dropdownId;\n\n    // Stagger animation for dropdown items\n    this.staggerDropdownItems(dropdown);\n  }\n\n  /**\n   * Close a dropdown\n   */\n  closeDropdown(dropdownId) {\n    const dropdown = document.querySelector(`[data-dropdown-id=\"${dropdownId}\"]`);\n    const toggle = document.querySelector(`[data-dropdown=\"${dropdownId}\"]`);\n\n    if (!dropdown) return;\n\n    dropdown.classList.remove('is-open');\n    dropdown.setAttribute('aria-hidden', 'true');\n\n    if (toggle) {\n      toggle.classList.remove('is-active');\n      toggle.setAttribute('aria-expanded', 'false');\n    }\n\n    if (this.activeDropdown === dropdownId) {\n      this.activeDropdown = null;\n    }\n  }\n\n  /**\n   * Stagger animation for dropdown items (smooth reveal)\n   */\n  staggerDropdownItems(dropdown) {\n    const items = dropdown.querySelectorAll('.c-navbar-modern__dropdown-item');\n\n    items.forEach((item, index) => {\n      item.style.opacity = '0';\n      item.style.transform = 'translateX(-8px)';\n\n      setTimeout(() => {\n        item.style.transition = 'all 0.3s cubic-bezier(0.4, 0, 0.2, 1)';\n        item.style.opacity = '1';\n        item.style.transform = 'translateX(0)';\n      }, index * 30);\n    });\n  }\n\n  /**\n   * Navigate dropdown items with arrow keys\n   */\n  navigateDropdown(direction) {\n    const dropdown = document.querySelector(`[data-dropdown-id=\"${this.activeDropdown}\"]`);\n    if (!dropdown) return;\n\n    const items = Array.from(dropdown.querySelectorAll('.c-navbar-modern__dropdown-item:not([disabled])'));\n    const currentIndex = items.findIndex(item => item === document.activeElement);\n\n    let nextIndex;\n    if (direction === 'ArrowDown') {\n      nextIndex = currentIndex < items.length - 1 ? currentIndex + 1 : 0;\n    } else {\n      nextIndex = currentIndex > 0 ? currentIndex - 1 : items.length - 1;\n    }\n\n    items[nextIndex]?.focus();\n  }\n\n  /**\n   * Toggle mobile menu\n   */\n  toggleMobileMenu() {\n    const toggle = document.querySelector('[data-action=\"toggle-menu\"]');\n    const menu = document.querySelector('[data-mobile-menu]');\n\n    if (!toggle || !menu) return;\n\n    const isOpen = toggle.classList.contains('is-open');\n\n    if (isOpen) {\n      toggle.classList.remove('is-open');\n      menu.classList.remove('is-open');\n      document.body.style.overflow = '';\n    } else {\n      toggle.classList.add('is-open');\n      menu.classList.add('is-open');\n      document.body.style.overflow = 'hidden';\n    }\n  }\n\n  /**\n   * Track scroll position and add shadow when scrolled\n   */\n  initScrollTracking() {\n    let ticking = false;\n\n    window.addEventListener('scroll', () => {\n      if (!ticking) {\n        window.requestAnimationFrame(() => {\n          const scrollTop = window.pageYOffset || document.documentElement.scrollTop;\n\n          if (scrollTop > this.scrollThreshold) {\n            this.navbar.classList.add('is-scrolled');\n          } else {\n            this.navbar.classList.remove('is-scrolled');\n          }\n\n          this.lastScrollTop = scrollTop;\n          ticking = false;\n        });\n\n        ticking = true;\n      }\n    });\n  }\n\n  /**\n   * Initialize search functionality\n   */\n  initSearch() {\n    const searchInput = document.querySelector('.c-navbar-modern__search-input');\n    if (!searchInput) return;\n\n    // Prevent form submission\n    const form = searchInput.closest('form');\n    if (form) {\n      form.addEventListener('submit', (e) => {\n        e.preventDefault();\n      });\n    }\n\n    // Search input handling (integrate with autocomplete if available)\n    let searchTimeout;\n    searchInput.addEventListener('input', (e) => {\n      clearTimeout(searchTimeout);\n\n      const query = e.target.value.trim();\n\n      if (query.length >= 2) {\n        searchTimeout = setTimeout(() => {\n          this.performSearch(query);\n        }, 300);\n      }\n    });\n\n    // Focus animation\n    searchInput.addEventListener('focus', () => {\n      searchInput.parentElement.classList.add('is-focused');\n    });\n\n    searchInput.addEventListener('blur', () => {\n      searchInput.parentElement.classList.remove('is-focused');\n    });\n  }\n\n  /**\n   * Perform search (integrate with existing autocomplete)\n   */\n  performSearch(query) {\n    // This integrates with the existing player search autocomplete\n    // Trigger the existing search functionality\n    if (typeof window.initializePlayerSearch === 'function') {\n      // Use existing search function\n      console.log('Searching for:', query);\n    }\n  }\n\n  /**\n   * Switch theme (light/dark/system)\n   */\n  switchTheme(theme) {\n    // Close dropdown\n    this.closeDropdown('theme');\n\n    // Determine actual theme (handle system preference)\n    let actualTheme = theme;\n    if (theme === 'system') {\n      actualTheme = window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light';\n    }\n\n    // Update all theme attributes that different CSS selectors may use\n    const html = document.documentElement;\n    const body = document.body;\n\n    // Set data-style attribute (used by our modern CSS)\n    html.setAttribute('data-style', actualTheme);\n\n    // Set data-bs-theme (Bootstrap 5.3+)\n    html.setAttribute('data-bs-theme', actualTheme);\n    body.setAttribute('data-bs-theme', actualTheme);\n\n    // Set data-theme (generic)\n    html.setAttribute('data-theme', actualTheme);\n\n    // Set Vuexy-specific class\n    if (actualTheme === 'dark') {\n      html.classList.add('dark-style');\n      html.classList.remove('light-style');\n    } else {\n      html.classList.add('light-style');\n      html.classList.remove('dark-style');\n    }\n\n    // Store preference\n    localStorage.setItem('theme', theme);\n    localStorage.setItem('templateCustomizer-skin', actualTheme);\n\n    // Update icon\n    const icon = document.querySelector('[data-role=\"theme-icon\"]');\n    if (icon) {\n      const iconClass = {\n        light: 'ti-sun',\n        dark: 'ti-moon-stars',\n        system: 'ti-device-desktop'\n      }[theme] || 'ti-moon-stars';\n\n      icon.className = `c-navbar-modern__theme-icon ti ${iconClass}`;\n    }\n\n    // Update active state in dropdown\n    const options = document.querySelectorAll('[data-action=\"switch-theme\"]');\n    options.forEach(option => {\n      if (option.dataset.theme === theme) {\n        option.classList.add('is-active');\n      } else {\n        option.classList.remove('is-active');\n      }\n    });\n\n    // Show toast notification\n    this.showToast(`Theme switched to ${theme} mode`);\n  }\n\n  /**\n   * Start role impersonation\n   */\n  startRoleImpersonation() {\n    // Get selected roles from checkboxes\n    const checkboxes = document.querySelectorAll('input[name=\"impersonate_roles\"]:checked');\n    const selectedRoles = Array.from(checkboxes).map(cb => cb.value);\n\n    if (selectedRoles.length === 0) {\n      this.showToast('Please select at least one role', 'warning');\n      return;\n    }\n\n    // Make API call to start impersonation\n    fetch('/admin-panel/user-management/impersonate', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n        'X-CSRFToken': this.getCSRFToken(),\n      },\n      body: JSON.stringify({ roles: selectedRoles })\n    })\n    .then(response => response.json())\n    .then(data => {\n      if (data.success) {\n        // Update UI to show impersonation is active\n        const button = document.querySelector('[data-dropdown=\"impersonation\"]');\n        if (button) {\n          button.classList.add('c-navbar-modern__impersonation-active');\n        }\n\n        // Show badge\n        const badge = button?.querySelector('.c-navbar-modern__badge');\n        if (badge) {\n          badge.classList.remove('u-hidden');\n        }\n\n        // Hide normal status, show active status\n        const normalStatus = document.getElementById('currentRoleStatus');\n        const activeStatus = document.getElementById('activeImpersonationStatus');\n        const activeRolesList = document.getElementById('activeRolesList');\n\n        if (normalStatus) normalStatus.classList.add('u-hidden');\n        if (activeStatus) {\n          activeStatus.classList.remove('u-hidden');\n          if (activeRolesList) {\n            activeRolesList.innerHTML = selectedRoles.map(role =>\n              `<span class=\"c-role-status__role-tag\">${role}</span>`\n            ).join('');\n          }\n        }\n\n        this.closeDropdown('impersonation');\n        this.showToast('Role testing started', 'success');\n\n        // Reload page to apply new permissions\n        setTimeout(() => window.location.reload(), 1000);\n      } else {\n        this.showToast(data.message || 'Failed to start role testing', 'error');\n      }\n    })\n    .catch(error => {\n      console.error('Impersonation error:', error);\n      this.showToast('An error occurred', 'error');\n    });\n  }\n\n  /**\n   * Stop role impersonation\n   */\n  stopRoleImpersonation() {\n    fetch('/admin-panel/user-management/stop-impersonate', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n        'X-CSRFToken': this.getCSRFToken(),\n      }\n    })\n    .then(response => response.json())\n    .then(data => {\n      if (data.success) {\n        this.showToast('Impersonation stopped', 'success');\n        setTimeout(() => window.location.reload(), 1000);\n      }\n    })\n    .catch(error => {\n      console.error('Stop impersonation error:', error);\n    });\n  }\n\n  /**\n   * Mark notification as read\n   */\n  async markNotificationRead(notificationId) {\n    const notification = document.querySelector(`[data-notification-id=\"${notificationId}\"]`);\n    if (!notification) return;\n\n    // Optimistically update UI\n    notification.classList.remove('is-unread');\n\n    try {\n      const response = await fetch(`/api/notifications/${notificationId}/read`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          'X-CSRFToken': this.getCSRFToken(),\n        }\n      });\n\n      const data = await response.json();\n      if (data.success) {\n        this.updateNotificationBadge(data.unread_count);\n      }\n    } catch (error) {\n      console.error('Mark notification read error:', error);\n      // Revert on error\n      notification.classList.add('is-unread');\n    }\n  }\n\n  /**\n   * Mark all notifications as read\n   */\n  async markAllNotificationsRead() {\n    const notifications = document.querySelectorAll('.c-navbar-modern__notification.is-unread');\n\n    // Optimistically update UI\n    notifications.forEach(notification => {\n      notification.classList.remove('is-unread');\n    });\n\n    try {\n      const response = await fetch('/api/notifications/mark-all-read', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          'X-CSRFToken': this.getCSRFToken(),\n        }\n      });\n\n      const data = await response.json();\n      if (data.success) {\n        this.updateNotificationBadge(0);\n        this.showToast('All notifications marked as read', 'success');\n      }\n    } catch (error) {\n      console.error('Mark all read error:', error);\n      // Revert - reload notifications\n      this.loadNotifications();\n    }\n  }\n\n  /**\n   * Handle logout\n   */\n  handleLogout() {\n    const form = document.querySelector('#logout-form');\n    if (form) {\n      form.submit();\n    }\n  }\n\n  /**\n   * Initialize notifications\n   */\n  initNotifications() {\n    // Load notifications on page load\n    this.loadNotifications();\n\n    // Refresh notification count periodically (every 60 seconds)\n    setInterval(() => this.refreshNotificationCount(), 60000);\n  }\n\n  /**\n   * Load notifications from API\n   */\n  async loadNotifications() {\n    const container = document.getElementById('notifications-list');\n    if (!container) return;\n\n    const loadingEl = container.querySelector('[data-state=\"loading\"]');\n    const emptyEl = container.querySelector('[data-state=\"empty\"]');\n\n    try {\n      const response = await fetch('/api/notifications?include_read=true&limit=10');\n      const data = await response.json();\n\n      // Hide loading\n      if (loadingEl) loadingEl.classList.add('u-hidden');\n\n      if (data.success && data.notifications.length > 0) {\n        // Hide empty state\n        if (emptyEl) emptyEl.classList.add('u-hidden');\n\n        // Remove existing notifications (but keep loading/empty elements)\n        container.querySelectorAll('.c-navbar-modern__notification').forEach(el => el.remove());\n\n        // Render notifications\n        data.notifications.forEach(notification => {\n          const notifEl = this.createNotificationElement(notification);\n          container.appendChild(notifEl);\n        });\n\n        // Update badge count\n        this.updateNotificationBadge(data.unread_count);\n      } else {\n        // Show empty state\n        if (emptyEl) emptyEl.classList.remove('u-hidden');\n        this.updateNotificationBadge(0);\n      }\n    } catch (error) {\n      console.error('Error loading notifications:', error);\n      if (loadingEl) loadingEl.classList.add('u-hidden');\n      if (emptyEl) {\n        emptyEl.classList.remove('u-hidden');\n        const emptyText = emptyEl.querySelector('p');\n        if (emptyText) emptyText.textContent = 'Failed to load notifications';\n      }\n    }\n  }\n\n  /**\n   * Create a notification DOM element with dismiss button and expandable details\n   */\n  createNotificationElement(notification) {\n    const div = document.createElement('div');\n    div.className = `c-navbar-modern__notification${notification.is_read ? '' : ' is-unread'}`;\n    div.setAttribute('data-notification-id', notification.id);\n    div.setAttribute('role', 'menuitem');\n    div.setAttribute('tabindex', '0');\n\n    // Icon color class\n    const colorClass = notification.icon_color ? `text-${notification.icon_color}` : '';\n\n    // Truncate long messages\n    const truncatedMessage = notification.message.length > 80\n      ? notification.message.substring(0, 80) + '...'\n      : notification.message;\n    const hasMore = notification.message.length > 80;\n\n    div.innerHTML = `\n      <div class=\"c-navbar-modern__notification-main\"\n           data-action=\"expand-notification\"\n           data-notification-id=\"${notification.id}\">\n        <div class=\"c-navbar-modern__notification-icon ${colorClass}\">\n          <i class=\"${notification.icon}\"></i>\n        </div>\n        <div class=\"c-navbar-modern__notification-content\">\n          <p class=\"c-navbar-modern__notification-title\">${this.escapeHtml(notification.title)}</p>\n          <p class=\"c-navbar-modern__notification-text\">${this.escapeHtml(truncatedMessage)}</p>\n          ${hasMore ? '<span class=\"c-navbar-modern__notification-expand-hint\">Click to read more</span>' : ''}\n        </div>\n        <span class=\"c-navbar-modern__notification-time\">${notification.time_ago}</span>\n      </div>\n      <div class=\"c-navbar-modern__notification-expanded u-hidden\" data-expanded-content>\n        <p class=\"c-navbar-modern__notification-full-text\">${this.escapeHtml(notification.message)}</p>\n        <span class=\"c-navbar-modern__notification-date\">${notification.created_at || ''}</span>\n      </div>\n      <button class=\"c-navbar-modern__notification-dismiss\"\n              data-action=\"dismiss-notification\"\n              data-notification-id=\"${notification.id}\"\n              aria-label=\"Dismiss notification\"\n              title=\"Dismiss\">\n        <i class=\"ti ti-x\" aria-hidden=\"true\"></i>\n      </button>\n    `;\n\n    return div;\n  }\n\n  /**\n   * Toggle notification expansion to show full content\n   */\n  toggleNotificationExpand(notificationId) {\n    const notification = document.querySelector(`[data-notification-id=\"${notificationId}\"]`);\n    if (!notification) return;\n\n    const expandedContent = notification.querySelector('[data-expanded-content]');\n    if (!expandedContent) return;\n\n    const isExpanded = notification.classList.contains('is-expanded');\n\n    if (isExpanded) {\n      notification.classList.remove('is-expanded');\n      expandedContent.classList.add('u-hidden');\n    } else {\n      notification.classList.add('is-expanded');\n      expandedContent.classList.remove('u-hidden');\n\n      // Mark as read when expanded\n      const notifElement = notification;\n      if (notifElement.classList.contains('is-unread')) {\n        this.markNotificationRead(notificationId);\n      }\n    }\n  }\n\n  /**\n   * Dismiss (delete) a single notification\n   */\n  async dismissNotification(notificationId) {\n    const notification = document.querySelector(`[data-notification-id=\"${notificationId}\"]`);\n    if (!notification) return;\n\n    // Optimistically remove with animation\n    notification.classList.add('is-dismissing');\n\n    try {\n      const response = await fetch(`/api/notifications/${notificationId}`, {\n        method: 'DELETE',\n        headers: {\n          'Content-Type': 'application/json',\n          'X-CSRFToken': this.getCSRFToken(),\n        }\n      });\n\n      const data = await response.json();\n\n      if (data.success) {\n        // Remove from DOM after animation\n        setTimeout(() => {\n          notification.remove();\n          this.updateNotificationBadge(data.unread_count);\n\n          // Show empty state if no more notifications\n          const container = document.getElementById('notifications-list');\n          const remaining = container.querySelectorAll('.c-navbar-modern__notification');\n          if (remaining.length === 0) {\n            const emptyEl = container.querySelector('[data-state=\"empty\"]');\n            if (emptyEl) emptyEl.classList.remove('u-hidden');\n          }\n        }, 200);\n      } else {\n        // Revert animation on failure\n        notification.classList.remove('is-dismissing');\n        this.showToast('Failed to dismiss notification', 'error');\n      }\n    } catch (error) {\n      console.error('Dismiss notification error:', error);\n      notification.classList.remove('is-dismissing');\n      this.showToast('Failed to dismiss notification', 'error');\n    }\n  }\n\n  /**\n   * Clear all notifications\n   */\n  async clearAllNotifications() {\n    const container = document.getElementById('notifications-list');\n    const notifications = container.querySelectorAll('.c-navbar-modern__notification');\n\n    if (notifications.length === 0) {\n      this.showToast('No notifications to clear', 'info');\n      return;\n    }\n\n    // Confirm with user\n    if (!confirm('Are you sure you want to clear all notifications?')) {\n      return;\n    }\n\n    // Optimistically fade out all\n    notifications.forEach(n => n.classList.add('is-dismissing'));\n\n    try {\n      const response = await fetch('/api/notifications/clear-all', {\n        method: 'DELETE',\n        headers: {\n          'Content-Type': 'application/json',\n          'X-CSRFToken': this.getCSRFToken(),\n        }\n      });\n\n      const data = await response.json();\n\n      if (data.success) {\n        // Remove all from DOM\n        setTimeout(() => {\n          notifications.forEach(n => n.remove());\n          this.updateNotificationBadge(0);\n\n          // Show empty state\n          const emptyEl = container.querySelector('[data-state=\"empty\"]');\n          if (emptyEl) emptyEl.classList.remove('u-hidden');\n\n          this.showToast(`Cleared ${data.deleted_count} notification${data.deleted_count !== 1 ? 's' : ''}`, 'success');\n        }, 200);\n      } else {\n        // Revert on failure\n        notifications.forEach(n => n.classList.remove('is-dismissing'));\n        this.showToast('Failed to clear notifications', 'error');\n      }\n    } catch (error) {\n      console.error('Clear all notifications error:', error);\n      notifications.forEach(n => n.classList.remove('is-dismissing'));\n      this.showToast('Failed to clear notifications', 'error');\n    }\n  }\n\n  /**\n   * Escape HTML to prevent XSS\n   */\n  escapeHtml(text) {\n    const div = document.createElement('div');\n    div.textContent = text;\n    return div.innerHTML;\n  }\n\n  /**\n   * Refresh notification count only (lightweight)\n   */\n  async refreshNotificationCount() {\n    try {\n      const response = await fetch('/api/notifications/count');\n      const data = await response.json();\n      if (data.success) {\n        this.updateNotificationBadge(data.count);\n      }\n    } catch (error) {\n      console.error('Error refreshing notification count:', error);\n    }\n  }\n\n  /**\n   * Update notification badge display\n   */\n  updateNotificationBadge(count) {\n    const badges = document.querySelectorAll('[data-badge=\"notification-count\"]');\n    badges.forEach(badge => {\n      if (count > 0) {\n        badge.textContent = count > 99 ? '99+' : count;\n        badge.classList.remove('u-hidden');\n      } else {\n        badge.classList.add('u-hidden');\n      }\n    });\n  }\n\n  /**\n   * Initialize role impersonation (if available)\n   */\n  initRoleImpersonation() {\n    if (!document.querySelector('[data-dropdown=\"impersonation\"]')) {\n      return;\n    }\n\n    // Load current status\n    this.loadImpersonationStatus();\n\n    // Attach refresh button listener\n    const refreshBtn = document.querySelector('[data-action=\"refresh-roles\"]');\n    if (refreshBtn) {\n      refreshBtn.addEventListener('click', () => this.loadAvailableRoles());\n    }\n\n    // Attach checkbox change listeners\n    const checkboxes = document.querySelectorAll('input[name=\"impersonate_roles\"]');\n    checkboxes.forEach(checkbox => {\n      checkbox.addEventListener('change', () => this.validateRoleSelection());\n    });\n\n    // Attach clear selection listener\n    const clearBtn = document.querySelector('[data-action=\"clear-role-selection\"]');\n    if (clearBtn) {\n      clearBtn.addEventListener('click', (e) => {\n        e.preventDefault();\n        this.clearRoleSelection();\n      });\n    }\n\n    // Initial validation\n    this.validateRoleSelection();\n  }\n\n  /**\n   * Clear all role selections\n   */\n  clearRoleSelection() {\n    const checkboxes = document.querySelectorAll('input[name=\"impersonate_roles\"]');\n    checkboxes.forEach(checkbox => {\n      checkbox.checked = false;\n    });\n    this.validateRoleSelection();\n  }\n\n  /**\n   * Load impersonation status\n   */\n  async loadImpersonationStatus() {\n    try {\n      const response = await fetch('/api/role-impersonation/status');\n      if (!response.ok) throw new Error('Failed to load status');\n\n      const data = await response.json();\n      this.updateImpersonationStatus(data);\n    } catch (error) {\n      console.error('Error loading impersonation status:', error);\n    }\n  }\n\n  /**\n   * Load available roles (refresh from server)\n   */\n  async loadAvailableRoles() {\n    const refreshBtn = document.querySelector('[data-action=\"refresh-roles\"]');\n    if (refreshBtn) {\n      refreshBtn.classList.add('is-loading');\n      const icon = refreshBtn.querySelector('i');\n      if (icon) icon.style.animation = 'spin 1s linear infinite';\n    }\n\n    try {\n      const response = await fetch('/api/role-impersonation/available-roles');\n      if (!response.ok) throw new Error('Failed to load roles');\n\n      const data = await response.json();\n      this.showToast('Roles refreshed', 'success');\n      this.updateImpersonationStatus(data.current_impersonation);\n    } catch (error) {\n      console.error('Error loading available roles:', error);\n      this.showToast('Failed to refresh roles', 'error');\n    } finally {\n      if (refreshBtn) {\n        refreshBtn.classList.remove('is-loading');\n        const icon = refreshBtn.querySelector('i');\n        if (icon) icon.style.animation = '';\n      }\n    }\n  }\n\n  /**\n   * Update impersonation status display\n   */\n  updateImpersonationStatus(data) {\n    const isActive = data && data.active || false;\n    const normalStatus = document.getElementById('currentRoleStatus');\n    const activeStatus = document.getElementById('activeImpersonationStatus');\n    const activeRolesList = document.getElementById('activeRolesList');\n    const badge = document.querySelector('[data-badge=\"impersonation\"]');\n\n    if (isActive && data.roles && data.roles.length > 0) {\n      // Hide normal status, show active status\n      if (normalStatus) normalStatus.classList.add('u-hidden');\n      if (activeStatus) {\n        activeStatus.classList.remove('u-hidden');\n        if (activeRolesList) {\n          activeRolesList.innerHTML = data.roles.map(role =>\n            `<span class=\"c-role-status__role-tag\">${role}</span>`\n          ).join('');\n        }\n      }\n\n      // Show badge\n      if (badge) badge.classList.remove('u-hidden');\n    } else {\n      // Show normal status, hide active status\n      if (normalStatus) normalStatus.classList.remove('u-hidden');\n      if (activeStatus) activeStatus.classList.add('u-hidden');\n\n      // Hide badge\n      if (badge) badge.classList.add('u-hidden');\n    }\n  }\n\n  /**\n   * Validate role selection (checkbox-based)\n   */\n  validateRoleSelection() {\n    const checkboxes = document.querySelectorAll('input[name=\"impersonate_roles\"]:checked');\n    const startBtn = document.getElementById('startImpersonationBtn');\n    const countDisplay = document.getElementById('selectedRoleCount');\n\n    const selectedCount = checkboxes.length;\n\n    // Update count display\n    if (countDisplay) {\n      countDisplay.textContent = selectedCount;\n    }\n\n    // Enable/disable start button\n    if (startBtn) {\n      startBtn.disabled = selectedCount === 0;\n    }\n  }\n\n  /**\n   * Initialize theme\n   */\n  initTheme() {\n    // Load saved theme preference\n    const savedTheme = localStorage.getItem('theme') || 'system';\n    this.applyTheme(savedTheme, false);\n  }\n\n  /**\n   * Apply theme\n   */\n  applyTheme(theme, save = true) {\n    // Determine actual theme (handle system preference)\n    let actualTheme = theme;\n    if (theme === 'system') {\n      actualTheme = window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light';\n    }\n\n    // Update all theme attributes\n    const html = document.documentElement;\n    const body = document.body;\n\n    html.setAttribute('data-style', actualTheme);\n    html.setAttribute('data-bs-theme', actualTheme);\n    body.setAttribute('data-bs-theme', actualTheme);\n    html.setAttribute('data-theme', actualTheme);\n\n    // Update Vuexy-specific class\n    if (actualTheme === 'dark') {\n      html.classList.add('dark-style');\n      html.classList.remove('light-style');\n    } else {\n      html.classList.add('light-style');\n      html.classList.remove('dark-style');\n    }\n\n    // Update icon\n    const icon = document.querySelector('[data-role=\"theme-icon\"]');\n    if (icon) {\n      const iconClass = {\n        light: 'ti-sun',\n        dark: 'ti-moon-stars',\n        system: 'ti-device-desktop'\n      }[theme] || 'ti-sun';\n\n      icon.className = `ti ${iconClass} c-navbar-modern__nav-icon`;\n    }\n\n    // Update active state in dropdown\n    const options = document.querySelectorAll('[data-action=\"switch-theme\"]');\n    options.forEach(option => {\n      if (option.dataset.theme === theme) {\n        option.classList.add('is-active');\n      } else {\n        option.classList.remove('is-active');\n      }\n    });\n\n    // Store preference\n    if (save) {\n      localStorage.setItem('theme', theme);\n      localStorage.setItem('templateCustomizer-skin', actualTheme);\n    }\n  }\n\n  /**\n   * Show toast notification\n   */\n  showToast(message, type = 'info') {\n    // Integrate with existing toast system if available\n    if (typeof window.showToast === 'function') {\n      window.showToast(message, type);\n    } else {\n      console.log(`[Toast ${type}]:`, message);\n    }\n  }\n\n  // =========================================================================\n  // PRESENCE / ONLINE STATUS\n  // =========================================================================\n\n  /**\n   * Initialize presence tracking\n   * Shows real online status based on WebSocket connection\n   */\n  initPresence() {\n    // Initialize WebSocket connection for presence if socket.io is available\n    if (typeof io !== 'undefined') {\n      this.initPresenceSocket();\n    } else {\n      // Fall back to API-only presence checking\n      this.checkPresence();\n    }\n\n    // Refresh presence periodically (every 2 minutes)\n    // This keeps the user showing as online while the page is open\n    setInterval(() => this.refreshPresence(), 120000);\n\n    // Also refresh presence when page becomes visible again\n    document.addEventListener('visibilitychange', () => {\n      if (document.visibilityState === 'visible') {\n        this.refreshPresence();\n        // Reconnect socket if disconnected\n        if (this.presenceSocket && !this.presenceSocket.connected) {\n          this.presenceSocket.connect();\n        }\n      }\n    });\n  }\n\n  /**\n   * Initialize WebSocket connection for presence tracking\n   * Uses SocketManager for unified socket management across all components\n   */\n  initPresenceSocket() {\n    // Use SocketManager if available (preferred method)\n    if (typeof window.SocketManager !== 'undefined') {\n      console.log('[Navbar] Using SocketManager for presence');\n\n      // Optimistic UI: Show \"online\" immediately if we were recently connected\n      // This prevents status flicker during page navigation\n      if (window.SocketManager.isOptimisticallyConnected()) {\n        this.updateOnlineStatus(true);\n        console.debug('[Navbar] Optimistic online status (recently connected)');\n      }\n\n      // Get socket reference\n      this.presenceSocket = window.SocketManager.getSocket();\n\n      // Register connect callback - fires immediately if already connected\n      window.SocketManager.onConnect('Navbar', (socket) => {\n        this.presenceSocket = socket;\n        this.updateOnlineStatus(true);\n        console.debug('Presence socket connected via SocketManager');\n      });\n\n      // Register disconnect callback (delayed by SocketManager for optimistic UI)\n      window.SocketManager.onDisconnect('Navbar', (reason) => {\n        this.updateOnlineStatus(false);\n        console.debug('Presence socket disconnected:', reason);\n      });\n\n      // Register event listeners via SocketManager\n      window.SocketManager.on('Navbar', 'authentication_success', (data) => {\n        this.updateOnlineStatus(true);\n        console.debug('Presence authenticated:', data.username);\n      });\n\n      window.SocketManager.on('Navbar', 'authentication_failed', () => {\n        // Still connected but not authenticated - show as online anyway\n        this.updateOnlineStatus(true);\n      });\n\n      return;\n    }\n\n    // Fallback: Use existing global socket if available\n    if (window.socket) {\n      console.log('[Navbar] Reusing existing socket (connected:', window.socket.connected, ')');\n      this.presenceSocket = window.socket;\n      if (window.socket.connected) {\n        this.updateOnlineStatus(true);\n      }\n      this.attachSocketListenersDirect(this.presenceSocket);\n      return;\n    }\n\n    // Fallback: Create new socket connection for presence\n    try {\n      console.log('[Navbar] Creating new socket connection (fallback)');\n      this.presenceSocket = io('/', {\n        transports: ['polling', 'websocket'],\n        upgrade: true,\n        reconnection: true,\n        reconnectionAttempts: 5,\n        reconnectionDelay: 1000,\n        reconnectionDelayMax: 5000,\n        timeout: 20000,\n        autoConnect: true,\n        withCredentials: true\n      });\n\n      // Store globally so other components can use it\n      window.socket = this.presenceSocket;\n\n      this.attachSocketListenersDirect(this.presenceSocket);\n\n    } catch (error) {\n      console.warn('Failed to initialize presence socket:', error);\n      this.checkPresence();\n    }\n  }\n\n  /**\n   * Attach event listeners directly to socket (fallback when SocketManager not available)\n   */\n  attachSocketListenersDirect(socket) {\n    socket.on('connect', () => {\n      this.updateOnlineStatus(true);\n      console.debug('Presence socket connected');\n    });\n\n    socket.on('disconnect', () => {\n      this.updateOnlineStatus(false);\n      console.debug('Presence socket disconnected');\n    });\n\n    socket.on('authentication_success', (data) => {\n      this.updateOnlineStatus(true);\n      console.debug('Presence authenticated:', data.username);\n    });\n\n    socket.on('authentication_failed', () => {\n      this.updateOnlineStatus(true);\n    });\n\n    socket.on('connect_error', (error) => {\n      console.warn('Presence socket connection error:', error.message);\n      this.updateOnlineStatus(false);\n    });\n  }\n\n  /**\n   * Check current presence status from server\n   */\n  async checkPresence() {\n    try {\n      const response = await fetch('/api/notifications/presence');\n      const data = await response.json();\n\n      if (data.success) {\n        this.updateOnlineStatus(data.online);\n      }\n    } catch (error) {\n      // Don't log error - presence check is non-critical\n      // User will still appear online if WebSocket is connected\n    }\n  }\n\n  /**\n   * Refresh presence TTL (keep showing as online)\n   */\n  async refreshPresence() {\n    try {\n      await fetch('/api/notifications/presence/refresh', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          'X-CSRFToken': this.getCSRFToken(),\n        }\n      });\n    } catch (error) {\n      // Silent fail - non-critical operation\n    }\n  }\n\n  /**\n   * Update the online status indicator in the navbar\n   */\n  updateOnlineStatus(isOnline) {\n    const statusIndicator = this.navbar.querySelector('.c-navbar-modern__avatar-status');\n    if (!statusIndicator) return;\n\n    if (isOnline) {\n      statusIndicator.classList.add('is-online');\n      statusIndicator.classList.remove('is-offline');\n      statusIndicator.setAttribute('aria-label', 'Online');\n      statusIndicator.setAttribute('title', 'You are online');\n    } else {\n      statusIndicator.classList.remove('is-online');\n      statusIndicator.classList.add('is-offline');\n      statusIndicator.setAttribute('aria-label', 'Offline');\n      statusIndicator.setAttribute('title', 'You appear offline');\n    }\n  }\n}\n\n// Initialize function\nfunction initNavbar() {\n  // Only initialize if navbar exists on page\n  if (document.querySelector('.c-navbar-modern')) {\n    window.navbarController = new ModernNavbarController();\n  }\n}\n\n// Register with InitSystem if available\nif (typeof window.InitSystem !== 'undefined' && window.InitSystem.register) {\n  window.InitSystem.register('navbar-modern', initNavbar, {\n    priority: 80,\n    description: 'Modern navbar controller (search, dropdowns, mobile menu)',\n    reinitializable: false\n  });\n} else {\n  // Fallback: Initialize when DOM is ready\n  if (document.readyState === 'loading') {\n    document.addEventListener('DOMContentLoaded', initNavbar);\n  } else {\n    initNavbar();\n  }\n}\n\n// Export for module usage\nif (typeof module !== 'undefined' && module.exports) {\n  module.exports = ModernNavbarController;\n}\n","/**\n * Simple Theme Switcher - Replaces TemplateCustomizer\n * Handles light/dark/system theme switching without vendor dependencies\n *\n * This replaces the bloated TemplateCustomizer with a lightweight solution\n * that only handles what we actually need: theme switching.\n *\n * @version 1.1.0\n * @updated 2025-12-26 - Refactored to use EventDelegation\n */\n\nclass SimpleThemeSwitcher {\n  constructor() {\n    this.themes = ['light', 'dark', 'system'];\n    this.variants = ['modern'];\n    this.currentTheme = 'light';\n    this.currentVariant = 'modern';\n    this.init();\n  }\n\n  init() {\n    // Don't load theme here - it's handled in DOMContentLoaded to prevent FOUC\n    this.setupEventListeners();\n    this.setupSystemThemeDetection();\n    this.loadSavedVariant();\n  }\n\n  /**\n   * Load variant from localStorage\n   */\n  loadSavedVariant() {\n    const savedVariant = localStorage.getItem('theme-variant') || 'modern';\n    this.currentVariant = this.variants.includes(savedVariant) ? savedVariant : 'modern';\n  }\n\n  /**\n   * Load theme from localStorage or default to light\n   */\n  loadSavedTheme() {\n    // Use consistent localStorage key with template\n    const savedTheme = localStorage.getItem('template-style') || 'light';\n    this.setTheme(savedTheme, false); // Don't save again on load\n  }\n\n  /**\n   * Set the active theme\n   * @param {string} theme - 'light', 'dark', or 'system'\n   * @param {boolean} save - Whether to save to localStorage and server\n   */\n  setTheme(theme, save = true) {\n    if (!this.themes.includes(theme)) {\n      console.warn(`Invalid theme: ${theme}. Using light instead.`);\n      theme = 'light';\n    }\n\n    console.log('Setting theme to:', theme); // Debug log\n    this.currentTheme = theme;\n\n    // Determine actual theme to apply (resolve 'system' to light/dark)\n    const effectiveTheme = this.resolveSystemTheme(theme);\n    console.log('Effective theme:', effectiveTheme); // Debug log\n\n    // Apply theme to document - update both attributes for compatibility\n    document.documentElement.setAttribute('data-style', effectiveTheme);\n    document.documentElement.setAttribute('data-theme', effectiveTheme);\n\n    // Also update the class for CSS targeting\n    document.documentElement.className = document.documentElement.className.replace(/\\b(light|dark)-style\\b/g, '');\n    document.documentElement.classList.add(`${effectiveTheme}-style`);\n\n    // Update theme switcher UI\n    this.updateThemeIcon(theme);\n    this.updateActiveMenuItem(theme);\n\n    if (save) {\n      // Save to localStorage with consistent key\n      localStorage.setItem('template-style', theme);\n\n      // Save to server\n      this.saveThemeToServer(theme);\n    }\n\n    // Dispatch custom event for other components\n    document.dispatchEvent(new CustomEvent('themeChanged', {\n      detail: { theme: theme, effectiveTheme: effectiveTheme }\n    }));\n\n    console.log('Theme applied successfully'); // Debug log\n  }\n\n  /**\n   * Resolve 'system' theme to actual light/dark based on user's OS preference\n   */\n  resolveSystemTheme(theme) {\n    if (theme === 'system') {\n      return window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light';\n    }\n    return theme;\n  }\n\n  /**\n   * Setup event listeners for theme switching\n   */\n  setupEventListeners() {\n    // Register EventDelegation handlers for theme switching\n    if (typeof EventDelegation !== 'undefined') {\n      // Handle settings page theme buttons (data-action=\"set-theme\")\n      EventDelegation.register('set-theme', (element, e) => {\n        const theme = element.getAttribute('data-theme');\n        if (theme) {\n          console.log('Theme switching to (action):', theme);\n          this.setTheme(theme);\n\n          // Update button states in settings page\n          document.querySelectorAll('[data-action=\"set-theme\"]').forEach(btn => {\n            btn.classList.remove('btn-primary');\n            btn.classList.add('btn-outline-secondary');\n          });\n          element.classList.remove('btn-outline-secondary');\n          element.classList.add('btn-primary');\n        }\n      }, { preventDefault: true });\n\n      // Handle navbar dropdown theme options (data-action=\"select-theme\")\n      EventDelegation.register('select-theme', (element, e) => {\n        const theme = element.getAttribute('data-theme');\n        if (theme) {\n          console.log('Theme switching to:', theme);\n          this.setTheme(theme);\n\n          // Close dropdown manually if needed\n          const dropdown = element.closest('[data-role=\"theme-dropdown-menu\"]');\n          if (dropdown) {\n            const toggle = document.querySelector('[data-role=\"theme-dropdown-toggle\"]');\n            if (toggle && window.bootstrap) {\n              const dropdownInstance = window.bootstrap.Dropdown.getInstance(toggle);\n              if (dropdownInstance) {\n                dropdownInstance.hide();\n              }\n            }\n          }\n        }\n      }, { preventDefault: true });\n    }\n\n    // Handle keyboard shortcuts (optional)\n    document.addEventListener('keydown', (e) => {\n      // Ctrl/Cmd + Shift + T for theme switching\n      if ((e.ctrlKey || e.metaKey) && e.shiftKey && e.key === 'T') {\n        e.preventDefault();\n        this.cycleTheme();\n      }\n    });\n  }\n\n  /**\n   * Setup system theme detection\n   */\n  setupSystemThemeDetection() {\n    // Listen for system theme changes\n    const mediaQuery = window.matchMedia('(prefers-color-scheme: dark)');\n    mediaQuery.addEventListener('change', () => {\n      // Only update if current theme is 'system'\n      if (this.currentTheme === 'system') {\n        this.setTheme('system', false); // Don't save, just update display\n      }\n    });\n  }\n\n  /**\n   * Cycle through themes (for keyboard shortcut)\n   */\n  cycleTheme() {\n    const currentIndex = this.themes.indexOf(this.currentTheme);\n    const nextIndex = (currentIndex + 1) % this.themes.length;\n    this.setTheme(this.themes[nextIndex]);\n  }\n\n  /**\n   * Update the theme switcher icon\n   */\n  updateThemeIcon(theme) {\n    const icon = document.querySelector('[data-role=\"theme-icon\"]');\n    if (icon) {\n      let iconClass;\n      switch (theme) {\n        case 'dark':\n          iconClass = 'ti-moon-stars';\n          break;\n        case 'system':\n          iconClass = 'ti-device-desktop-analytics';\n          break;\n        default:\n          iconClass = 'ti-sun';\n      }\n      icon.className = `ti ${iconClass} ti-md`;\n      icon.setAttribute('data-role', 'theme-icon');\n    }\n  }\n\n  /**\n   * Update active state in dropdown menu\n   */\n  updateActiveMenuItem(theme) {\n    // Remove active class from all theme menu items\n    document.querySelectorAll('[data-theme]').forEach(item => {\n      item.classList.remove('active');\n    });\n\n    // Add active class to current theme\n    const activeItem = document.querySelector(`[data-theme=\"${theme}\"]`);\n    if (activeItem) {\n      activeItem.classList.add('active');\n    }\n  }\n\n  /**\n   * Save theme preference to server\n   */\n  saveThemeToServer(theme) {\n    const csrfToken = document.querySelector('meta[name=\"csrf-token\"]');\n    if (!csrfToken) {\n      console.warn('CSRF token not found, theme not saved to server');\n      return;\n    }\n\n    fetch('/set-theme', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n        'X-Csrftoken': csrfToken.getAttribute('content')\n      },\n      body: JSON.stringify({ theme: theme })\n    }).then(response => {\n      if (!response.ok) {\n        throw new Error(`HTTP error! status: ${response.status}`);\n      }\n      return response.json();\n    }).then(data => {\n      if (!data.success) {\n        console.error('Theme save failed:', data.message);\n      }\n    }).catch(error => {\n      console.error('Failed to save theme to server:', error);\n    });\n  }\n\n  /**\n   * Get current theme\n   */\n  getCurrentTheme() {\n    return this.currentTheme;\n  }\n\n  /**\n   * Get effective theme (resolves system theme)\n   */\n  getEffectiveTheme() {\n    return this.resolveSystemTheme(this.currentTheme);\n  }\n\n  // ========================================================================\n  // THEME VARIANT METHODS (Modern Only)\n  // ========================================================================\n\n  /**\n   * Set the theme variant (modern only)\n   * @param {string} variant - 'modern'\n   * @param {boolean} save - Whether to save to localStorage and server\n   */\n  setVariant(variant, save = true) {\n    if (!this.variants.includes(variant)) {\n      console.warn(`Invalid variant: ${variant}. Using modern instead.`);\n      variant = 'modern';\n    }\n\n    console.log('Setting variant to:', variant);\n    this.currentVariant = variant;\n\n    // Apply variant to document\n    document.documentElement.setAttribute('data-theme-variant', variant);\n\n    // Update variant class (modern only)\n    document.documentElement.classList.remove('theme-modern');\n    document.documentElement.classList.add(`theme-${variant}`);\n\n    if (save) {\n      // Save to localStorage\n      localStorage.setItem('theme-variant', variant);\n\n      // Save to server\n      this.saveVariantToServer(variant);\n    }\n\n    // Dispatch custom event for other components\n    document.dispatchEvent(new CustomEvent('variantChanged', {\n      detail: { variant: variant }\n    }));\n\n    // If switching to modern, we need to reload to load the CSS files\n    // (since they're conditionally loaded server-side)\n    if (save) {\n      // Show a brief notification then reload\n      this.notifyAndReload(variant);\n    }\n\n    console.log('Variant applied successfully');\n  }\n\n  /**\n   * Show notification and reload page to apply variant CSS\n   */\n  notifyAndReload(variant) {\n    // Use SweetAlert2 if available, otherwise just reload\n    if (typeof Swal !== 'undefined') {\n      Swal.fire({\n        title: 'Applying Theme',\n        text: `Switching to ${variant} theme...`,\n        icon: 'info',\n        timer: 1500,\n        timerProgressBar: true,\n        showConfirmButton: false,\n        allowOutsideClick: false\n      }).then(() => {\n        window.location.reload();\n      });\n    } else {\n      window.location.reload();\n    }\n  }\n\n  /**\n   * Save variant preference to server\n   */\n  saveVariantToServer(variant) {\n    const csrfToken = document.querySelector('meta[name=\"csrf-token\"]');\n    if (!csrfToken) {\n      console.warn('CSRF token not found, variant not saved to server');\n      return;\n    }\n\n    fetch('/set-theme-variant', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n        'X-Csrftoken': csrfToken.getAttribute('content')\n      },\n      body: JSON.stringify({ variant: variant })\n    }).then(response => {\n      if (!response.ok) {\n        throw new Error(`HTTP error! status: ${response.status}`);\n      }\n      return response.json();\n    }).then(data => {\n      if (!data.success) {\n        console.error('Variant save failed:', data.message);\n      }\n    }).catch(error => {\n      console.error('Failed to save variant to server:', error);\n    });\n  }\n\n  /**\n   * Get current variant\n   */\n  getCurrentVariant() {\n    return this.currentVariant;\n  }\n\n  /**\n   * Check if modern theme is active\n   */\n  isModern() {\n    return this.currentVariant === 'modern';\n  }\n\n  /**\n   * Toggle between modern variants (currently only 'modern' is available)\n   */\n  toggleVariant() {\n    // Only modern variant is available\n    this.setVariant('modern');\n  }\n}\n\n// Initialize theme switcher when DOM is ready\ndocument.addEventListener('DOMContentLoaded', () => {\n  // Create global instance\n  window.themeSwitcher = new SimpleThemeSwitcher();\n\n  // Check if theme sync is needed (set by early script)\n  if (window._themeNeedsSync) {\n    // Theme was already applied at top of page, just sync to server\n    window.themeSwitcher.currentTheme = window._themeNeedsSync.theme;\n    window.themeSwitcher.saveThemeToServer(window._themeNeedsSync.theme);\n    window.themeSwitcher.updateThemeIcon(window._themeNeedsSync.theme);\n    window.themeSwitcher.updateActiveMenuItem(window._themeNeedsSync.theme);\n    delete window._themeNeedsSync; // Clean up\n  }\n\n  // Check if variant sync is needed (set by early script)\n  if (window._variantNeedsSync) {\n    window.themeSwitcher.currentVariant = window._variantNeedsSync.variant;\n    window.themeSwitcher.saveVariantToServer(window._variantNeedsSync.variant);\n    delete window._variantNeedsSync; // Clean up\n  }\n\n  // Get current theme (already set by early script)\n  const currentTheme = document.documentElement.getAttribute('data-style') || 'light';\n  const currentVariant = document.documentElement.getAttribute('data-theme-variant') || 'modern';\n\n  // Just update the UI to match what's already applied\n  window.themeSwitcher.currentTheme = currentTheme;\n  window.themeSwitcher.currentVariant = currentVariant;\n  window.themeSwitcher.updateThemeIcon(currentTheme);\n  window.themeSwitcher.updateActiveMenuItem(currentTheme);\n\n  // No need to call setTheme() - theme is already applied correctly\n});\n\n// Expose for debugging\nwindow.SimpleThemeSwitcher = SimpleThemeSwitcher;\n","/**\n * ============================================================================\n * ADMIN NAVIGATION CONTROLLER\n * ============================================================================\n *\n * Modern, production-ready navigation controller following architectural standards:\n * - Event delegation (single listener on container)\n * - Data-* attribute hooks (no binding to styling classes)\n * - State-driven via CSS classes (is-open, is-active)\n * - No inline styles or event handlers\n * - Accessible keyboard navigation\n * - Mobile-friendly touch interactions\n *\n * Dependencies: None (vanilla JS)\n *\n * ============================================================================\n */\n\n(function() {\n  'use strict';\n\n  /**\n   * Admin Navigation Controller\n   * Handles all navigation interactions via event delegation\n   */\n  class AdminNavigationController {\n    constructor(element) {\n      this.nav = element;\n      this.activeDropdown = null;\n      this.init();\n    }\n\n    /**\n     * Initialize the controller\n     */\n    init() {\n      // Keyboard navigation\n      this.nav.addEventListener('keydown', this.handleKeyboard.bind(this));\n\n      // Close dropdowns when clicking outside\n      document.addEventListener('click', this.handleOutsideClick.bind(this));\n\n      // Close dropdowns on escape key\n      document.addEventListener('keydown', this.handleEscapeKey.bind(this));\n\n      // Register actions with EventDelegation\n      this.registerActions();\n    }\n\n    /**\n     * Register actions with EventDelegation\n     */\n    registerActions() {\n      if (typeof EventDelegation !== 'undefined') {\n        EventDelegation.register('toggle-dropdown', this.handleToggleDropdown.bind(this), { preventDefault: true });\n        EventDelegation.register('navigate', this.handleNavigation.bind(this), { preventDefault: false });\n        EventDelegation.register('close-dropdown', this.handleCloseDropdown.bind(this), { preventDefault: true });\n      }\n    }\n\n    /**\n     * Handle toggle dropdown action\n     * @param {Element} element - The element that was clicked (from EventDelegation)\n     * @param {Event} e - The click event\n     */\n    handleToggleDropdown(element, e) {\n      this.toggleDropdown(element);\n    }\n\n    /**\n     * Handle close dropdown action\n     * @param {Element} element - The element that was clicked (from EventDelegation)\n     * @param {Event} e - The click event\n     */\n    handleCloseDropdown(element, e) {\n      this.closeDropdown(element);\n    }\n\n    /**\n     * Handle keyboard navigation\n     * @param {KeyboardEvent} e - Keyboard event\n     */\n    handleKeyboard(e) {\n      const target = e.target;\n\n      // Enter or Space on dropdown toggle\n      if ((e.key === 'Enter' || e.key === ' ') &&\n          target.dataset.action === 'toggle-dropdown') {\n        e.preventDefault();\n        this.toggleDropdown(target);\n      }\n\n      // Arrow keys in dropdown\n      if (this.activeDropdown && (e.key === 'ArrowDown' || e.key === 'ArrowUp')) {\n        e.preventDefault();\n        this.navigateDropdown(e.key);\n      }\n    }\n\n    /**\n     * Handle escape key to close dropdowns\n     * @param {KeyboardEvent} e - Keyboard event\n     */\n    handleEscapeKey(e) {\n      if (e.key === 'Escape' && this.activeDropdown) {\n        this.closeAllDropdowns();\n        // Return focus to the toggle button\n        const toggle = this.activeDropdown.previousElementSibling;\n        if (toggle) toggle.focus();\n      }\n    }\n\n    /**\n     * Handle clicks outside nav to close dropdowns\n     * @param {Event} e - Click event\n     */\n    handleOutsideClick(e) {\n      if (!this.nav.contains(e.target) && this.activeDropdown) {\n        this.closeAllDropdowns();\n      }\n    }\n\n    /**\n     * Toggle dropdown menu\n     * @param {HTMLElement} toggle - The dropdown toggle button\n     */\n    toggleDropdown(toggle) {\n      const dropdownItem = toggle.closest('[data-dropdown]');\n      if (!dropdownItem) return;\n\n      const dropdown = dropdownItem.querySelector('.c-admin-nav__dropdown');\n      if (!dropdown) return;\n\n      const isOpen = dropdownItem.classList.contains('is-open');\n\n      // Close all other dropdowns first\n      this.closeAllDropdowns();\n\n      if (!isOpen) {\n        // Open this dropdown\n        dropdownItem.classList.add('is-open');\n        toggle.classList.add('is-open');\n        toggle.setAttribute('aria-expanded', 'true');\n        dropdown.setAttribute('aria-hidden', 'false');\n\n        this.activeDropdown = dropdown;\n\n        // Focus first dropdown item for keyboard navigation\n        const firstItem = dropdown.querySelector('.c-admin-nav__dropdown-item');\n        if (firstItem) firstItem.focus();\n      } else {\n        // Close this dropdown\n        this.closeDropdown(dropdownItem);\n      }\n    }\n\n    /**\n     * Close specific dropdown\n     * @param {HTMLElement} element - Dropdown item or toggle\n     */\n    closeDropdown(element) {\n      const dropdownItem = element.closest('[data-dropdown]');\n      if (!dropdownItem) return;\n\n      const toggle = dropdownItem.querySelector('[data-action=\"toggle-dropdown\"]');\n      const dropdown = dropdownItem.querySelector('.c-admin-nav__dropdown');\n\n      dropdownItem.classList.remove('is-open');\n      if (toggle) {\n        toggle.classList.remove('is-open');\n        toggle.setAttribute('aria-expanded', 'false');\n      }\n      if (dropdown) {\n        dropdown.setAttribute('aria-hidden', 'true');\n      }\n\n      if (this.activeDropdown === dropdown) {\n        this.activeDropdown = null;\n      }\n    }\n\n    /**\n     * Close all dropdowns\n     */\n    closeAllDropdowns() {\n      const openDropdowns = this.nav.querySelectorAll('[data-dropdown].is-open');\n      openDropdowns.forEach(item => this.closeDropdown(item));\n    }\n\n    /**\n     * Navigate within dropdown using arrow keys\n     * @param {string} direction - 'ArrowUp' or 'ArrowDown'\n     */\n    navigateDropdown(direction) {\n      if (!this.activeDropdown) return;\n\n      const items = Array.from(\n        this.activeDropdown.querySelectorAll('.c-admin-nav__dropdown-item:not(.is-disabled)')\n      );\n\n      const currentIndex = items.indexOf(document.activeElement);\n\n      let nextIndex;\n      if (direction === 'ArrowDown') {\n        nextIndex = currentIndex < items.length - 1 ? currentIndex + 1 : 0;\n      } else {\n        nextIndex = currentIndex > 0 ? currentIndex - 1 : items.length - 1;\n      }\n\n      items[nextIndex].focus();\n    }\n\n    /**\n     * Handle navigation (could add analytics here)\n     * @param {Event} e - Click event\n     * @param {HTMLElement} link - The clicked link\n     */\n    handleNavigation(element, e) {\n      // EventDelegation passes (element, event) - element is the clicked link\n      if (!element || !element.classList) return;\n\n      // Remove active state from all links\n      const allLinks = this.nav.querySelectorAll('.c-admin-nav__link');\n      allLinks.forEach(l => l.classList.remove('is-active'));\n\n      // Add active state to clicked link\n      element.classList.add('is-active');\n    }\n\n    /**\n     * Destroy the controller\n     */\n    destroy() {\n      this.nav.removeEventListener('keydown', this.handleKeyboard);\n      document.removeEventListener('click', this.handleOutsideClick);\n      document.removeEventListener('keydown', this.handleEscapeKey);\n    }\n  }\n\n  /**\n   * Auto-initialize all admin navigation components\n   */\n  function initAdminNavigation() {\n    // Page guard: only run on admin pages\n    const isAdminPage = document.querySelector('[data-controller=\"admin-nav\"]') ||\n                        document.querySelector('.c-admin-nav') ||\n                        window.location.pathname.includes('/admin');\n\n    if (!isAdminPage) {\n      return;\n    }\n\n    const navElements = document.querySelectorAll('[data-controller=\"admin-nav\"]');\n\n    if (navElements.length === 0) {\n      // Try fallback to class selector\n      const altNav = document.querySelector('.c-admin-nav');\n      if (altNav && !altNav.hasAttribute('data-controller')) {\n        altNav.setAttribute('data-controller', 'admin-nav');\n        altNav.adminNavController = new AdminNavigationController(altNav);\n      }\n      return;\n    }\n\n    navElements.forEach(nav => {\n      // Avoid double initialization\n      if (nav.adminNavController) return;\n\n      // Create and attach controller\n      nav.adminNavController = new AdminNavigationController(nav);\n    });\n  }\n\n  /**\n   * Initialize on DOM ready\n   */\n  if (document.readyState === 'loading') {\n    document.addEventListener('DOMContentLoaded', initAdminNavigation);\n  } else {\n    initAdminNavigation();\n  }\n\n  /**\n   * Re-initialize on dynamic content updates (HTMX, Turbo, etc.)\n   * Uncomment if using HTMX or Turbo:\n   */\n  // document.body.addEventListener('htmx:afterSwap', initAdminNavigation);\n  // document.addEventListener('turbo:load', initAdminNavigation);\n\n  /**\n   * Export for manual initialization if needed\n   */\n  window.AdminNavigationController = AdminNavigationController;\n  window.initAdminNavigation = initAdminNavigation;\n\n})();\n\n/**\n * ============================================================================\n * USAGE NOTES\n * ============================================================================\n *\n * AUTOMATIC INITIALIZATION:\n * - Runs automatically on DOMContentLoaded\n * - Finds all elements with data-controller=\"admin-nav\"\n * - Creates controller instance for each\n *\n * MANUAL INITIALIZATION:\n * window.initAdminNavigation(); // Re-init all\n *\n * const nav = document.querySelector('.c-admin-nav');\n * nav.adminNavController = new AdminNavigationController(nav);\n *\n * DESTROY:\n * nav.adminNavController.destroy();\n * nav.adminNavController = null;\n *\n * REQUIRED HTML STRUCTURE:\n * <nav class=\"c-admin-nav\" data-controller=\"admin-nav\">\n *   <ul class=\"c-admin-nav__list\">\n *     <li class=\"c-admin-nav__item\" data-dropdown>\n *       <button class=\"c-admin-nav__link c-admin-nav__dropdown-toggle\"\n *               data-action=\"toggle-dropdown\">\n *         Menu\n *       </button>\n *       <ul class=\"c-admin-nav__dropdown\">...</ul>\n *     </li>\n *   </ul>\n * </nav>\n *\n * DATA ATTRIBUTES:\n * - data-controller=\"admin-nav\" - Marks nav container (required)\n * - data-action=\"toggle-dropdown\" - Toggle dropdown\n * - data-action=\"navigate\" - Track navigation\n * - data-dropdown - Marks dropdown parent\n *\n * STATE CLASSES (CSS DRIVEN):\n * - is-open - Dropdown is open\n * - is-active - Nav item is active\n * - is-disabled - Nav item is disabled\n *\n * EVENTS:\n * Controller handles all events via delegation\n * No inline onclick or event handlers needed\n *\n * ============================================================================\n */\n","/**\n * ECS Theme Colors Utility\n * Provides easy access to CSS theme variables from JavaScript\n *\n * Usage:\n *   const primary = ECSTheme.getColor('primary');\n *   const success = ECSTheme.getColor('success');\n *   const colors = ECSTheme.getAllColors();\n */\n\nconst ECSTheme = (function() {\n  'use strict';\n\n  // Cache for computed colors\n  let colorCache = {};\n  let cacheValid = false;\n\n  // Color variable mappings\n  const colorMap = {\n    // Brand colors\n    primary: '--ecs-primary',\n    'primary-light': '--ecs-primary-light',\n    'primary-dark': '--ecs-primary-dark',\n    'primary-subtle': '--ecs-primary-subtle',\n    secondary: '--ecs-secondary',\n    'secondary-light': '--ecs-secondary-light',\n    'secondary-dark': '--ecs-secondary-dark',\n    accent: '--ecs-accent',\n    'accent-light': '--ecs-accent-light',\n    'accent-dark': '--ecs-accent-dark',\n\n    // Semantic colors\n    success: '--ecs-success',\n    'success-light': '--ecs-success-light',\n    'success-dark': '--ecs-success-dark',\n    'success-subtle': '--ecs-success-subtle',\n    warning: '--ecs-warning',\n    'warning-light': '--ecs-warning-light',\n    'warning-dark': '--ecs-warning-dark',\n    'warning-subtle': '--ecs-warning-subtle',\n    danger: '--ecs-danger',\n    'danger-light': '--ecs-danger-light',\n    'danger-dark': '--ecs-danger-dark',\n    'danger-subtle': '--ecs-danger-subtle',\n    info: '--ecs-info',\n    'info-light': '--ecs-info-light',\n    'info-dark': '--ecs-info-dark',\n    'info-subtle': '--ecs-info-subtle',\n\n    // Neutrals\n    white: '--ecs-neutral-0',\n    light: '--ecs-neutral-5',\n    'light-gray': '--ecs-neutral-10',\n    border: '--ecs-neutral-20',\n    muted: '--ecs-neutral-50',\n    dark: '--ecs-neutral-90',\n\n    // Backgrounds\n    'bg-body': '--ecs-bg-body',\n    'bg-card': '--ecs-bg-card',\n\n    // Dark mode specific\n    'dark-bg-body': '--ecs-dark-bg-body',\n    'dark-bg-card': '--ecs-dark-bg-card',\n    'dark-bg-elevated': '--ecs-dark-bg-elevated',\n  };\n\n  // Fallback values\n  const fallbacks = {\n    primary: '#7C3AED',\n    'primary-light': '#8B5CF6',\n    'primary-dark': '#6D28D9',\n    'primary-subtle': '#EDE9FE',\n    secondary: '#64748B',\n    accent: '#F59E0B',\n    success: '#10B981',\n    'success-light': '#34D399',\n    'success-subtle': '#D1FAE5',\n    warning: '#F59E0B',\n    'warning-light': '#FBBF24',\n    danger: '#EF4444',\n    'danger-light': '#F87171',\n    info: '#3B82F6',\n    'info-light': '#60A5FA',\n    white: '#FFFFFF',\n    light: '#FAFAFA',\n    border: '#E4E4E7',\n    muted: '#71717A',\n    dark: '#18181B',\n    'bg-body': '#FAFAFA',\n    'bg-card': '#FFFFFF',\n    'dark-bg-body': '#09090B',\n    'dark-bg-card': '#18181B',\n    'dark-bg-elevated': '#27272A',\n  };\n\n  /**\n   * Get a CSS variable value\n   * @param {string} varName - CSS variable name (with or without --)\n   * @param {string} fallback - Fallback value if variable not found\n   * @returns {string} The color value\n   */\n  function getCSSVar(varName, fallback) {\n    const name = varName.startsWith('--') ? varName : `--${varName}`;\n    const value = getComputedStyle(document.documentElement).getPropertyValue(name).trim();\n    return value || fallback || '';\n  }\n\n  /**\n   * Get a theme color by name\n   * @param {string} name - Color name (e.g., 'primary', 'success', 'danger')\n   * @returns {string} The color value\n   */\n  function getColor(name) {\n    if (cacheValid && colorCache[name]) {\n      return colorCache[name];\n    }\n\n    const varName = colorMap[name];\n    if (varName) {\n      const value = getCSSVar(varName, fallbacks[name]);\n      colorCache[name] = value;\n      return value;\n    }\n\n    // If not in map, try direct CSS variable\n    return getCSSVar(`--ecs-${name}`, fallbacks[name] || '');\n  }\n\n  /**\n   * Get all theme colors as an object\n   * @returns {object} Object with all color values\n   */\n  function getAllColors() {\n    const colors = {};\n    Object.keys(colorMap).forEach(name => {\n      colors[name] = getColor(name);\n    });\n    cacheValid = true;\n    return colors;\n  }\n\n  /**\n   * Get colors formatted for chart libraries (ApexCharts, Chart.js, etc.)\n   * @returns {object} Color palette for charts\n   */\n  function getChartColors() {\n    return {\n      primary: getColor('primary'),\n      success: getColor('success'),\n      warning: getColor('warning'),\n      danger: getColor('danger'),\n      info: getColor('info'),\n      secondary: getColor('secondary'),\n      // Array format for series\n      palette: [\n        getColor('primary'),\n        getColor('success'),\n        getColor('info'),\n        getColor('warning'),\n        getColor('danger'),\n        getColor('secondary'),\n        getColor('accent'),\n      ]\n    };\n  }\n\n  /**\n   * Get colors for SweetAlert2\n   * @returns {object} SweetAlert2 color config\n   */\n  function getSwalColors() {\n    return {\n      confirmButtonColor: getColor('primary'),\n      cancelButtonColor: getColor('secondary'),\n      denyButtonColor: getColor('danger'),\n    };\n  }\n\n  /**\n   * Invalidate the color cache (call after theme change)\n   */\n  function invalidateCache() {\n    colorCache = {};\n    cacheValid = false;\n  }\n\n  // Listen for theme changes to invalidate cache\n  const observer = new MutationObserver((mutations) => {\n    mutations.forEach((mutation) => {\n      if (mutation.attributeName === 'data-style' ||\n          mutation.attributeName === 'data-theme-variant') {\n        invalidateCache();\n      }\n    });\n  });\n\n  // Start observing when DOM is ready\n  if (document.readyState === 'loading') {\n    document.addEventListener('DOMContentLoaded', () => {\n      observer.observe(document.documentElement, { attributes: true });\n    });\n  } else {\n    observer.observe(document.documentElement, { attributes: true });\n  }\n\n  // Public API\n  return {\n    getColor,\n    getAllColors,\n    getChartColors,\n    getSwalColors,\n    getCSSVar,\n    invalidateCache,\n  };\n})();\n\n// Make available globally\nwindow.ECSTheme = ECSTheme;\n","/**\n * ==========================================================================\n * SOCKET MANAGER - Unified WebSocket Connection Management\n * ==========================================================================\n *\n * Centralizes Socket.IO connection management across the application.\n * Ensures a single socket instance is shared by all components (navbar,\n * chat widget, draft system, etc.) with proper reconnection handling.\n *\n * Features:\n * - Single shared socket instance\n * - Automatic reconnection with exponential backoff\n * - Late-binding: components can register after socket connects\n * - Event namespacing to prevent listener conflicts\n * - Connection state tracking and callbacks\n *\n * Usage:\n *   // Get the socket (creates if needed)\n *   const socket = SocketManager.getSocket();\n *\n *   // Register for connection events (called immediately if already connected)\n *   SocketManager.onConnect('myComponent', () => {\n *     socket.emit('join_room', { room: 'myroom' });\n *   });\n *\n *   // Register for specific events\n *   SocketManager.on('myComponent', 'new_message', (data) => {\n *     console.log('Got message:', data);\n *   });\n *\n *   // Cleanup when component unmounts\n *   SocketManager.removeListeners('myComponent');\n *\n * ==========================================================================\n */\n\n(function() {\n  'use strict';\n\n  // ============================================================================\n  // CONFIGURATION\n  // ============================================================================\n\n  const CONFIG = {\n    // Socket.IO connection options\n    connection: {\n      // Start with polling to establish sticky session, then upgrade to websocket\n      // This is critical for multi-worker setups with sticky sessions\n      transports: ['polling', 'websocket'],\n      upgrade: true,\n      reconnection: true,\n      reconnectionAttempts: 10,\n      reconnectionDelay: 1000,\n      reconnectionDelayMax: 10000,\n      randomizationFactor: 0.5,\n      timeout: 20000,\n      autoConnect: true,\n      withCredentials: true\n    },\n    // Optimistic UI - delay showing \"offline\" to handle page navigation gracefully\n    optimisticDisconnectDelay: 3000, // 3 seconds\n    // Debug mode\n    debug: false\n  };\n\n  // ============================================================================\n  // STATE\n  // ============================================================================\n\n  let socket = null;\n  let isConnected = false;\n  let connectionAttempts = 0;\n  let disconnectTimeout = null; // For optimistic UI delay\n\n  // Optimistic UI state key\n  const OPTIMISTIC_KEY = 'socket_last_connected';\n\n  // Registered callbacks by component name\n  const connectCallbacks = new Map();  // component -> callback\n  const disconnectCallbacks = new Map();  // component -> callback\n  const eventListeners = new Map();  // component -> Map(event -> callback)\n\n  // ============================================================================\n  // LOGGING\n  // ============================================================================\n\n  function log(...args) {\n    if (CONFIG.debug) {\n      console.log('[SocketManager]', ...args);\n    }\n  }\n\n  function warn(...args) {\n    console.warn('[SocketManager]', ...args);\n  }\n\n  function error(...args) {\n    console.error('[SocketManager]', ...args);\n  }\n\n  // ============================================================================\n  // SOCKET INITIALIZATION\n  // ============================================================================\n\n  /**\n   * Get or create the socket instance\n   * @returns {Socket|null} The socket instance or null if Socket.IO not available\n   */\n  function getSocket() {\n    // Return existing socket if available\n    if (socket) {\n      return socket;\n    }\n\n    // Check if Socket.IO is available\n    if (typeof io === 'undefined') {\n      warn('Socket.IO library not loaded');\n      return null;\n    }\n\n    // Check if there's already a global socket (created by another script)\n    if (window.socket && window.socket.io) {\n      log('Reusing existing global socket');\n      socket = window.socket;\n      isConnected = socket.connected;\n      attachInternalListeners();\n\n      // If already connected, fire callbacks\n      if (isConnected) {\n        fireConnectCallbacks();\n      }\n\n      return socket;\n    }\n\n    // Create new socket connection\n    log('Creating new socket connection');\n    try {\n      socket = io('/', CONFIG.connection);\n\n      // Store globally for other components\n      window.socket = socket;\n\n      attachInternalListeners();\n\n      return socket;\n    } catch (err) {\n      error('Failed to create socket:', err);\n      return null;\n    }\n  }\n\n  /**\n   * Attach internal event listeners for connection management\n   */\n  function attachInternalListeners() {\n    if (!socket) return;\n\n    // Remove existing listeners to prevent duplicates on reconnect\n    socket.off('connect', handleConnect);\n    socket.off('disconnect', handleDisconnect);\n    socket.off('connect_error', handleConnectError);\n\n    // Attach listeners\n    socket.on('connect', handleConnect);\n    socket.on('disconnect', handleDisconnect);\n    socket.on('connect_error', handleConnectError);\n\n    log('Internal listeners attached');\n  }\n\n  /**\n   * Handle successful connection\n   */\n  function handleConnect() {\n    log('Socket connected, id:', socket.id);\n    isConnected = true;\n    connectionAttempts = 0;\n\n    // Save connection timestamp for optimistic UI across page loads\n    try {\n      sessionStorage.setItem(OPTIMISTIC_KEY, Date.now().toString());\n    } catch (e) {\n      // sessionStorage might be unavailable in private mode\n    }\n\n    // Clear any pending disconnect timeout (optimistic UI)\n    if (disconnectTimeout) {\n      clearTimeout(disconnectTimeout);\n      disconnectTimeout = null;\n      log('Cleared disconnect timeout - reconnected quickly');\n    }\n\n    // Fire all registered connect callbacks\n    fireConnectCallbacks();\n  }\n\n  /**\n   * Check if we were recently connected (for optimistic UI across page loads)\n   * Returns true if connected within the optimistic delay period\n   */\n  function wasRecentlyConnected() {\n    try {\n      const lastConnected = sessionStorage.getItem(OPTIMISTIC_KEY);\n      if (!lastConnected) return false;\n\n      const elapsed = Date.now() - parseInt(lastConnected, 10);\n      return elapsed < CONFIG.optimisticDisconnectDelay;\n    } catch (e) {\n      return false;\n    }\n  }\n\n  /**\n   * Handle disconnection\n   * Uses optimistic UI - delays firing disconnect callbacks to handle page navigation gracefully\n   */\n  function handleDisconnect(reason) {\n    log('Socket disconnected, reason:', reason);\n\n    // Clear any existing timeout\n    if (disconnectTimeout) {\n      clearTimeout(disconnectTimeout);\n    }\n\n    // Optimistic UI: delay showing \"disconnected\" state\n    // This handles page navigation where socket reconnects quickly on new page\n    // If it's a real disconnect, callbacks fire after the delay\n    disconnectTimeout = setTimeout(() => {\n      log('Disconnect timeout elapsed, firing disconnect callbacks');\n      isConnected = false;\n      disconnectTimeout = null;\n      fireDisconnectCallbacks(reason);\n    }, CONFIG.optimisticDisconnectDelay);\n\n    log(`Disconnect delayed by ${CONFIG.optimisticDisconnectDelay}ms (optimistic UI)`);\n  }\n\n  /**\n   * Handle connection error\n   */\n  function handleConnectError(err) {\n    connectionAttempts++;\n    warn(`Connection error (attempt ${connectionAttempts}):`, err.message);\n\n    // If too many failures, warn user\n    if (connectionAttempts >= 5) {\n      warn('Multiple connection failures. Real-time features may be unavailable.');\n    }\n  }\n\n  /**\n   * Fire all registered connect callbacks\n   */\n  function fireConnectCallbacks() {\n    connectCallbacks.forEach((callback, component) => {\n      try {\n        log(`Firing connect callback for: ${component}`);\n        callback(socket);\n      } catch (err) {\n        error(`Connect callback error for ${component}:`, err);\n      }\n    });\n  }\n\n  /**\n   * Fire all registered disconnect callbacks\n   */\n  function fireDisconnectCallbacks(reason) {\n    disconnectCallbacks.forEach((callback, component) => {\n      try {\n        callback(reason);\n      } catch (err) {\n        error(`Disconnect callback error for ${component}:`, err);\n      }\n    });\n  }\n\n  // ============================================================================\n  // PUBLIC API\n  // ============================================================================\n\n  const SocketManager = {\n    /**\n     * Get the socket instance (creates if needed)\n     * @returns {Socket|null}\n     */\n    getSocket: getSocket,\n\n    /**\n     * Check if socket is currently connected\n     * @returns {boolean}\n     */\n    isConnected: function() {\n      return isConnected && socket && socket.connected;\n    },\n\n    /**\n     * Check if socket is connected OR was recently connected (optimistic UI)\n     * Use this for UI status indicators to avoid flicker during page navigation\n     * @returns {boolean}\n     */\n    isOptimisticallyConnected: function() {\n      // Actually connected\n      if (isConnected && socket && socket.connected) {\n        return true;\n      }\n      // Recently connected (within last 3 seconds)\n      return wasRecentlyConnected();\n    },\n\n    /**\n     * Register a callback to be called when socket connects\n     * If already connected, callback fires immediately\n     *\n     * @param {string} componentName - Unique name for the component\n     * @param {Function} callback - Function to call on connect, receives socket\n     */\n    onConnect: function(componentName, callback) {\n      if (typeof callback !== 'function') {\n        warn('onConnect requires a function callback');\n        return;\n      }\n\n      connectCallbacks.set(componentName, callback);\n      log(`Registered connect callback: ${componentName}`);\n\n      // If already connected, fire immediately\n      if (isConnected && socket) {\n        log(`Already connected, firing callback for: ${componentName}`);\n        try {\n          callback(socket);\n        } catch (err) {\n          error(`Connect callback error for ${componentName}:`, err);\n        }\n      }\n    },\n\n    /**\n     * Register a callback to be called when socket disconnects\n     *\n     * @param {string} componentName - Unique name for the component\n     * @param {Function} callback - Function to call on disconnect, receives reason\n     */\n    onDisconnect: function(componentName, callback) {\n      if (typeof callback !== 'function') {\n        warn('onDisconnect requires a function callback');\n        return;\n      }\n\n      disconnectCallbacks.set(componentName, callback);\n    },\n\n    /**\n     * Register an event listener with component namespacing\n     * This ensures we can clean up all listeners for a component at once\n     *\n     * @param {string} componentName - Unique name for the component\n     * @param {string} eventName - Socket event name\n     * @param {Function} callback - Event handler\n     */\n    on: function(componentName, eventName, callback) {\n      if (!socket) {\n        getSocket(); // Ensure socket exists\n      }\n\n      if (!socket) {\n        warn(`Cannot register event ${eventName}: no socket`);\n        return;\n      }\n\n      // Store the listener reference for later cleanup\n      if (!eventListeners.has(componentName)) {\n        eventListeners.set(componentName, new Map());\n      }\n\n      const componentListeners = eventListeners.get(componentName);\n\n      // If there's already a listener for this event from this component, remove it\n      if (componentListeners.has(eventName)) {\n        socket.off(eventName, componentListeners.get(eventName));\n      }\n\n      // Register the new listener\n      componentListeners.set(eventName, callback);\n      socket.on(eventName, callback);\n\n      log(`Registered event listener: ${componentName}/${eventName}`);\n    },\n\n    /**\n     * Emit an event on the socket\n     *\n     * @param {string} eventName - Event name\n     * @param {*} data - Data to send\n     */\n    emit: function(eventName, data) {\n      if (!socket || !isConnected) {\n        warn(`Cannot emit ${eventName}: socket not connected`);\n        return false;\n      }\n\n      socket.emit(eventName, data);\n      return true;\n    },\n\n    /**\n     * Remove all listeners for a component\n     * Call this when a component unmounts or reinitializes\n     *\n     * @param {string} componentName - Component name to clean up\n     */\n    removeListeners: function(componentName) {\n      // Remove connect callback\n      connectCallbacks.delete(componentName);\n\n      // Remove disconnect callback\n      disconnectCallbacks.delete(componentName);\n\n      // Remove event listeners\n      if (eventListeners.has(componentName) && socket) {\n        const componentListeners = eventListeners.get(componentName);\n        componentListeners.forEach((callback, eventName) => {\n          socket.off(eventName, callback);\n        });\n        eventListeners.delete(componentName);\n      }\n\n      log(`Removed all listeners for: ${componentName}`);\n    },\n\n    /**\n     * Manually reconnect the socket\n     */\n    reconnect: function() {\n      if (socket) {\n        socket.connect();\n      } else {\n        getSocket();\n      }\n    },\n\n    /**\n     * Disconnect the socket\n     */\n    disconnect: function() {\n      if (socket) {\n        socket.disconnect();\n      }\n    },\n\n    /**\n     * Enable debug logging\n     */\n    enableDebug: function() {\n      CONFIG.debug = true;\n    },\n\n    /**\n     * Disable debug logging\n     */\n    disableDebug: function() {\n      CONFIG.debug = false;\n    }\n  };\n\n  // ============================================================================\n  // INITIALIZATION\n  // ============================================================================\n\n  // Auto-initialize socket when DOM is ready\n  function init() {\n    // Only initialize if Socket.IO is available\n    if (typeof io !== 'undefined') {\n      getSocket();\n      log('Socket manager initialized');\n    } else {\n      log('Socket.IO not available, skipping initialization');\n    }\n  }\n\n  // Initialize when DOM is ready\n  if (document.readyState === 'loading') {\n    document.addEventListener('DOMContentLoaded', init);\n  } else {\n    init();\n  }\n\n  // Handle page visibility changes\n  document.addEventListener('visibilitychange', function() {\n    if (document.visibilityState === 'visible' && socket && !socket.connected) {\n      log('Page visible, reconnecting socket');\n      socket.connect();\n    }\n  });\n\n  // Expose to global scope\n  window.SocketManager = SocketManager;\n\n})();\n","/**\n * ============================================================================\n * ONLINE STATUS MANAGER\n * ============================================================================\n *\n * Handles real-time online status updates across the application.\n * Automatically finds and updates online status indicators.\n *\n * Usage:\n *   - Add data-online-status=\"<user_id>\" to any element to make it update\n *   - Elements should have c-online-status class with is-online/is-offline modifiers\n *\n * ============================================================================\n */\n\n(function () {\n  'use strict';\n\n  class OnlineStatusManager {\n    constructor() {\n      this.updateInterval = 30000; // 30 seconds\n      this.intervalId = null;\n      this.onlineUserIds = new Set();\n      this.initialized = false;\n    }\n\n    /**\n     * Initialize the online status manager\n     */\n    init() {\n      if (this.initialized) return;\n      this.initialized = true;\n\n      // Initial fetch\n      this.fetchOnlineUsers();\n\n      // Set up periodic updates\n      this.intervalId = setInterval(() => {\n        this.fetchOnlineUsers();\n      }, this.updateInterval);\n\n      // Listen for WebSocket presence events if available\n      this.setupWebSocketListeners();\n    }\n\n    /**\n     * Get CSRF token for API requests\n     */\n    getCSRFToken() {\n      const csrfMeta = document.querySelector('meta[name=\"csrf-token\"]');\n      if (csrfMeta) return csrfMeta.getAttribute('content');\n\n      const csrfInput = document.querySelector('input[name=\"csrf_token\"]');\n      if (csrfInput) return csrfInput.value;\n\n      return '';\n    }\n\n    /**\n     * Fetch list of online users from the API\n     */\n    async fetchOnlineUsers() {\n      try {\n        const response = await fetch('/api/notifications/presence/online-users');\n        const data = await response.json();\n\n        if (data.success && data.online_user_ids) {\n          this.onlineUserIds = new Set(data.online_user_ids.map(String));\n          this.updateAllIndicators();\n        }\n      } catch (error) {\n        console.warn('Failed to fetch online users:', error);\n      }\n    }\n\n    /**\n     * Check if a specific user is online\n     * @param {number|string} userId\n     * @returns {boolean}\n     */\n    isUserOnline(userId) {\n      return this.onlineUserIds.has(String(userId));\n    }\n\n    /**\n     * Update all online status indicators on the page\n     */\n    updateAllIndicators() {\n      const indicators = document.querySelectorAll('[data-online-status]');\n\n      indicators.forEach((indicator) => {\n        const userId = indicator.getAttribute('data-online-status');\n        if (!userId) return;\n\n        const isOnline = this.isUserOnline(userId);\n        this.updateIndicator(indicator, isOnline);\n      });\n    }\n\n    /**\n     * Update a single indicator element\n     * @param {HTMLElement} element\n     * @param {boolean} isOnline\n     */\n    updateIndicator(element, isOnline) {\n      // Update classes\n      element.classList.toggle('is-online', isOnline);\n      element.classList.toggle('is-offline', !isOnline);\n\n      // Update tooltip if present\n      const tooltip = element.getAttribute('data-bs-original-title') || element.getAttribute('title');\n      if (tooltip) {\n        element.setAttribute('title', isOnline ? 'Online' : 'Offline');\n        element.setAttribute('data-bs-original-title', isOnline ? 'Online' : 'Offline');\n      }\n\n      // Dispatch custom event for other components to react\n      element.dispatchEvent(\n        new CustomEvent('onlineStatusChanged', {\n          detail: { isOnline },\n          bubbles: true,\n        })\n      );\n    }\n\n    /**\n     * Manually mark a user as online/offline (for WebSocket updates)\n     * @param {number|string} userId\n     * @param {boolean} isOnline\n     */\n    setUserStatus(userId, isOnline) {\n      const userIdStr = String(userId);\n\n      if (isOnline) {\n        this.onlineUserIds.add(userIdStr);\n      } else {\n        this.onlineUserIds.delete(userIdStr);\n      }\n\n      // Update indicators for this specific user\n      const indicators = document.querySelectorAll(`[data-online-status=\"${userId}\"]`);\n      indicators.forEach((indicator) => {\n        this.updateIndicator(indicator, isOnline);\n      });\n    }\n\n    /**\n     * Set up WebSocket listeners for real-time presence updates\n     */\n    setupWebSocketListeners() {\n      // Check if Socket.IO is available\n      if (typeof io === 'undefined') return;\n\n      // Try to get existing socket or wait for it\n      const checkSocket = () => {\n        if (window.socket && window.socket.connected) {\n          this.attachSocketListeners(window.socket);\n        } else {\n          // Retry in 1 second\n          setTimeout(checkSocket, 1000);\n        }\n      };\n\n      checkSocket();\n    }\n\n    /**\n     * Attach presence event listeners to socket\n     * @param {Socket} socket\n     */\n    attachSocketListeners(socket) {\n      socket.on('user_online', (data) => {\n        if (data.user_id) {\n          this.setUserStatus(data.user_id, true);\n        }\n      });\n\n      socket.on('user_offline', (data) => {\n        if (data.user_id) {\n          this.setUserStatus(data.user_id, false);\n        }\n      });\n\n      socket.on('presence_update', (data) => {\n        if (data.user_id !== undefined && data.online !== undefined) {\n          this.setUserStatus(data.user_id, data.online);\n        }\n      });\n    }\n\n    /**\n     * Stop the manager and clear intervals\n     */\n    destroy() {\n      if (this.intervalId) {\n        clearInterval(this.intervalId);\n        this.intervalId = null;\n      }\n      this.initialized = false;\n    }\n\n    /**\n     * Get count of online users\n     * @returns {number}\n     */\n    getOnlineCount() {\n      return this.onlineUserIds.size;\n    }\n\n    /**\n     * Get all online user IDs\n     * @returns {Array<string>}\n     */\n    getOnlineUserIds() {\n      return Array.from(this.onlineUserIds);\n    }\n  }\n\n  // Create global instance\n  window.OnlineStatusManager = new OnlineStatusManager();\n\n  // Auto-initialize when DOM is ready\n  if (document.readyState === 'loading') {\n    document.addEventListener('DOMContentLoaded', () => {\n      window.OnlineStatusManager.init();\n    });\n  } else {\n    window.OnlineStatusManager.init();\n  }\n})();\n","/**\n * ============================================================================\n * MODERN COMPONENTS CONTROLLER - ATHLETIC PRECISION\n * ============================================================================\n *\n * Unified JavaScript controller for all modern components\n * - Event delegation architecture\n * - Data-attribute based hooks\n * - No direct element binding\n * - Modular initialization\n * - Performance optimized\n *\n * Components handled:\n * - Modals\n * - Toasts\n * - Tooltips\n * - Dropdowns\n * - Tables (sorting, pagination)\n * - Forms (validation)\n *\n * ============================================================================\n */\n\n(function() {\n  'use strict';\n\n  /**\n   * ============================================================================\n   * MODAL CONTROLLER\n   * ============================================================================\n   */\n  const ModalController = {\n    activeModals: new Set(),\n\n    init() {\n      // Helper to safely get element from event target\n      const getElement = (target) => target instanceof Element ? target : null;\n\n      // Register modal triggers via EventDelegation\n      if (typeof EventDelegation !== 'undefined') {\n        EventDelegation.register('modal-trigger', (element, e) => {\n          const modalId = element.dataset.modalTrigger;\n          if (modalId) {\n            this.open(modalId);\n          }\n        }, { preventDefault: true });\n\n        EventDelegation.register('close-modal', (element, e) => {\n          const modal = element.closest('.c-modal-modern');\n          if (modal) this.close(modal.id);\n        }, { preventDefault: true });\n      }\n\n      // Close on backdrop click\n      document.addEventListener('click', (e) => {\n        const el = getElement(e.target);\n        if (!el) return;\n        if (el.classList.contains('c-modal-modern__backdrop')) {\n          const openModal = Array.from(this.activeModals).pop();\n          if (openModal) this.close(openModal);\n        }\n      });\n\n      // Close on Escape key\n      document.addEventListener('keydown', (e) => {\n        if (e.key === 'Escape' && this.activeModals.size > 0) {\n          const topModal = Array.from(this.activeModals).pop();\n          this.close(topModal);\n        }\n      });\n    },\n\n    open(modalId) {\n      const modal = document.getElementById(modalId);\n      const backdrop = document.querySelector(`[data-modal-backdrop=\"${modalId}\"]`);\n\n      if (!modal) return;\n\n      // Add to active stack\n      this.activeModals.add(modalId);\n\n      // Show backdrop\n      if (backdrop) {\n        backdrop.classList.add('is-open');\n      }\n\n      // Show modal\n      modal.classList.add('is-open');\n      modal.setAttribute('aria-hidden', 'false');\n\n      // Focus trap\n      this.trapFocus(modal);\n\n      // Emit custom event\n      modal.dispatchEvent(new CustomEvent('modal:opened', { detail: { id: modalId } }));\n    },\n\n    close(modalId) {\n      const modal = document.getElementById(modalId);\n      const backdrop = document.querySelector(`[data-modal-backdrop=\"${modalId}\"]`);\n\n      if (!modal) return;\n\n      // Add closing state for animation\n      modal.classList.add('is-closing');\n\n      setTimeout(() => {\n        modal.classList.remove('is-open', 'is-closing');\n        modal.setAttribute('aria-hidden', 'true');\n\n        if (backdrop) {\n          backdrop.classList.remove('is-open');\n        }\n\n        // Remove from active stack\n        this.activeModals.delete(modalId);\n\n        // Emit custom event\n        modal.dispatchEvent(new CustomEvent('modal:closed', { detail: { id: modalId } }));\n      }, 300);\n    },\n\n    trapFocus(modal) {\n      const focusableElements = modal.querySelectorAll(\n        'button, [href], input, select, textarea, [tabindex]:not([tabindex=\"-1\"])'\n      );\n      const firstElement = focusableElements[0];\n      const lastElement = focusableElements[focusableElements.length - 1];\n\n      const handleTabKey = (e) => {\n        if (e.key !== 'Tab') return;\n\n        if (e.shiftKey) {\n          if (document.activeElement === firstElement) {\n            lastElement.focus();\n            e.preventDefault();\n          }\n        } else {\n          if (document.activeElement === lastElement) {\n            firstElement.focus();\n            e.preventDefault();\n          }\n        }\n      };\n\n      modal.addEventListener('keydown', handleTabKey);\n      firstElement?.focus();\n    }\n  };\n\n  /**\n   * ============================================================================\n   * TOAST CONTROLLER\n   * ============================================================================\n   */\n  const ToastController = {\n    container: null,\n    toasts: new Map(),\n    idCounter: 0,\n\n    init() {\n      // Create toast container if doesn't exist\n      if (!this.container) {\n        this.container = document.createElement('div');\n        this.container.className = 'c-toast-modern__container';\n        document.body.appendChild(this.container);\n      }\n\n      // Register dismiss action via EventDelegation\n      if (typeof EventDelegation !== 'undefined') {\n        EventDelegation.register('dismiss-toast', (element, e) => {\n          const toastId = element.dataset.toastId;\n          if (toastId) {\n            this.dismiss(toastId);\n          }\n        });\n      }\n    },\n\n    show(options = {}) {\n      const {\n        type = 'info',\n        title,\n        message,\n        duration = 5000,\n        dismissible = true,\n        actions = []\n      } = options;\n\n      const toastId = `toast-${++this.idCounter}`;\n\n      const toast = document.createElement('div');\n      toast.className = `c-toast-modern c-toast-modern--${type}`;\n      toast.id = toastId;\n      toast.setAttribute('role', 'alert');\n      toast.setAttribute('aria-live', 'polite');\n\n      // Icon mapping\n      const icons = {\n        success: '',\n        error: '',\n        warning: '',\n        info: ''\n      };\n\n      toast.innerHTML = `\n        <div class=\"c-toast-modern__icon\">${icons[type] || icons.info}</div>\n        <div class=\"c-toast-modern__content\">\n          ${title ? `<h4 class=\"c-toast-modern__title\">${title}</h4>` : ''}\n          ${message ? `<p class=\"c-toast-modern__message\">${message}</p>` : ''}\n          ${actions.length > 0 ? `\n            <div class=\"c-toast-modern__actions\">\n              ${actions.map(action => `\n                <button class=\"c-toast-modern__action\" data-action=\"toast-action\" data-callback=\"${action.callback}\">\n                  ${action.label}\n                </button>\n              `).join('')}\n            </div>\n          ` : ''}\n        </div>\n        ${dismissible ? `\n          <button class=\"c-toast-modern__dismiss\" data-action=\"dismiss-toast\" data-toast-id=\"${toastId}\" aria-label=\"Close\"></button>\n        ` : ''}\n        ${duration > 0 ? `\n          <div class=\"c-toast-modern__progress\">\n            <div class=\"c-toast-modern__progress-bar\" data-duration=\"${duration}\"></div>\n          </div>\n        ` : ''}\n      `;\n\n      this.container.appendChild(toast);\n\n      // Trigger animation\n      requestAnimationFrame(() => {\n        toast.classList.add('is-visible');\n      });\n\n      // Auto-dismiss\n      if (duration > 0) {\n        setTimeout(() => {\n          this.dismiss(toastId);\n        }, duration);\n      }\n\n      this.toasts.set(toastId, toast);\n      return toastId;\n    },\n\n    dismiss(toastId) {\n      const toast = this.toasts.get(toastId);\n      if (!toast) return;\n\n      toast.classList.add('is-dismissing');\n      toast.classList.remove('is-visible');\n\n      setTimeout(() => {\n        toast.remove();\n        this.toasts.delete(toastId);\n      }, 300);\n    }\n  };\n\n  /**\n   * ============================================================================\n   * TOOLTIP CONTROLLER\n   * ============================================================================\n   */\n  const TooltipController = {\n    activeTooltip: null,\n    tooltips: new Map(),\n\n    init() {\n      // Helper to safely get element from event target\n      const getElement = (target) => target instanceof Element ? target : null;\n\n      // Find all elements with data-tooltip\n      document.addEventListener('mouseenter', (e) => {\n        const el = getElement(e.target);\n        if (!el) return;\n        const trigger = el.closest('[data-tooltip]');\n        if (trigger) {\n          this.show(trigger);\n        }\n      }, true);\n\n      document.addEventListener('mouseleave', (e) => {\n        const el = getElement(e.target);\n        if (!el) return;\n        const trigger = el.closest('[data-tooltip]');\n        if (trigger) {\n          this.hide();\n        }\n      }, true);\n\n      // Keyboard support\n      document.addEventListener('focus', (e) => {\n        const el = getElement(e.target);\n        if (!el) return;\n        const trigger = el.closest('[data-tooltip]');\n        if (trigger) {\n          this.show(trigger);\n        }\n      }, true);\n\n      document.addEventListener('blur', (e) => {\n        const el = getElement(e.target);\n        if (!el) return;\n        const trigger = el.closest('[data-tooltip]');\n        if (trigger) {\n          this.hide();\n        }\n      }, true);\n    },\n\n    show(trigger) {\n      const content = trigger.dataset.tooltip;\n      const position = trigger.dataset.tooltipPosition || 'top';\n      const variant = trigger.dataset.tooltipVariant || '';\n\n      if (!content) return;\n\n      // Create tooltip\n      const tooltip = document.createElement('div');\n      tooltip.className = `c-tooltip-modern c-tooltip-modern--${position} ${variant ? `c-tooltip-modern--${variant}` : ''}`;\n      tooltip.setAttribute('role', 'tooltip');\n      tooltip.innerHTML = `\n        ${content}\n        <div class=\"c-tooltip-modern__arrow\"></div>\n      `;\n\n      // Position tooltip\n      trigger.appendChild(tooltip);\n\n      // Show with animation\n      requestAnimationFrame(() => {\n        tooltip.classList.add('is-visible');\n      });\n\n      this.activeTooltip = tooltip;\n    },\n\n    hide() {\n      if (this.activeTooltip) {\n        this.activeTooltip.classList.remove('is-visible');\n        setTimeout(() => {\n          this.activeTooltip?.remove();\n          this.activeTooltip = null;\n        }, 200);\n      }\n    }\n  };\n\n  /**\n   * ============================================================================\n   * DROPDOWN CONTROLLER\n   * ============================================================================\n   */\n  const DropdownController = {\n    activeDropdown: null,\n\n    init() {\n      // Register dropdown trigger via EventDelegation\n      if (typeof EventDelegation !== 'undefined') {\n        EventDelegation.register('dropdown-trigger', (element, e) => {\n          const dropdownId = element.dataset.dropdownTrigger;\n          if (dropdownId) {\n            this.toggle(dropdownId);\n          }\n        }, { preventDefault: true });\n      } else {\n        // Fallback\n        document.addEventListener('click', (e) => {\n          if (!(e.target instanceof Element)) return;\n\n          const trigger = e.target.closest('[data-dropdown-trigger]');\n          if (trigger) {\n            e.preventDefault();\n            const dropdownId = trigger.dataset.dropdownTrigger;\n            this.toggle(dropdownId);\n          }\n        });\n      }\n\n      // Close if clicking outside\n      document.addEventListener('click', (e) => {\n        if (!e.target.closest('.c-dropdown-modern') && this.activeDropdown) {\n          this.close(this.activeDropdown);\n        }\n      });\n\n      // Keyboard navigation\n      document.addEventListener('keydown', (e) => {\n        if (e.key === 'Escape' && this.activeDropdown) {\n          this.close(this.activeDropdown);\n        }\n      });\n    },\n\n    toggle(dropdownId) {\n      const dropdown = document.getElementById(dropdownId);\n      if (!dropdown) return;\n\n      if (dropdown.classList.contains('is-open')) {\n        this.close(dropdownId);\n      } else {\n        // Close any open dropdown\n        if (this.activeDropdown) {\n          this.close(this.activeDropdown);\n        }\n        this.open(dropdownId);\n      }\n    },\n\n    open(dropdownId) {\n      const dropdown = document.getElementById(dropdownId);\n      if (!dropdown) return;\n\n      dropdown.classList.add('is-open');\n      this.activeDropdown = dropdownId;\n\n      // Emit event\n      dropdown.dispatchEvent(new CustomEvent('dropdown:opened', { detail: { id: dropdownId } }));\n    },\n\n    close(dropdownId) {\n      const dropdown = document.getElementById(dropdownId);\n      if (!dropdown) return;\n\n      dropdown.classList.remove('is-open');\n      if (this.activeDropdown === dropdownId) {\n        this.activeDropdown = null;\n      }\n\n      // Emit event\n      dropdown.dispatchEvent(new CustomEvent('dropdown:closed', { detail: { id: dropdownId } }));\n    }\n  };\n\n  /**\n   * ============================================================================\n   * TABLE CONTROLLER\n   * ============================================================================\n   */\n  const TableController = {\n    init() {\n      // Helper to safely get element from event target\n      const getElement = (target) => target instanceof Element ? target : null;\n\n      // Sortable columns\n      document.addEventListener('click', (e) => {\n        const el = getElement(e.target);\n        if (!el) return;\n        const header = el.closest('.c-table-modern__header--sortable');\n        if (header) {\n          this.sort(header);\n        }\n      });\n\n      // Pagination\n      document.addEventListener('click', (e) => {\n        const el = getElement(e.target);\n        if (!el) return;\n        const paginationBtn = el.closest('.c-table-modern__pagination-button');\n        if (paginationBtn && !paginationBtn.disabled) {\n          const page = parseInt(paginationBtn.dataset.page);\n          const tableId = paginationBtn.closest('[data-table-id]')?.dataset.tableId;\n          if (tableId) {\n            this.paginate(tableId, page);\n          }\n        }\n      });\n    },\n\n    sort(header) {\n      const table = header.closest('.c-table-modern');\n      const column = header.dataset.sortColumn;\n      const currentDirection = header.dataset.sortDirection || 'none';\n\n      // Determine new direction\n      let newDirection = 'asc';\n      if (currentDirection === 'asc') newDirection = 'desc';\n      if (currentDirection === 'desc') newDirection = 'none';\n\n      // Remove sorting from other headers\n      table.querySelectorAll('.c-table-modern__header--sortable').forEach(h => {\n        h.classList.remove('c-table-modern__header--sorted-asc', 'c-table-modern__header--sorted-desc');\n        h.dataset.sortDirection = 'none';\n      });\n\n      // Apply new sorting\n      if (newDirection !== 'none') {\n        header.classList.add(`c-table-modern__header--sorted-${newDirection}`);\n        header.dataset.sortDirection = newDirection;\n      }\n\n      // Emit event for external handling\n      table.dispatchEvent(new CustomEvent('table:sort', {\n        detail: { column, direction: newDirection }\n      }));\n    },\n\n    paginate(tableId, page) {\n      const table = document.querySelector(`[data-table-id=\"${tableId}\"]`);\n      if (!table) return;\n\n      // Emit event for external handling\n      table.dispatchEvent(new CustomEvent('table:paginate', {\n        detail: { page }\n      }));\n    }\n  };\n\n  /**\n   * ============================================================================\n   * FORM VALIDATION CONTROLLER\n   * ============================================================================\n   */\n  const FormController = {\n    init() {\n      // Helper to safely get element from event target\n      const getElement = (target) => target instanceof Element ? target : null;\n\n      // Real-time validation\n      document.addEventListener('blur', (e) => {\n        const el = getElement(e.target);\n        if (!el) return;\n        const input = el.closest('.c-form-modern__input');\n        if (input) {\n          this.validateField(input);\n        }\n      }, true);\n\n      // Form submission\n      document.addEventListener('submit', (e) => {\n        const el = getElement(e.target);\n        if (!el) return;\n        const form = el.closest('form[data-validate]');\n        if (form) {\n          if (!this.validateForm(form)) {\n            e.preventDefault();\n          }\n        }\n      });\n    },\n\n    validateField(input) {\n      const isValid = input.checkValidity();\n\n      if (isValid) {\n        input.classList.remove('is-invalid');\n        input.classList.add('is-valid');\n        this.clearError(input);\n      } else {\n        input.classList.remove('is-valid');\n        input.classList.add('is-invalid');\n        this.showError(input, input.validationMessage);\n      }\n\n      return isValid;\n    },\n\n    validateForm(form) {\n      const inputs = form.querySelectorAll('.c-form-modern__input');\n      let isValid = true;\n\n      inputs.forEach(input => {\n        if (!this.validateField(input)) {\n          isValid = false;\n        }\n      });\n\n      return isValid;\n    },\n\n    showError(input, message) {\n      let feedback = input.parentElement.querySelector('.c-form-modern__feedback--invalid');\n\n      if (!feedback) {\n        feedback = document.createElement('div');\n        feedback.className = 'c-form-modern__feedback c-form-modern__feedback--invalid';\n        input.parentElement.appendChild(feedback);\n      }\n\n      feedback.textContent = message;\n    },\n\n    clearError(input) {\n      const feedback = input.parentElement.querySelector('.c-form-modern__feedback--invalid');\n      if (feedback) {\n        feedback.remove();\n      }\n    }\n  };\n\n  /**\n   * ============================================================================\n   * INITIALIZATION\n   * ============================================================================\n   */\n  function init() {\n    // NOTE: ModalController is DISABLED to prevent conflicts with ModalManager\n    // ModalManager (modal-manager.js) handles all Bootstrap modals (.modal class)\n    // ModalController was designed for .c-modal-modern class which is not used in templates\n    // Keeping the controller code for reference but not initializing it\n    // ModalController.init();\n    ToastController.init();\n    TooltipController.init();\n    DropdownController.init();\n    TableController.init();\n    FormController.init();\n\n    console.log('Modern components initialized');\n  }\n\n  // Expose API for external use\n  window.ModernComponents = {\n    Modal: ModalController,\n    Toast: ToastController,\n    Tooltip: TooltipController,\n    Dropdown: DropdownController,\n    Table: TableController,\n    Form: FormController\n  };\n\n  // Register with InitSystem if available\n  if (typeof window.InitSystem !== 'undefined' && window.InitSystem.register) {\n    window.InitSystem.register('components-modern', init, {\n      priority: 70,\n      description: 'Modern UI components (toast, tooltip, dropdown, table, form)',\n      reinitializable: true\n    });\n  } else {\n    // Fallback: Initialize on DOM ready\n    if (document.readyState === 'loading') {\n      document.addEventListener('DOMContentLoaded', init);\n    } else {\n      init();\n    }\n  }\n\n})();\n","/**\n * ECS Soccer League Responsive System\n *\n * A comprehensive responsive management system that handles device detection,\n * responsive behavior, and UI enhancements across all screen sizes and devices.\n *\n * REFACTORED: All inline style manipulations replaced with CSS class-based approach\n * for better maintainability, performance, and separation of concerns.\n *\n * @version 1.0.2\n * @updated 2025-12-26 - Code review for EventDelegation (no changes needed)\n */\n(function () {\n  'use strict';\n\n  // Main responsive system controller\n  const ResponsiveSystem = {\n    // Device detection states\n    device: {\n      isMobile: false,\n      isTablet: false,\n      isDesktop: false,\n      isIOS: false,\n      isAndroid: false,\n      hasTouch: false,\n      hasMouse: false\n    },\n\n    /**\n     * Initialize the responsive system\n     */\n    init: function () {\n      this.detectDevice();\n      this.applyDeviceClasses();\n      this.fixIOSViewportHeight();\n      this.setupTouchFeedback();\n      this.enhanceModals();\n      this.enhanceFormControls();\n      this.enhanceTables();\n      this.enhanceNavigation();\n      this.improveScrolling();\n      this.monitorNetworkStatus();\n      this.attachEventListeners();\n      this.setupMutationObserver();\n\n      // Log initialization\n      // console.log('ResponsiveSystem initialized', this.device);\n    },\n\n    /**\n     * Detect device capabilities and properties\n     */\n    detectDevice: function () {\n      // Touch capability detection\n      this.device.hasTouch = ('ontouchstart' in window) ||\n        (navigator.maxTouchPoints > 0) ||\n        (navigator.msMaxTouchPoints > 0);\n\n      // Mouse capability detection\n      this.device.hasMouse = matchMedia('(hover: hover) and (pointer: fine)').matches;\n\n      // Screen size detection\n      const screenWidth = window.innerWidth;\n      this.device.isMobile = screenWidth < 768;\n      this.device.isTablet = screenWidth >= 768 && screenWidth < 992;\n      this.device.isDesktop = screenWidth >= 992;\n\n      // OS detection\n      const userAgent = navigator.userAgent.toLowerCase();\n      this.device.isIOS = /iphone|ipad|ipod/.test(userAgent);\n      this.device.isAndroid = /android/.test(userAgent);\n    },\n\n    /**\n     * Apply device-specific classes to the body element\n     */\n    applyDeviceClasses: function () {\n      const body = document.body;\n\n      // Remove existing classes to prevent duplicates\n      body.classList.remove(\n        'mobile-device', 'tablet-device', 'desktop-device',\n        'ios-device', 'android-device', 'touch-device', 'mouse-device'\n      );\n\n      // Add device type classes\n      if (this.device.isMobile) body.classList.add('mobile-device');\n      if (this.device.isTablet) body.classList.add('tablet-device');\n      if (this.device.isDesktop) body.classList.add('desktop-device');\n\n      // Add OS type classes\n      if (this.device.isIOS) body.classList.add('ios-device');\n      if (this.device.isAndroid) body.classList.add('android-device');\n\n      // Add input type classes\n      if (this.device.hasTouch) body.classList.add('touch-device');\n      if (this.device.hasMouse) body.classList.add('mouse-device');\n    },\n\n    /**\n     * Fix iOS 100vh issue with CSS custom property\n     * REFACTORED: Using CSS custom property instead of inline styles\n     */\n    fixIOSViewportHeight: function () {\n      const setVh = () => {\n        const vh = window.innerHeight * 0.01;\n        // CSS custom property - this is acceptable as it's dynamic viewport calculation\n        document.documentElement.style.setProperty('--vh', `${vh}px`);\n      };\n\n      // Set initially and on viewport changes\n      setVh();\n      window.addEventListener('resize', setVh);\n      window.addEventListener('orientationchange', () => {\n        // Wait for orientation change to complete before setting new height\n        setTimeout(setVh, 100);\n      });\n\n      // Special handling for iOS keyboard\n      if (this.device.isIOS) {\n        const inputs = document.querySelectorAll('input, textarea, select');\n        inputs.forEach(input => {\n          // Skip checkboxes and radio buttons - they don't need keyboard\n          if (input.type === 'checkbox' || input.type === 'radio') {\n            return;\n          }\n\n          // Add class when keyboard is visible\n          input.addEventListener('focus', () => {\n            document.documentElement.classList.add('keyboard-visible');\n          });\n\n          // Remove class when keyboard is hidden\n          input.addEventListener('blur', () => {\n            document.documentElement.classList.remove('keyboard-visible');\n          });\n        });\n      }\n    },\n\n    /**\n     * Set up touch feedback for interactive elements\n     */\n    setupTouchFeedback: function () {\n      if (this.device.hasTouch) {\n        const touchElements = document.querySelectorAll('button, .btn, a.nav-link, .card-header');\n\n        touchElements.forEach(el => {\n          // Use opacity change instead of transform for feedback\n          el.addEventListener('touchstart', function () {\n            this.classList.add('touch-active');\n\n            // Add haptic feedback for buttons (handled by mobile-haptics.js auto-init)\n            // Individual haptic calls are in mobile-haptics.js, so no need to duplicate here\n          }, { passive: true });\n\n          el.addEventListener('touchend', function () {\n            this.classList.remove('touch-active');\n          }, { passive: true });\n        });\n      }\n    },\n\n    /**\n     * Enhance modal behavior on mobile devices\n     * REFACTORED: Replaced inline styles with CSS classes\n     */\n    enhanceModals: function () {\n      const modals = document.querySelectorAll('[data-modal]');\n\n      modals.forEach(modal => {\n        const modalDialog = modal.querySelector('[data-modal-dialog]');\n\n        // Auto-convert modals to bottom sheets on mobile (unless explicitly disabled)\n        if (this.device.isMobile && !modal.hasAttribute('data-no-bottom-sheet') && modalDialog) {\n          // Don't convert if modal-keep-centered class is present\n          if (!modalDialog.classList.contains('modal-keep-centered')) {\n            // Remove any size classes that would interfere\n            modalDialog.classList.remove('modal-lg', 'modal-xl', 'modal-sm');\n          }\n        }\n\n        // Setup swipe-to-dismiss on mobile bottom sheets\n        if (this.device.isMobile && modal.getAttribute('data-dismiss-on-swipe') === 'true') {\n          this.setupModalSwipeDismiss(modal);\n        }\n\n        // Focus management and scrolling improvements\n        modal.addEventListener('shown.bs.modal', () => {\n          // Haptic feedback when modal opens\n          if (window.Haptics) {\n            window.Haptics.modalOpen();\n          }\n\n          // Prevent body scroll on iOS\n          // REFACTORED: Using CSS class instead of inline styles\n          if (this.device.isIOS) {\n            document.body.classList.add('scroll-locked');\n          }\n\n          // Focus first interactive element\n          const focusable = modal.querySelector('input:not([type=\"hidden\"]), button.btn-close, button:not(.close), [tabindex]:not([tabindex=\"-1\"])');\n          if (focusable) {\n            setTimeout(() => focusable.focus(), 100);\n          }\n\n          // iOS-specific modal fixes\n          // REFACTORED: Using CSS class instead of inline styles\n          if (this.device.isIOS) {\n            const modalBody = modal.querySelector('[data-modal-body]');\n            if (modalBody) {\n              modalBody.classList.add('modal-body-scrollable');\n            }\n          }\n\n          // Mobile optimization for bottom sheets\n          // REFACTORED: Using CSS class instead of inline styles\n          if (this.device.isMobile) {\n            const modalContent = modal.querySelector('[data-modal-content]');\n            if (modalContent && !modalDialog.classList.contains('modal-keep-centered')) {\n              modalContent.classList.add('modal-content-mobile');\n            }\n          }\n\n          // Handle keyboard open state\n          this.handleModalKeyboard(modal);\n        });\n\n        // Cleanup when modal is closed\n        modal.addEventListener('hidden.bs.modal', () => {\n          // Haptic feedback when modal closes\n          if (window.Haptics) {\n            window.Haptics.modalClose();\n          }\n\n          // Restore body scroll on iOS\n          // REFACTORED: Using CSS class removal instead of inline style removal\n          if (this.device.isIOS) {\n            document.body.classList.remove('scroll-locked');\n          }\n\n          // Remove keyboard open class\n          document.body.classList.remove('keyboard-open');\n\n          // Cleanup modal body scrollable class\n          const modalBody = modal.querySelector('[data-modal-body]');\n          if (modalBody) {\n            modalBody.classList.remove('modal-body-scrollable');\n          }\n\n          // Cleanup modal content mobile class\n          const modalContent = modal.querySelector('[data-modal-content]');\n          if (modalContent) {\n            modalContent.classList.remove('modal-content-mobile');\n          }\n\n          this.cleanupModalBackdrops();\n        });\n\n        // Add haptic feedback to close buttons\n        const closeButtons = modal.querySelectorAll('.btn-close, [data-bs-dismiss=\"modal\"]');\n        closeButtons.forEach(btn => {\n          btn.addEventListener('click', () => {\n            if (window.Haptics) {\n              window.Haptics.light();\n            }\n          }, { passive: true });\n        });\n      });\n    },\n\n    /**\n     * Setup swipe-to-dismiss functionality for mobile modals\n     * REFACTORED: Replaced inline styles with CSS classes\n     */\n    setupModalSwipeDismiss: function (modal) {\n      if (!this.device.isMobile) return;\n\n      const modalDialog = modal.querySelector('[data-modal-dialog]');\n      const modalHeader = modal.querySelector('[data-modal-header]');\n\n      if (!modalDialog || !modalHeader) return;\n\n      let startY = 0;\n      let currentY = 0;\n      let isDragging = false;\n\n      // Touch start\n      modalHeader.addEventListener('touchstart', (e) => {\n        startY = e.touches[0].clientY;\n        isDragging = true;\n        modalDialog.classList.add('swiping');\n      }, { passive: true });\n\n      // Touch move\n      modalHeader.addEventListener('touchmove', (e) => {\n        if (!isDragging) return;\n\n        currentY = e.touches[0].clientY;\n        const deltaY = currentY - startY;\n\n        // Only allow downward swipe\n        // REFACTORED: Using CSS custom property for dynamic transform\n        if (deltaY > 0) {\n          e.preventDefault();\n          // Use CSS custom property for dynamic transform value\n          modalDialog.style.setProperty('--swipe-offset', `${deltaY}px`);\n          modalDialog.style.transform = `translateY(var(--swipe-offset))`;\n          modalDialog.classList.add('transition-none');\n        }\n      });\n\n      // Touch end\n      modalHeader.addEventListener('touchend', (e) => {\n        if (!isDragging) return;\n\n        isDragging = false;\n        modalDialog.classList.remove('swiping');\n\n        const deltaY = currentY - startY;\n        const threshold = 100; // Pixels to swipe before dismissing\n\n        if (deltaY > threshold) {\n          // Dismiss modal\n          if (window.Haptics) {\n            window.Haptics.light();\n          }\n\n          // Animate out\n          // REFACTORED: Using CSS classes for animation\n          modalDialog.classList.remove('transition-none');\n          modalDialog.classList.add('swipe-animating', 'swipe-dismiss');\n\n          setTimeout(() => {\n            const bsModal = bootstrap.Modal.getInstance(modal);\n            if (bsModal) {\n              bsModal.hide();\n            }\n            // Reset transform\n            // REFACTORED: Using CSS classes instead of inline styles\n            modalDialog.classList.remove('swipe-animating', 'swipe-dismiss');\n            modalDialog.style.removeProperty('--swipe-offset');\n            modalDialog.style.removeProperty('transform');\n          }, 300);\n        } else {\n          // Snap back\n          // REFACTORED: Using CSS classes for animation\n          modalDialog.classList.remove('transition-none');\n          modalDialog.classList.add('swipe-animating', 'swipe-reset');\n\n          setTimeout(() => {\n            modalDialog.classList.remove('swipe-animating', 'swipe-reset');\n            modalDialog.style.removeProperty('--swipe-offset');\n            modalDialog.style.removeProperty('transform');\n          }, 300);\n        }\n\n        currentY = 0;\n      }, { passive: true });\n    },\n\n    /**\n     * Handle keyboard open/close for modals\n     */\n    handleModalKeyboard: function (modal) {\n      if (!this.device.isMobile) return;\n\n      const inputs = modal.querySelectorAll('input, textarea, select');\n\n      inputs.forEach(input => {\n        input.addEventListener('focus', () => {\n          document.body.classList.add('keyboard-open');\n\n          // Scroll input into view\n          setTimeout(() => {\n            input.scrollIntoView({ behavior: 'smooth', block: 'center' });\n          }, 300);\n        });\n\n        input.addEventListener('blur', () => {\n          // Check if another input in the same modal has focus\n          setTimeout(() => {\n            const activeElement = document.activeElement;\n            const isInputFocused = modal.contains(activeElement) &&\n                                   (activeElement.tagName === 'INPUT' ||\n                                    activeElement.tagName === 'TEXTAREA' ||\n                                    activeElement.tagName === 'SELECT');\n\n            if (!isInputFocused) {\n              document.body.classList.remove('keyboard-open');\n            }\n          }, 100);\n        });\n      });\n    },\n\n    /**\n     * Enhance form controls for better mobile experience\n     * REFACTORED: Replaced inline styles with CSS classes\n     */\n    enhanceFormControls: function () {\n      // Enhance standard form controls\n      if (this.device.isMobile || this.device.isTablet) {\n        const formControls = document.querySelectorAll('[data-form-control], [data-form-select]');\n        formControls.forEach(control => {\n          // Ensure minimum touch target size\n          // REFACTORED: Using CSS class instead of inline style\n          if (control.offsetHeight < 44) {\n            control.classList.add('form-control-touch-target');\n          }\n\n          // iOS date input fixes\n          // REFACTORED: Using CSS class instead of inline styles\n          if (this.device.isIOS && (control.type === 'date' || control.type === 'time' || control.type === 'datetime-local')) {\n            control.classList.add('form-control-ios-date');\n          }\n        });\n      }\n\n      // Enhance Select2 if available\n      if (typeof $.fn !== 'undefined' && typeof $.fn.select2 !== 'undefined') {\n        try {\n          setTimeout(() => {\n            $('.select2-container').each(function () {\n              const selectElement = $(this).siblings('select');\n              if (selectElement.length) {\n                // Configure Select2 with mobile-friendly options\n                const config = {\n                  theme: 'bootstrap-5',\n                  width: '100%',\n                  // Set dropdown to modal if in modal context\n                  dropdownParent: $(selectElement).closest('.modal').length ?\n                    $(selectElement).closest('.modal') : $('body')\n                };\n\n                // Set appropriate placeholder\n                config.placeholder = selectElement.data('placeholder') ||\n                  (selectElement.is('[multiple]') ? 'Select multiple options' : 'Select an option');\n\n                // Initialize Select2\n                selectElement.select2(config);\n              }\n            });\n          }, 300);\n        } catch (e) {\n          // console.warn('Error enhancing Select2:', e);\n        }\n      }\n    },\n\n    /**\n     * Enhance tables for better mobile experience\n     * REFACTORED: Replaced inline styles with CSS classes\n     */\n    enhanceTables: function () {\n      const tables = document.querySelectorAll('[data-table-responsive]');\n\n      tables.forEach(table => {\n        // Ensure touch scrolling works well\n        // REFACTORED: Using CSS class instead of inline style\n        table.classList.add('table-responsive-touch');\n\n        // Add faded edge indicators for scrollable tables on mobile\n        if (this.device.isMobile && !table.querySelector('.table-scroll-hint')) {\n          const tableWidth = table.scrollWidth;\n          const containerWidth = table.clientWidth;\n\n          if (tableWidth > containerWidth) {\n            // Add scroll hint indicator\n            const scrollHint = document.createElement('div');\n            scrollHint.className = 'table-scroll-hint';\n            scrollHint.innerHTML = '<small class=\"text-muted\"><i class=\"ti ti-arrows-horizontal me-1\"></i>swipe to see more</small>';\n\n            table.parentNode.insertBefore(scrollHint, table.nextSibling);\n\n            // Hide hint when user has scrolled\n            // REFACTORED: Using CSS classes instead of inline styles\n            table.addEventListener('scroll', function() {\n              if (this.scrollLeft > 20) {\n                scrollHint.classList.add('hidden');\n              }\n            });\n          }\n        }\n      });\n    },\n\n    /**\n     * Enhance navigation elements for touch devices\n     * REFACTORED: Replaced inline styles with CSS classes\n     */\n    enhanceNavigation: function () {\n      // Make tabs scrollable on mobile\n      const tabContainers = document.querySelectorAll('[data-tabs], .js-tabs');\n\n      tabContainers.forEach(container => {\n        // Check prerequisites first\n        const tabs = container.querySelectorAll('.nav-link');\n        const isOnMobile = window.innerWidth < 768;\n        const hasMultipleTabs = tabs.length > 1;\n        const hasOverflow = container.scrollWidth > container.clientWidth;\n\n        // Only show on mobile with multiple tabs that actually overflow\n        if (isOnMobile && hasMultipleTabs && hasOverflow) {\n          // Apply scrolling styles\n          // REFACTORED: Using CSS class instead of inline styles\n          container.classList.add('scrollable-tabs');\n\n          // Add scroll indicator if not present\n          if (!container.nextElementSibling || !container.nextElementSibling.classList.contains('tabs-scroll-hint')) {\n            const scrollHint = document.createElement('div');\n            scrollHint.className = 'tabs-scroll-hint';\n            scrollHint.innerHTML = '<small class=\"text-muted\"><i class=\"ti ti-arrows-horizontal me-1\"></i>swipe</small>';\n\n            container.parentNode.insertBefore(scrollHint, container.nextSibling);\n          }\n        } else {\n          // Remove any existing swipe hints on desktop or single tabs\n          const existingHint = container.nextElementSibling;\n          if (existingHint && existingHint.classList.contains('tabs-scroll-hint')) {\n            existingHint.remove();\n          }\n        }\n      });\n\n      // Enhance sidebar menu on mobile\n      const sidebarMenu = document.querySelector('.layout-menu');\n      if (sidebarMenu && (this.device.isMobile || this.device.isTablet)) {\n        const menuItems = sidebarMenu.querySelectorAll('.menu-item');\n\n        menuItems.forEach(item => {\n          // Make dropdown toggles more touch-friendly\n          // REFACTORED: Using CSS class instead of inline style\n          if (item.classList.contains('menu-item-has-children')) {\n            const toggle = item.querySelector('.menu-toggle');\n            if (toggle) {\n              toggle.classList.add('menu-toggle-touch');\n            }\n          }\n\n          // Make all menu links more touch-friendly\n          // REFACTORED: Using CSS class instead of inline style\n          const link = item.querySelector('.menu-link');\n          if (link) {\n            link.classList.add('menu-link-touch');\n          }\n        });\n      }\n    },\n\n    /**\n     * Improve scrolling behavior site-wide\n     */\n    improveScrolling: function () {\n      // Enable smooth scrolling for anchor links\n      document.querySelectorAll('a[href^=\"#\"]').forEach(anchor => {\n        if (anchor.getAttribute('href').length > 1) {\n          anchor.addEventListener('click', function(e) {\n            const targetId = this.getAttribute('href');\n            if (targetId === '#' || !targetId) return;\n\n            const targetElement = document.querySelector(targetId);\n            if (targetElement) {\n              e.preventDefault();\n\n              // Scroll smoothly to target\n              targetElement.scrollIntoView({\n                behavior: 'smooth',\n                block: 'start'\n              });\n            }\n          });\n        }\n      });\n    },\n\n    /**\n     * Monitor network status and display notifications\n     */\n    monitorNetworkStatus: function () {\n      window.addEventListener('online', () => {\n        this.showNetworkStatus(true);\n      });\n\n      window.addEventListener('offline', () => {\n        this.showNetworkStatus(false);\n      });\n    },\n\n    /**\n     * Show network status toast notification\n     * REFACTORED: Replaced inline styles with CSS classes\n     */\n    showNetworkStatus: function (isOnline) {\n      const statusDiv = document.createElement('div');\n      statusDiv.className = 'network-status-indicator';\n\n      if (isOnline) {\n        statusDiv.classList.add('online');\n        statusDiv.innerHTML = '<i class=\"ti ti-wifi me-2\"></i> Connected';\n      } else {\n        statusDiv.classList.add('offline');\n        statusDiv.innerHTML = '<i class=\"ti ti-wifi-off me-2\"></i> Disconnected';\n      }\n\n      document.body.appendChild(statusDiv);\n\n      // Animate in\n      // REFACTORED: Using CSS class instead of inline style\n      setTimeout(() => {\n        statusDiv.classList.add('visible');\n      }, 10);\n\n      // Hide after delay\n      setTimeout(() => {\n        statusDiv.classList.remove('visible');\n\n        setTimeout(() => {\n          if (statusDiv.parentNode) {\n            document.body.removeChild(statusDiv);\n          }\n        }, 300);\n      }, 3000);\n    },\n\n    /**\n     * Attach global event listeners\n     */\n    attachEventListeners: function () {\n      // Handle orientation changes\n      window.addEventListener('orientationchange', () => {\n        // Run after orientation change completes\n        setTimeout(() => {\n          this.fixIOSViewportHeight();\n          this.enhanceNavigation();\n\n          // Dispatch custom event for other components\n          document.dispatchEvent(new CustomEvent('app:orientationchange'));\n        }, 200);\n      });\n\n      // Handle resize (debounced)\n      let resizeTimer;\n      window.addEventListener('resize', () => {\n        clearTimeout(resizeTimer);\n        resizeTimer = setTimeout(() => {\n          // Update device detection and classes\n          this.detectDevice();\n          this.applyDeviceClasses();\n          this.fixIOSViewportHeight();\n\n          // Re-enhance components after resize\n          this.enhanceNavigation();\n          this.enhanceTables();\n\n          // Notify other components\n          document.dispatchEvent(new CustomEvent('app:resize'));\n        }, 250);\n      });\n\n      // Fix modal backdrop issues (keep this - non-action click listener)\n      document.addEventListener('click', () => {\n        setTimeout(this.cleanupModalBackdrops.bind(this), 300);\n      });\n\n      // Fix iOS tab bar hiding issue\n      if (this.device.isIOS) {\n        window.addEventListener('scroll', () => {\n          // Force address bar to show/hide properly\n          document.body.scrollTop = document.body.scrollTop + 1;\n          document.body.scrollTop = document.body.scrollTop - 1;\n        }, { passive: true });\n      }\n    },\n\n    /**\n     * Clean up any stray modal backdrops\n     * REFACTORED: Using removeProperty instead of direct style manipulation\n     */\n    cleanupModalBackdrops: function () {\n      const openModals = document.querySelectorAll('.modal.show');\n      const modalBackdrops = document.querySelectorAll('.modal-backdrop');\n\n      // If there are no open modals but we have backdrops, clean them up\n      if (openModals.length === 0 && modalBackdrops.length > 0) {\n        modalBackdrops.forEach(backdrop => {\n          if (backdrop.parentNode) {\n            backdrop.parentNode.removeChild(backdrop);\n          }\n        });\n\n        // Fix body classes and styles\n        // REFACTORED: Using removeProperty instead of setting empty string\n        document.body.classList.remove('modal-open');\n        document.body.style.removeProperty('overflow');\n        document.body.style.removeProperty('padding-right');\n      }\n    },\n\n    /**\n     * Set up observer to watch for dynamically added elements\n     */\n    setupMutationObserver: function () {\n      // Create MutationObserver instance\n      const observer = new MutationObserver((mutations) => {\n        let shouldEnhance = false;\n\n        // Check if we need to enhance elements\n        mutations.forEach(mutation => {\n          if (mutation.addedNodes.length) {\n            // Look for meaningful DOM changes that would require enhancement\n            for (let i = 0; i < mutation.addedNodes.length; i++) {\n              const node = mutation.addedNodes[i];\n              if (node.nodeType === 1) { // Only element nodes\n                if (\n                  node.hasAttribute && (\n                    node.hasAttribute('data-modal') ||\n                    node.hasAttribute('data-form-control') ||\n                    node.hasAttribute('data-form-select') ||\n                    node.hasAttribute('data-tabs') ||\n                    node.hasAttribute('data-table-responsive')\n                  )\n                ) {\n                  shouldEnhance = true;\n                  break;\n                }\n\n                // Check if added node contains elements we care about\n                if (\n                  node.querySelector && (\n                    node.querySelector('[data-modal]') ||\n                    node.querySelector('[data-form-control]') ||\n                    node.querySelector('[data-form-select]') ||\n                    node.querySelector('[data-tabs], .js-tabs') ||\n                    node.querySelector('[data-table-responsive]')\n                  )\n                ) {\n                  shouldEnhance = true;\n                  break;\n                }\n              }\n            }\n          }\n        });\n\n        // Enhance new elements if needed\n        if (shouldEnhance) {\n          setTimeout(() => {\n            this.enhanceNewElements();\n          }, 100);\n        }\n      });\n\n      // Start observing the document\n      observer.observe(document.body, {\n        childList: true,\n        subtree: true\n      });\n    },\n\n    /**\n     * Enhance dynamically added elements\n     */\n    enhanceNewElements: function () {\n      this.setupTouchFeedback();\n      this.enhanceFormControls();\n      this.enhanceTables();\n      this.enhanceNavigation();\n      this.enhanceModals();\n    }\n  };\n\n  // Make available globally\n  window.ResponsiveSystem = ResponsiveSystem;\n\n  // Register with InitSystem if available\n  if (typeof window.InitSystem !== 'undefined' && window.InitSystem.register) {\n    window.InitSystem.register('responsive-system', function() {\n      ResponsiveSystem.init();\n    }, {\n      priority: 85,\n      description: 'Responsive system (mobile detection, touch feedback, form/table/modal enhancements)',\n      reinitializable: true\n    });\n  } else {\n    // Fallback: Initialize when DOM is ready\n    document.addEventListener('DOMContentLoaded', function () {\n      ResponsiveSystem.init();\n    });\n  }\n})();\n","/**\n * UI Enhancements - Additional JavaScript for UI fixes\n */\n\n(function() {\n    'use strict';\n\n    /**\n     * Initialize all UI enhancements when DOM is ready\n     */\n    function init() {\n        initFeatherIcons();\n        initMatchHistoryCollapse();\n        registerDropdownActions();\n    }\n\n    /**\n     * Initialize Feather Icons\n     * Re-runs feather.replace() to ensure all icons are rendered\n     */\n    function initFeatherIcons() {\n        if (typeof feather !== 'undefined') {\n            // Initial replace\n            feather.replace();\n\n            // Also watch for dynamic content\n            const observer = new MutationObserver(function(mutations) {\n                let hasNewFeatherIcons = false;\n                mutations.forEach(function(mutation) {\n                    mutation.addedNodes.forEach(function(node) {\n                        if (node.nodeType === Node.ELEMENT_NODE) {\n                            if (node.hasAttribute && node.hasAttribute('data-feather')) {\n                                hasNewFeatherIcons = true;\n                            }\n                            if (node.querySelector && node.querySelector('[data-feather]')) {\n                                hasNewFeatherIcons = true;\n                            }\n                        }\n                    });\n                });\n                if (hasNewFeatherIcons) {\n                    feather.replace();\n                }\n            });\n\n            observer.observe(document.body, {\n                childList: true,\n                subtree: true\n            });\n        }\n    }\n\n    /**\n     * Initialize Match History Collapsible Weeks\n     */\n    function initMatchHistoryCollapse() {\n        const dateGroups = document.querySelectorAll('.c-match-history__date-group');\n\n        dateGroups.forEach(function(group, index) {\n            const header = group.querySelector('.c-match-history__date-header');\n\n            if (header) {\n                // Collapse all groups except the first one by default\n                if (index > 0) {\n                    group.classList.add('is-collapsed');\n                }\n\n                header.addEventListener('click', function() {\n                    group.classList.toggle('is-collapsed');\n                });\n\n                // Make header keyboard accessible\n                header.setAttribute('role', 'button');\n                header.setAttribute('tabindex', '0');\n                header.addEventListener('keydown', function(e) {\n                    if (e.key === 'Enter' || e.key === ' ') {\n                        e.preventDefault();\n                        group.classList.toggle('is-collapsed');\n                    }\n                });\n            }\n        });\n    }\n\n    /**\n     * Register dropdown actions with EventDelegation\n     */\n    function registerDropdownActions() {\n        if (typeof EventDelegation !== 'undefined') {\n            EventDelegation.register('toggle-dropdown', handleToggleDropdown, { preventDefault: true });\n        } else {\n            // Fallback: direct event listeners if EventDelegation not available\n            initDropdownFallback();\n        }\n\n        // Close dropdowns when clicking outside\n        document.addEventListener('click', handleOutsideClick);\n    }\n\n    /**\n     * Handle dropdown toggle action\n     * @param {Element} element - The element that was clicked (from EventDelegation)\n     * @param {Event} e - The click event\n     */\n    function handleToggleDropdown(element, e) {\n        e.stopPropagation();\n\n        const dropdownId = element.getAttribute('data-dropdown');\n        const dropdown = document.querySelector(`[data-dropdown-id=\"${dropdownId}\"]`);\n\n        if (dropdown) {\n            // Close all other dropdowns\n            document.querySelectorAll('.c-navbar-modern__dropdown.is-open').forEach(function(d) {\n                if (d !== dropdown) {\n                    d.classList.remove('is-open');\n                    d.setAttribute('aria-hidden', 'true');\n                }\n            });\n\n            // Toggle this dropdown\n            const isOpen = dropdown.classList.toggle('is-open');\n            dropdown.setAttribute('aria-hidden', !isOpen);\n            element.setAttribute('aria-expanded', isOpen);\n        }\n    }\n\n    /**\n     * Fallback dropdown initialization (if EventDelegation not available)\n     */\n    function initDropdownFallback() {\n        document.querySelectorAll('[data-action=\"toggle-dropdown\"]').forEach(function(btn) {\n            btn.addEventListener('click', function(e) {\n                e.preventDefault();\n                e.stopPropagation();\n\n                const dropdownId = this.getAttribute('data-dropdown');\n                const dropdown = document.querySelector(`[data-dropdown-id=\"${dropdownId}\"]`);\n\n                if (dropdown) {\n                    // Close all other dropdowns\n                    document.querySelectorAll('.c-navbar-modern__dropdown.is-open').forEach(function(d) {\n                        if (d !== dropdown) {\n                            d.classList.remove('is-open');\n                            d.setAttribute('aria-hidden', 'true');\n                        }\n                    });\n\n                    // Toggle this dropdown\n                    const isOpen = dropdown.classList.toggle('is-open');\n                    dropdown.setAttribute('aria-hidden', !isOpen);\n                    this.setAttribute('aria-expanded', isOpen);\n                }\n            });\n        });\n    }\n\n    /**\n     * Handle clicks outside dropdowns\n     */\n    function handleOutsideClick(e) {\n        if (!e.target.closest('.c-navbar-modern__dropdown') &&\n            !e.target.closest('[data-action=\"toggle-dropdown\"]')) {\n            document.querySelectorAll('.c-navbar-modern__dropdown.is-open').forEach(function(d) {\n                d.classList.remove('is-open');\n                d.setAttribute('aria-hidden', 'true');\n            });\n            document.querySelectorAll('[data-action=\"toggle-dropdown\"]').forEach(function(btn) {\n                btn.setAttribute('aria-expanded', 'false');\n            });\n        }\n    }\n\n    // Initialize on DOM ready\n    if (document.readyState === 'loading') {\n        document.addEventListener('DOMContentLoaded', init);\n    } else {\n        init();\n    }\n\n    // Re-initialize after turbo/ajax page loads\n    document.addEventListener('turbo:load', init);\n    document.addEventListener('turbolinks:load', init);\n\n})();\n","/**\n * Mobile Gestures - Touch Interaction Handler\n *\n * Provides comprehensive gesture support using Hammer.js for mobile interactions.\n * Handles swipe, long-press, double-tap, pinch-to-zoom, and pull-to-refresh.\n *\n * Dependencies: Hammer.js (already loaded in helpers.js)\n * Usage: Automatically initializes on DOMContentLoaded\n *\n * @version 1.0.1\n * @updated 2025-12-26 - Code review for EventDelegation (no changes needed - uses Hammer.js)\n */\n\n(function (window) {\n  'use strict';\n\n  /**\n   * Mobile Gestures Controller\n   */\n  const MobileGestures = {\n    /**\n     * Check if device supports touch\n     * @returns {boolean}\n     */\n    isTouchDevice: function () {\n      return ('ontouchstart' in window) ||\n        (navigator.maxTouchPoints > 0) ||\n        (navigator.msMaxTouchPoints > 0);\n    },\n\n    /**\n     * Check if Hammer.js is loaded\n     * @returns {boolean}\n     */\n    isHammerLoaded: function () {\n      return typeof Hammer !== 'undefined';\n    },\n\n    /**\n     * Swipe to dismiss modal (swipe down on bottom sheets)\n     */\n    setupModalSwipeDismiss: function () {\n      if (!this.isHammerLoaded()) return;\n\n      document.querySelectorAll('.modal.modal-bottom-sheet').forEach(modal => {\n        const modalDialog = modal.querySelector('.modal-dialog');\n        if (!modalDialog) return;\n\n        const hammer = new Hammer(modalDialog);\n        hammer.get('swipe').set({ direction: Hammer.DIRECTION_DOWN, threshold: 50 });\n\n        hammer.on('swipedown', (ev) => {\n          // Only dismiss if swiping from near the top (drag handle area)\n          if (ev.center.y < 100) {\n            const bootstrapModal = bootstrap.Modal.getInstance(modal);\n            if (bootstrapModal) {\n              if (window.Haptics) window.Haptics.modalClose();\n              bootstrapModal.hide();\n            }\n          }\n        });\n\n        // Visual feedback during pan (drag)\n        hammer.get('pan').set({ direction: Hammer.DIRECTION_DOWN, threshold: 0 });\n        let startY = 0;\n\n        hammer.on('panstart', (ev) => {\n          startY = ev.center.y;\n          // REFACTORED: Using utility classes for transitions\n          modalDialog.classList.add('transition-none');\n        });\n\n        hammer.on('panmove', (ev) => {\n          if (ev.center.y > startY && ev.center.y < 100) {\n            const deltaY = ev.center.y - startY;\n            if (deltaY > 0 && deltaY < 200) {\n              // Note: Dynamic transform value, kept as inline style\n              modalDialog.style.transform = `translateY(${deltaY}px)`;\n            }\n          }\n        });\n\n        hammer.on('panend', (ev) => {\n          // REFACTORED: Using utility classes for transitions\n          modalDialog.classList.remove('transition-none');\n          modalDialog.classList.add('transition-transform');\n          const deltaY = ev.center.y - startY;\n\n          if (deltaY > 100) {\n            // Threshold reached, dismiss modal\n            const bootstrapModal = bootstrap.Modal.getInstance(modal);\n            if (bootstrapModal) {\n              if (window.Haptics) window.Haptics.modalClose();\n              bootstrapModal.hide();\n            }\n          } else {\n            // Snap back - REFACTORED: Using utility classes\n            modalDialog.classList.add('translate-y-0');\n            modalDialog.style.transform = '';\n          }\n        });\n      });\n    },\n\n    /**\n     * Swipe to open/close sidebar\n     */\n    setupSidebarSwipe: function () {\n      if (!this.isHammerLoaded()) return;\n\n      const sidebar = document.getElementById('layout-menu');\n      if (!sidebar) return;\n\n      const body = document.body;\n      const hammer = new Hammer(body);\n\n      // Swipe right from left edge to open\n      hammer.on('swiperight', (ev) => {\n        if (ev.center.x < 50 && window.innerWidth < 992) {\n          // Near left edge\n          if (!sidebar.classList.contains('layout-menu-expanded')) {\n            sidebar.classList.add('layout-menu-expanded');\n            body.classList.add('layout-menu-expanded');\n            if (window.Haptics) window.Haptics.menuOpen();\n          }\n        }\n      });\n\n      // Swipe left to close sidebar\n      hammer.on('swipeleft', (ev) => {\n        if (sidebar.classList.contains('layout-menu-expanded')) {\n          sidebar.classList.remove('layout-menu-expanded');\n          body.classList.remove('layout-menu-expanded');\n          if (window.Haptics) window.Haptics.menuClose();\n        }\n      });\n    },\n\n    /**\n     * Pull-to-refresh on tables and lists\n     */\n    setupPullToRefresh: function () {\n      if (!this.isHammerLoaded()) return;\n\n      document.querySelectorAll('[data-pull-refresh=\"true\"], .table-responsive').forEach(container => {\n        const hammer = new Hammer(container);\n        hammer.get('pan').set({ direction: Hammer.DIRECTION_DOWN, threshold: 10 });\n\n        let startY = 0;\n        let isPulling = false;\n        let refreshThreshold = 80;\n\n        // Create refresh indicator - REFACTORED: Using utility classes\n        let refreshIndicator = container.querySelector('.pull-refresh-indicator');\n        if (!refreshIndicator) {\n          refreshIndicator = document.createElement('div');\n          refreshIndicator.className = 'pull-refresh-indicator position-absolute left-50 translate-middle-x d-flex align-items-center justify-content-center text-white opacity-0 z-index-1000';\n          refreshIndicator.innerHTML = '<i class=\"ti ti-refresh\"></i>';\n          // Note: top, width, height, background, borderRadius, transition use specific values, kept as inline styles\n          refreshIndicator.style.top = '-50px';\n          refreshIndicator.style.width = '40px';\n          refreshIndicator.style.height = '40px';\n          refreshIndicator.style.background = 'var(--bs-primary)';\n          refreshIndicator.style.borderRadius = '50%';\n          refreshIndicator.style.transition = 'opacity 0.3s, top 0.3s';\n          container.classList.add('position-relative');\n          container.insertBefore(refreshIndicator, container.firstChild);\n        }\n\n        hammer.on('panstart', (ev) => {\n          // Only allow pull-to-refresh at scroll position 0\n          if (container.scrollTop === 0 || container === window) {\n            startY = ev.center.y;\n            isPulling = true;\n          }\n        });\n\n        hammer.on('panmove', (ev) => {\n          if (!isPulling) return;\n\n          const deltaY = ev.center.y - startY;\n          if (deltaY > 0 && deltaY < refreshThreshold * 1.5) {\n            // Show indicator - Note: Dynamic opacity and top values, kept as inline styles\n            refreshIndicator.style.opacity = Math.min(deltaY / refreshThreshold, 1);\n            refreshIndicator.style.top = `${-50 + deltaY}px`;\n\n            // Rotate icon - Note: Dynamic rotation value, kept as inline style\n            const icon = refreshIndicator.querySelector('i');\n            if (icon) {\n              icon.style.transform = `rotate(${deltaY * 3}deg)`;\n            }\n          }\n        });\n\n        hammer.on('panend', (ev) => {\n          if (!isPulling) return;\n\n          const deltaY = ev.center.y - startY;\n\n          if (deltaY > refreshThreshold) {\n            // Trigger refresh\n            if (window.Haptics) window.Haptics.refresh();\n\n            refreshIndicator.style.top = '10px';\n            const icon = refreshIndicator.querySelector('i');\n            if (icon) {\n              icon.classList.add('ti-spin');\n            }\n\n            // Dispatch custom event for refresh\n            const refreshEvent = new CustomEvent('mobile:pullrefresh', {\n              detail: { container: container }\n            });\n            container.dispatchEvent(refreshEvent);\n\n            // Auto-hide after 2 seconds (or listen for custom event)\n            setTimeout(() => {\n              // REFACTORED: Using utility classes for opacity\n              refreshIndicator.classList.add('opacity-0');\n              refreshIndicator.style.top = '-50px';\n              if (icon) icon.classList.remove('ti-spin');\n            }, 2000);\n          } else {\n            // Snap back - REFACTORED: Using utility classes for opacity\n            refreshIndicator.classList.add('opacity-0');\n            refreshIndicator.style.top = '-50px';\n          }\n\n          isPulling = false;\n        });\n      });\n    },\n\n    /**\n     * Long-press for context menus\n     */\n    setupLongPress: function () {\n      if (!this.isHammerLoaded()) return;\n\n      document.querySelectorAll('[data-long-press=\"true\"], .card, .list-group-item').forEach(element => {\n        const hammer = new Hammer(element);\n        hammer.get('press').set({ time: 500 }); // 500ms for long press\n\n        hammer.on('press', (ev) => {\n          if (window.Haptics) window.Haptics.longPress();\n\n          // Dispatch custom event\n          const longPressEvent = new CustomEvent('mobile:longpress', {\n            detail: { element: element, event: ev }\n          });\n          element.dispatchEvent(longPressEvent);\n\n          // Visual feedback\n          element.classList.add('long-press-active');\n          setTimeout(() => {\n            element.classList.remove('long-press-active');\n          }, 200);\n        });\n      });\n    },\n\n    /**\n     * Double-tap to zoom (images, player cards)\n     */\n    setupDoubleTap: function () {\n      if (!this.isHammerLoaded()) return;\n\n      document.querySelectorAll('[data-double-tap=\"zoom\"], .player-card img, .avatar-lg').forEach(element => {\n        const hammer = new Hammer(element);\n        hammer.get('tap').set({ taps: 2, threshold: 10, posThreshold: 50 });\n\n        let isZoomed = false;\n\n        hammer.on('tap', (ev) => {\n          if (ev.tapCount === 2) {\n            if (window.Haptics) window.Haptics.doubleTap();\n\n            if (!isZoomed) {\n              // Zoom in - REFACTORED: Using utility classes\n              element.classList.add('transition-transform', 'z-index-1000');\n              // Note: Dynamic scale value, kept as inline style\n              element.style.transform = 'scale(2)';\n              isZoomed = true;\n            } else {\n              // Zoom out - REFACTORED: Using utility classes\n              element.classList.remove('z-index-1000');\n              element.classList.add('scale-1');\n              element.style.transform = '';\n              isZoomed = false;\n            }\n\n            // Reset after 3 seconds - REFACTORED: Using utility classes\n            setTimeout(() => {\n              if (isZoomed) {\n                element.classList.remove('z-index-1000');\n                element.classList.add('scale-1');\n                element.style.transform = '';\n                isZoomed = false;\n              }\n            }, 3000);\n          }\n        });\n      });\n    },\n\n    /**\n     * Swipe actions on table/list rows (edit, delete, archive)\n     */\n    setupSwipeActions: function () {\n      if (!this.isHammerLoaded()) return;\n\n      document.querySelectorAll('[data-swipe-actions=\"true\"]').forEach(row => {\n        if (row.closest('thead')) return; // Skip header rows\n\n        const hammer = new Hammer(row);\n        hammer.get('swipe').set({ threshold: 50, velocity: 0.3 });\n\n        let actionsRevealed = false;\n\n        // Create action buttons container if not exists - REFACTORED: Using utility classes\n        let actionsContainer = row.querySelector('.swipe-actions');\n        if (!actionsContainer) {\n          actionsContainer = document.createElement('div');\n          actionsContainer.className = 'swipe-actions position-absolute right-0 top-0 bottom-0 d-flex align-items-center gap-2 translate-x-100 transition-transform';\n          // Note: padding, background use specific values, kept as inline styles\n          actionsContainer.style.padding = '0 16px';\n          actionsContainer.style.background = 'var(--bs-danger)';\n\n          // Add default actions (can be customized with data attributes)\n          const deleteBtn = document.createElement('button');\n          deleteBtn.className = 'btn btn-sm btn-light';\n          deleteBtn.innerHTML = '<i class=\"ti ti-trash\"></i>';\n          deleteBtn.onclick = () => {\n            if (window.Haptics) window.Haptics.delete();\n            const deleteEvent = new CustomEvent('mobile:swipedelete', { detail: { row } });\n            row.dispatchEvent(deleteEvent);\n          };\n          actionsContainer.appendChild(deleteBtn);\n\n          row.classList.add('position-relative', 'overflow-hidden');\n          row.appendChild(actionsContainer);\n        }\n\n        hammer.on('swipeleft', () => {\n          if (!actionsRevealed) {\n            // REFACTORED: Using utility classes\n            actionsContainer.classList.remove('translate-x-100');\n            actionsContainer.classList.add('translate-x-0');\n            // Note: Dynamic translate value, kept as inline style\n            row.style.transform = 'translateX(-100px)';\n            actionsRevealed = true;\n            if (window.Haptics) window.Haptics.swipe();\n          }\n        });\n\n        hammer.on('swiperight', () => {\n          if (actionsRevealed) {\n            // REFACTORED: Using utility classes\n            actionsContainer.classList.remove('translate-x-0');\n            actionsContainer.classList.add('translate-x-100');\n            row.classList.add('translate-x-0');\n            row.style.transform = '';\n            actionsRevealed = false;\n            if (window.Haptics) window.Haptics.swipe();\n          }\n        });\n\n        // Close on tap outside (keep this - non-action click listener)\n        // REFACTORED: Using utility classes\n        document.addEventListener('click', (e) => {\n          if (actionsRevealed && !row.contains(e.target)) {\n            actionsContainer.classList.remove('translate-x-0');\n            actionsContainer.classList.add('translate-x-100');\n            row.classList.add('translate-x-0');\n            row.style.transform = '';\n            actionsRevealed = false;\n          }\n        });\n      });\n    },\n\n    /**\n     * Pinch to zoom (images, charts)\n     */\n    setupPinchZoom: function () {\n      if (!this.isHammerLoaded()) return;\n\n      document.querySelectorAll('[data-pinch-zoom=\"true\"], .chart-container, img.zoomable').forEach(element => {\n        const hammer = new Hammer(element);\n        hammer.get('pinch').set({ enable: true });\n\n        let lastScale = 1;\n\n        hammer.on('pinchstart', () => {\n          // REFACTORED: Using utility classes\n          element.classList.add('transition-none');\n        });\n\n        hammer.on('pinchmove', (ev) => {\n          const scale = Math.max(1, Math.min(lastScale * ev.scale, 4)); // 1x to 4x\n          // Note: Dynamic scale value, kept as inline style\n          element.style.transform = `scale(${scale})`;\n        });\n\n        hammer.on('pinchend', (ev) => {\n          // REFACTORED: Using utility classes\n          element.classList.remove('transition-none');\n          element.classList.add('transition-transform');\n          lastScale = Math.max(1, Math.min(lastScale * ev.scale, 4));\n\n          // Reset to 1x after 3 seconds if zoomed - REFACTORED: Using utility classes\n          if (lastScale > 1) {\n            setTimeout(() => {\n              element.classList.add('scale-1');\n              element.style.transform = '';\n              lastScale = 1;\n            }, 3000);\n          }\n        });\n      });\n    },\n\n    /**\n     * Swipe navigation between tabs/pages\n     */\n    setupSwipeNavigation: function () {\n      if (!this.isHammerLoaded()) return;\n\n      document.querySelectorAll('[data-swipe-nav=\"true\"], .nav-tabs').forEach(nav => {\n        const hammer = new Hammer(nav);\n        hammer.get('swipe').set({ threshold: 30 });\n\n        const tabs = Array.from(nav.querySelectorAll('.nav-link'));\n        if (tabs.length === 0) return;\n\n        hammer.on('swipeleft', () => {\n          const activeTab = tabs.find(tab => tab.classList.contains('active'));\n          const activeIndex = tabs.indexOf(activeTab);\n          if (activeIndex < tabs.length - 1) {\n            tabs[activeIndex + 1].click();\n            if (window.Haptics) window.Haptics.swipe();\n          }\n        });\n\n        hammer.on('swiperight', () => {\n          const activeTab = tabs.find(tab => tab.classList.contains('active'));\n          const activeIndex = tabs.indexOf(activeTab);\n          if (activeIndex > 0) {\n            tabs[activeIndex - 1].click();\n            if (window.Haptics) window.Haptics.swipe();\n          }\n        });\n      });\n    },\n\n    /**\n     * Initialize all gesture handlers\n     */\n    init: function () {\n      if (!this.isTouchDevice()) {\n        console.log('MobileGestures: Not a touch device, skipping initialization');\n        return;\n      }\n\n      if (!this.isHammerLoaded()) {\n        console.warn('MobileGestures: Hammer.js not loaded, gesture support disabled');\n        return;\n      }\n\n      // Setup all gesture handlers\n      this.setupModalSwipeDismiss();\n      this.setupSidebarSwipe();\n      this.setupPullToRefresh();\n      this.setupLongPress();\n      this.setupDoubleTap();\n      this.setupSwipeActions();\n      this.setupPinchZoom();\n      this.setupSwipeNavigation();\n\n      // Add CSS for visual feedback\n      this.addGestureStyles();\n\n      console.log('MobileGestures: Initialized successfully');\n    },\n\n    /**\n     * Add CSS for gesture visual feedback\n     */\n    addGestureStyles: function () {\n      if (document.getElementById('mobile-gesture-styles')) return;\n\n      const style = document.createElement('style');\n      style.id = 'mobile-gesture-styles';\n      style.textContent = `\n        .long-press-active {\n          animation: long-press-pulse 0.2s ease;\n        }\n\n        @keyframes long-press-pulse {\n          0%, 100% { transform: scale(1); }\n          50% { transform: scale(0.95); }\n        }\n\n        .swipe-actions button {\n          touch-action: manipulation;\n        }\n\n        .pull-refresh-indicator .ti-spin {\n          animation: spin 1s linear infinite;\n        }\n\n        @keyframes spin {\n          0% { transform: rotate(0deg); }\n          100% { transform: rotate(360deg); }\n        }\n\n        /* Smooth transitions for swipe actions */\n        [data-swipe-actions=\"true\"],\n        .table-responsive tr {\n          transition: transform 0.3s ease;\n        }\n      `;\n      document.head.appendChild(style);\n    }\n  };\n\n  // Auto-initialize\n  if (document.readyState === 'loading') {\n    document.addEventListener('DOMContentLoaded', () => MobileGestures.init());\n  } else {\n    MobileGestures.init();\n  }\n\n  // Expose globally\n  window.MobileGestures = MobileGestures;\n\n})(window);\n","/**\n * Mobile Keyboard - Soft Keyboard Handler\n *\n * Handles mobile keyboard interactions, viewport adjustments, and input optimization.\n * Addresses common issues: iOS keyboard overlap, Android soft keyboard, scroll-into-view.\n *\n * Features:\n * - Keyboard show/hide detection\n * - Automatic scroll input into view\n * - Dropdown positioning aware of keyboard\n * - Input type optimization\n * - iOS-specific fixes\n *\n * REFACTORED: All inline style manipulations replaced with CSS classes\n */\n\n(function (window) {\n  'use strict';\n\n  /**\n   * Mobile Keyboard Controller\n   */\n  const MobileKeyboard = {\n    /**\n     * Current keyboard state\n     */\n    state: {\n      isVisible: false,\n      keyboardHeight: 0,\n      activeInput: null,\n      originalViewportHeight: window.innerHeight\n    },\n\n    /**\n     * Check if device is mobile\n     * @returns {boolean}\n     */\n    isMobile: function () {\n      return window.innerWidth < 768;\n    },\n\n    /**\n     * Check if device is iOS\n     * @returns {boolean}\n     */\n    isIOS: function () {\n      return /iPhone|iPad|iPod/.test(navigator.userAgent);\n    },\n\n    /**\n     * Check if device is Android\n     * @returns {boolean}\n     */\n    isAndroid: function () {\n      return /Android/.test(navigator.userAgent);\n    },\n\n    /**\n     * Detect keyboard visibility by viewport height change\n     */\n    detectKeyboard: function () {\n      const currentHeight = window.innerHeight;\n      const heightDiff = this.state.originalViewportHeight - currentHeight;\n\n      // Keyboard is considered visible if viewport shrinks by more than 150px\n      if (heightDiff > 150) {\n        if (!this.state.isVisible) {\n          this.state.isVisible = true;\n          this.state.keyboardHeight = heightDiff;\n          this.onKeyboardShow();\n        }\n      } else {\n        if (this.state.isVisible) {\n          this.state.isVisible = false;\n          this.state.keyboardHeight = 0;\n          this.onKeyboardHide();\n        }\n      }\n    },\n\n    /**\n     * Called when keyboard is shown\n     */\n    onKeyboardShow: function () {\n      document.documentElement.classList.add('keyboard-visible');\n      document.body.classList.add('keyboard-visible');\n\n      // Dispatch custom event\n      const event = new CustomEvent('mobile:keyboardshow', {\n        detail: { height: this.state.keyboardHeight }\n      });\n      window.dispatchEvent(event);\n\n      // Adjust modals\n      this.adjustModalsForKeyboard();\n\n      // Adjust dropdowns\n      this.adjustDropdownsForKeyboard();\n\n      console.log('Keyboard shown, height:', this.state.keyboardHeight);\n    },\n\n    /**\n     * Called when keyboard is hidden\n     */\n    onKeyboardHide: function () {\n      document.documentElement.classList.remove('keyboard-visible');\n      document.body.classList.remove('keyboard-visible');\n\n      // Dispatch custom event\n      const event = new CustomEvent('mobile:keyboardhide');\n      window.dispatchEvent(event);\n\n      // Reset modal adjustments\n      this.resetModalAdjustments();\n\n      console.log('Keyboard hidden');\n    },\n\n    /**\n     * Adjust modal position when keyboard is visible\n     * REFACTORED: Using CSS classes instead of inline styles\n     */\n    adjustModalsForKeyboard: function () {\n      document.querySelectorAll('[data-modal].show').forEach(modal => {\n        const modalDialog = modal.querySelector('[data-modal-dialog]');\n        if (!modalDialog) return;\n\n        // Calculate available space\n        const availableHeight = window.innerHeight - this.state.keyboardHeight;\n        const modalHeight = modalDialog.offsetHeight;\n\n        if (modalHeight > availableHeight) {\n          // Modal is taller than available space, make it scrollable\n          modalDialog.classList.add('modal-keyboard-visible');\n        }\n\n        // Move modal up if keyboard would cover active input\n        if (this.state.activeInput) {\n          const inputRect = this.state.activeInput.getBoundingClientRect();\n          const keyboardTop = window.innerHeight - this.state.keyboardHeight;\n\n          if (inputRect.bottom > keyboardTop) {\n            modalDialog.classList.add('modal-keyboard-shift');\n          }\n        }\n      });\n    },\n\n    /**\n     * Reset modal adjustments after keyboard hide\n     * REFACTORED: Using CSS classes instead of inline styles\n     */\n    resetModalAdjustments: function () {\n      document.querySelectorAll('[data-modal].show [data-modal-dialog]').forEach(modalDialog => {\n        modalDialog.classList.remove('modal-keyboard-visible', 'modal-keyboard-shift');\n      });\n    },\n\n    /**\n     * Adjust dropdown position to avoid keyboard\n     * REFACTORED: Using CSS classes instead of inline styles\n     */\n    adjustDropdownsForKeyboard: function () {\n      document.querySelectorAll('[data-dropdown].show, [data-select-dropdown]').forEach(dropdown => {\n        const rect = dropdown.getBoundingClientRect();\n        const keyboardTop = window.innerHeight - this.state.keyboardHeight;\n\n        if (rect.bottom > keyboardTop) {\n          // Dropdown would be covered by keyboard, position it above\n          dropdown.classList.add('dropdown-above-keyboard');\n        }\n      });\n    },\n\n    /**\n     * Scroll input into view when focused\n     * @param {HTMLElement} input\n     */\n    scrollInputIntoView: function (input) {\n      if (!this.isMobile()) return;\n\n      // Wait for keyboard to appear (iOS delay)\n      setTimeout(() => {\n        const rect = input.getBoundingClientRect();\n        const keyboardTop = window.innerHeight - this.state.keyboardHeight;\n        const inputBottom = rect.bottom;\n\n        // Check if input is covered by keyboard\n        if (inputBottom > keyboardTop) {\n          // Calculate scroll amount\n          const scrollAmount = inputBottom - keyboardTop + 20;\n\n          // Scroll the input into view\n          input.scrollIntoView({\n            behavior: 'smooth',\n            block: 'center',\n            inline: 'nearest'\n          });\n\n          // Additional scroll if in modal\n          const modal = input.closest('[data-modal-body]');\n          if (modal) {\n            modal.scrollTop += scrollAmount;\n          }\n        }\n      }, 300); // Delay to let keyboard animation complete\n    },\n\n    /**\n     * Optimize input types for better mobile keyboards\n     * REFACTORED: Using CSS class for iOS font size fix\n     * @param {HTMLElement} input\n     */\n    optimizeInputType: function (input) {\n      const type = input.type;\n      const name = input.name || '';\n      const id = input.id || '';\n      const placeholder = input.placeholder || '';\n\n      // Email inputs\n      if (type === 'email' || name.includes('email') || id.includes('email')) {\n        input.type = 'email';\n        input.autocomplete = 'email';\n        input.inputMode = 'email';\n      }\n\n      // Phone inputs\n      if (name.includes('phone') || name.includes('tel') || id.includes('phone')) {\n        input.type = 'tel';\n        input.autocomplete = 'tel';\n        input.inputMode = 'tel';\n      }\n\n      // Number inputs\n      if (type === 'number' || name.includes('number') || placeholder.includes('number')) {\n        input.inputMode = 'numeric';\n        input.pattern = '[0-9]*'; // iOS numeric keyboard\n      }\n\n      // URL inputs\n      if (name.includes('url') || name.includes('website') || id.includes('url')) {\n        input.type = 'url';\n        input.autocomplete = 'url';\n        input.inputMode = 'url';\n      }\n\n      // Search inputs\n      if (type === 'search' || name.includes('search') || id.includes('search')) {\n        input.type = 'search';\n      }\n\n      // Username/password\n      if (name.includes('username') || id.includes('username')) {\n        input.autocomplete = 'username';\n      }\n\n      if (type === 'password') {\n        input.autocomplete = 'current-password';\n      }\n\n      // Prevent iOS zoom on focus (16px minimum)\n      // REFACTORED: Using CSS class instead of inline style\n      if (this.isIOS()) {\n        const fontSize = window.getComputedStyle(input).fontSize;\n        if (parseInt(fontSize) < 16) {\n          input.classList.add('ios-no-zoom');\n        }\n      }\n    },\n\n    /**\n     * Setup input focus handlers\n     */\n    setupInputHandlers: function () {\n      // Focus event for all inputs\n      document.addEventListener('focusin', (e) => {\n        const input = e.target;\n\n        // Only handle form inputs\n        if (!['INPUT', 'TEXTAREA', 'SELECT'].includes(input.tagName)) return;\n\n        this.state.activeInput = input;\n\n        // Add focused class to body for CSS styling\n        document.body.classList.add('input-focused');\n\n        // Scroll input into view\n        this.scrollInputIntoView(input);\n\n        // Trigger keyboard detection\n        setTimeout(() => this.detectKeyboard(), 100);\n\n      }, true);\n\n      // Blur event\n      document.addEventListener('focusout', (e) => {\n        this.state.activeInput = null;\n        document.body.classList.remove('input-focused');\n\n        // Check if keyboard is hiding\n        setTimeout(() => this.detectKeyboard(), 100);\n      }, true);\n\n      // Optimize all existing inputs\n      document.querySelectorAll('input, textarea').forEach(input => {\n        this.optimizeInputType(input);\n      });\n    },\n\n    /**\n     * iOS-specific fixes\n     * REFACTORED: Using CSS classes and custom properties instead of inline styles\n     */\n    setupIOSFixes: function () {\n      if (!this.isIOS()) return;\n\n      // Fix for iOS viewport height with keyboard\n      const setVH = () => {\n        const vh = window.innerHeight * 0.01;\n        document.documentElement.style.setProperty('--vh', `${vh}px`);\n      };\n\n      setVH();\n      window.addEventListener('resize', setVH);\n\n      // Fix for iOS scroll position after keyboard hide\n      window.addEventListener('focusout', () => {\n        setTimeout(() => {\n          window.scrollTo(0, 0);\n        }, 100);\n      });\n\n      // Fix for iOS date inputs\n      // REFACTORED: Using CSS class instead of inline styles\n      document.querySelectorAll('input[type=\"date\"], input[type=\"datetime-local\"], input[type=\"time\"]').forEach(input => {\n        input.classList.add('ios-date-input');\n      });\n\n      // Prevent rubber band scrolling when keyboard is open\n      document.addEventListener('touchmove', (e) => {\n        if (this.state.isVisible && this.state.activeInput) {\n          const scrollable = e.target.closest('[data-modal-body], [data-table-responsive], [data-scrollable]');\n          if (!scrollable) {\n            e.preventDefault();\n          }\n        }\n      }, { passive: false });\n    },\n\n    /**\n     * Android-specific fixes\n     */\n    setupAndroidFixes: function () {\n      if (!this.isAndroid()) return;\n\n      // Android soft keyboard detection via resize\n      let resizeTimeout;\n      window.addEventListener('resize', () => {\n        clearTimeout(resizeTimeout);\n        resizeTimeout = setTimeout(() => {\n          this.detectKeyboard();\n        }, 100);\n      });\n\n      // Fix for Android keyboard not pushing content up\n      if (this.state.isVisible && this.state.activeInput) {\n        const metaViewport = document.querySelector('meta[name=\"viewport\"]');\n        if (metaViewport) {\n          // Temporarily adjust viewport to force resize\n          const originalContent = metaViewport.content;\n          metaViewport.content = 'width=device-width, initial-scale=1.0, maximum-scale=1.0';\n          setTimeout(() => {\n            metaViewport.content = originalContent;\n          }, 300);\n        }\n      }\n    },\n\n    /**\n     * Setup form validation with keyboard awareness\n     */\n    setupFormValidation: function () {\n      document.querySelectorAll('form').forEach(form => {\n        form.addEventListener('submit', (e) => {\n          // Find first invalid input\n          const firstInvalid = form.querySelector(':invalid');\n\n          if (firstInvalid) {\n            e.preventDefault();\n\n            // Focus and scroll to first invalid input\n            firstInvalid.focus();\n            this.scrollInputIntoView(firstInvalid);\n\n            // Haptic feedback if available\n            if (window.Haptics) {\n              window.Haptics.validationError();\n            }\n          }\n        });\n\n        // Real-time validation\n        form.querySelectorAll('input, textarea, select').forEach(input => {\n          input.addEventListener('invalid', () => {\n            if (window.Haptics) {\n              window.Haptics.validationError();\n            }\n          });\n\n          input.addEventListener('input', () => {\n            if (input.validity.valid && input.classList.contains('is-invalid')) {\n              input.classList.remove('is-invalid');\n              input.classList.add('is-valid');\n            }\n          });\n        });\n      });\n    },\n\n    /**\n     * Setup mutation observer for dynamically added inputs\n     */\n    setupMutationObserver: function () {\n      const observer = new MutationObserver((mutations) => {\n        mutations.forEach(mutation => {\n          mutation.addedNodes.forEach(node => {\n            if (node.nodeType === 1) { // Element node\n              // Check if added node is an input\n              if (['INPUT', 'TEXTAREA', 'SELECT'].includes(node.tagName)) {\n                this.optimizeInputType(node);\n              }\n\n              // Check for inputs within added node\n              node.querySelectorAll?.('input, textarea, select').forEach(input => {\n                this.optimizeInputType(input);\n              });\n            }\n          });\n        });\n      });\n\n      observer.observe(document.body, {\n        childList: true,\n        subtree: true\n      });\n    },\n\n    /**\n     * Add CSS for keyboard-aware styling\n     * NOTE: Core styles moved to mobile-utils.css, keeping minimal dynamic styles\n     */\n    addKeyboardStyles: function () {\n      if (document.getElementById('mobile-keyboard-styles')) return;\n\n      const style = document.createElement('style');\n      style.id = 'mobile-keyboard-styles';\n      style.textContent = `\n        /* Keyboard visible state */\n        body.keyboard-visible {\n          /* Optional: adjust fixed elements */\n        }\n\n        /* Input focused state */\n        body.input-focused .navbar-fixed-bottom,\n        body.input-focused .mobile-bottom-nav {\n          transform: translateY(100%);\n          transition: transform 0.3s ease;\n        }\n\n        /* Ensure inputs are visible above keyboard */\n        [data-form-control]:focus,\n        [data-form-select]:focus,\n        textarea:focus {\n          position: relative;\n          z-index: 10;\n        }\n\n        /* iOS-specific: fix 100vh with keyboard */\n        @supports (-webkit-touch-callout: none) {\n          [data-modal-dialog],\n          [data-full-height] {\n            height: calc(var(--vh, 1vh) * 100);\n          }\n        }\n\n        /* Smooth transitions for keyboard adjustments */\n        [data-modal-dialog] {\n          transition: transform 0.3s ease, max-height 0.3s ease;\n        }\n      `;\n      document.head.appendChild(style);\n    },\n\n    /**\n     * Initialize keyboard handler\n     */\n    init: function () {\n      if (!this.isMobile()) {\n        console.log('MobileKeyboard: Not a mobile device, skipping initialization');\n        return;\n      }\n\n      // Setup handlers\n      this.setupInputHandlers();\n      this.setupFormValidation();\n      this.setupMutationObserver();\n\n      // Platform-specific fixes\n      if (this.isIOS()) {\n        this.setupIOSFixes();\n      }\n\n      if (this.isAndroid()) {\n        this.setupAndroidFixes();\n      }\n\n      // Add styles\n      this.addKeyboardStyles();\n\n      // Update viewport height on orientation change\n      window.addEventListener('orientationchange', () => {\n        setTimeout(() => {\n          this.state.originalViewportHeight = window.innerHeight;\n          this.detectKeyboard();\n        }, 200);\n      });\n\n      console.log('MobileKeyboard: Initialized successfully');\n    }\n  };\n\n  // Auto-initialize\n  if (document.readyState === 'loading') {\n    document.addEventListener('DOMContentLoaded', () => MobileKeyboard.init());\n  } else {\n    MobileKeyboard.init();\n  }\n\n  // Expose globally\n  window.MobileKeyboard = MobileKeyboard;\n\n})(window);\n","/**\n * Mobile Forms Enhancement\n *\n * Optimizes forms, modals, and input groups for mobile devices.\n * Handles match reporting, RSVP management, and other complex forms.\n *\n * Features:\n * - Dynamic modal sizing based on device\n * - Input group optimization for touch\n * - Swipe-to-delete for repeated entries\n * - Form field collapsing/expanding\n * - Better select dropdown handling\n *\n * REFACTORED: All inline style manipulations replaced with CSS classes\n * REFACTORED: All styling class selectors replaced with stable behavioral hooks\n */\n\n(function (window) {\n  'use strict';\n\n  const MobileForms = {\n    /**\n     * Check if device is mobile\n     */\n    isMobile: function () {\n      return window.innerWidth < 768;\n    },\n\n    /**\n     * Optimize modal sizes for mobile\n     */\n    optimizeModals: function () {\n      document.querySelectorAll('[data-modal]').forEach(modal => {\n        if (this.isMobile()) {\n          // Convert large modals to full-screen on mobile\n          const modalDialog = modal.querySelector('[data-modal-dialog]');\n          if (modalDialog) {\n            // If modal-lg, make it responsive\n            if (modalDialog.classList.contains('modal-lg')) {\n              modalDialog.classList.add('mobile-optimized-modal');\n            }\n\n            // Adjust modal content max-height with CSS class\n            const modalContent = modal.querySelector('[data-modal-content]');\n            if (modalContent) {\n              modalContent.classList.add('mobile-modal-content');\n            }\n          }\n        }\n      });\n    },\n\n    /**\n     * Optimize input groups for touch (match reporting events)\n     */\n    optimizeInputGroups: function () {\n      document.querySelectorAll('[data-input-group]').forEach(group => {\n        if (this.isMobile()) {\n          // Make select dropdowns full-width on mobile\n          const selects = group.querySelectorAll('select');\n          selects.forEach(select => {\n            select.classList.add('mobile-input-select');\n          });\n\n          // Make minute inputs larger on mobile\n          const inputs = group.querySelectorAll('input[type=\"number\"], input[placeholder*=\"Min\"]');\n          inputs.forEach(input => {\n            input.classList.add('mobile-input-number');\n          });\n\n          // Make remove buttons larger for touch\n          const removeButtons = group.querySelectorAll('[data-remove-btn], button[onclick*=\"remove\"]');\n          removeButtons.forEach(btn => {\n            btn.classList.add('mobile-remove-btn');\n          });\n        }\n      });\n    },\n\n    /**\n     * Add swipe-to-delete for input groups\n     */\n    setupSwipeToDelete: function () {\n      if (!window.Hammer || !this.isMobile()) return;\n\n      document.querySelectorAll('[data-input-group][id*=\"event-\"], [data-event-entry]').forEach(entry => {\n        const hammer = new Hammer(entry);\n        hammer.get('swipe').set({ direction: Hammer.DIRECTION_LEFT, threshold: 50 });\n\n        let deleteIndicator = entry.querySelector('.swipe-delete-indicator');\n        if (!deleteIndicator) {\n          deleteIndicator = document.createElement('div');\n          deleteIndicator.className = 'swipe-delete-indicator';\n          deleteIndicator.innerHTML = '<i class=\"ti ti-trash\"></i> Swipe to delete';\n\n          // Apply CSS classes instead of inline styles\n          entry.classList.add('swipe-container');\n          entry.appendChild(deleteIndicator);\n        }\n\n        hammer.on('swipeleft', () => {\n          // Show delete indicator\n          deleteIndicator.classList.add('swipe-visible');\n          entry.classList.add('swipe-active');\n\n          if (window.Haptics) window.Haptics.warning();\n\n          // Auto-hide after 3 seconds or on tap\n          const hideTimeout = setTimeout(() => {\n            deleteIndicator.classList.remove('swipe-visible');\n            entry.classList.remove('swipe-active');\n          }, 3000);\n\n          // Tap to confirm delete\n          deleteIndicator.onclick = () => {\n            clearTimeout(hideTimeout);\n\n            if (window.Haptics) window.Haptics.delete();\n\n            // Find and click the remove button\n            const removeBtn = entry.querySelector('[data-remove-btn], button[onclick*=\"remove\"]');\n            if (removeBtn) {\n              removeBtn.click();\n            }\n          };\n        });\n\n        hammer.on('swiperight', () => {\n          // Hide delete indicator\n          deleteIndicator.classList.remove('swipe-visible');\n          entry.classList.remove('swipe-active');\n        });\n      });\n    },\n\n    /**\n     * Optimize select2 dropdowns for mobile\n     */\n    optimizeSelect2: function () {\n      if (!this.isMobile()) return;\n\n      // Configure Select2 for mobile\n      if (window.jQuery && jQuery.fn.select2) {\n        jQuery('select.select2').each(function () {\n          const $select = jQuery(this);\n\n          // Reconfigure with mobile options\n          if ($select.hasClass('select2-hidden-accessible')) {\n            $select.select2('destroy');\n          }\n\n          $select.select2({\n            width: '100%',\n            dropdownAutoWidth: true,\n            dropdownCssClass: 'mobile-select2-dropdown',\n            containerCssClass: 'mobile-select2-container',\n            minimumResultsForSearch: 10 // Show search only for long lists\n          });\n        });\n      }\n    },\n\n    /**\n     * Make form sections collapsible on mobile\n     */\n    makeCollapsible: function () {\n      if (!this.isMobile()) return;\n\n      // Find form sections with multiple input groups\n      document.querySelectorAll('[data-modal-body] .row, [data-form-section]').forEach(section => {\n        const inputGroups = section.querySelectorAll('[data-input-group]');\n\n        if (inputGroups.length > 3) {\n          // Create collapsible header\n          const header = document.createElement('button');\n          header.type = 'button';\n          header.className = 'btn btn-link w-100 text-start mobile-collapse-toggle';\n          header.innerHTML = `\n            <span class=\"fw-bold\">${section.dataset.sectionTitle || 'Show/Hide Section'}</span>\n            <i class=\"ti ti-chevron-down float-end\"></i>\n          `;\n\n          const content = document.createElement('div');\n          content.className = 'mobile-collapse-content mobile-collapse-expanded';\n\n          // Move input groups to content\n          while (inputGroups.length > 0) {\n            content.appendChild(inputGroups[0]);\n          }\n\n          section.insertBefore(header, section.firstChild);\n          section.appendChild(content);\n\n          // Toggle handler\n          let isCollapsed = false;\n          header.onclick = () => {\n            isCollapsed = !isCollapsed;\n            const icon = header.querySelector('i');\n\n            if (isCollapsed) {\n              content.classList.remove('mobile-collapse-expanded');\n              content.classList.add('mobile-collapse-collapsed');\n              icon.classList.remove('ti-chevron-down');\n              icon.classList.add('ti-chevron-right');\n            } else {\n              content.classList.remove('mobile-collapse-collapsed');\n              content.classList.add('mobile-collapse-expanded');\n              icon.classList.remove('ti-chevron-right');\n              icon.classList.add('ti-chevron-down');\n            }\n\n            if (window.Haptics) window.Haptics.light();\n          };\n        }\n      });\n    },\n\n    /**\n     * Optimize DataTables for mobile\n     */\n    optimizeDataTables: function () {\n      if (!this.isMobile()) return;\n\n      if (window.jQuery && jQuery.fn.DataTable) {\n        jQuery('[data-table], .js-data-table').each(function () {\n          const $table = jQuery(this);\n\n          // Check if already initialized\n          if (jQuery.fn.DataTable.isDataTable($table)) {\n            const dt = $table.DataTable();\n\n            // Update responsive settings\n            dt.settings()[0].responsive = true;\n\n            // Hide specific columns on mobile\n            dt.columns([0, -1]).visible(true); // Keep first and last columns (name and actions)\n\n            // Adjust page length\n            dt.page.len(10).draw();\n          } else {\n            // Initialize with mobile settings\n            $table.DataTable({\n              responsive: true,\n              pageLength: 10,\n              dom: '<\"top\"f>rt<\"bottom\"ip><\"clear\">',\n              language: {\n                search: 'Filter:',\n                lengthMenu: 'Show _MENU_',\n                info: 'Page _PAGE_ of _PAGES_',\n                infoEmpty: 'No entries',\n                infoFiltered: ''\n              }\n            });\n          }\n        });\n      }\n    },\n\n    /**\n     * Add quick action buttons for mobile\n     */\n    addQuickActions: function () {\n      // DISABLED: This function was creating duplicate submit buttons with inline styles\n      // Mobile modal buttons are now styled purely via CSS in mobile-modals.css\n      // This provides single source of truth and eliminates duplicate green submit button\n      // If haptic feedback is needed, it should be added to existing submit button click handlers\n      return;\n    },\n\n    /**\n     * Improve textarea handling on mobile\n     */\n    optimizeTextareas: function () {\n      document.querySelectorAll('textarea').forEach(textarea => {\n        if (this.isMobile()) {\n          // Add CSS class for minimum height\n          textarea.classList.add('mobile-textarea');\n\n          // Auto-expand on focus\n          textarea.addEventListener('focus', () => {\n            textarea.classList.add('mobile-textarea-expanded');\n          });\n\n          // Character count if needed\n          const maxLength = textarea.getAttribute('maxlength');\n          if (maxLength) {\n            let counter = textarea.parentElement.querySelector('.char-counter');\n            if (!counter) {\n              counter = document.createElement('div');\n              counter.className = 'char-counter text-muted small';\n              textarea.parentElement.appendChild(counter);\n            }\n\n            const updateCounter = () => {\n              const remaining = maxLength - textarea.value.length;\n              counter.textContent = `${remaining} characters remaining`;\n\n              // Toggle warning class based on remaining characters\n              if (remaining < 20) {\n                counter.classList.add('char-counter-warning');\n              } else {\n                counter.classList.remove('char-counter-warning');\n              }\n            };\n\n            textarea.addEventListener('input', updateCounter);\n            updateCounter();\n          }\n        }\n      });\n    },\n\n    /**\n     * Add floating labels for better mobile UX\n     */\n    convertToFloatingLabels: function () {\n      if (!this.isMobile()) return;\n\n      document.querySelectorAll('[data-form-group]:not(.form-floating)').forEach(group => {\n        const label = group.querySelector('label');\n        const input = group.querySelector('input, select, textarea');\n\n        if (label && input && !input.closest('[data-input-group]')) {\n          // Convert to floating label\n          group.classList.add('form-floating');\n          group.appendChild(label); // Move label after input\n        }\n      });\n    },\n\n    /**\n     * Setup form validation with mobile feedback\n     */\n    setupMobileValidation: function () {\n      document.querySelectorAll('form').forEach(form => {\n        form.addEventListener('submit', (e) => {\n          const invalidFields = form.querySelectorAll(':invalid');\n\n          if (invalidFields.length > 0) {\n            e.preventDefault();\n\n            // Show first error\n            const firstInvalid = invalidFields[0];\n            firstInvalid.scrollIntoView({ behavior: 'smooth', block: 'center' });\n            firstInvalid.focus();\n\n            // Visual feedback with CSS class\n            firstInvalid.classList.add('shake-invalid');\n            setTimeout(() => firstInvalid.classList.remove('shake-invalid'), 500);\n\n            // Haptic feedback\n            if (window.Haptics) window.Haptics.validationError();\n\n            // Show toast\n            if (window.Swal) {\n              Swal.fire({\n                toast: true,\n                position: 'top',\n                icon: 'error',\n                title: 'Please fill out all required fields',\n                showConfirmButton: false,\n                timer: 3000\n              });\n            }\n          }\n        });\n\n        // Real-time validation feedback\n        form.querySelectorAll('input, select, textarea').forEach(field => {\n          field.addEventListener('blur', () => {\n            if (field.validity.valid) {\n              field.classList.remove('is-invalid');\n              field.classList.add('is-valid');\n            } else if (field.value) {\n              field.classList.remove('is-valid');\n              field.classList.add('is-invalid');\n              if (window.Haptics) window.Haptics.light();\n            }\n          });\n        });\n      });\n    },\n\n    /**\n     * Add CSS for mobile form enhancements\n     */\n    addMobileFormStyles: function () {\n      if (document.getElementById('mobile-form-styles')) return;\n\n      const style = document.createElement('style');\n      style.id = 'mobile-form-styles';\n      style.textContent = `\n        /* Mobile modal optimization */\n        @media (max-width: 767.98px) {\n          .mobile-optimized-modal {\n            max-width: 100%;\n            margin: 0;\n          }\n\n          .mobile-optimized-modal [data-modal-content] {\n            border-radius: 16px 16px 0 0;\n          }\n\n          /* Input group stacking */\n          [data-input-group] {\n            flex-wrap: wrap;\n            gap: 8px;\n          }\n\n          [data-input-group] > * {\n            flex: 1 1 auto;\n            min-width: 0;\n          }\n\n          [data-input-group] [data-remove-btn],\n          [data-input-group] button[onclick*=\"remove\"] {\n            flex: 0 0 44px;\n            min-width: 44px !important;\n            min-height: 44px !important;\n            padding: 0;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n          }\n\n          /* Select2 mobile */\n          .mobile-select2-dropdown {\n            font-size: 16px !important;\n          }\n\n          .mobile-select2-container .select2-selection {\n            min-height: 44px;\n            padding: 8px 12px;\n          }\n\n          /* Shake animation for validation */\n          @keyframes shake {\n            0%, 100% { transform: translateX(0); }\n            25% { transform: translateX(-10px); }\n            75% { transform: translateX(10px); }\n          }\n\n          .shake-invalid {\n            animation: shake 0.3s ease-in-out;\n            border-color: var(--bs-danger) !important;\n          }\n\n          /* Mobile form row stacking */\n          [data-modal-body] .row.g-2 {\n            row-gap: 16px !important;\n          }\n\n          [data-modal-body] .col-md-6,\n          [data-modal-body] .col-lg-6 {\n            width: 100%;\n          }\n\n          /* Sticky submit button spacing */\n          [data-modal-footer] {\n            padding-bottom: 0 !important;\n          }\n\n          /* Larger touch targets in modals */\n          [data-modal] .btn {\n            min-height: 48px;\n            font-size: 16px;\n            padding: 12px 24px;\n          }\n\n          [data-modal] .form-control,\n          [data-modal] .form-select {\n            min-height: 44px;\n            font-size: 16px;\n          }\n        }\n\n        /* Swipe delete indicator */\n        .swipe-delete-indicator {\n          font-size: 14px;\n          font-weight: 600;\n          cursor: pointer;\n        }\n\n        /* Entry transition for swipe */\n        [data-input-group],\n        [data-event-entry] {\n          transition: transform 0.3s ease;\n        }\n      `;\n      document.head.appendChild(style);\n    },\n\n    /**\n     * Initialize all mobile form enhancements\n     */\n    init: function () {\n      // Add styles first\n      this.addMobileFormStyles();\n\n      // Run optimizations\n      this.optimizeModals();\n      this.optimizeInputGroups();\n      this.optimizeSelect2();\n      this.optimizeDataTables();\n      this.optimizeTextareas();\n      this.setupMobileValidation();\n\n      if (this.isMobile()) {\n        this.setupSwipeToDelete();\n        this.addQuickActions();\n        // this.makeCollapsible(); // Optional: enable if needed\n        // this.convertToFloatingLabels(); // Optional: enable if needed\n      }\n\n      // Re-run on modal shown\n      document.addEventListener('shown.bs.modal', () => {\n        setTimeout(() => {\n          this.optimizeInputGroups();\n          this.setupSwipeToDelete();\n          this.addQuickActions();\n        }, 100);\n      });\n\n      // Re-run on window resize\n      let resizeTimeout;\n      window.addEventListener('resize', () => {\n        clearTimeout(resizeTimeout);\n        resizeTimeout = setTimeout(() => {\n          if (this.isMobile()) {\n            this.optimizeInputGroups();\n          }\n        }, 250);\n      });\n\n      console.log('MobileForms: Initialized successfully (refactored with CSS classes and stable selectors)');\n    }\n  };\n\n  // Expose globally\n  window.MobileForms = MobileForms;\n\n  // Register with InitSystem if available\n  if (typeof window.InitSystem !== 'undefined' && window.InitSystem.register) {\n    window.InitSystem.register('mobile-forms', function() {\n      MobileForms.init();\n    }, {\n      priority: 60,\n      description: 'Mobile form optimizations (input groups, swipe, quick actions)',\n      reinitializable: true\n    });\n  } else {\n    // Fallback: Auto-initialize\n    if (document.readyState === 'loading') {\n      document.addEventListener('DOMContentLoaded', () => MobileForms.init());\n    } else {\n      MobileForms.init();\n    }\n  }\n\n})(window);\n","/**\n * Mobile Haptics - Vibration API Wrapper\n *\n * Provides tactile feedback for mobile user interactions using the Vibration API.\n * Enhances UX by confirming actions, indicating errors, and providing feedback.\n *\n * Browser Support:\n * - Chrome Android 32+\n * - Firefox Android 79+\n * - Safari iOS 13+ (limited)\n * - Gracefully degrades on unsupported devices\n */\n\n(function (window) {\n  'use strict';\n\n  /**\n   * Haptics controller with various vibration patterns\n   */\n  const Haptics = {\n    /**\n     * Check if Vibration API is supported\n     * @returns {boolean}\n     */\n    isSupported: function () {\n      return 'vibrate' in navigator || 'mozVibrate' in navigator || 'webkitVibrate' in navigator;\n    },\n\n    /**\n     * Normalize vibration method across browsers\n     * @private\n     */\n    _vibrate: function (pattern) {\n      if (!this.isSupported()) {\n        return false;\n      }\n\n      // Check if vibration is enabled in settings (could be stored in localStorage)\n      if (this.isDisabled()) {\n        return false;\n      }\n\n      try {\n        if (navigator.vibrate) {\n          return navigator.vibrate(pattern);\n        } else if (navigator.mozVibrate) {\n          return navigator.mozVibrate(pattern);\n        } else if (navigator.webkitVibrate) {\n          return navigator.webkitVibrate(pattern);\n        }\n      } catch (e) {\n        console.warn('Haptics error:', e);\n        return false;\n      }\n    },\n\n    /**\n     * Check if haptics is disabled by user preference\n     * @returns {boolean}\n     */\n    isDisabled: function () {\n      return localStorage.getItem('haptics-disabled') === 'true';\n    },\n\n    /**\n     * Enable haptic feedback\n     */\n    enable: function () {\n      localStorage.removeItem('haptics-disabled');\n    },\n\n    /**\n     * Disable haptic feedback\n     */\n    disable: function () {\n      localStorage.setItem('haptics-disabled', 'true');\n    },\n\n    /**\n     * Toggle haptic feedback on/off\n     * @returns {boolean} New state (true = enabled)\n     */\n    toggle: function () {\n      if (this.isDisabled()) {\n        this.enable();\n        return true;\n      } else {\n        this.disable();\n        return false;\n      }\n    },\n\n    /**\n     * Stop any ongoing vibration\n     */\n    stop: function () {\n      this._vibrate(0);\n    },\n\n    /* ===== Intensity Levels ===== */\n\n    /**\n     * Light haptic feedback (10ms)\n     * Use for: hover states, selections, minor interactions\n     */\n    light: function () {\n      return this._vibrate(10);\n    },\n\n    /**\n     * Medium haptic feedback (20ms)\n     * Use for: button taps, form submissions, standard interactions\n     */\n    medium: function () {\n      return this._vibrate(20);\n    },\n\n    /**\n     * Heavy haptic feedback (30ms)\n     * Use for: important actions, confirmations, alerts\n     */\n    heavy: function () {\n      return this._vibrate(30);\n    },\n\n    /* ===== Notification Patterns ===== */\n\n    /**\n     * Success pattern (short-pause-short)\n     * Use for: successful submissions, confirmations, completions\n     */\n    success: function () {\n      return this._vibrate([10, 50, 10]);\n    },\n\n    /**\n     * Error pattern (long-pause-long)\n     * Use for: validation errors, failed actions, warnings\n     */\n    error: function () {\n      return this._vibrate([30, 100, 30]);\n    },\n\n    /**\n     * Warning pattern (medium-pause-medium)\n     * Use for: caution messages, important notices\n     */\n    warning: function () {\n      return this._vibrate([20, 50, 20]);\n    },\n\n    /**\n     * Notification pattern (short pulses)\n     * Use for: new messages, alerts, reminders\n     */\n    notification: function () {\n      return this._vibrate([10, 30, 10, 30, 10]);\n    },\n\n    /* ===== Interaction Patterns ===== */\n\n    /**\n     * Selection pattern (single short pulse)\n     * Use for: selecting items, toggling checkboxes, radio buttons\n     */\n    selection: function () {\n      return this._vibrate(15);\n    },\n\n    /**\n     * Deselection pattern (two very short pulses)\n     * Use for: deselecting items, clearing selections\n     */\n    deselection: function () {\n      return this._vibrate([8, 20, 8]);\n    },\n\n    /**\n     * Swipe pattern (quick pulse)\n     * Use for: swipe gestures, page transitions\n     */\n    swipe: function () {\n      return this._vibrate(12);\n    },\n\n    /**\n     * Long press pattern (sustained vibration)\n     * Use for: indicating long press is detected, context menus\n     */\n    longPress: function () {\n      return this._vibrate(50);\n    },\n\n    /**\n     * Double tap pattern (two short pulses)\n     * Use for: double tap gestures, quick actions\n     */\n    doubleTap: function () {\n      return this._vibrate([15, 30, 15]);\n    },\n\n    /* ===== Draft-Specific Patterns ===== */\n\n    /**\n     * Player drafted pattern (celebratory)\n     * Use for: successful draft picks\n     */\n    drafted: function () {\n      return this._vibrate([20, 50, 20, 50, 30]);\n    },\n\n    /**\n     * Invalid selection pattern (rejection)\n     * Use for: trying to draft ineligible players\n     */\n    invalidSelection: function () {\n      return this._vibrate([40, 60, 40]);\n    },\n\n    /**\n     * Time warning pattern (urgent)\n     * Use for: draft timer running low\n     */\n    timeWarning: function () {\n      return this._vibrate([25, 100, 25, 100, 25]);\n    },\n\n    /* ===== Form Patterns ===== */\n\n    /**\n     * Input focus pattern (subtle)\n     * Use for: focusing form inputs\n     */\n    inputFocus: function () {\n      return this._vibrate(8);\n    },\n\n    /**\n     * Input validation error pattern\n     * Use for: real-time validation errors\n     */\n    validationError: function () {\n      return this._vibrate([25, 50, 25]);\n    },\n\n    /**\n     * Form submission pattern\n     * Use for: form submit button taps\n     */\n    formSubmit: function () {\n      return this._vibrate(18);\n    },\n\n    /* ===== Navigation Patterns ===== */\n\n    /**\n     * Menu open pattern\n     * Use for: opening sidebar, dropdowns\n     */\n    menuOpen: function () {\n      return this._vibrate(15);\n    },\n\n    /**\n     * Menu close pattern\n     * Use for: closing sidebar, dropdowns\n     */\n    menuClose: function () {\n      return this._vibrate(12);\n    },\n\n    /**\n     * Modal open pattern\n     * Use for: opening modals, bottom sheets\n     */\n    modalOpen: function () {\n      return this._vibrate([10, 30, 15]);\n    },\n\n    /**\n     * Modal close pattern\n     * Use for: closing modals, bottom sheets\n     */\n    modalClose: function () {\n      return this._vibrate(15);\n    },\n\n    /* ===== Table/List Patterns ===== */\n\n    /**\n     * Refresh pattern (pull-to-refresh)\n     * Use for: refresh actions, data reloads\n     */\n    refresh: function () {\n      return this._vibrate([15, 50, 15, 50, 20]);\n    },\n\n    /**\n     * Delete pattern (destructive action)\n     * Use for: swipe-to-delete, item removal\n     */\n    delete: function () {\n      return this._vibrate([35, 60, 35]);\n    },\n\n    /**\n     * Archive pattern\n     * Use for: archiving items\n     */\n    archive: function () {\n      return this._vibrate([12, 40, 12]);\n    },\n\n    /* ===== Custom Pattern ===== */\n\n    /**\n     * Play a custom vibration pattern\n     * @param {number|number[]} pattern - Duration or array of [vibrate, pause, vibrate, ...]\n     * @returns {boolean} Success\n     */\n    custom: function (pattern) {\n      return this._vibrate(pattern);\n    }\n  };\n\n  /**\n   * Initialize haptics with event listeners\n   */\n  Haptics.init = function () {\n    if (!this.isSupported()) {\n      console.log('Haptics: Vibration API not supported');\n      return;\n    }\n\n    // Auto-add haptic feedback to common elements\n    // Note: Module-level DOMContentLoaded ensures this runs after DOM is ready\n\n    // Buttons\n    document.querySelectorAll('.btn:not([data-haptics=\"false\"])').forEach(btn => {\n      btn.addEventListener('click', (e) => {\n        // Check button type for appropriate feedback\n        if (btn.classList.contains('btn-success')) {\n          Haptics.success();\n        } else if (btn.classList.contains('btn-danger')) {\n          Haptics.warning();\n        } else {\n          Haptics.medium();\n        }\n      }, { passive: true });\n    });\n\n    // Form inputs\n    document.querySelectorAll('.form-control, .form-select').forEach(input => {\n      input.addEventListener('focus', () => {\n        Haptics.inputFocus();\n      }, { passive: true });\n\n      input.addEventListener('invalid', () => {\n        Haptics.validationError();\n      });\n    });\n\n    // Checkboxes and radios\n    document.querySelectorAll('input[type=\"checkbox\"], input[type=\"radio\"]').forEach(input => {\n      input.addEventListener('change', () => {\n        if (input.checked) {\n          Haptics.selection();\n        } else {\n          Haptics.deselection();\n        }\n      }, { passive: true });\n    });\n\n    // Nav links\n    document.querySelectorAll('.nav-link:not([data-haptics=\"false\"])').forEach(link => {\n      link.addEventListener('click', () => {\n        Haptics.light();\n      }, { passive: true });\n    });\n\n    // Modal events\n    document.querySelectorAll('.modal').forEach(modal => {\n      modal.addEventListener('shown.bs.modal', () => {\n        Haptics.modalOpen();\n      });\n\n      modal.addEventListener('hidden.bs.modal', () => {\n        Haptics.modalClose();\n      });\n    });\n\n    console.log('Haptics: Initialized successfully');\n  };\n\n  // Auto-initialize\n  if (document.readyState === 'loading') {\n    document.addEventListener('DOMContentLoaded', () => Haptics.init());\n  } else {\n    Haptics.init();\n  }\n\n  // Expose globally\n  window.Haptics = Haptics;\n\n})(window);\n","/**\n * Responsive Tables JS\n * \n * Adds data-label attributes to table cells and handles responsive behavior\n * Automatically transforms all tables with .mobile-card-table class\n */\n\n(function() {\n  'use strict';\n  \n  const ResponsiveTables = {\n    /**\n     * Initialize responsive tables functionality\n     */\n    init: function() {\n      // Initialize tables when DOM is ready\n      this.processAllTables();\n      this.setupScrollTracking();\n      this.setupDataTables();\n      this.setupMutationObserver();\n    },\n    \n    /**\n     * Process all tables (prioritize .mobile-card-table, then all .table-responsive tables)\n     */\n    processAllTables: function() {\n      // First process tables with explicit mobile-card-table class\n      const mobileCardTables = document.querySelectorAll('table.mobile-card-table');\n      mobileCardTables.forEach(table => {\n        this.processTable(table);\n      });\n\n      // Then process all tables within .table-responsive containers\n      const responsiveTables = document.querySelectorAll('[data-table-responsive] table');\n      responsiveTables.forEach(table => {\n        // Skip if already processed or if it's within a horizontal-mobile table\n        if (!table.classList.contains('mobile-card-processed') &&\n            !table.closest('[data-table-horizontal-mobile]')) {\n          this.processTable(table);\n        }\n      });\n\n      // Process any standalone .table elements not in .table-responsive (fallback)\n      const standaloneTables = document.querySelectorAll('table.table:not(.mobile-card-processed)');\n      standaloneTables.forEach(table => {\n        // Only process if not already in a .table-responsive container\n        if (!table.closest('[data-table-responsive]') &&\n            !table.closest('[data-table-horizontal-mobile]') &&\n            window.innerWidth < 992) {\n          this.processTable(table);\n        }\n      });\n    },\n    \n    /**\n     * Process a single table by adding data-label attributes\n     * @param {HTMLElement} table - The table element to process\n     */\n    processTable: function(table) {\n      // Skip if table has already been processed\n      if (table.classList.contains('mobile-card-processed')) {\n        return;\n      }\n      \n      // Get header text values\n      const headerCells = table.querySelectorAll('thead th');\n      const headerTexts = Array.from(headerCells).map(th => th.textContent.trim());\n      \n      // Add data-label attributes to all body cells\n      const rows = table.querySelectorAll('tbody tr');\n      rows.forEach(row => {\n        const cells = row.querySelectorAll('td');\n        cells.forEach((cell, index) => {\n          // Only add data-label if we have a corresponding header and no existing data-label\n          if (index < headerTexts.length && !cell.hasAttribute('data-label')) {\n            cell.setAttribute('data-label', headerTexts[index]);\n          }\n          \n          // Special handling for cells containing only action buttons\n          if (this.isCellWithOnlyActions(cell)) {\n            cell.classList.add('table-actions');\n          }\n          \n          // Special handling for cells with avatars\n          if (this.isCellWithAvatar(cell)) {\n            cell.classList.add('avatar-cell');\n          }\n          \n          // Make sure empty cells still show their labels\n          if (!cell.textContent.trim() && !cell.querySelector('*')) {\n            const placeholder = document.createElement('span');\n            placeholder.classList.add('empty-cell-placeholder');\n            placeholder.innerText = \"\";\n            cell.appendChild(placeholder);\n          }\n        });\n      });\n      \n      // Mark table as processed\n      table.classList.add('mobile-card-processed');\n    },\n    \n    /**\n     * Check if a cell contains only action buttons\n     * @param {HTMLElement} cell - The table cell to check\n     * @return {boolean} True if cell contains only action buttons\n     */\n    isCellWithOnlyActions: function(cell) {\n      // Get direct children\n      const children = Array.from(cell.children);\n      \n      // If no children, not an action cell\n      if (children.length === 0) {\n        return false;\n      }\n      \n      // Check if all children are buttons or links with button classes\n      return children.every(child => {\n        return (\n          child.tagName === 'BUTTON' ||\n          child.tagName === 'A' && child.classList.contains('btn') ||\n          child.hasAttribute('data-dropdown') ||\n          child.hasAttribute('data-btn-group')\n        );\n      });\n    },\n    \n    /**\n     * Check if a cell contains an avatar\n     * @param {HTMLElement} cell - The table cell to check\n     * @return {boolean} True if cell contains an avatar\n     */\n    isCellWithAvatar: function(cell) {\n      return (\n        cell.querySelector('[data-avatar]') !== null ||\n        cell.querySelector('img[data-rounded-circle]') !== null ||\n        cell.querySelector('img[data-avatar]') !== null\n      );\n    },\n    \n    /**\n     * Track scrolling on table-responsive-scroll elements\n     */\n    setupScrollTracking: function() {\n      const scrollTables = document.querySelectorAll('[data-table-responsive-scroll]');\n\n      scrollTables.forEach(tableWrapper => {\n        tableWrapper.addEventListener('scroll', function() {\n          if (this.scrollLeft > 10) {\n            this.classList.add('is-scrolled');\n          } else {\n            this.classList.remove('is-scrolled');\n          }\n        });\n      });\n    },\n    \n    /**\n     * Setup DataTables compatibility\n     */\n    setupDataTables: function() {\n      // Only proceed if DataTables is available\n      if (typeof $.fn.dataTable !== 'undefined') {\n        // Default DataTables setup for mobile\n        $.extend(true, $.fn.dataTable.defaults, {\n          responsive: true,\n          drawCallback: function() {\n            // Ensure mobile card processing on DataTables\n            if (this.hasClass('mobile-card-table')) {\n              ResponsiveTables.processTable(this[0]);\n            }\n          }\n        });\n        \n        // Process any existing DataTables\n        $('.dataTable.mobile-card-table').each(function() {\n          ResponsiveTables.processTable(this);\n        });\n      }\n    },\n    \n    /**\n     * Setup MutationObserver to detect and process newly added tables\n     */\n    setupMutationObserver: function() {\n      // Create observer instance\n      const observer = new MutationObserver((mutations) => {\n        let shouldProcess = false;\n        \n        mutations.forEach(mutation => {\n          // Check for added nodes\n          if (mutation.addedNodes && mutation.addedNodes.length) {\n            for (let i = 0; i < mutation.addedNodes.length; i++) {\n              const node = mutation.addedNodes[i];\n              \n              // Check if node is an element\n              if (node.nodeType === 1) {\n                // Check if it's a table with our class\n                if (node.matches && node.matches('table.mobile-card-table')) {\n                  shouldProcess = true;\n                  break;\n                }\n                \n                // Check if it contains tables with our class\n                if (node.querySelectorAll && node.querySelectorAll('table.mobile-card-table').length) {\n                  shouldProcess = true;\n                  break;\n                }\n              }\n            }\n          }\n        });\n        \n        // Process tables if needed\n        if (shouldProcess) {\n          this.processAllTables();\n        }\n      });\n      \n      // Start observing document body\n      observer.observe(document.body, {\n        childList: true,\n        subtree: true\n      });\n    }\n  };\n  \n  // Make available globally\n  window.ResponsiveTables = ResponsiveTables;\n\n  // Register with InitSystem if available\n  if (typeof window.InitSystem !== 'undefined' && window.InitSystem.register) {\n    window.InitSystem.register('responsive-tables', function() {\n      ResponsiveTables.init();\n    }, {\n      priority: 60,\n      description: 'Responsive table system (card view on mobile, data-labels)',\n      reinitializable: true\n    });\n  } else {\n    // Fallback: Initialize when document is ready\n    document.addEventListener('DOMContentLoaded', function() {\n      ResponsiveTables.init();\n    });\n  }\n})();\n","/**\n * ECS Soccer League Design System Helper\n *\n * This script helps enforce consistent application of the design system\n * across all templates by:\n * 1. Converting Bootstrap classes to design system classes\n * 2. Adding responsive behaviors to components\n * 3. Providing helper functions for common UI patterns\n */\n\n(function() {\n  'use strict';\n\n  // Main design system helper\n  const ECSDesignSystem = {\n    // Initialize the design system\n    init: function() {\n      // Add the design system stylesheet to the page\n      this.ensureStylesheetLoaded();\n\n      // Apply consistent styling to standard components\n      this.enhanceButtons();\n      this.enhanceCards();\n      this.enhanceForms();\n      this.enhanceModals();\n      this.enhanceTables();\n      this.enhanceNavs();\n\n      // Set up responsive behaviors\n      this.setupResponsive();\n\n      // Set up dark mode\n      this.setupDarkMode();\n\n      // Add any custom behaviors\n      this.setupCustomBehaviors();\n    },\n\n    // Ensure the ECS CSS architecture is loaded\n    ensureStylesheetLoaded: function() {\n      // DISABLED: These CSS files don't exist in the project\n      // Commenting out to prevent 404 errors\n      /*\n      // Load core CSS if not already present\n      if (!document.getElementById('ecs-core-stylesheet')) {\n        const coreLink = document.createElement('link');\n        coreLink.id = 'ecs-core-stylesheet';\n        coreLink.rel = 'stylesheet';\n        coreLink.href = '/static/css/ecs-core.css';\n        document.head.appendChild(coreLink);\n      }\n\n      // Load components CSS if not already present\n      if (!document.getElementById('ecs-components-stylesheet')) {\n        const componentsLink = document.createElement('link');\n        componentsLink.id = 'ecs-components-stylesheet';\n        componentsLink.rel = 'stylesheet';\n        componentsLink.href = '/static/css/ecs-components.css';\n        document.head.appendChild(componentsLink);\n      }\n\n      // Load utilities CSS if not already present\n      if (!document.getElementById('ecs-utilities-stylesheet')) {\n        const utilitiesLink = document.createElement('link');\n        utilitiesLink.id = 'ecs-utilities-stylesheet';\n        utilitiesLink.rel = 'stylesheet';\n        utilitiesLink.href = '/static/css/ecs-utilities.css';\n        document.head.appendChild(utilitiesLink);\n      }\n      */\n    },\n\n    // Add consistent styling to buttons\n    enhanceButtons: function() {\n      // Map Bootstrap button classes to design system classes\n      const btnClassMap = {\n        'btn-primary': 'ecs-btn ecs-btn-primary',\n        'btn-secondary': 'ecs-btn ecs-btn-secondary',\n        'btn-success': 'ecs-btn ecs-btn-success',\n        'btn-info': 'ecs-btn ecs-btn-info',\n        'btn-warning': 'ecs-btn ecs-btn-warning',\n        'btn-danger': 'ecs-btn ecs-btn-danger',\n        'btn-dark': 'ecs-btn ecs-btn-dark',\n        'btn-outline-primary': 'ecs-btn ecs-btn-outline-primary',\n        'btn-outline-secondary': 'ecs-btn ecs-btn-outline-secondary',\n        'btn-sm': 'ecs-btn-sm',\n        'btn-lg': 'ecs-btn-lg'\n      };\n\n      // Selectors to exclude from button enhancement (BEM components with their own styling)\n      const excludeSelectors = [\n        '.c-admin-nav',         // Admin navigation component\n        '.c-mobile-nav',        // Mobile navigation component\n        '.c-modal',             // BEM modal components\n        '.c-btn-modern',        // BEM button components\n        '.c-form-modern',       // BEM form components\n        '.c-settings-tabs',     // Settings tabs component\n        '.c-messages-inbox',    // Messages inbox component\n        '.c-tabs',              // BEM tabs component\n        '.c-schedule',          // Team schedule accordion\n        '.c-schedule-controls', // Schedule expand/collapse controls\n        '[data-no-enhance]'     // Explicit opt-out attribute\n      ];\n      const excludeSelector = excludeSelectors.join(', ');\n\n      // Apply design system classes to buttons\n      document.querySelectorAll('button, [type=\"button\"], [type=\"submit\"], [role=\"button\"]').forEach(button => {\n        // Skip buttons inside excluded components\n        if (button.closest(excludeSelector)) {\n          return;\n        }\n\n        // Skip BEM component buttons that have their own styling\n        if (button.classList.contains('c-tabs__item') ||\n            button.classList.contains('c-btn') ||\n            button.classList.contains('c-nav__item') ||\n            button.classList.contains('c-schedule-controls__btn')) {\n          return;\n        }\n\n        if (!button.classList.contains('ecs-btn')) {\n          button.classList.add('ecs-btn');\n\n          // Add appropriate design system classes\n          for (const [bootstrapClass, ecsClass] of Object.entries(btnClassMap)) {\n            if (button.classList.contains(bootstrapClass)) {\n              // Add our classes\n              ecsClass.split(' ').forEach(cls => {\n                if (!button.classList.contains(cls)) {\n                  button.classList.add(cls);\n                }\n              });\n            }\n          }\n\n          // Add icon wrapper if button has an icon\n          if (button.querySelector('[data-icon], [class*=\"icon-\"], [class*=\"ti-\"], [class*=\"feather-\"]')) {\n            button.classList.add('ecs-btn-icon');\n          }\n        }\n      });\n    },\n\n    // Add consistent styling to cards\n    enhanceCards: function() {\n      // Map Bootstrap card classes to design system classes\n      const cardClassMap = {\n        'card': 'ecs-card',\n        'card-header': 'ecs-card-header',\n        'card-body': 'ecs-card-body',\n        'card-footer': 'ecs-card-footer',\n        'card-title': 'ecs-card-title',\n        'card-subtitle': 'ecs-card-subtitle'\n      };\n\n      // Header color mappings\n      const headerColorMap = {\n        'bg-primary': 'ecs-card-header-primary',\n        'bg-secondary': 'ecs-card-header-secondary',\n        'bg-success': 'ecs-card-header-success',\n        'bg-info': 'ecs-card-header-info',\n        'bg-warning': 'ecs-card-header-warning',\n        'bg-danger': 'ecs-card-header-danger',\n        'bg-dark': 'ecs-card-header-dark'\n      };\n\n      // Apply design system classes to cards\n      document.querySelectorAll('[data-component=\"card\"], [data-role*=\"card\"]').forEach(card => {\n        if (!card.classList.contains('ecs-card')) {\n          card.classList.add('ecs-card');\n\n          // Process card components\n          Object.entries(cardClassMap).forEach(([bootstrapClass, ecsClass]) => {\n            card.querySelectorAll(`[data-card-part=\"${bootstrapClass.replace('card-', '')}\"]`).forEach(element => {\n              if (!element.classList.contains(ecsClass)) {\n                element.classList.add(ecsClass);\n              }\n            });\n          });\n\n          // Process card header colors\n          const cardHeader = card.querySelector('[data-card-part=\"header\"]');\n          if (cardHeader) {\n            Object.entries(headerColorMap).forEach(([bootstrapClass, ecsClass]) => {\n              if (cardHeader.classList.contains(bootstrapClass) && !cardHeader.classList.contains(ecsClass)) {\n                cardHeader.classList.add(ecsClass);\n              }\n            });\n          }\n        }\n      });\n    },\n\n    // Add consistent styling to forms\n    enhanceForms: function() {\n      // Map Bootstrap form classes to design system classes\n      const formClassMap = {\n        'form-control': 'ecs-form-control',\n        'form-select': 'ecs-form-select',\n        'form-check': 'ecs-form-check',\n        'form-check-input': 'ecs-form-check-input',\n        'form-label': 'ecs-form-label',\n        'form-text': 'ecs-form-text',\n        'form-floating': 'ecs-form-floating'\n      };\n\n      // Apply design system classes to form elements\n      Object.entries(formClassMap).forEach(([bootstrapClass, ecsClass]) => {\n        document.querySelectorAll(`[data-form-element], [data-input-type]`).forEach(element => {\n          if (!element.classList.contains(ecsClass)) {\n            element.classList.add(ecsClass);\n          }\n        });\n      });\n\n      // Handle validation states\n      document.querySelectorAll('[data-validation-state=\"valid\"], [data-validation-state=\"invalid\"]').forEach(field => {\n        if (field.getAttribute('data-validation-state') === 'valid') {\n          field.classList.add('ecs-is-valid');\n        } else if (field.getAttribute('data-validation-state') === 'invalid') {\n          field.classList.add('ecs-is-invalid');\n        }\n      });\n    },\n\n    // Add consistent styling to modals\n    enhanceModals: function() {\n      // Skip BEM modals - they have their own styling\n      const bemModalSelector = '.c-modal';\n\n      // Map Bootstrap modal classes to design system classes\n      const modalClassMap = {\n        'modal': 'ecs-modal',\n        'modal-dialog': 'ecs-modal-dialog',\n        'modal-content': 'ecs-modal-content',\n        'modal-header': 'ecs-modal-header',\n        'modal-body': 'ecs-modal-body',\n        'modal-footer': 'ecs-modal-footer',\n        'modal-title': 'ecs-modal-title',\n        'btn-close': 'ecs-modal-close',\n        'modal-dialog-centered': 'ecs-modal-dialog-centered',\n        'modal-dialog-scrollable': 'ecs-modal-dialog-scrollable',\n        'modal-sm': 'ecs-modal-sm',\n        'modal-lg': 'ecs-modal-lg',\n        'modal-xl': 'ecs-modal-xl'\n      };\n\n      // Apply design system classes to modals (skip BEM modals)\n      Object.entries(modalClassMap).forEach(([bootstrapClass, ecsClass]) => {\n        document.querySelectorAll(`[data-component=\"${bootstrapClass}\"], [data-modal-part]`).forEach(element => {\n          // Skip if this is a BEM modal\n          if (element.closest(bemModalSelector)) return;\n          if (!element.classList.contains(ecsClass)) {\n            element.classList.add(ecsClass);\n          }\n        });\n      });\n\n      // Apply consistent behavior to all modals (skip BEM modals)\n      document.querySelectorAll('[data-component=\"modal\"], [role=\"dialog\"]').forEach(modal => {\n        // Skip BEM modals - they use their own system\n        if (modal.classList.contains('c-modal')) return;\n\n        const modalId = modal.id;\n\n        // Handle modal opening - apply design system styles\n        modal.addEventListener('show.bs.modal', function() {\n          // Enhance any form elements inside the modal\n          this.querySelectorAll('[data-form-element], [data-input-type]').forEach(input => {\n            if (input.classList.contains('form-control')) {\n              input.classList.add('ecs-form-control');\n            } else if (input.classList.contains('form-select')) {\n              input.classList.add('ecs-form-select');\n            }\n          });\n\n          // Enhance buttons inside the modal\n          this.querySelectorAll('button, [type=\"button\"], [type=\"submit\"], [role=\"button\"]').forEach(button => {\n            if (!button.classList.contains('ecs-btn')) {\n              button.classList.add('ecs-btn');\n            }\n          });\n        });\n      });\n    },\n\n    // Add consistent styling to tables\n    enhanceTables: function() {\n      // Map Bootstrap table classes to design system classes\n      const tableClassMap = {\n        'table': 'ecs-table',\n        'table-hover': 'ecs-table-hover',\n        'table-striped': 'ecs-table-striped',\n        'table-sm': 'ecs-table-sm'\n      };\n\n      // Apply design system classes to tables\n      Object.entries(tableClassMap).forEach(([bootstrapClass, ecsClass]) => {\n        document.querySelectorAll('[data-component=\"table\"], [role=\"table\"]').forEach(element => {\n          if (!element.classList.contains(ecsClass)) {\n            element.classList.add(ecsClass);\n          }\n        });\n      });\n    },\n\n    // Add consistent styling to navs and tabs\n    enhanceNavs: function() {\n      // Map Bootstrap nav classes to design system classes\n      const navClassMap = {\n        'nav': 'ecs-nav',\n        'nav-link': 'ecs-nav-link',\n        'nav-tabs': 'ecs-nav-tabs',\n        'nav-pills': 'ecs-nav-pills',\n        'active': 'ecs-active'\n      };\n\n      // Apply design system classes to navs\n      Object.entries(navClassMap).forEach(([bootstrapClass, ecsClass]) => {\n        document.querySelectorAll('[data-component=\"nav\"], [role=\"navigation\"] > [role=\"tablist\"]').forEach(element => {\n          if (!element.classList.contains(ecsClass)) {\n            element.classList.add(ecsClass);\n          }\n        });\n      });\n\n      // Ensure tab content has proper design system styling\n      document.querySelectorAll('[data-component=\"tab-content\"], [role=\"tabpanel\"]').forEach(element => {\n        if (element.hasAttribute('data-component')) {\n          element.classList.add('ecs-tab-content');\n        } else if (element.hasAttribute('role')) {\n          element.classList.add('ecs-tab-pane');\n        }\n      });\n    },\n\n    // Set up responsive behaviors\n    setupResponsive: function() {\n      // Adjust elements based on screen size\n      const adjustForScreenSize = () => {\n        const isMobile = window.innerWidth < 768;\n\n        // Adjust buttons on mobile\n        if (isMobile) {\n          document.querySelectorAll('button, [type=\"button\"], [type=\"submit\"], [role=\"button\"]').forEach(button => {\n            // Make sure mobile buttons have adequate touch targets\n            if (!button.classList.contains('btn-sm') && !button.classList.contains('ecs-btn-sm')) {\n              button.classList.add('touch-target');\n            }\n          });\n\n          // Make sure form controls have adequate size on mobile\n          // Exclude checkboxes and radio buttons (they don't trigger iOS zoom)\n          document.querySelectorAll('[data-form-element]:not([type=\"checkbox\"]):not([type=\"radio\"]), [data-input-type]:not([type=\"checkbox\"]):not([type=\"radio\"])').forEach(input => {\n            if (!input.classList.contains('ios-input')) {\n              input.classList.add('ios-input');\n            }\n          });\n        }\n      };\n\n      // Adjust on page load and resize\n      adjustForScreenSize();\n      window.addEventListener('resize', adjustForScreenSize);\n    },\n\n    // Set up dark mode\n    setupDarkMode: function() {\n      // Watch for changes to BOTH data-style and data-bs-theme attributes on the html element\n      const htmlElement = document.documentElement;\n\n      // Create an observer to monitor changes to theme attributes\n      const observer = new MutationObserver((mutations) => {\n        mutations.forEach((mutation) => {\n          if (mutation.type === 'attributes' &&\n              (mutation.attributeName === 'data-style' || mutation.attributeName === 'data-bs-theme')) {\n            const isDarkStyle = htmlElement.getAttribute('data-style') === 'dark';\n            const isDarkBsTheme = htmlElement.getAttribute('data-bs-theme') === 'dark';\n            const isDark = isDarkStyle || isDarkBsTheme;\n            this.applyDarkModeToContent(isDark);\n          }\n        });\n      });\n\n      // Start observing the html element for changes to theme attributes\n      observer.observe(htmlElement, { attributes: true });\n\n      // Initial application based on current state\n      const isDarkStyle = htmlElement.getAttribute('data-style') === 'dark';\n      const isDarkBsTheme = htmlElement.getAttribute('data-bs-theme') === 'dark';\n      const isDark = isDarkStyle || isDarkBsTheme;\n      this.applyDarkModeToContent(isDark);\n\n      // Add dark mode toggle functionality if it doesn't exist\n      if (!document.querySelector('.dark-mode-toggle')) {\n        this.addDarkModeToggle();\n      }\n    },\n\n    // Apply dark mode to content areas\n    // UPDATED: Minimal intervention - let Bootstrap CSS variables handle dark mode\n    // Templates now use var(--bs-*) variables which automatically adapt\n    applyDarkModeToContent: function(isDark) {\n      // Only add/remove marker class for CSS targeting - no inline styles\n      // This allows CSS-based dark mode to work without JavaScript conflicts\n      if (isDark) {\n        document.body.classList.add('dark-mode-body');\n      } else {\n        document.body.classList.remove('dark-mode-body');\n\n        // Clean up any legacy dark-mode-applied classes from previous state\n        document.querySelectorAll('.dark-mode-applied').forEach(element => {\n          element.classList.remove('dark-mode-applied');\n        });\n      }\n    },\n\n    // Add dark mode toggle if it doesn't exist\n    addDarkModeToggle: function() {\n      // DISABLED: Don't add the toggle at all since there's already one in the navbar.html\n      return;\n\n      /*\n      // The following code is kept for reference only but is completely commented out\n      // to prevent JavaScript syntax errors\n\n      const existingToggle = document.querySelector('.style-switcher-toggle');\n      if (existingToggle) {\n        return; // Don't duplicate if it already exists\n      }\n\n      const navbar = document.querySelector('.navbar-nav');\n      if (navbar) {\n        const toggleItem = document.createElement('li');\n        toggleItem.className = 'nav-item dark-mode-toggle';\n\n        // Check current theme and adjust icon accordingly\n        const currentTheme = document.documentElement.getAttribute('data-style') || 'light';\n        const icon = currentTheme === 'dark' ? 'ti ti-sun' : 'ti ti-moon-stars';\n\n        toggleItem.innerHTML = `\n          <a class=\"nav-link style-switcher-toggle\" href=\"javascript:void(0);\" title=\"Toggle Dark Mode\">\n            <i class=\"${icon}\"></i>\n          </a>\n        `;\n        navbar.prepend(toggleItem);\n\n        // Add click event to toggle dark mode\n        toggleItem.querySelector('a').addEventListener('click', () => {\n          const html = document.documentElement;\n          const currentStyle = html.getAttribute('data-style') || 'light';\n          const newStyle = currentStyle === 'dark' ? 'light' : 'dark';\n\n          // Update icon\n          const iconElement = toggleItem.querySelector('i');\n          if (iconElement) {\n            iconElement.className = newStyle === 'dark' ? 'ti ti-sun' : 'ti ti-moon-stars';\n          }\n\n          // Set theme\n          html.setAttribute('data-style', newStyle);\n\n          // Persist selection\n          localStorage.setItem('template-style', newStyle);\n\n          // Apply dark mode immediately to ensure all content areas are updated\n          this.applyDarkModeToContent(newStyle === 'dark');\n\n          // Make an AJAX request to store theme preference server-side\n          fetch('/set-theme', {\n            method: 'POST',\n            headers: {\n              'Content-Type': 'application/json',\n              'X-CSRFToken': document.querySelector('meta[name=\"csrf-token\"]').getAttribute('content')\n            },\n            body: JSON.stringify({ theme: newStyle })\n          }).catch(error => // console.error('Error saving theme preference:', error));\n        });\n      }\n      */\n    },\n\n    // Set up custom behaviors for the design system\n    setupCustomBehaviors: function() {\n      // Add ripple effect to buttons for better feedback\n      this.addRippleEffect();\n\n      // Improve keyboard navigation\n      this.improveKeyboardNavigation();\n\n      // Add support for custom transitions\n      this.setupTransitions();\n    },\n\n    // Add ripple effect to buttons - Modified to prevent button scaling issues\n    addRippleEffect: function() {\n      // Only apply ripple effect to non-modal buttons to prevent conflicts\n      document.querySelectorAll('button:not([data-bs-toggle=\"modal\"]), [type=\"button\"]:not([data-bs-toggle=\"modal\"]), [type=\"submit\"]:not([data-bs-toggle=\"modal\"]), [role=\"button\"]:not([data-bs-toggle=\"modal\"])').forEach(button => {\n        button.addEventListener('click', function(e) {\n          // Skip if this is a modal button\n          if (this.getAttribute('data-bs-toggle') === 'modal' ||\n              this.classList.contains('edit-match-btn') ||\n              this.closest('[data-bs-toggle=\"modal\"]')) {\n            return;\n          }\n\n          const ripple = document.createElement('span');\n          ripple.classList.add('waves-ripple');\n\n          const rect = this.getBoundingClientRect();\n          const size = Math.max(rect.width, rect.height);\n\n          // Set custom properties for ripple positioning\n          ripple.style.setProperty('--ripple-size', `${size}px`);\n          ripple.style.setProperty('--ripple-left', `${e.clientX - rect.left - size / 2}px`);\n          ripple.style.setProperty('--ripple-top', `${e.clientY - rect.top - size / 2}px`);\n\n          // Add transform-none class to prevent button scaling\n          ripple.classList.add('transform-none');\n\n          this.appendChild(ripple);\n\n          // Trigger animation by adding active class\n          setTimeout(() => {\n            ripple.classList.add('waves-ripple-active');\n          }, 10);\n\n          setTimeout(() => {\n            if (ripple.parentNode) {\n              ripple.parentNode.removeChild(ripple);\n            }\n          }, 600);\n        });\n      });\n\n      // console.log('Ripple effect added with scaling fix');\n    },\n\n    // Improve keyboard navigation for better accessibility\n    improveKeyboardNavigation: function() {\n      // Add focus styles to interactive elements\n      document.querySelectorAll('a, button, input, select, textarea, [tabindex]').forEach(element => {\n        element.addEventListener('focus', function() {\n          this.classList.add('ecs-focus');\n        });\n\n        element.addEventListener('blur', function() {\n          this.classList.remove('ecs-focus');\n        });\n      });\n    },\n\n    // Set up custom transitions\n    setupTransitions: function() {\n      // Add slide-in animation for elements with data-ecs-animate=\"slide-in\"\n      document.querySelectorAll('[data-ecs-animate=\"slide-in\"]').forEach(element => {\n        // Add initial state classes (opacity 0, translate down 20px)\n        element.classList.add('opacity-0', 'translate-y-20px', 'transition-smooth');\n\n        // Trigger animation after a short delay\n        setTimeout(() => {\n          // Add final state classes (opacity 1, translate to normal position)\n          element.classList.remove('opacity-0', 'translate-y-20px');\n          element.classList.add('opacity-100', 'translate-y-0');\n        }, 100);\n      });\n    }\n  };\n\n  // Make available globally\n  window.ECSDesignSystem = ECSDesignSystem;\n\n  // Register with InitSystem if available\n  if (typeof window.InitSystem !== 'undefined' && window.InitSystem.register) {\n    window.InitSystem.register('design-system', function() {\n      ECSDesignSystem.init();\n    }, {\n      priority: 90,\n      description: 'ECS Design System (theme, colors, focus states)',\n      reinitializable: false\n    });\n  } else {\n    // Fallback: Initialize on DOM ready\n    document.addEventListener('DOMContentLoaded', function() {\n      ECSDesignSystem.init();\n    });\n  }\n})();\n","/**\n * SweetAlert2 Contextual Helper\n *\n * Extends Swal.fire with smart contextual defaults for button text,\n * icons, and colors based on the action being performed.\n *\n * Usage:\n *   // Instead of Swal.fire({...})\n *   SwalContextual.confirm({\n *       title: 'Delete Item',\n *       text: 'Are you sure you want to delete this item?'\n *   }).then(result => { ... });\n *\n *   // Or use the shorthand methods:\n *   SwalContextual.delete('Are you sure?').then(...)\n *   SwalContextual.approve('Approve this user?').then(...)\n */\n\n(function() {\n    'use strict';\n\n    // Action configurations with smart defaults\n    const ACTION_CONFIGS = {\n        delete: {\n            icon: 'warning',\n            confirmButtonText: 'Delete',\n            confirmButtonColor: '#dc3545',\n            titlePrefix: 'Confirm Delete'\n        },\n        remove: {\n            icon: 'warning',\n            confirmButtonText: 'Remove',\n            confirmButtonColor: '#dc3545',\n            titlePrefix: 'Confirm Remove'\n        },\n        approve: {\n            icon: 'question',\n            confirmButtonText: 'Approve',\n            confirmButtonColor: '#28a745',\n            titlePrefix: 'Confirm Approval'\n        },\n        reject: {\n            icon: 'warning',\n            confirmButtonText: 'Reject',\n            confirmButtonColor: '#dc3545',\n            titlePrefix: 'Confirm Rejection'\n        },\n        deny: {\n            icon: 'warning',\n            confirmButtonText: 'Deny',\n            confirmButtonColor: '#dc3545',\n            titlePrefix: 'Confirm Denial'\n        },\n        send: {\n            icon: 'question',\n            confirmButtonText: 'Send',\n            confirmButtonColor: '#3085d6',\n            titlePrefix: 'Confirm Send'\n        },\n        sync: {\n            icon: 'question',\n            confirmButtonText: 'Sync',\n            confirmButtonColor: '#3085d6',\n            titlePrefix: 'Confirm Sync'\n        },\n        refresh: {\n            icon: 'question',\n            confirmButtonText: 'Refresh',\n            confirmButtonColor: '#3085d6',\n            titlePrefix: 'Confirm Refresh'\n        },\n        reset: {\n            icon: 'warning',\n            confirmButtonText: 'Reset',\n            confirmButtonColor: '#dc3545',\n            titlePrefix: 'Confirm Reset'\n        },\n        clear: {\n            icon: 'warning',\n            confirmButtonText: 'Clear',\n            confirmButtonColor: '#dc3545',\n            titlePrefix: 'Confirm Clear'\n        },\n        cancel: {\n            icon: 'warning',\n            confirmButtonText: 'Yes, Cancel',\n            confirmButtonColor: '#dc3545',\n            titlePrefix: 'Confirm Cancellation'\n        },\n        disable: {\n            icon: 'warning',\n            confirmButtonText: 'Disable',\n            confirmButtonColor: '#dc3545',\n            titlePrefix: 'Confirm Disable'\n        },\n        enable: {\n            icon: 'question',\n            confirmButtonText: 'Enable',\n            confirmButtonColor: '#28a745',\n            titlePrefix: 'Confirm Enable'\n        },\n        save: {\n            icon: 'question',\n            confirmButtonText: 'Save',\n            confirmButtonColor: '#28a745',\n            titlePrefix: 'Confirm Save'\n        },\n        submit: {\n            icon: 'question',\n            confirmButtonText: 'Submit',\n            confirmButtonColor: '#3085d6',\n            titlePrefix: 'Confirm Submit'\n        },\n        unlink: {\n            icon: 'warning',\n            confirmButtonText: 'Unlink',\n            confirmButtonColor: '#dc3545',\n            titlePrefix: 'Confirm Unlink'\n        },\n        revoke: {\n            icon: 'warning',\n            confirmButtonText: 'Revoke',\n            confirmButtonColor: '#dc3545',\n            titlePrefix: 'Confirm Revoke'\n        },\n        retry: {\n            icon: 'question',\n            confirmButtonText: 'Retry',\n            confirmButtonColor: '#3085d6',\n            titlePrefix: 'Confirm Retry'\n        },\n        resend: {\n            icon: 'question',\n            confirmButtonText: 'Resend',\n            confirmButtonColor: '#3085d6',\n            titlePrefix: 'Confirm Resend'\n        },\n        duplicate: {\n            icon: 'question',\n            confirmButtonText: 'Duplicate',\n            confirmButtonColor: '#3085d6',\n            titlePrefix: 'Confirm Duplicate'\n        },\n        assign: {\n            icon: 'question',\n            confirmButtonText: 'Assign',\n            confirmButtonColor: '#3085d6',\n            titlePrefix: 'Confirm Assignment'\n        },\n        schedule: {\n            icon: 'question',\n            confirmButtonText: 'Schedule',\n            confirmButtonColor: '#3085d6',\n            titlePrefix: 'Confirm Schedule'\n        },\n        fetch: {\n            icon: 'question',\n            confirmButtonText: 'Fetch',\n            confirmButtonColor: '#3085d6',\n            titlePrefix: 'Confirm Fetch'\n        }\n    };\n\n    /**\n     * Detect action type from text\n     */\n    function detectAction(text) {\n        if (!text) return null;\n        const lowerText = text.toLowerCase();\n\n        // Check each action keyword\n        for (const [action, config] of Object.entries(ACTION_CONFIGS)) {\n            if (lowerText.includes(action)) {\n                return action;\n            }\n        }\n        return null;\n    }\n\n    /**\n     * Build configuration with smart defaults\n     */\n    function buildConfig(options, action) {\n        const actionConfig = action ? ACTION_CONFIGS[action] : {};\n        const defaults = {\n            icon: 'question',\n            showCancelButton: true,\n            confirmButtonText: 'Confirm',\n            cancelButtonText: 'Cancel',\n            confirmButtonColor: '#3085d6',\n            cancelButtonColor: '#6c757d',\n            reverseButtons: true\n        };\n\n        // Merge: defaults < actionConfig < user options\n        return {\n            ...defaults,\n            ...actionConfig,\n            ...options,\n            // Ensure title has prefix if not provided\n            title: options.title || (actionConfig.titlePrefix || 'Confirm Action')\n        };\n    }\n\n    /**\n     * SwalContextual API\n     */\n    const SwalContextual = {\n        /**\n         * Smart confirmation dialog that auto-detects action type\n         * @param {Object} options - SweetAlert2 options\n         * @returns {Promise} SweetAlert2 promise\n         */\n        confirm: function(options) {\n            if (typeof Swal === 'undefined') {\n                console.error('SweetAlert2 not loaded');\n                return Promise.resolve({ isConfirmed: confirm(options.text || options.title) });\n            }\n\n            // Detect action from title or text\n            const detectedAction = detectAction(options.title) || detectAction(options.text);\n            const config = buildConfig(options, detectedAction);\n\n            return Swal.fire(config);\n        },\n\n        /**\n         * Success notification\n         */\n        success: function(title, text) {\n            return Swal.fire({\n                icon: 'success',\n                title: title,\n                text: text,\n                timer: 2000,\n                showConfirmButton: false\n            });\n        },\n\n        /**\n         * Error notification\n         */\n        error: function(title, text) {\n            return Swal.fire({\n                icon: 'error',\n                title: title,\n                text: text\n            });\n        },\n\n        /**\n         * Info notification\n         */\n        info: function(title, text) {\n            return Swal.fire({\n                icon: 'info',\n                title: title,\n                text: text\n            });\n        },\n\n        /**\n         * Warning notification\n         */\n        warning: function(title, text) {\n            return Swal.fire({\n                icon: 'warning',\n                title: title,\n                text: text\n            });\n        }\n    };\n\n    // Create shorthand methods for common actions\n    Object.keys(ACTION_CONFIGS).forEach(action => {\n        SwalContextual[action] = function(text, options = {}) {\n            return this.confirm({\n                text: text,\n                ...options\n            });\n        };\n    });\n\n    // Expose globally\n    window.SwalContextual = SwalContextual;\n\n    console.debug('[SwalContextual] Helper initialized');\n})();\n","/**\n * ==========================================================================\n * CHAT WIDGET - Floating Messenger Component\n * ==========================================================================\n *\n * Facebook Messenger-inspired floating chat widget with:\n * - Conversation list view\n * - Active chat view\n * - Real-time WebSocket updates\n * - Mobile-first responsive design\n * - Smart positioning\n *\n * CSS: /static/css/components/c-chat-widget.css\n * Uses BEM naming: .c-chat-widget__*\n *\n * @requires Socket.IO (for real-time messaging)\n * @requires /api/messages endpoints\n */\n\n(function() {\n  'use strict';\n\n  // ============================================================================\n  // CONFIGURATION\n  // ============================================================================\n\n  const CONFIG = {\n    api: {\n      conversations: '/api/messages',\n      messages: (userId) => `/api/messages/${userId}`,\n      send: (userId) => `/api/messages/${userId}`,\n      unreadCount: '/api/messages/unread-count',\n      searchUsers: '/api/messages/users/search',\n      markRead: (msgId) => `/api/messages/${msgId}/read`\n    },\n    polling: {\n      enabled: true,\n      interval: 30000\n    },\n    ui: {\n      animationDuration: 250,\n      typingDebounce: 2000,\n      searchDebounce: 300,\n      maxMessageLength: 2000\n    }\n  };\n\n  // ============================================================================\n  // STATE\n  // ============================================================================\n\n  const state = {\n    isOpen: false,\n    currentView: 'list', // 'list' | 'chat'\n    activeConversation: null,\n    conversations: [],\n    messages: [],\n    unreadCount: 0,\n    onlineUsers: [],\n    isTyping: false,\n    typingTimeout: null,\n    searchQuery: '',\n    searchResults: [],\n    settings: {\n      typingIndicators: true,\n      readReceipts: true,\n      maxMessageLength: 2000\n    }\n  };\n\n  // ============================================================================\n  // DOM ELEMENTS\n  // ============================================================================\n\n  let elements = {};\n\n  function cacheElements() {\n    elements = {\n      widget: document.querySelector('.c-chat-widget'),\n      trigger: document.querySelector('.c-chat-widget__trigger'),\n      badge: document.querySelector('.c-chat-widget__badge'),\n      panel: document.querySelector('.c-chat-widget__panel'),\n\n      // List view\n      listView: document.querySelector('.c-chat-widget__list-view'),\n      searchInput: document.querySelector('.c-chat-widget__search-input'),\n      searchResults: document.querySelector('.c-chat-widget__search-results'),\n      onlineList: document.querySelector('.c-chat-widget__online-list'),\n      conversationList: document.querySelector('.c-chat-widget__conversations'),\n      emptyState: document.querySelector('.c-chat-widget__empty'),\n\n      // Chat view\n      chatView: document.querySelector('.c-chat-widget__chat'),\n      backBtn: document.querySelector('.c-chat-widget__back-btn'),\n      chatAvatar: document.querySelector('.c-chat-widget__chat-avatar img'),\n      chatAvatarContainer: document.querySelector('.c-chat-widget__chat-avatar'),\n      chatName: document.querySelector('.c-chat-widget__chat-name'),\n      chatStatus: document.querySelector('.c-chat-widget__chat-status'),\n      messagesContainer: document.querySelector('.c-chat-widget__messages'),\n      typingIndicator: document.querySelector('.c-chat-widget__typing'),\n      composerInput: document.querySelector('.c-chat-widget__composer-input'),\n      sendBtn: document.querySelector('.c-chat-widget__send-btn'),\n\n      // Header buttons\n      newChatBtn: document.querySelector('[data-action=\"new-chat\"]'),\n      openInboxBtn: document.querySelector('[data-action=\"open-inbox\"]'),\n      closeBtns: document.querySelectorAll('[data-action=\"close-widget\"]')\n    };\n  }\n\n  // ============================================================================\n  // API FUNCTIONS\n  // ============================================================================\n\n  function getCSRFToken() {\n    const meta = document.querySelector('meta[name=\"csrf-token\"]');\n    return meta ? meta.getAttribute('content') : '';\n  }\n\n  async function fetchJSON(url, options = {}) {\n    try {\n      const headers = {\n        'Content-Type': 'application/json',\n        ...options.headers\n      };\n\n      // Add CSRF token for non-GET requests\n      if (options.method && options.method !== 'GET') {\n        headers['X-CSRFToken'] = getCSRFToken();\n      }\n\n      const response = await fetch(url, { ...options, headers });\n\n      if (!response.ok) {\n        throw new Error(`HTTP ${response.status}`);\n      }\n\n      return await response.json();\n    } catch (error) {\n      console.error(`[ChatWidget] API Error: ${url}`, error);\n      throw error;\n    }\n  }\n\n  async function loadConversations() {\n    try {\n      const data = await fetchJSON(CONFIG.api.conversations);\n      if (data.success) {\n        state.conversations = data.conversations || [];\n        renderConversations();\n      }\n    } catch (error) {\n      console.error('[ChatWidget] Failed to load conversations', error);\n    }\n  }\n\n  async function loadMessages(userId) {\n    try {\n      const data = await fetchJSON(CONFIG.api.messages(userId));\n      if (data.success) {\n        state.messages = data.messages || [];\n        state.settings = { ...state.settings, ...data.settings };\n        renderMessages();\n        scrollToBottom();\n\n        // Update unread count after reading messages\n        loadUnreadCount();\n      }\n    } catch (error) {\n      console.error('[ChatWidget] Failed to load messages', error);\n    }\n  }\n\n  async function sendMessage(userId, content) {\n    try {\n      const data = await fetchJSON(CONFIG.api.send(userId), {\n        method: 'POST',\n        body: JSON.stringify({ content })\n      });\n\n      if (data.success) {\n        // Add message to local state\n        state.messages.push(data.message);\n        renderMessages();\n        scrollToBottom();\n\n        // Clear input\n        if (elements.composerInput) {\n          elements.composerInput.value = '';\n          elements.composerInput.style.height = 'auto';\n          updateSendButton();\n        }\n\n        // Update conversation list\n        loadConversations();\n      }\n\n      return data;\n    } catch (error) {\n      console.error('[ChatWidget] Failed to send message', error);\n      showToast('Failed to send message', 'error');\n      throw error;\n    }\n  }\n\n  async function loadUnreadCount() {\n    try {\n      const data = await fetchJSON(CONFIG.api.unreadCount);\n      if (data.success) {\n        state.unreadCount = data.count;\n        updateBadge();\n      }\n    } catch (error) {\n      console.error('[ChatWidget] Failed to load unread count', error);\n    }\n  }\n\n  async function searchUsers(query) {\n    if (query.length < 2) {\n      state.searchResults = [];\n      renderSearchResults();\n      return;\n    }\n\n    console.log('[ChatWidget] Searching users for:', query);\n\n    try {\n      const data = await fetchJSON(`${CONFIG.api.searchUsers}?q=${encodeURIComponent(query)}`);\n      console.log('[ChatWidget] Search response:', data);\n\n      if (data.success) {\n        state.searchResults = data.users || [];\n        renderSearchResults();\n        console.log('[ChatWidget] Found', state.searchResults.length, 'users');\n      } else {\n        console.warn('[ChatWidget] Search returned success=false:', data.error);\n        state.searchResults = [];\n        renderSearchResults();\n      }\n    } catch (error) {\n      console.error('[ChatWidget] Failed to search users', error);\n      state.searchResults = [];\n      renderSearchResults();\n    }\n  }\n\n  // ============================================================================\n  // RENDER FUNCTIONS\n  // ============================================================================\n\n  /**\n   * Generate role badge HTML for a user\n   * @param {Object} user - User object with role flags\n   * @returns {string} HTML string with badge icons\n   */\n  function renderRoleBadges(user) {\n    if (!user) return '';\n\n    const badges = [];\n\n    // Global Admin - Crown icon (highest priority)\n    if (user.is_global_admin) {\n      badges.push('<span class=\"c-chat-widget__role-badge c-chat-widget__role-badge--admin\" title=\"Global Admin\"><i class=\"ti ti-crown\"></i></span>');\n    }\n    // Pub League Admin - Shield icon\n    else if (user.is_admin) {\n      badges.push('<span class=\"c-chat-widget__role-badge c-chat-widget__role-badge--admin\" title=\"Admin\"><i class=\"ti ti-shield-check\"></i></span>');\n    }\n\n    // Coach - Whistle icon\n    if (user.is_coach) {\n      badges.push('<span class=\"c-chat-widget__role-badge c-chat-widget__role-badge--coach\" title=\"Coach\"><i class=\"ti ti-speakerphone\"></i></span>');\n    }\n\n    // Referee - Cards icon\n    if (user.is_ref) {\n      badges.push('<span class=\"c-chat-widget__role-badge c-chat-widget__role-badge--ref\" title=\"Referee\"><i class=\"ti ti-cards\"></i></span>');\n    }\n\n    return badges.length > 0 ? `<span class=\"c-chat-widget__role-badges\">${badges.join('')}</span>` : '';\n  }\n\n  function renderConversations() {\n    if (!elements.conversationList) return;\n\n    if (state.conversations.length === 0) {\n      elements.conversationList.innerHTML = '';\n      if (elements.emptyState) {\n        elements.emptyState.style.display = 'flex';\n      }\n      return;\n    }\n\n    if (elements.emptyState) {\n      elements.emptyState.style.display = 'none';\n    }\n\n    const defaultAvatar = '/static/img/default_player.png';\n\n    const html = state.conversations.map(conv => {\n      const isActive = state.activeConversation?.id === conv.user.id;\n      const isUnread = conv.unread_count > 0;\n      const isOnline = conv.user.is_online;\n      const avatarUrl = conv.user.avatar_url || defaultAvatar;\n      const roleBadges = renderRoleBadges(conv.user);\n\n      return `\n        <div class=\"c-chat-widget__conversation ${isActive ? 'c-chat-widget__conversation--active' : ''} ${isUnread ? 'c-chat-widget__conversation--unread' : ''}\"\n             data-user-id=\"${conv.user.id}\"\n             data-user-name=\"${escapeHtml(conv.user.name)}\"\n             data-avatar=\"${avatarUrl}\"\n             data-online=\"${isOnline}\"\n             data-is-coach=\"${conv.user.is_coach || false}\"\n             data-is-admin=\"${conv.user.is_admin || false}\"\n             data-is-global-admin=\"${conv.user.is_global_admin || false}\"\n             data-is-ref=\"${conv.user.is_ref || false}\"\n             role=\"button\"\n             tabindex=\"0\">\n          <div class=\"c-chat-widget__conv-avatar ${isOnline ? 'c-chat-widget__conv-avatar--online' : ''}\">\n            <img src=\"${avatarUrl}\" alt=\"${escapeHtml(conv.user.name)}\" onerror=\"this.src='${defaultAvatar}'\">\n          </div>\n          <div class=\"c-chat-widget__conv-content\">\n            <div class=\"c-chat-widget__conv-header\">\n              <span class=\"c-chat-widget__conv-name\">${escapeHtml(conv.user.name)}${roleBadges}</span>\n              <span class=\"c-chat-widget__conv-time\">${conv.last_message.time_ago}</span>\n            </div>\n            <div class=\"c-chat-widget__conv-preview\">\n              ${conv.last_message.sent_by_me ? 'You: ' : ''}${escapeHtml(conv.last_message.content)}\n            </div>\n          </div>\n          ${isUnread ? `<div class=\"c-chat-widget__conv-badge\">${conv.unread_count}</div>` : ''}\n        </div>\n      `;\n    }).join('');\n\n    elements.conversationList.innerHTML = html;\n  }\n\n  function renderMessages() {\n    if (!elements.messagesContainer) return;\n\n    if (state.messages.length === 0) {\n      elements.messagesContainer.innerHTML = `\n        <div class=\"c-chat-widget__empty\" style=\"padding: 24px;\">\n          <i class=\"c-chat-widget__empty-icon ti ti-message-2\"></i>\n          <div class=\"c-chat-widget__empty-text\">No messages yet. Say hello!</div>\n        </div>\n      `;\n      return;\n    }\n\n    const currentUserId = getCurrentUserId();\n\n    const html = state.messages.map(msg => {\n      const isSent = msg.sender_id === currentUserId;\n      const isDeleted = msg.is_deleted;\n\n      // Deleted message placeholder\n      if (isDeleted) {\n        return `\n          <div class=\"c-chat-widget__message c-chat-widget__message--${isSent ? 'sent' : 'received'} c-chat-widget__message--deleted\"\n               data-message-id=\"${msg.id}\">\n            <div class=\"c-chat-widget__message-bubble c-chat-widget__message-bubble--deleted\">\n              <i class=\"ti ti-message-off\" style=\"margin-right: 6px; opacity: 0.7;\"></i>\n              ${isSent ? 'You unsent a message' : 'This message was unsent'}\n            </div>\n            <span class=\"c-chat-widget__message-time\">\n              ${formatMessageTime(msg.created_at)}\n            </span>\n          </div>\n        `;\n      }\n\n      // Convert emoji shortcodes\n      const contentWithEmojis = convertEmojiShortcodes(escapeHtml(msg.content));\n\n      return `\n        <div class=\"c-chat-widget__message c-chat-widget__message--${isSent ? 'sent' : 'received'}\"\n             data-message-id=\"${msg.id}\"\n             data-sender-id=\"${msg.sender_id}\">\n          <div class=\"c-chat-widget__message-actions\">\n            <button class=\"c-chat-widget__message-action-btn\" data-action=\"delete-menu\" title=\"Delete message\">\n              <i class=\"ti ti-trash\"></i>\n            </button>\n          </div>\n          <div class=\"c-chat-widget__message-bubble\">\n            ${contentWithEmojis}\n          </div>\n          <span class=\"c-chat-widget__message-time\">\n            ${formatMessageTime(msg.created_at)}\n            ${isSent && msg.is_read ? '<i class=\"ti ti-checks\" style=\"margin-left: 4px; color: var(--cw-accent);\"></i>' : ''}\n          </span>\n        </div>\n      `;\n    }).join('');\n\n    elements.messagesContainer.innerHTML = html;\n  }\n\n  function handleDeleteMenuClick(element, e) {\n    e.stopPropagation();\n\n    const messageEl = element.closest('.c-chat-widget__message');\n    if (!messageEl) return;\n\n    const messageId = parseInt(messageEl.dataset.messageId);\n    const senderId = parseInt(messageEl.dataset.senderId);\n    const currentUserId = getCurrentUserId();\n    const isSent = senderId === currentUserId;\n\n    showDeleteConfirmation(messageId, isSent);\n  }\n\n  function showDeleteConfirmation(messageId, isSent) {\n    // Use SweetAlert2 if available\n    if (typeof Swal !== 'undefined') {\n      const options = {\n        title: 'Delete message?',\n        icon: 'question',\n        showCancelButton: true,\n        confirmButtonColor: 'var(--cw-danger, #ef4444)',\n        cancelButtonColor: 'var(--cw-text-secondary, #6b7280)',\n        confirmButtonText: 'Delete for me',\n        cancelButtonText: 'Cancel',\n        customClass: {\n          popup: 'c-chat-widget-swal'\n        }\n      };\n\n      // Add \"Unsend for everyone\" option if user sent the message\n      if (isSent) {\n        options.showDenyButton = true;\n        options.denyButtonText = 'Unsend for everyone';\n        options.denyButtonColor = 'var(--cw-accent, #7c3aed)';\n      }\n\n      Swal.fire(options).then((result) => {\n        if (result.isConfirmed) {\n          // Delete for me only\n          deleteMessage(messageId, 'me');\n        } else if (result.isDenied) {\n          // Unsend for everyone\n          deleteMessage(messageId, 'everyone');\n        }\n      });\n    } else {\n      // Fallback to simple confirm\n      if (confirm('Delete this message for yourself?')) {\n        deleteMessage(messageId, 'me');\n      }\n    }\n  }\n\n  async function deleteMessage(messageId, deleteFor) {\n    try {\n      let url, method;\n\n      if (deleteFor === 'everyone') {\n        url = `/api/messages/message/${messageId}`;\n        method = 'DELETE';\n      } else {\n        url = `/api/messages/message/${messageId}/hide`;\n        method = 'POST';\n      }\n\n      const response = await fetchJSON(url, { method });\n\n      if (response.success) {\n        if (deleteFor === 'everyone') {\n          // Update message in local state to show as deleted\n          const msgIndex = state.messages.findIndex(m => m.id === messageId);\n          if (msgIndex !== -1) {\n            state.messages[msgIndex].is_deleted = true;\n            state.messages[msgIndex].content = null;\n          }\n        } else {\n          // Remove from local state (hidden for me)\n          state.messages = state.messages.filter(m => m.id !== messageId);\n        }\n\n        renderMessages();\n        scrollToBottom();\n        showToast(deleteFor === 'everyone' ? 'Message unsent' : 'Message deleted', 'success');\n      } else {\n        showToast(response.error || 'Failed to delete message', 'error');\n      }\n    } catch (error) {\n      console.error('[ChatWidget] Delete message error:', error);\n      showToast('Failed to delete message', 'error');\n    }\n  }\n\n  // Emoji shortcode conversion\n  const EMOJI_MAP = {\n    ':)': '', ':-)': '', '=)': '',\n    ':(': '', ':-(': '', '=(': '',\n    ':D': '', ':-D': '', '=D': '',\n    ';)': '', ';-)': '',\n    ':P': '', ':-P': '', ':p': '',\n    ':O': '', ':-O': '', ':o': '',\n    '<3': '', '</3': '',\n    ':*': '', ':-*': '',\n    \":'(\": '', \":')\": '',\n    ':fire:': '', ':heart:': '', ':thumbsup:': '', ':thumbsdown:': '',\n    ':clap:': '', ':wave:': '', ':ok:': '', ':100:': '',\n    ':star:': '', ':sun:': '', ':moon:': '', ':soccer:': '',\n    ':trophy:': '', ':medal:': '', ':crown:': '',\n    ':check:': '', ':x:': '', ':warning:': '',\n    ':party:': '', ':confetti:': '',\n    'xD': '', 'XD': '',\n    'B)': '', 'B-)': '',\n    '-_-': '', ':|': '',\n    ':angry:': '', '>:(': '',\n    ':thinking:': '', ':shrug:': '',\n    ':pray:': '', ':muscle:': '',\n    ':eyes:': '', ':sweat:': '',\n    ':cool:': '', ':lol:': '', ':rofl:': ''\n  };\n\n  function convertEmojiShortcodes(text) {\n    if (!text) return text;\n\n    let result = text;\n    for (const [shortcode, emoji] of Object.entries(EMOJI_MAP)) {\n      // Escape special regex characters in the shortcode\n      const escaped = shortcode.replace(/[.*+?^${}()|[\\]\\\\]/g, '\\\\$&');\n      result = result.replace(new RegExp(escaped, 'g'), emoji);\n    }\n    return result;\n  }\n\n  function renderSearchResults() {\n    if (!elements.searchResults) {\n      console.warn('[ChatWidget] Search results element not found');\n      return;\n    }\n\n    if (state.searchResults.length === 0) {\n      console.log('[ChatWidget] No search results, hiding dropdown');\n      elements.searchResults.classList.remove('is-visible');\n      elements.searchResults.innerHTML = '';\n      return;\n    }\n\n    console.log('[ChatWidget] Rendering', state.searchResults.length, 'search results');\n    const defaultAvatar = '/static/img/default_player.png';\n\n    const html = state.searchResults.map(user => {\n      const avatarUrl = user.avatar_url || defaultAvatar;\n      const roleBadges = renderRoleBadges(user);\n      return `\n        <div class=\"c-chat-widget__search-result\"\n             data-user-id=\"${user.id}\"\n             data-user-name=\"${escapeHtml(user.name)}\"\n             data-avatar=\"${avatarUrl}\"\n             data-online=\"${user.is_online || false}\"\n             data-is-coach=\"${user.is_coach || false}\"\n             data-is-admin=\"${user.is_admin || false}\"\n             data-is-global-admin=\"${user.is_global_admin || false}\"\n             data-is-ref=\"${user.is_ref || false}\"\n             role=\"button\"\n             tabindex=\"0\">\n          <div class=\"c-chat-widget__search-result-avatar\">\n            <img src=\"${avatarUrl}\" alt=\"${escapeHtml(user.name)}\" onerror=\"this.src='${defaultAvatar}'\">\n          </div>\n          <span class=\"c-chat-widget__search-result-name\">${escapeHtml(user.name)}${roleBadges}</span>\n        </div>\n      `;\n    }).join('');\n\n    elements.searchResults.innerHTML = html;\n    elements.searchResults.classList.add('is-visible');\n    console.log('[ChatWidget] Search results dropdown visible');\n  }\n\n  function renderOnlineUsers(users) {\n    if (!elements.onlineList) return;\n\n    const onlineSection = elements.onlineList.closest('.c-chat-widget__online');\n\n    if (!users || users.length === 0) {\n      if (onlineSection) onlineSection.classList.add('u-hidden');\n      return;\n    }\n\n    if (onlineSection) onlineSection.classList.remove('u-hidden');\n\n    const defaultAvatar = '/static/img/default_player.png';\n\n    const html = users.slice(0, 8).map(user => {\n      const avatarUrl = user.avatar_url || defaultAvatar;\n      return `\n        <div class=\"c-chat-widget__online-user\"\n             data-user-id=\"${user.id}\"\n             data-user-name=\"${escapeHtml(user.name)}\"\n             data-avatar=\"${avatarUrl}\"\n             data-online=\"true\"\n             role=\"button\"\n             tabindex=\"0\">\n          <div class=\"c-chat-widget__online-avatar\">\n            <img src=\"${avatarUrl}\" alt=\"${escapeHtml(user.name)}\" onerror=\"this.src='${defaultAvatar}'\">\n          </div>\n          <span class=\"c-chat-widget__online-name\">${escapeHtml(user.name.split(' ')[0])}</span>\n        </div>\n      `;\n    }).join('');\n\n    elements.onlineList.innerHTML = html;\n  }\n\n  function updateBadge() {\n    if (!elements.badge) return;\n\n    if (state.unreadCount > 0) {\n      elements.badge.textContent = state.unreadCount > 99 ? '99+' : state.unreadCount;\n      elements.badge.dataset.count = state.unreadCount;\n      elements.badge.style.display = '';\n    } else {\n      elements.badge.style.display = 'none';\n      elements.badge.dataset.count = '0';\n    }\n\n    // Also update navbar badge if it exists\n    const navbarBadge = document.querySelector('[data-badge=\"messages-count\"]');\n    if (navbarBadge) {\n      navbarBadge.textContent = state.unreadCount > 99 ? '99+' : state.unreadCount;\n      navbarBadge.classList.toggle('u-hidden', state.unreadCount === 0);\n    }\n  }\n\n  function updateSendButton() {\n    if (!elements.sendBtn || !elements.composerInput) return;\n\n    const hasContent = elements.composerInput.value.trim().length > 0;\n    elements.sendBtn.disabled = !hasContent;\n  }\n\n  // ============================================================================\n  // VIEW MANAGEMENT\n  // ============================================================================\n\n  function openWidget() {\n    if (!elements.widget) return;\n\n    state.isOpen = true;\n    elements.widget.dataset.state = 'open';\n\n    // Lock body scroll on mobile - cross-browser compatible approach\n    if (window.innerWidth <= 767) {\n      // Save scroll position\n      const scrollY = window.scrollY || window.pageYOffset || document.documentElement.scrollTop;\n      document.body.dataset.chatScrollY = scrollY;\n\n      // Add class for CSS-based scroll lock\n      document.documentElement.classList.add('chat-widget-open');\n      document.body.classList.add('chat-widget-open');\n\n      // iOS Safari fix: set body top to preserve visual scroll position\n      document.body.style.top = `-${scrollY}px`;\n    }\n\n    // Load initial data\n    loadConversations();\n    loadUnreadCount();\n\n    // Join messaging room\n    joinMessagingRoom();\n\n    // Focus search on desktop\n    if (window.innerWidth > 575 && elements.searchInput) {\n      setTimeout(() => elements.searchInput.focus(), CONFIG.ui.animationDuration);\n    }\n  }\n\n  function closeWidget() {\n    if (!elements.widget) return;\n\n    state.isOpen = false;\n    state.currentView = 'list';\n    state.activeConversation = null;\n    state.messages = [];\n    elements.widget.dataset.state = 'closed';\n    elements.widget.dataset.view = 'list';\n\n    // Unlock body scroll on mobile - cross-browser compatible\n    document.documentElement.classList.remove('chat-widget-open');\n    document.body.classList.remove('chat-widget-open');\n    document.body.style.top = '';\n\n    if (document.body.dataset.chatScrollY !== undefined) {\n      const scrollY = parseInt(document.body.dataset.chatScrollY || '0', 10);\n      delete document.body.dataset.chatScrollY;\n      // Restore scroll position after removing fixed positioning\n      window.scrollTo(0, scrollY);\n    }\n\n    // Clear search state\n    clearSearch();\n  }\n\n  function toggleWidget() {\n    if (state.isOpen) {\n      closeWidget();\n    } else {\n      openWidget();\n    }\n  }\n\n  function openConversation(userId, userName, avatarUrl, isOnline, roleInfo) {\n    state.currentView = 'chat';\n    state.activeConversation = {\n      id: parseInt(userId),\n      name: userName,\n      avatar: avatarUrl,\n      isOnline: isOnline === 'true' || isOnline === true,\n      roles: roleInfo || {}\n    };\n\n    if (elements.widget) {\n      elements.widget.dataset.view = 'chat';\n    }\n\n    // Update chat header\n    const defaultAvatar = '/static/img/default_player.png';\n\n    if (elements.chatAvatar) {\n      elements.chatAvatar.src = avatarUrl || defaultAvatar;\n      elements.chatAvatar.onerror = function() { this.src = defaultAvatar; };\n    }\n    if (elements.chatName) {\n      // Display name with role badges\n      const roleBadges = renderRoleBadges(roleInfo);\n      elements.chatName.innerHTML = escapeHtml(userName) + roleBadges;\n    }\n    if (elements.chatStatus) {\n      elements.chatStatus.textContent = state.activeConversation.isOnline ? 'Online' : 'Offline';\n      elements.chatStatus.classList.toggle('c-chat-widget__chat-status--offline', !state.activeConversation.isOnline);\n    }\n\n    // Update avatar online status\n    if (elements.chatAvatarContainer) {\n      elements.chatAvatarContainer.classList.toggle('c-chat-widget__chat-avatar--online', state.activeConversation.isOnline);\n    }\n\n    // Clear messages and show loading\n    if (elements.messagesContainer) {\n      elements.messagesContainer.innerHTML = `\n        <div style=\"display: flex; justify-content: center; padding: 40px;\">\n          <div class=\"c-chat-widget__typing-dots\">\n            <span class=\"c-chat-widget__typing-dot\"></span>\n            <span class=\"c-chat-widget__typing-dot\"></span>\n            <span class=\"c-chat-widget__typing-dot\"></span>\n          </div>\n        </div>\n      `;\n    }\n\n    // Load messages\n    loadMessages(userId);\n\n    // Focus composer\n    if (elements.composerInput) {\n      setTimeout(() => elements.composerInput.focus(), CONFIG.ui.animationDuration);\n    }\n  }\n\n  function closeConversation() {\n    state.currentView = 'list';\n    state.activeConversation = null;\n    state.messages = [];\n\n    if (elements.widget) {\n      elements.widget.dataset.view = 'list';\n    }\n\n    // Clear search state when going back\n    clearSearch();\n\n    // Refresh conversations\n    loadConversations();\n  }\n\n  function scrollToBottom() {\n    if (elements.messagesContainer) {\n      requestAnimationFrame(() => {\n        elements.messagesContainer.scrollTop = elements.messagesContainer.scrollHeight;\n      });\n    }\n  }\n\n  // ============================================================================\n  // EVENT HANDLERS\n  // ============================================================================\n\n  function handleTriggerClick(e) {\n    e.preventDefault();\n    e.stopPropagation();\n    toggleWidget();\n  }\n\n  function handleConversationClick(e) {\n    const conversation = e.target.closest('.c-chat-widget__conversation, .c-chat-widget__online-user, .c-chat-widget__search-result');\n    if (!conversation) return;\n\n    const userId = conversation.dataset.userId;\n    const userName = conversation.dataset.userName;\n    const avatarUrl = conversation.dataset.avatar;\n    const isOnline = conversation.dataset.online;\n\n    // Get role info from data attributes (or from state for conversations)\n    const roleInfo = {\n      is_coach: conversation.dataset.isCoach === 'true',\n      is_admin: conversation.dataset.isAdmin === 'true',\n      is_global_admin: conversation.dataset.isGlobalAdmin === 'true',\n      is_ref: conversation.dataset.isRef === 'true'\n    };\n\n    openConversation(userId, userName, avatarUrl, isOnline, roleInfo);\n\n    // Clear search state completely\n    clearSearch();\n  }\n\n  function clearSearch() {\n    state.searchQuery = '';\n    state.searchResults = [];\n    if (elements.searchInput) {\n      elements.searchInput.value = '';\n    }\n    if (elements.searchResults) {\n      elements.searchResults.classList.remove('is-visible');\n      elements.searchResults.innerHTML = '';\n    }\n  }\n\n  function handleBackClick(e) {\n    e.preventDefault();\n    closeConversation();\n  }\n\n  function handleSendClick(e) {\n    e.preventDefault();\n    if (!state.activeConversation || !elements.composerInput) return;\n\n    const content = elements.composerInput.value.trim();\n    if (!content) return;\n\n    sendMessage(state.activeConversation.id, content);\n  }\n\n  function handleComposerKeydown(e) {\n    // Send on Enter (without Shift)\n    if (e.key === 'Enter' && !e.shiftKey) {\n      e.preventDefault();\n      handleSendClick(e);\n      return;\n    }\n\n    // Emit typing indicator\n    emitTypingStart();\n  }\n\n  function handleComposerInput() {\n    updateSendButton();\n    autoResizeTextarea(elements.composerInput);\n  }\n\n  let searchDebounceTimer = null;\n  function handleSearchInput(e) {\n    const query = e.target.value.trim();\n    state.searchQuery = query;\n    console.log('[ChatWidget] Search input:', query);\n\n    clearTimeout(searchDebounceTimer);\n    searchDebounceTimer = setTimeout(() => {\n      searchUsers(query);\n    }, CONFIG.ui.searchDebounce);\n  }\n\n  function handleSearchFocus() {\n    if (state.searchResults.length > 0 && elements.searchResults) {\n      elements.searchResults.classList.add('is-visible');\n    }\n  }\n\n  function handleSearchBlur() {\n    // Delay hiding to allow click on results\n    setTimeout(() => {\n      if (elements.searchResults) {\n        elements.searchResults.classList.remove('is-visible');\n      }\n    }, 200);\n  }\n\n  function handleKeydown(e) {\n    // Close on Escape\n    if (e.key === 'Escape') {\n      if (state.currentView === 'chat') {\n        closeConversation();\n      } else if (state.isOpen) {\n        closeWidget();\n      }\n    }\n  }\n\n  function handleClickOutside(e) {\n    if (!elements.widget || !state.isOpen) return;\n\n    // Don't close if clicking inside widget\n    if (elements.widget.contains(e.target)) return;\n\n    // Don't close on mobile (full screen)\n    if (window.innerWidth <= 575) return;\n\n    closeWidget();\n  }\n\n  // ============================================================================\n  // WEBSOCKET INTEGRATION\n  // ============================================================================\n\n  let socket = null;\n\n  function initWebSocket() {\n    // Use SocketManager if available (preferred method)\n    if (typeof window.SocketManager !== 'undefined') {\n      console.log('[ChatWidget] Using SocketManager');\n\n      // Get socket reference\n      socket = window.SocketManager.getSocket();\n\n      // Register connect callback - fires immediately if already connected\n      window.SocketManager.onConnect('ChatWidget', function(connectedSocket) {\n        socket = connectedSocket;\n        console.log('[ChatWidget] Socket connected via SocketManager');\n        // Join messaging room when connected\n        if (state.isOpen) {\n          joinMessagingRoom();\n        }\n      });\n\n      // Register disconnect callback\n      window.SocketManager.onDisconnect('ChatWidget', function(reason) {\n        console.log('[ChatWidget] Socket disconnected:', reason);\n      });\n\n      // Attach event listeners via SocketManager\n      attachSocketListeners();\n      return;\n    }\n\n    // Fallback: Check if Socket.IO is available\n    if (typeof io === 'undefined') {\n      console.warn('[ChatWidget] Socket.IO not available, using polling');\n      if (CONFIG.polling.enabled) {\n        setInterval(loadUnreadCount, CONFIG.polling.interval);\n      }\n      return;\n    }\n\n    // Fallback: Use existing socket or create new one\n    const checkSocket = () => {\n      if (window.socket && window.socket.connected) {\n        socket = window.socket;\n        attachSocketListenersDirect();\n      } else if (window.socket) {\n        // Socket exists but not connected - wait for connect event\n        socket = window.socket;\n        socket.once('connect', () => {\n          attachSocketListenersDirect();\n        });\n      } else {\n        // Try again in a second\n        setTimeout(checkSocket, 1000);\n      }\n    };\n\n    checkSocket();\n  }\n\n  function attachSocketListeners() {\n    // Use SocketManager for event registration (handles reconnects properly)\n    if (typeof window.SocketManager !== 'undefined') {\n      // Message events\n      window.SocketManager.on('ChatWidget', 'new_message', handleNewMessage);\n      window.SocketManager.on('ChatWidget', 'dm_sent', handleMessageSent);\n      window.SocketManager.on('ChatWidget', 'dm_error', handleMessageError);\n      window.SocketManager.on('ChatWidget', 'dm_unread_update', handleUnreadUpdate);\n      window.SocketManager.on('ChatWidget', 'message_deleted', handleMessageDeleted);\n\n      // Typing events\n      window.SocketManager.on('ChatWidget', 'user_typing', handleUserTyping);\n\n      // Read receipts\n      window.SocketManager.on('ChatWidget', 'messages_read', handleMessagesRead);\n\n      // Presence events\n      window.SocketManager.on('ChatWidget', 'user_online', handleUserOnline);\n      window.SocketManager.on('ChatWidget', 'user_offline', handleUserOffline);\n      window.SocketManager.on('ChatWidget', 'online_users', handleOnlineUsers);\n\n      console.log('[ChatWidget] Socket listeners attached via SocketManager');\n      return;\n    }\n\n    // Fallback to direct attachment\n    attachSocketListenersDirect();\n  }\n\n  function attachSocketListenersDirect() {\n    if (!socket) return;\n\n    // Message events\n    socket.on('new_message', handleNewMessage);\n    socket.on('dm_sent', handleMessageSent);\n    socket.on('dm_error', handleMessageError);\n    socket.on('dm_unread_update', handleUnreadUpdate);\n    socket.on('message_deleted', handleMessageDeleted);\n\n    // Typing events\n    socket.on('user_typing', handleUserTyping);\n\n    // Read receipts\n    socket.on('messages_read', handleMessagesRead);\n\n    // Presence events\n    socket.on('user_online', handleUserOnline);\n    socket.on('user_offline', handleUserOffline);\n    socket.on('online_users', handleOnlineUsers);\n\n    console.log('[ChatWidget] Socket listeners attached (direct)');\n  }\n\n  function handleMessageDeleted(data) {\n    const messageId = data.message_id;\n    const deletedFor = data.deleted_for;\n\n    // Find message in local state\n    const msgIndex = state.messages.findIndex(m => m.id === messageId);\n\n    if (msgIndex !== -1) {\n      if (deletedFor === 'everyone') {\n        // Mark as unsent (show placeholder)\n        state.messages[msgIndex].is_deleted = true;\n        state.messages[msgIndex].content = null;\n        renderMessages();\n      }\n      // Note: 'delete for me' by the other user doesn't affect our view\n    }\n  }\n\n  function joinMessagingRoom() {\n    // Use SocketManager if available\n    if (typeof window.SocketManager !== 'undefined') {\n      if (window.SocketManager.isConnected()) {\n        window.SocketManager.emit('join_messaging');\n      }\n      return;\n    }\n\n    // Fallback\n    if (socket && socket.connected) {\n      socket.emit('join_messaging');\n    }\n  }\n\n  function handleNewMessage(message) {\n    // Update unread count\n    state.unreadCount++;\n    updateBadge();\n\n    // If in active conversation with sender, add message\n    if (state.activeConversation && message.sender_id === state.activeConversation.id) {\n      state.messages.push(message);\n      renderMessages();\n      scrollToBottom();\n\n      // Mark as read\n      if (typeof window.SocketManager !== 'undefined') {\n        window.SocketManager.emit('mark_dm_read', { sender_id: message.sender_id });\n      } else if (socket) {\n        socket.emit('mark_dm_read', { sender_id: message.sender_id });\n      }\n    }\n\n    // Refresh conversation list\n    loadConversations();\n\n    // Show notification if widget is closed\n    if (!state.isOpen) {\n      showNotification(message.sender_name, message.content);\n    }\n  }\n\n  function handleMessageSent(data) {\n    // Message already added locally, just confirm\n    console.log('[ChatWidget] Message sent:', data.message?.id);\n  }\n\n  function handleMessageError(data) {\n    showToast(data.error || 'Failed to send message', 'error');\n  }\n\n  function handleUnreadUpdate(data) {\n    state.unreadCount = data.count;\n    updateBadge();\n  }\n\n  function handleUserTyping(data) {\n    if (!state.activeConversation || data.user_id !== state.activeConversation.id) return;\n\n    if (data.typing) {\n      showTypingIndicator();\n    } else {\n      hideTypingIndicator();\n    }\n  }\n\n  function handleMessagesRead(data) {\n    // Update read receipts in UI\n    if (state.activeConversation && data.reader_id === state.activeConversation.id) {\n      state.messages.forEach(msg => {\n        if (msg.sender_id !== data.reader_id) {\n          msg.is_read = true;\n        }\n      });\n      renderMessages();\n    }\n  }\n\n  function handleUserOnline(data) {\n    // Update online status in conversation list\n    updateUserOnlineStatus(data.user_id, true);\n\n    // Update active conversation\n    if (state.activeConversation?.id === data.user_id) {\n      state.activeConversation.isOnline = true;\n      if (elements.chatStatus) {\n        elements.chatStatus.textContent = 'Online';\n        elements.chatStatus.classList.remove('c-chat-widget__chat-status--offline');\n      }\n      if (elements.chatAvatarContainer) {\n        elements.chatAvatarContainer.classList.add('c-chat-widget__chat-avatar--online');\n      }\n    }\n  }\n\n  function handleUserOffline(data) {\n    updateUserOnlineStatus(data.user_id, false);\n\n    if (state.activeConversation?.id === data.user_id) {\n      state.activeConversation.isOnline = false;\n      if (elements.chatStatus) {\n        elements.chatStatus.textContent = 'Offline';\n        elements.chatStatus.classList.add('c-chat-widget__chat-status--offline');\n      }\n      if (elements.chatAvatarContainer) {\n        elements.chatAvatarContainer.classList.remove('c-chat-widget__chat-avatar--online');\n      }\n    }\n  }\n\n  function handleOnlineUsers(data) {\n    state.onlineUsers = data.users || [];\n    renderOnlineUsers(state.onlineUsers);\n  }\n\n  function updateUserOnlineStatus(userId, isOnline) {\n    const convElements = document.querySelectorAll(`[data-user-id=\"${userId}\"]`);\n    convElements.forEach(el => {\n      el.dataset.online = isOnline;\n      const avatar = el.querySelector('.c-chat-widget__conv-avatar, .c-chat-widget__online-avatar');\n      if (avatar) {\n        avatar.classList.toggle('c-chat-widget__conv-avatar--online', isOnline);\n      }\n    });\n  }\n\n  // ============================================================================\n  // TYPING INDICATOR\n  // ============================================================================\n\n  function emitTypingStart() {\n    if (!state.activeConversation || !state.settings.typingIndicators) return;\n\n    // Check if we can emit\n    const canEmit = (typeof window.SocketManager !== 'undefined' && window.SocketManager.isConnected()) ||\n                    (socket && socket.connected);\n    if (!canEmit) return;\n\n    if (!state.isTyping) {\n      state.isTyping = true;\n      if (typeof window.SocketManager !== 'undefined') {\n        window.SocketManager.emit('typing_start', { recipient_id: state.activeConversation.id });\n      } else if (socket) {\n        socket.emit('typing_start', { recipient_id: state.activeConversation.id });\n      }\n    }\n\n    // Reset timeout\n    clearTimeout(state.typingTimeout);\n    state.typingTimeout = setTimeout(() => {\n      state.isTyping = false;\n      if (typeof window.SocketManager !== 'undefined') {\n        window.SocketManager.emit('typing_stop', { recipient_id: state.activeConversation.id });\n      } else if (socket) {\n        socket.emit('typing_stop', { recipient_id: state.activeConversation.id });\n      }\n    }, CONFIG.ui.typingDebounce);\n  }\n\n  function showTypingIndicator() {\n    if (elements.typingIndicator) {\n      elements.typingIndicator.style.display = 'flex';\n      scrollToBottom();\n    }\n  }\n\n  function hideTypingIndicator() {\n    if (elements.typingIndicator) {\n      elements.typingIndicator.style.display = 'none';\n    }\n  }\n\n  // ============================================================================\n  // UTILITIES\n  // ============================================================================\n\n  function escapeHtml(text) {\n    if (!text) return '';\n    const div = document.createElement('div');\n    div.textContent = text;\n    return div.innerHTML;\n  }\n\n  function formatMessageTime(isoString) {\n    if (!isoString) return '';\n\n    const date = new Date(isoString);\n    const now = new Date();\n    const diff = now - date;\n\n    // Today: show time\n    if (diff < 86400000 && date.getDate() === now.getDate()) {\n      return date.toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' });\n    }\n\n    // Yesterday\n    if (diff < 172800000) {\n      return 'Yesterday';\n    }\n\n    // This week: show day name\n    if (diff < 604800000) {\n      return date.toLocaleDateString([], { weekday: 'short' });\n    }\n\n    // Older: show date\n    return date.toLocaleDateString([], { month: 'short', day: 'numeric' });\n  }\n\n  function getCurrentUserId() {\n    // Try to get from global or meta tag\n    if (window.currentUserId) return parseInt(window.currentUserId);\n\n    const meta = document.querySelector('meta[name=\"user-id\"]');\n    if (meta) return parseInt(meta.content);\n\n    // Try from session data\n    const sessionData = document.querySelector('[data-user-id]');\n    if (sessionData) return parseInt(sessionData.dataset.userId);\n\n    return null;\n  }\n\n  function autoResizeTextarea(textarea) {\n    if (!textarea) return;\n\n    textarea.style.height = 'auto';\n    textarea.style.height = Math.min(textarea.scrollHeight, 120) + 'px';\n  }\n\n  function showToast(message, type = 'info') {\n    // Use SweetAlert2 if available, otherwise console\n    if (typeof Swal !== 'undefined') {\n      Swal.fire({\n        toast: true,\n        position: 'top-end',\n        icon: type,\n        title: message,\n        showConfirmButton: false,\n        timer: 3000,\n        timerProgressBar: true\n      });\n    } else {\n      console.log(`[ChatWidget] ${type}: ${message}`);\n    }\n  }\n\n  function showNotification(title, body) {\n    // Browser notification if permitted\n    if ('Notification' in window && Notification.permission === 'granted') {\n      new Notification(title, {\n        body: body.length > 50 ? body.substring(0, 50) + '...' : body,\n        icon: '/static/images/logo-icon.png',\n        tag: 'chat-message'\n      });\n    }\n  }\n\n  // ============================================================================\n  // SMART POSITIONING\n  // ============================================================================\n\n  function updatePosition() {\n    if (!elements.widget) return;\n\n    // Check for mobile bottom nav\n    const mobileNav = document.querySelector('.mobile-bottom-nav, .c-mobile-nav, [data-mobile-nav]');\n    if (mobileNav) {\n      const navHeight = mobileNav.offsetHeight;\n      document.documentElement.style.setProperty('--mobile-nav-height', `${navHeight}px`);\n    }\n  }\n\n  // ============================================================================\n  // EVENT DELEGATION REGISTRATION\n  // ============================================================================\n\n  function registerEventHandlers() {\n    // Register delete-menu action via EventDelegation\n    if (typeof EventDelegation !== 'undefined') {\n      EventDelegation.register('delete-menu', handleDeleteMenuClick, {\n        preventDefault: true\n      });\n    }\n  }\n\n  // ============================================================================\n  // INITIALIZATION\n  // ============================================================================\n\n  function bindEvents() {\n    // Trigger button\n    if (elements.trigger) {\n      elements.trigger.addEventListener('click', handleTriggerClick);\n    }\n\n    // Close buttons (both list view and chat view)\n    if (elements.closeBtns) {\n      elements.closeBtns.forEach(btn => {\n        btn.addEventListener('click', closeWidget);\n      });\n    }\n\n    // Conversation clicks (event delegation)\n    if (elements.conversationList) {\n      elements.conversationList.addEventListener('click', handleConversationClick);\n    }\n    if (elements.onlineList) {\n      elements.onlineList.addEventListener('click', handleConversationClick);\n    }\n    if (elements.searchResults) {\n      elements.searchResults.addEventListener('click', handleConversationClick);\n    }\n\n    // Back button\n    if (elements.backBtn) {\n      elements.backBtn.addEventListener('click', handleBackClick);\n    }\n\n    // Send button\n    if (elements.sendBtn) {\n      elements.sendBtn.addEventListener('click', handleSendClick);\n    }\n\n    // Composer\n    if (elements.composerInput) {\n      elements.composerInput.addEventListener('keydown', handleComposerKeydown);\n      elements.composerInput.addEventListener('input', handleComposerInput);\n\n      // iOS Safari fix: ensure textarea is focusable on tap\n      elements.composerInput.addEventListener('touchstart', function(e) {\n        // Don't prevent default - allow normal touch behavior\n        // Just ensure element can receive focus\n        this.style.pointerEvents = 'auto';\n      }, { passive: true });\n\n      // Ensure focus works on click (fallback for all browsers)\n      elements.composerInput.addEventListener('click', function(e) {\n        e.stopPropagation();\n        this.focus();\n      });\n    }\n\n    // Search\n    if (elements.searchInput) {\n      console.log('[ChatWidget] Search input found, binding events');\n      elements.searchInput.addEventListener('input', handleSearchInput);\n      elements.searchInput.addEventListener('focus', handleSearchFocus);\n      elements.searchInput.addEventListener('blur', handleSearchBlur);\n    } else {\n      console.warn('[ChatWidget] Search input not found!');\n    }\n\n    // Global events\n    document.addEventListener('keydown', handleKeydown);\n    document.addEventListener('click', handleClickOutside);\n\n    // Window resize\n    window.addEventListener('resize', updatePosition);\n\n    // Open inbox button\n    if (elements.openInboxBtn) {\n      elements.openInboxBtn.addEventListener('click', () => {\n        window.location.href = '/messages';\n      });\n    }\n\n    // New chat button (focus search)\n    if (elements.newChatBtn) {\n      elements.newChatBtn.addEventListener('click', () => {\n        if (state.currentView === 'chat') {\n          closeConversation();\n        }\n        if (elements.searchInput) {\n          elements.searchInput.focus();\n        }\n      });\n    }\n  }\n\n  function init() {\n    // Page guard - only initialize if chat widget exists on page\n    // This must be checked after DOMContentLoaded when the element exists\n    if (!document.querySelector('.c-chat-widget')) {\n      console.log('[ChatWidget] No widget element found, skipping initialization');\n      return;\n    }\n\n    cacheElements();\n    registerEventHandlers();\n    bindEvents();\n    initWebSocket();\n    updatePosition();\n\n    // Load initial unread count\n    loadUnreadCount();\n\n    // Polling fallback\n    if (CONFIG.polling.enabled) {\n      setInterval(loadUnreadCount, CONFIG.polling.interval);\n    }\n\n    console.log('[ChatWidget] Initialized');\n  }\n\n  // Initialize when DOM is ready\n  if (document.readyState === 'loading') {\n    document.addEventListener('DOMContentLoaded', init);\n  } else {\n    init();\n  }\n\n  // Expose to global for external access\n  window.ChatWidget = {\n    open: openWidget,\n    close: closeWidget,\n    toggle: toggleWidget,\n    openConversation: openConversation,\n    refresh: loadConversations,\n    getUnreadCount: () => state.unreadCount\n  };\n\n})();\n","/**\n * ============================================================================\n * MESSENGER WIDGET - Unified Sidebar Messaging Component\n * ============================================================================\n *\n * Facebook Messenger-style sidebar widget combining:\n * - Online users display\n * - Conversation list\n * - Real-time chat interface\n * - User search\n * - Message management (read, send, delete)\n *\n * Dependencies:\n * - Socket.IO (for real-time features)\n * - Bootstrap 5 (optional, for modals)\n *\n * ============================================================================\n */\n\n(function() {\n  'use strict';\n\n  class MessengerWidget {\n    constructor() {\n      this.widget = null;\n      this.currentUserId = null;\n      this.currentUserName = '';\n      this.conversations = [];\n      this.messages = [];\n      this.onlineUsers = [];\n      this.unreadCount = 0;\n      this.typingTimeout = null;\n      this.socket = null;\n      this.refreshIntervals = {};\n    }\n\n    /**\n     * Initialize the messenger widget\n     */\n    init() {\n      this.widget = document.querySelector('[data-component=\"messenger-widget\"]');\n      if (!this.widget) return;\n\n      this.bindEvents();\n      this.setupWebSocket();\n      this.loadOnlineUsers();\n      this.loadConversations();\n      this.loadUnreadCount();\n\n      // Set up periodic refreshes\n      this.refreshIntervals.online = setInterval(() => this.loadOnlineUsers(), 30000);\n      this.refreshIntervals.unread = setInterval(() => this.loadUnreadCount(), 60000);\n\n      console.log('[Messenger] Initialized');\n    }\n\n    /**\n     * Get CSRF token\n     */\n    getCSRFToken() {\n      const meta = document.querySelector('meta[name=\"csrf-token\"]');\n      return meta ? meta.getAttribute('content') : '';\n    }\n\n    /**\n     * Bind DOM events using event delegation\n     */\n    bindEvents() {\n      // Event delegation for all actions\n      this.widget.addEventListener('click', (e) => {\n        const action = e.target.closest('[data-action]');\n        if (action) {\n          e.preventDefault();\n          this.handleAction(action.dataset.action, action);\n        }\n\n        // Conversation click\n        const conv = e.target.closest('[data-conversation-id]');\n        if (conv && !action) {\n          e.preventDefault();\n          const userId = parseInt(conv.dataset.conversationId, 10);\n          this.openConversation(userId);\n        }\n\n        // Online user click\n        const onlineUser = e.target.closest('[data-online-user-id]');\n        if (onlineUser && !action) {\n          e.preventDefault();\n          const userId = parseInt(onlineUser.dataset.onlineUserId, 10);\n          this.openConversation(userId);\n        }\n      });\n\n      // Search input\n      const searchInput = this.widget.querySelector('[data-input=\"search\"]');\n      if (searchInput) {\n        searchInput.addEventListener('input', (e) => this.handleSearch(e.target.value));\n      }\n\n      // Message input\n      const msgInput = this.widget.querySelector('[data-input=\"message\"]');\n      if (msgInput) {\n        msgInput.addEventListener('keydown', (e) => {\n          if (e.key === 'Enter' && !e.shiftKey) {\n            e.preventDefault();\n            this.sendMessage();\n          }\n        });\n        msgInput.addEventListener('input', () => this.handleTyping());\n\n        // Auto-resize textarea\n        msgInput.addEventListener('input', () => {\n          msgInput.style.height = 'auto';\n          msgInput.style.height = Math.min(msgInput.scrollHeight, 100) + 'px';\n        });\n      }\n\n      // Close on escape when chatting\n      document.addEventListener('keydown', (e) => {\n        if (e.key === 'Escape' && this.widget.classList.contains('is-chatting')) {\n          this.showList();\n        }\n      });\n    }\n\n    /**\n     * Handle action buttons\n     */\n    handleAction(action, element) {\n      switch (action) {\n        case 'back':\n          this.showList();\n          break;\n        case 'new-chat':\n          this.focusSearch();\n          break;\n        case 'send-message':\n          this.sendMessage();\n          break;\n        case 'delete-message':\n          const msgId = element.closest('[data-message-id]')?.dataset.messageId;\n          if (msgId) this.deleteMessage(parseInt(msgId, 10));\n          break;\n        case 'open-messages':\n          window.location.href = '/messages';\n          break;\n      }\n    }\n\n    /**\n     * Setup WebSocket connection\n     */\n    setupWebSocket() {\n      if (typeof io === 'undefined') return;\n\n      const checkSocket = () => {\n        if (window.socket && window.socket.connected) {\n          this.socket = window.socket;\n          this.attachSocketListeners();\n        } else {\n          setTimeout(checkSocket, 1000);\n        }\n      };\n      checkSocket();\n    }\n\n    /**\n     * Attach WebSocket event listeners\n     */\n    attachSocketListeners() {\n      if (!this.socket) return;\n\n      this.socket.on('new_message', (data) => this.handleNewMessage(data));\n      this.socket.on('user_typing', (data) => this.handleTypingIndicator(data));\n      this.socket.on('messages_read', (data) => this.handleMessagesRead(data));\n      this.socket.on('dm_sent', (data) => {\n        if (data.message) this.appendMessage(data.message);\n      });\n      this.socket.on('dm_error', (data) => {\n        this.showToast(data.error || 'Failed to send message', 'error');\n      });\n      this.socket.on('user_online', () => this.loadOnlineUsers());\n      this.socket.on('user_offline', () => this.loadOnlineUsers());\n      this.socket.on('message_deleted', (data) => this.handleMessageDeleted(data));\n    }\n\n    // ========================================================================\n    // ONLINE USERS\n    // ========================================================================\n\n    /**\n     * Load online users\n     */\n    async loadOnlineUsers() {\n      try {\n        const response = await fetch('/api/notifications/presence/online-users?details=true&limit=8');\n        const data = await response.json();\n\n        if (data.success) {\n          this.onlineUsers = data.online_users || [];\n          this.renderOnlineUsers();\n          this.updateOnlineCount(data.count || this.onlineUsers.length);\n        }\n      } catch (error) {\n        console.warn('[Messenger] Failed to load online users:', error);\n      }\n    }\n\n    /**\n     * Render online users\n     */\n    renderOnlineUsers() {\n      const list = this.widget.querySelector('[data-online-list]');\n      if (!list) return;\n\n      list.innerHTML = '';\n\n      if (this.onlineUsers.length === 0) {\n        list.innerHTML = '<span class=\"c-messenger__online-empty\">No one online</span>';\n        return;\n      }\n\n      this.onlineUsers.forEach(user => {\n        const el = document.createElement('div');\n        el.className = 'c-messenger__online-user';\n        el.dataset.onlineUserId = user.id;\n        el.title = `Chat with ${user.name}`;\n\n        const avatarUrl = user.avatar_url || '/static/img/default_player.png';\n\n        el.innerHTML = `\n          <div class=\"c-messenger__online-avatar\">\n            <img src=\"${avatarUrl}\" alt=\"${user.name}\" class=\"c-messenger__online-avatar-img\"\n                 onerror=\"this.src='/static/img/default_player.png'\">\n            <span class=\"c-online-status c-online-status--sm is-online\"></span>\n          </div>\n          <span class=\"c-messenger__online-name\">${user.name.split(' ')[0]}</span>\n        `;\n\n        list.appendChild(el);\n      });\n    }\n\n    /**\n     * Update online count display\n     */\n    updateOnlineCount(count) {\n      const countEl = this.widget.querySelector('[data-online-count]');\n      if (countEl) {\n        countEl.textContent = count;\n      }\n    }\n\n    // ========================================================================\n    // CONVERSATIONS\n    // ========================================================================\n\n    /**\n     * Load conversations list\n     */\n    async loadConversations() {\n      const list = this.widget.querySelector('[data-conversation-list]');\n      const loading = this.widget.querySelector('[data-state=\"loading\"]');\n      const empty = this.widget.querySelector('[data-state=\"empty\"]');\n\n      if (loading) loading.classList.remove('u-hidden');\n      if (empty) empty.classList.add('u-hidden');\n\n      try {\n        const response = await fetch('/api/messages');\n        const data = await response.json();\n\n        if (loading) loading.classList.add('u-hidden');\n\n        if (data.success) {\n          this.conversations = data.conversations || [];\n          this.renderConversations();\n        }\n      } catch (error) {\n        console.error('[Messenger] Failed to load conversations:', error);\n        if (loading) loading.classList.add('u-hidden');\n      }\n    }\n\n    /**\n     * Render conversations list\n     */\n    renderConversations() {\n      const list = this.widget.querySelector('[data-conversation-list]');\n      const empty = this.widget.querySelector('[data-state=\"empty\"]');\n      if (!list) return;\n\n      // Clear existing\n      const items = list.querySelectorAll('.c-messenger__conversation');\n      items.forEach(item => item.remove());\n\n      if (this.conversations.length === 0) {\n        if (empty) empty.classList.remove('u-hidden');\n        return;\n      }\n\n      if (empty) empty.classList.add('u-hidden');\n\n      this.conversations.forEach(conv => {\n        const item = document.createElement('div');\n        item.className = 'c-messenger__conversation';\n        if (conv.unread_count > 0) item.classList.add('is-unread');\n        item.dataset.conversationId = conv.user.id;\n\n        const avatarUrl = conv.user.avatar_url || '/static/img/default_player.png';\n        const onlineClass = conv.user.is_online ? 'is-online' : 'is-offline';\n        const preview = conv.last_message\n          ? `${conv.last_message.sent_by_me ? 'You: ' : ''}${conv.last_message.content}`\n          : 'No messages yet';\n\n        item.innerHTML = `\n          <div class=\"c-messenger__conversation-avatar\">\n            <img src=\"${avatarUrl}\" alt=\"${conv.user.name}\"\n                 class=\"c-messenger__conversation-avatar-img\"\n                 onerror=\"this.src='/static/img/default_player.png'\">\n            <span class=\"c-online-status c-online-status--sm ${onlineClass}\"\n                  data-online-status=\"${conv.user.id}\"></span>\n          </div>\n          <div class=\"c-messenger__conversation-body\">\n            <p class=\"c-messenger__conversation-name\">${conv.user.name}</p>\n            <p class=\"c-messenger__conversation-preview\">${this.escapeHtml(preview)}</p>\n          </div>\n          <div class=\"c-messenger__conversation-meta\">\n            ${conv.last_message ? `<span class=\"c-messenger__conversation-time\">${conv.last_message.time_ago}</span>` : ''}\n            ${conv.unread_count > 0 ? `<span class=\"c-messenger__conversation-unread\">${conv.unread_count}</span>` : ''}\n          </div>\n        `;\n\n        list.appendChild(item);\n      });\n    }\n\n    /**\n     * Open a conversation\n     */\n    async openConversation(userId) {\n      this.currentUserId = userId;\n      this.widget.classList.add('is-chatting');\n\n      // Update header\n      const user = this.onlineUsers.find(u => u.id === userId)\n        || this.conversations.find(c => c.user.id === userId)?.user;\n\n      if (user) {\n        this.currentUserName = user.name;\n        const headerTitle = this.widget.querySelector('[data-header-title] span');\n        if (headerTitle) headerTitle.textContent = user.name;\n      }\n\n      // Load messages\n      await this.loadMessages(userId);\n\n      // Focus input\n      const input = this.widget.querySelector('[data-input=\"message\"]');\n      if (input) input.focus();\n    }\n\n    // ========================================================================\n    // MESSAGES\n    // ========================================================================\n\n    /**\n     * Load messages for a conversation\n     */\n    async loadMessages(userId) {\n      const container = this.widget.querySelector('[data-messages]');\n      if (!container) return;\n\n      container.innerHTML = '<div class=\"c-messenger__loading\"><div class=\"c-messenger__loading-spinner\"></div></div>';\n\n      try {\n        const response = await fetch(`/api/messages/${userId}`);\n        const data = await response.json();\n\n        if (data.success) {\n          this.messages = data.messages || [];\n          this.renderMessages(container);\n          this.scrollToBottom(container);\n          this.loadUnreadCount();\n        }\n      } catch (error) {\n        console.error('[Messenger] Failed to load messages:', error);\n        container.innerHTML = '<p class=\"c-messenger__empty\">Failed to load messages</p>';\n      }\n    }\n\n    /**\n     * Render messages\n     */\n    renderMessages(container) {\n      if (!container) return;\n      container.innerHTML = '';\n\n      if (this.messages.length === 0) {\n        container.innerHTML = `\n          <div class=\"c-messenger__empty\">\n            <i class=\"ti ti-message-2 c-messenger__empty-icon\"></i>\n            <p class=\"c-messenger__empty-text\">No messages yet. Say hello!</p>\n          </div>\n        `;\n        return;\n      }\n\n      this.messages.forEach(msg => this.appendMessage(msg, false));\n    }\n\n    /**\n     * Append a message to the chat\n     */\n    appendMessage(msg, scroll = true) {\n      const container = this.widget.querySelector('[data-messages]');\n      if (!container) return;\n\n      // Remove empty state\n      const empty = container.querySelector('.c-messenger__empty');\n      if (empty) empty.remove();\n\n      const isSent = msg.sender_id !== this.currentUserId;\n      const bubble = document.createElement('div');\n      bubble.className = `c-messenger__message c-messenger__message--${isSent ? 'sent' : 'received'}`;\n      bubble.dataset.messageId = msg.id;\n\n      const timeStr = msg.created_at\n        ? new Date(msg.created_at).toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' })\n        : '';\n\n      bubble.innerHTML = `\n        <div class=\"c-messenger__message-content\">${this.escapeHtml(msg.content)}</div>\n        <div class=\"c-messenger__message-time\">${timeStr}</div>\n        ${isSent ? `\n          <div class=\"c-messenger__message-actions\">\n            <button class=\"c-messenger__message-action\" data-action=\"delete-message\" title=\"Delete\">\n              <i class=\"ti ti-trash\"></i>\n            </button>\n          </div>\n        ` : ''}\n      `;\n\n      container.appendChild(bubble);\n\n      if (scroll) this.scrollToBottom(container);\n    }\n\n    /**\n     * Send a message\n     */\n    async sendMessage() {\n      const input = this.widget.querySelector('[data-input=\"message\"]');\n      if (!input || !this.currentUserId) return;\n\n      const content = input.value.trim();\n      if (!content) return;\n\n      input.value = '';\n      input.style.height = 'auto';\n      input.focus();\n\n      if (this.socket && this.socket.connected) {\n        this.socket.emit('send_dm', {\n          recipient_id: this.currentUserId,\n          content: content\n        });\n      } else {\n        // HTTP fallback\n        try {\n          const response = await fetch(`/api/messages/${this.currentUserId}`, {\n            method: 'POST',\n            headers: {\n              'Content-Type': 'application/json',\n              'X-CSRFToken': this.getCSRFToken()\n            },\n            body: JSON.stringify({ content })\n          });\n          const data = await response.json();\n          if (data.success && data.message) {\n            this.appendMessage(data.message);\n          } else {\n            this.showToast(data.error || 'Failed to send', 'error');\n          }\n        } catch (error) {\n          this.showToast('Failed to send message', 'error');\n        }\n      }\n    }\n\n    /**\n     * Delete a message\n     */\n    async deleteMessage(messageId) {\n      if (!confirm('Delete this message?')) return;\n\n      try {\n        const response = await fetch(`/api/messages/message/${messageId}`, {\n          method: 'DELETE',\n          headers: {\n            'X-CSRFToken': this.getCSRFToken()\n          }\n        });\n        const data = await response.json();\n\n        if (data.success) {\n          const msgEl = this.widget.querySelector(`[data-message-id=\"${messageId}\"]`);\n          if (msgEl) {\n            msgEl.classList.add('is-deleting');\n            setTimeout(() => msgEl.remove(), 200);\n          }\n        } else {\n          this.showToast(data.error || 'Failed to delete', 'error');\n        }\n      } catch (error) {\n        this.showToast('Failed to delete message', 'error');\n      }\n    }\n\n    /**\n     * Handle incoming message\n     */\n    handleNewMessage(data) {\n      this.loadUnreadCount();\n\n      if (this.widget.classList.contains('is-chatting') && this.currentUserId === data.sender_id) {\n        this.appendMessage(data);\n        this.markAsRead(data.id);\n      } else {\n        this.showToast(`${data.sender_name}: ${data.content.substring(0, 50)}`, 'info');\n      }\n\n      if (!this.widget.classList.contains('is-chatting')) {\n        this.loadConversations();\n      }\n    }\n\n    /**\n     * Handle message deleted event\n     */\n    handleMessageDeleted(data) {\n      const msgEl = this.widget.querySelector(`[data-message-id=\"${data.message_id}\"]`);\n      if (msgEl) msgEl.remove();\n    }\n\n    /**\n     * Handle typing indicator\n     */\n    handleTypingIndicator(data) {\n      if (this.currentUserId !== data.user_id) return;\n\n      const container = this.widget.querySelector('[data-messages]');\n      let typingEl = container?.querySelector('.c-messenger__typing');\n\n      if (data.typing) {\n        if (!typingEl) {\n          typingEl = document.createElement('div');\n          typingEl.className = 'c-messenger__typing';\n          typingEl.innerHTML = `\n            <span class=\"c-messenger__typing-dots\">\n              <span class=\"c-messenger__typing-dot\"></span>\n              <span class=\"c-messenger__typing-dot\"></span>\n              <span class=\"c-messenger__typing-dot\"></span>\n            </span>\n            <span>typing...</span>\n          `;\n          container.appendChild(typingEl);\n          this.scrollToBottom(container);\n        }\n      } else {\n        if (typingEl) typingEl.remove();\n      }\n    }\n\n    /**\n     * Handle typing (send indicator)\n     */\n    handleTyping() {\n      if (!this.socket || !this.currentUserId) return;\n\n      if (this.typingTimeout) clearTimeout(this.typingTimeout);\n\n      this.socket.emit('typing_start', { recipient_id: this.currentUserId });\n\n      this.typingTimeout = setTimeout(() => {\n        this.socket.emit('typing_stop', { recipient_id: this.currentUserId });\n      }, 2000);\n    }\n\n    /**\n     * Handle messages read notification\n     */\n    handleMessagesRead(data) {\n      // Could add read receipts visual\n    }\n\n    /**\n     * Mark message as read\n     */\n    markAsRead(messageId) {\n      if (this.socket && this.socket.connected) {\n        this.socket.emit('mark_dm_read', { message_id: messageId });\n      }\n    }\n\n    // ========================================================================\n    // SEARCH\n    // ========================================================================\n\n    /**\n     * Handle search input\n     */\n    async handleSearch(query) {\n      if (query.length < 2) {\n        this.renderConversations();\n        return;\n      }\n\n      try {\n        const response = await fetch(`/api/messages/users/search?q=${encodeURIComponent(query)}`);\n        const data = await response.json();\n\n        if (data.success && data.users) {\n          this.renderSearchResults(data.users);\n        }\n      } catch (error) {\n        console.error('[Messenger] Search failed:', error);\n      }\n    }\n\n    /**\n     * Render search results\n     */\n    renderSearchResults(users) {\n      const list = this.widget.querySelector('[data-conversation-list]');\n      if (!list) return;\n\n      const items = list.querySelectorAll('.c-messenger__conversation');\n      items.forEach(item => item.remove());\n\n      users.forEach(user => {\n        const item = document.createElement('div');\n        item.className = 'c-messenger__conversation';\n        item.dataset.conversationId = user.id;\n\n        const avatarUrl = user.avatar_url || '/static/img/default_player.png';\n\n        item.innerHTML = `\n          <div class=\"c-messenger__conversation-avatar\">\n            <img src=\"${avatarUrl}\" alt=\"${user.name}\"\n                 class=\"c-messenger__conversation-avatar-img\"\n                 onerror=\"this.src='/static/img/default_player.png'\">\n          </div>\n          <div class=\"c-messenger__conversation-body\">\n            <p class=\"c-messenger__conversation-name\">${user.name}</p>\n            <p class=\"c-messenger__conversation-preview\">Click to start chatting</p>\n          </div>\n        `;\n\n        list.appendChild(item);\n      });\n    }\n\n    /**\n     * Focus search input\n     */\n    focusSearch() {\n      const input = this.widget.querySelector('[data-input=\"search\"]');\n      if (input) {\n        input.focus();\n        input.value = '';\n      }\n    }\n\n    // ========================================================================\n    // UI HELPERS\n    // ========================================================================\n\n    /**\n     * Show conversation list (exit chat view)\n     */\n    showList() {\n      this.widget.classList.remove('is-chatting');\n      this.currentUserId = null;\n      this.currentUserName = '';\n      this.loadConversations();\n\n      // Reset header\n      const headerTitle = this.widget.querySelector('[data-header-title] span');\n      if (headerTitle) headerTitle.textContent = 'Messages';\n    }\n\n    /**\n     * Load unread count\n     */\n    async loadUnreadCount() {\n      try {\n        const response = await fetch('/api/messages/unread-count');\n        const data = await response.json();\n        if (data.success) {\n          this.updateBadge(data.count);\n        }\n      } catch (error) {\n        console.warn('[Messenger] Failed to load unread count:', error);\n      }\n    }\n\n    /**\n     * Update badge count\n     */\n    updateBadge(count) {\n      this.unreadCount = count;\n\n      const badge = this.widget.querySelector('[data-badge=\"unread\"]');\n      if (badge) {\n        badge.textContent = count > 99 ? '99+' : count;\n        badge.classList.toggle('u-hidden', count === 0);\n      }\n\n      // Update navbar badge too\n      const navBadge = document.querySelector('[data-badge=\"messages-count\"]');\n      if (navBadge) {\n        navBadge.textContent = count > 99 ? '99+' : count;\n        navBadge.classList.toggle('u-hidden', count === 0);\n      }\n    }\n\n    /**\n     * Scroll to bottom of container\n     */\n    scrollToBottom(container) {\n      if (container) {\n        container.scrollTop = container.scrollHeight;\n      }\n    }\n\n    /**\n     * Escape HTML\n     */\n    escapeHtml(text) {\n      const div = document.createElement('div');\n      div.textContent = text;\n      return div.innerHTML;\n    }\n\n    /**\n     * Show toast notification\n     */\n    showToast(message, type = 'info') {\n      if (typeof Swal !== 'undefined') {\n        Swal.fire({\n          toast: true,\n          position: 'top-end',\n          icon: type,\n          title: message,\n          showConfirmButton: false,\n          timer: 3000\n        });\n      } else {\n        console.log(`[${type}]`, message);\n      }\n    }\n\n    /**\n     * Cleanup on destroy\n     */\n    destroy() {\n      Object.values(this.refreshIntervals).forEach(interval => {\n        if (interval) clearInterval(interval);\n      });\n    }\n  }\n\n  // Initialize\n  window.MessengerWidget = new MessengerWidget();\n\n  if (document.readyState === 'loading') {\n    document.addEventListener('DOMContentLoaded', () => {\n      window.MessengerWidget.init();\n    });\n  } else {\n    window.MessengerWidget.init();\n  }\n\n  // Cleanup on page unload\n  window.addEventListener('beforeunload', () => {\n    window.MessengerWidget.destroy();\n  });\n\n})();\n","/**\n * Profile Wizard - 5-Step Verification Wizard\n * Handles step progression, validation, review population, auto-save, and touch gestures\n */\n\nclass ProfileWizard {\n    constructor(config = {}) {\n        this.config = {\n            totalSteps: config.totalSteps || 5,\n            playerId: config.playerId || null,\n            csrfToken: config.csrfToken || '',\n            autoSaveUrl: config.autoSaveUrl || '',\n            autoSaveDelay: config.autoSaveDelay || 2000\n        };\n\n        this.currentStep = 1;\n        this.autoSaveTimeout = null;\n        this.lastSavedData = null;\n\n        // Cache DOM elements\n        this.elements = {\n            form: document.getElementById('wizardForm'),\n            progressBar: document.getElementById('progressBar'),\n            currentStepInput: document.getElementById('currentStep'),\n            prevBtn: document.getElementById('prevBtn'),\n            nextBtn: document.getElementById('nextBtn'),\n            confirmBtn: document.getElementById('confirmBtn'),\n            saveIndicator: document.getElementById('saveIndicator'),\n            swipeHint: document.getElementById('swipeHint'),\n            steps: document.querySelectorAll('[data-step]'),\n            stepIndicators: document.querySelectorAll('[data-step-indicator]'),\n            editButtons: document.querySelectorAll('[data-goto-step]'),\n            confirmCheckbox: document.getElementById('confirmCheck')\n        };\n\n        this.init();\n    }\n\n    /**\n     * Initialize the wizard\n     */\n    init() {\n        if (!this.elements.form) {\n            console.warn('Profile wizard form not found');\n            return;\n        }\n\n        this.bindEvents();\n        this.updateUI();\n        this.initSwipeGestures();\n\n        // Hide swipe hint after first interaction\n        if (this.elements.swipeHint) {\n            setTimeout(() => {\n                this.elements.swipeHint.style.opacity = '0.5';\n            }, 3000);\n        }\n    }\n\n    /**\n     * Bind event handlers\n     */\n    bindEvents() {\n        // Navigation buttons\n        if (this.elements.nextBtn) {\n            this.elements.nextBtn.addEventListener('click', (e) => {\n                e.preventDefault();\n                this.next();\n            });\n        }\n\n        if (this.elements.prevBtn) {\n            this.elements.prevBtn.addEventListener('click', (e) => {\n                e.preventDefault();\n                this.prev();\n            });\n        }\n\n        // Clicking on completed step indicators\n        this.elements.stepIndicators.forEach(indicator => {\n            indicator.addEventListener('click', () => {\n                const stepNum = parseInt(indicator.dataset.stepIndicator);\n                if (stepNum < this.currentStep) {\n                    this.goToStep(stepNum);\n                }\n            });\n        });\n\n        // Edit buttons in review section\n        this.elements.editButtons.forEach(btn => {\n            btn.addEventListener('click', (e) => {\n                e.preventDefault();\n                const stepNum = parseInt(btn.dataset.gotoStep);\n                this.goToStep(stepNum);\n            });\n        });\n\n        // Form field changes - auto-save and review update\n        const formFields = this.elements.form.querySelectorAll('input, select, textarea');\n        formFields.forEach(field => {\n            field.addEventListener('change', () => {\n                this.scheduleAutoSave();\n                if (this.currentStep === this.config.totalSteps) {\n                    this.populateReview();\n                }\n            });\n\n            field.addEventListener('input', () => {\n                // Remove invalid state when user starts typing\n                field.classList.remove('is-invalid', 'is-shaking');\n            });\n        });\n\n        // Form submission\n        this.elements.form.addEventListener('submit', (e) => {\n            if (!this.validateFinalStep()) {\n                e.preventDefault();\n            }\n        });\n\n        // Confirm checkbox validation\n        if (this.elements.confirmCheckbox) {\n            this.elements.confirmCheckbox.addEventListener('change', () => {\n                this.updateConfirmButton();\n            });\n        }\n    }\n\n    /**\n     * Go to next step\n     */\n    next() {\n        // Step 1 (welcome) has no validation\n        if (this.currentStep > 1 && !this.validateCurrentStep()) {\n            this.shakeInvalidFields();\n            return;\n        }\n\n        if (this.currentStep < this.config.totalSteps) {\n            this.currentStep++;\n            this.updateUI();\n\n            // Populate review on entering last step\n            if (this.currentStep === this.config.totalSteps) {\n                this.populateReview();\n            }\n        }\n    }\n\n    /**\n     * Go to previous step\n     */\n    prev() {\n        if (this.currentStep > 1) {\n            this.currentStep--;\n            this.updateUI();\n        }\n    }\n\n    /**\n     * Go to specific step\n     */\n    goToStep(step) {\n        if (step >= 1 && step <= this.config.totalSteps) {\n            this.currentStep = step;\n            this.updateUI();\n\n            if (this.currentStep === this.config.totalSteps) {\n                this.populateReview();\n            }\n        }\n    }\n\n    /**\n     * Update UI based on current step\n     */\n    updateUI() {\n        // Update hidden input\n        if (this.elements.currentStepInput) {\n            this.elements.currentStepInput.value = this.currentStep;\n        }\n\n        // Update step content visibility\n        this.elements.steps.forEach(step => {\n            const stepNum = parseInt(step.dataset.step);\n            step.classList.toggle('c-wizard__step--active', stepNum === this.currentStep);\n        });\n\n        // Update step indicators\n        this.elements.stepIndicators.forEach(indicator => {\n            const stepNum = parseInt(indicator.dataset.stepIndicator);\n            indicator.classList.remove('c-wizard__progress-step--active', 'c-wizard__progress-step--completed');\n\n            if (stepNum === this.currentStep) {\n                indicator.classList.add('c-wizard__progress-step--active');\n            } else if (stepNum < this.currentStep) {\n                indicator.classList.add('c-wizard__progress-step--completed');\n            }\n        });\n\n        // Update progress bar (0% at step 1, 100% at step 5)\n        const progress = ((this.currentStep - 1) / (this.config.totalSteps - 1)) * 80; // 80% is full width between first and last\n        if (this.elements.progressBar) {\n            this.elements.progressBar.style.width = progress + '%';\n        }\n\n        // Update navigation buttons\n        this.updateNavigationButtons();\n\n        // Scroll to top smoothly\n        this.elements.form.scrollIntoView({ behavior: 'smooth', block: 'start' });\n    }\n\n    /**\n     * Update navigation button visibility and states\n     */\n    updateNavigationButtons() {\n        const { prevBtn, nextBtn, confirmBtn } = this.elements;\n\n        if (this.currentStep === 1) {\n            // First step: hide back, show next\n            if (prevBtn) prevBtn.disabled = true;\n            if (nextBtn) {\n                nextBtn.style.display = 'flex';\n                nextBtn.querySelector('span').textContent = 'Get Started';\n            }\n            if (confirmBtn) confirmBtn.style.display = 'none';\n        } else if (this.currentStep === this.config.totalSteps) {\n            // Last step: show back, hide next, show confirm\n            if (prevBtn) prevBtn.disabled = false;\n            if (nextBtn) nextBtn.style.display = 'none';\n            if (confirmBtn) {\n                confirmBtn.style.display = 'flex';\n                this.updateConfirmButton();\n            }\n        } else {\n            // Middle steps: show back and next\n            if (prevBtn) prevBtn.disabled = false;\n            if (nextBtn) {\n                nextBtn.style.display = 'flex';\n                nextBtn.querySelector('span').textContent = 'Continue';\n            }\n            if (confirmBtn) confirmBtn.style.display = 'none';\n        }\n    }\n\n    /**\n     * Update confirm button state based on checkbox\n     */\n    updateConfirmButton() {\n        if (this.elements.confirmBtn && this.elements.confirmCheckbox) {\n            this.elements.confirmBtn.disabled = !this.elements.confirmCheckbox.checked;\n        }\n    }\n\n    /**\n     * Validate the current step's required fields\n     */\n    validateCurrentStep() {\n        const currentStepEl = document.querySelector(`[data-step=\"${this.currentStep}\"]`);\n        if (!currentStepEl) return true;\n\n        let isValid = true;\n        const requiredFields = currentStepEl.querySelectorAll('[required]');\n\n        requiredFields.forEach(field => {\n            const value = field.value.trim();\n            if (!value) {\n                field.classList.add('is-invalid');\n                isValid = false;\n            } else {\n                field.classList.remove('is-invalid');\n            }\n        });\n\n        // Email validation for contact step\n        const emailField = currentStepEl.querySelector('#email');\n        if (emailField && emailField.value) {\n            const emailPattern = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\n            if (!emailPattern.test(emailField.value)) {\n                emailField.classList.add('is-invalid');\n                isValid = false;\n            }\n        }\n\n        return isValid;\n    }\n\n    /**\n     * Validate final step (confirmation checkbox)\n     */\n    validateFinalStep() {\n        if (!this.elements.confirmCheckbox) return true;\n        return this.elements.confirmCheckbox.checked;\n    }\n\n    /**\n     * Apply shake animation to invalid fields\n     */\n    shakeInvalidFields() {\n        const currentStepEl = document.querySelector(`[data-step=\"${this.currentStep}\"]`);\n        if (!currentStepEl) return;\n\n        const invalidFields = currentStepEl.querySelectorAll('.is-invalid');\n        invalidFields.forEach(field => {\n            field.classList.add('is-shaking');\n            setTimeout(() => {\n                field.classList.remove('is-shaking');\n            }, 300);\n        });\n\n        // Focus first invalid field\n        if (invalidFields.length) {\n            invalidFields[0].focus();\n        }\n    }\n\n    /**\n     * Populate the review section with current form values\n     */\n    populateReview() {\n        const reviewElements = document.querySelectorAll('[data-review]');\n\n        reviewElements.forEach(el => {\n            const fieldName = el.dataset.review;\n            let displayValue = '-';\n\n            // First try to find a direct field (input, select, textarea)\n            const field = this.elements.form.querySelector(`[data-field=\"${fieldName}\"]`);\n\n            if (field) {\n                if (field.tagName === 'SELECT') {\n                    if (field.multiple) {\n                        // Multi-select dropdown\n                        const selected = Array.from(field.selectedOptions).map(opt => opt.text);\n                        displayValue = selected.length > 0 ? selected.join(', ') : 'None selected';\n                    } else {\n                        // Single select\n                        displayValue = field.options[field.selectedIndex]?.text || '-';\n                    }\n                } else if (field.tagName === 'TEXTAREA') {\n                    displayValue = field.value.trim() || 'No additional notes';\n                } else if (field.tagName === 'DIV') {\n                    // Checkbox group container\n                    const checkedBoxes = field.querySelectorAll('input[type=\"checkbox\"]:checked');\n                    const values = Array.from(checkedBoxes).map(cb => cb.value);\n                    displayValue = values.length > 0 ? values.join(', ') : 'None selected';\n                } else {\n                    displayValue = field.value.trim() || '-';\n                }\n            } else {\n                // Try to find checkbox group by name\n                const checkboxes = this.elements.form.querySelectorAll(`input[name=\"${fieldName}\"]:checked`);\n                if (checkboxes.length > 0) {\n                    const values = Array.from(checkboxes).map(cb => cb.value);\n                    displayValue = values.join(', ');\n                }\n            }\n\n            el.textContent = displayValue;\n        });\n    }\n\n    /**\n     * Schedule auto-save with debounce\n     */\n    scheduleAutoSave() {\n        if (!this.config.autoSaveUrl) return;\n\n        if (this.autoSaveTimeout) {\n            clearTimeout(this.autoSaveTimeout);\n        }\n\n        this.autoSaveTimeout = setTimeout(() => {\n            this.autoSave();\n        }, this.config.autoSaveDelay);\n    }\n\n    /**\n     * Perform auto-save\n     */\n    async autoSave() {\n        if (!this.config.autoSaveUrl) return;\n\n        const formData = new FormData(this.elements.form);\n        const data = Object.fromEntries(formData.entries());\n\n        // Check if data actually changed\n        const dataString = JSON.stringify(data);\n        if (dataString === this.lastSavedData) return;\n\n        try {\n            const response = await fetch(this.config.autoSaveUrl, {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json',\n                    'X-CSRFToken': this.config.csrfToken\n                },\n                body: JSON.stringify(data)\n            });\n\n            if (response.ok) {\n                this.lastSavedData = dataString;\n                this.showSaveIndicator();\n            }\n        } catch (error) {\n            console.warn('Auto-save failed:', error);\n        }\n    }\n\n    /**\n     * Show save indicator briefly\n     */\n    showSaveIndicator() {\n        if (!this.elements.saveIndicator) return;\n\n        this.elements.saveIndicator.classList.add('is-visible');\n\n        setTimeout(() => {\n            this.elements.saveIndicator.classList.remove('is-visible');\n        }, 2000);\n    }\n\n    /**\n     * Initialize touch/swipe gestures for mobile navigation\n     */\n    initSwipeGestures() {\n        if (!('ontouchstart' in window)) return;\n\n        let touchStartX = 0;\n        let touchEndX = 0;\n        const minSwipeDistance = 50;\n\n        this.elements.form.addEventListener('touchstart', (e) => {\n            touchStartX = e.changedTouches[0].screenX;\n        }, { passive: true });\n\n        this.elements.form.addEventListener('touchend', (e) => {\n            touchEndX = e.changedTouches[0].screenX;\n            const swipeDistance = touchEndX - touchStartX;\n\n            if (Math.abs(swipeDistance) < minSwipeDistance) return;\n\n            if (swipeDistance > 0) {\n                // Swipe right - go to previous step\n                this.prev();\n            } else {\n                // Swipe left - go to next step\n                this.next();\n            }\n        }, { passive: true });\n    }\n\n    /**\n     * Get current step number\n     */\n    getCurrentStep() {\n        return this.currentStep;\n    }\n}\n\n// Export for module usage\nif (typeof module !== 'undefined' && module.exports) {\n    module.exports = ProfileWizard;\n}\n","/**\n * Draft System v2 - Simplified and Optimized\n * Clean implementation matching ECS UI patterns\n *\n * REFACTORED: All .style.* manipulations replaced with CSS classes\n * - Replaced 69 inline style manipulations with utility classes\n * - Improved maintainability and consistency\n * - Better performance with CSS class toggling\n * - Easier theming and customization\n */\n\n// Global utility function for formatting position names\nfunction formatPosition(position) {\n    if (!position) return position;\n    return position.replace(/_/g, ' ').replace(/\\b\\w/g, l => l.toUpperCase());\n}\n\nclass DraftSystemV2 {\n    constructor(leagueName) {\n        this.leagueName = leagueName;\n        this.socket = null;\n        this.currentPlayerId = null;\n        this.isConnected = false;\n\n        // Expose instance globally for event delegation\n        window.draftSystemInstance = this;\n\n        this.init();\n    }\n\n    init() {\n        console.log(' [Draft] Initializing DraftSystemV2 for league:', this.leagueName);\n        this.setupImageHandling();\n        this.setupEventListeners();\n        this.initializeSocket();\n        this.setupSearch();\n        this.setupTeamTabHighlighting();\n        console.log(' [Draft] DraftSystemV2 initialization complete');\n    }\n\n    setupImageHandling() {\n        // Handle all player images on page load\n        // Refactored: Using d-flex/d-none/d-block classes instead of style.display\n        document.querySelectorAll('[data-component=\"player-avatar-container\"]').forEach(container => {\n            const img = container.querySelector('.player-avatar');\n            const fallback = container.querySelector('.player-avatar-fallback');\n\n            if (img && fallback) {\n                // Show fallback by default\n                fallback.classList.add('d-flex');\n                fallback.classList.remove('d-none');\n                img.classList.add('d-none');\n                img.classList.remove('d-block');\n\n                // Test if image loads\n                if (img.src && img.src !== '') {\n                    const testImg = new Image();\n                    testImg.onload = () => {\n                        img.classList.add('d-block');\n                        img.classList.remove('d-none');\n                        fallback.classList.add('d-none');\n                        fallback.classList.remove('d-flex');\n                    };\n                    testImg.onerror = () => {\n                        img.classList.add('d-none');\n                        img.classList.remove('d-block');\n                        fallback.classList.add('d-flex');\n                        fallback.classList.remove('d-none');\n                    };\n                    testImg.src = img.src;\n                }\n            }\n        });\n\n        // Handle team player images\n        document.querySelectorAll('[data-component=\"team-player\"]').forEach(player => {\n            const img = player.querySelector('.team-player-avatar');\n            const fallback = player.querySelector('.team-player-avatar-fallback');\n\n            if (img && fallback) {\n                fallback.classList.add('d-flex');\n                fallback.classList.remove('d-none');\n                img.classList.add('d-none');\n                img.classList.remove('d-block');\n\n                if (img.src && img.src !== '') {\n                    const testImg = new Image();\n                    testImg.onload = () => {\n                        img.classList.add('d-block');\n                        img.classList.remove('d-none');\n                        fallback.classList.add('d-none');\n                        fallback.classList.remove('d-flex');\n                    };\n                    testImg.onerror = () => {\n                        img.classList.add('d-none');\n                        img.classList.remove('d-block');\n                        fallback.classList.add('d-flex');\n                        fallback.classList.remove('d-none');\n                    };\n                    testImg.src = img.src;\n                }\n            }\n        });\n    }\n\n    // Smart image cropping function\n    smartCropImage(img) {\n        // Get the natural dimensions of the image\n        const naturalWidth = img.naturalWidth;\n        const naturalHeight = img.naturalHeight;\n        const aspectRatio = naturalWidth / naturalHeight;\n\n        // Determine the best object-position based on aspect ratio\n        // Refactored: Using object-position utility classes instead of inline styles\n        let positionClass = 'object-position-top-20'; // Default for portraits\n\n        if (aspectRatio > 1.3) {\n            // Wide/landscape image - center more\n            positionClass = 'object-position-center-35';\n        } else if (aspectRatio > 0.9 && aspectRatio < 1.1) {\n            // Square-ish image - slightly higher than center\n            positionClass = 'object-position-top-25';\n        } else if (aspectRatio < 0.7) {\n            // Very tall portrait - focus on upper portion where face likely is\n            positionClass = 'object-position-top-15';\n        }\n\n        // Apply the smart positioning class\n        img.classList.add(positionClass);\n\n        // console.log(`Smart crop applied: ${img.alt} (${naturalWidth}x${naturalHeight}, ratio: ${aspectRatio.toFixed(2)}) -> ${positionClass}`);\n    }\n\n    setupEventListeners() {\n        // Event delegation now handles search/filter/sort via data-on-input and data-on-change\n        // No individual event listeners needed - delegation system will call:\n        // - this.handleSearch() via 'search-players' action\n        // - this.handleFilter() via 'filter-position' action\n        // - this.handleSort() via 'sort-players' action\n\n        // Keyboard shortcuts (keep as-is, not suitable for data-action pattern)\n        const searchInput = document.getElementById('playerSearch');\n        document.addEventListener('keydown', (e) => {\n            if (e.key === 'Escape') {\n                this.closeModals();\n            }\n            if (e.key === '/' && !e.target.matches('input, textarea')) {\n                e.preventDefault();\n                if (searchInput) searchInput.focus();\n            }\n        });\n    }\n\n    initializeSocket() {\n        try {\n            // Use SocketManager if available (preferred method)\n            if (typeof window.SocketManager !== 'undefined') {\n                console.log(' [Draft] Using SocketManager');\n\n                // Get socket reference\n                this.socket = window.SocketManager.getSocket();\n\n                // Register connect callback - fires immediately if already connected\n                window.SocketManager.onConnect('DraftSystem', (socket) => {\n                    console.log(' [Draft] Socket connected via SocketManager');\n                    this.socket = socket;\n                    this.isConnected = true;\n                    this.updateConnectionStatus(true);\n                    this.socket.emit('join_draft_room', { league_name: this.leagueName });\n                });\n\n                // Register disconnect callback\n                window.SocketManager.onDisconnect('DraftSystem', (reason) => {\n                    console.log(' [Draft] Socket disconnected:', reason);\n                    this.isConnected = false;\n                    this.updateConnectionStatus(false);\n                });\n\n                // Register event listeners via SocketManager\n                this.setupSocketListenersViaManager();\n                return;\n            }\n\n            // Fallback: Reuse existing global socket if available\n            if (window.socket) {\n                console.log(' [Draft] Reusing existing socket (connected:', window.socket.connected, ')');\n                this.socket = window.socket;\n\n                // If already connected, join room immediately\n                if (this.socket.connected) {\n                    this.isConnected = true;\n                    this.updateConnectionStatus(true);\n                    this.socket.emit('join_draft_room', { league_name: this.leagueName });\n                }\n                // Set up listeners regardless - they'll fire when connected\n                this.setupSocketListeners();\n                return;\n            }\n\n            console.log(' [Draft] Creating new socket connection (fallback)');\n            this.socket = io('/', {\n                transports: ['polling', 'websocket'],\n                upgrade: true,\n                timeout: 10000,\n                reconnection: true,\n                reconnectionDelay: 1000,\n                reconnectionAttempts: 3,\n                withCredentials: true\n            });\n\n            // Store globally so other components can reuse\n            window.socket = this.socket;\n\n            this.socket.on('connect', () => {\n                this.isConnected = true;\n                this.updateConnectionStatus(true);\n                this.socket.emit('join_draft_room', { league_name: this.leagueName });\n            });\n\n            this.socket.on('disconnect', () => {\n                this.isConnected = false;\n                this.updateConnectionStatus(false);\n            });\n\n            this.socket.on('connect_error', (error) => {\n                this.updateConnectionStatus(false, 'Connection Error');\n                setTimeout(() => {\n                    if (!this.isConnected) {\n                        this.tryFallbackConnection();\n                    }\n                }, 3000);\n            });\n\n            this.socket.on('joined_room', (data) => {\n                console.log(' [Draft] Joined room:', data.room);\n            });\n\n            this.socket.on('player_drafted_enhanced', (data) => {\n                this.hideDraftingIndicator();\n                this.handlePlayerDrafted(data);\n            });\n\n            this.socket.on('player_removed_enhanced', (data) => {\n                this.handlePlayerRemoved(data);\n            });\n\n            this.socket.on('user_drafting', (data) => {\n                if (data.username && data.player_name) {\n                    this.showUserActivity(data.username, data.player_name, data.team_name);\n                }\n            });\n\n            this.socket.on('error', (data) => {\n                this.hideDraftingIndicator();\n                this.hideLoading();\n                this.showToast('Error: ' + data.message, 'error');\n            });\n\n            this.socket.on('draft_error', (data) => {\n                this.hideDraftingIndicator();\n                this.hideLoading();\n                this.showToast('Draft Error: ' + data.message, 'error');\n            });\n\n            this.socket.on('player_details', (data) => {\n                this.handlePlayerDetails(data);\n            });\n\n        } catch (error) {\n            // console.error('Failed to initialize socket:', error);\n            this.updateConnectionStatus(false, 'Failed to Connect');\n        }\n    }\n\n    /**\n     * Set up draft-specific socket listeners (used when reusing existing socket)\n     */\n    setupSocketListeners() {\n        if (!this.socket) return;\n\n        // Handle connect event (for when reusing a socket that's still connecting)\n        this.socket.on('connect', () => {\n            console.log(' [Draft] Socket connected, joining draft room');\n            this.isConnected = true;\n            this.updateConnectionStatus(true);\n            this.socket.emit('join_draft_room', { league_name: this.leagueName });\n        });\n\n        this.socket.on('disconnect', () => {\n            this.isConnected = false;\n            this.updateConnectionStatus(false);\n        });\n\n        this.socket.on('joined_room', (data) => {\n            console.log(' [Draft] Joined room:', data.room);\n            // Hide loading overlay after successfully joining the draft room\n            this.hideLoading();\n        });\n\n        this.socket.on('player_drafted_enhanced', (data) => {\n            // console.log(' Received player_drafted_enhanced event:', data);\n            this.hideDraftingIndicator();\n            this.handlePlayerDrafted(data);\n        });\n\n        this.socket.on('player_removed_enhanced', (data) => {\n            // console.log(' Received player_removed_enhanced event:', data);\n            this.handlePlayerRemoved(data);\n        });\n\n        this.socket.on('user_drafting', (data) => {\n            if (data.username && data.player_name) {\n                this.showUserActivity(data.username, data.player_name, data.team_name);\n            }\n        });\n\n        this.socket.on('error', (data) => {\n            // console.error(' Received error event:', data);\n            this.hideDraftingIndicator();\n            this.hideLoading();\n            this.showToast('Error: ' + data.message, 'error');\n        });\n\n        this.socket.on('draft_error', (data) => {\n            // console.error(' Received draft_error event:', data);\n            this.hideDraftingIndicator();\n            this.hideLoading();\n            this.showToast('Draft Error: ' + data.message, 'error');\n        });\n\n        this.socket.on('player_details', (data) => {\n            this.handlePlayerDetails(data);\n        });\n    }\n\n    setupSocketListenersViaManager() {\n        // Use SocketManager for event registration (handles reconnects properly)\n        const SM = window.SocketManager;\n\n        SM.on('DraftSystem', 'joined_room', (data) => {\n            console.log(' [Draft] Joined room:', data.room);\n            this.hideLoading();\n        });\n\n        SM.on('DraftSystem', 'player_drafted_enhanced', (data) => {\n            this.hideDraftingIndicator();\n            this.handlePlayerDrafted(data);\n        });\n\n        SM.on('DraftSystem', 'player_removed_enhanced', (data) => {\n            this.handlePlayerRemoved(data);\n        });\n\n        SM.on('DraftSystem', 'user_drafting', (data) => {\n            if (data.username && data.player_name) {\n                this.showUserActivity(data.username, data.player_name, data.team_name);\n            }\n        });\n\n        SM.on('DraftSystem', 'error', (data) => {\n            this.hideDraftingIndicator();\n            this.hideLoading();\n            this.showToast('Error: ' + data.message, 'error');\n        });\n\n        SM.on('DraftSystem', 'draft_error', (data) => {\n            this.hideDraftingIndicator();\n            this.hideLoading();\n            this.showToast('Draft Error: ' + data.message, 'error');\n        });\n\n        SM.on('DraftSystem', 'player_details', (data) => {\n            this.handlePlayerDetails(data);\n        });\n\n        console.log(' [Draft] Socket listeners attached via SocketManager');\n    }\n\n    tryFallbackConnection() {\n        try {\n            // console.log(' Trying alternative connection method...');\n            if (this.socket) {\n                this.socket.disconnect();\n            }\n\n            // Try with minimal configuration on default namespace\n            this.socket = io('/', {\n                transports: ['polling'], // Only polling\n                upgrade: false,\n                timeout: 10000,\n                reconnection: false,\n                forceNew: true\n            });\n\n            this.socket.on('connect', () => {\n                // console.log(' Alternative connection successful!');\n                this.isConnected = true;\n                this.updateConnectionStatus(true);\n                this.socket.emit('join_draft_room', { league_name: this.leagueName });\n            });\n\n            this.socket.on('connect_error', (error) => {\n                // console.error(' Alternative connection also failed:', error);\n                this.updateConnectionStatus(false, 'Using HTTP Fallback');\n                this.showToast('WebSocket connection failed. Using HTTP mode.', 'info');\n            });\n\n            // Set up other event listeners again\n            this.setupSocketEventListeners();\n\n        } catch (error) {\n            // console.error('Alternative connection failed:', error);\n            this.updateConnectionStatus(false, 'HTTP Fallback Only');\n        }\n    }\n\n    setupSocketEventListeners() {\n        if (!this.socket) return;\n\n        this.socket.on('player_drafted_enhanced', (data) => {\n            this.hideDraftingIndicator(); // Phase 5: Hide status indicator\n            this.handlePlayerDrafted(data);\n        });\n\n        this.socket.on('player_removed_enhanced', (data) => {\n            this.handlePlayerRemoved(data);\n        });\n\n        // Phase 5: Multi-user awareness\n        this.socket.on('user_drafting', (data) => {\n            if (data.username && data.player_name) {\n                this.showUserActivity(data.username, data.player_name, data.team_name);\n            }\n        });\n\n        this.socket.on('remove_error', (data) => {\n            // console.error(' Received remove_error event:', data);\n            this.hideLoading(); // Hide loading overlay on error\n            this.showToast('Remove Error: ' + data.message, 'error');\n        });\n\n        this.socket.on('error', (data) => {\n            this.showToast('Error: ' + data.message, 'error');\n        });\n    }\n\n    updateConnectionStatus(connected, message = null) {\n        const statusElement = document.getElementById('connectionStatus');\n        if (statusElement) {\n            if (connected) {\n                statusElement.className = 'connection-status status-connected';\n                statusElement.innerHTML = '<i class=\"ti ti-wifi me-1\"></i>Connected';\n            } else {\n                statusElement.className = 'connection-status status-disconnected';\n                statusElement.innerHTML = `<i class=\"ti ti-wifi-off me-1\"></i>${message || 'Disconnected'}`;\n            }\n        }\n    }\n\n    setupSearch() {\n        // Initial state\n        this.updatePlayerCounts();\n    }\n\n    handleSearch(event) {\n        const searchTerm = event.target.value.toLowerCase();\n        const container = document.getElementById('available-players');\n        if (!container) return;\n\n        const playerColumns = Array.from(container.children);\n        let visibleCount = 0;\n\n        // Refactored: Using d-block/d-none classes instead of style.display\n        playerColumns.forEach(column => {\n            const playerCard = column.querySelector('[data-component=\"player-card\"]');\n            if (playerCard) {\n                const playerName = playerCard.getAttribute('data-player-name') || '';\n                const shouldShow = playerName.includes(searchTerm);\n\n                if (shouldShow) {\n                    column.classList.remove('d-none');\n                    column.classList.add('d-block');\n                    visibleCount++;\n                } else {\n                    column.classList.add('d-none');\n                    column.classList.remove('d-block');\n                }\n            }\n        });\n\n        this.toggleEmptyState(visibleCount === 0);\n        this.updateAvailableCount(visibleCount);\n    }\n\n    handleFilter(event) {\n        const position = event.target.value.toLowerCase();\n        const container = document.getElementById('available-players');\n        if (!container) return;\n\n        const playerColumns = Array.from(container.children);\n        let visibleCount = 0;\n\n        // Refactored: Using d-block/d-none classes instead of style.display\n        playerColumns.forEach(column => {\n            const playerCard = column.querySelector('[data-component=\"player-card\"]');\n            if (playerCard) {\n                const playerPosition = playerCard.getAttribute('data-position') || '';\n                const shouldShow = !position || playerPosition.includes(position);\n\n                if (shouldShow) {\n                    column.classList.remove('d-none');\n                    column.classList.add('d-block');\n                    visibleCount++;\n                } else {\n                    column.classList.add('d-none');\n                    column.classList.remove('d-block');\n                }\n            }\n        });\n\n        this.toggleEmptyState(visibleCount === 0);\n        this.updateAvailableCount(visibleCount);\n    }\n\n    handleSort(event) {\n        const sortBy = event.target.value;\n        const container = document.getElementById('available-players');\n        if (!container) return;\n\n        const players = Array.from(container.children); // Get all column divs that contain player cards\n\n        players.sort((a, b) => {\n            // Get the player card element within each column div\n            const cardA = a.querySelector('[data-component=\"player-card\"]');\n            const cardB = b.querySelector('[data-component=\"player-card\"]');\n\n            if (!cardA || !cardB) return 0;\n\n            let aValue, bValue;\n\n            switch (sortBy) {\n                case 'name':\n                    aValue = cardA.getAttribute('data-player-name') || '';\n                    bValue = cardB.getAttribute('data-player-name') || '';\n                    return aValue.localeCompare(bValue);\n\n                case 'experience':\n                    aValue = parseInt(cardA.getAttribute('data-experience')) || 0;\n                    bValue = parseInt(cardB.getAttribute('data-experience')) || 0;\n                    return bValue - aValue;\n\n                case 'attendance':\n                    aValue = parseInt(cardA.getAttribute('data-attendance')) || 0;\n                    bValue = parseInt(cardB.getAttribute('data-attendance')) || 0;\n                    return bValue - aValue;\n\n                case 'goals':\n                    aValue = parseInt(cardA.getAttribute('data-goals')) || 0;\n                    bValue = parseInt(cardB.getAttribute('data-goals')) || 0;\n                    return bValue - aValue;\n\n                default:\n                    return 0;\n            }\n        });\n\n        // Clear the container and re-add in sorted order\n        players.forEach(player => {\n            container.appendChild(player);\n        });\n\n        // Clean up any empty column divs that might exist\n        Array.from(container.children).forEach(child => {\n            if (child.hasAttribute('data-component') && child.getAttribute('data-component') === 'player-column' && !child.querySelector('[data-component=\"player-card\"]')) {\n                child.remove();\n            }\n        });\n    }\n\n    showDraftModal(playerId, playerName) {\n        this.currentPlayerId = playerId;\n\n        // Get teams data for SweetAlert options\n        const teams = [];\n        document.querySelectorAll('#teamsAccordion [data-component=\"team-item\"]').forEach(item => {\n            const button = item.querySelector('[data-component=\"team-toggle\"]');\n            const teamName = button.querySelector('[data-component=\"team-name\"]').textContent.trim();\n            const playerCount = button.querySelector('[data-component=\"player-count\"]').textContent.trim();\n            const teamId = item.querySelector('[data-team-id]').getAttribute('data-team-id');\n\n            teams.push({\n                text: `${teamName} (${playerCount})`,\n                value: teamId\n            });\n        });\n\n        if (window.Swal) {\n            Swal.fire({\n                title: 'Draft Player',\n                html: `Select a team for <strong>${playerName}</strong>:`,\n                input: 'select',\n                inputOptions: teams.reduce((obj, team) => {\n                    obj[team.value] = team.text;\n                    return obj;\n                }, {}),\n                inputPlaceholder: 'Choose a team...',\n                showCancelButton: true,\n                confirmButtonText: 'Draft Player',\n                cancelButtonText: 'Cancel',\n                customClass: {\n                    confirmButton: 'btn btn-primary',\n                    cancelButton: 'btn btn-secondary'\n                },\n                buttonsStyling: false,\n                inputValidator: (value) => {\n                    if (!value) {\n                        return 'Please select a team!';\n                    }\n                }\n            }).then((result) => {\n                if (result.isConfirmed) {\n                    const teamId = result.value;\n                    const teamName = teams.find(t => t.value === teamId)?.text?.split(' (')[0] || 'Unknown Team';\n                    this.confirmDraft(teamId, teamName);\n                }\n                this.currentPlayerId = null;\n            });\n        } else {\n            // Fallback to standard modal if SweetAlert2 not available\n            const teamId = prompt(`Select team ID for ${playerName}:`);\n            if (teamId) {\n                this.confirmDraft(teamId, 'Selected Team');\n            }\n        }\n    }\n\n    confirmDraft(teamId, teamName) {\n        if (!this.currentPlayerId) {\n            this.showToast('No player selected', 'error');\n            return;\n        }\n\n        if (!this.socket || !this.isConnected) {\n            this.showToast('Not connected to server - cannot draft', 'error');\n            return;\n        }\n\n        // Get player name for the status indicator\n        const playerCard = document.querySelector(`[data-player-id=\"${this.currentPlayerId}\"]`);\n        const playerName = playerCard ? (playerCard.querySelector('.fw-semibold')?.textContent || 'Player') : 'Player';\n\n        // Phase 5: Show detailed drafting indicator\n        this.showDraftingIndicator(playerName, teamName);\n\n        this.socket.emit('draft_player_enhanced', {\n            player_id: this.currentPlayerId,\n            team_id: teamId,\n            league_name: this.leagueName,\n            player_name: playerName  // Include for multi-user awareness\n        });\n\n        // Set a timeout to hide indicator if no response is received\n        setTimeout(() => {\n            if (document.getElementById('currentDraftIndicator')) {\n                this.hideDraftingIndicator();\n                this.showToast('Draft timed out. Please refresh.', 'warning');\n            }\n        }, 10000); // 10 second timeout\n\n        this.currentPlayerId = null;\n    }\n\n    // Phase 5: Draft Operation Status Indicators\n\n    showDraftingIndicator(playerName, teamName) {\n        // Remove any existing indicator\n        this.hideDraftingIndicator();\n\n        const indicator = document.createElement('div');\n        indicator.id = 'currentDraftIndicator';\n        indicator.className = 'drafting-indicator';\n        indicator.innerHTML = `\n            <div class=\"d-flex align-items-center gap-3\">\n                <div class=\"spinner-border spinner-border-sm text-primary\" role=\"status\">\n                    <span class=\"visually-hidden\">Drafting...</span>\n                </div>\n                <div>\n                    <strong>Drafting ${playerName}</strong>\n                    <div class=\"small text-muted\">to ${teamName}</div>\n                </div>\n            </div>\n        `;\n        document.body.appendChild(indicator);\n    }\n\n    hideDraftingIndicator() {\n        const indicator = document.getElementById('currentDraftIndicator');\n        if (indicator) {\n            // Refactored: Using animation class instead of inline style\n            indicator.classList.add('animate-slide-out-right');\n            setTimeout(() => indicator.remove(), 300);\n        }\n    }\n\n    showUserActivity(username, playerName, teamName) {\n        const activityContainer = document.getElementById('draftActivity');\n        if (!activityContainer) {\n            // Create container if it doesn't exist\n            const container = document.createElement('div');\n            container.id = 'draftActivity';\n            container.className = 'draft-activity-container';\n            document.body.appendChild(container);\n        }\n\n        const activity = document.createElement('div');\n        activity.className = 'user-activity-toast';\n        activity.innerHTML = `\n            <i class=\"ti ti-user-check text-primary me-2\"></i>\n            <div>\n                <strong>${username}</strong> is drafting <strong>${playerName}</strong>\n                ${teamName ? `<div class=\"small text-muted\">to ${teamName}</div>` : ''}\n            </div>\n        `;\n\n        document.getElementById('draftActivity').appendChild(activity);\n\n        // Auto-remove after 5 seconds\n        // Refactored: Using animation class instead of inline style\n        setTimeout(() => {\n            activity.classList.add('animate-fade-out');\n            setTimeout(() => activity.remove(), 300);\n        }, 5000);\n    }\n\n    async fallbackDraftPlayer(playerId, teamId, teamName) {\n        try {\n            // console.log(` HTTP Fallback: Drafting player ${playerId} to team ${teamId}`);\n            this.showLoading();\n\n            // Get CSRF token\n            const csrfToken = document.querySelector('meta[name=csrf-token]')?.getAttribute('content');\n            const headers = {\n                'Content-Type': 'application/json'\n            };\n\n            if (csrfToken) {\n                headers['X-CSRFToken'] = csrfToken;\n            }\n\n            const response = await fetch('/draft/api/draft-player', {\n                method: 'POST',\n                headers: headers,\n                body: JSON.stringify({\n                    player_id: playerId,\n                    team_id: teamId,\n                    league_name: this.leagueName\n                })\n            });\n\n            if (response.ok) {\n                const data = await response.json();\n                // Manually update the UI since we don't have socket updates\n                this.handlePlayerDrafted(data);\n                this.showToast(`${data.player.name} drafted to ${teamName}`, 'success');\n            } else {\n                const error = await response.json();\n                this.showToast(error.message || 'Draft failed', 'error');\n            }\n        } catch (error) {\n            // console.error('Fallback draft failed:', error);\n            this.showToast('Draft failed - please try again', 'error');\n        } finally {\n            this.hideLoading();\n            this.currentPlayerId = null;\n        }\n    }\n\n    removePlayer(playerId, teamId) {\n        if (!this.socket || !this.isConnected) {\n            this.showToast('Not connected to server', 'error');\n            return;\n        }\n\n        this.showLoading();\n        this.socket.emit('remove_player_enhanced', {\n            player_id: playerId,\n            team_id: teamId,\n            league_name: this.leagueName\n        });\n    }\n\n    handlePlayerDrafted(data) {\n        this.hideLoading();\n\n        // Remove from available players - specifically target the available pool\n        const availableContainer = document.getElementById('available-players');\n        if (availableContainer) {\n            const playerColumn = availableContainer.querySelector(`[data-player-id=\"${data.player.id}\"]`)?.closest('[data-component=\"player-column\"]');\n            if (playerColumn) {\n                // Refactored: Using CSS classes for enhanced animation\n                // Set initial height for smooth collapse\n                const currentHeight = playerColumn.offsetHeight;\n                playerColumn.style.maxHeight = currentHeight + 'px';\n\n                // Add transition class\n                playerColumn.classList.add('transition-smooth');\n\n                // Apply exit animation classes\n                requestAnimationFrame(() => {\n                    playerColumn.classList.add('opacity-0');\n                    playerColumn.classList.add('scale-90');\n                    playerColumn.style.transform = 'scale(0.8) translateY(-10px)';\n\n                    // Start the collapse animation\n                    setTimeout(() => {\n                        playerColumn.classList.add('max-h-0', 'mb-0-important', 'pt-0-important', 'pb-0-important', 'overflow-hidden');\n                        playerColumn.style.maxHeight = '0';\n                    }, 100);\n                });\n\n                // Remove after animation completes\n                setTimeout(() => {\n                    playerColumn.remove();\n                    this.updatePlayerCounts();\n                }, 400);\n            }\n        }\n\n        // Add to team\n        this.addPlayerToTeam(data.player, data.team_id, data.team_name);\n        this.showToast(`${data.player.name} drafted to ${data.team_name}`, 'success');\n    }\n\n    addPlayerToTeam(player, teamId, teamName) {\n        const teamSection = document.getElementById(`teamPlayers${teamId}`);\n        if (!teamSection) {\n            // console.error(`Team section not found for team ${teamId}`);\n            return;\n        }\n\n        // Create the player card HTML\n        const playerCard = document.createElement('div');\n        playerCard.className = 'col-md-6 col-lg-4';\n        playerCard.setAttribute('data-component', 'team-player-card');\n        playerCard.setAttribute('data-player-id', player.id);\n\n        const profilePictureUrl = player.profile_picture_url || '/static/img/default_player.png';\n\n        playerCard.innerHTML = `\n            <div class=\"card border-0 shadow-sm position-relative\"\n                 style=\"min-height: 120px; cursor: grab;\"\n                 draggable=\"true\"\n                 ondragstart=\"handleDragStart(event, ${player.id})\"\n                 ondragend=\"handleDragEnd(event)\">\n                ${player.is_ref ? `\n                <div class=\"position-absolute top-0 start-0\" style=\"z-index: 2;\">\n                    <div class=\"bg-danger text-white\" style=\"padding: 2px 4px; border-radius: 0 0 8px 0; font-size: 10px; font-weight: bold;\" title=\"Referee\">\n                        REF\n                    </div>\n                </div>\n                ` : ''}\n                <div class=\"card-body p-2\">\n                    <div class=\"d-flex align-items-center mb-2\">\n                        <img src=\"${profilePictureUrl}\"\n                             alt=\"${player.name}\"\n                             class=\"rounded-circle me-2\"\n                             style=\"width: 40px; height: 40px; object-fit: cover;\"\n                             loading=\"lazy\"\n                             onerror=\"this.src='/static/img/default_player.png';\">\n                        <div class=\"flex-grow-1 min-width-0\">\n                            <div class=\"fw-semibold text-truncate small\">${player.name}</div>\n                            <div class=\"text-muted\" style=\"font-size: 0.75rem;\">\n                                ${formatPosition(player.favorite_position) || 'Any'}\n                            </div>\n                        </div>\n                        <button class=\"btn btn-outline-danger btn-sm p-1\"\n                                data-action=\"remove-player\"\n                                data-player-id=\"${player.id}\"\n                                data-team-id=\"${teamId}\"\n                                data-player-name=\"${player.name}\"\n                                data-team-name=\"${teamName}\"\n                                title=\"Remove ${player.name}\">\n                            <i class=\"ti ti-x\" style=\"font-size: 0.75rem;\"></i>\n                        </button>\n                    </div>\n                    <div class=\"d-flex justify-content-between text-center small\">\n                        <div>\n                            <div class=\"fw-bold text-success\">${player.career_goals || 0}</div>\n                            <div class=\"text-muted\" style=\"font-size: 0.7rem;\">Goals</div>\n                        </div>\n                        <div>\n                            <div class=\"fw-bold text-info\">${player.career_assists || 0}</div>\n                            <div class=\"text-muted\" style=\"font-size: 0.7rem;\">Assists</div>\n                        </div>\n                        <div>\n                            <div class=\"fw-bold\">\n                                <span class=\"text-warning\">${player.career_yellow_cards || 0}</span>/<span class=\"text-danger\">${player.career_red_cards || 0}</span>\n                            </div>\n                            <div class=\"text-muted\" style=\"font-size: 0.7rem;\">Cards</div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        `;\n\n        // Refactored: Using CSS classes for animation instead of inline styles\n        playerCard.classList.add('draft-card-enter');\n        teamSection.appendChild(playerCard);\n\n        // Animate in\n        setTimeout(() => {\n            playerCard.classList.remove('draft-card-enter');\n            playerCard.classList.add('draft-card-enter-active');\n        }, 10);\n\n        // Update team count\n        this.updateTeamCount(teamId);\n    }\n\n    updateTeamCount(teamId) {\n        const teamSection = document.getElementById(`teamPlayers${teamId}`);\n        const teamCountBadge = document.getElementById(`teamCount${teamId}`);\n\n        if (teamSection && teamCountBadge) {\n            // Count ONLY the player card elements, not buttons inside them\n            const playerCount = teamSection.querySelectorAll('.draft-team-player-card').length;\n            teamCountBadge.textContent = `${playerCount} players`;\n            // console.log(`Updated team ${teamId} count to ${playerCount} players`);\n        }\n    }\n\n    addPlayerToAvailable(player) {\n        const availableContainer = document.getElementById('available-players');\n        if (!availableContainer) {\n            // console.error('Available players container not found');\n            return;\n        }\n\n        // Create the player card HTML for available players\n        const playerCard = document.createElement('div');\n        playerCard.className = 'col-xl-3 col-lg-4 col-md-6 col-sm-6';\n        playerCard.setAttribute('data-component', 'player-column');\n\n        const profilePictureUrl = player.profile_picture_url || '/static/img/default_player.png';\n        const experienceLevel = player.experience_level || player.league_experience_seasons || 'Unknown';\n        const position = formatPosition(player.favorite_position || player.position) || 'Any';\n\n        // Get enhanced player data\n        const mediumPictureUrl = player.profile_picture_medium || player.profile_picture_webp || profilePictureUrl;\n        const experienceSeasons = player.league_experience_seasons || 0;\n        const attendanceEstimate = player.attendance_estimate || 75;\n        const expectedAvailability = player.expected_weeks_available || 'All weeks';\n\n        // Get experience badge color\n        let experienceBadgeColor = 'secondary';\n        if (experienceLevel === 'Veteran') experienceBadgeColor = 'success';\n        else if (experienceLevel === 'Experienced') experienceBadgeColor = 'warning';\n\n        // Get attendance color and display\n        let attendanceColor = 'muted';\n        let attendanceDisplay = 'No data';\n        if (attendanceEstimate !== null && attendanceEstimate !== undefined) {\n            attendanceDisplay = `${Math.round(attendanceEstimate)}%`;\n            if (attendanceEstimate >= 80) attendanceColor = 'success';\n            else if (attendanceEstimate >= 60) attendanceColor = 'warning';\n            else attendanceColor = 'danger';\n        }\n\n        playerCard.innerHTML = `\n            <div id=\"player-${player.id}\" class=\"card border-0 shadow-sm h-100\"\n                 data-component=\"player-card\"\n                 data-player-id=\"${player.id}\"\n                 data-player-name=\"${player.name.toLowerCase()}\"\n                 data-position=\"${position.toLowerCase()}\"\n                 data-experience=\"${experienceSeasons}\"\n                 data-attendance=\"${attendanceEstimate}\"\n                 data-goals=\"${player.career_goals || 0}\"\n                 draggable=\"true\"\n                 ondragstart=\"handleDragStart(event, ${player.id})\"\n                 ondragend=\"handleDragEnd(event)\"\n                 style=\"cursor: grab; transition: all 0.2s ease; min-height: 320px;\">\n\n                <!-- Player Image Header -->\n                <div class=\"position-relative overflow-hidden\" style=\"height: 120px;\">\n                    <!-- Full Header Player Image -->\n                    <img src=\"${mediumPictureUrl}\"\n                         alt=\"${player.name}\"\n                         class=\"player-face-crop\"\n                         style=\"width: 100%; height: 100%; object-fit: cover; object-position: center 20%; display: block !important; visibility: visible !important; opacity: 1 !important;\"\n                         loading=\"eager\"\n                         onerror=\"// console.log('Image failed to load:', this.src); this.src='/static/img/default_player.png';\"\n                         onload=\"// console.log('Image loaded successfully:', this.src); if(typeof smartCropImage === 'function') smartCropImage(this);\">\n\n                    <!-- Dark overlay for better text readability -->\n                    <div class=\"position-absolute w-100 h-100\" style=\"background: rgba(0,0,0,0.3); top: 0; left: 0;\"></div>\n\n                    <!-- Experience Badge - Small Corner Tag -->\n                    <div class=\"position-absolute top-0 end-0\" style=\"z-index: 2;\">\n                        <div class=\"experience-corner-tag bg-${experienceBadgeColor}\"\n                             title=\"${experienceLevel}\">\n                            <span class=\"experience-initial\">\n                                ${experienceLevel[0] || 'N'}\n                            </span>\n                        </div>\n                    </div>\n\n                    <!-- Player Name Overlay -->\n                    <div class=\"position-absolute bottom-0 start-0 p-2\" style=\"z-index: 2;\">\n                        <h6 class=\"text-white fw-bold mb-0 text-shadow-sm\">${player.name}</h6>\n                    </div>\n                </div>\n\n                <!-- Player Info Body -->\n                <div class=\"card-body p-3 text-center\">\n                    <!-- Position Badge -->\n                    <div class=\"mb-2\">\n                        ${position !== 'Any' ?\n                            `<span class=\"badge bg-primary rounded-pill\">${position}</span>` :\n                            `<span class=\"badge bg-secondary rounded-pill\">Any Position</span>`\n                        }\n                    </div>\n\n                    <!-- Stats Row -->\n                    <div class=\"row text-center mb-2 small\">\n                        <div class=\"col-6\">\n                            <div class=\"fw-bold text-success\">${player.career_goals || 0}</div>\n                            <div class=\"text-muted\">Goals</div>\n                        </div>\n                        <div class=\"col-6\">\n                            <div class=\"fw-bold text-info\">${player.career_assists || 0}</div>\n                            <div class=\"text-muted\">Assists</div>\n                        </div>\n                    </div>\n\n                    <!-- Cards & Attendance -->\n                    <div class=\"row text-center mb-3 small\">\n                        <div class=\"col-6\">\n                            <div class=\"fw-bold\">\n                                <span class=\"text-warning\">${player.career_yellow_cards || 0}</span>/<span class=\"text-danger\">${player.career_red_cards || 0}</span>\n                            </div>\n                            <div class=\"text-muted\">Y/R Cards</div>\n                        </div>\n                        <div class=\"col-6\">\n                            <div class=\"fw-bold text-${attendanceColor}\">\n                                ${attendanceDisplay}\n                            </div>\n                            <div class=\"text-muted\">Attendance</div>\n                        </div>\n                    </div>\n\n                    <!-- Experience Info -->\n                    <div class=\"small text-muted mb-2\">\n                        ${experienceSeasons} season${experienceSeasons !== 1 ? 's' : ''}\n                    </div>\n\n                    <!-- Availability Info -->\n                    ${expectedAvailability !== 'All weeks' ?\n                        `<div class=\"small text-info mb-3\">\n                            <i class=\"ti ti-calendar-event me-1\"></i><strong>Expected:</strong> ${expectedAvailability}\n                        </div>` :\n                        `<div class=\"small text-success mb-3\">\n                            <i class=\"ti ti-calendar-check me-1\"></i><strong>Available:</strong> All weeks\n                        </div>`\n                    }\n                </div>\n\n                <!-- Action Buttons -->\n                <div class=\"card-footer bg-transparent border-0 p-2\">\n                    <div class=\"d-grid gap-1\">\n                        <button class=\"btn btn-success btn-sm fw-bold\"\n                                data-action=\"draft-player\"\n                                data-player-id=\"${player.id}\"\n                                data-player-name=\"${player.name}\"\n                                style=\"background: linear-gradient(45deg, var(--ecs-success, #28a745), var(--ecs-success-light, #20c997));\">\n                            <i class=\"ti ti-user-plus me-1\"></i>Draft Player\n                        </button>\n                        <button class=\"btn btn-outline-info btn-sm\"\n                                data-action=\"view-player-profile\"\n                                data-player-id=\"${player.id}\">\n                            <i class=\"ti ti-user me-1\"></i>View Profile\n                        </button>\n                    </div>\n                </div>\n            </div>\n        `;\n\n        // Refactored: Using CSS classes for animation instead of inline styles\n        playerCard.classList.add('draft-card-enter');\n        availableContainer.appendChild(playerCard);\n\n        // Clean up any empty column divs that might have been created\n        Array.from(availableContainer.children).forEach(child => {\n            if (child.hasAttribute('data-component') && child.getAttribute('data-component') === 'player-column' && !child.querySelector('[data-component=\"player-card\"]')) {\n                child.remove();\n            }\n        });\n\n        // Force a micro-delay to ensure DOM is ready, then apply sorting and filtering\n        setTimeout(() => {\n            // Apply current sorting if active\n            const sortSelect = document.getElementById('sortPlayers');\n            if (sortSelect && sortSelect.value && sortSelect.value !== 'default') {\n                this.handleSort({ target: sortSelect });\n            }\n\n            // Apply current filters - Refactored: Using d-none class\n            const searchInput = document.getElementById('searchPlayers');\n            const positionFilter = document.getElementById('filterPosition');\n\n            if (searchInput && searchInput.value) {\n                const searchTerm = searchInput.value.toLowerCase();\n                const cardElement = playerCard.querySelector('[data-component=\"player-card\"]');\n                const playerName = cardElement.getAttribute('data-player-name') || '';\n                if (!playerName.includes(searchTerm)) {\n                    playerCard.classList.add('d-none');\n                }\n            }\n\n            if (positionFilter && positionFilter.value) {\n                const filterPosition = positionFilter.value.toLowerCase();\n                const cardElement = playerCard.querySelector('[data-component=\"player-card\"]');\n                const playerPosition = cardElement.getAttribute('data-position') || '';\n                if (filterPosition && !playerPosition.includes(filterPosition)) {\n                    playerCard.classList.add('d-none');\n                }\n            }\n        }, 50);\n\n        // Animate in\n        setTimeout(() => {\n            playerCard.classList.remove('draft-card-enter');\n            playerCard.classList.add('draft-card-enter-active');\n        }, 10);\n\n        // Update available player count\n        this.updatePlayerCounts();\n    }\n\n    handlePlayerRemoved(data) {\n        this.hideLoading();\n\n        // Remove from team\n        this.removePlayerFromTeam(data.player.id, data.team_id);\n\n        // Add back to available players\n        this.addPlayerToAvailable(data.player);\n\n        this.showToast(`${data.player.name} removed from ${data.team_name}`, 'info');\n    }\n\n    removePlayerFromTeam(playerId, teamId) {\n        const playerCard = document.querySelector(`#teamPlayers${teamId} [data-player-id=\"${playerId}\"]`);\n        if (playerCard) {\n            // Refactored: Using CSS classes instead of inline styles\n            playerCard.classList.add('team-player-exit');\n            setTimeout(() => {\n                playerCard.remove();\n                this.updateTeamCount(teamId);\n            }, 300);\n        }\n    }\n\n    handlePlayerDetails(data) {\n        const modalContent = document.getElementById('playerProfileContent');\n        if (!modalContent) return;\n\n        const player = data.player;\n\n        // Create detailed player profile HTML\n        // Note: Image display logic in HTML uses inline handlers for onload/onerror\n        const profileHtml = `\n            <div class=\"row\">\n                <div class=\"col-md-4 text-center\">\n                    <div class=\"player-avatar-container mx-auto mb-3\" style=\"width: 120px; height: 120px;\">\n                        <div class=\"player-avatar-fallback\">\n                            ${player.name.substring(0, 2).toUpperCase()}\n                        </div>\n                        ${player.profile_picture_url ?\n                            `<img src=\"${player.profile_picture_url}\" alt=\"${player.name}\" class=\"player-avatar\"\n                                  onload=\"this.classList.add('d-block'); this.classList.remove('d-none'); this.previousElementSibling.classList.add('d-none'); this.previousElementSibling.classList.remove('d-flex');\"\n                                  onerror=\"this.classList.add('d-none'); this.classList.remove('d-block'); this.previousElementSibling.classList.add('d-flex'); this.previousElementSibling.classList.remove('d-none');\">`\n                            : ''\n                        }\n                    </div>\n                    <h4 class=\"fw-bold mb-2\">${player.name}</h4>\n                    <div class=\"mb-3\">\n                        ${player.favorite_position ?\n                            `<span class=\"badge badge-position\">${formatPosition(player.favorite_position)}</span>`\n                            : ''\n                        }\n                        <span class=\"badge badge-${player.experience_level === 'Veteran' ? 'veteran' :\n                            player.experience_level === 'Experienced' ? 'experienced' : 'new-player'}\">\n                            ${player.experience_level}\n                        </span>\n                    </div>\n                </div>\n                <div class=\"col-md-8\">\n                    <div class=\"row\">\n                        <div class=\"col-sm-6 mb-3\">\n                            <h6 class=\"text-muted mb-1\">Career Stats</h6>\n                            <div class=\"d-flex gap-2 flex-wrap\">\n                                <span class=\"stat-chip stat-goals\">${player.career_goals}G</span>\n                                <span class=\"stat-chip stat-assists\">${player.career_assists}A</span>\n                                <span class=\"stat-chip bg-warning text-dark\">${player.career_yellow_cards}Y</span>\n                                <span class=\"stat-chip bg-danger\">${player.career_red_cards}R</span>\n                                <span class=\"stat-chip stat-seasons\">${player.league_experience_seasons}T</span>\n                            </div>\n                        </div>\n                        <div class=\"col-sm-6 mb-3\">\n                            <h6 class=\"text-muted mb-1\">Season Stats</h6>\n                            <div class=\"d-flex gap-2 flex-wrap\">\n                                <span class=\"stat-chip stat-goals\">${player.season_goals}G</span>\n                                <span class=\"stat-chip stat-assists\">${player.season_assists}A</span>\n                                <span class=\"stat-chip bg-warning text-dark\">${player.season_yellow_cards}Y</span>\n                                <span class=\"stat-chip bg-danger\">${player.season_red_cards}R</span>\n                            </div>\n                        </div>\n                    </div>\n                    <div class=\"row\">\n                        <div class=\"col-sm-6 mb-3\">\n                            <h6 class=\"text-muted mb-1\">Attendance</h6>\n                            <div class=\"attendance-section\">\n                                <div class=\"attendance-label\">\n                                    <span>Rate</span>\n                                    <span class=\"fw-bold\">${Math.round(player.attendance_estimate)}%</span>\n                                </div>\n                                <div class=\"attendance-bar\">\n                                    <div class=\"attendance-fill attendance-${player.attendance_estimate >= 80 ? 'excellent' :\n                                        player.attendance_estimate >= 60 ? 'good' : 'poor'}\"\n                                         style=\"width: ${player.attendance_estimate}%\"></div>\n                                </div>\n                            </div>\n                        </div>\n                        <div class=\"col-sm-6 mb-3\">\n                            <h6 class=\"text-muted mb-1\">Reliability</h6>\n                            <div class=\"text-center\">\n                                <div class=\"fs-4 fw-bold text-primary\">${Math.round(player.reliability_score)}%</div>\n                                <small class=\"text-muted\">Response Rate: ${Math.round(player.rsvp_response_rate)}%</small>\n                            </div>\n                        </div>\n                    </div>\n                    ${player.player_notes ?\n                        `<div class=\"mb-3\">\n                            <h6 class=\"text-muted mb-1\">Player Notes</h6>\n                            <p class=\"mb-0\">${player.player_notes}</p>\n                        </div>`\n                        : ''\n                    }\n                    ${player.admin_notes ?\n                        `<div class=\"mb-3\">\n                            <h6 class=\"text-muted mb-1\">Admin/Coach Notes</h6>\n                            <p class=\"mb-0\">${player.admin_notes}</p>\n                        </div>`\n                        : ''\n                    }\n                    ${player.expected_weeks_available && player.expected_weeks_available !== 'All weeks' ?\n                        `<div class=\"mb-3\">\n                            <h6 class=\"text-muted mb-1\">Availability</h6>\n                            <p class=\"mb-0\">${player.expected_weeks_available}</p>\n                        </div>`\n                        : ''\n                    }\n                </div>\n            </div>\n            ${player.match_history && player.match_history.length > 0 ?\n                `<hr>\n                <h6 class=\"text-muted mb-3\">Recent Match History</h6>\n                <div class=\"table-responsive\">\n                    <table class=\"table table-sm\">\n                        <thead>\n                            <tr>\n                                <th>Date</th>\n                                <th>Goals</th>\n                                <th>Assists</th>\n                                <th>Cards</th>\n                            </tr>\n                        </thead>\n                        <tbody>\n                            ${player.match_history.map(match => `\n                                <tr>\n                                    <td>${match.date}</td>\n                                    <td>${match.goals}</td>\n                                    <td>${match.assists}</td>\n                                    <td>\n                                        ${match.yellow_cards ? `<span class=\"badge bg-warning\">${match.yellow_cards}Y</span>` : ''}\n                                        ${match.red_cards ? `<span class=\"badge bg-danger\">${match.red_cards}R</span>` : ''}\n                                    </td>\n                                </tr>\n                            `).join('')}\n                        </tbody>\n                    </table>\n                </div>`\n                : ''\n            }\n        `;\n\n        modalContent.innerHTML = profileHtml;\n    }\n\n    updatePlayerCounts() {\n        // Update available count\n        const availableCount = document.querySelectorAll('[data-component=\"player-item\"]').length;\n        const countElement = document.getElementById('availableCount');\n        if (countElement) {\n            countElement.textContent = availableCount;\n        }\n\n        // Update team counts - use .draft-team-player-card to avoid counting buttons\n        document.querySelectorAll('[id^=\"teamCount\"]').forEach(counter => {\n            const teamId = counter.id.replace('teamCount', '');\n            const playerCount = document.querySelectorAll(`#teamPlayers${teamId} .draft-team-player-card`).length;\n            counter.textContent = `${playerCount} players`;\n        });\n    }\n\n    updateAvailableCount(count) {\n        const countElement = document.getElementById('availableCount');\n        if (countElement) {\n            countElement.textContent = count;\n        }\n    }\n\n    toggleEmptyState(show) {\n        const emptyState = document.getElementById('emptyState');\n        const playersContainer = document.getElementById('playersContainer');\n\n        // Refactored: Using d-block/d-none classes instead of inline style.display\n        if (emptyState) {\n            if (show) {\n                emptyState.classList.add('d-block');\n                emptyState.classList.remove('d-none');\n            } else {\n                emptyState.classList.add('d-none');\n                emptyState.classList.remove('d-block');\n            }\n        }\n        if (playersContainer) {\n            if (show) {\n                playersContainer.classList.add('d-none');\n                playersContainer.classList.remove('d-block');\n            } else {\n                playersContainer.classList.add('d-block');\n                playersContainer.classList.remove('d-none');\n            }\n        }\n    }\n\n    showLoading() {\n        const overlay = document.querySelector('[data-component=\"draft-loading-overlay\"]');\n        if (overlay) {\n            overlay.classList.add('is-visible');\n            overlay.classList.remove('is-hidden');\n        }\n    }\n\n    hideLoading() {\n        const overlay = document.querySelector('[data-component=\"draft-loading-overlay\"]');\n        if (overlay) {\n            overlay.classList.add('is-hidden');\n            overlay.classList.remove('is-visible');\n        }\n    }\n\n    showToast(message, type = 'info') {\n        // Use SweetAlert2 for notifications\n        if (window.Swal) {\n            const iconMap = {\n                'success': 'success',\n                'error': 'error',\n                'warning': 'warning',\n                'info': 'info'\n            };\n\n            Swal.fire({\n                title: message,\n                icon: iconMap[type] || 'info',\n                toast: true,\n                position: 'top-end',\n                showConfirmButton: false,\n                timer: 3000,\n                timerProgressBar: true\n            });\n        } else if (window.showToast) {\n            // Fallback to existing toast system\n            window.showToast(message, type);\n        } else {\n            // console.log(`${type.toUpperCase()}: ${message}`);\n        }\n    }\n\n    closeModals() {\n        const modals = document.querySelectorAll('[data-component=\"modal\"][data-state=\"open\"]');\n        modals.forEach(modal => {\n            const bsModal = bootstrap.Modal.getInstance(modal);\n            if (bsModal) bsModal.hide();\n        });\n    }\n\n    refreshDraft() {\n        this.showLoading();\n        setTimeout(() => {\n            window.location.reload();\n        }, 500);\n    }\n\n    viewPlayerProfile(playerId) {\n        if (!this.socket || !this.isConnected) {\n            this.showToast('Not connected to server', 'error');\n            return;\n        }\n\n        // Show modal\n        const modal = document.getElementById('playerProfileModal');\n        if (modal) {\n            ModalManager.show('playerProfileModal');\n\n            // Request player details via socket\n            this.socket.emit('get_player_details', { player_id: playerId });\n        }\n    }\n\n    // Drag and Drop functionality\n    handleDragStart(event, playerId) {\n        event.dataTransfer.setData('text/plain', playerId);\n        event.dataTransfer.effectAllowed = 'move';\n\n        // Refactored: Using CSS classes for visual feedback instead of inline styles\n        event.target.classList.add('opacity-50', 'dragging');\n\n        // Store the player ID for later use\n        this.draggedPlayerId = playerId;\n    }\n\n    handleDragEnd(event) {\n        // Refactored: Using CSS classes instead of inline styles\n        event.target.classList.remove('opacity-50', 'dragging');\n\n        // Clear stored player ID\n        this.draggedPlayerId = null;\n    }\n\n    handleDragOver(event) {\n        event.preventDefault();\n        event.dataTransfer.dropEffect = 'move';\n\n        // Add visual feedback to drop zone\n        const dropZone = event.currentTarget;\n        dropZone.classList.add('drag-over');\n\n        // Refactored: Using CSS classes for different drop zone states\n        if (dropZone.id === 'available-players') {\n            dropZone.classList.add('drag-over-available');\n        } else if (dropZone.id && dropZone.id.startsWith('teamSection')) {\n            dropZone.classList.add('drag-over-team');\n        } else if (dropZone.classList.contains('team-drop-zone')) {\n            dropZone.classList.add('drag-over-team-zone');\n        }\n    }\n\n    handleDragLeave(event) {\n        // Remove visual feedback from drop zone\n        const dropZone = event.currentTarget;\n\n        // Refactored: Remove all drag-over classes\n        dropZone.classList.remove('drag-over', 'drag-over-available', 'drag-over-team', 'drag-over-team-zone');\n    }\n\n    handleDrop(event, teamId) {\n        event.preventDefault();\n\n        // Refactored: Remove all drag-over classes\n        const dropZone = event.currentTarget;\n        dropZone.classList.remove('drag-over', 'drag-over-available', 'drag-over-team', 'drag-over-team-zone');\n\n        // Get the dragged player ID\n        const playerId = event.dataTransfer.getData('text/plain') || this.draggedPlayerId;\n\n        if (!playerId) {\n            this.showToast('No player data found', 'error');\n            return;\n        }\n\n        // Check if player is already on this team\n        const existingPlayerInTeam = document.querySelector(`#teamPlayers${teamId} [data-player-id=\"${playerId}\"]`);\n        if (existingPlayerInTeam) {\n            this.showToast('Player is already on this team', 'warning');\n            return;\n        }\n\n        // Get player info\n        const playerCard = document.querySelector(`[data-player-id=\"${playerId}\"]`);\n        const playerName = playerCard ? (playerCard.querySelector('.fw-semibold')?.textContent || 'Unknown Player') : 'Unknown Player';\n\n        // Get team name from the drop zone\n        let teamName = `Team ${teamId}`;\n        if (dropZone.classList.contains('team-drop-zone')) {\n            // We're dropping on the team accordion item\n            const teamNameElement = dropZone.querySelector('[data-component=\"team-name\"]');\n            teamName = teamNameElement ? teamNameElement.textContent.trim() : `Team ${teamId}`;\n        } else {\n            // We're dropping on the team section or other element\n            const teamAccordion = document.querySelector(`#teamSection${teamId}`)?.closest('[data-component=\"team-item\"]');\n            const teamNameElement = teamAccordion ? teamAccordion.querySelector('[data-component=\"team-name\"]') : null;\n            teamName = teamNameElement ? teamNameElement.textContent.trim() : `Team ${teamId}`;\n        }\n\n        // Draft the player directly (no confirmation needed for drag/drop)\n        this.currentPlayerId = playerId;\n        this.confirmDraft(teamId, teamName);\n    }\n\n    handleDropToAvailable(event) {\n        event.preventDefault();\n\n        // Refactored: Remove all drag-over classes\n        const dropZone = event.currentTarget;\n        dropZone.classList.remove('drag-over', 'drag-over-available', 'drag-over-team', 'drag-over-team-zone');\n\n        // Get the dragged player ID\n        const playerId = event.dataTransfer.getData('text/plain') || this.draggedPlayerId;\n\n        if (!playerId) {\n            this.showToast('No player data found', 'error');\n            return;\n        }\n\n        // Check if player is already in available pool\n        const existingPlayerInAvailable = document.querySelector(`#available-players [data-player-id=\"${playerId}\"]`);\n        if (existingPlayerInAvailable) {\n            this.showToast('Player is already in available pool', 'warning');\n            return;\n        }\n\n        // Find which team the player is currently on\n        const currentPlayerCard = document.querySelector(`[data-player-id=\"${playerId}\"]`);\n        const teamSection = currentPlayerCard ? currentPlayerCard.closest('[id^=\"teamPlayers\"]') : null;\n        const teamId = teamSection ? teamSection.id.replace('teamPlayers', '') : null;\n\n        if (!teamId) {\n            this.showToast('Could not determine current team', 'error');\n            return;\n        }\n\n        // Get player and team names\n        const playerName = currentPlayerCard ? (currentPlayerCard.querySelector('[data-component=\"player-name\"]')?.textContent || 'Unknown Player') : 'Unknown Player';\n        const teamNameElement = document.querySelector(`#teamSection${teamId}`).closest('[data-component=\"team-item\"]').querySelector('[data-component=\"team-name\"]');\n        const teamName = teamNameElement ? teamNameElement.textContent.trim() : `Team ${teamId}`;\n\n        // Remove player from team (send to backend)\n        this.removePlayer(playerId, teamId);\n    }\n\n    // ===== Position Highlighting System =====\n\n    async fetchPositionAnalysis(teamId) {\n        /**\n         * Fetch position analysis from backend API\n         */\n        try {\n            const response = await fetch(`/draft/api/${this.leagueName}/position-analysis/${teamId}`);\n            if (response.ok) {\n                return await response.json();\n            } else {\n                console.error('Failed to fetch position analysis:', response.status);\n                return null;\n            }\n        } catch (error) {\n            console.error('Error fetching position analysis:', error);\n            return null;\n        }\n    }\n\n    async updatePositionHighlighting(activeTeamId) {\n        /**\n         * Update player highlighting based on position fit for active team\n         */\n        if (!activeTeamId) {\n            // Clear all highlighting if no team selected\n            document.querySelectorAll('[data-component=\"player-card\"]').forEach(card => {\n                card.classList.remove('highlight-strong', 'highlight-moderate');\n                const badge = card.querySelector('[data-component=\"position-fit-badge\"]');\n                if (badge) badge.remove();\n            });\n            return;\n        }\n\n        // Fetch position analysis for this team\n        const analysis = await this.fetchPositionAnalysis(activeTeamId);\n        if (!analysis || !analysis.player_fit_scores) {\n            return;\n        }\n\n        // Apply highlighting to player cards\n        document.querySelectorAll('[data-component=\"player-card\"]').forEach(card => {\n            const playerId = parseInt(card.dataset.playerId);\n            if (!playerId) return;\n\n            // Remove existing highlighting\n            card.classList.remove('highlight-strong', 'highlight-moderate');\n            const existingBadge = card.querySelector('[data-component=\"position-fit-badge\"]');\n            if (existingBadge) existingBadge.remove();\n\n            // Get fit score for this player\n            const fitData = analysis.player_fit_scores[playerId];\n            if (!fitData) return;\n\n            // Apply highlighting based on fit category\n            if (fitData.fit_category === 'strong') {\n                card.classList.add('highlight-strong');\n                // Add badge\n                const badge = document.createElement('span');\n                badge.className = 'badge-strong';\n                badge.setAttribute('data-component', 'position-fit-badge');\n                badge.innerHTML = '<i class=\"ti ti-star-filled me-1\"></i>Position Fit';\n                badge.title = `${fitData.favorite_position} - Perfect match for team needs`;\n                card.appendChild(badge);\n            } else if (fitData.fit_category === 'moderate') {\n                card.classList.add('highlight-moderate');\n                // Add badge\n                const badge = document.createElement('span');\n                badge.className = 'badge-moderate';\n                badge.setAttribute('data-component', 'position-fit-badge');\n                badge.innerHTML = '<i class=\"ti ti-check me-1\"></i>Can Play';\n                badge.title = 'Can play needed position';\n                card.appendChild(badge);\n            }\n        });\n    }\n\n    setupTeamTabHighlighting() {\n        /**\n         * Set up event listeners for team tabs to trigger position highlighting\n         */\n        // Find all team tabs/sections\n        const teamTabs = document.querySelectorAll('[data-bs-toggle=\"collapse\"][data-team-id]');\n        teamTabs.forEach(tab => {\n            tab.addEventListener('click', (e) => {\n                const teamId = parseInt(e.currentTarget.dataset.teamId);\n                if (teamId) {\n                    // Delay slightly to allow accordion to open\n                    setTimeout(() => this.updatePositionHighlighting(teamId), 100);\n                }\n            });\n        });\n\n        // Also check if a team accordion is already open on page load\n        const openAccordion = document.querySelector('[data-component=\"team-collapse\"].show[data-team-id]');\n        if (openAccordion) {\n            const teamId = parseInt(openAccordion.dataset.teamId);\n            if (teamId) {\n                this.updatePositionHighlighting(teamId);\n            }\n        }\n    }\n}\n\n// Global instance\nlet draftSystemInstance = null;\n\n// Initialize function\nfunction initializeDraftSystem(leagueName) {\n    draftSystemInstance = new DraftSystemV2(leagueName);\n    return draftSystemInstance;\n}\n\n// Global functions for template compatibility\nfunction showDraftModal(playerId, playerName) {\n    if (draftSystemInstance) {\n        draftSystemInstance.showDraftModal(playerId, playerName);\n    }\n}\n\nfunction confirmDraftPlayer(playerId, playerName) {\n    if (draftSystemInstance) {\n        draftSystemInstance.showDraftModal(playerId, playerName);\n    }\n}\n\nfunction confirmRemovePlayer(playerId, teamId, playerName, teamName) {\n    if (!draftSystemInstance) return;\n\n    if (window.Swal) {\n        Swal.fire({\n            title: 'Remove Player',\n            text: `Remove ${playerName} from ${teamName}?`,\n            icon: 'warning',\n            showCancelButton: true,\n            confirmButtonText: 'Yes, Remove Player',\n            cancelButtonText: 'Cancel',\n            customClass: {\n                confirmButton: 'btn btn-danger',\n                cancelButton: 'btn btn-secondary'\n            },\n            buttonsStyling: false\n        }).then((result) => {\n            if (result.isConfirmed) {\n                draftSystemInstance.removePlayer(playerId, teamId);\n            }\n        });\n    } else {\n        // Fallback\n        if (confirm(`Remove ${playerName} from ${teamName}?`)) {\n            draftSystemInstance.removePlayer(playerId, teamId);\n        }\n    }\n}\n\nfunction confirmDraft(teamId, teamName) {\n    if (draftSystemInstance) {\n        draftSystemInstance.confirmDraft(teamId, teamName);\n    }\n}\n\nfunction removePlayer(playerId, teamId) {\n    if (draftSystemInstance) {\n        draftSystemInstance.removePlayer(playerId, teamId);\n    }\n}\n\nfunction refreshDraft() {\n    if (draftSystemInstance) {\n        draftSystemInstance.refreshDraft();\n    }\n}\n\nfunction viewPlayerProfile(playerId) {\n    if (draftSystemInstance) {\n        draftSystemInstance.viewPlayerProfile(playerId);\n    }\n}\n\nfunction handleDragStart(event, playerId) {\n    if (draftSystemInstance) {\n        draftSystemInstance.handleDragStart(event, playerId);\n    }\n}\n\nfunction handleDragEnd(event) {\n    if (draftSystemInstance) {\n        draftSystemInstance.handleDragEnd(event);\n    }\n}\n\nfunction handleDragOver(event) {\n    if (draftSystemInstance) {\n        draftSystemInstance.handleDragOver(event);\n    }\n}\n\nfunction handleDragLeave(event) {\n    if (draftSystemInstance) {\n        draftSystemInstance.handleDragLeave(event);\n    }\n}\n\nfunction handleDrop(event, teamId) {\n    if (draftSystemInstance) {\n        draftSystemInstance.handleDrop(event, teamId);\n    }\n}\n\nfunction handleDropToAvailable(event) {\n    if (draftSystemInstance) {\n        draftSystemInstance.handleDropToAvailable(event);\n    }\n}\n\n// Global smartCropImage function for template compatibility\nfunction smartCropImage(img) {\n    if (draftSystemInstance) {\n        draftSystemInstance.smartCropImage(img);\n    }\n}\n\n// Export for module use\nif (typeof module !== 'undefined' && module.exports) {\n    module.exports = DraftSystemV2;\n}\n","/**\n * Profile Verification JavaScript\n * Ensures users review all sections before confirming profile\n * Implements section-by-section checkbox tracking\n */\n\n(function() {\n  'use strict';\n\n  const ProfileVerification = {\n    /**\n     * Initialize profile verification system\n     */\n    init: function() {\n      // Only run on profile verification pages\n      if (!this.isVerificationPage()) {\n        return;\n      }\n\n      this.setupSectionCheckboxes();\n      this.setupConfirmButton();\n      this.setupProgressIndicator();\n      this.setupHapticFeedback();\n      this.trackUserInteraction();\n\n      console.log('Profile verification system initialized');\n    },\n\n    /**\n     * Check if current page is a verification page\n     */\n    isVerificationPage: function() {\n      return document.querySelector('button[name=\"verify_profile\"]') !== null ||\n             document.querySelector('[data-verification-page=\"true\"]') !== null;\n    },\n\n    /**\n     * Setup section review checkboxes\n     */\n    setupSectionCheckboxes: function() {\n      const sections = document.querySelectorAll('.verification-section');\n\n      if (sections.length === 0) {\n        // Sections don't exist yet - create them\n        this.createSectionCheckboxes();\n      } else {\n        // Sections exist - just setup listeners\n        this.attachCheckboxListeners();\n      }\n    },\n\n    /**\n     * Create section checkboxes if they don't exist\n     */\n    createSectionCheckboxes: function() {\n      // Find all cards that should have checkboxes\n      const cards = document.querySelectorAll('.card');\n\n      cards.forEach((card, index) => {\n        const cardHeader = card.querySelector('.card-header');\n\n        if (!cardHeader) return;\n\n        // Don't add checkbox if card already has one\n        if (cardHeader.querySelector('.section-reviewed')) return;\n\n        // Get section name from card title\n        const cardTitle = cardHeader.querySelector('h5, h4, h3, .card-title');\n        if (!cardTitle) return;\n\n        const sectionName = cardTitle.textContent.trim();\n\n        // Skip if this is not a data section (e.g., actions, buttons)\n        if (this.shouldSkipSection(sectionName)) return;\n\n        // Create checkbox container\n        const checkboxContainer = document.createElement('div');\n        checkboxContainer.className = 'form-check form-switch d-flex align-items-center ms-auto';\n\n        // Create checkbox input\n        const checkbox = document.createElement('input');\n        checkbox.className = 'form-check-input section-reviewed';\n        checkbox.type = 'checkbox';\n        checkbox.id = `section-reviewed-${index}`;\n        checkbox.setAttribute('data-section', sectionName.toLowerCase().replace(/\\s+/g, '-'));\n        checkbox.setAttribute('data-verification-checkbox', 'section');\n        checkbox.setAttribute('data-on-change', 'verify-section-reviewed');\n\n        // Create label\n        const label = document.createElement('label');\n        label.className = 'form-check-label ms-2 verification-label';\n        label.setAttribute('for', `section-reviewed-${index}`);\n        label.textContent = 'Reviewed';\n\n        // Append elements\n        checkboxContainer.appendChild(checkbox);\n        checkboxContainer.appendChild(label);\n\n        // Make card header flex if not already\n        if (!cardHeader.classList.contains('d-flex')) {\n          cardHeader.classList.add('d-flex', 'justify-content-between', 'align-items-center');\n        }\n\n        cardHeader.appendChild(checkboxContainer);\n\n        // Mark card as verification section\n        card.classList.add('verification-section');\n      });\n\n      // Attach listeners to newly created checkboxes\n      this.attachCheckboxListeners();\n    },\n\n    /**\n     * Check if section should be skipped\n     */\n    shouldSkipSection: function(sectionName) {\n      const skipPatterns = [\n        /action/i,\n        /button/i,\n        /submit/i,\n        /confirm/i\n      ];\n\n      return skipPatterns.some(pattern => pattern.test(sectionName));\n    },\n\n    /**\n     * Attach event listeners to checkboxes\n     * NOTE: Now using centralized event delegation system\n     * Checkboxes use data-on-change=\"verify-section-reviewed\" attribute\n     */\n    attachCheckboxListeners: function() {\n      // Event listeners are now handled by the centralized event delegation system\n      // Checkboxes should have data-on-change=\"verify-section-reviewed\" attribute\n      // The event delegation system will call handleCheckboxChange() when triggered\n\n      // Haptic feedback is now handled by CSS :active pseudo-class or can be\n      // added to the event delegation handler if needed\n\n      // Mark checkboxes as initialized\n      const checkboxes = document.querySelectorAll('.section-reviewed');\n      checkboxes.forEach(checkbox => {\n        checkbox.setAttribute('data-verification-initialized', 'true');\n      });\n    },\n\n    /**\n     * Handle checkbox change event\n     */\n    handleCheckboxChange: function(checkbox) {\n      // Haptic feedback\n      if (window.Haptics) {\n        if (checkbox.checked) {\n          window.Haptics.success();\n        } else {\n          window.Haptics.light();\n        }\n      }\n\n      // Track for analytics\n      const sectionName = checkbox.getAttribute('data-section');\n      const isChecked = checkbox.checked;\n      console.log(`Section \"${sectionName}\" ${isChecked ? 'checked' : 'unchecked'}`);\n\n      // Update progress\n      this.updateProgress();\n\n      // Check if all sections are reviewed\n      this.updateConfirmButton();\n\n      // Visual feedback on parent card\n      const card = checkbox.closest('[data-section-card]');\n      if (card) {\n        if (checkbox.checked) {\n          card.classList.add('section-complete');\n          card.setAttribute('data-complete', 'true');\n          this.animateCardCheck(card);\n        } else {\n          card.classList.remove('section-complete');\n          card.setAttribute('data-complete', 'false');\n        }\n      }\n    },\n\n    /**\n     * Animate card when section is checked\n     */\n    animateCardCheck: function(card) {\n      // Add animation class\n      card.classList.add('section-complete-animation');\n\n      // Scale down\n      card.classList.add('scale-down');\n      card.classList.remove('scale-normal');\n\n      setTimeout(() => {\n        // Scale back to normal\n        card.classList.remove('scale-down');\n        card.classList.add('scale-normal');\n      }, 150);\n\n      setTimeout(() => {\n        // Clean up animation classes\n        card.classList.remove('section-complete-animation', 'scale-normal');\n      }, 300);\n    },\n\n    /**\n     * Setup confirm button behavior\n     * NOTE: Now using centralized event delegation system\n     * Button uses data-action=\"verify-profile-submit\" attribute\n     */\n    setupConfirmButton: function() {\n      const confirmButton = document.querySelector('button[name=\"verify_profile\"]');\n\n      if (!confirmButton) return;\n\n      // Initially disable the button\n      confirmButton.disabled = true;\n      confirmButton.classList.add('disabled');\n\n      // Click handler is now handled by the centralized event delegation system\n      // The button should have data-action=\"verify-profile-submit\" attribute\n      // The event delegation system will check if all sections are reviewed\n\n      // Initial state check\n      this.updateConfirmButton();\n    },\n\n    /**\n     * Update confirm button state\n     */\n    updateConfirmButton: function() {\n      const confirmButton = document.querySelector('button[name=\"verify_profile\"]');\n\n      if (!confirmButton) return;\n\n      const allReviewed = this.areAllSectionsReviewed();\n\n      if (allReviewed) {\n        confirmButton.disabled = false;\n        confirmButton.classList.remove('disabled');\n        confirmButton.classList.add('btn-success');\n        confirmButton.classList.remove('btn-secondary');\n        confirmButton.setAttribute('data-state', 'enabled');\n\n        // Add checkmark icon if not present\n        if (!confirmButton.querySelector('.ti-check')) {\n          const icon = document.createElement('i');\n          icon.className = 'ti ti-check me-2';\n          confirmButton.prepend(icon);\n        }\n      } else {\n        confirmButton.disabled = true;\n        confirmButton.classList.add('disabled');\n        confirmButton.classList.remove('btn-success');\n        confirmButton.classList.add('btn-secondary');\n        confirmButton.setAttribute('data-state', 'disabled');\n\n        // Remove checkmark icon\n        const icon = confirmButton.querySelector('.ti-check');\n        if (icon) {\n          icon.remove();\n        }\n      }\n    },\n\n    /**\n     * Check if all sections are reviewed\n     */\n    areAllSectionsReviewed: function() {\n      const checkboxes = document.querySelectorAll('.section-reviewed');\n\n      if (checkboxes.length === 0) {\n        // No checkboxes - allow confirm (backward compatibility)\n        return true;\n      }\n\n      return Array.from(checkboxes).every(cb => cb.checked);\n    },\n\n    /**\n     * Get list of unchecked sections\n     */\n    getUncheckedSections: function() {\n      const checkboxes = document.querySelectorAll('.section-reviewed:not(:checked)');\n\n      return Array.from(checkboxes).map(cb => {\n        const sectionName = cb.getAttribute('data-section');\n        return sectionName.replace(/-/g, ' ').replace(/\\b\\w/g, l => l.toUpperCase());\n      });\n    },\n\n    /**\n     * Setup progress indicator\n     */\n    setupProgressIndicator: function() {\n      // Check if progress indicator already exists\n      let progressContainer = document.getElementById('verification-progress');\n\n      if (!progressContainer) {\n        // Create progress indicator\n        progressContainer = this.createProgressIndicator();\n      }\n\n      // Update progress\n      this.updateProgress();\n    },\n\n    /**\n     * Create progress indicator element\n     */\n    createProgressIndicator: function() {\n      const container = document.createElement('div');\n      container.id = 'verification-progress';\n      container.className = 'alert alert-info sticky-top mb-4 verification-progress-container';\n      container.setAttribute('data-progress-indicator', 'verification');\n      container.setAttribute('data-status', 'info');\n\n      const progressText = document.createElement('strong');\n      progressText.id = 'progress-text';\n      progressText.textContent = '0 of 0 sections reviewed';\n\n      const helpText = document.createElement('p');\n      helpText.className = 'mb-0 small mt-2';\n      helpText.textContent = 'Please review each section and check the box before confirming.';\n\n      container.appendChild(progressText);\n      container.appendChild(helpText);\n\n      // Find the first card and insert before it\n      const firstCard = document.querySelector('[data-section-card]');\n      if (firstCard && firstCard.parentNode) {\n        firstCard.parentNode.insertBefore(container, firstCard);\n      }\n\n      return container;\n    },\n\n    /**\n     * Update progress indicator\n     */\n    updateProgress: function() {\n      const checkboxes = document.querySelectorAll('.section-reviewed');\n      const checkedCount = document.querySelectorAll('.section-reviewed:checked').length;\n      const totalCount = checkboxes.length;\n\n      const progressText = document.getElementById('progress-text');\n\n      if (progressText) {\n        progressText.textContent = `${checkedCount} of ${totalCount} sections reviewed`;\n\n        // Update alert class based on progress\n        const progressContainer = document.querySelector('[data-progress-indicator=\"verification\"]');\n        if (progressContainer) {\n          if (checkedCount === totalCount && totalCount > 0) {\n            progressContainer.classList.remove('alert-info', 'alert-warning');\n            progressContainer.classList.add('alert-success');\n            progressContainer.setAttribute('data-status', 'success');\n          } else if (checkedCount > 0) {\n            progressContainer.classList.remove('alert-info', 'alert-success');\n            progressContainer.classList.add('alert-warning');\n            progressContainer.setAttribute('data-status', 'warning');\n          } else {\n            progressContainer.classList.remove('alert-warning', 'alert-success');\n            progressContainer.classList.add('alert-info');\n            progressContainer.setAttribute('data-status', 'info');\n          }\n        }\n      }\n\n      // Update progress bar if it exists\n      this.updateProgressBar(checkedCount, totalCount);\n    },\n\n    /**\n     * Update progress bar\n     */\n    updateProgressBar: function(checkedCount, totalCount) {\n      let progressBar = document.getElementById('verification-progress-bar');\n\n      if (!progressBar && totalCount > 0) {\n        // Create progress bar\n        const progressContainer = document.querySelector('[data-progress-indicator=\"verification\"]');\n        if (progressContainer) {\n          const progressBarContainer = document.createElement('div');\n          progressBarContainer.className = 'progress mt-2 verification-progress-bar-container';\n          progressBarContainer.setAttribute('data-progress-container', 'verification');\n\n          progressBar = document.createElement('div');\n          progressBar.id = 'verification-progress-bar';\n          progressBar.className = 'progress-bar verification-progress-bar';\n          progressBar.role = 'progressbar';\n          progressBar.setAttribute('data-progress-bar', 'verification');\n\n          progressBarContainer.appendChild(progressBar);\n          progressContainer.appendChild(progressBarContainer);\n        }\n      }\n\n      if (progressBar && totalCount > 0) {\n        const percentage = Math.round((checkedCount / totalCount) * 100);\n        progressBar.style.width = percentage + '%';\n        progressBar.setAttribute('aria-valuenow', percentage);\n        progressBar.setAttribute('aria-valuemin', '0');\n        progressBar.setAttribute('aria-valuemax', '100');\n      }\n    },\n\n    /**\n     * Show warning for incomplete verification\n     */\n    showIncompleteWarning: function(uncheckedSections) {\n      const sectionList = uncheckedSections.map(s => ` ${s}`).join('<br>');\n\n      if (typeof Swal !== 'undefined') {\n        Swal.fire({\n          icon: 'warning',\n          title: 'Review Required',\n          html: `<p>Please review the following sections before confirming:</p><br>${sectionList}`,\n          confirmButtonText: 'OK',\n          confirmButtonColor: (typeof ECSTheme !== 'undefined') ? ECSTheme.getColor('warning') : '#ffc107'\n        });\n      } else {\n        alert(`Please review the following sections:\\n\\n${uncheckedSections.join('\\n')}`);\n      }\n    },\n\n    /**\n     * Setup haptic feedback\n     */\n    setupHapticFeedback: function() {\n      // Haptic feedback already handled in checkbox listeners\n      // This is a placeholder for additional haptic features\n    },\n\n    /**\n     * Track user interaction for analytics\n     * NOTE: Now using centralized event delegation system\n     * Analytics tracking is handled in handleCheckboxChange()\n     */\n    trackUserInteraction: function() {\n      // Tracking is now handled within handleCheckboxChange()\n      // which is called by the event delegation system\n      // No separate event listeners needed\n    }\n  };\n\n  // Initialize when DOM is ready\n  if (document.readyState === 'loading') {\n    document.addEventListener('DOMContentLoaded', () => {\n      ProfileVerification.init();\n    });\n  } else {\n    ProfileVerification.init();\n  }\n\n  // Export for external access\n  window.ProfileVerification = ProfileVerification;\n\n})();\n","/**\n * Draft History Admin Interface\n * JavaScript functionality for managing draft order history\n */\n\nclass DraftHistoryManager {\n    constructor() {\n        this.csrfToken = null;\n        this.init();\n    }\n\n    init() {\n        this.setupEventListeners();\n        this.getCsrfToken();\n        this.initDragAndDrop();\n        console.log('Draft History Manager initialized');\n    }\n\n    // Get CSRF token from meta tag or cookie\n    getCsrfToken() {\n        // Try to get from meta tag first\n        const metaToken = document.querySelector('meta[name=\"csrf-token\"]');\n        if (metaToken) {\n            this.csrfToken = metaToken.getAttribute('content');\n            return;\n        }\n        \n        // Try to get from session cookie (fallback)\n        const cookies = document.cookie.split(';');\n        for (let cookie of cookies) {\n            const [name, value] = cookie.trim().split('=');\n            if (name === 'csrf_token') {\n                this.csrfToken = value;\n                return;\n            }\n        }\n        \n        console.warn('CSRF token not found');\n    }\n\n    setupEventListeners() {\n        // Edit form submission\n        const editForm = document.getElementById('editDraftPickForm');\n        if (editForm) {\n            editForm.addEventListener('submit', (e) => this.handleEditSubmit(e));\n        }\n    }\n\n    // Initialize drag and drop functionality\n    initDragAndDrop() {\n        const sortableContainers = document.querySelectorAll('.sortable-draft-picks');\n        \n        sortableContainers.forEach(container => {\n            const items = container.querySelectorAll('.sortable-item');\n            \n            items.forEach(item => {\n                const draggableCard = item.querySelector('.draggable-card');\n                \n                // Drag start\n                draggableCard.addEventListener('dragstart', (e) => {\n                    item.classList.add('dragging');\n                    container.classList.add('drag-active');\n                    \n                    // Store dragged player info for better UX\n                    const playerName = item.querySelector('h6').textContent;\n                    const currentPos = item.dataset.position;\n                    \n                    e.dataTransfer.setData('text/plain', item.dataset.pickId);\n                    e.dataTransfer.setData('application/x-player-name', playerName);\n                    e.dataTransfer.setData('application/x-current-pos', currentPos);\n                    e.dataTransfer.effectAllowed = 'move';\n                    \n                    // Create custom drag image with better visibility\n                    const dragImage = item.cloneNode(true);\n                    dragImage.classList.add('drag-image-preview');\n                    document.body.appendChild(dragImage);\n                    e.dataTransfer.setDragImage(dragImage, 100, 50);\n                    \n                    // Remove the temporary drag image after a brief delay\n                    setTimeout(() => {\n                        if (document.body.contains(dragImage)) {\n                            document.body.removeChild(dragImage);\n                        }\n                    }, 0);\n                });\n                \n                // Drag end\n                draggableCard.addEventListener('dragend', (e) => {\n                    item.classList.remove('dragging');\n                    container.classList.remove('drag-active');\n                    \n                    // Remove all drag-over classes\n                    items.forEach(i => i.classList.remove('drag-over'));\n                });\n                \n                // Drag over\n                item.addEventListener('dragover', (e) => {\n                    e.preventDefault();\n                    e.dataTransfer.dropEffect = 'move';\n                    \n                    if (!item.classList.contains('dragging')) {\n                        item.classList.add('drag-over');\n                    }\n                });\n                \n                // Drag leave\n                item.addEventListener('dragleave', (e) => {\n                    // Only remove drag-over if we're actually leaving this element\n                    if (!item.contains(e.relatedTarget)) {\n                        item.classList.remove('drag-over');\n                    }\n                });\n                \n                // Drop\n                item.addEventListener('drop', (e) => {\n                    e.preventDefault();\n                    item.classList.remove('drag-over');\n                    container.classList.remove('drag-active');\n                    \n                    const draggedPickId = e.dataTransfer.getData('text/plain');\n                    const playerName = e.dataTransfer.getData('application/x-player-name');\n                    const currentPos = e.dataTransfer.getData('application/x-current-pos');\n                    const targetPosition = parseInt(item.dataset.position);\n                    \n                    if (draggedPickId && targetPosition) {\n                        // Show immediate feedback\n                        this.showAlert('info', `Moving ${playerName} from position #${currentPos} to #${targetPosition}...`);\n                        this.handleDragDrop(draggedPickId, targetPosition, playerName);\n                    }\n                });\n            });\n        });\n    }\n\n    // Handle drag and drop reordering\n    async handleDragDrop(pickId, newPosition, playerName = 'Player') {\n        try {\n            const headers = {\n                'Content-Type': 'application/json',\n            };\n            \n            // Add CSRF token if available\n            if (this.csrfToken) {\n                headers['X-CSRFToken'] = this.csrfToken;\n            }\n            \n            const response = await fetch(`/admin/draft-history/edit/${pickId}`, {\n                method: 'POST',\n                headers: headers,\n                body: JSON.stringify({\n                    position: newPosition,\n                    mode: 'smart' // Use smart mode for drag and drop\n                })\n            });\n\n            const data = await response.json();\n            \n            if (data.success) {\n                this.showAlert('success', `Player moved to position #${newPosition}`);\n                this.reloadPage();\n            } else {\n                this.showAlert('error', data.message);\n            }\n        } catch (error) {\n            this.showAlert('error', 'Failed to reorder draft pick');\n            console.error('Error reordering draft pick:', error);\n        }\n    }\n\n    // Clear all filters\n    clearFilters() {\n        const currentUrl = new URL(window.location);\n        currentUrl.search = '';\n        window.location.href = currentUrl.toString();\n    }\n\n    // Show edit modal for a draft pick\n    editDraftPick(pickId, position, notes, playerName) {\n        document.getElementById('editPickId').value = pickId;\n        document.getElementById('editPlayerName').value = playerName;\n        document.getElementById('editDraftPosition').value = position;\n        document.getElementById('editNotes').value = notes || '';\n\n        ModalManager.show('editDraftPickModal');\n    }\n\n    // Handle edit form submission\n    async handleEditSubmit(e) {\n        e.preventDefault();\n        \n        const pickId = document.getElementById('editPickId').value;\n        const position = parseInt(document.getElementById('editDraftPosition').value);\n        const notes = document.getElementById('editNotes').value.trim();\n        \n        // Determine which mode is selected\n        let mode = 'smart'; // new default - smart reorder\n        if (document.getElementById('insertMode').checked) {\n            mode = 'insert';\n        } else if (document.getElementById('cascadingMode').checked) {\n            mode = 'cascading';\n        } else if (document.getElementById('absoluteMode').checked) {\n            mode = 'absolute';\n        }\n        \n        try {\n            const headers = {\n                'Content-Type': 'application/json',\n            };\n            \n            // Add CSRF token if available\n            if (this.csrfToken) {\n                headers['X-CSRFToken'] = this.csrfToken;\n            }\n            \n            const response = await fetch(`/admin/draft-history/edit/${pickId}`, {\n                method: 'POST',\n                headers: headers,\n                body: JSON.stringify({\n                    position: position,\n                    notes: notes,\n                    mode: mode\n                })\n            });\n\n            const data = await response.json();\n            \n            if (data.success) {\n                this.showAlert('success', data.message);\n                bootstrap.Modal.getInstance(document.getElementById('editDraftPickModal')).hide();\n                this.reloadPage();\n            } else {\n                this.showAlert('error', data.message);\n            }\n        } catch (error) {\n            this.showAlert('error', 'Failed to update draft pick');\n            console.error('Error updating draft pick:', error);\n        }\n    }\n\n    // Delete a draft pick\n    async deleteDraftPick(pickId, position, playerName, teamName) {\n        const confirmed = confirm(\n            `Are you sure you want to delete draft pick #${position} (${playerName} to ${teamName})?\\n\\n` +\n            'This will adjust all subsequent draft positions and cannot be undone.'\n        );\n\n        if (!confirmed) return;\n\n        try {\n            const headers = {\n                'Content-Type': 'application/json',\n            };\n            \n            // Add CSRF token if available\n            if (this.csrfToken) {\n                headers['X-CSRFToken'] = this.csrfToken;\n            }\n            \n            const response = await fetch(`/admin/draft-history/delete/${pickId}`, {\n                method: 'DELETE',\n                headers: headers\n            });\n\n            const data = await response.json();\n            \n            if (data.success) {\n                this.showAlert('success', data.message);\n                this.reloadPage();\n            } else {\n                this.showAlert('error', data.message);\n            }\n        } catch (error) {\n            this.showAlert('error', 'Failed to delete draft pick');\n            console.error('Error deleting draft pick:', error);\n        }\n    }\n\n    // Normalize draft positions for a season/league\n    async normalizeDraftPositions(seasonId, leagueId, seasonName, leagueName) {\n        const confirmed = confirm(\n            `Fix the draft order for ${seasonName} - ${leagueName}?\\n\\n` +\n            'This will renumber all positions to run 1, 2, 3, 4... with no gaps. This action cannot be undone.'\n        );\n\n        if (!confirmed) return;\n\n        try {\n            const headers = {\n                'Content-Type': 'application/json',\n            };\n            \n            // Add CSRF token if available\n            if (this.csrfToken) {\n                headers['X-CSRFToken'] = this.csrfToken;\n            }\n            \n            const response = await fetch('/admin/draft-history/normalize', {\n                method: 'POST',\n                headers: headers,\n                body: JSON.stringify({\n                    season_id: seasonId,\n                    league_id: leagueId\n                })\n            });\n\n            const data = await response.json();\n            \n            if (data.success) {\n                this.showAlert('success', data.message);\n                this.reloadPage();\n            } else {\n                this.showAlert('error', data.message);\n            }\n        } catch (error) {\n            this.showAlert('error', 'Failed to normalize draft positions');\n            console.error('Error normalizing draft positions:', error);\n        }\n    }\n\n    // Clear all draft picks for a season/league\n    async clearSeasonLeague(seasonId, leagueId, seasonName, leagueName) {\n        const confirmed = confirm(\n            `Are you sure you want to clear ALL draft picks for ${seasonName} - ${leagueName}?\\n\\n` +\n            'This action cannot be undone.'\n        );\n\n        if (!confirmed) return;\n\n        try {\n            const headers = {\n                'Content-Type': 'application/json',\n            };\n            \n            // Add CSRF token if available\n            if (this.csrfToken) {\n                headers['X-CSRFToken'] = this.csrfToken;\n            }\n            \n            const response = await fetch('/admin/draft-history/clear', {\n                method: 'POST',\n                headers: headers,\n                body: JSON.stringify({\n                    season_id: seasonId,\n                    league_id: leagueId\n                })\n            });\n\n            const data = await response.json();\n            \n            if (data.success) {\n                this.showAlert('success', data.message);\n                this.reloadPage();\n            } else {\n                this.showAlert('error', data.message);\n            }\n        } catch (error) {\n            this.showAlert('error', 'Failed to clear draft history');\n            console.error('Error clearing draft history:', error);\n        }\n    }\n\n    // Show alert message\n    showAlert(type, message) {\n        let alertClass, iconClass;\n        if (type === 'success') {\n            alertClass = 'alert-success';\n            iconClass = 'ti-check';\n        } else if (type === 'info') {\n            alertClass = 'alert-info';\n            iconClass = 'ti-info-circle';\n        } else {\n            alertClass = 'alert-danger';\n            iconClass = 'ti-x';\n        }\n        \n        const alertHtml = `\n            <div class=\"alert ${alertClass} alert-dismissible fade show\" role=\"alert\">\n                <i class=\"ti ${iconClass} me-2\"></i>${message}\n                <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"alert\" aria-label=\"Close\"></button>\n            </div>\n        `;\n        \n        const container = document.querySelector('.container-xxl');\n        if (container) {\n            container.insertAdjacentHTML('afterbegin', alertHtml);\n            \n            // Auto-dismiss after 5 seconds\n            setTimeout(() => {\n                const alert = container.querySelector('.alert');\n                if (alert) {\n                    alert.remove();\n                }\n            }, 5000);\n        }\n    }\n\n    // Reload the page with a slight delay\n    reloadPage() {\n        setTimeout(() => {\n            window.location.reload();\n        }, 1000);\n    }\n\n    // Initialize tooltips if available\n    initTooltips() {\n        const tooltipTriggerList = [].slice.call(document.querySelectorAll('[data-bs-toggle=\"tooltip\"]'));\n        tooltipTriggerList.map(function (tooltipTriggerEl) {\n            return new bootstrap.Tooltip(tooltipTriggerEl);\n        });\n    }\n}\n\n// Global functions for template compatibility\nlet draftHistoryManager;\n\nfunction clearFilters() {\n    draftHistoryManager.clearFilters();\n}\n\nfunction editDraftPick(pickId, position, notes, playerName) {\n    draftHistoryManager.editDraftPick(pickId, position, notes, playerName);\n}\n\nfunction deleteDraftPick(pickId, position, playerName, teamName) {\n    draftHistoryManager.deleteDraftPick(pickId, position, playerName, teamName);\n}\n\nfunction normalizeDraftPositions(seasonId, leagueId, seasonName, leagueName) {\n    draftHistoryManager.normalizeDraftPositions(seasonId, leagueId, seasonName, leagueName);\n}\n\nfunction clearSeasonLeague(seasonId, leagueId, seasonName, leagueName) {\n    draftHistoryManager.clearSeasonLeague(seasonId, leagueId, seasonName, leagueName);\n}\n\n// Initialize when DOM is ready\ndocument.addEventListener('DOMContentLoaded', function() {\n    // Page guard - only run on draft history page\n    if (!document.querySelector('.sortable-draft-picks') && !document.getElementById('editDraftPickForm')) {\n        return; // Not on draft history page\n    }\n\n    draftHistoryManager = new DraftHistoryManager();\n\n    // Initialize tooltips\n    draftHistoryManager.initTooltips();\n\n    console.log('Draft History interface loaded successfully');\n});\n","/**\n * Soccer Pitch View System\n * Visual drafting interface with position-based player placement\n *\n * REFACTORED: Eliminated all inline style manipulations in favor of CSS classes\n */\n\nclass PitchViewSystem {\n    constructor(leagueName, teams, draftedPlayersByTeam) {\n        this.leagueName = leagueName;\n        this.teams = teams;\n        this.draftedPlayersByTeam = draftedPlayersByTeam;\n        this.socket = null;\n        this.currentDraggedPlayer = null;\n        this.isConnected = false;\n\n        this.init();\n    }\n\n    init() {\n        this.setupSocket();\n        this.setupEventListeners();\n        this.populateExistingPlayers();\n        this.setupSearch();\n        this.updateAllStats();\n\n        console.log(' Pitch View System initialized');\n    }\n\n    setupSocket() {\n        try {\n            // Reuse existing global socket if available (from navbar presence)\n            // Check if socket EXISTS (not just connected) - it may still be connecting\n            if (window.socket) {\n                console.log(' [PitchView] Reusing existing socket (connected:', window.socket.connected, ')');\n                this.socket = window.socket;\n\n                // If already connected, join room immediately\n                if (this.socket.connected) {\n                    this.isConnected = true;\n                    this.socket.emit('join_draft_room', { league_name: this.leagueName });\n                }\n                // Set up listeners regardless - connect handler will join room when connected\n                this.setupSocketListeners();\n                return;\n            }\n\n            // Create new socket if none exists\n            console.log(' [PitchView] Creating new socket connection');\n            this.socket = io('/', {\n                // Use polling first to establish sticky session cookie with multiple workers\n                transports: ['polling', 'websocket'],\n                upgrade: true,\n                timeout: 10000,\n                withCredentials: true\n            });\n\n            // Store globally for other components to reuse\n            window.socket = this.socket;\n\n            this.setupSocketListeners();\n\n        } catch (error) {\n            console.error('Failed to initialize socket:', error);\n        }\n    }\n\n    setupSocketListeners() {\n        if (!this.socket) return;\n\n        this.socket.on('connect', () => {\n            console.log(' Connected to draft system');\n            this.isConnected = true;\n            this.socket.emit('join_draft_room', { league_name: this.leagueName });\n        });\n\n        this.socket.on('disconnect', () => {\n            console.log(' Disconnected from draft system');\n            this.isConnected = false;\n        });\n\n        this.socket.on('player_drafted_enhanced', (data) => {\n            console.log(' Player drafted:', data);\n            this.handlePlayerDrafted(data);\n        });\n\n        this.socket.on('player_removed_enhanced', (data) => {\n            console.log(' Player removed:', data);\n            this.handlePlayerRemoved(data);\n        });\n\n        this.socket.on('player_position_updated', (data) => {\n            console.log(' Player position updated:', data);\n            this.handlePlayerPositionUpdated(data);\n        });\n\n        this.socket.on('error', (data) => {\n            console.error(' Socket error:', data);\n            this.showToast('Error: ' + data.message, 'error');\n        });\n    }\n\n    setupEventListeners() {\n        // Search functionality\n        const searchInput = document.getElementById('playerSearchPitch');\n        if (searchInput) {\n            searchInput.addEventListener('input', this.handleSearch.bind(this));\n        }\n\n        // Position filter\n        const positionFilter = document.getElementById('positionFilterPitch');\n        if (positionFilter) {\n            positionFilter.addEventListener('change', this.handlePositionFilter.bind(this));\n        }\n\n        // Team tab switching\n        document.addEventListener('shown.bs.tab', (event) => {\n            if (event.target.id.includes('team-') && event.target.id.includes('-tab')) {\n                const teamId = event.target.getAttribute('data-team-id');\n                this.onTeamTabSwitch(teamId);\n            }\n        });\n\n        // Setup drag and drop event delegation\n        this.setupDragAndDropEvents();\n    }\n\n    setupDragAndDropEvents() {\n        const self = this;\n\n        // Drag start on available player cards\n        document.addEventListener('dragstart', function(e) {\n            const playerCard = e.target.closest('.js-draggable-player');\n            if (playerCard) {\n                const playerId = playerCard.dataset.playerId;\n                e.dataTransfer.setData('text/plain', playerId);\n                e.dataTransfer.effectAllowed = 'move';\n                playerCard.classList.add('dragging');\n                self.currentDraggedPlayer = playerId;\n            }\n        });\n\n        // Drag end\n        document.addEventListener('dragend', function(e) {\n            const playerCard = e.target.closest('.js-draggable-player');\n            if (playerCard) {\n                playerCard.classList.remove('dragging');\n                self.currentDraggedPlayer = null;\n            }\n        });\n\n        // Drag over position zones\n        document.addEventListener('dragover', function(e) {\n            const dropZone = e.target.closest('.js-position-drop-zone');\n            if (dropZone) {\n                e.preventDefault();\n                e.dataTransfer.dropEffect = 'move';\n                dropZone.classList.add('drag-over');\n            }\n        });\n\n        // Drag leave position zones\n        document.addEventListener('dragleave', function(e) {\n            const dropZone = e.target.closest('.js-position-drop-zone');\n            if (dropZone && !dropZone.contains(e.relatedTarget)) {\n                dropZone.classList.remove('drag-over');\n            }\n        });\n\n        // Drop on position zones\n        document.addEventListener('drop', function(e) {\n            const dropZone = e.target.closest('.js-position-drop-zone');\n            if (dropZone) {\n                e.preventDefault();\n                dropZone.classList.remove('drag-over');\n\n                const position = dropZone.dataset.position;\n                const teamId = dropZone.dataset.teamId;\n                const playerId = e.dataTransfer.getData('text/plain') || self.currentDraggedPlayer;\n\n                if (playerId && position && teamId) {\n                    self.handlePositionDrop(e, position, teamId);\n                }\n            }\n        });\n    }\n\n    setupSearch() {\n        // Initialize search state\n        this.updateAvailablePlayerCount();\n    }\n\n    handleSearch(event) {\n        const searchTerm = event.target.value.toLowerCase();\n        const playerItems = document.querySelectorAll('#availablePlayersList .player-item');\n        let visibleCount = 0;\n\n        playerItems.forEach(item => {\n            const playerName = item.getAttribute('data-player-name') || '';\n            const isVisible = !searchTerm || playerName.includes(searchTerm);\n\n            // Use CSS classes instead of inline styles\n            if (isVisible) {\n                item.classList.remove('d-none');\n                item.classList.add('d-flex');\n                visibleCount++;\n            } else {\n                item.classList.remove('d-flex');\n                item.classList.add('d-none');\n            }\n        });\n\n        this.updateAvailablePlayerCount(visibleCount);\n    }\n\n    handlePositionFilter(event) {\n        const selectedPosition = event.target.value.toLowerCase();\n        const playerItems = document.querySelectorAll('#availablePlayersList .player-item');\n        let visibleCount = 0;\n\n        playerItems.forEach(item => {\n            const playerPosition = item.getAttribute('data-position') || '';\n            const isVisible = !selectedPosition || playerPosition.includes(selectedPosition);\n\n            // Use CSS classes instead of inline styles\n            if (isVisible) {\n                item.classList.remove('d-none');\n                item.classList.add('d-flex');\n                visibleCount++;\n            } else {\n                item.classList.remove('d-flex');\n                item.classList.add('d-none');\n            }\n        });\n\n        this.updateAvailablePlayerCount(visibleCount);\n    }\n\n    populateExistingPlayers() {\n        // Populate already drafted players into their saved positions\n        Object.keys(this.draftedPlayersByTeam).forEach(teamId => {\n            const players = this.draftedPlayersByTeam[teamId];\n            players.forEach(player => {\n                // Use the saved position or default to bench\n                const position = player.current_position || 'bench';\n                this.addPlayerToPosition(player, position, teamId, false); // false = don't emit socket event\n            });\n        });\n    }\n\n    onTeamTabSwitch(teamId) {\n        // Update any team-specific UI when switching between teams\n        console.log(`Switched to team ${teamId}`);\n    }\n\n    // Player Management\n    addPlayerToPosition(player, position, teamId, emitEvent = true) {\n        const positionContainer = document.getElementById(`position-${position}-${teamId}`);\n        if (!positionContainer) {\n            console.error(`Position container not found: position-${position}-${teamId}`);\n            return;\n        }\n\n        // Check if player is already positioned somewhere in this team\n        this.removePlayerFromAllPositions(player.id, teamId);\n\n        // Create player element\n        const playerElement = this.createPositionedPlayerElement(player, position, teamId);\n        positionContainer.appendChild(playerElement);\n\n        // Remove from available players list if it exists there\n        this.removePlayerFromAvailable(player.id);\n\n        // Update stats\n        this.updatePositionStats(teamId);\n        this.updateTeamCounts();\n\n        // Emit socket event if requested\n        if (emitEvent && this.socket && this.isConnected) {\n            this.socket.emit('update_player_position', {\n                player_id: player.id,\n                team_id: parseInt(teamId),\n                position: position,\n                league_name: this.leagueName\n            });\n        }\n\n        console.log(`Added ${player.name} to ${position} position in team ${teamId}`);\n    }\n\n    createPositionedPlayerElement(player, position, teamId) {\n        const element = document.createElement('div');\n        element.className = 'positioned-player newly-added';\n        element.setAttribute('data-player-id', player.id);\n        element.setAttribute('data-player-name', player.name);\n        element.setAttribute('data-position', position);\n        element.setAttribute('draggable', 'true');\n        element.setAttribute('title', player.name); // Tooltip with full name\n\n        // Add drag event listeners\n        element.addEventListener('dragstart', (e) => this.handlePositionedPlayerDragStart(e, player.id));\n        element.addEventListener('dragend', (e) => this.handlePositionedPlayerDragEnd(e));\n\n        // Player image or initials\n        if (player.profile_picture_url && player.profile_picture_url !== '/static/img/default_player.png') {\n            element.innerHTML = `\n                <img src=\"${player.profile_picture_url}\" alt=\"${player.name}\"\n                     class=\"player-profile-img\"\n                     onerror=\"this.classList.add('d-none'); this.nextElementSibling.classList.remove('d-none');\">\n                <div class=\"player-initials d-none\">${this.getPlayerInitials(player.name)}</div>\n                <button class=\"remove-btn\" onclick=\"pitchViewInstance.removePlayerFromPosition(${player.id}, '${position}', ${teamId})\" title=\"Remove ${player.name}\"></button>\n            `;\n        } else {\n            element.innerHTML = `\n                <div class=\"player-initials\">${this.getPlayerInitials(player.name)}</div>\n                <button class=\"remove-btn\" onclick=\"pitchViewInstance.removePlayerFromPosition(${player.id}, '${position}', ${teamId})\" title=\"Remove ${player.name}\"></button>\n            `;\n        }\n\n        // Remove the newly-added class after animation\n        setTimeout(() => {\n            element.classList.remove('newly-added');\n        }, 500);\n\n        return element;\n    }\n\n    getPlayerInitials(name) {\n        return name.split(' ')\n            .map(part => part.charAt(0).toUpperCase())\n            .join('')\n            .substring(0, 2);\n    }\n\n    removePlayerFromPosition(playerId, position, teamId) {\n        const positionContainer = document.getElementById(`position-${position}-${teamId}`);\n        if (positionContainer) {\n            const playerElement = positionContainer.querySelector(`[data-player-id=\"${playerId}\"]`);\n            if (playerElement) {\n                // Use CSS classes for animation instead of inline styles\n                playerElement.classList.add('removing');\n\n                setTimeout(() => {\n                    playerElement.remove();\n                    this.updatePositionStats(teamId);\n                }, 300);\n            }\n        }\n\n        // If removing from team entirely, add back to available\n        const teamHasPlayer = this.isPlayerInTeam(playerId, teamId);\n        if (!teamHasPlayer) {\n            this.addPlayerBackToAvailable(playerId);\n        }\n    }\n\n    removePlayerFromAllPositions(playerId, teamId) {\n        const positions = ['gk', 'lb', 'cb', 'rb', 'lwb', 'rwb', 'cdm', 'cm', 'cam', 'lw', 'rw', 'st', 'bench'];\n        positions.forEach(position => {\n            const positionContainer = document.getElementById(`position-${position}-${teamId}`);\n            if (positionContainer) {\n                const playerElement = positionContainer.querySelector(`[data-player-id=\"${playerId}\"]`);\n                if (playerElement) {\n                    playerElement.remove();\n                }\n            }\n        });\n    }\n\n    removePlayerFromAvailable(playerId) {\n        const playerItem = document.querySelector(`#availablePlayersList [data-player-id=\"${playerId}\"]`);\n        if (playerItem) {\n            // Use CSS class for animation instead of inline styles\n            playerItem.classList.add('removing-from-list');\n\n            setTimeout(() => {\n                playerItem.remove();\n                this.updateAvailablePlayerCount();\n            }, 300);\n        }\n    }\n\n    addPlayerBackToAvailable(playerId) {\n        // This would require the full player data - for now, we'll reload or emit an event\n        // In a real implementation, you'd maintain a player cache\n        console.log(`Should add player ${playerId} back to available pool`);\n    }\n\n    isPlayerInTeam(playerId, teamId) {\n        const positions = ['gk', 'lb', 'cb', 'rb', 'lwb', 'rwb', 'cdm', 'cm', 'cam', 'lw', 'rw', 'st', 'bench'];\n        return positions.some(position => {\n            const container = document.getElementById(`position-${position}-${teamId}`);\n            return container && container.querySelector(`[data-player-id=\"${playerId}\"]`);\n        });\n    }\n\n    // Drag and Drop Handlers\n    handlePlayerDragStart(event, playerId) {\n        this.currentDraggedPlayer = playerId;\n        event.dataTransfer.setData('text/plain', playerId);\n        event.dataTransfer.effectAllowed = 'move';\n\n        // Visual feedback using CSS classes\n        event.target.classList.add('dragging');\n    }\n\n    handlePlayerDragEnd(event) {\n        this.currentDraggedPlayer = null;\n        event.target.classList.remove('dragging');\n    }\n\n    handlePositionedPlayerDragStart(event, playerId) {\n        this.currentDraggedPlayer = playerId;\n        event.dataTransfer.setData('text/plain', playerId);\n        event.dataTransfer.effectAllowed = 'move';\n\n        // Mark as positioned player being moved\n        event.dataTransfer.setData('positioned', 'true');\n\n        // Visual feedback using CSS classes\n        event.target.classList.add('dragging');\n    }\n\n    handlePositionedPlayerDragEnd(event) {\n        this.currentDraggedPlayer = null;\n        event.target.classList.remove('dragging');\n    }\n\n    handlePositionDragOver(event) {\n        event.preventDefault();\n        event.dataTransfer.dropEffect = 'move';\n\n        const zone = event.currentTarget;\n        zone.classList.add('drag-over');\n    }\n\n    handlePositionDragLeave(event) {\n        const zone = event.currentTarget;\n        zone.classList.remove('drag-over');\n    }\n\n    handlePositionDrop(event, position, teamId) {\n        event.preventDefault();\n\n        const zone = event.currentTarget;\n        zone.classList.remove('drag-over');\n\n        const playerId = event.dataTransfer.getData('text/plain');\n        const isPositioned = event.dataTransfer.getData('positioned') === 'true';\n\n        if (!playerId) {\n            this.showToast('No player data found', 'error');\n            return;\n        }\n\n        // Soft warning for position capacity (doesn't block)\n        const currentPlayers = zone.querySelector('.position-players').children.length;\n        const recommended = this.getRecommendedMax(position);\n\n        if (currentPlayers >= recommended) {\n            this.showPositionWarning(position, currentPlayers + 1, recommended);\n            // CONTINUE with draft - don't block\n        }\n\n        if (isPositioned) {\n            // Moving from one position to another\n            this.movePlayerBetweenPositions(playerId, position, teamId);\n        } else {\n            // Drafting new player\n            this.draftPlayerToPosition(playerId, position, teamId);\n        }\n\n        // Update capacity indicators after drop\n        setTimeout(() => this.updatePositionCapacity(position, teamId), 100);\n    }\n\n    getRecommendedMax(position) {\n        /**\n         * Get recommended maximum players for a position\n         */\n        const recommendations = {\n            'gk': 1,\n            'lb': 1,\n            'cb': 2,\n            'rb': 1,\n            'lwb': 1,\n            'rwb': 1,\n            'cdm': 2,\n            'cm': 2,\n            'cam': 1,\n            'lw': 1,\n            'rw': 1,\n            'st': 2,\n            'bench': 999\n        };\n        return recommendations[position.toLowerCase()] || 1;\n    }\n\n    showPositionWarning(position, currentCount, recommendedMax) {\n        /**\n         * Show a toast warning when position capacity is exceeded\n         */\n        const positionName = position.toUpperCase();\n        const toast = document.createElement('div');\n        toast.className = 'position-warning-toast';\n        toast.innerHTML = `\n            <i class=\"ti ti-alert-triangle text-warning me-2\"></i>\n            <div>\n                <strong>${positionName} Position Over Capacity</strong>\n                <div class=\"small text-muted\">Current: ${currentCount} | Recommended: ${recommendedMax}</div>\n            </div>\n        `;\n\n        document.body.appendChild(toast);\n\n        // Auto-remove after 3 seconds - use CSS class for animation\n        setTimeout(() => {\n            toast.classList.add('toast-dismissing');\n            setTimeout(() => toast.remove(), 300);\n        }, 3000);\n    }\n\n    updatePositionCapacity(position, teamId) {\n        /**\n         * Update visual capacity indicators for a position\n         */\n        const slot = document.querySelector(`[data-position=\"${position}\"][data-team-id=\"${teamId}\"]`);\n        if (!slot) return;\n\n        const indicator = slot.querySelector('.capacity-indicator');\n        if (!indicator) return;\n\n        const currentCount = slot.querySelectorAll('.positioned-player').length;\n        const recommended = this.getRecommendedMax(position);\n\n        // Update current count display\n        const currentSpan = indicator.querySelector('.current');\n        if (currentSpan) {\n            currentSpan.textContent = currentCount;\n        }\n\n        // Update visual state\n        indicator.classList.remove('at-capacity', 'over-capacity');\n        slot.classList.remove('at-capacity', 'over-capacity');\n\n        if (currentCount === recommended) {\n            indicator.classList.add('at-capacity');\n            slot.classList.add('at-capacity');\n        } else if (currentCount > recommended) {\n            indicator.classList.add('over-capacity');\n            slot.classList.add('over-capacity');\n        }\n    }\n\n    movePlayerBetweenPositions(playerId, newPosition, teamId) {\n        // Find current position\n        const positions = ['gk', 'lb', 'cb', 'rb', 'lwb', 'rwb', 'cdm', 'cm', 'cam', 'lw', 'rw', 'st', 'bench'];\n        let currentPosition = null;\n        let playerData = null;\n\n        for (const pos of positions) {\n            const container = document.getElementById(`position-${pos}-${teamId}`);\n            const playerElement = container?.querySelector(`[data-player-id=\"${playerId}\"]`);\n            if (playerElement) {\n                currentPosition = pos;\n                playerData = {\n                    id: playerId,\n                    name: playerElement.getAttribute('data-player-name')\n                };\n                playerElement.remove();\n                break;\n            }\n        }\n\n        if (!playerData) {\n            this.showToast('Player not found', 'error');\n            return;\n        }\n\n        // Add to new position\n        this.addPlayerToPosition(playerData, newPosition, teamId, true);\n\n        this.showToast(`Moved ${playerData.name} to ${newPosition}`, 'success');\n    }\n\n    draftPlayerToPosition(playerId, position, teamId) {\n        // Get player data from available list\n        const playerItem = document.querySelector(`#availablePlayersList [data-player-id=\"${playerId}\"]`);\n        if (!playerItem) {\n            this.showToast('Player not found in available list', 'error');\n            return;\n        }\n\n        const playerName = playerItem.querySelector('.player-name').textContent;\n\n        // First, draft the player to the team via the regular draft system\n        if (this.socket && this.isConnected) {\n            this.showLoading();\n\n            this.socket.emit('draft_player_enhanced', {\n                player_id: parseInt(playerId),\n                team_id: parseInt(teamId),\n                league_name: this.leagueName,\n                position: position // Extra data for position\n            });\n        } else {\n            this.showToast('Not connected to server', 'error');\n        }\n    }\n\n    // Socket Event Handlers\n    handlePlayerDrafted(data) {\n        this.hideLoading();\n\n        // Add player to the specified position (default to bench if no position specified)\n        const position = data.position || 'bench';\n        this.addPlayerToPosition(data.player, position, data.team_id, false);\n\n        this.showToast(`${data.player.name} drafted to ${data.team_name}`, 'success');\n    }\n\n    handlePlayerRemoved(data) {\n        this.hideLoading();\n\n        // Remove from all positions in the team\n        this.removePlayerFromAllPositions(data.player.id, data.team_id);\n        this.updatePositionStats(data.team_id);\n        this.updateTeamCounts();\n\n        // Add player back to available list (real-time, no reload)\n        this.addPlayerToAvailableList(data.player);\n\n        this.showToast(`${data.player.name} removed from team`, 'info');\n    }\n\n    addPlayerToAvailableList(player) {\n        const availableList = document.getElementById('availablePlayersList');\n        if (!availableList) return;\n\n        // Check if player already exists in available list\n        if (availableList.querySelector(`[data-player-id=\"${player.id}\"]`)) {\n            return;\n        }\n\n        // Create player card HTML matching the template structure\n        const playerCard = document.createElement('div');\n        playerCard.className = 'pitch-player-card js-draggable-player';\n        playerCard.setAttribute('data-player-id', player.id);\n        playerCard.setAttribute('data-player-name', (player.name || '').toLowerCase());\n        playerCard.setAttribute('data-position', (player.favorite_position || player.position || '').toLowerCase());\n        playerCard.setAttribute('draggable', 'true');\n\n        const profileUrl = player.profile_picture_url || '/static/img/default_player.png';\n        const position = player.favorite_position || player.position || 'Any';\n        const goals = player.career_goals || 0;\n        const assists = player.career_assists || 0;\n\n        playerCard.innerHTML = `\n            <div class=\"pitch-player-card__avatar\">\n                <img src=\"${profileUrl}\"\n                     alt=\"${player.name}\" class=\"js-player-image\"\n                     data-fallback=\"/static/img/default_player.png\"\n                     onerror=\"this.src='/static/img/default_player.png'\">\n            </div>\n            <div class=\"pitch-player-card__content\">\n                <div class=\"pitch-player-card__header\">\n                    <span class=\"pitch-player-card__name\">${player.name}</span>\n                    <span class=\"pitch-player-card__position\">${position}</span>\n                </div>\n                <div class=\"pitch-player-card__stats\">\n                    <span class=\"pitch-player-card__stat pitch-player-card__stat--goals\" title=\"Goals\">\n                        <i class=\"ti ti-ball-football\"></i> ${goals}\n                    </span>\n                    <span class=\"pitch-player-card__stat pitch-player-card__stat--assists\" title=\"Assists\">\n                        <i class=\"ti ti-shoe\"></i> ${assists}\n                    </span>\n                </div>\n            </div>\n            <div class=\"pitch-player-card__drag-handle\">\n                <i class=\"ti ti-grip-vertical\"></i>\n            </div>\n        `;\n\n        // Add animation class for visual feedback\n        playerCard.classList.add('newly-added');\n\n        // Insert at beginning of list\n        availableList.insertBefore(playerCard, availableList.firstChild);\n\n        // Remove animation class after animation completes\n        setTimeout(() => {\n            playerCard.classList.remove('newly-added');\n        }, 500);\n\n        // Update count\n        this.updateAvailablePlayerCount();\n    }\n\n    handlePlayerPositionUpdated(data) {\n        // Handle position updates from other clients\n        this.addPlayerToPosition(data.player, data.position, data.team_id, false);\n    }\n\n    // Stats and UI Updates\n    updatePositionStats(teamId) {\n        // Position categories for the formation stats at bottom\n        const positionCategories = {\n            gk: ['gk'],\n            def: ['lb', 'cb', 'rb', 'lwb', 'rwb'],\n            mid: ['cdm', 'cm', 'cam'],\n            fwd: ['lw', 'rw', 'st'],\n            bench: ['bench']\n        };\n\n        // Update category counts (GK, DEF, MID, FWD, BENCH at bottom)\n        Object.entries(positionCategories).forEach(([category, positions]) => {\n            let totalCount = 0;\n            positions.forEach(pos => {\n                const container = document.getElementById(`position-${pos}-${teamId}`);\n                if (container) {\n                    totalCount += container.querySelectorAll('.positioned-player').length;\n                }\n            });\n\n            const countElement = document.getElementById(`${category}-count-${teamId}`);\n            if (countElement) {\n                countElement.textContent = totalCount;\n            }\n        });\n\n        // Update individual position zone counts (the (0) on each zone)\n        const allPositions = ['gk', 'lb', 'cb', 'rb', 'lwb', 'rwb', 'cdm', 'cm', 'cam', 'lw', 'rw', 'st', 'bench'];\n        allPositions.forEach(pos => {\n            const container = document.getElementById(`position-${pos}-${teamId}`);\n            if (container) {\n                const count = container.querySelectorAll('.positioned-player').length;\n                // Find the position-count span in the parent zone\n                const zone = container.closest('.position-zone');\n                if (zone) {\n                    const countSpan = zone.querySelector('.position-count');\n                    if (countSpan) {\n                        countSpan.textContent = `(${count})`;\n                    }\n                }\n            }\n        });\n    }\n\n    updateAllStats() {\n        this.teams.forEach(team => {\n            this.updatePositionStats(team.id);\n        });\n        this.updateTeamCounts();\n    }\n\n    updateTeamCounts() {\n        this.teams.forEach(team => {\n            const totalPlayers = this.getTotalPlayersInTeam(team.id);\n            const countElement = document.getElementById(`teamPitchCount${team.id}`);\n            if (countElement) {\n                countElement.textContent = totalPlayers;\n            }\n        });\n    }\n\n    getTotalPlayersInTeam(teamId) {\n        const positions = ['gk', 'lb', 'cb', 'rb', 'lwb', 'rwb', 'cdm', 'cm', 'cam', 'lw', 'rw', 'st', 'bench'];\n        return positions.reduce((total, position) => {\n            const container = document.getElementById(`position-${position}-${teamId}`);\n            return total + (container ? container.children.length : 0);\n        }, 0);\n    }\n\n    updateAvailablePlayerCount(count = null) {\n        if (count === null) {\n            const visiblePlayers = document.querySelectorAll('#availablePlayersList .player-item:not(.d-none)');\n            count = visiblePlayers.length;\n        }\n\n        const countElement = document.getElementById('availablePlayerCount');\n        if (countElement) {\n            countElement.textContent = count;\n        }\n    }\n\n    // UI Helpers\n    showLoading() {\n        const overlay = document.getElementById('loadingOverlay');\n        if (overlay) {\n            overlay.classList.remove('d-none');\n            overlay.classList.add('d-flex');\n        }\n    }\n\n    hideLoading() {\n        const overlay = document.getElementById('loadingOverlay');\n        if (overlay) {\n            overlay.classList.remove('d-flex');\n            overlay.classList.add('d-none');\n        }\n    }\n\n    showToast(message, type = 'info') {\n        if (window.Swal) {\n            const iconMap = {\n                'success': 'success',\n                'error': 'error',\n                'warning': 'warning',\n                'info': 'info'\n            };\n\n            Swal.fire({\n                title: message,\n                icon: iconMap[type] || 'info',\n                toast: true,\n                position: 'top-end',\n                showConfirmButton: false,\n                timer: 3000,\n                timerProgressBar: true\n            });\n        } else {\n            console.log(`${type.toUpperCase()}: ${message}`);\n        }\n    }\n}\n\n// Global instance\nlet pitchViewInstance = null;\n\n// Global initialization function\nfunction initializePitchView(leagueName, teams, draftedPlayersByTeam) {\n    pitchViewInstance = new PitchViewSystem(leagueName, teams, draftedPlayersByTeam);\n    return pitchViewInstance;\n}\n\n// Global functions for template compatibility\nfunction handlePlayerDragStart(event, playerId) {\n    if (pitchViewInstance) {\n        pitchViewInstance.handlePlayerDragStart(event, playerId);\n    }\n}\n\nfunction handlePlayerDragEnd(event) {\n    if (pitchViewInstance) {\n        pitchViewInstance.handlePlayerDragEnd(event);\n    }\n}\n\nfunction handlePositionDragOver(event) {\n    if (pitchViewInstance) {\n        pitchViewInstance.handlePositionDragOver(event);\n    }\n}\n\nfunction handlePositionDragLeave(event) {\n    if (pitchViewInstance) {\n        pitchViewInstance.handlePositionDragLeave(event);\n    }\n}\n\nfunction handlePositionDrop(event, position, teamId) {\n    if (pitchViewInstance) {\n        pitchViewInstance.handlePositionDrop(event, position, teamId);\n    }\n}\n\nfunction switchTeamView(teamId) {\n    // Switch to the team's tab\n    const tabButton = document.getElementById(`team-${teamId}-tab`);\n    if (tabButton) {\n        const tab = new bootstrap.Tab(tabButton);\n        tab.show();\n    }\n}\n\n// Export for module use\nif (typeof module !== 'undefined' && module.exports) {\n    module.exports = PitchViewSystem;\n}\n","/**\n * Application Initialization Registration\n * ========================================\n *\n * Central registration file for simple page components using InitSystem.\n * This file consolidates scattered DOMContentLoaded listeners into a single,\n * organized initialization system with proper dependency management and ordering.\n *\n * Priority Levels:\n * ----------------\n * - 100-90: Core systems (helpers, menu, responsive)\n * - 89-70:  Global components (theme, config, modals)\n * - 69-50:  Feature modules (forms, auth)\n * - 49-30:  Page-specific features\n * - 29-10:  Enhancements (UI fixes, animations)\n *\n * Phase 2.4 - Centralized Init System Completion\n * Batch 1: 7 components registered (waves-css-override removed - Waves.Effect not exposed)\n *\n * @version 1.0.2\n * @created 2025-12-16\n * @updated 2025-12-26 - Refactored to use EventDelegation for menu toggle\n *\n * Migration Summary:\n * -----------------\n *  page-loader.js (19 lines)  Priority 85\n *  admin-utilities-init.js (25 lines)  Priority 70\n *  waves-css-override.js - REMOVED (Waves.Effect is internal to node-waves, not exposed)\n *  design-system-fix.js (54 lines)  Priority 30\n *  design-system-override.js (49 lines)  Priority 30 (merged with design-system-fix)\n *  dropdown-menu-fix.js (20 lines)  Priority 30\n *  mobile-menu-fix.js (113 lines)  Priority 30\n *  waitlist-register.js (24 lines)  Priority 20\n *\n * Total: 7 active components\n *\n * Testing:\n * --------\n * In browser console:\n *   InitSystemDebug.printOrder()   - View initialization order\n *   InitSystemDebug.printStatus()  - View component status\n *   InitSystemDebug.getComponent('component-name') - Get component details\n *\n * HTMX Integration:\n * ----------------\n * Components marked as reinitializable can be re-initialized after AJAX loads:\n *   document.addEventListener('htmx:afterSwap', function(event) {\n *     InitSystem.reinit(['dropdown-menu-fix', 'admin-utilities'], event.target);\n *   });\n */\n\n(function(window, document) {\n    'use strict';\n\n    // Ensure InitSystem is loaded\n    if (typeof InitSystem === 'undefined') {\n        console.error('[App Init] InitSystem not loaded! Please include init-system.js before this file.');\n        return;\n    }\n\n    console.log('[App Init] Registering application components...');\n\n    // ============================================================================\n    // PRIORITY 85: PAGE LOADER\n    // ============================================================================\n    // Hide page loading animation after initial load\n    InitSystem.register('page-loader', function() {\n        // Hide loader after short delay to ensure smooth transition\n        setTimeout(function() {\n            const loader = document.getElementById('page-loader');\n            if (loader) {\n                loader.classList.add('hidden');\n                // Remove from DOM after fade animation completes\n                setTimeout(function() {\n                    if (loader.parentNode) {\n                        loader.parentNode.removeChild(loader);\n                    }\n                }, 500); // Match CSS transition duration\n            }\n        }, 800); // Minimum display time for UX\n    }, {\n        priority: 85,\n        description: 'Hide page loading animation',\n        reinitializable: false // Only runs once on initial page load\n    });\n\n    // ============================================================================\n    // PRIORITY 70: ADMIN UTILITIES\n    // ============================================================================\n    // Initialize admin utility helpers for progress bars and themed elements\n    InitSystem.register('admin-utilities', function(context) {\n        const root = context || document;\n\n        // Apply data-width to all progress bars\n        const progressBars = root.querySelectorAll('[data-width]');\n        progressBars.forEach(bar => {\n            const width = bar.dataset.width;\n            if (width) {\n                bar.style.width = width + '%';\n            }\n        });\n\n        // Apply data-theme-color to elements\n        const themedElements = root.querySelectorAll('[data-theme-color]');\n        themedElements.forEach(el => {\n            const color = el.dataset.themeColor;\n            if (color) {\n                el.style.backgroundColor = color;\n            }\n        });\n    }, {\n        priority: 70,\n        description: 'Initialize admin utility helpers (progress bars, theme colors)',\n        reinitializable: true // Can be re-initialized for AJAX-loaded content\n    });\n\n    // ============================================================================\n    // PRIORITY 30: UI FIXES AND ENHANCEMENTS\n    // ============================================================================\n\n    // ----------------------------------------------------------------------------\n    // Design System Fixes\n    // ----------------------------------------------------------------------------\n    // Fixes issues with design-system.js by safely overriding problematic methods\n    InitSystem.register('design-system-fixes', function() {\n        // Check if ECSDesignSystem exists\n        if (!window.ECSDesignSystem) {\n            return; // Design system not loaded, nothing to fix\n        }\n\n        // Store reference to original setupCustomBehaviors method\n        const originalSetupCustomBehaviors = ECSDesignSystem.setupCustomBehaviors;\n\n        // Replace with our safe version that handles errors gracefully\n        ECSDesignSystem.setupCustomBehaviors = function() {\n            try {\n                // Try to run the original implementation first\n                if (typeof originalSetupCustomBehaviors === 'function') {\n                    originalSetupCustomBehaviors.call(ECSDesignSystem);\n                }\n            } catch (e) {\n                // Original failed, use safe fallback implementation\n                console.warn('[Design System Fix] Original setupCustomBehaviors failed, using safe version', e);\n\n                // Safe implementation - call methods individually with error handling\n                try {\n                    if (typeof this.addRippleEffect === 'function') {\n                        this.addRippleEffect();\n                    }\n                } catch (e2) {\n                    console.warn('[Design System Fix] Error in addRippleEffect', e2);\n                }\n\n                try {\n                    if (typeof this.improveKeyboardNavigation === 'function') {\n                        this.improveKeyboardNavigation();\n                    }\n                } catch (e2) {\n                    console.warn('[Design System Fix] Error in improveKeyboardNavigation', e2);\n                }\n\n                try {\n                    if (typeof this.setupTransitions === 'function') {\n                        this.setupTransitions();\n                    }\n                } catch (e2) {\n                    console.warn('[Design System Fix] Error in setupTransitions', e2);\n                }\n            }\n        };\n\n        // Call the setup method after a delay to ensure DOM is ready\n        setTimeout(function() {\n            try {\n                ECSDesignSystem.setupCustomBehaviors();\n            } catch (e) {\n                console.error('[Design System Fix] Error in setupCustomBehaviors:', e);\n            }\n        }, 500);\n    }, {\n        priority: 30,\n        description: 'Apply design system CSS fixes and safe method overrides',\n        reinitializable: false // Only needs to run once\n    });\n\n    // ----------------------------------------------------------------------------\n    // Waves CSS Override - REMOVED\n    // ----------------------------------------------------------------------------\n    // Note: Waves.Effect is an internal API not exposed by node-waves.\n    // Ripple effects work via CSS classes applied by Waves.init() which is\n    // called in vendor/libs/node-waves/node-waves.js and assets/js/main.js.\n    // No override needed - just let the library work as designed.\n\n    // ----------------------------------------------------------------------------\n    // Dropdown Menu Fix\n    // ----------------------------------------------------------------------------\n    // Fixes dropdown menus being hidden behind tables\n    InitSystem.register('dropdown-menu-fix', function(context) {\n        const root = context || document;\n\n        // Add necessary class to tables to fix z-index issues\n        const userManagementTables = root.querySelectorAll('.table');\n        userManagementTables.forEach(table => {\n            table.classList.add('user-management-table');\n        });\n\n        // Add class to RSVP status page for specific fixes\n        if (window.location.href.includes('rsvp_status')) {\n            document.body.classList.add('rsvp-status-page');\n        }\n    }, {\n        priority: 30,\n        description: 'Fix dropdown menu positioning and z-index issues',\n        reinitializable: true // Can be re-initialized for AJAX-loaded tables\n    });\n\n    // ----------------------------------------------------------------------------\n    // Mobile Menu Fix\n    // ----------------------------------------------------------------------------\n    // Ensures sidebar menu works properly on mobile devices (especially iOS Safari)\n    InitSystem.register('mobile-menu-fix', function() {\n        // References to key elements\n        const layoutMenu = document.getElementById('layout-menu');\n        const closeIcon = document.getElementById('close-icon');\n        let layoutOverlay = document.querySelector('.layout-overlay');\n\n        // Create layout overlay if it doesn't exist\n        if (!layoutOverlay) {\n            const overlayDiv = document.createElement('div');\n            overlayDiv.className = 'layout-overlay';\n            document.body.appendChild(overlayDiv);\n            layoutOverlay = overlayDiv;\n        }\n\n        // Function to open menu\n        function openMenu() {\n            document.documentElement.classList.add('layout-menu-expanded');\n            document.body.classList.add('layout-menu-expanded');\n            if (layoutMenu) {\n                layoutMenu.classList.add('menu-open');\n            }\n            if (closeIcon) {\n                closeIcon.classList.remove('d-none');\n            }\n        }\n\n        // Function to close menu\n        function closeMenu() {\n            document.documentElement.classList.remove('layout-menu-expanded');\n            document.body.classList.remove('layout-menu-expanded');\n            if (layoutMenu) {\n                layoutMenu.classList.remove('menu-open');\n            }\n            if (closeIcon) {\n                closeIcon.classList.add('d-none');\n            }\n        }\n\n        // Toggle menu function\n        function toggleMenu() {\n            if (document.documentElement.classList.contains('layout-menu-expanded')) {\n                closeMenu();\n            } else {\n                openMenu();\n            }\n        }\n\n        // Register event delegation handler for menu toggle\n        if (typeof EventDelegation !== 'undefined') {\n            EventDelegation.register('toggle-mobile-menu', function(element, e) {\n                e.preventDefault();\n                toggleMenu();\n            }, { preventDefault: true });\n        }\n\n        // Register event delegation handler for close icon\n        if (typeof EventDelegation !== 'undefined') {\n            EventDelegation.register('close-mobile-menu', function(element, e) {\n                e.preventDefault();\n                closeMenu();\n            }, { preventDefault: true });\n        }\n\n        // Close when clicking the overlay (keep this as non-action click)\n        document.addEventListener('click', function(e) {\n            if (e.target.classList.contains('layout-overlay') &&\n                document.documentElement.classList.contains('layout-menu-expanded')) {\n                closeMenu();\n            }\n        });\n\n        // Fix for any inert attributes on menu items\n        const menuItems = document.querySelectorAll('.menu-item a');\n        menuItems.forEach(item => {\n            item.removeAttribute('inert');\n            item.classList.add('pointer-events-auto');\n        });\n\n        // Remove problematic attributes from the menu\n        if (layoutMenu) {\n            layoutMenu.removeAttribute('inert');\n            layoutMenu.classList.add('pointer-events-auto', 'user-select-auto', 'touch-action-auto');\n        }\n\n        // iOS specific fixes\n        const isIOS = /iPad|iPhone|iPod/.test(navigator.userAgent) ||\n                     (navigator.platform === 'MacIntel' && navigator.maxTouchPoints > 1);\n\n        if (isIOS) {\n            // Extra iOS fixes\n            document.documentElement.classList.add('ios-device');\n\n            // Fix scrolling in menu for iOS\n            if (layoutMenu) {\n                layoutMenu.classList.add('ios-overflow-scrolling');\n            }\n\n            // Additional handling for iOS gesture conflicts\n            const menuLinks = document.querySelectorAll('.menu-link, .menu-toggle');\n            menuLinks.forEach(link => {\n                link.addEventListener('touchstart', function(e) {\n                    // Ensure links are touchable\n                    e.stopPropagation();\n                }, { passive: true });\n            });\n        }\n    }, {\n        priority: 30,\n        description: 'Enhance mobile menu interactions and iOS compatibility',\n        reinitializable: false // Only needs to run once\n    });\n\n    // ============================================================================\n    // PRIORITY 20: WAITLIST REGISTRATION FOCUS\n    // ============================================================================\n    // Auto-focus on Discord registration button and show membership prompts\n    InitSystem.register('waitlist-register-focus', function() {\n        // Page guard - only run on waitlist registration page\n        const discordBtn = document.querySelector('a[href*=\"waitlist_discord_register\"]');\n        if (!discordBtn) {\n            return; // Not on waitlist registration page\n        }\n\n        // Auto-focus on Discord registration button\n        discordBtn.focus();\n\n        // Initialize Discord membership checker for registration page\n        // Show a more gentle prompt since they're already on the waitlist registration page\n        // Only show if user is not already in Discord (check via DiscordMembershipChecker)\n        if (typeof DiscordMembershipChecker !== 'undefined') {\n            // Check if user is already in Discord before showing prompt\n            const membershipStatus = window.discordMembershipStatus;\n            if (membershipStatus === true || membershipStatus === 'true') {\n                console.log('[waitlist-register-focus] User already in Discord, skipping prompt');\n                return;\n            }\n\n            setTimeout(() => {\n                DiscordMembershipChecker.showJoinPrompt({\n                    title: ' Pro Tip: Join Discord First!',\n                    urgency: 'info',\n                    showUrgentPopup: true\n                });\n            }, 2000); // Show after 2 seconds\n        }\n    }, {\n        priority: 20,\n        description: 'Auto-focus Discord registration button and show membership prompts',\n        reinitializable: false // Only runs on waitlist registration page\n    });\n\n    // ============================================================================\n    // REGISTRATION COMPLETE\n    // ============================================================================\n    console.log('[App Init]  7 components registered successfully');\n    console.log('[App Init] Run InitSystemDebug.printOrder() to view initialization order');\n\n})(window, document);\n","// report_match.js - Consolidated match reporting functionality\n\n/**\n * INLINE STYLE REFACTORING - DOCUMENTATION\n * =========================================\n * Refactored: 2025-12-15\n *\n * BEFORE: 3 inline style instances (template strings)\n * AFTER: 0 inline style instances\n * REDUCTION: 100% (3/3 removed)\n *\n * REMOVED INLINE STYLES:\n * 1. Line 1444: style=\"min-width: 200px\" on .select-own-goal-team\n *     Replaced with CSS class: .select-own-goal-team\n *     Defined in: /app/static/css/utilities/match-report-utils.css\n *\n * 2. Line 1448: style=\"max-width: 80px\" on .input-minute-compact\n *     Replaced with CSS class: .input-minute-compact\n *     Defined in: /app/static/css/utilities/match-report-utils.css\n *\n * 3. Line 877: modal.style.display = 'block'\n *     REPLACED with Bootstrap utility class: .d-block\n *     JUSTIFICATION: Manual modal fallback mechanism for when Bootstrap/jQuery unavailable\n *     CONTEXT: Used as last-resort fallback with classList operations\n *     IMPROVEMENT: More semantic, maintains consistency with project patterns\n *\n * PATTERN NOTES:\n * - All inline styles in HTML template strings replaced with CSS classes\n * - All JavaScript .style.* manipulations replaced with classList operations\n * - Maintains responsive behavior via media queries\n * - Preserves dark mode compatibility\n * - Uses Bootstrap utilities when available for consistency\n *\n * CSS UTILITIES CREATED:\n * - .select-own-goal-team: min-width: 200px (150px on mobile)\n * - .input-minute-compact: max-width: 80px (70px on mobile)\n *\n * BOOTSTRAP UTILITIES USED:\n * - .d-block: display: block (fallback modal display)\n */\n\n/**\n * MODAL CREATION STRATEGY - IMPORTANT DOCUMENTATION\n * =================================================\n *\n * Match report modals can be created via TWO mechanisms:\n *\n * 1. SERVER-SIDE RENDERING (Primary):\n *    - File: /app/templates/macros.html\n *    - Macro: render_report_match_modal(match, player_choices)\n *    - Used by: coach_dashboard.html, playoff_bracket_view.html, match_modals.html\n *    - Benefits: Faster initial page load, SEO-friendly, no flash of unstyled content\n *\n * 2. JAVASCRIPT DYNAMIC CREATION (Fallback):\n *    - Function: createDynamicModal(matchId, data) in this file (lines ~456-623)\n *    - Used when: Modal not found in DOM, AJAX modal loading required\n *    - Benefits: Enables single-page-app behavior, reduces initial HTML payload\n *\n * CRITICAL: Changes to modal structure MUST be made in BOTH locations:\n *    1. /app/templates/macros.html (render_report_match_modal macro)\n *    2. /app/static/custom_js/report_match.js (createDynamicModal function)\n *\n * Recent Changes (2025-12-10):\n *    - Button text standardized to \"Submit\" (was \"Submit Report\" / \"Save Changes\")\n *    - Footer buttons always visible (flexbox sticky footer)\n *    - Modal body is only scrollable area (header/footer stay fixed)\n *    - Z-index fixed to 9999 (was causing navbar overlap at 1050)\n *\n * Future Optimization:\n *    - Consider extracting modal HTML to separate template file\n *    - Use JavaScript template literals to import from single source\n *    - This would eliminate duplication and ensure consistency\n */\n\n// This ensures that all AJAX requests include the CSRF token\n$(document).ready(function () {\n    // Set up CSRF token for all AJAX requests\n    var csrftoken = $('input[name=\"csrf_token\"]').val();\n\n    $.ajaxSetup({\n        beforeSend: function (xhr, settings) {\n            if (!/^(GET|HEAD|OPTIONS|TRACE)$/i.test(settings.type) && !this.crossDomain) {\n                xhr.setRequestHeader(\"X-CSRFToken\", csrftoken);\n            }\n        }\n    });\n\n    // Initialize playerChoices if not defined\n    if (typeof window.playerChoices === 'undefined') {\n        window.playerChoices = {};\n    }\n    \n    // Setup edit match buttons when available\n    setupEditMatchButtons();\n});\n\n// Ensure the playerChoices object is available globally\nwindow.playerChoices = window.playerChoices || {};\n\n// Function to create player options grouped by team\nfunction createPlayerOptions(matchId) {\n    let options = '<option value=\"\" selected>Select a player</option>';\n    if (playerChoices[matchId]) {\n        for (const teamName in playerChoices[matchId]) {\n            options += `<optgroup label=\"${teamName}\">`;\n            for (const playerId in playerChoices[matchId][teamName]) {\n                options += `<option value=\"${playerId}\">${playerChoices[matchId][teamName][playerId]}</option>`;\n            }\n            options += `</optgroup>`;\n        }\n    }\n    return options;\n}\n\nfunction createTeamOptions(matchId) {\n    let options = '<option value=\"\" selected>Select a team</option>';\n    \n    // Try to get team info from stored match data\n    if (window.currentMatchData && window.currentMatchData.matchId == matchId) {\n        const homeTeamId = window.currentMatchData.home_team ? window.currentMatchData.home_team.id : null;\n        const awayTeamId = window.currentMatchData.away_team ? window.currentMatchData.away_team.id : null;\n        const homeTeamName = window.currentMatchData.home_team_name || 'Home Team';\n        const awayTeamName = window.currentMatchData.away_team_name || 'Away Team';\n        \n        if (homeTeamId) options += `<option value=\"${homeTeamId}\">${homeTeamName}</option>`;\n        if (awayTeamId) options += `<option value=\"${awayTeamId}\">${awayTeamName}</option>`;\n    } else {\n        // Fallback to window variables\n        const homeTeamName = window['homeTeamName_' + matchId] || 'Home Team';\n        const awayTeamName = window['awayTeamName_' + matchId] || 'Away Team';\n        const homeTeamId = window['homeTeamId_' + matchId];\n        const awayTeamId = window['awayTeamId_' + matchId];\n        \n        if (homeTeamId) options += `<option value=\"${homeTeamId}\">${homeTeamName}</option>`;\n        if (awayTeamId) options += `<option value=\"${awayTeamId}\">${awayTeamName}</option>`;\n    }\n    \n    return options;\n}\n\n// Function to get the container ID based on event type\nfunction getContainerId(eventType, matchId) {\n    let containerId;\n    if (eventType === 'goal_scorers') {\n        containerId = 'goalScorersContainer-' + matchId;\n    } else if (eventType === 'assist_providers') {\n        containerId = 'assistProvidersContainer-' + matchId;\n    } else if (eventType === 'yellow_cards') {\n        containerId = 'yellowCardsContainer-' + matchId;\n    } else if (eventType === 'red_cards') {\n        containerId = 'redCardsContainer-' + matchId;\n    } else if (eventType === 'own_goals') {\n        containerId = 'ownGoalsContainer-' + matchId;\n    }\n    return containerId;\n}\n\n// Function to collect stat IDs that have been marked for removal\nfunction collectRemovedStatIds(matchId, eventType) {\n    let containerId = getContainerId(eventType, matchId);\n    let baseName = containerId.split('Container-')[0];\n    let removedIds = [];\n    \n    // Map container base names to form field names\n    let formBaseName = baseName;\n    if (baseName === 'yellowCards') {\n        formBaseName = 'yellow_cards';\n    } else if (baseName === 'redCards') {\n        formBaseName = 'red_cards';\n    } else if (baseName === 'goalScorers') {\n        formBaseName = 'goalScorers';\n    } else if (baseName === 'assistProviders') {\n        formBaseName = 'assistProviders';\n    }\n\n    $(`#${containerId}`).find('.player-event-entry.to-be-removed').each(function () {\n        const statId = $(this).find(`input[name=\"${formBaseName}-stat_id[]\"]`).val();\n        if (statId && statId.trim() !== '') {\n            removedIds.push(statId);\n        }\n    });\n\n    return removedIds;\n}\n\n// Function to add a new event entry\nwindow.addEvent = function(matchId, containerId, statId = null, playerId = null, minute = null) {\n    var containerSelector = '#' + containerId;\n\n    // Generate a unique ID for the event if not provided\n    var uniqueId = statId ? String(statId) : 'new-' + Date.now() + '-' + Math.random();\n\n    // Get the base name for input fields\n    var baseName = containerId.split('Container-')[0];\n\n    // Determine visual indicator and styling based on event type\n    var eventIndicator = '';\n    var inputGroupClass = 'input-group mb-2 player-event-entry';\n    var formBaseName = baseName;\n\n    if (baseName === 'yellowCards') {\n        eventIndicator = '<span class=\"input-group-text card-indicator-yellow\"></span>';\n        inputGroupClass = 'input-group player-event-entry-compact player-event-entry';\n        formBaseName = 'yellow_cards';\n    } else if (baseName === 'redCards') {\n        eventIndicator = '<span class=\"input-group-text card-indicator-red\"></span>';\n        inputGroupClass = 'input-group player-event-entry-compact player-event-entry';\n        formBaseName = 'red_cards';\n    } else if (baseName === 'ownGoals') {\n        formBaseName = 'own_goals';\n    }\n\n    // Define the new input group with appropriate naming conventions and data attributes\n    var newInputGroup;\n    \n    if (baseName === 'ownGoals') {\n        // Special handling for own goals - use team selector instead of player selector\n        newInputGroup = `\n            <div class=\"${inputGroupClass}\" data-unique-id=\"${uniqueId}\">\n                ${eventIndicator}\n                <input type=\"hidden\" name=\"${formBaseName}-stat_id[]\" value=\"${statId ? statId : ''}\">\n                <select class=\"form-select select-player\" name=\"${formBaseName}-team_id[]\">\n                    ${createTeamOptions(matchId)}\n                </select>\n                <input type=\"text\" class=\"form-control input-minute\" name=\"${formBaseName}-minute[]\"\n                       placeholder=\"Min\"\n                       value=\"${minute ? minute : ''}\"\n                       pattern=\"^\\\\d{1,3}(\\\\+\\\\d{1,2})?$\"\n                       title=\"Enter a valid minute (e.g., '45' or '45+2')\">\n                <button class=\"btn btn-danger btn-sm\" type=\"button\" data-action=\"remove-event\"></button>\n            </div>\n        `;\n    } else {\n        // Standard event (goals, assists, cards)\n        newInputGroup = `\n            <div class=\"${inputGroupClass}\" data-unique-id=\"${uniqueId}\">\n                ${eventIndicator}\n                <input type=\"hidden\" name=\"${formBaseName}-stat_id[]\" value=\"${statId ? statId : ''}\">\n                <select class=\"form-select select-player\" name=\"${formBaseName}-player_id[]\">\n                    ${createPlayerOptions(matchId)}\n                </select>\n                <input type=\"text\" class=\"form-control input-minute\" name=\"${formBaseName}-minute[]\"\n                       placeholder=\"Min\"\n                       value=\"${minute ? minute : ''}\"\n                       pattern=\"^\\\\d{1,3}(\\\\+\\\\d{1,2})?$\"\n                       title=\"Enter a valid minute (e.g., '45' or '45+2')\">\n                <button class=\"btn btn-danger btn-sm\" type=\"button\" data-action=\"remove-event\"></button>\n            </div>\n        `;\n    }\n\n    // Append the new input group to the container\n    $(containerSelector).append(newInputGroup);\n\n    // Set the selected player if provided\n    if (playerId) {\n        const lastAddedEntry = $(containerSelector).children().last();\n        lastAddedEntry.find(`select[name=\"${formBaseName}-player_id[]\"]`).val(playerId);\n    }\n\n    // Re-initialize Feather icons if necessary\n    if (typeof feather !== 'undefined' && feather) {\n        if (typeof feather !== 'undefined') {\n            feather.replace();\n        }\n    }\n};\n\n// Function to remove an event entry\nwindow.removeEvent = function(button) {\n    // Handle cases where button might be undefined or null\n    if (!button) {\n        // removeEvent called with null or undefined button\n        return;\n    }\n\n    // Try multiple methods to find the parent element\n    let eventEntry = null;\n    let jQueryEntry = null;\n    \n    try {\n        // Method 1: DOM API with instanceof check\n        if (button instanceof Element) {\n            eventEntry = button.closest('.player-event-entry') || \n                         button.closest('.input-group');\n            \n            // If found, wrap in jQuery\n            if (eventEntry) {\n                jQueryEntry = $(eventEntry);\n            }\n        }\n        \n        // Method 2: Try jQuery if element wasn't found or button is jQuery object\n        if (!eventEntry || !jQueryEntry) {\n            // Convert to jQuery if not already\n            const $button = (button instanceof Element) ? $(button) : $(button);\n            jQueryEntry = $button.closest('.player-event-entry');\n            \n            // If still not found, try alternates\n            if (!jQueryEntry.length) {\n                jQueryEntry = $button.closest('.input-group');\n            }\n            \n            // If still not found, try extended selectors\n            if (!jQueryEntry.length) {\n                // Look up through ancestors for anything containing stat_id[] input\n                jQueryEntry = $button.parents().has('input[name$=\"-stat_id[]\"]').first();\n            }\n            \n            // Set DOM element reference if found with jQuery\n            if (jQueryEntry && jQueryEntry.length) {\n                eventEntry = jQueryEntry[0];\n            }\n        }\n        \n        // Last resort fallback - go up 3 parent levels\n        if ((!eventEntry || !jQueryEntry || !jQueryEntry.length) && button.parentNode) {\n            let parent = button.parentNode;\n            for (let i = 0; i < 3; i++) {\n                if (parent && (parent.classList.contains('player-event-entry') || \n                               parent.classList.contains('input-group'))) {\n                    eventEntry = parent;\n                    jQueryEntry = $(parent);\n                    break;\n                }\n                if (parent.parentNode) {\n                    parent = parent.parentNode;\n                } else {\n                    break;\n                }\n            }\n        }\n    } catch (e) {\n        // Error finding parent element\n    }\n\n    // If still not found, tell user and exit\n    if (!eventEntry || !jQueryEntry || !jQueryEntry.length) {\n        // Could not find identifiable element for removal\n        return; // Exit silently without showing error to user\n    }\n\n    // Get the unique ID from the data attribute\n    let uniqueId, statId;\n    try {\n        uniqueId = jQueryEntry.data('unique-id');\n        statId = jQueryEntry.find('input[name$=\"-stat_id[]\"]').val();\n    } catch (e) {\n        // Error getting data attributes\n    }\n\n    // Removing event\n\n    // Simple confirmation for mobile device (prevent accidental taps)\n    if (window.innerWidth < 768) {\n        // Mark as removed but keep in DOM until save (simplified for mobile)\n        jQueryEntry.addClass('to-be-removed');\n        jQueryEntry.hide();\n        \n        // Show a simple toast or notification if available\n        if (typeof Swal !== 'undefined') {\n            Swal.fire({\n                title: 'Removed',\n                icon: 'success',\n                toast: true,\n                position: 'top-end',\n                showConfirmButton: false,\n                timer: 1500\n            });\n        }\n    } else {\n        // Full confirmation dialog for desktop\n        Swal.fire({\n            title: 'Remove Event?',\n            text: \"Do you want to remove this event?\",\n            icon: 'question',\n            showCancelButton: true,\n            confirmButtonColor: (typeof ECSTheme !== 'undefined') ? ECSTheme.getColor('primary') : '#0d6efd',\n            cancelButtonColor: (typeof ECSTheme !== 'undefined') ? ECSTheme.getColor('danger') : '#dc3545',\n            confirmButtonText: 'Yes, remove it'\n        }).then((result) => {\n            if (result.isConfirmed) {\n                // Mark as removed but keep in DOM until save\n                jQueryEntry.addClass('to-be-removed');\n                jQueryEntry.hide();\n    \n                // Show a brief message\n                Swal.fire({\n                    title: 'Removed',\n                    text: 'Save your changes to apply',\n                    icon: 'success',\n                    timer: 1500,\n                    showConfirmButton: false\n                });\n            }\n        });\n    }\n};\n\n// Define initialEvents as an object to store initial events per matchId\nwindow.initialEvents = window.initialEvents || {};\n\n// Function to set up edit match buttons\nfunction setupEditMatchButtons() {\n    // Select all edit match buttons on the page\n    const editButtons = document.querySelectorAll('.edit-match-btn');\n\n    if (editButtons.length > 0) {\n        // Ensure buttons have data-action attribute for event delegation\n        editButtons.forEach(function(button) {\n            // Get the match ID\n            const matchId = button.getAttribute('data-match-id');\n            if (!matchId) {\n                // Edit button missing match ID\n                return;\n            }\n\n            // Add data-action attribute if not present\n            if (!button.hasAttribute('data-action')) {\n                button.setAttribute('data-action', 'edit-match-report');\n            }\n\n            // Ensure data-match-id is set (should already be there)\n            button.setAttribute('data-match-id', matchId);\n        });\n    }\n\n    // Event delegation will automatically handle clicks on these buttons\n    // No need to add individual event listeners\n}\n\n// Function to handle edit button clicks\nfunction handleEditButtonClick(matchId) {\n    // Edit button clicked for match\n    \n    // Show loading spinner\n    Swal.fire({\n        title: 'Loading...',\n        text: 'Fetching match data',\n        allowOutsideClick: false,\n        didOpen: () => {\n            Swal.showLoading();\n        }\n    });\n    \n    // Request match data \n    $.ajax({\n        url: `/teams/report_match/${matchId}`,\n        type: 'GET',\n        headers: {\n            'Accept': 'application/json'\n        },\n        timeout: 15000, // 15 second timeout\n        success: function(data) {\n            // Match data received\n            \n            // Store match data globally for access by other functions\n            window.currentMatchData = data;\n            window.currentMatchData.matchId = matchId;\n            \n            Swal.close();\n            \n            // Set up and display the modal\n            setupAndShowModal(matchId, data);\n        },\n        error: function(xhr, status, error) {\n            // Error fetching match data\n            \n            Swal.fire({\n                icon: 'error',\n                title: 'Error',\n                text: 'Failed to load match data. Please try again later.'\n            });\n        }\n    });\n}\n\n// Helper function to set up and show the modal\nfunction setupAndShowModal(matchId, data) {\n    // Find the modal\n    const modalId = `reportMatchModal-${matchId}`;\n    const modal = document.getElementById(modalId);\n    \n    // Debug logging for comparison\n    setTimeout(() => {\n        if (typeof debugModalStructure === 'function') {\n            debugModalStructure(modalId);\n        }\n    }, 200);\n    \n    if (!modal) {\n        // Modal not found, generating one dynamically\n        \n        // First try to load all modals\n        $.ajax({\n            url: '/modals/render_modals',\n            method: 'GET',\n            success: function(modalContent) {\n                // Append to the container if it exists, otherwise to body\n                const container = document.getElementById('reportMatchModal-container') || document.body;\n                $(container).append(modalContent);\n                // Modals loaded dynamically\n                \n                // Now try to find the modal again\n                const modalRecheck = document.getElementById(modalId);\n                if (modalRecheck) {\n                    populateModal(modalRecheck, data);\n                } else {\n                    // Still not found - create a new one just for this match\n                    createDynamicModal(matchId, data);\n                }\n            },\n            error: function() {\n                // Create a dynamic modal for just this match if loading all fails\n                createDynamicModal(matchId, data);\n            }\n        });\n    } else {\n        populateModal(modal, data);\n    }\n}\n\n// Function to create a dynamic modal for a specific match when needed\nfunction createDynamicModal(matchId, data) {\n    // Creating a dynamic modal for match\n    \n    // Create the container if it doesn't exist\n    let container = document.getElementById('reportMatchModal-container');\n    if (!container) {\n        container = document.createElement('div');\n        container.id = 'reportMatchModal-container';\n        container.className = 'modal-container';\n        document.body.appendChild(container);\n    }\n    \n    // Create a basic modal structure\n    const modalHtml = `\n    <div class=\"modal fade ecs-modal\" \n         id=\"reportMatchModal-${matchId}\" \n         tabindex=\"-1\" \n         role=\"dialog\"\n         aria-labelledby=\"reportMatchModalLabel-${matchId}\" \n         aria-hidden=\"true\"\n         data-bs-backdrop=\"static\">\n        <div class=\"modal-dialog modal-lg modal-dialog-centered ecs-modal-dialog ecs-modal-lg ecs-modal-dialog-centered\" role=\"document\">\n            <div class=\"modal-content ecs-modal-content\">\n                <!-- Modal Header -->\n                <div class=\"modal-header bg-primary text-white ecs-modal-header\">\n                    <h5 class=\"modal-title ecs-modal-title\" id=\"reportMatchModalLabel-${matchId}\">\n                        <i data-feather=\"edit\" class=\"me-2\"></i>\n                        ${'Edit' ? data.reported : 'Report'} Match: \n                        <span class=\"home-team-name\">${data.home_team_name || 'Home Team'}</span>\n                        vs\n                        <span class=\"away-team-name\">${data.away_team_name || 'Away Team'}</span>\n                    </h5>\n                    <button type=\"button\" \n                            class=\"btn-close btn-close-white ecs-modal-close\" \n                            data-bs-dismiss=\"modal\" \n                            aria-label=\"Close\"></button>\n                </div>\n\n                <!-- Modal Body -->\n                <form id=\"reportMatchForm-${matchId}\" class=\"report-match-form\" data-match-id=\"${matchId}\" action=\"/teams/report_match/${matchId}\" method=\"POST\" novalidate>\n                    <div class=\"modal-body ecs-modal-body\">\n                        <!-- CSRF Token -->\n                        <input type=\"hidden\" name=\"csrf_token\" value=\"${$('input[name=\"csrf_token\"]').val()}\">\n\n                        <!-- Home and Away Team Scores -->\n                        <div class=\"row mb-4\">\n                            <!-- Home Team Score -->\n                            <div class=\"col-md-6\">\n                                <div class=\"mb-3\">\n                                    <label for=\"home_team_score-${matchId}\" class=\"form-label\">${data.home_team_name || 'Home Team'} Score</label>\n                                    <input type=\"number\"\n                                           min=\"0\"\n                                           class=\"form-control\"\n                                           id=\"home_team_score-${matchId}\"\n                                           name=\"home_team_score\"\n                                           value=\"${data.home_team_score || 0}\"\n                                           required />\n                                </div>\n                            </div>\n                            <!-- Away Team Score -->\n                            <div class=\"col-md-6\">\n                                <div class=\"mb-3\">\n                                    <label for=\"away_team_score-${matchId}\" class=\"form-label\">${data.away_team_name || 'Away Team'} Score</label>\n                                    <input type=\"number\"\n                                           min=\"0\"\n                                           class=\"form-control\"\n                                           id=\"away_team_score-${matchId}\"\n                                           name=\"away_team_score\"\n                                           value=\"${data.away_team_score || 0}\"\n                                           required />\n                                </div>\n                            </div>\n                        </div>\n\n                        <!-- Goal Scorers -->\n                        <div class=\"mb-4\">\n                            <label class=\"form-label\">Goal Scorers</label>\n                            <div class=\"card p-3 border-1 shadow-sm\" data-section=\"goals\">\n                                <div id=\"goalScorersContainer-${matchId}\" class=\"mb-2\">\n                                    <!-- Goal scorers will be added here dynamically -->\n                                </div>\n                                <button class=\"btn btn-primary btn-sm\" type=\"button\" data-action=\"add-goal\" data-match-id=\"${matchId}\">\n                                    <i data-feather=\"plus\" class=\"me-1\"></i> Add Goal Scorer\n                                </button>\n                            </div>\n                        </div>\n\n                        <!-- Assist Providers -->\n                        <div class=\"mb-4\">\n                            <label class=\"form-label\">Assist Providers</label>\n                            <div class=\"card p-3 border-1 shadow-sm\" data-section=\"assists\">\n                                <div id=\"assistProvidersContainer-${matchId}\" class=\"mb-2\">\n                                    <!-- Assist providers will be added here dynamically -->\n                                </div>\n                                <button class=\"btn btn-primary btn-sm\" type=\"button\" data-action=\"add-assist\" data-match-id=\"${matchId}\">\n                                    <i data-feather=\"plus\" class=\"me-1\"></i> Add Assist Provider\n                                </button>\n                            </div>\n                        </div>\n\n                        <!-- Yellow Cards -->\n                        <div class=\"mb-4\">\n                            <label class=\"form-label\">Yellow Cards</label>\n                            <div class=\"card p-3 border-1 shadow-sm\" data-section=\"yellow-cards\">\n                                <div id=\"yellowCardsContainer-${matchId}\" class=\"mb-2\">\n                                    <!-- Yellow cards will be added here dynamically -->\n                                </div>\n                                <button class=\"btn btn-primary btn-sm\" type=\"button\" data-action=\"add-yellow-card\" data-match-id=\"${matchId}\">\n                                    <i data-feather=\"plus\" class=\"me-1\"></i> Add Yellow Card\n                                </button>\n                            </div>\n                        </div>\n\n                        <!-- Red Cards -->\n                        <div class=\"mb-4\">\n                            <label class=\"form-label\">Red Cards</label>\n                            <div class=\"card p-3 border-1 shadow-sm\" data-section=\"red-cards\">\n                                <div id=\"redCardsContainer-${matchId}\" class=\"mb-2\">\n                                    <!-- Red cards will be added here dynamically -->\n                                </div>\n                                <button class=\"btn btn-primary btn-sm\" type=\"button\" data-action=\"add-red-card\" data-match-id=\"${matchId}\">\n                                    <i data-feather=\"plus\" class=\"me-1\"></i> Add Red Card\n                                </button>\n                            </div>\n                        </div>\n\n                        <!-- Match Notes -->\n                        <div class=\"mb-4\">\n                            <label class=\"form-label\" for=\"match_notes-${matchId}\">Match Notes</label>\n                            <textarea class=\"form-control\" id=\"match_notes-${matchId}\" name=\"match_notes\" rows=\"3\">${data.notes || ''}</textarea>\n                        </div>\n                    </div>\n\n                    <!-- Modal Footer -->\n                    <div class=\"modal-footer ecs-modal-footer\">\n                        <button type=\"button\" class=\"btn btn-secondary\" data-bs-dismiss=\"modal\">Close</button>\n                        <button type=\"submit\" class=\"btn btn-primary\" id=\"submitBtn-${matchId}\">\n                            Submit\n                        </button>\n                    </div>\n                </form>\n            </div>\n        </div>\n    </div>`;\n    \n    // Add the modal to the container\n    container.insertAdjacentHTML('beforeend', modalHtml);\n    \n    // Now process the modal\n    const modal = document.getElementById(`reportMatchModal-${matchId}`);\n    if (modal) {\n        // Initialize feather icons if available\n        if (typeof feather !== 'undefined') {\n            if (typeof feather !== 'undefined') {\n            feather.replace();\n        }\n        }\n        \n        // Populate the modal with the data\n        populateModal(modal, data);\n    } else {\n        Swal.fire({\n            icon: 'error',\n            title: 'Error',\n            text: 'Failed to create the match modal. Please refresh the page and try again.'\n        });\n    }\n}\n\n// Function to populate the modal with match data\nfunction populateModal(modal, data) {\n    const matchId = data.id || modal.id.replace('reportMatchModal-', '');\n    \n    // Build player choices data structure for this match\n    if (!window.playerChoices) {\n        window.playerChoices = {};\n    }\n    \n    // Initialize player choices for this match\n    playerChoices[matchId] = {};\n    \n    // Add home team players\n    if (data.home_team && data.home_team.players) {\n        const homeTeamName = data.home_team.name || 'Home Team';\n        playerChoices[matchId][homeTeamName] = {};\n        data.home_team.players.forEach(player => {\n            playerChoices[matchId][homeTeamName][player.id] = player.name;\n        });\n    }\n    \n    // Add away team players\n    if (data.away_team && data.away_team.players) {\n        const awayTeamName = data.away_team.name || 'Away Team';\n        playerChoices[matchId][awayTeamName] = {};\n        data.away_team.players.forEach(player => {\n            playerChoices[matchId][awayTeamName][player.id] = player.name;\n        });\n    }\n    \n    // Check if player data is available\n    if (Object.keys(playerChoices[matchId]).length === 0) {\n        // No player data available for match\n        Swal.fire({\n            icon: 'error',\n            title: 'Error',\n            text: 'Match data is not loaded yet. Please try again in a moment.'\n        });\n        return;\n    }\n    \n    // Set values in the form\n    const homeScoreInput = modal.querySelector(`#home_team_score-${matchId}`);\n    const awayScoreInput = modal.querySelector(`#away_team_score-${matchId}`);\n    const notesInput = modal.querySelector(`#match_notes-${matchId}`);\n    \n    if (homeScoreInput) homeScoreInput.value = data.home_team_score != null ? data.home_team_score : 0;\n    if (awayScoreInput) awayScoreInput.value = data.away_team_score != null ? data.away_team_score : 0;\n    if (notesInput) notesInput.value = data.notes || '';\n    \n    // Update labels\n    const homeLabel = modal.querySelector(`label[for=\"home_team_score-${matchId}\"]`);\n    const awayLabel = modal.querySelector(`label[for=\"away_team_score-${matchId}\"]`);\n    \n    if (homeLabel) homeLabel.textContent = (data.home_team_name || 'Home Team') + ' Score';\n    if (awayLabel) awayLabel.textContent = (data.away_team_name || 'Away Team') + ' Score';\n    \n    // Update title\n    const modalTitle = modal.querySelector('.modal-title');\n    if (modalTitle) {\n        const homeTeamName = data.home_team_name || 'Home Team';\n        const awayTeamName = data.away_team_name || 'Away Team';\n        const reportType = data.reported ? 'Edit' : 'Report';\n        modalTitle.innerHTML = `<i data-feather=\"edit\" class=\"me-2\"></i>${reportType} Match: ${homeTeamName} vs ${awayTeamName}`;\n        \n        // Re-initialize Feather icons if available\n        if (typeof feather !== 'undefined') {\n            if (typeof feather !== 'undefined') {\n            feather.replace();\n        }\n        }\n    }\n    \n    // Clear event containers\n    const goalContainer = modal.querySelector(`#goalScorersContainer-${matchId}`);\n    const assistContainer = modal.querySelector(`#assistProvidersContainer-${matchId}`);\n    const yellowContainer = modal.querySelector(`#yellowCardsContainer-${matchId}`);\n    const redContainer = modal.querySelector(`#redCardsContainer-${matchId}`);\n    \n    if (goalContainer) goalContainer.innerHTML = '';\n    if (assistContainer) assistContainer.innerHTML = '';\n    if (yellowContainer) yellowContainer.innerHTML = '';\n    if (redContainer) redContainer.innerHTML = '';\n    \n    // Ensure initialEvents is defined\n    if (!window.initialEvents) {\n        window.initialEvents = {};\n    }\n    \n    // Initialize arrays if they don't exist in the data\n    const goal_scorers = data.goal_scorers || [];\n    const assist_providers = data.assist_providers || [];\n    const yellow_cards = data.yellow_cards || [];\n    const red_cards = data.red_cards || [];\n    const own_goals = data.own_goals || [];\n    \n    // Update initialEvents with default empty arrays if needed\n    initialEvents[matchId] = {\n        goals: goal_scorers.map(goal => ({\n            unique_id: String(goal.id),\n            stat_id: String(goal.id),\n            player_id: String(goal.player_id),\n            minute: goal.minute || null\n        })) || [],\n        assists: assist_providers.map(assist => ({\n            unique_id: String(assist.id),\n            stat_id: String(assist.id),\n            player_id: String(assist.player_id),\n            minute: assist.minute || null\n        })) || [],\n        yellowCards: yellow_cards.map(card => ({\n            unique_id: String(card.id),\n            stat_id: String(card.id),\n            player_id: String(card.player_id),\n            minute: card.minute || null\n        })) || [],\n        redCards: red_cards.map(card => ({\n            unique_id: String(card.id),\n            stat_id: String(card.id),\n            player_id: String(card.player_id),\n            minute: card.minute || null\n        })) || [],\n        ownGoals: own_goals.map(ownGoal => ({\n            unique_id: String(ownGoal.id),\n            stat_id: String(ownGoal.id),\n            team_id: String(ownGoal.team_id),\n            minute: ownGoal.minute || null\n        })) || []\n    };\n    \n    // Populate the modal with existing events\n    goal_scorers.forEach(function(goal) {\n        window.addEvent(matchId, 'goalScorersContainer-' + matchId, goal.id, goal.player_id, goal.minute);\n    });\n    \n    assist_providers.forEach(function(assist) {\n        window.addEvent(matchId, 'assistProvidersContainer-' + matchId, assist.id, assist.player_id, assist.minute);\n    });\n    \n    yellow_cards.forEach(function(yellow) {\n        window.addEvent(matchId, 'yellowCardsContainer-' + matchId, yellow.id, yellow.player_id, yellow.minute);\n    });\n    \n    red_cards.forEach(function(red) {\n        window.addEvent(matchId, 'redCardsContainer-' + matchId, red.id, red.player_id, red.minute);\n    });\n    \n    own_goals.forEach(function(ownGoal) {\n        window.addOwnGoalEvent(matchId, 'ownGoalsContainer-' + matchId, ownGoal.id, ownGoal.team_id, ownGoal.minute);\n    });\n    \n    // Add verification checkboxes if they're not already there\n    updateVerificationSection(modal, matchId, data);\n    \n    // Initialize and show the modal safely\n    try {\n        // Check if Bootstrap is available\n        if (typeof bootstrap !== 'undefined') {\n            // Look for existing modal instance and dispose it if needed\n            let existingModal = bootstrap.Modal.getInstance(modal);\n            if (existingModal) {\n                existingModal.dispose();\n            }\n            \n            // Create new modal instance with safety options\n            const bsModal = ModalManager.getInstance(modal.id, {\n                backdrop: 'static',\n                keyboard: false\n            });\n            \n            // Show the modal (wrap in small timeout to ensure DOM is ready)\n            setTimeout(() => {\n                try {\n                    bsModal.show();\n                } catch (err) {\n                    // Error showing modal\n                    // Fallback to jQuery\n                    $(modal).modal('show');\n                }\n            }, 50);\n        } else {\n            // Fallback to jQuery if available\n            if (typeof $ !== 'undefined' && typeof $.fn.modal !== 'undefined') {\n                $(modal).modal('show');\n            } else {\n                // Neither Bootstrap nor jQuery modal available\n                // Manual fallback - just show the modal\n                modal.classList.add('d-block', 'show');\n                document.body.classList.add('modal-open');\n\n                // Create backdrop\n                const backdrop = document.createElement('div');\n                backdrop.className = 'modal-backdrop fade show';\n                document.body.appendChild(backdrop);\n            }\n        }\n    } catch (error) {\n        // Error showing modal\n        // Last resort fallback\n        Swal.fire({\n            icon: 'error', \n            title: 'Error',\n            text: 'Could not show match edit form. Please refresh and try again.'\n        });\n    }\n}\n\n// Function to update or add the verification section to the modal\nfunction updateVerificationSection(modal, matchId, data) {\n    try {\n        // Updating verification section with data\n        \n        // Look for existing verification section, create if not found\n        let verificationSection = modal.querySelector(`#verificationSection-${matchId}`);\n        \n        if (!verificationSection) {\n            // Create verification section just before the Modal Footer\n            const modalBody = modal.querySelector('.modal-body');\n            \n            if (!modalBody) {\n                // Modal body not found\n                return;\n            }\n            \n            // Creating verification section\n            verificationSection = document.createElement('div');\n            verificationSection.id = `verificationSection-${matchId}`;\n            verificationSection.className = 'mb-4 verification-section border-top pt-4 mt-4';\n            modalBody.appendChild(verificationSection);\n        }\n        \n        // Get verification data from match data\n        const homeTeamVerified = data.home_team_verified || false;\n        const awayTeamVerified = data.away_team_verified || false;\n        \n        // Check if user can verify each team (from data API)\n        const canVerifyHome = data.can_verify_home || false;\n        const canVerifyAway = data.can_verify_away || false;\n        \n        // Verification status\n        \n        // Set up the HTML for the verification section\n        let verificationHTML = `\n            <h5 class=\"mb-3\">Match Verification</h5>\n            <div class=\"alert ${homeTeamVerified && awayTeamVerified ? 'alert-success' : 'alert-warning'} mb-3\" data-status=\"${homeTeamVerified && awayTeamVerified ? 'complete' : 'pending'}\">\n                <div class=\"d-flex align-items-center\">\n                    <i class=\"fa ${homeTeamVerified && awayTeamVerified ? 'fa-check-circle' : 'fa-exclamation-circle'} me-2 fs-3\"></i>\n                    <div>\n                        <p class=\"mb-0\">\n                            ${homeTeamVerified && awayTeamVerified\n                                ? 'This match has been verified by both teams.'\n                                : 'This match requires verification from both teams to be complete.'}\n                        </p>\n                    </div>\n                </div>\n            </div>\n\n            <div class=\"row\">\n                <div class=\"col-md-6\">\n                    <div class=\"card mb-2 ${homeTeamVerified ? 'border-success' : 'border-warning'}\" data-verification=\"home\" data-verified=\"${homeTeamVerified}\">\n                        <div class=\"card-body\">\n                            <h6 class=\"card-title d-flex align-items-center\">\n                                <i class=\"fa ${homeTeamVerified ? 'fa-check text-success' : 'fa-clock text-warning'} me-2\"></i>\n                                ${data.home_team_name || 'Home Team'}\n                            </h6>\n                            <p class=\"card-text small mb-2\">\n                                ${homeTeamVerified\n                                    ? `Verified by ${data.home_verifier || 'Unknown'}\n                                       ${data.home_team_verified_at ? 'on ' + new Date(data.home_team_verified_at).toLocaleString() : ''}`\n                                    : 'Not verified yet'}\n                            </p>\n                            ${!homeTeamVerified && canVerifyHome\n                                ? `<div class=\"form-check\">\n                                    <input class=\"form-check-input\" type=\"checkbox\" value=\"true\" id=\"verifyHomeTeam-${matchId}\" name=\"verify_home_team\" data-verification-input=\"home\">\n                                    <label class=\"form-check-label\" for=\"verifyHomeTeam-${matchId}\">\n                                        Verify for ${data.home_team_name || 'Home Team'}\n                                    </label>\n                                    <div class=\"text-muted small\">Check this box to verify the match results for your team</div>\n                                </div>`\n                                : ''}\n                        </div>\n                    </div>\n                </div>\n\n                <div class=\"col-md-6\">\n                    <div class=\"card mb-2 ${awayTeamVerified ? 'border-success' : 'border-warning'}\" data-verification=\"away\" data-verified=\"${awayTeamVerified}\">\n                        <div class=\"card-body\">\n                            <h6 class=\"card-title d-flex align-items-center\">\n                                <i class=\"fa ${awayTeamVerified ? 'fa-check text-success' : 'fa-clock text-warning'} me-2\"></i>\n                                ${data.away_team_name || 'Away Team'}\n                            </h6>\n                            <p class=\"card-text small mb-2\">\n                                ${awayTeamVerified\n                                    ? `Verified by ${data.away_verifier || 'Unknown'}\n                                       ${data.away_team_verified_at ? 'on ' + new Date(data.away_team_verified_at).toLocaleString() : ''}`\n                                    : 'Not verified yet'}\n                            </p>\n                            ${!awayTeamVerified && canVerifyAway\n                                ? `<div class=\"form-check\">\n                                    <input class=\"form-check-input\" type=\"checkbox\" value=\"true\" id=\"verifyAwayTeam-${matchId}\" name=\"verify_away_team\" data-verification-input=\"away\">\n                                    <label class=\"form-check-label\" for=\"verifyAwayTeam-${matchId}\">\n                                        Verify for ${data.away_team_name || 'Away Team'}\n                                    </label>\n                                    <div class=\"text-muted small\">Check this box to verify the match results for your team</div>\n                                </div>`\n                                : ''}\n                        </div>\n                    </div>\n                </div>\n            </div>\n        `;\n        \n        // Setting verification HTML\n        // Update the verification section HTML\n        verificationSection.innerHTML = verificationHTML;\n        \n        // Verification section updated successfully\n    } catch (error) {\n        // Error updating verification section\n    }\n}\n\n// Function to get final events from the form\nfunction getFinalEvents(matchId, eventType) {\n    let events = [];\n    let containerId = getContainerId(eventType, matchId);\n    let baseName = containerId.split('Container-')[0];\n    \n    // Map container base names to form field names\n    let formBaseName = baseName;\n    if (baseName === 'yellowCards') {\n        formBaseName = 'yellow_cards';\n    } else if (baseName === 'redCards') {\n        formBaseName = 'red_cards';\n    } else if (baseName === 'goalScorers') {\n        formBaseName = 'goalScorers';\n    } else if (baseName === 'assistProviders') {\n        formBaseName = 'assistProviders';\n    }\n\n    // Handle own goals differently since they use team_id instead of player_id\n    if (eventType === 'own_goals') {\n        $(`#${containerId}`).find('.own-goal-event-entry:not(.to-be-removed)').each(function () {\n            // Use 'own_goals' as the field name prefix (not 'ownGoals')\n            let statId = $(this).find(`input[name=\"own_goals-stat_id[]\"]`).val();\n            let teamId = $(this).find(`select[name=\"own_goals-team_id[]\"]`).val();\n            let minute = $(this).find(`input[name=\"own_goals-minute[]\"]`).val();\n            let uniqueId = $(this).attr('data-unique-id');\n            \n            if (teamId) {\n                events.push({\n                    stat_id: statId || '',\n                    team_id: teamId,\n                    minute: minute || '',\n                    unique_id: uniqueId\n                });\n            }\n        });\n    } else {\n        // Only get visible entries (exclude ones marked for removal)\n        $(`#${containerId}`).find('.player-event-entry:not(.to-be-removed)').each(function () {\n            let statId = $(this).find(`input[name=\"${formBaseName}-stat_id[]\"]`).val();\n            let playerId = $(this).find(`select[name=\"${formBaseName}-player_id[]\"]`).val();\n            let minute = $(this).find(`input[name=\"${formBaseName}-minute[]\"]`).val();\n            let uniqueId = $(this).attr('data-unique-id');\n\n        // Skip entries without player_id (which is required)\n        if (!playerId) {\n            // Skipping entry without player_id\n            return;\n        }\n\n        // Convert values to strings or null\n        statId = statId ? String(statId) : null;\n        playerId = playerId ? String(playerId) : null;\n        minute = minute ? String(minute) : null;\n\n            events.push({ unique_id: uniqueId, stat_id: statId, player_id: playerId, minute: minute });\n        });\n    }\n\n    // Final events\n    return events;\n}\n\n// Function to check if an event exists in an array\nfunction eventExists(event, eventsArray) {\n    // Special case - if element is marked for removal with to-be-removed class\n    if (event.element && event.element.classList && event.element.classList.contains('to-be-removed')) {\n        return false; // Treat as non-existent if marked for removal\n    }\n\n    // If both have stat_id, compare them (for existing events)\n    if (event.stat_id) {\n        return eventsArray.some(e => e.stat_id && String(e.stat_id) === String(event.stat_id));\n    }\n    // For new events or when comparing by unique_id\n    else if (event.unique_id) {\n        return eventsArray.some(e => String(e.unique_id) === String(event.unique_id));\n    }\n\n    // If we get here, we have no reliable way to compare - log this\n    // Event comparison failed - no stat_id or unique_id\n    return false;\n}\n\n// Function to send the AJAX request to update stats\nfunction reportMatchUpdateStats(matchId, goalsToAdd, goalsToRemove, assistsToAdd, assistsToRemove,\n    yellowCardsToAdd, yellowCardsToRemove, redCardsToAdd, redCardsToRemove, ownGoalsToAdd, ownGoalsToRemove) {\n    const homeTeamScore = $('#home_team_score-' + matchId).val();\n    const awayTeamScore = $('#away_team_score-' + matchId).val();\n    const notes = $('#match_notes-' + matchId).val();\n    \n    // Get the version for optimistic locking\n    const version = window.currentMatchData ? window.currentMatchData.version : null;\n    \n    // Get verification checkboxes status\n    const verifyHomeTeam = $(`#verifyHomeTeam-${matchId}`).is(':checked');\n    const verifyAwayTeam = $(`#verifyAwayTeam-${matchId}`).is(':checked');\n    \n    // Check if verification is required - only if user can verify a team and hasn't checked the box\n    const homeTeamCheckbox = $(`#verifyHomeTeam-${matchId}`);\n    const awayTeamCheckbox = $(`#verifyAwayTeam-${matchId}`);\n    \n    // Check if user can verify teams but hasn't checked the verification boxes\n    let missingVerifications = [];\n    if (homeTeamCheckbox.length > 0 && !verifyHomeTeam) {\n        const homeTeamName = window.currentMatchData ? window.currentMatchData.home_team_name : 'Home Team';\n        missingVerifications.push(homeTeamName);\n    }\n    if (awayTeamCheckbox.length > 0 && !verifyAwayTeam) {\n        const awayTeamName = window.currentMatchData ? window.currentMatchData.away_team_name : 'Away Team';\n        missingVerifications.push(awayTeamName);\n    }\n    \n    // Allow submission if no verification boxes are present (user can't verify any team)\n    // But if verification boxes are present, require at least one to be checked\n    if (missingVerifications.length > 0 && (homeTeamCheckbox.length > 0 || awayTeamCheckbox.length > 0)) {\n        // If user can verify but hasn't checked any boxes, require verification\n        if (!verifyHomeTeam && !verifyAwayTeam) {\n            Swal.fire({\n                icon: 'warning',\n                title: 'Verification Required',\n                text: `Please verify the match results for your team before submitting.`,\n                confirmButtonText: 'OK'\n            });\n            return; // Stop submission\n        }\n    }\n\n    $.ajax({\n        url: `/teams/report_match/${matchId}`,\n        method: 'POST',\n        contentType: 'application/json',\n        dataType: 'json',\n        data: JSON.stringify({\n            home_team_score: homeTeamScore,\n            away_team_score: awayTeamScore,\n            notes: notes,\n            goals_to_add: goalsToAdd,\n            goals_to_remove: goalsToRemove,\n            assists_to_add: assistsToAdd,\n            assists_to_remove: assistsToRemove,\n            yellow_cards_to_add: yellowCardsToAdd,\n            yellow_cards_to_remove: yellowCardsToRemove,\n            red_cards_to_add: redCardsToAdd,\n            red_cards_to_remove: redCardsToRemove,\n            own_goals_to_add: ownGoalsToAdd,\n            own_goals_to_remove: ownGoalsToRemove,\n            verify_home_team: verifyHomeTeam,\n            verify_away_team: verifyAwayTeam,\n            version: version\n        }),\n        success: function (response) {\n            if (response.success) {\n                // Determine message based on verification status\n                let successMessage = 'Your match report has been submitted successfully.';\n                \n                if (response.home_team_verified && response.away_team_verified) {\n                    successMessage = 'Match report submitted and fully verified by both teams.';\n                } else if (response.home_team_verified || response.away_team_verified) {\n                    successMessage = 'Match report submitted and verified by one team.';\n                    \n                    if (verifyHomeTeam || verifyAwayTeam) {\n                        successMessage += ' Thank you for verifying!';\n                    } else {\n                        successMessage += ' The other team still needs to verify.';\n                    }\n                }\n                \n                Swal.fire({\n                    icon: 'success',\n                    title: 'Success!',\n                    text: successMessage\n                }).then(() => {\n                    // Close the modal\n                    try {\n                        const modalElem = document.getElementById(`reportMatchModal-${matchId}`);\n                        if (modalElem) {\n                            const bsModal = bootstrap.Modal.getInstance(modalElem);\n                            if (bsModal) {\n                                bsModal.hide();\n                            } else {\n                                $(modalElem).modal('hide');\n                            }\n                        }\n                    } catch (e) {\n                        // Error closing modal\n                    }\n\n                    // Reload the page to reflect changes\n                    location.reload();\n                });\n            } else {\n                Swal.fire({\n                    icon: 'error',\n                    title: 'Error!',\n                    text: response.message || 'There was an error submitting your report.'\n                }).then(() => {\n                    $(`#submitBtn-${matchId}`).prop('disabled', false);\n                });\n            }\n        },\n        error: function (xhr, status, error) {\n            let errorMessage = 'An unexpected error occurred while submitting your report.';\n            let errorTitle = 'Error!';\n            let showRefreshOption = false;\n            \n            if (xhr.status === 409) {\n                // Version conflict\n                try {\n                    const response = JSON.parse(xhr.responseText);\n                    if (response.error_type === 'version_conflict') {\n                        errorTitle = 'Match Updated by Another User';\n                        errorMessage = 'This match was modified by another user while you were editing. Please refresh to get the latest data and try again.';\n                        showRefreshOption = true;\n                    }\n                } catch (e) {\n                    // Fallback to generic message\n                }\n            } else if (xhr.responseJSON && xhr.responseJSON.message) {\n                errorMessage = xhr.responseJSON.message;\n            }\n\n            const swalOptions = {\n                icon: 'warning',\n                title: errorTitle,\n                text: errorMessage\n            };\n            \n            if (showRefreshOption) {\n                swalOptions.showCancelButton = true;\n                swalOptions.confirmButtonText = 'Refresh Page';\n                swalOptions.cancelButtonText = 'Cancel';\n            }\n            \n            Swal.fire(swalOptions).then((result) => {\n                if (result.isConfirmed && showRefreshOption) {\n                    location.reload();\n                } else {\n                    $(`#submitBtn-${matchId}`).prop('disabled', false);\n                }\n            });\n        }\n    });\n}\n\n// Attach submit handler using event delegation\n$(document).on('submit', '.report-match-form', function (e) {\n    e.preventDefault();\n    e.stopPropagation();\n\n    var matchId = $(this).data('match-id');\n    // Submitting form for Match ID\n\n    // Ensure initialEvents is properly defined\n    if (typeof initialEvents === 'undefined') {\n        window.initialEvents = {};\n    }\n\n    // Initialize the match data if it doesn't exist\n    if (!initialEvents[matchId]) {\n        // Initializing empty data for match\n        initialEvents[matchId] = {\n            goals: [],\n            assists: [],\n            yellowCards: [],\n            redCards: [],\n            ownGoals: []\n        };\n    }\n\n    // Get final events (excludes items marked for removal)\n    let finalGoals = getFinalEvents(matchId, 'goal_scorers');\n    let finalAssists = getFinalEvents(matchId, 'assist_providers');\n    let finalYellowCards = getFinalEvents(matchId, 'yellow_cards');\n    let finalRedCards = getFinalEvents(matchId, 'red_cards');\n    let finalOwnGoals = getFinalEvents(matchId, 'own_goals');\n\n    // Get initial events (what was loaded from server)\n    let initialGoals = initialEvents[matchId].goals || [];\n    let initialAssists = initialEvents[matchId].assists || [];\n    let initialYellowCards = initialEvents[matchId].yellowCards || [];\n    let initialRedCards = initialEvents[matchId].redCards || [];\n    let initialOwnGoals = initialEvents[matchId].ownGoals || [];\n\n    // Also get any specifically removed events (those with to-be-removed class)\n    let removedGoalIds = collectRemovedStatIds(matchId, 'goal_scorers');\n    let removedAssistIds = collectRemovedStatIds(matchId, 'assist_providers');\n    let removedYellowCardIds = collectRemovedStatIds(matchId, 'yellow_cards');\n    let removedRedCardIds = collectRemovedStatIds(matchId, 'red_cards');\n    let removedOwnGoalIds = collectRemovedOwnGoalIds(matchId);\n\n    // Removed event IDs\n\n    // Events to add: in final but not in initial\n    let goalsToAdd = finalGoals.filter(goal => !eventExists(goal, initialGoals));\n    let assistsToAdd = finalAssists.filter(assist => !eventExists(assist, initialAssists));\n    let yellowCardsToAdd = finalYellowCards.filter(card => !eventExists(card, initialYellowCards));\n    let redCardsToAdd = finalRedCards.filter(card => !eventExists(card, initialRedCards));\n    let ownGoalsToAdd = finalOwnGoals.filter(ownGoal => !ownGoalExists(ownGoal, initialOwnGoals));\n\n    // Create events to remove directly from removed IDs\n    let goalsToRemove = [];\n    let assistsToRemove = [];\n    let yellowCardsToRemove = [];\n    let redCardsToRemove = [];\n    let ownGoalsToRemove = [];\n\n    // Add explicitly removed items (items with to-be-removed class)\n    if (removedYellowCardIds.length > 0) {\n        // Find the actual events from initialYellowCards based on IDs\n        removedYellowCardIds.forEach(id => {\n            const card = initialYellowCards.find(c => c.stat_id === id);\n            if (card) {\n                yellowCardsToRemove.push(card);\n            } else {\n                // If not found, create a minimal object with the ID\n                yellowCardsToRemove.push({ stat_id: id });\n            }\n        });\n    }\n\n    if (removedGoalIds.length > 0) {\n        removedGoalIds.forEach(id => {\n            const goal = initialGoals.find(g => g.stat_id === id);\n            if (goal) {\n                goalsToRemove.push(goal);\n            } else {\n                goalsToRemove.push({ stat_id: id });\n            }\n        });\n    }\n\n    if (removedAssistIds.length > 0) {\n        removedAssistIds.forEach(id => {\n            const assist = initialAssists.find(a => a.stat_id === id);\n            if (assist) {\n                assistsToRemove.push(assist);\n            } else {\n                assistsToRemove.push({ stat_id: id });\n            }\n        });\n    }\n\n    if (removedRedCardIds.length > 0) {\n        removedRedCardIds.forEach(id => {\n            const card = initialRedCards.find(c => c.stat_id === id);\n            if (card) {\n                redCardsToRemove.push(card);\n            } else {\n                redCardsToRemove.push({ stat_id: id });\n            }\n        });\n    }\n\n    if (removedOwnGoalIds.length > 0) {\n        removedOwnGoalIds.forEach(id => {\n            const ownGoal = initialOwnGoals.find(og => og.stat_id === id);\n            if (ownGoal) {\n                ownGoalsToRemove.push(ownGoal);\n            } else {\n                ownGoalsToRemove.push({ stat_id: id });\n            }\n        });\n    }\n\n    // Also add items that were in initial but missing from final (normal removal logic)\n    initialGoals.forEach(goal => {\n        if (!eventExists(goal, finalGoals) && !goalsToRemove.some(g => g.stat_id === goal.stat_id)) {\n            goalsToRemove.push(goal);\n        }\n    });\n\n    initialAssists.forEach(assist => {\n        if (!eventExists(assist, finalAssists) && !assistsToRemove.some(a => a.stat_id === assist.stat_id)) {\n            assistsToRemove.push(assist);\n        }\n    });\n\n    initialYellowCards.forEach(card => {\n        if (!eventExists(card, finalYellowCards) && !yellowCardsToRemove.some(c => c.stat_id === card.stat_id)) {\n            yellowCardsToRemove.push(card);\n        }\n    });\n\n    initialRedCards.forEach(card => {\n        if (!eventExists(card, finalRedCards) && !redCardsToRemove.some(c => c.stat_id === card.stat_id)) {\n            redCardsToRemove.push(card);\n        }\n    });\n\n    initialOwnGoals.forEach(ownGoal => {\n        if (!ownGoalExists(ownGoal, finalOwnGoals) && !ownGoalsToRemove.some(og => og.stat_id === ownGoal.stat_id)) {\n            ownGoalsToRemove.push(ownGoal);\n        }\n    });\n\n    // Events to add/remove\n\n    // Confirmation before submitting\n    Swal.fire({\n        title: 'Confirm Submission',\n        text: \"Are you sure you want to submit this match report?\",\n        icon: 'question',\n        showCancelButton: true,\n        confirmButtonColor: (typeof ECSTheme !== 'undefined') ? ECSTheme.getColor('primary') : '#0d6efd',\n        cancelButtonColor: (typeof ECSTheme !== 'undefined') ? ECSTheme.getColor('danger') : '#dc3545',\n        confirmButtonText: 'Yes, submit it!'\n    }).then((result) => {\n        if (result.isConfirmed) {\n            reportMatchUpdateStats(matchId, goalsToAdd, goalsToRemove, assistsToAdd, assistsToRemove, yellowCardsToAdd, yellowCardsToRemove, redCardsToAdd, redCardsToRemove, ownGoalsToAdd, ownGoalsToRemove);\n        }\n    });\n});\n\n// Function to add a new own goal event entry\nwindow.addOwnGoalEvent = function(matchId, containerId, statId = null, teamId = null, minute = null) {\n    var containerSelector = '#' + containerId;\n\n    // Generate a unique ID for the event if not provided\n    var uniqueId = statId ? String(statId) : 'new-' + Date.now() + '-' + Math.random();\n\n    // Get team names and IDs from the match data\n    // First try window variables (for team detail pages)\n    var homeTeamName = window['homeTeamName_' + matchId];\n    var awayTeamName = window['awayTeamName_' + matchId];\n    var homeTeamId = window['homeTeamId_' + matchId];\n    var awayTeamId = window['awayTeamId_' + matchId];\n    \n    // If not available, try to get from the modal's match data\n    if (!homeTeamName || !awayTeamName) {\n        // Look for the modal with this match ID to get team data\n        const modalSelector = '#reportMatchModal-' + matchId;\n        const modal = document.querySelector(modalSelector);\n        \n        if (modal) {\n            // Get team names from modal title or data attributes\n            const modalTitle = modal.querySelector('.modal-title');\n            if (modalTitle) {\n                const titleText = modalTitle.textContent;\n                // Parse \"Report Match: Team A vs Team B\" format\n                const vsMatch = titleText.match(/Match:\\s*(.+?)\\s+vs\\s+(.+)$/);\n                if (vsMatch) {\n                    homeTeamName = vsMatch[1].trim();\n                    awayTeamName = vsMatch[2].trim();\n                }\n            }\n        }\n        \n        // If still not found, try to get from the stored match data\n        if (window.currentMatchData && window.currentMatchData.matchId == matchId) {\n            homeTeamName = window.currentMatchData.home_team_name;\n            awayTeamName = window.currentMatchData.away_team_name;\n            homeTeamId = window.currentMatchData.home_team ? window.currentMatchData.home_team.id : null;\n            awayTeamId = window.currentMatchData.away_team ? window.currentMatchData.away_team.id : null;\n            \n            // Got team names from stored match data\n        }\n    }\n    \n    // Final fallback to generic names if team names still aren't available\n    if (!homeTeamName) homeTeamName = 'Home Team';\n    if (!awayTeamName) awayTeamName = 'Away Team';\n\n    // Define the new input group for own goals\n    var newInputGroup = `\n        <div class=\"input-group mb-2 player-event-entry\" data-unique-id=\"${uniqueId}\">\n            <input type=\"hidden\" name=\"own_goals-stat_id[]\" value=\"${statId ? statId : ''}\">\n            <select class=\"form-select select-own-goal-team\" name=\"own_goals-team_id[]\">\n                <option value=\"${homeTeamId}\"${teamId == homeTeamId ? ' selected' : ''}>${homeTeamName}</option>\n                <option value=\"${awayTeamId}\"${teamId == awayTeamId ? ' selected' : ''}>${awayTeamName}</option>\n            </select>\n            <input type=\"text\" class=\"form-control input-minute-compact\" name=\"own_goals-minute[]\"\n                   placeholder=\"Min\"\n                   value=\"${minute ? minute : ''}\"\n                   pattern=\"^\\\\d{1,3}(\\\\+\\\\d{1,2})?$\"\n                   title=\"Enter a valid minute (e.g., '45' or '45+2')\">\n            <button class=\"btn btn-danger btn-sm\" type=\"button\" data-action=\"remove-own-goal\"></button>\n        </div>\n    `;\n\n    // Append the new input group to the container\n    $(containerSelector).append(newInputGroup);\n\n    // Re-initialize Feather icons if necessary\n    if (typeof feather !== 'undefined' && feather) {\n        if (typeof feather !== 'undefined') {\n            feather.replace();\n        }\n    }\n};\n\n// Function to remove an own goal event entry\nwindow.removeOwnGoalEvent = function(button) {\n    // Handle cases where button might be undefined or null\n    if (!button) {\n        // removeOwnGoalEvent called with null or undefined button\n        return;\n    }\n\n    // Try multiple methods to find the parent element\n    let eventEntry = null;\n    let jQueryEntry = null;\n    \n    try {\n        // Method 1: DOM API with instanceof check\n        if (button instanceof Element) {\n            eventEntry = button.closest('.own-goal-event-entry') || \n                         button.closest('.input-group');\n            \n            // If found, wrap in jQuery\n            if (eventEntry) {\n                jQueryEntry = $(eventEntry);\n            }\n        }\n        \n        // Method 2: Try jQuery if element wasn't found or button is jQuery object\n        if (!eventEntry || !jQueryEntry) {\n            // Convert to jQuery if not already\n            const $button = (button instanceof Element) ? $(button) : $(button);\n            jQueryEntry = $button.closest('.own-goal-event-entry');\n            \n            // If still not found, try alternates\n            if (!jQueryEntry.length) {\n                jQueryEntry = $button.closest('.input-group');\n            }\n        }\n        \n    } catch (error) {\n        // Error in removeOwnGoalEvent\n        return;\n    }\n\n    // Check if we found a valid entry\n    if (!jQueryEntry || !jQueryEntry.length) {\n        // Could not find parent element for own goal event removal\n        return;\n    }\n\n    // Get the stat ID from the hidden input (if it exists)\n    const statIdInput = jQueryEntry.find('input[name=\"own_goals-stat_id[]\"]');\n    const statId = statIdInput.val();\n\n    if (statId && statId.trim() !== '' && !statId.startsWith('new-')) {\n        // This is an existing event, mark it for removal\n        jQueryEntry.addClass('to-be-removed').hide();\n    } else {\n        // This is a new event, remove it completely\n        jQueryEntry.remove();\n    }\n};\n\n// Function to collect removed own goal stat IDs\nfunction collectRemovedOwnGoalIds(matchId) {\n    let containerId = `ownGoalsContainer-${matchId}`;\n    let removedIds = [];\n\n    $(`#${containerId}`).find('.own-goal-event-entry.to-be-removed').each(function () {\n        const statId = $(this).find('input[name=\"own_goals-stat_id[]\"]').val();\n        if (statId && statId.trim() !== '') {\n            removedIds.push(statId);\n        }\n    });\n\n    return removedIds;\n}\n\n// Function to check if an own goal exists in a list\nfunction ownGoalExists(ownGoal, ownGoalList) {\n    return ownGoalList.some(og => {\n        // Check by stat_id if both have it\n        if (ownGoal.stat_id && og.stat_id) {\n            return ownGoal.stat_id === og.stat_id;\n        }\n        // Check by unique_id if both have it\n        if (ownGoal.unique_id && og.unique_id) {\n            return ownGoal.unique_id === og.unique_id;\n        }\n        // Check by team_id and minute as fallback\n        return ownGoal.team_id === og.team_id && ownGoal.minute === og.minute;\n    });\n}\n","/**\n * RSVP Unified Script - v2.1\n * This is a completely rewritten version of the RSVP page JavaScript\n * designed to be extremely stable and avoid any syntax errors.\n * \n * Updates in v2.1:\n * - Added fallback solutions for team selection in sub request modal\n * - Fixed issue with Pub League Coaches not being able to request subs\n */\n\n// Wait for DOM content to be fully loaded\ndocument.addEventListener('DOMContentLoaded', function() {\n  'use strict';\n  \n  // Hide page loader\n  setTimeout(function() {\n    var loader = document.getElementById('page-loader');\n    if (loader) {\n      loader.classList.add('hidden');\n      setTimeout(function() {\n        if (loader && loader.parentNode) {\n          loader.parentNode.removeChild(loader);\n        }\n      }, 500);\n    }\n  }, 800);\n  \n  // Load substitutes for the assign sub modal\n  if (document.getElementById('assignSubModalRSVP')) {\n    loadAvailableSubs();\n  }\n  \n  // Emergency fix for the request sub modal - ensure team options are available\n  if (document.getElementById('requestSubModal')) {\n    fixTeamOptions();\n  }\n  \n  // Setup Discord RSVP sync button\n  var syncDiscordButton = document.getElementById('syncDiscordButton');\n  if (syncDiscordButton) {\n    syncDiscordButton.addEventListener('click', function() {\n      // Change button to loading state\n      const originalText = syncDiscordButton.innerHTML;\n      syncDiscordButton.disabled = true;\n      syncDiscordButton.innerHTML = '<i class=\"ti ti-loader ti-spin me-1\"></i> Syncing...';\n      \n      // Get CSRF token from meta tag or hidden input\n      const csrfToken = document.querySelector('meta[name=\"csrf-token\"]')?.getAttribute('content') || \n                         document.querySelector('input[name=\"csrf_token\"]')?.value || '';\n      \n      // Call the API endpoint to force a sync\n      fetch('/api/force_discord_sync', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          'X-Requested-With': 'XMLHttpRequest',\n          'X-CSRFToken': csrfToken\n        }\n      })\n      .then(response => response.json())\n      .then(data => {\n        // Reset button state\n        syncDiscordButton.disabled = false;\n        syncDiscordButton.innerHTML = originalText;\n        \n        // Show appropriate notification\n        if (data.success) {\n          if (window.toastr) {\n            toastr.success('RSVP synchronization with Discord has been triggered.', 'Sync Started');\n          } else if (window.Swal) {\n            Swal.fire({\n              title: 'Success!',\n              text: 'RSVP synchronization with Discord has been triggered.',\n              icon: 'success',\n              timer: 3000,\n              showConfirmButton: false\n            });\n          } else {\n            alert('RSVP synchronization with Discord has been triggered.');\n          }\n        } else {\n          if (window.toastr) {\n            toastr.error(data.message || 'An error occurred syncing with Discord.', 'Sync Failed');\n          } else if (window.Swal) {\n            Swal.fire({\n              title: 'Sync Failed',\n              text: data.message || 'An error occurred syncing with Discord.',\n              icon: 'error'\n            });\n          } else {\n            alert('Sync Failed: ' + (data.message || 'An error occurred syncing with Discord.'));\n          }\n        }\n      })\n      .catch(error => {\n        // Error syncing with Discord\n        \n        // Reset button state\n        syncDiscordButton.disabled = false;\n        syncDiscordButton.innerHTML = originalText;\n        \n        // Show error notification\n        if (window.toastr) {\n          toastr.error('Could not connect to the Discord sync service.', 'Connection Error');\n        } else if (window.Swal) {\n          Swal.fire({\n            title: 'Connection Error',\n            text: 'Could not connect to the Discord sync service.',\n            icon: 'error'\n          });\n        } else {\n          alert('Connection Error: Could not connect to the Discord sync service.');\n        }\n      });\n    });\n  }\n  \n  // Initialize when jQuery is ready\n  if (window.jQuery) {\n    jQuery(function($) {\n      try {\n        // Toastr configuration\n        if (window.toastr) {\n          toastr.options = {\n            closeButton: true,\n            newestOnTop: true,\n            progressBar: true,\n            positionClass: \"toast-top-right\",\n            timeOut: 5000\n          };\n        }\n        \n        // Initialize tooltips\n        if (window.bootstrap) {\n          var tooltipElements = document.querySelectorAll('[data-bs-toggle=\"tooltip\"]');\n          for (var i = 0; i < tooltipElements.length; i++) {\n            new bootstrap.Tooltip(tooltipElements[i]);\n          }\n        }\n        \n        // Initialize DataTables\n        if ($.fn.DataTable) {\n          // Simple table options without complex structures\n          var tableOptions = {\n            responsive: true,\n            pageLength: 10,\n            lengthMenu: [5, 10, 25, 50],\n            language: {\n              search: \"\",\n              searchPlaceholder: \"Search players...\"\n            },\n            drawCallback: function() {\n              // Rebind event handlers to rows after DataTable redraws\n              bindEventHandlers();\n              fixDropdownsAndOverflow();\n              // FORCE REMOVE DEFAULT DATATABLES ARROWS\n              removeDataTablesArrows();\n            }\n          };\n          \n          // Initialize each table\n          if ($('#rsvpStatusTable').length) {\n            $('#rsvpStatusTable').DataTable(tableOptions);\n          }\n          \n          if ($('#homeTeamTable').length) {\n            $('#homeTeamTable').DataTable(tableOptions);\n          }\n          \n          if ($('#awayTeamTable').length) {\n            $('#awayTeamTable').DataTable(tableOptions);\n          }\n          \n          // FORCE REMOVE DATATABLES ARROWS AFTER INITIALIZATION\n          setTimeout(function() {\n            removeDataTablesArrows();\n          }, 100);\n          \n          // Style improvements\n          $('[data-datatable=\"filter\"] input').removeClass('form-control-sm').addClass('rounded-pill');\n          $('[data-datatable=\"length\"] select').removeClass('form-select-sm').addClass('rounded-pill');\n        }\n        \n        // Fix z-index and overflow issues\n        fixDropdownsAndOverflow();\n        \n        // Bind event handlers\n        bindEventHandlers();\n        \n        // Fix tabs\n        bindTabHandlers();\n\n      } catch (e) {\n        // console.error(\"Error initializing RSVP page:\", e);\n      }\n    });\n  }\n\n  // Apply DataTables arrow fix after initialization\n  setTimeout(function() {\n    removeDataTablesArrows();\n  }, 1000);\n});\n\n/**\n * Fix dropdown menu z-index and container overflow issues\n *\n * REFACTORED APPROACH:\n * ====================\n * Previously used inline styles to fix DataTables dropdown clipping.\n * Now uses CSS utility classes from /static/css/utilities/datatable-utils.css\n *\n * CSS classes applied:\n * - .dt-dropdown: Sets z-index: 9999 and position: absolute on dropdown menus\n * - .dt-container-visible: Sets overflow: visible and position: relative on containers\n *\n * Benefits of CSS approach:\n * - No repeated style manipulation after each DataTable redraw\n * - Better performance (CSS declarations vs JavaScript DOM manipulation)\n * - More maintainable and declarative\n * - Works even if JavaScript is delayed or fails\n * - Uses !important to override DataTables inline styles\n *\n * Note: This function now only adds CSS classes instead of manipulating styles directly.\n * The heavy lifting is done by CSS, which is more performant and maintainable.\n */\nfunction fixDropdownsAndOverflow() {\n  try {\n    // Add utility classes to dropdown menus (exclude navbar dropdowns)\n    var dropdowns = document.querySelectorAll('[data-dropdown]:not(.c-navbar-modern__actions [data-dropdown])');\n    for (var i = 0; i < dropdowns.length; i++) {\n      dropdowns[i].classList.add('dt-dropdown');\n    }\n\n    // Add utility classes to containers\n    var containers = document.querySelectorAll('[data-container=\"table\"], [data-container=\"card\"], [data-container=\"tab\"], div.dataTables_wrapper');\n    for (var j = 0; j < containers.length; j++) {\n      containers[j].classList.add('dt-container-visible');\n    }\n  } catch (e) {\n    // console.error(\"Error fixing dropdowns:\", e);\n  }\n}\n\n/**\n * Format phone number for display\n */\nfunction formatPhoneNumber(phoneNumber) {\n  if (!phoneNumber) return '';\n  \n  var cleaned = ('' + phoneNumber).replace(/\\D/g, '');\n  \n  // Format for international numbers\n  var match = cleaned.match(/^(\\d{1})(\\d{3})(\\d{3})(\\d{4})$/);\n  if (match) {\n    return '+' + match[1] + ' (' + match[2] + ') ' + match[3] + '-' + match[4];\n  }\n  \n  // Format for US numbers\n  var match2 = cleaned.match(/^(\\d{3})(\\d{3})(\\d{4})$/);\n  if (match2) {\n    return '(' + match2[1] + ') ' + match2[2] + '-' + match2[3];\n  }\n  \n  return phoneNumber;\n}\n\n/**\n * Bind all event handlers for the page\n */\nfunction bindEventHandlers() {\n  try {\n    // Using jQuery with defensive programming\n    if (window.jQuery) {\n      var $ = window.jQuery;\n      \n      // Initialize tooltips\n      if (window.bootstrap) {\n        var tooltipTriggerList = [].slice.call(document.querySelectorAll('[data-bs-toggle=\"tooltip\"]'));\n        tooltipTriggerList.map(function(tooltipTriggerEl) {\n            return new bootstrap.Tooltip(tooltipTriggerEl, {\n                delay: { show: 200, hide: 100 }\n            });\n        });\n      }\n      \n      // SMS Modal handling - REMOVED\n      // Now handled by event delegation via data-action=\"rsvp-request-sms\"\n      // Event delegation will call the handler registered in event-delegation.js\n      // $('.send-sms-btn').on('click', function() { ... });\n      \n      // Discord DM Modal handling - REMOVED\n      // Now handled by event delegation via data-action=\"rsvp-request-discord-dm\"\n      // Event delegation will call the handler registered in event-delegation.js\n      // $('.send-discord-dm-btn').on('click', function() { ... });\n      \n      // RSVP Update handling - REMOVED\n      // Now handled by event delegation via data-action=\"rsvp-update-status\"\n      // Event delegation will call the updateRSVPStatus function in event-delegation.js\n      // $('.update-rsvp-btn').on('click', function() { ... });\n      \n      // Character counting for SMS\n      $('#smsMessage').on('input', function() {\n        try {\n          var charCount = $(this).val().length;\n          $('#smsCharCount').text(charCount);\n          \n          if (charCount > 160) {\n            $('#smsCharCount').addClass('text-danger fw-bold');\n          } else {\n            $('#smsCharCount').removeClass('text-danger fw-bold');\n          }\n        } catch (e) {\n          // console.error(\"Error counting SMS characters:\", e);\n        }\n      });\n      \n      // Character counting for Discord\n      $('#discordMessage').on('input', function() {\n        try {\n          var charCount = $(this).val().length;\n          $('#discordCharCount').text(charCount);\n          \n          if (charCount > 2000) {\n            $('#discordCharCount').addClass('text-danger fw-bold');\n          } else {\n            $('#discordCharCount').removeClass('text-danger fw-bold');\n          }\n        } catch (e) {\n          // console.error(\"Error counting Discord characters:\", e);\n        }\n      });\n      \n      // Form submission handlers for SMS\n      $('#sendSmsForm').on('submit', function(e) {\n        e.preventDefault();\n        \n        try {\n          var charCount = $('#smsMessage').val().length;\n          if (charCount > 160) {\n            if (window.toastr) {\n              toastr.warning('Your message exceeds the 160 character limit for SMS. Please shorten your message.');\n            }\n            return false;\n          }\n          \n          var formData = new FormData(this);\n          var submitBtn = $(this).find('button[type=\"submit\"]');\n          var originalText = submitBtn.html();\n          \n          submitBtn.prop('disabled', true).html('<i class=\"ti ti-loader ti-spin me-1\"></i>Sending...');\n          \n          fetch(this.action, {\n            method: 'POST',\n            body: formData,\n            headers: {\n              'X-Requested-With': 'XMLHttpRequest'\n            }\n          })\n          .then(function(response) { \n            return response.json(); \n          })\n          .then(function(data) {\n            if (data.success) {\n              if (window.toastr) {\n                toastr.success('SMS sent successfully.');\n              }\n              var smsModal = document.querySelector('[data-modal=\"send-sms\"]');\n              if (window.bootstrap && smsModal) {\n                bootstrap.Modal.getInstance(smsModal).hide();\n              }\n            } else {\n              if (window.toastr) {\n                toastr.error(data.message || 'Error sending SMS.');\n              }\n            }\n          })\n          .catch(function(error) {\n            // console.error('Error:', error);\n            if (window.toastr) {\n              toastr.error('An error occurred while sending SMS.');\n            }\n          })\n          .finally(function() {\n            submitBtn.prop('disabled', false).html(originalText);\n          });\n        } catch (e) {\n          // console.error(\"Error sending SMS:\", e);\n        }\n      });\n      \n      // Form submission handlers for Discord DM\n      $('#sendDiscordDmForm').on('submit', function(e) {\n        e.preventDefault();\n        \n        try {\n          var charCount = $('#discordMessage').val().length;\n          if (charCount > 2000) {\n            if (window.toastr) {\n              toastr.warning('Your message exceeds the 2000 character limit for Discord. Please shorten your message.');\n            }\n            return false;\n          }\n          \n          var formData = new FormData(this);\n          var submitBtn = $(this).find('button[type=\"submit\"]');\n          var originalText = submitBtn.html();\n          \n          submitBtn.prop('disabled', true).html('<i class=\"ti ti-loader ti-spin me-1\"></i>Sending...');\n          \n          fetch(this.action, {\n            method: 'POST',\n            body: formData,\n            headers: {\n              'X-Requested-With': 'XMLHttpRequest'\n            }\n          })\n          .then(function(response) { \n            return response.json(); \n          })\n          .then(function(data) {\n            if (data.success) {\n              if (window.toastr) {\n                toastr.success('Discord DM sent successfully.');\n              }\n              var discordModal = document.querySelector('[data-modal=\"send-discord-dm\"]');\n              if (window.bootstrap && discordModal) {\n                bootstrap.Modal.getInstance(discordModal).hide();\n              }\n            } else {\n              if (window.toastr) {\n                toastr.error(data.message || 'Error sending Discord DM.');\n              }\n            }\n          })\n          .catch(function(error) {\n            // console.error('Error:', error);\n            if (window.toastr) {\n              toastr.error('An error occurred while sending Discord DM.');\n            }\n          })\n          .finally(function() {\n            submitBtn.prop('disabled', false).html(originalText);\n          });\n        } catch (e) {\n          // console.error(\"Error sending Discord DM:\", e);\n        }\n      });\n    }\n  } catch (e) {\n    // console.error(\"Global error in bindEventHandlers:\", e);\n  }\n}\n\n/**\n * Bind tab event handlers\n */\nfunction bindTabHandlers() {\n  try {\n    if (window.jQuery) {\n      var $ = window.jQuery;\n      \n      // Handle tab switching\n      $('a[data-bs-toggle=\"tab\"]').on('shown.bs.tab', function() {\n        // Fix overflow issues\n        fixDropdownsAndOverflow();\n        \n        // Adjust DataTables\n        if ($.fn.dataTable) {\n          $.fn.dataTable.tables({ visible: true, api: true }).columns.adjust();\n        }\n      });\n    }\n  } catch (e) {\n    // console.error(\"Error binding tab handlers:\", e);\n  }\n}\n\n/**\n * Load available substitutes for the assign sub modal\n */\nfunction loadAvailableSubs() {\n  try {\n    if (window.jQuery) {\n      var $ = window.jQuery;\n      \n      // Check if the assign sub modal exists\n      if ($('#assignSubModalRSVP').length === 0) {\n        return;\n      }\n      \n      // When the modal is shown, fetch substitute responses\n      $('#assignSubModalRSVP').on('shown.bs.modal', function() {\n        var subPlayerSelect = $('#subPlayerRSVP');\n        \n        // Clear existing options except the default\n        subPlayerSelect.find('option:not(:first)').remove();\n        subPlayerSelect.append('<option value=\"loading\" disabled>Loading substitute responses...</option>');\n        \n        // Determine match type and ID from the form\n        var matchIdValue = $('input[name=\"match_id\"]').val();\n        var matchType, matchId;\n        \n        if (matchIdValue.startsWith('ecs_')) {\n          matchType = 'ecs';\n          matchId = matchIdValue.substring(4); // Remove 'ecs_' prefix\n        } else {\n          matchType = 'regular';\n          matchId = matchIdValue;\n        }\n        \n        // Fetch substitute responses with color coding\n        fetch(`/api/substitute-pools/responses/${matchType}/${matchId}`)\n          .then(response => {\n            if (!response.ok) {\n              throw new Error('Network response was not ok');\n            }\n            return response.json();\n          })\n          .then(data => {\n            // Clear loading option\n            subPlayerSelect.find('option[value=\"loading\"]').remove();\n            \n            if (data.success && data.substitutes && data.substitutes.length > 0) {\n              // Update form text to show response status\n              if (data.has_responses) {\n                $('.form-text').html('<i class=\"ti ti-info-circle me-1\"></i> <span class=\"text-success\">Green = Available</span>, <span class=\"text-muted\">Gray = No Response</span>, <span class=\"text-danger\">Red = Not Available</span>');\n              }\n              \n              // Add substitutes to select with color coding\n              data.substitutes.forEach(function(sub) {\n                var option = new Option(sub.name, sub.id);\n                \n                // Add CSS classes for color coding\n                if (sub.response_status === 'available') {\n                  option.className = 'text-success fw-bold';\n                  option.textContent = ` ${sub.name}`;\n                } else if (sub.response_status === 'not_available') {\n                  option.className = 'text-danger';\n                  option.textContent = ` ${sub.name}`;\n                } else {\n                  option.className = 'text-muted';\n                  option.textContent = `- ${sub.name}`;\n                }\n                \n                subPlayerSelect.append(option);\n              });\n            } else {\n              subPlayerSelect.append('<option value=\"\" disabled>No substitutes found</option>');\n            }\n          })\n          .catch(error => {\n            console.error('Error fetching substitute responses:', error);\n            subPlayerSelect.find('option[value=\"loading\"]').remove();\n            subPlayerSelect.append('<option value=\"\" disabled>Error loading substitutes</option>');\n            \n            // Show error toast if toastr is available\n            if (window.toastr) {\n              toastr.error('Failed to load substitute responses. Please try again.');\n            }\n          });\n      });\n      \n      // Handle form submission for assigning subs\n      $('#assignSubFormRSVP').on('submit', function(e) {\n        e.preventDefault();\n        \n        var formData = new FormData(this);\n        var submitBtn = $(this).find('button[type=\"submit\"]');\n        var originalText = submitBtn.html();\n        \n        // Disable button and show loading\n        submitBtn.prop('disabled', true).html('<span class=\"spinner-border spinner-border-sm\" role=\"status\" aria-hidden=\"true\"></span> Assigning...');\n        \n        fetch(this.action, {\n          method: 'POST',\n          body: formData,\n          headers: {\n            'X-Requested-With': 'XMLHttpRequest'\n          }\n        })\n        .then(response => response.json())\n        .then(data => {\n          if (data.success) {\n            // Show success message\n            if (window.Swal) {\n              Swal.fire({\n                title: 'Success!',\n                text: data.message || 'Substitute assigned successfully.',\n                icon: 'success',\n                timer: 1500,\n                showConfirmButton: false\n              }).then(() => {\n                // Reload the page to show the updated RSVP list\n                window.location.reload();\n              });\n            } else if (window.toastr) {\n              toastr.success(data.message || 'Substitute assigned successfully.');\n              setTimeout(() => window.location.reload(), 1500);\n            } else {\n              alert('Substitute assigned successfully.');\n              window.location.reload();\n            }\n            \n            // Hide modal\n            var assignModal = document.querySelector('[data-modal=\"assign-sub\"]');\n            if (window.bootstrap && assignModal) {\n              var modal = bootstrap.Modal.getInstance(assignModal);\n              modal.hide();\n            }\n          } else {\n            // Show error message\n            if (window.Swal) {\n              Swal.fire({\n                title: 'Error',\n                text: data.message || 'Failed to assign substitute.',\n                icon: 'error'\n              });\n            } else if (window.toastr) {\n              toastr.error(data.message || 'Failed to assign substitute.');\n            } else {\n              alert('Error: ' + (data.message || 'Failed to assign substitute.'));\n            }\n          }\n        })\n        .catch(error => {\n          // console.error('Error assigning substitute:', error);\n          if (window.toastr) {\n            toastr.error('An error occurred while assigning the substitute.');\n          } else {\n            alert('An error occurred while assigning the substitute.');\n          }\n        })\n        .finally(() => {\n          // Re-enable button\n          submitBtn.prop('disabled', false).html(originalText);\n        });\n      });\n    }\n  } catch (e) {\n    // console.error(\"Error loading available subs:\", e);\n  }\n}\n\n/**\n * Fix team options in the request sub modal for Pub League Coaches\n * This function provides a client-side fallback that ensures the team selection\n * dropdown shows the teams that a coach is associated with for a match.\n */\nfunction fixTeamOptions() {\n  try {\n    // Get required DOM elements\n    var requestSubModal = document.getElementById('requestSubModal');\n    var teamSelect = document.getElementById('team_id');\n    \n    if (!requestSubModal || !teamSelect) {\n      return;\n    }\n    \n    // First check if the team select already has options (other than the default placeholder)\n    if (teamSelect.options.length > 1) {\n      // console.log(\"Team options already present, no fix needed\");\n      return;\n    } else {\n      // console.log(\"Team select has no options, applying fix\");\n    }\n    \n    // Get match information from the page\n    var matchInfoText = document.querySelector('#requestSubModal .alert-info .mb-0');\n    if (!matchInfoText) {\n      // console.log(\"Could not find match info text\");\n      return;\n    }\n    \n    var matchText = matchInfoText.textContent || '';\n    var matchParts = matchText.split(' vs ');\n    \n    if (matchParts.length < 2) {\n      // console.log(\"Could not parse match text:\", matchText);\n      return;\n    }\n    \n    var homeTeamName = matchParts[0].trim();\n    var awayTeamName = matchParts[1].split(' - ')[0].trim();\n    // console.log(\"Parsed team names:\", homeTeamName, awayTeamName);\n    \n    // Get team IDs from the modal data attributes\n    var homeTeamId = requestSubModal.dataset.homeTeamId;\n    var awayTeamId = requestSubModal.dataset.awayTeamId;\n    \n    // If data attributes are available, use them to add options immediately\n    if (homeTeamId && awayTeamId) {\n      // console.log(\"Found team IDs in data attributes:\", homeTeamId, awayTeamId);\n      \n      // For coaches, we need to determine which team they coach\n      var isAdmin = false;\n      var userRoles = document.body.dataset.userRoles || '';\n      \n      if (userRoles.includes('Global Admin') || userRoles.includes('Pub League Admin')) {\n        isAdmin = true;\n      }\n      \n      // Always add both teams for admins\n      if (isAdmin) {\n        var homeOption = document.createElement('option');\n        homeOption.value = homeTeamId;\n        homeOption.text = homeTeamName;\n        teamSelect.appendChild(homeOption);\n        \n        var awayOption = document.createElement('option');\n        awayOption.value = awayTeamId;\n        awayOption.text = awayTeamName;\n        teamSelect.appendChild(awayOption);\n        \n        // console.log(\"Added both team options for admin\");\n        return;\n      } else {\n        // For coaches, try to determine which team they coach\n        // This is the most aggressive approach - just add both teams and let the server validate\n        var homeOption = document.createElement('option');\n        homeOption.value = homeTeamId;\n        homeOption.text = homeTeamName;\n        teamSelect.appendChild(homeOption);\n        \n        var awayOption = document.createElement('option');\n        awayOption.value = awayTeamId;\n        awayOption.text = awayTeamName;\n        teamSelect.appendChild(awayOption);\n        \n        // console.log(\"Added both team options as fallback\");\n        return;\n      }\n    }\n    \n    // If we didn't have data attributes, try to find team IDs in other ways\n    // console.log(\"Data attributes not found, trying alternate methods\");\n    \n    // Try to find team IDs from other parts of the page\n    var assignSubForm = document.getElementById('assignSubFormRSVP');\n    if (assignSubForm) {\n      var subTeamSelect = document.getElementById('subTeamRSVP');\n      if (subTeamSelect && subTeamSelect.options.length > 1) {\n        // Copy options from the assign sub form\n        for (var i = 1; i < subTeamSelect.options.length; i++) {\n          var option = subTeamSelect.options[i];\n          var newOption = document.createElement('option');\n          newOption.value = option.value;\n          newOption.text = option.text;\n          teamSelect.appendChild(newOption);\n        }\n        // console.log(\"Copied options from assign sub form\");\n        return; // Successfully added options, no need to continue\n      }\n    }\n    \n    // Extract match ID from the form\n    var matchIdInput = document.querySelector('#requestSubForm input[name=\"match_id\"]');\n    var matchId = matchIdInput ? matchIdInput.value : '';\n    \n    if (!matchId) {\n      // console.log(\"Could not find match ID\");\n      return;\n    }\n    \n    // console.log(\"Making request to find match details for match ID:\", matchId);\n    \n    // Make a direct request to get match data\n    fetch('/admin/rsvp_status/' + matchId)\n      .then(response => {\n        if (!response.ok) {\n          // console.log(\"Response not OK:\", response.status);\n          return null;\n        }\n        return response.text();\n      })\n      .then(html => {\n        if (!html) return;\n        \n        // console.log(\"Received HTML response, parsing for team data\");\n        \n        // Create a temporary element to parse the HTML\n        var tempDiv = document.createElement('div');\n        tempDiv.innerHTML = html;\n        \n        // Look for team IDs in the page content\n        var teamOptions = tempDiv.querySelectorAll('#subTeamRSVP option');\n        if (teamOptions.length > 1) {\n          // Copy options to our select\n          for (var i = 1; i < teamOptions.length; i++) {\n            var option = teamOptions[i];\n            var newOption = document.createElement('option');\n            newOption.value = option.value;\n            newOption.text = option.text;\n            teamSelect.appendChild(newOption);\n          }\n          // console.log(\"Added options from parsed HTML response\");\n        } else {\n          // Last resort: create options based on the match text we parsed earlier\n          // console.log(\"Creating options based on parsed match text\");\n          \n          // Just add both teams as options and let the server handle validation\n          var homeOption = document.createElement('option');\n          homeOption.value = \"home_team\";  // Use placeholder values\n          homeOption.text = homeTeamName;\n          teamSelect.appendChild(homeOption);\n          \n          var awayOption = document.createElement('option');\n          awayOption.value = \"away_team\";  // Use placeholder values\n          awayOption.text = awayTeamName;\n          teamSelect.appendChild(awayOption);\n        }\n      })\n      .catch(error => {\n        // console.error('Error fetching match details:', error);\n        \n        // Last resort fallback: create options with placeholder values\n        // console.log(\"Error occurred, creating fallback options\");\n        \n        var homeOption = document.createElement('option');\n        homeOption.value = \"home_team\";  // Use placeholder values\n        homeOption.text = homeTeamName;\n        teamSelect.appendChild(homeOption);\n        \n        var awayOption = document.createElement('option');\n        awayOption.value = \"away_team\";  // Use placeholder values\n        awayOption.text = awayTeamName;\n        teamSelect.appendChild(awayOption);\n      });\n  } catch (e) {\n    // console.error(\"Error fixing team options:\", e);\n  }\n}\n\n// Function to ensure DataTables arrows work correctly\nfunction removeDataTablesArrows() {\n  try {\n    // Get sorting elements (this DOM query might be essential)\n    var sortingElements = document.querySelectorAll('table.dataTable thead th.sorting, table.dataTable thead th.sorting_asc, table.dataTable thead th.sorting_desc');\n    \n    // Force browser reflow by accessing computed styles (this might be the key!)\n    // The browser needs to recalculate styles after DataTables changes\n    sortingElements.forEach(function(el) {\n      // These DOM operations might be triggering the reflow that makes CSS work\n      var beforeStyle = window.getComputedStyle(el, '::before');\n      var afterStyle = window.getComputedStyle(el, '::after');\n      // Force the browser to process the style calculations\n      beforeStyle.content; \n      afterStyle.content;\n    });\n    \n  } catch (e) {\n    // Silent fail\n  }\n}\n","/**\n * ============================================================================\n * ADMIN PANEL BASE - JavaScript Controller\n * ============================================================================\n *\n * Purpose: Core functionality for admin panel base template\n * Features:\n * - Mobile navigation auto-collapse\n * - Touch gesture support\n * - Progressive loading\n * - Responsive table handling\n * - Network status monitoring\n * - Performance monitoring\n * - Global admin utilities\n *\n * Dependencies: Bootstrap 5\n * Registration: InitSystem (priority 15)\n *\n * ============================================================================\n */\n\n(function() {\n    'use strict';\n\n    /**\n     * Admin Panel Base Controller\n     * Uses data-* selectors for element binding (never classes)\n     */\n    const AdminPanelBase = {\n        // Configuration\n        CONFIG: {\n            MOBILE_BREAKPOINT: 768,\n            TABLET_BREAKPOINT: 992,\n            TOAST_DURATION_MOBILE: 3000,\n            TOAST_DURATION_DESKTOP: 5000,\n            FETCH_TIMEOUT_MOBILE: 10000,\n            FETCH_TIMEOUT_DESKTOP: 30000,\n            DEBOUNCE_WAIT: 250\n        },\n\n        // State tracking\n        _initialized: false,\n        _autoRefreshInterval: null,\n\n        /**\n         * Initialize all admin panel base functionality\n         */\n        init: function(context) {\n            context = context || document;\n\n            // Prevent duplicate initialization\n            if (this._initialized && context === document) {\n                return;\n            }\n\n            this.initMobileNavigation(context);\n            this.initAdminNavToggle(context);\n            this.initTouchGestures(context);\n            this.initProgressiveLoading(context);\n            this.initResponsiveTables(context);\n            this.initNetworkMonitoring();\n            this.initAutoRefreshManagement();\n            this.initPerformanceMonitoring();\n            this.initDoubleTapPrevention(context);\n            this.initSmoothScrolling(context);\n            this.initIOSBouncePrevent();\n\n            if (context === document) {\n                this._initialized = true;\n            }\n        },\n\n        /**\n         * Mobile navigation auto-collapse\n         * Uses data-nav-link and data-navbar-collapse selectors\n         */\n        initMobileNavigation: function(context) {\n            context = context || document;\n\n            // Query by data attribute first, then fall back to classes\n            const navLinks = context.querySelectorAll('[data-nav-link], .navbar-nav .nav-link');\n            const navbarCollapse = context.querySelector('[data-navbar-collapse], .navbar-collapse');\n\n            navLinks.forEach(link => {\n                // Skip if already enhanced\n                if (link.dataset.navEnhanced === 'true') return;\n                link.dataset.navEnhanced = 'true';\n\n                link.addEventListener('click', () => {\n                    if (window.innerWidth < this.CONFIG.TABLET_BREAKPOINT && navbarCollapse && navbarCollapse.classList.contains('show')) {\n                        const bsCollapse = bootstrap.Collapse.getInstance(navbarCollapse);\n                        if (bsCollapse) {\n                            bsCollapse.hide();\n                        }\n                    }\n                });\n            });\n        },\n\n        /**\n         * Admin panel navigation toggle (mobile)\n         * Pure CSS/JS implementation without Bootstrap collapse\n         */\n        initAdminNavToggle: function(context) {\n            context = context || document;\n\n            const toggleBtn = context.querySelector('[data-action=\"toggle-mobile-nav\"]');\n            const navContainer = context.querySelector('[data-nav-container]');\n\n            if (!toggleBtn || !navContainer) return;\n\n            // Skip if already enhanced\n            if (toggleBtn.dataset.adminNavToggleEnhanced === 'true') return;\n            toggleBtn.dataset.adminNavToggleEnhanced = 'true';\n\n            toggleBtn.addEventListener('click', () => {\n                const isCollapsed = navContainer.classList.contains('is-collapsed');\n\n                if (isCollapsed) {\n                    navContainer.classList.remove('is-collapsed');\n                    toggleBtn.setAttribute('aria-expanded', 'true');\n                } else {\n                    navContainer.classList.add('is-collapsed');\n                    toggleBtn.setAttribute('aria-expanded', 'false');\n                }\n            });\n        },\n\n        /**\n         * Touch gesture support for cards\n         * Uses data-component=\"admin-card\" selector\n         */\n        initTouchGestures: function(context) {\n            context = context || document;\n\n            const adminCards = context.querySelectorAll('[data-component=\"admin-card\"]');\n\n            adminCards.forEach(card => {\n                // Skip if already enhanced\n                if (card.dataset.gesturesEnhanced === 'true') return;\n                card.dataset.gesturesEnhanced = 'true';\n\n                let touchStartY = 0;\n\n                card.addEventListener('touchstart', (e) => {\n                    touchStartY = e.touches[0].clientY;\n                }, { passive: true });\n\n                card.addEventListener('touchend', (e) => {\n                    const touchEndY = e.changedTouches[0].clientY;\n                    const diff = touchStartY - touchEndY;\n\n                    // Simple swipe up gesture for card interaction\n                    if (Math.abs(diff) > 50 && diff > 0) {\n                        card.click();\n                    }\n                }, { passive: true });\n            });\n        },\n\n        /**\n         * Progressive loading for heavy content\n         * Uses data-lazy-load attribute\n         */\n        initProgressiveLoading: function(context) {\n            context = context || document;\n\n            if ('IntersectionObserver' in window) {\n                const observer = new IntersectionObserver((entries) => {\n                    entries.forEach(entry => {\n                        if (entry.isIntersecting) {\n                            entry.target.classList.add('loaded');\n                            entry.target.dataset.loaded = 'true';\n                            observer.unobserve(entry.target);\n                        }\n                    });\n                }, {\n                    rootMargin: '50px'\n                });\n\n                context.querySelectorAll('[data-lazy-load]').forEach(el => {\n                    if (el.dataset.loaded !== 'true') {\n                        observer.observe(el);\n                    }\n                });\n            }\n        },\n\n        /**\n         * Responsive table handling\n         * Uses data-responsive-table or .table-responsive\n         */\n        initResponsiveTables: function(context) {\n            context = context || document;\n            const self = this;\n\n            function handleResponsiveTables() {\n                // Query by data attribute first, then fall back to class\n                const tableContainers = context.querySelectorAll('[data-responsive-table], .table-responsive');\n\n                tableContainers.forEach(container => {\n                    const table = container.tagName === 'TABLE' ? container : container.querySelector('table');\n                    if (!table) return;\n\n                    if (window.innerWidth < self.CONFIG.MOBILE_BREAKPOINT) {\n                        // Add mobile-friendly data-label attributes\n                        const headers = table.querySelectorAll('th');\n                        const rows = table.querySelectorAll('tbody tr');\n\n                        rows.forEach(row => {\n                            const cells = row.querySelectorAll('td');\n                            cells.forEach((cell, index) => {\n                                if (headers[index]) {\n                                    cell.setAttribute('data-label', headers[index].textContent);\n                                }\n                            });\n                        });\n\n                        // Add mobile stack class for very small screens\n                        if (window.innerWidth < 576) {\n                            table.classList.add('table-mobile-stack');\n                            table.dataset.mobileStack = 'true';\n                        }\n                    } else {\n                        table.classList.remove('table-mobile-stack');\n                        table.dataset.mobileStack = 'false';\n                    }\n                });\n            }\n\n            // Call on load and resize\n            handleResponsiveTables();\n            window.addEventListener('resize', this.debounce(handleResponsiveTables, this.CONFIG.DEBOUNCE_WAIT));\n        },\n\n        /**\n         * Network status monitoring\n         * Uses data-component=\"network-status\" selector\n         */\n        initNetworkMonitoring: function() {\n            // Avoid duplicate listeners\n            if (this._networkMonitoringSetup) return;\n            this._networkMonitoringSetup = true;\n\n            const self = this;\n\n            function updateNetworkStatus() {\n                const statusIndicator = document.querySelector('[data-component=\"network-status\"]');\n                if (!statusIndicator) return;\n\n                if (navigator.onLine) {\n                    statusIndicator.classList.remove('c-admin-panel-base__network-status--offline');\n                    statusIndicator.classList.add('c-admin-panel-base__network-status--online');\n                    statusIndicator.dataset.status = 'online';\n                    statusIndicator.title = 'Online';\n                } else {\n                    statusIndicator.classList.remove('c-admin-panel-base__network-status--online');\n                    statusIndicator.classList.add('c-admin-panel-base__network-status--offline');\n                    statusIndicator.dataset.status = 'offline';\n                    statusIndicator.title = 'Offline';\n\n                    // Show offline notification\n                    self.showMobileToast('You are currently offline. Some features may not work.', 'warning');\n                }\n            }\n\n            window.addEventListener('online', () => {\n                updateNetworkStatus();\n                self.showMobileToast('Connection restored', 'success');\n            });\n\n            window.addEventListener('offline', updateNetworkStatus);\n            updateNetworkStatus();\n        },\n\n        /**\n         * Auto-refresh management for mobile battery optimization\n         */\n        initAutoRefreshManagement: function() {\n            // Avoid duplicate listeners\n            if (this._autoRefreshSetup) return;\n            this._autoRefreshSetup = true;\n\n            const self = this;\n\n            function manageAutoRefresh() {\n                if (window.innerWidth < self.CONFIG.MOBILE_BREAKPOINT) {\n                    // Clear any existing auto-refresh on mobile\n                    if (self._autoRefreshInterval) {\n                        clearInterval(self._autoRefreshInterval);\n                        console.log('Auto-refresh disabled on mobile for battery optimization');\n                    }\n                }\n            }\n\n            window.addEventListener('resize', this.debounce(manageAutoRefresh, this.CONFIG.DEBOUNCE_WAIT));\n            manageAutoRefresh();\n        },\n\n        /**\n         * Performance monitoring\n         */\n        initPerformanceMonitoring: function() {\n            // Avoid duplicate observers\n            if (this._performanceMonitoringSetup) return;\n            this._performanceMonitoringSetup = true;\n\n            const self = this;\n\n            if ('PerformanceObserver' in window) {\n                const observer = new PerformanceObserver((list) => {\n                    const entries = list.getEntries();\n                    entries.forEach(entry => {\n                        if (entry.entryType === 'navigation') {\n                            const loadTime = entry.loadEventEnd - entry.loadEventStart;\n                            console.log('Page load time:', loadTime + 'ms');\n\n                            // Warn on slow loading for mobile\n                            if (loadTime > 3000 && window.innerWidth < self.CONFIG.MOBILE_BREAKPOINT) {\n                                console.warn('Slow page load detected on mobile');\n                            }\n                        }\n                    });\n                });\n\n                try {\n                    observer.observe({ entryTypes: ['navigation'] });\n                } catch (e) {\n                    console.log('Performance observer not fully supported');\n                }\n            }\n        },\n\n        /**\n         * Prevent double-tap zoom on buttons and forms\n         * Uses data-action or falls back to element types\n         * EXCLUDES navigation elements that have their own event handling\n         */\n        initDoubleTapPrevention: function(context) {\n            context = context || document;\n\n            // Query by data-action first, then fall back to element types\n            // EXCLUDE navigation elements - they have their own controller\n            const interactiveElements = context.querySelectorAll(\n                '[data-action]:not([data-action=\"toggle-dropdown\"]):not([data-action=\"navigate\"]), ' +\n                'button:not(.c-admin-nav__link):not(.c-admin-nav__dropdown-toggle), ' +\n                '.c-btn:not(.c-admin-nav__link), input, select, textarea'\n            );\n\n            interactiveElements.forEach(element => {\n                // Skip if already enhanced\n                if (element.dataset.doubleTapPrevented === 'true') return;\n                // Skip if inside admin navigation\n                if (element.closest('[data-controller=\"admin-nav\"]')) return;\n\n                element.dataset.doubleTapPrevented = 'true';\n\n                element.addEventListener('touchend', function(e) {\n                    if (this.disabled) return;\n                    e.preventDefault();\n                    this.click();\n                }, { passive: false });\n\n                element.addEventListener('click', function(e) {\n                    if (e.detail > 1) {\n                        e.preventDefault();\n                    }\n                });\n            });\n        },\n\n        /**\n         * Smooth scrolling for anchor links\n         */\n        initSmoothScrolling: function(context) {\n            context = context || document;\n\n            context.querySelectorAll('a[href^=\"#\"]').forEach(anchor => {\n                // Skip if already enhanced\n                if (anchor.dataset.smoothScrollEnhanced === 'true') return;\n                anchor.dataset.smoothScrollEnhanced = 'true';\n\n                anchor.addEventListener('click', function(e) {\n                    const href = this.getAttribute('href');\n                    // Skip empty hash links (href=\"#\") - they're not valid selectors\n                    if (!href || href === '#') {\n                        return;\n                    }\n                    e.preventDefault();\n                    try {\n                        const target = document.querySelector(href);\n                        if (target) {\n                            target.scrollIntoView({\n                                behavior: 'smooth',\n                                block: 'start'\n                            });\n                        }\n                    } catch (err) {\n                        // Invalid selector, ignore\n                        console.debug('Invalid anchor selector:', href);\n                    }\n                });\n            });\n        },\n\n        /**\n         * Prevent iOS bounce scroll\n         */\n        initIOSBouncePrevent: function() {\n            // Avoid duplicate listeners\n            if (this._iosBouncePreventSetup) return;\n            this._iosBouncePreventSetup = true;\n\n            document.body.addEventListener('touchstart', function(e) {\n                if (e.target === document.body) {\n                    e.preventDefault();\n                }\n            }, { passive: false });\n\n            document.body.addEventListener('touchend', function(e) {\n                if (e.target === document.body) {\n                    e.preventDefault();\n                }\n            }, { passive: false });\n\n            document.body.addEventListener('touchmove', function(e) {\n                if (e.target === document.body) {\n                    e.preventDefault();\n                }\n            }, { passive: false });\n        },\n\n        /**\n         * Utility: Debounce function\n         */\n        debounce: function(func, wait) {\n            let timeout;\n            return function executedFunction(...args) {\n                const later = () => {\n                    clearTimeout(timeout);\n                    func(...args);\n                };\n                clearTimeout(timeout);\n                timeout = setTimeout(later, wait);\n            };\n        },\n\n        // ========================================================================\n        // PUBLIC API - Global Admin Panel Utilities\n        // ========================================================================\n\n        /**\n         * Check if device is mobile\n         */\n        isMobile: function() {\n            return window.innerWidth < this.CONFIG.MOBILE_BREAKPOINT;\n        },\n\n        /**\n         * Check if device is tablet\n         */\n        isTablet: function() {\n            return window.innerWidth >= this.CONFIG.MOBILE_BREAKPOINT &&\n                   window.innerWidth < this.CONFIG.TABLET_BREAKPOINT;\n        },\n\n        /**\n         * Check if device is desktop\n         */\n        isDesktop: function() {\n            return window.innerWidth >= this.CONFIG.TABLET_BREAKPOINT;\n        },\n\n        /**\n         * Show mobile-friendly toast notification\n         * Uses data-component=\"toast-container\" selector\n         */\n        showMobileToast: function(message, type) {\n            type = type || 'info';\n\n            const toast = document.createElement('div');\n            toast.className = `toast align-items-center text-white bg-${type} border-0`;\n            toast.setAttribute('role', 'alert');\n            toast.setAttribute('aria-live', 'assertive');\n            toast.setAttribute('aria-atomic', 'true');\n            toast.dataset.toast = type;\n            toast.innerHTML = `\n                <div class=\"d-flex\">\n                    <div class=\"toast-body\">${message}</div>\n                    <button type=\"button\" class=\"btn-close btn-close-white me-2 m-auto\" data-bs-dismiss=\"toast\" data-action=\"close-toast\" aria-label=\"Close\"></button>\n                </div>\n            `;\n\n            const container = document.querySelector('[data-component=\"toast-container\"]');\n            if (container) {\n                container.appendChild(toast);\n\n                const toastInstance = new bootstrap.Toast(toast, {\n                    autohide: true,\n                    delay: this.isMobile() ? this.CONFIG.TOAST_DURATION_MOBILE : this.CONFIG.TOAST_DURATION_DESKTOP\n                });\n\n                toastInstance.show();\n\n                toast.addEventListener('hidden.bs.toast', () => {\n                    toast.remove();\n                });\n            }\n        },\n\n        /**\n         * Confirm action with mobile-optimized UX\n         * @param {string} message - The confirmation message\n         * @param {function} callback - Function to call if confirmed\n         * @param {object} options - Optional configuration\n         * @param {string} options.confirmText - Custom confirm button text\n         * @param {string} options.cancelText - Custom cancel button text\n         * @param {string} options.title - Custom title\n         * @param {string} options.icon - SweetAlert icon (warning, question, info, error)\n         * @param {string} options.confirmColor - Confirm button color (#hex or Bootstrap class)\n         */\n        confirmAction: function(message, callback, options) {\n            options = options || {};\n\n            // Smart defaults based on message content\n            const messageLower = message.toLowerCase();\n            let defaultConfirm = 'Confirm';\n            let defaultCancel = 'Cancel';\n            let defaultIcon = 'question';\n            let defaultTitle = 'Confirm Action';\n            let defaultColor = '#3085d6';\n\n            // Contextual button text based on action type\n            if (messageLower.includes('delete') || messageLower.includes('remove')) {\n                defaultConfirm = 'Delete';\n                defaultIcon = 'warning';\n                defaultTitle = 'Confirm Delete';\n                defaultColor = '#dc3545'; // danger red\n            } else if (messageLower.includes('sync')) {\n                defaultConfirm = 'Sync';\n                defaultIcon = 'question';\n                defaultTitle = 'Confirm Sync';\n            } else if (messageLower.includes('reset')) {\n                defaultConfirm = 'Reset';\n                defaultIcon = 'warning';\n                defaultTitle = 'Confirm Reset';\n                defaultColor = '#dc3545';\n            } else if (messageLower.includes('clear')) {\n                defaultConfirm = 'Clear';\n                defaultIcon = 'warning';\n                defaultTitle = 'Confirm Clear';\n                defaultColor = '#dc3545';\n            } else if (messageLower.includes('approve')) {\n                defaultConfirm = 'Approve';\n                defaultIcon = 'question';\n                defaultTitle = 'Confirm Approval';\n                defaultColor = '#28a745'; // success green\n            } else if (messageLower.includes('reject') || messageLower.includes('deny')) {\n                defaultConfirm = 'Reject';\n                defaultIcon = 'warning';\n                defaultTitle = 'Confirm Rejection';\n                defaultColor = '#dc3545';\n            } else if (messageLower.includes('send')) {\n                defaultConfirm = 'Send';\n                defaultIcon = 'question';\n                defaultTitle = 'Confirm Send';\n            } else if (messageLower.includes('save')) {\n                defaultConfirm = 'Save';\n                defaultIcon = 'question';\n                defaultTitle = 'Confirm Save';\n                defaultColor = '#28a745';\n            } else if (messageLower.includes('cancel')) {\n                defaultConfirm = 'Yes, Cancel';\n                defaultIcon = 'warning';\n                defaultTitle = 'Confirm Cancellation';\n            } else if (messageLower.includes('disable')) {\n                defaultConfirm = 'Disable';\n                defaultIcon = 'warning';\n                defaultTitle = 'Confirm Disable';\n                defaultColor = '#dc3545';\n            } else if (messageLower.includes('enable')) {\n                defaultConfirm = 'Enable';\n                defaultIcon = 'question';\n                defaultTitle = 'Confirm Enable';\n                defaultColor = '#28a745';\n            } else if (messageLower.includes('continue')) {\n                defaultConfirm = 'Continue';\n            }\n\n            const confirmText = options.confirmText || defaultConfirm;\n            const cancelText = options.cancelText || defaultCancel;\n            const title = options.title || defaultTitle;\n            const icon = options.icon || defaultIcon;\n            const confirmColor = options.confirmColor || defaultColor;\n\n            if (this.isMobile()) {\n                // Use native confirm on mobile for better UX\n                if (confirm(message)) {\n                    callback();\n                }\n            } else {\n                // Use SweetAlert2 on desktop if available\n                if (typeof Swal !== 'undefined') {\n                    Swal.fire({\n                        title: title,\n                        text: message,\n                        icon: icon,\n                        showCancelButton: true,\n                        confirmButtonText: confirmText,\n                        cancelButtonText: cancelText,\n                        confirmButtonColor: confirmColor,\n                        cancelButtonColor: '#6c757d',\n                        reverseButtons: true // Cancel on left, Confirm on right\n                    }).then((result) => {\n                        if (result.isConfirmed) {\n                            callback();\n                        }\n                    });\n                } else {\n                    if (confirm(message)) {\n                        callback();\n                    }\n                }\n            }\n        },\n\n        /**\n         * Show loading state on element\n         */\n        showLoading: function(element) {\n            if (element) {\n                element.classList.add('is-loading');\n                element.dataset.loading = 'true';\n            }\n        },\n\n        /**\n         * Hide loading state on element\n         */\n        hideLoading: function(element) {\n            if (element) {\n                element.classList.remove('is-loading');\n                element.dataset.loading = 'false';\n            }\n        },\n\n        /**\n         * Optimized fetch for mobile with timeout and error handling\n         */\n        fetch: async function(url, options) {\n            options = options || {};\n            const self = this;\n            const controller = new AbortController();\n            const timeoutId = setTimeout(\n                () => controller.abort(),\n                self.isMobile() ? self.CONFIG.FETCH_TIMEOUT_MOBILE : self.CONFIG.FETCH_TIMEOUT_DESKTOP\n            );\n\n            try {\n                const response = await fetch(url, {\n                    ...options,\n                    signal: controller.signal\n                });\n\n                clearTimeout(timeoutId);\n                return response;\n            } catch (error) {\n                clearTimeout(timeoutId);\n\n                if (error.name === 'AbortError') {\n                    self.showMobileToast('Request timed out. Please try again.', 'warning');\n                } else if (!navigator.onLine) {\n                    self.showMobileToast('No internet connection. Please check your network.', 'danger');\n                }\n\n                throw error;\n            }\n        }\n    };\n\n    /**\n     * Service Worker Registration (for offline support)\n     */\n    function registerServiceWorker() {\n        if ('serviceWorker' in navigator && 'caches' in window) {\n            window.addEventListener('load', () => {\n                navigator.serviceWorker.register('/static/js/service-worker.js')\n                    .then(registration => {\n                        console.log('Service Worker registered:', registration);\n                    })\n                    .catch(error => {\n                        console.log('Service Worker registration failed:', error);\n                    });\n            });\n        }\n    }\n\n    // Register with InitSystem if available\n    if (typeof window.InitSystem !== 'undefined') {\n        window.InitSystem.register('AdminPanelBase', {\n            priority: 15, // Early priority - after responsive-global (10) but before most components\n            init: function(context) {\n                AdminPanelBase.init(context);\n                registerServiceWorker();\n            }\n        });\n    } else {\n        // Fallback to DOMContentLoaded\n        document.addEventListener('DOMContentLoaded', function() {\n            AdminPanelBase.init(document);\n            registerServiceWorker();\n        });\n    }\n\n    // Expose AdminPanel globally for backward compatibility\n    window.AdminPanel = AdminPanelBase;\n\n    // Also expose as AdminPanelBase for explicit access\n    window.AdminPanelBase = AdminPanelBase;\n\n})();\n","/**\n * ============================================================================\n * ADMIN PANEL DASHBOARD - JAVASCRIPT CONTROLLER\n * ============================================================================\n *\n * Handles all interactions for the admin panel dashboard.\n * Uses the centralized EventDelegation system for all click handling.\n *\n * Features:\n * - Navigation handling\n * - Modal dialogs (navigation settings, registration settings, etc.)\n * - Task monitoring\n * - Database monitoring\n * - Match reports\n *\n * Architecture:\n * - Registers handlers with EventDelegation (no duplicate listeners)\n * - Data-action attribute driven\n * - No inline event handlers\n *\n * ============================================================================\n */\n\n(function() {\n  'use strict';\n\n  // ============================================================================\n  // INITIALIZATION\n  // ============================================================================\n\n  function init() {\n    // Only initialize if we're on the admin dashboard page\n    if (!document.querySelector('.admin-panel-dashboard, [data-page=\"admin-dashboard\"]')) {\n      return;\n    }\n\n    registerEventHandlers();\n    highlightActiveNav();\n    setupNavigationCards();\n\n    console.log('[AdminDashboard] Initialized');\n  }\n\n  // ============================================================================\n  // EVENT REGISTRATION - Uses central EventDelegation system\n  // ============================================================================\n\n  function registerEventHandlers() {\n    // Check if EventDelegation is available\n    if (typeof EventDelegation === 'undefined') {\n      console.warn('[AdminDashboard] EventDelegation not available, skipping handler registration');\n      return;\n    }\n\n    // Register only the actions this module handles\n    EventDelegation.register('navigate', handleNavigate);\n    EventDelegation.register('open-navigation-settings', openNavigationSettings, { preventDefault: true });\n    EventDelegation.register('open-registration-settings', openRegistrationSettings, { preventDefault: true });\n    EventDelegation.register('open-task-monitor', openTaskMonitor, { preventDefault: true });\n    EventDelegation.register('open-database-monitor', openDatabaseMonitor, { preventDefault: true });\n    EventDelegation.register('open-match-reports', openMatchReports, { preventDefault: true });\n    EventDelegation.register('generate-report', generateReport, { preventDefault: true });\n  }\n\n  function setupNavigationCards() {\n    // Add pointer cursor to navigation cards\n    document.querySelectorAll('[data-action=\"navigate\"]').forEach(card => {\n      card.style.cursor = 'pointer';\n    });\n  }\n\n  // ============================================================================\n  // NAVIGATION\n  // ============================================================================\n\n  function handleNavigate(element) {\n    const url = element.dataset.url;\n    if (url) {\n      window.location.href = url;\n    }\n  }\n\n  function highlightActiveNav() {\n    const currentPath = window.location.pathname;\n    const navLinks = document.querySelectorAll('.nav-pills .nav-link');\n\n    navLinks.forEach(link => {\n      if (currentPath.includes(link.getAttribute('href'))) {\n        link.classList.add('active');\n      }\n    });\n  }\n\n  // ============================================================================\n  // MODAL: NAVIGATION SETTINGS\n  // ============================================================================\n\n  function openNavigationSettings() {\n    if (typeof Swal === 'undefined') {\n      alert('SweetAlert2 is required for this feature');\n      return;\n    }\n\n    Swal.fire({\n      title: 'Navigation Settings',\n      html: '<div class=\"text-center\"><div class=\"spinner-border\" role=\"status\"><span class=\"visually-hidden\">Loading...</span></div><p class=\"mt-2\">Loading navigation settings...</p></div>',\n      showConfirmButton: false,\n      allowOutsideClick: false\n    });\n\n    fetch('/admin-panel/api/navigation-settings')\n      .then(response => response.json())\n      .then(data => {\n        if (data.success) {\n          showNavigationSettingsModal(data.settings);\n        } else {\n          Swal.fire('Error', data.message || 'Failed to load navigation settings', 'error');\n        }\n      })\n      .catch(error => {\n        console.error('Navigation settings error:', error);\n        Swal.fire('Error', 'Failed to load navigation settings', 'error');\n      });\n  }\n\n  function showNavigationSettingsModal(settings) {\n    const html = `\n      <div class=\"text-start\">\n        <p class=\"text-info mb-3\"><i class=\"ti ti-info-circle me-1\"></i>Control which navigation items are visible to non-admin users. Admins can always see all navigation items.</p>\n\n        <div class=\"row\">\n          <div class=\"col-md-6\">\n            ${createToggle('teamsNav', 'Teams Navigation', 'Team rosters and management for pl-premier, pl-classic roles', settings.teams_navigation_enabled)}\n            ${createToggle('storeNav', 'Store Navigation', 'League store for coaches and admins', settings.store_navigation_enabled)}\n            ${createToggle('matchesNav', 'Matches Navigation', 'Match schedules and results', settings.matches_navigation_enabled)}\n            ${createToggle('leaguesNav', 'Leagues Navigation', 'League standings and information', settings.leagues_navigation_enabled)}\n          </div>\n          <div class=\"col-md-6\">\n            ${createToggle('draftsNav', 'Drafts Navigation', 'Draft system for coaches', settings.drafts_navigation_enabled)}\n            ${createToggle('playersNav', 'Players Navigation', 'Player profiles and statistics', settings.players_navigation_enabled)}\n            ${createToggle('messagingNav', 'Messaging Navigation', 'Communication tools', settings.messaging_navigation_enabled)}\n            ${createToggle('mobileFeaturesNav', 'Mobile Features Navigation', 'Mobile app integration', settings.mobile_features_navigation_enabled)}\n          </div>\n        </div>\n      </div>\n    `;\n\n    Swal.fire({\n      title: 'Navigation Settings',\n      html: html,\n      width: '800px',\n      showCancelButton: true,\n      confirmButtonText: 'Save Settings',\n      cancelButtonText: 'Cancel',\n      showLoaderOnConfirm: true,\n      preConfirm: () => saveNavigationSettings(),\n      allowOutsideClick: () => !Swal.isLoading()\n    }).then((result) => {\n      if (result.isConfirmed) {\n        Swal.fire({\n          title: 'Settings Saved!',\n          text: 'Navigation settings have been updated successfully. Changes will take effect immediately.',\n          icon: 'success'\n        }).then(() => {\n          location.reload();\n        });\n      }\n    });\n  }\n\n  function saveNavigationSettings() {\n    const formData = {\n      teams_navigation_enabled: document.getElementById('teamsNav').checked,\n      store_navigation_enabled: document.getElementById('storeNav').checked,\n      matches_navigation_enabled: document.getElementById('matchesNav').checked,\n      leagues_navigation_enabled: document.getElementById('leaguesNav').checked,\n      drafts_navigation_enabled: document.getElementById('draftsNav').checked,\n      players_navigation_enabled: document.getElementById('playersNav').checked,\n      messaging_navigation_enabled: document.getElementById('messagingNav').checked,\n      mobile_features_navigation_enabled: document.getElementById('mobileFeaturesNav').checked\n    };\n\n    return fetch('/admin-panel/api/navigation-settings', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n        'X-CSRFToken': getCSRFToken()\n      },\n      body: JSON.stringify(formData)\n    })\n    .then(response => response.json())\n    .then(data => {\n      if (!data.success) {\n        throw new Error(data.message);\n      }\n      return data;\n    });\n  }\n\n  // ============================================================================\n  // MODAL: REGISTRATION SETTINGS\n  // ============================================================================\n\n  function openRegistrationSettings() {\n    if (typeof Swal === 'undefined') {\n      alert('SweetAlert2 is required for this feature');\n      return;\n    }\n\n    Swal.fire({\n      title: 'Registration Settings',\n      html: '<div class=\"text-center\"><div class=\"spinner-border\" role=\"status\"><span class=\"visually-hidden\">Loading...</span></div><p class=\"mt-2\">Loading registration settings...</p></div>',\n      showConfirmButton: false,\n      allowOutsideClick: false\n    });\n\n    fetch('/admin-panel/api/registration-settings')\n      .then(response => response.json())\n      .then(data => {\n        if (data.success) {\n          showRegistrationSettingsModal(data.settings, data.available_roles);\n        } else {\n          Swal.fire('Error', data.message || 'Failed to load registration settings', 'error');\n        }\n      })\n      .catch(error => {\n        console.error('Registration settings error:', error);\n        Swal.fire('Error', 'Failed to load registration settings', 'error');\n      });\n  }\n\n  function showRegistrationSettingsModal(settings, roles) {\n    const roleOptions = roles.map(role =>\n      `<option value=\"${role.name}\" ${settings.default_user_role === role.name ? 'selected' : ''}>${role.name}</option>`\n    ).join('');\n\n    const html = `\n      <div class=\"text-start\">\n        <p class=\"text-info mb-3\"><i class=\"ti ti-info-circle me-1\"></i>Configure registration settings based on your actual onboarding flow. Discord OAuth is the primary login method.</p>\n\n        <div class=\"row\">\n          <div class=\"col-md-6\">\n            <h6 class=\"text-primary mb-3\">Registration Control</h6>\n            ${createToggle('registrationEnabled', 'Allow New Registration', 'Enable/disable new user registration', settings.registration_enabled)}\n            ${createToggle('waitlistEnabled', 'Enable Waitlist', 'Allow waitlist registration when full', settings.waitlist_registration_enabled)}\n            ${createToggle('adminApproval', 'Admin Approval Required', 'All new users need admin approval', settings.admin_approval_required)}\n            ${createToggle('discordOnly', 'Discord Only Login', 'Only Discord OAuth allowed (FIXED)', true, true)}\n\n            <div class=\"mb-3\">\n              <label class=\"form-label\">Default User Role</label>\n              <select class=\"form-select\" id=\"defaultRole\">\n                ${roleOptions}\n              </select>\n              <small class=\"text-muted\">Role assigned to new registered users</small>\n            </div>\n          </div>\n          <div class=\"col-md-6\">\n            <h6 class=\"text-primary mb-3\">Registration Fields</h6>\n            ${createToggle('requireRealName', 'Require Real Name', '', settings.require_real_name)}\n            ${createToggle('requireEmail', 'Require Email', '', settings.require_email)}\n            ${createToggle('requirePhone', 'Require Phone Number', '', settings.require_phone)}\n            ${createToggle('requireLocation', 'Require Location', '', settings.require_location)}\n            ${createToggle('requireJerseySize', 'Require Jersey Size', '', settings.require_jersey_size)}\n            ${createToggle('requirePositions', 'Require Position Preferences', '', settings.require_position_preferences)}\n            ${createToggle('requireAvailability', 'Require Availability Info', '', settings.require_availability)}\n            ${createToggle('requireReferee', 'Require Referee Willingness', '', settings.require_referee_willingness)}\n          </div>\n        </div>\n        <div class=\"alert alert-info mt-3\">\n          <small><i class=\"ti ti-info-circle me-1\"></i>These settings reflect your real onboarding form fields. Discord OAuth is your primary authentication method.</small>\n        </div>\n      </div>\n    `;\n\n    Swal.fire({\n      title: 'Registration Settings',\n      html: html,\n      width: '900px',\n      showCancelButton: true,\n      confirmButtonText: 'Save Settings',\n      cancelButtonText: 'Cancel',\n      showLoaderOnConfirm: true,\n      preConfirm: () => saveRegistrationSettings(),\n      allowOutsideClick: () => !Swal.isLoading()\n    }).then((result) => {\n      if (result.isConfirmed) {\n        Swal.fire({\n          title: 'Settings Saved!',\n          text: 'Registration settings have been updated successfully. Changes will affect new registrations immediately.',\n          icon: 'success'\n        });\n      }\n    });\n  }\n\n  function saveRegistrationSettings() {\n    const formData = {\n      registration_enabled: document.getElementById('registrationEnabled').checked,\n      waitlist_registration_enabled: document.getElementById('waitlistEnabled').checked,\n      admin_approval_required: document.getElementById('adminApproval').checked,\n      discord_only_login: true,\n      default_user_role: document.getElementById('defaultRole').value,\n      require_real_name: document.getElementById('requireRealName').checked,\n      require_email: document.getElementById('requireEmail').checked,\n      require_phone: document.getElementById('requirePhone').checked,\n      require_location: document.getElementById('requireLocation').checked,\n      require_jersey_size: document.getElementById('requireJerseySize').checked,\n      require_position_preferences: document.getElementById('requirePositions').checked,\n      require_availability: document.getElementById('requireAvailability').checked,\n      require_referee_willingness: document.getElementById('requireReferee').checked\n    };\n\n    return fetch('/admin-panel/api/registration-settings', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n        'X-CSRFToken': getCSRFToken()\n      },\n      body: JSON.stringify(formData)\n    })\n    .then(response => response.json())\n    .then(data => {\n      if (!data.success) {\n        throw new Error(data.message);\n      }\n      return data;\n    });\n  }\n\n  // ============================================================================\n  // MODAL: TASK MONITOR\n  // ============================================================================\n\n  function openTaskMonitor() {\n    if (typeof Swal === 'undefined') {\n      alert('SweetAlert2 is required for this feature');\n      return;\n    }\n\n    Swal.fire({\n      title: 'Task Monitor',\n      html: '<div class=\"text-center\"><div class=\"spinner-border\" role=\"status\"><span class=\"visually-hidden\">Loading...</span></div><p class=\"mt-2\">Loading task information...</p></div>',\n      width: '800px',\n      showConfirmButton: false,\n      allowOutsideClick: false\n    });\n\n    fetch('/admin-panel/api/task-monitor')\n      .then(response => response.json())\n      .then(data => {\n        showTaskMonitorModal(data);\n      })\n      .catch(error => {\n        console.error('Error loading task monitor:', error);\n        Swal.fire('Error', 'Failed to load task monitor data', 'error');\n      });\n  }\n\n  function showTaskMonitorModal(data) {\n    let tasksHtml = '';\n    if (data.tasks && data.tasks.length > 0) {\n      data.tasks.forEach(task => {\n        const statusClass = task.status === 'active' ? 'success' : 'secondary';\n        tasksHtml += `\n          <tr>\n            <td>${task.name}</td>\n            <td><span class=\"badge bg-${statusClass}\">${task.status}</span></td>\n            <td>${task.started || '-'}</td>\n            <td>${task.worker || '-'}</td>\n            <td class=\"text-truncate\">${task.args || '-'}</td>\n          </tr>\n        `;\n      });\n    } else {\n      tasksHtml = '<tr><td colspan=\"5\" class=\"text-center text-muted\">No active tasks found</td></tr>';\n    }\n\n    const html = `\n      <div class=\"text-start\">\n        <div class=\"row mb-3\">\n          <div class=\"col-md-4\">\n            <div class=\"card bg-success text-white\">\n              <div class=\"card-body text-center\">\n                <h4>${data.active_count || 0}</h4>\n                <small>Active Tasks</small>\n              </div>\n            </div>\n          </div>\n          <div class=\"col-md-4\">\n            <div class=\"card bg-warning text-white\">\n              <div class=\"card-body text-center\">\n                <h4>${data.scheduled_count || 0}</h4>\n                <small>Scheduled Tasks</small>\n              </div>\n            </div>\n          </div>\n          <div class=\"col-md-4\">\n            <div class=\"card bg-info text-white\">\n              <div class=\"card-body text-center\">\n                <h4>${data.worker_count || 0}</h4>\n                <small>Workers</small>\n              </div>\n            </div>\n          </div>\n        </div>\n        <div class=\"table-responsive\">\n          <table class=\"table table-sm\">\n            <thead>\n              <tr>\n                <th>Task Name</th>\n                <th>Status</th>\n                <th>Started</th>\n                <th>Worker</th>\n                <th>Arguments</th>\n              </tr>\n            </thead>\n            <tbody>\n              ${tasksHtml}\n            </tbody>\n          </table>\n        </div>\n        ${data.message ? `<div class=\"alert alert-info\"><small>${data.message}</small></div>` : ''}\n        <p class=\"text-muted mt-3\"><small>Task monitoring shows real-time background processes and scheduled jobs.</small></p>\n      </div>\n    `;\n\n    Swal.fire({\n      title: 'Task Monitor',\n      html: html,\n      width: '900px',\n      confirmButtonText: 'Close'\n    });\n  }\n\n  // ============================================================================\n  // MODAL: DATABASE MONITOR\n  // ============================================================================\n\n  function openDatabaseMonitor() {\n    if (typeof Swal === 'undefined') {\n      alert('SweetAlert2 is required for this feature');\n      return;\n    }\n\n    Swal.fire({\n      title: 'Database Monitor',\n      html: '<div class=\"text-center\"><div class=\"spinner-border\" role=\"status\"><span class=\"visually-hidden\">Loading...</span></div><p class=\"mt-2\">Loading system information...</p></div>',\n      width: '900px',\n      showConfirmButton: false,\n      allowOutsideClick: false\n    });\n\n    fetch('/admin-panel/api/system-status')\n      .then(response => response.json())\n      .then(data => {\n        showDatabaseMonitorModal(data);\n      })\n      .catch(error => {\n        console.error('Error loading database monitor:', error);\n        Swal.fire('Error', 'Failed to load system monitor data', 'error');\n      });\n  }\n\n  function showDatabaseMonitorModal(data) {\n    const html = `\n      <div class=\"text-start\">\n        <div class=\"row mb-3\">\n          <div class=\"col-md-3\">\n            <div class=\"card bg-info text-white\">\n              <div class=\"card-body text-center\">\n                <h4>${data.system.cpu_percent}%</h4>\n                <small>CPU Usage</small>\n              </div>\n            </div>\n          </div>\n          <div class=\"col-md-3\">\n            <div class=\"card bg-success text-white\">\n              <div class=\"card-body text-center\">\n                <h4>${data.system.memory_percent}%</h4>\n                <small>Memory Usage</small>\n              </div>\n            </div>\n          </div>\n          <div class=\"col-md-3\">\n            <div class=\"card bg-primary text-white\">\n              <div class=\"card-body text-center\">\n                <h4>${data.services.database.response_time_ms}ms</h4>\n                <small>DB Response Time</small>\n              </div>\n            </div>\n          </div>\n          <div class=\"col-md-3\">\n            <div class=\"card bg-${data.services.redis.status === 'online' ? 'success' : 'danger'} text-white\">\n              <div class=\"card-body text-center\">\n                <h4>${data.services.redis.response_time_ms}ms</h4>\n                <small>Redis Response</small>\n              </div>\n            </div>\n          </div>\n        </div>\n        <p class=\"text-muted mt-3\"><small>Real-time system monitoring data updated at ${new Date(data.timestamp).toLocaleString()}.</small></p>\n      </div>\n    `;\n\n    Swal.fire({\n      title: 'System Monitor',\n      html: html,\n      width: '900px',\n      confirmButtonText: 'Close'\n    });\n  }\n\n  // ============================================================================\n  // MODAL: MATCH REPORTS\n  // ============================================================================\n\n  function openMatchReports() {\n    if (typeof Swal === 'undefined') {\n      alert('SweetAlert2 is required for this feature');\n      return;\n    }\n\n    Swal.fire({\n      title: 'Match Reports',\n      html: `\n        <div class=\"text-start\">\n          <p class=\"text-info mb-3\"><i class=\"ti ti-info-circle me-1\"></i>Generate comprehensive match reports with various options.</p>\n          <div class=\"alert alert-warning\">\n            <strong>Note:</strong> This feature is currently in development. Report generation will be available soon.\n          </div>\n        </div>\n      `,\n      width: '600px',\n      confirmButtonText: 'Close'\n    });\n  }\n\n  function generateReport() {\n    console.log('Generate report functionality coming soon');\n  }\n\n  // ============================================================================\n  // UTILITIES\n  // ============================================================================\n\n  function createToggle(id, label, description, checked, disabled = false) {\n    return `\n      <div class=\"mb-3\">\n        <div class=\"form-check form-switch\">\n          <input class=\"form-check-input\" type=\"checkbox\" id=\"${id}\" ${checked ? 'checked' : ''} ${disabled ? 'disabled' : ''}>\n          <label class=\"form-check-label\" for=\"${id}\">\n            <strong>${label}</strong>\n            ${description ? `<br><small class=\"text-muted\">${description}</small>` : ''}\n          </label>\n        </div>\n      </div>\n    `;\n  }\n\n  function getCSRFToken() {\n    const metaToken = document.querySelector('meta[name=\"csrf-token\"]');\n    if (metaToken) {\n      return metaToken.getAttribute('content');\n    }\n\n    const formToken = document.querySelector('input[name=\"csrf_token\"]');\n    if (formToken) {\n      return formToken.value;\n    }\n\n    console.error('CSRF token not found');\n    return '';\n  }\n\n  // ============================================================================\n  // AUTO-INITIALIZE\n  // ============================================================================\n\n  if (document.readyState === 'loading') {\n    document.addEventListener('DOMContentLoaded', init);\n  } else {\n    init();\n  }\n\n})();\n","/**\n * ============================================================================\n * DISCORD BOT MANAGEMENT - EVENT HANDLERS\n * ============================================================================\n *\n * Modern JavaScript for Discord bot admin panel with event delegation\n * No inline scripts - all handlers attached via data-action attributes\n *\n * Features:\n * - Bot control operations (restart, health check, logs, sync)\n * - Command management (view, permissions, usage, custom)\n * - Guild management (stats, settings, add)\n * - Configuration management (save, reset, load)\n * - Real-time updates and animations\n *\n * ============================================================================\n */\n\n(function() {\n  'use strict';\n\n  // Configuration\n  const CONFIG = {\n    botApiUrl: 'http://localhost:5001/api/bot',\n    recentLogs: null, // Will be populated from template\n    commands: null, // Will be populated from template\n    commandUsage: null, // Will be populated from template\n    guildInfo: null // Will be populated from template\n  };\n\n  // Initialize data from template\n  function initializeData() {\n    // These would be populated from script tags in the template if needed\n    // For now, using placeholder data structure\n    CONFIG.recentLogs = window.__BOT_RECENT_LOGS__ || [];\n    CONFIG.commands = window.__BOT_COMMANDS__ || [];\n    CONFIG.commandUsage = window.__BOT_COMMAND_USAGE__ || {};\n    CONFIG.guildInfo = window.__BOT_GUILD_INFO__ || {};\n  }\n\n  // ============================================================================\n  // BOT CONTROL OPERATIONS\n  // ============================================================================\n\n  async function restartBot() {\n    const result = await Swal.fire({\n      title: 'Restart Discord Bot?',\n      text: 'This will temporarily disconnect the bot from Discord while it restarts.',\n      icon: 'warning',\n      showCancelButton: true,\n      confirmButtonText: 'Restart Bot'\n    });\n\n    if (result.isConfirmed) {\n      Swal.fire({\n        title: 'Restarting Bot...',\n        text: 'Please wait while the bot restarts',\n        allowOutsideClick: false,\n        didOpen: () => {\n          Swal.showLoading();\n\n          fetch(`${CONFIG.botApiUrl}/restart`, {\n            method: 'POST',\n            headers: {\n              'Content-Type': 'application/json',\n            }\n          })\n          .then(response => response.json())\n          .then(data => {\n            if (data.success) {\n              Swal.fire('Restarted!', 'Discord bot restart has been initiated.', 'success');\n            } else {\n              Swal.fire('Error!', `Failed to restart bot: ${data.message || 'Unknown error'}`, 'error');\n            }\n          })\n          .catch(error => {\n            console.error('Error restarting bot:', error);\n            Swal.fire('Error!', 'Failed to connect to bot API.', 'error');\n          });\n        }\n      });\n    }\n  }\n\n  async function checkBotHealth() {\n    Swal.fire({\n      title: 'Running Health Check...',\n      text: 'Checking bot connectivity and status',\n      allowOutsideClick: false,\n      didOpen: () => {\n        Swal.showLoading();\n\n        fetch(`${CONFIG.botApiUrl}/health-detailed`)\n        .then(response => response.json())\n        .then(data => {\n          if (data.status === 'online') {\n            const healthInfo = `\n              <div class=\"text-start\">\n                <p><strong>Status:</strong> ${data.status}</p>\n                <p><strong>Username:</strong> ${data.username || 'Unknown'}</p>\n                <p><strong>Guild Count:</strong> ${data.guild_count || 0}</p>\n                <p><strong>Latency:</strong> ${data.latency || 'N/A'}ms</p>\n                ${data.memory_usage_mb ? `<p><strong>Memory Usage:</strong> ${data.memory_usage_mb}MB</p>` : ''}\n              </div>\n            `;\n            Swal.fire({\n              title: 'Bot Health Check',\n              html: healthInfo,\n              icon: 'success',\n              confirmButtonText: 'Close'\n            });\n          } else {\n            Swal.fire('Bot Offline', `Bot status: ${data.status}. ${data.details || ''}`, 'warning');\n          }\n        })\n        .catch(error => {\n          console.error('Error checking bot health:', error);\n          Swal.fire('Connection Error', 'Failed to connect to bot API.', 'error');\n        });\n      }\n    });\n  }\n\n  function viewBotLogs() {\n    let logsHtml = '';\n    const logs = CONFIG.recentLogs;\n\n    if (logs && logs.length > 0) {\n      logs.forEach(log => {\n        const timestamp = new Date(log.timestamp).toLocaleString();\n        logsHtml += `[${timestamp}] ${log.level}: ${log.message}\\n`;\n      });\n    } else {\n      logsHtml = 'No recent logs available. Bot may not be connected to the API.';\n    }\n\n    Swal.fire({\n      title: 'Discord Bot Logs',\n      html: `\n        <div class=\"bot-logs-container\" style=\"max-height: 400px; overflow-y: auto; text-align: left;\">\n          <pre style=\"font-family: var(--font-mono); font-size: 0.875rem; white-space: pre-wrap;\">${logsHtml}</pre>\n        </div>\n      `,\n      showCancelButton: true,\n      confirmButtonText: 'Refresh Logs',\n      cancelButtonText: 'Close',\n      width: '700px'\n    }).then((result) => {\n      if (result.isConfirmed) {\n        location.reload();\n      }\n    });\n  }\n\n  async function syncCommands() {\n    const result = await Swal.fire({\n      title: 'Sync Commands?',\n      text: 'This will synchronize all slash commands with Discord.',\n      icon: 'question',\n      showCancelButton: true,\n      confirmButtonText: 'Sync Commands'\n    });\n\n    if (result.isConfirmed) {\n      Swal.fire({\n        title: 'Syncing Commands...',\n        text: 'Please wait while commands are synchronized',\n        allowOutsideClick: false,\n        didOpen: () => {\n          Swal.showLoading();\n\n          fetch(`${CONFIG.botApiUrl}/sync-commands`, {\n            method: 'POST',\n            headers: {\n              'Content-Type': 'application/json',\n            }\n          })\n          .then(response => response.json())\n          .then(data => {\n            if (data.success) {\n              Swal.fire('Synced!', `${data.commands_synced || 'All'} commands have been synchronized with Discord.`, 'success');\n            } else {\n              Swal.fire('Error!', `Failed to sync commands: ${data.message || 'Unknown error'}`, 'error');\n            }\n          })\n          .catch(error => {\n            console.error('Error syncing commands:', error);\n            Swal.fire('Error!', 'Failed to connect to bot API.', 'error');\n          });\n        }\n      });\n    }\n  }\n\n  // ============================================================================\n  // COMMAND MANAGEMENT\n  // ============================================================================\n\n  function viewCommands() {\n    const commands = CONFIG.commands;\n    let commandsHtml = '';\n\n    // Group commands by category\n    const categories = {};\n    commands.forEach(cmd => {\n      if (!categories[cmd.category]) {\n        categories[cmd.category] = [];\n      }\n      categories[cmd.category].push(cmd);\n    });\n\n    // Build HTML for each category\n    Object.keys(categories).forEach(category => {\n      commandsHtml += `\n        <div class=\"mb-4\">\n          <h6 class=\"mb-2 text-primary\">${category} Commands</h6>\n          <div class=\"table-responsive\">\n            <table class=\"table table-sm table-hover\">\n              <thead class=\"table-light\">\n                <tr>\n                  <th>Command</th>\n                  <th>Description</th>\n                  <th>Permission</th>\n                </tr>\n              </thead>\n              <tbody>\n      `;\n\n      categories[category].forEach(cmd => {\n        const permissionColor = cmd.permission_level === 'Public' ? 'success' :\n                               cmd.permission_level.includes('Admin') ? 'danger' : 'warning';\n        commandsHtml += `\n          <tr>\n            <td><code>/${cmd.name}</code></td>\n            <td>${cmd.description}</td>\n            <td><span class=\"badge bg-${permissionColor}\">${cmd.permission_level}</span></td>\n          </tr>\n        `;\n      });\n\n      commandsHtml += `\n              </tbody>\n            </table>\n          </div>\n        </div>\n      `;\n    });\n\n    Swal.fire({\n      title: 'Discord Bot Commands',\n      html: `\n        <div class=\"command-list-container\" style=\"max-height: 500px; overflow-y: auto;\">\n          ${commandsHtml}\n        </div>\n      `,\n      confirmButtonText: 'Close',\n      width: '800px'\n    });\n  }\n\n  function commandPermissions() {\n    // Placeholder - would implement permissions management\n    Swal.fire('Command Permissions', 'Command permissions management interface would appear here.', 'info');\n  }\n\n  function commandUsage() {\n    const usage = CONFIG.commandUsage;\n\n    Swal.fire({\n      title: 'Command Usage Statistics',\n      html: `\n        <div class=\"command-usage-stats\" style=\"text-align: left;\">\n          <div class=\"row mb-3\">\n            <div class=\"col-md-6\">\n              <div class=\"card bg-primary text-white\">\n                <div class=\"card-body text-center\">\n                  <h4>${usage.commands_today || 0}</h4>\n                  <small>Commands Today</small>\n                </div>\n              </div>\n            </div>\n            <div class=\"col-md-6\">\n              <div class=\"card bg-info text-white\">\n                <div class=\"card-body text-center\">\n                  <h4>${usage.commands_this_week || 0}</h4>\n                  <small>Commands This Week</small>\n                </div>\n              </div>\n            </div>\n          </div>\n          <div class=\"row\">\n            <div class=\"col-md-6\">\n              <h6>Most Used Command</h6>\n              <p><code>/${usage.most_used_command || 'N/A'}</code></p>\n            </div>\n            <div class=\"col-md-6\">\n              <h6>Average Response Time</h6>\n              <p>${usage.avg_response_time || 'N/A'}</p>\n            </div>\n          </div>\n        </div>\n      `,\n      confirmButtonText: 'Close',\n      width: '700px'\n    });\n  }\n\n  function customCommands() {\n    // Placeholder - would implement custom commands interface\n    Swal.fire('Custom Commands', 'Custom commands management interface would appear here.', 'info');\n  }\n\n  // ============================================================================\n  // GUILD MANAGEMENT\n  // ============================================================================\n\n  function manageGuild(element, e) {\n    const guildId = element.dataset.guild;\n    Swal.fire('Guild Management', `Guild management interface for ${guildId} would appear here.`, 'info');\n  }\n\n  function guildStats(element, e) {\n    const guild = CONFIG.guildInfo;\n\n    Swal.fire({\n      title: `${guild.name || 'Guild'} Statistics`,\n      html: `\n        <div class=\"guild-stats-container\" style=\"text-align: left;\">\n          <div class=\"row mb-3\">\n            <div class=\"col-md-4\">\n              <div class=\"card bg-primary text-white\">\n                <div class=\"card-body text-center\">\n                  <h4>${guild.member_count || 0}</h4>\n                  <small>Total Members</small>\n                </div>\n              </div>\n            </div>\n            <div class=\"col-md-4\">\n              <div class=\"card bg-success text-white\">\n                <div class=\"card-body text-center\">\n                  <h4>${guild.channel_count || 0}</h4>\n                  <small>Channels</small>\n                </div>\n              </div>\n            </div>\n            <div class=\"col-md-4\">\n              <div class=\"card bg-info text-white\">\n                <div class=\"card-body text-center\">\n                  <h4>${guild.role_count || 0}</h4>\n                  <small>Roles</small>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      `,\n      confirmButtonText: 'Close',\n      width: '700px'\n    });\n  }\n\n  function addGuild() {\n    Swal.fire({\n      title: 'Add Bot to Server',\n      html: `\n        <div class=\"add-guild-container\">\n          <p>To add the ECS FC Discord bot to another server, you need administrator permissions on that server.</p>\n          <div class=\"alert alert-info\">\n            <i class=\"ti ti-info-circle me-2\"></i>\n            Click the button below to authorize the bot for a new server.\n          </div>\n          <div class=\"mt-4\">\n            <h6>Required Permissions:</h6>\n            <ul class=\"small\" style=\"text-align: left;\">\n              <li>Manage Roles</li>\n              <li>Send Messages</li>\n              <li>Read Message History</li>\n              <li>Manage Channels</li>\n              <li>Use Application Commands</li>\n            </ul>\n          </div>\n        </div>\n      `,\n      showConfirmButton: false,\n      showCloseButton: true\n    });\n  }\n\n  // ============================================================================\n  // CONFIGURATION MANAGEMENT\n  // ============================================================================\n\n  async function saveBotConfig() {\n    const config = {\n      prefix: document.getElementById('botPrefix')?.value || '!',\n      default_role: document.getElementById('defaultRole')?.value || '',\n      activity_type: document.getElementById('activityType')?.value || 'playing',\n      activity_text: document.getElementById('activityText')?.value || 'ECS FC League',\n      auto_moderation: document.getElementById('autoModeration')?.checked || false,\n      command_logging: document.getElementById('commandLogging')?.checked || false,\n      welcome_messages: document.getElementById('welcomeMessages')?.checked || false\n    };\n\n    Swal.fire({\n      title: 'Saving Configuration...',\n      text: 'Please wait while the configuration is being saved',\n      allowOutsideClick: false,\n      didOpen: () => {\n        Swal.showLoading();\n      }\n    });\n\n    try {\n      const response = await fetch(`${CONFIG.botApiUrl}/config`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify(config)\n      });\n\n      const data = await response.json();\n\n      if (data.success) {\n        Swal.fire('Saved!', 'Bot configuration has been updated successfully.', 'success');\n      } else {\n        Swal.fire('Error!', `Failed to save configuration: ${data.error || 'Unknown error'}`, 'error');\n      }\n    } catch (error) {\n      console.error('Error saving bot config:', error);\n      Swal.fire('Error!', 'Failed to connect to bot API. Please check if the bot is running.', 'error');\n    }\n  }\n\n  function resetBotConfig() {\n    const prefixEl = document.getElementById('botPrefix');\n    const roleEl = document.getElementById('defaultRole');\n    const activityTypeEl = document.getElementById('activityType');\n    const activityTextEl = document.getElementById('activityText');\n    const autoModEl = document.getElementById('autoModeration');\n    const cmdLogEl = document.getElementById('commandLogging');\n    const welcomeEl = document.getElementById('welcomeMessages');\n\n    if (prefixEl) prefixEl.value = '!';\n    if (roleEl) roleEl.value = '';\n    if (activityTypeEl) activityTypeEl.value = 'playing';\n    if (activityTextEl) activityTextEl.value = 'ECS FC League';\n    if (autoModEl) autoModEl.checked = true;\n    if (cmdLogEl) cmdLogEl.checked = true;\n    if (welcomeEl) welcomeEl.checked = true;\n\n    Swal.fire('Reset!', 'Configuration has been reset to defaults.', 'info');\n  }\n\n  async function loadBotConfig() {\n    try {\n      const response = await fetch(`${CONFIG.botApiUrl}/config`);\n      const data = await response.json();\n\n      if (data.success && data.config) {\n        const config = data.config;\n        const prefixEl = document.getElementById('botPrefix');\n        const roleEl = document.getElementById('defaultRole');\n        const activityTypeEl = document.getElementById('activityType');\n        const activityTextEl = document.getElementById('activityText');\n        const autoModEl = document.getElementById('autoModeration');\n        const cmdLogEl = document.getElementById('commandLogging');\n        const welcomeEl = document.getElementById('welcomeMessages');\n\n        if (prefixEl) prefixEl.value = config.prefix || '!';\n        if (roleEl) roleEl.value = config.default_role || '';\n        if (activityTypeEl) activityTypeEl.value = config.activity_type || 'playing';\n        if (activityTextEl) activityTextEl.value = config.activity_text || 'ECS FC League';\n        if (autoModEl) autoModEl.checked = config.auto_moderation !== false;\n        if (cmdLogEl) cmdLogEl.checked = config.command_logging !== false;\n        if (welcomeEl) welcomeEl.checked = config.welcome_messages !== false;\n      }\n    } catch (error) {\n      console.log('Could not load bot configuration:', error);\n      // Use default values if API is not accessible\n    }\n  }\n\n  // ============================================================================\n  // INITIALIZATION\n  // ============================================================================\n\n  function init() {\n    // Page guard: only run on Discord Bot admin pages\n    const isBotPage = document.querySelector('[data-page=\"admin-discord-bot\"]') ||\n                      document.querySelector('.admin-discord-bot') ||\n                      window.location.pathname.includes('discord-bot');\n\n    if (!isBotPage) {\n      return;\n    }\n\n    // Initialize data\n    initializeData();\n\n    // Register all event handlers with EventDelegation\n    if (typeof EventDelegation !== 'undefined') {\n      // Bot Control\n      EventDelegation.register('restart-bot', restartBot, { preventDefault: true });\n      EventDelegation.register('check-bot-health', checkBotHealth, { preventDefault: true });\n      EventDelegation.register('view-bot-logs', viewBotLogs, { preventDefault: true });\n      EventDelegation.register('sync-commands', syncCommands, { preventDefault: true });\n\n      // Command Management\n      EventDelegation.register('view-commands', viewCommands, { preventDefault: true });\n      EventDelegation.register('command-permissions', commandPermissions, { preventDefault: true });\n      EventDelegation.register('command-usage', commandUsage, { preventDefault: true });\n      EventDelegation.register('custom-commands', customCommands, { preventDefault: true });\n\n      // Guild Management\n      EventDelegation.register('manage-guild', manageGuild, { preventDefault: true });\n      EventDelegation.register('guild-stats', guildStats, { preventDefault: true });\n      EventDelegation.register('add-guild', addGuild, { preventDefault: true });\n\n      // Configuration\n      EventDelegation.register('save-bot-config', saveBotConfig, { preventDefault: true });\n      EventDelegation.register('reset-bot-config', resetBotConfig, { preventDefault: true });\n    }\n\n    // Load bot configuration\n    loadBotConfig();\n\n    console.log('Discord Bot Management initialized');\n  }\n\n  // Run initialization when DOM is ready\n  if (document.readyState === 'loading') {\n    document.addEventListener('DOMContentLoaded', init);\n  } else {\n    init();\n  }\n\n})();\n","/**\n * ============================================================================\n * PERFORMANCE MONITORING PAGE - JAVASCRIPT\n * ============================================================================\n *\n * Handles performance monitoring charts and real-time updates\n * Uses Chart.js for visualizations and event delegation for interactions\n *\n * ARCHITECTURAL COMPLIANCE:\n * - Event delegation pattern\n * - Data-attribute based hooks\n * - No inline event handlers\n * - State-driven styling with classList\n *\n * ============================================================================\n */\n\n(function() {\n  'use strict';\n\n  let autoRefresh = true;\n  let refreshInterval;\n  let queryPerformanceChart;\n  let cacheUsageChart;\n\n  /**\n   * Initialize on DOM load\n   */\n  function init() {\n    // Page guard: only run on performance monitoring pages\n    const isPerfPage = document.querySelector('[data-page=\"admin-performance\"]') ||\n                       document.querySelector('.admin-performance') ||\n                       window.location.pathname.includes('performance');\n\n    if (!isPerfPage) {\n      return;\n    }\n\n    initializeCharts();\n    registerEventHandlers();\n    startAutoRefresh();\n  }\n\n  /**\n   * Initialize Chart.js visualizations\n   */\n  function initializeCharts() {\n    // Get data from hidden data element\n    const perfData = document.querySelector('[data-perf-data]');\n    if (!perfData) return;\n\n    const avgQueryTime = parseFloat(perfData.dataset.dbAvgQueryTime || 0);\n    const cacheActive = parseInt(perfData.dataset.cacheActive || 0);\n    const cacheExpired = parseInt(perfData.dataset.cacheExpired || 0);\n\n    // Query Performance Chart\n    const queryCtx = document.querySelector('[data-chart=\"query-performance\"]');\n    if (queryCtx) {\n      queryPerformanceChart = new Chart(queryCtx.getContext('2d'), {\n        type: 'line',\n        data: {\n          labels: ['5min ago', '4min ago', '3min ago', '2min ago', '1min ago', 'Now'],\n          datasets: [{\n            label: 'Avg Query Time (ms)',\n            data: [\n              avgQueryTime * 1000,\n              avgQueryTime * 1000 * 0.9,\n              avgQueryTime * 1000 * 1.1,\n              avgQueryTime * 1000 * 0.8,\n              avgQueryTime * 1000 * 1.2,\n              avgQueryTime * 1000\n            ],\n            borderColor: getCSSVariable('--color-primary') || '#0d6efd',\n            backgroundColor: 'rgba(13, 110, 253, 0.1)',\n            tension: 0.4,\n            fill: true\n          }]\n        },\n        options: {\n          responsive: true,\n          maintainAspectRatio: false,\n          scales: {\n            y: {\n              beginAtZero: true,\n              title: {\n                display: true,\n                text: 'Time (ms)'\n              }\n            }\n          },\n          plugins: {\n            legend: {\n              display: false\n            }\n          }\n        }\n      });\n    }\n\n    // Cache Usage Chart\n    const cacheCtx = document.querySelector('[data-chart=\"cache-usage\"]');\n    if (cacheCtx) {\n      cacheUsageChart = new Chart(cacheCtx.getContext('2d'), {\n        type: 'doughnut',\n        data: {\n          labels: ['Active', 'Expired'],\n          datasets: [{\n            data: [cacheActive, cacheExpired],\n            backgroundColor: [\n              getCSSVariable('--color-success') || '#198754',\n              getCSSVariable('--color-danger') || '#dc3545'\n            ],\n            borderWidth: 0\n          }]\n        },\n        options: {\n          responsive: true,\n          maintainAspectRatio: false,\n          plugins: {\n            legend: {\n              position: 'bottom'\n            }\n          }\n        }\n      });\n    }\n  }\n\n  /**\n   * Register event handlers using EventDelegation\n   */\n  function registerEventHandlers() {\n    if (typeof EventDelegation !== 'undefined') {\n      EventDelegation.register('toggle-auto-refresh', handleToggleAutoRefresh, { preventDefault: true });\n      EventDelegation.register('clear-cache', handleClearCache, { preventDefault: true });\n    }\n  }\n\n  /**\n   * Handle auto-refresh toggle\n   */\n  function handleToggleAutoRefresh() {\n    autoRefresh = !autoRefresh;\n    const statusSpan = document.querySelector('[data-status=\"auto-refresh\"]');\n\n    if (autoRefresh) {\n      if (statusSpan) statusSpan.textContent = 'ON';\n      startAutoRefresh();\n    } else {\n      if (statusSpan) statusSpan.textContent = 'OFF';\n      clearInterval(refreshInterval);\n    }\n  }\n\n  /**\n   * Handle cache clear with confirmation\n   */\n  function handleClearCache(e) {\n    const confirmed = confirm('Are you sure you want to clear all cache?');\n    if (!confirmed) {\n      e.preventDefault();\n      return false;\n    }\n  }\n\n  /**\n   * Start auto-refresh interval\n   */\n  function startAutoRefresh() {\n    // Clear any existing interval\n    if (refreshInterval) {\n      clearInterval(refreshInterval);\n    }\n\n    // Update every 30 seconds\n    refreshInterval = setInterval(updateMetrics, 30000);\n  }\n\n  /**\n   * Update real-time metrics from server\n   */\n  function updateMetrics() {\n    if (!autoRefresh) return;\n\n    fetch('/admin_panel/performance/api/metrics')\n      .then(response => response.json())\n      .then(data => {\n        if (data.success) {\n          const report = data.data;\n\n          // Update live metrics\n          updateLiveValue('query-time', (report.database.avg_query_time * 1000).toFixed(1) + 'ms');\n          updateLiveValue('slow-queries', report.database.slow_queries);\n          updateLiveValue('cache-hits', report.cache.active_entries);\n          updateLiveValue('cache-size', report.cache.cache_size_mb.toFixed(1) + 'MB');\n\n          // Update timestamp\n          const timestampEl = document.querySelector('[data-timestamp]');\n          if (timestampEl) {\n            timestampEl.textContent = new Date(report.timestamp).toLocaleString();\n          }\n\n          // Update colors based on thresholds\n          updateMetricColors(report);\n\n          // Update charts if they exist\n          if (queryPerformanceChart) {\n            updateQueryChart(report.database.avg_query_time * 1000);\n          }\n\n          if (cacheUsageChart) {\n            updateCacheChart(report.cache.active_entries, report.cache.expired_entries);\n          }\n        }\n      })\n      .catch(error => {\n        console.error('Error updating metrics:', error);\n      });\n  }\n\n  /**\n   * Update a live value element\n   */\n  function updateLiveValue(metric, value) {\n    const element = document.querySelector(`[data-live-value=\"${metric}\"]`);\n    if (element) {\n      element.textContent = value;\n    }\n  }\n\n  /**\n   * Update metric colors based on thresholds\n   */\n  function updateMetricColors(report) {\n    const slowQueriesEl = document.querySelector('[data-live-value=\"slow-queries\"]');\n    if (slowQueriesEl) {\n      slowQueriesEl.className = 'c-perf-realtime__value';\n      if (report.database.slow_queries > 5) {\n        slowQueriesEl.classList.add('c-perf-realtime__value--danger');\n      } else if (report.database.slow_queries > 2) {\n        slowQueriesEl.classList.add('c-perf-realtime__value--warning');\n      } else {\n        slowQueriesEl.classList.add('c-perf-realtime__value--success');\n      }\n    }\n\n    const cacheSizeEl = document.querySelector('[data-live-value=\"cache-size\"]');\n    if (cacheSizeEl) {\n      cacheSizeEl.className = 'c-perf-realtime__value';\n      if (report.cache.cache_size_mb > 50) {\n        cacheSizeEl.classList.add('c-perf-realtime__value--warning');\n      } else {\n        cacheSizeEl.classList.add('c-perf-realtime__value--secondary');\n      }\n    }\n  }\n\n  /**\n   * Update query performance chart\n   */\n  function updateQueryChart(newValue) {\n    if (!queryPerformanceChart) return;\n\n    const data = queryPerformanceChart.data.datasets[0].data;\n    data.shift(); // Remove first element\n    data.push(newValue); // Add new value\n\n    queryPerformanceChart.update();\n  }\n\n  /**\n   * Update cache usage chart\n   */\n  function updateCacheChart(active, expired) {\n    if (!cacheUsageChart) return;\n\n    cacheUsageChart.data.datasets[0].data = [active, expired];\n    cacheUsageChart.update();\n  }\n\n  /**\n   * Get CSS variable value\n   */\n  function getCSSVariable(varName) {\n    const value = getComputedStyle(document.documentElement).getPropertyValue(varName);\n    return value ? value.trim() : null;\n  }\n\n  // Run initialization when DOM is ready\n  if (document.readyState === 'loading') {\n    document.addEventListener('DOMContentLoaded', init);\n  } else {\n    init();\n  }\n\n})();\n","/**\n * ============================================================================\n * ADMIN DASHBOARD MODULE\n * ============================================================================\n *\n * Main controller for the admin dashboard page.\n * Handles:\n *   - Docker container status management\n *   - Task management (Celery tasks)\n *   - Role permissions management\n *   - Event delegation for dynamic elements\n *\n * Uses InitSystem for registration and data-* selectors for JS hooks.\n *\n * ============================================================================\n */\n\n(function() {\n    'use strict';\n\n    /* ========================================================================\n       CONFIGURATION\n       ======================================================================== */\n\n    const CONFIG = {\n        selectors: {\n            // Containers\n            dockerStatusContainer: '#dockerStatusContainer',\n            taskManagementContainer: '#taskManagementContainer',\n            toastContainer: '#toastContainer',\n\n            // Permissions\n            roleSelect: '#role_id',\n            permissionsSelect: '#permissions',\n            currentPermissionsList: '#current-permissions-list',\n\n            // Modal\n            dockerLogsContent: '#dockerLogsContent',\n            dockerLogsModalLabel: '#dockerLogsModalLabel',\n\n            // Actions (data-action attribute values)\n            actions: {\n                refreshContainers: 'refresh-containers',\n                openTaskManagement: 'open-task-management',\n                refreshTaskList: 'refresh-task-list',\n                cleanupOldTasks: 'cleanup-old-tasks',\n                loadTaskManagement: 'load-task-management',\n                showLogs: 'show-logs',\n                containerAction: 'container-action',\n                revokeTask: 'revoke-task',\n                viewTaskDetails: 'view-task-details',\n                removeTask: 'remove-task',\n                closeModal: 'close-modal'\n            }\n        },\n        endpoints: {\n            dockerStatus: '/admin/docker-status',\n            dockerLogs: '/admin/docker-logs/',\n            dockerAction: '/admin/docker-',\n            taskManagement: '/admin/task-management',\n            taskDetails: '/admin/task-details/',\n            revokeTask: '/admin/revoke-task/',\n            removeTask: '/admin/remove-task/',\n            cleanupTasks: '/admin/cleanup-tasks',\n            rolePermissions: '/admin/role-permissions/'\n        }\n    };\n\n    /* ========================================================================\n       ADMIN DASHBOARD CONTROLLER\n       ======================================================================== */\n\n    const AdminDashboard = {\n        /**\n         * Initialize the admin dashboard\n         */\n        init: function(context = document) {\n            console.log('[AdminDashboard] Initializing...');\n\n            this.initEventDelegation(context);\n            this.initPermissionsTab(context);\n            this.initDockerStatus(context);\n\n            console.log('[AdminDashboard] Initialized');\n        },\n\n        /**\n         * Event delegation for dynamic elements using data-action attributes\n         */\n        initEventDelegation: function(context) {\n            context.addEventListener('click', (e) => {\n                const actionElement = e.target.closest('[data-action]');\n                if (!actionElement) return;\n\n                const action = actionElement.dataset.action;\n\n                switch(action) {\n                    case CONFIG.selectors.actions.refreshContainers:\n                        e.preventDefault();\n                        this.handleRefreshContainers(actionElement);\n                        break;\n\n                    case CONFIG.selectors.actions.openTaskManagement:\n                        e.preventDefault();\n                        this.openTaskManagement();\n                        break;\n\n                    case CONFIG.selectors.actions.refreshTaskList:\n                        this.refreshTaskList();\n                        break;\n\n                    case CONFIG.selectors.actions.cleanupOldTasks:\n                        this.cleanupOldTasks();\n                        break;\n\n                    case CONFIG.selectors.actions.loadTaskManagement:\n                        this.loadTaskManagement();\n                        break;\n\n                    case CONFIG.selectors.actions.showLogs:\n                        this.showLogs(actionElement.dataset.containerName);\n                        break;\n\n                    case CONFIG.selectors.actions.containerAction:\n                        this.containerAction(\n                            actionElement.dataset.containerName,\n                            actionElement.dataset.containerActionType,\n                            actionElement\n                        );\n                        break;\n\n                    case CONFIG.selectors.actions.revokeTask:\n                        this.revokeTask(actionElement.dataset.taskId);\n                        break;\n\n                    case CONFIG.selectors.actions.viewTaskDetails:\n                        this.viewTaskDetails(actionElement.dataset.taskId);\n                        break;\n\n                    case CONFIG.selectors.actions.removeTask:\n                        this.removeTask(actionElement.dataset.taskId);\n                        break;\n\n                    case CONFIG.selectors.actions.closeModal:\n                        if (window.ModernComponents?.Modal && actionElement.dataset.modalId) {\n                            window.ModernComponents.Modal.close(actionElement.dataset.modalId);\n                        }\n                        break;\n                }\n            });\n        },\n\n        /**\n         * Handle refresh containers button click\n         */\n        handleRefreshContainers: function(target) {\n            target.classList.add('is-loading');\n            target.disabled = true;\n\n            this.fetchDockerStatus().finally(() => {\n                target.classList.remove('is-loading');\n                target.disabled = false;\n            });\n        },\n\n        /* ====================================================================\n           PERMISSIONS TAB\n           ==================================================================== */\n\n        initPermissionsTab: function(context) {\n            const roleSelect = context.querySelector(CONFIG.selectors.roleSelect);\n            const permissionsSelect = context.querySelector(CONFIG.selectors.permissionsSelect);\n            const currentPermissionsList = context.querySelector(CONFIG.selectors.currentPermissionsList);\n\n            // Initialize Select2 for permissions dropdown\n            if (permissionsSelect && typeof $ !== 'undefined' && $.fn.select2) {\n                $(permissionsSelect).select2({\n                    theme: 'bootstrap-5',\n                    placeholder: 'Select permissions...',\n                    allowClear: true,\n                    width: '100%'\n                });\n            }\n\n            if (roleSelect) {\n                roleSelect.addEventListener('change', () => {\n                    const roleId = roleSelect.value;\n                    if (roleId) {\n                        this.fetchRolePermissions(roleId, permissionsSelect, currentPermissionsList);\n                    } else {\n                        if (currentPermissionsList) {\n                            currentPermissionsList.innerHTML = '<li class=\"c-permissions-list__item c-permissions-list__item--empty\">Select a role to view permissions.</li>';\n                        }\n                        if (permissionsSelect) {\n                            if ($(permissionsSelect).hasClass('select2-hidden-accessible')) {\n                                $(permissionsSelect).val([]).trigger('change');\n                            } else {\n                                Array.from(permissionsSelect.options).forEach(option => option.selected = false);\n                            }\n                        }\n                    }\n                });\n            }\n        },\n\n        fetchRolePermissions: function(roleId, permissionsSelect, currentPermissionsList) {\n            fetch(`${CONFIG.endpoints.rolePermissions}${roleId}`)\n                .then(response => response.json())\n                .then(data => {\n                    if (data.success) {\n                        this.updateCurrentPermissionsList(data.permissions, currentPermissionsList);\n\n                        if (permissionsSelect) {\n                            const currentPermissionIds = data.permissions.map(p => p.id.toString());\n\n                            if ($(permissionsSelect).hasClass('select2-hidden-accessible')) {\n                                $(permissionsSelect).val(currentPermissionIds).trigger('change');\n                            } else {\n                                Array.from(permissionsSelect.options).forEach(option => {\n                                    option.selected = currentPermissionIds.includes(option.value);\n                                });\n                            }\n                        }\n                    } else {\n                        currentPermissionsList.innerHTML = '<li class=\"c-permissions-list__item c-permissions-list__item--error\">Error loading permissions</li>';\n                    }\n                })\n                .catch(error => {\n                    console.error('Error fetching role permissions:', error);\n                    currentPermissionsList.innerHTML = '<li class=\"c-permissions-list__item c-permissions-list__item--error\">Error loading permissions</li>';\n                });\n        },\n\n        updateCurrentPermissionsList: function(permissions, listElement) {\n            if (!listElement) return;\n\n            if (permissions.length === 0) {\n                listElement.innerHTML = '<li class=\"c-permissions-list__item c-permissions-list__item--empty\">No permissions assigned.</li>';\n            } else {\n                const permissionsHTML = permissions.map(permission =>\n                    `<li class=\"c-permissions-list__item\">${permission.name}</li>`\n                ).join('');\n                listElement.innerHTML = permissionsHTML;\n            }\n        },\n\n        /* ====================================================================\n           DOCKER STATUS\n           ==================================================================== */\n\n        initDockerStatus: function(context) {\n            const container = context.querySelector(CONFIG.selectors.dockerStatusContainer);\n            if (!container) return;\n\n            this.fetchDockerStatus();\n        },\n\n        fetchDockerStatus: async function() {\n            const container = document.querySelector(CONFIG.selectors.dockerStatusContainer);\n            if (!container) return;\n\n            try {\n                const response = await fetch(CONFIG.endpoints.dockerStatus);\n                const data = await response.json();\n\n                if (data.success && data.containers) {\n                    this.renderContainers(data.containers);\n                } else {\n                    container.innerHTML = `\n                        <div class=\"col-12\">\n                            <div class=\"c-empty-state c-empty-state--warning\">\n                                <i class=\"ti ti-alert-triangle c-empty-state__icon\"></i>\n                                <p class=\"c-empty-state__text\">${data.error || 'Unable to load container status'}</p>\n                            </div>\n                        </div>\n                    `;\n                }\n            } catch (error) {\n                console.error('Error fetching Docker status:', error);\n                container.innerHTML = `\n                    <div class=\"col-12\">\n                        <div class=\"c-empty-state c-empty-state--error\">\n                            <i class=\"ti ti-alert-circle c-empty-state__icon\"></i>\n                            <p class=\"c-empty-state__text\">Failed to load container status</p>\n                        </div>\n                    </div>\n                `;\n            }\n        },\n\n        renderContainers: function(containers) {\n            const container = document.querySelector(CONFIG.selectors.dockerStatusContainer);\n            if (!container) return;\n\n            if (containers.length === 0) {\n                container.innerHTML = `\n                    <div class=\"col-12\">\n                        <div class=\"c-empty-state\">\n                            <i class=\"ti ti-info-circle c-empty-state__icon\"></i>\n                            <p class=\"c-empty-state__text\">No containers found</p>\n                        </div>\n                    </div>\n                `;\n                return;\n            }\n\n            const containersHTML = containers.map(cont => {\n                const statusClass = cont.status === 'running' ? 'success' : 'danger';\n                const statusIcon = cont.status === 'running' ? 'ti-check' : 'ti-x';\n\n                return `\n                    <div class=\"col-xl-4 col-lg-6 mb-3\">\n                        <div class=\"c-container-card\" data-component=\"container-card\" data-container-name=\"${cont.name}\">\n                            <div class=\"c-container-card__header\">\n                                <div class=\"c-container-card__info\">\n                                    <h6 class=\"c-container-card__name\">${cont.name}</h6>\n                                    <small class=\"c-container-card__image\">${cont.image}</small>\n                                </div>\n                                <span class=\"c-badge c-badge--${statusClass}\">\n                                    <i class=\"ti ${statusIcon}\"></i>\n                                    <span>${cont.status}</span>\n                                </span>\n                            </div>\n\n                            <div class=\"c-container-card__body\">\n                                <div class=\"c-container-card__stat\">\n                                    <small class=\"c-container-card__stat-label\">Uptime:</small>\n                                    <small class=\"c-container-card__stat-value\">${cont.uptime || 'N/A'}</small>\n                                </div>\n                                <div class=\"c-container-card__stat\">\n                                    <small class=\"c-container-card__stat-label\">CPU:</small>\n                                    <small class=\"c-container-card__stat-value\">${cont.cpu_usage || 'N/A'}</small>\n                                </div>\n                                <div class=\"c-container-card__stat\">\n                                    <small class=\"c-container-card__stat-label\">Memory:</small>\n                                    <small class=\"c-container-card__stat-value\">${cont.memory_usage || 'N/A'}</small>\n                                </div>\n                            </div>\n\n                            <div class=\"c-container-card__actions\">\n                                ${cont.status === 'running' ?\n                                    `<button class=\"btn btn-outline-warning btn-sm\" data-action=\"container-action\" data-container-name=\"${cont.name}\" data-container-action-type=\"restart\">\n                                        <i class=\"ti ti-refresh\"></i> <span>Restart</span>\n                                    </button>\n                                    <button class=\"btn btn-outline-danger btn-sm\" data-action=\"container-action\" data-container-name=\"${cont.name}\" data-container-action-type=\"stop\">\n                                        <i class=\"ti ti-stop\"></i> <span>Stop</span>\n                                    </button>` :\n                                    `<button class=\"btn btn-outline-success btn-sm\" data-action=\"container-action\" data-container-name=\"${cont.name}\" data-container-action-type=\"start\">\n                                        <i class=\"ti ti-play\"></i> <span>Start</span>\n                                    </button>`\n                                }\n                                <button class=\"btn btn-outline-primary btn-sm\" data-action=\"show-logs\" data-container-name=\"${cont.name}\" title=\"View Logs\">\n                                    <i class=\"ti ti-file-text\"></i>\n                                </button>\n                            </div>\n                        </div>\n                    </div>\n                `;\n            }).join('');\n\n            container.innerHTML = containersHTML;\n        },\n\n        showLogs: async function(containerName) {\n            const content = document.querySelector(CONFIG.selectors.dockerLogsContent);\n            const title = document.querySelector(CONFIG.selectors.dockerLogsModalLabel);\n\n            if (title) title.textContent = `${containerName} - Logs`;\n            if (content) content.textContent = 'Loading logs...';\n\n            if (window.ModernComponents?.Modal) {\n                window.ModernComponents.Modal.open('dockerLogsModal');\n            }\n\n            try {\n                const response = await fetch(`${CONFIG.endpoints.dockerLogs}${containerName}`);\n                const data = await response.json();\n\n                if (data.success) {\n                    if (content) content.textContent = data.logs || 'No logs available';\n                } else {\n                    if (content) content.textContent = `Error: ${data.error || 'Failed to load logs'}`;\n                }\n            } catch (error) {\n                console.error('Error fetching logs:', error);\n                if (content) content.textContent = 'Error loading logs';\n            }\n        },\n\n        containerAction: async function(containerName, action, btn) {\n            if (!btn) return;\n\n            btn.classList.add('is-loading');\n            btn.disabled = true;\n\n            try {\n                const response = await fetch(`${CONFIG.endpoints.dockerAction}${action}/${containerName}`, {\n                    method: 'POST',\n                    headers: { 'Content-Type': 'application/json' }\n                });\n\n                if (response.ok) {\n                    this.showComponentToast('success', 'Success', `Container ${action}ed successfully`);\n                    setTimeout(() => this.fetchDockerStatus(), 1000);\n                } else {\n                    const errorData = await response.json();\n                    this.showComponentToast('error', 'Error', errorData.error || `Failed to ${action} container`);\n                    btn.classList.remove('is-loading');\n                    btn.disabled = false;\n                }\n            } catch (error) {\n                console.error(`Error during ${action}:`, error);\n                this.showComponentToast('error', 'Error', `Failed to ${action} container`);\n                btn.classList.remove('is-loading');\n                btn.disabled = false;\n            }\n        },\n\n        /* ====================================================================\n           TASK MANAGEMENT\n           ==================================================================== */\n\n        openTaskManagement: function() {\n            this.loadTaskManagement();\n            const container = document.querySelector(CONFIG.selectors.taskManagementContainer);\n            if (container) {\n                container.scrollIntoView({ behavior: 'smooth' });\n            }\n        },\n\n        loadTaskManagement: function() {\n            const container = document.querySelector(CONFIG.selectors.taskManagementContainer);\n            if (!container) return;\n\n            container.innerHTML = `\n                <div class=\"text-center py-4\">\n                    <div class=\"c-loading-spinner\" role=\"status\"></div>\n                    <p class=\"c-loading-text\">Loading task management...</p>\n                </div>\n            `;\n\n            this.fetchTaskList();\n        },\n\n        fetchTaskList: async function() {\n            const container = document.querySelector(CONFIG.selectors.taskManagementContainer);\n            if (!container) return;\n\n            try {\n                const response = await fetch(CONFIG.endpoints.taskManagement);\n                const data = await response.json();\n\n                if (data.success) {\n                    this.renderTaskManagement(data);\n                } else {\n                    container.innerHTML = `\n                        <div class=\"alert alert-warning\" role=\"alert\">\n                            <i class=\"ti ti-alert-triangle me-2\"></i>\n                            ${data.error || 'Unable to load task management'}\n                        </div>\n                    `;\n                }\n            } catch (error) {\n                console.error('Error fetching task management:', error);\n                container.innerHTML = `\n                    <div class=\"alert alert-danger\" role=\"alert\">\n                        <i class=\"ti ti-alert-circle me-2\"></i>\n                        Failed to load task management\n                    </div>\n                `;\n            }\n        },\n\n        renderTaskManagement: function(data) {\n            const container = document.querySelector(CONFIG.selectors.taskManagementContainer);\n            if (!container) return;\n\n            const stats = data.statistics || {};\n            const activeTasks = data.active_tasks || [];\n\n            const html = `\n                <div class=\"row mb-4\">\n                    <div class=\"col-md-3\">\n                        <div class=\"c-stat-card c-stat-card--primary\">\n                            <div class=\"c-stat-card__value\">${stats.total_active || 0}</div>\n                            <div class=\"c-stat-card__label\">Active Tasks</div>\n                            <div class=\"c-stat-card__icon\"><i class=\"ti ti-activity\"></i></div>\n                        </div>\n                    </div>\n                    <div class=\"col-md-3\">\n                        <div class=\"c-stat-card c-stat-card--success\">\n                            <div class=\"c-stat-card__value\">${stats.by_status?.SUCCESS || 0}</div>\n                            <div class=\"c-stat-card__label\">Completed</div>\n                            <div class=\"c-stat-card__icon\"><i class=\"ti ti-check\"></i></div>\n                        </div>\n                    </div>\n                    <div class=\"col-md-3\">\n                        <div class=\"c-stat-card c-stat-card--danger\">\n                            <div class=\"c-stat-card__value\">${stats.by_status?.FAILURE || 0}</div>\n                            <div class=\"c-stat-card__label\">Failed</div>\n                            <div class=\"c-stat-card__icon\"><i class=\"ti ti-x\"></i></div>\n                        </div>\n                    </div>\n                    <div class=\"col-md-3\">\n                        <div class=\"c-stat-card c-stat-card--warning\">\n                            <div class=\"c-stat-card__value\">${stats.by_status?.PENDING || 0}</div>\n                            <div class=\"c-stat-card__label\">Pending</div>\n                            <div class=\"c-stat-card__icon\"><i class=\"ti ti-clock\"></i></div>\n                        </div>\n                    </div>\n                </div>\n\n                <div class=\"c-table-wrapper\">\n                    <table class=\"c-table c-table--hover c-table--striped\">\n                        <thead class=\"c-table__head\">\n                            <tr>\n                                <th class=\"c-table__header\">Task ID</th>\n                                <th class=\"c-table__header\">Type</th>\n                                <th class=\"c-table__header\">User</th>\n                                <th class=\"c-table__header\">Status</th>\n                                <th class=\"c-table__header\">Progress</th>\n                                <th class=\"c-table__header\">Created</th>\n                                <th class=\"c-table__header\">Actions</th>\n                            </tr>\n                        </thead>\n                        <tbody class=\"c-table__body\">\n                            ${activeTasks.length > 0 ?\n                                activeTasks.map(task => this.renderTaskRow(task)).join('') :\n                                '<tr><td colspan=\"7\" class=\"text-center c-text-muted py-4\">No active tasks</td></tr>'\n                            }\n                        </tbody>\n                    </table>\n                </div>\n            `;\n\n            container.innerHTML = html;\n        },\n\n        renderTaskRow: function(task) {\n            const statusColor = this.getStatusColor(task.celery_state || task.status);\n\n            return `\n                <tr class=\"c-table__row ${task.celery_state === 'REVOKED' ? 'is-muted' : ''}\">\n                    <td class=\"c-table__cell\" data-label=\"Task ID\">\n                        <code class=\"c-code\">${task.task_id.substring(0, 8)}...</code>\n                        ${task.celery_state === 'REVOKED' ? '<small class=\"c-text-muted\">CANCELLED</small>' : ''}\n                    </td>\n                    <td class=\"c-table__cell\" data-label=\"Type\">\n                        <span class=\"c-badge c-badge--secondary\">${task.task_type || 'unknown'}</span>\n                    </td>\n                    <td class=\"c-table__cell\" data-label=\"User\">${task.user_id || 'N/A'}</td>\n                    <td class=\"c-table__cell\" data-label=\"Status\">\n                        <span class=\"c-badge c-badge--${statusColor}\">\n                            ${task.celery_state || task.status || 'UNKNOWN'}\n                        </span>\n                    </td>\n                    <td class=\"c-table__cell\" data-label=\"Progress\">\n                        <div class=\"c-progress\">\n                            <div class=\"c-progress__bar c-progress__bar--${statusColor}\"\n                                 role=\"progressbar\"\n                                 aria-valuenow=\"${task.progress || 0}\"\n                                 aria-valuemin=\"0\" aria-valuemax=\"100\"\n                                 style=\"width: ${task.progress || 0}%\">\n                                ${task.progress || 0}%\n                            </div>\n                        </div>\n                        ${task.stage ? `<small class=\"c-text-muted\">${task.stage}</small>` : ''}\n                    </td>\n                    <td class=\"c-table__cell\" data-label=\"Created\">\n                        <small>${task.created_at ? new Date(task.created_at).toLocaleString() : 'N/A'}</small>\n                    </td>\n                    <td class=\"c-table__cell\" data-label=\"Actions\">\n                        <div class=\"c-button-group c-button-group--sm\">\n                            ${['PENDING', 'PROGRESS', 'STARTED'].includes(task.celery_state) ?\n                                `<button class=\"btn btn-outline-danger btn-sm\" data-action=\"revoke-task\" data-task-id=\"${task.task_id}\" title=\"DESTROY Task (Nuclear Option)\">\n                                    <i class=\"ti ti-bomb\"></i>\n                                </button>` : ''\n                            }\n                            ${['REVOKED', 'FAILURE', 'SUCCESS'].includes(task.celery_state) ?\n                                `<button class=\"btn btn-outline-secondary btn-sm\" data-action=\"remove-task\" data-task-id=\"${task.task_id}\" title=\"Remove from List\">\n                                    <i class=\"ti ti-trash\"></i> <span>Clear</span>\n                                </button>` : ''\n                            }\n                            <button class=\"btn btn-outline-primary btn-sm\" data-action=\"view-task-details\" data-task-id=\"${task.task_id}\" title=\"View Details\">\n                                <i class=\"ti ti-eye\"></i>\n                            </button>\n                        </div>\n                    </td>\n                </tr>\n            `;\n        },\n\n        getStatusColor: function(status) {\n            const colors = {\n                'SUCCESS': 'success',\n                'FAILURE': 'danger',\n                'PENDING': 'warning',\n                'STARTED': 'primary',\n                'PROGRESS': 'primary',\n                'REVOKED': 'dark'\n            };\n            return colors[status] || 'light';\n        },\n\n        revokeTask: async function(taskId) {\n            const result = await Swal.fire({\n                title: 'DESTROY Task?',\n                html: `\n                    <div class=\"text-start\">\n                        <p class=\"text-warning\"><strong> WARNING: Nuclear Option</strong></p>\n                        <p>This will completely <strong>DESTROY</strong> the task:</p>\n                        <ul class=\"text-start\">\n                            <li>Terminate the running process</li>\n                            <li>Remove all Redis data</li>\n                            <li>Purge from all tracking systems</li>\n                            <li>Cannot be undone</li>\n                        </ul>\n                        <p class=\"text-danger\"><strong>Are you absolutely sure?</strong></p>\n                    </div>\n                `,\n                icon: 'warning',\n                showCancelButton: true,\n                confirmButtonColor: this.getThemeColor('danger', '#dc3545'),\n                cancelButtonColor: this.getThemeColor('secondary', '#6c757d'),\n                confirmButtonText: ' DESTROY IT',\n                cancelButtonText: 'No, keep it',\n                width: '500px'\n            });\n\n            if (!result.isConfirmed) return;\n\n            try {\n                const response = await fetch(`${CONFIG.endpoints.revokeTask}${taskId}`, {\n                    method: 'POST',\n                    headers: {\n                        'Content-Type': 'application/json',\n                        'X-CSRFToken': this.getCsrfToken()\n                    }\n                });\n\n                const data = await response.json();\n\n                if (data.success) {\n                    Swal.fire({\n                        title: 'DESTROYED! ',\n                        text: 'The task has been completely obliterated.',\n                        icon: 'success',\n                        timer: 3000,\n                        showConfirmButton: false\n                    });\n                    setTimeout(() => this.refreshTaskList(), 1000);\n                } else {\n                    Swal.fire({ title: 'Error!', text: data.error || 'Failed to destroy task', icon: 'error' });\n                }\n            } catch (error) {\n                console.error('Error destroying task:', error);\n                Swal.fire({ title: 'Error!', text: 'Failed to destroy task', icon: 'error' });\n            }\n        },\n\n        viewTaskDetails: async function(taskId) {\n            try {\n                const response = await fetch(`${CONFIG.endpoints.taskDetails}${taskId}`);\n                const data = await response.json();\n\n                if (data.success) {\n                    const task = data.task;\n                    const detailsHtml = `\n                        <div class=\"text-start\">\n                            <p><strong>Task ID:</strong> <code>${task.task_id}</code></p>\n                            <p><strong>Type:</strong> <span class=\"c-badge c-badge--secondary\">${task.task_type || 'N/A'}</span></p>\n                            <p><strong>Status:</strong> <span class=\"c-badge c-badge--${this.getStatusColor(task.celery_state || task.status)}\">${task.celery_state || task.status || 'N/A'}</span></p>\n                            <p><strong>Progress:</strong> ${task.progress || 0}%</p>\n                            <p><strong>Stage:</strong> ${task.stage || 'N/A'}</p>\n                            <p><strong>Created:</strong> ${task.created_at ? new Date(task.created_at).toLocaleString() : 'N/A'}</p>\n                            ${task.message ? `<p><strong>Message:</strong> ${task.message}</p>` : ''}\n                        </div>\n                    `;\n\n                    Swal.fire({\n                        title: 'Task Details',\n                        html: detailsHtml,\n                        icon: 'info',\n                        width: '600px',\n                        confirmButtonText: 'Close'\n                    });\n                } else {\n                    Swal.fire({ title: 'Error!', text: data.error || 'Failed to load task details', icon: 'error' });\n                }\n            } catch (error) {\n                console.error('Error fetching task details:', error);\n                Swal.fire({ title: 'Error!', text: 'Failed to load task details', icon: 'error' });\n            }\n        },\n\n        removeTask: async function(taskId) {\n            const result = await Swal.fire({\n                title: 'Remove Task?',\n                text: 'This will remove the task from the list. Are you sure?',\n                icon: 'question',\n                showCancelButton: true,\n                confirmButtonColor: this.getThemeColor('secondary', '#6c757d'),\n                cancelButtonColor: this.getThemeColor('danger', '#dc3545'),\n                confirmButtonText: 'Yes, remove it',\n                cancelButtonText: 'Cancel'\n            });\n\n            if (!result.isConfirmed) return;\n\n            try {\n                const response = await fetch(`${CONFIG.endpoints.removeTask}${taskId}`, {\n                    method: 'POST',\n                    headers: {\n                        'Content-Type': 'application/json',\n                        'X-CSRFToken': this.getCsrfToken()\n                    }\n                });\n\n                const data = await response.json();\n\n                if (data.success) {\n                    Swal.fire({\n                        title: 'Removed!',\n                        text: 'The task has been removed from the list.',\n                        icon: 'success',\n                        timer: 2000,\n                        showConfirmButton: false\n                    });\n                    setTimeout(() => this.refreshTaskList(), 500);\n                } else {\n                    Swal.fire({ title: 'Error!', text: data.error || 'Failed to remove task', icon: 'error' });\n                }\n            } catch (error) {\n                console.error('Error removing task:', error);\n                Swal.fire({ title: 'Error!', text: 'Failed to remove task', icon: 'error' });\n            }\n        },\n\n        cleanupOldTasks: async function() {\n            const result = await Swal.fire({\n                title: 'Cleanup Old Tasks?',\n                html: `\n                    <div class=\"text-start\">\n                        <p>This will remove:</p>\n                        <ul class=\"text-start\">\n                            <li>TaskManager entries older than 24 hours</li>\n                            <li>Celery metadata older than 7 days</li>\n                            <li>Improves Redis performance</li>\n                        </ul>\n                        <p class=\"text-muted\"><small>Recent tasks will be preserved</small></p>\n                    </div>\n                `,\n                icon: 'question',\n                showCancelButton: true,\n                confirmButtonColor: this.getThemeColor('warning', '#ffc107'),\n                cancelButtonColor: this.getThemeColor('secondary', '#6c757d'),\n                confirmButtonText: ' Clean Up',\n                cancelButtonText: 'Cancel'\n            });\n\n            if (!result.isConfirmed) return;\n\n            try {\n                const response = await fetch(CONFIG.endpoints.cleanupTasks, {\n                    method: 'POST',\n                    headers: {\n                        'Content-Type': 'application/json',\n                        'X-CSRFToken': this.getCsrfToken()\n                    }\n                });\n\n                const data = await response.json();\n\n                if (data.success) {\n                    Swal.fire({\n                        title: 'Cleanup Complete! ',\n                        html: `\n                            <div class=\"text-start\">\n                                <p><strong>Cleaned up:</strong></p>\n                                <ul>\n                                    <li>Registry: ${data.registry_cleaned} tasks</li>\n                                    <li>Metadata: ${data.metadata_cleaned} keys</li>\n                                    <li><strong>Total: ${data.total_cleaned} items</strong></li>\n                                </ul>\n                            </div>\n                        `,\n                        icon: 'success',\n                        timer: 4000,\n                        showConfirmButton: false\n                    });\n                    setTimeout(() => this.refreshTaskList(), 1000);\n                } else {\n                    Swal.fire({ title: 'Error!', text: data.error || 'Failed to cleanup tasks', icon: 'error' });\n                }\n            } catch (error) {\n                console.error('Error cleaning up tasks:', error);\n                Swal.fire({ title: 'Error!', text: 'Failed to cleanup tasks', icon: 'error' });\n            }\n        },\n\n        refreshTaskList: function() {\n            this.fetchTaskList();\n        },\n\n        /* ====================================================================\n           UTILITY FUNCTIONS\n           ==================================================================== */\n\n        getCsrfToken: function() {\n            return document.querySelector('input[name=\"csrf_token\"]')?.value ||\n                   document.querySelector('meta[name=\"csrf-token\"]')?.getAttribute('content') || '';\n        },\n\n        getThemeColor: function(colorName, fallback) {\n            return (typeof ECSTheme !== 'undefined' && ECSTheme.getColor) ?\n                   ECSTheme.getColor(colorName) : fallback;\n        },\n\n        showComponentToast: function(type, title, message) {\n            if (window.ModernComponents?.Toast) {\n                window.ModernComponents.Toast.show({ type, title, message, duration: 5000 });\n            }\n        },\n\n        showToast: function(title, message, type) {\n            const container = document.querySelector(CONFIG.selectors.toastContainer);\n            if (!container) return;\n\n            const toastId = 'toast-' + Date.now();\n            const toastHTML = `\n                <div id=\"${toastId}\" class=\"toast align-items-center border-0 bg-${type} text-white\" role=\"alert\" aria-live=\"assertive\" aria-atomic=\"true\">\n                    <div class=\"d-flex\">\n                        <div class=\"toast-body\">\n                            <strong>${title}:</strong> ${message}\n                        </div>\n                        <button type=\"button\" class=\"btn-close btn-close-white me-2 m-auto\" data-bs-dismiss=\"toast\" aria-label=\"Close\"></button>\n                    </div>\n                </div>\n            `;\n            container.insertAdjacentHTML('beforeend', toastHTML);\n\n            const toastElement = document.getElementById(toastId);\n            if (toastElement && typeof bootstrap !== 'undefined') {\n                const toast = new bootstrap.Toast(toastElement, { autohide: true, delay: 5000 });\n                toast.show();\n\n                toastElement.addEventListener('hidden.bs.toast', function() {\n                    toastElement.remove();\n                });\n            }\n        }\n    };\n\n    /* ========================================================================\n       REGISTER WITH INITSYSTEM OR FALLBACK TO DOMCONTENTLOADED\n       ======================================================================== */\n\n    if (typeof window.InitSystem !== 'undefined') {\n        window.InitSystem.register('AdminDashboard', {\n            priority: 50,\n            init: function(context) {\n                AdminDashboard.init(context);\n            }\n        });\n    } else {\n        document.addEventListener('DOMContentLoaded', function() {\n            AdminDashboard.init(document);\n        });\n    }\n\n    // Expose for external access if needed\n    window.AdminDashboard = AdminDashboard;\n\n})();\n","/**\n * ============================================================================\n * MESSAGE CATEGORIES - Category Management for Message Templates\n * ============================================================================\n *\n * Handles message template category management in the admin panel.\n * Replaces 43-line inline script from messages.html.\n *\n * Features:\n * - Edit message categories\n * - Delete message categories with confirmation\n * - Event delegation for dynamic actions\n *\n * NO INLINE STYLES - Uses CSS classes and data attributes instead.\n *\n * Dependencies:\n * - Bootstrap 5.x (modals)\n * - SweetAlert2 (confirmations)\n * - EventDelegation (centralized event handling)\n *\n * ============================================================================\n */\n\n(function() {\n    'use strict';\n\n    // ========================================================================\n    // EDIT CATEGORY\n    // ========================================================================\n\n    /**\n     * Edit a message category\n     * Opens modal with pre-filled category data\n     * @param {number} id - Category ID\n     * @param {string} name - Category name\n     * @param {string} description - Category description\n     */\n    function editCategory(id, name, description) {\n        const idInput = document.getElementById('edit_category_id');\n        const nameInput = document.getElementById('edit_category_name');\n        const descInput = document.getElementById('edit_category_description');\n\n        if (idInput) idInput.value = id;\n        if (nameInput) nameInput.value = name;\n        if (descInput) descInput.value = description || '';\n\n        // Show edit modal\n        const modalEl = document.getElementById('editCategoryModal');\n        if (modalEl) {\n            ModalManager.show('editCategoryModal');\n        }\n    }\n\n    // ========================================================================\n    // DELETE CATEGORY\n    // ========================================================================\n\n    /**\n     * Delete a message category\n     * Shows confirmation dialog before deletion\n     * @param {number} id - Category ID\n     * @param {string} name - Category name for display\n     * @param {string} deleteUrl - URL to submit delete request\n     * @param {string} csrfToken - CSRF token for form submission\n     */\n    function deleteCategory(id, name, deleteUrl, csrfToken) {\n        Swal.fire({\n            title: 'Delete Category?',\n            text: `Are you sure you want to delete \"${name}\"? This action cannot be undone.`,\n            icon: 'warning',\n            showCancelButton: true,\n            confirmButtonColor: (typeof ECSTheme !== 'undefined') ? ECSTheme.getColor('danger') : '#dc3545',\n            cancelButtonColor: (typeof ECSTheme !== 'undefined') ? ECSTheme.getColor('info') : '#3085d6',\n            confirmButtonText: 'Yes, delete it!'\n        }).then((result) => {\n            if (result.isConfirmed) {\n                // Create form and submit\n                const form = document.createElement('form');\n                form.method = 'POST';\n                form.action = deleteUrl;\n\n                const csrfInput = document.createElement('input');\n                csrfInput.type = 'hidden';\n                csrfInput.name = 'csrf_token';\n                csrfInput.value = csrfToken;\n\n                const categoryIdInput = document.createElement('input');\n                categoryIdInput.type = 'hidden';\n                categoryIdInput.name = 'category_id';\n                categoryIdInput.value = id;\n\n                form.appendChild(csrfInput);\n                form.appendChild(categoryIdInput);\n                document.body.appendChild(form);\n                form.submit();\n            }\n        });\n    }\n\n    // ========================================================================\n    // ACTION HANDLERS\n    // ========================================================================\n\n    /**\n     * Handle edit category action\n     * @param {Event} e - The event object\n     */\n    function handleEditCategory(e) {\n        const editId = e.target.dataset.categoryId;\n        const editName = e.target.dataset.categoryName;\n        const editDesc = e.target.dataset.categoryDescription;\n        editCategory(editId, editName, editDesc);\n    }\n\n    /**\n     * Handle delete category action\n     * @param {Event} e - The event object\n     */\n    function handleDeleteCategory(e) {\n        const deleteId = e.target.dataset.categoryId;\n        const deleteName = e.target.dataset.categoryName;\n        const deleteUrl = e.target.dataset.deleteUrl;\n        const csrfToken = e.target.dataset.csrfToken;\n        deleteCategory(deleteId, deleteName, deleteUrl, csrfToken);\n    }\n\n    // ========================================================================\n    // EVENT DELEGATION\n    // ========================================================================\n\n    /**\n     * Initialize event delegation for category actions\n     */\n    function initEventDelegation() {\n        if (typeof EventDelegation === 'undefined') {\n            console.error('[Message Categories] EventDelegation not available');\n            return;\n        }\n\n        EventDelegation.register('edit-category', handleEditCategory, { preventDefault: true });\n        EventDelegation.register('delete-category', handleDeleteCategory, { preventDefault: true });\n    }\n\n    // ========================================================================\n    // INITIALIZATION\n    // ========================================================================\n\n    /**\n     * Initialize all message category functionality\n     */\n    function init() {\n        // Page guard: only run on message categories page\n        if (!document.getElementById('editCategoryModal')) {\n            return;\n        }\n\n        console.log('[Message Categories] Initializing...');\n        initEventDelegation();\n        console.log('[Message Categories] Initialization complete');\n    }\n\n    // ========================================================================\n    // DOM READY\n    // ========================================================================\n\n    // Initialize when DOM is ready\n    if (document.readyState === 'loading') {\n        document.addEventListener('DOMContentLoaded', init);\n    } else {\n        // DOM already loaded\n        init();\n    }\n\n    // Expose public API\n    window.MessageCategories = {\n        version: '1.0.0',\n        editCategory,\n        deleteCategory,\n        init\n    };\n\n})();\n","/**\n * ============================================================================\n * MESSAGE TEMPLATE DETAIL - Template Management in Categories\n * ============================================================================\n *\n * Handles message template management within categories in the admin panel.\n * Replaces 90-line inline script from category_detail.html.\n *\n * Features:\n * - View template content\n * - Edit templates\n * - Toggle template active status\n * - Delete templates with confirmation\n * - Event delegation for dynamic actions\n *\n * NO INLINE STYLES - Uses CSS classes and data attributes instead.\n *\n * Dependencies:\n * - Bootstrap 5.x (modals)\n * - SweetAlert2 (confirmations)\n * - EventDelegation (centralized event handling)\n *\n * ============================================================================\n */\n\n(function() {\n    'use strict';\n\n    // ========================================================================\n    // VIEW TEMPLATE\n    // ========================================================================\n\n    /**\n     * View template content in modal\n     * @param {number} id - Template ID\n     * @param {string} name - Template name\n     * @param {string} content - Template content\n     */\n    function viewTemplate(id, name, content) {\n        const titleEl = document.getElementById('view_template_title');\n        const contentEl = document.getElementById('view_template_content');\n\n        if (titleEl) titleEl.textContent = name;\n        if (contentEl) contentEl.textContent = content;\n\n        // Show modal\n        const modalEl = document.getElementById('viewTemplateModal');\n        if (modalEl) {\n            ModalManager.show('viewTemplateModal');\n        }\n    }\n\n    // ========================================================================\n    // EDIT TEMPLATE\n    // ========================================================================\n\n    /**\n     * Edit a template\n     * Opens modal with pre-filled template data\n     * @param {number} id - Template ID\n     * @param {string} name - Template name\n     * @param {string} description - Template description\n     * @param {string} content - Template content\n     * @param {string} channelType - Channel type (discord_dm, sms, etc.)\n     * @param {string} usageContext - Usage context description\n     * @param {boolean} isActive - Template active status\n     */\n    function editTemplate(id, name, description, content, channelType, usageContext, isActive) {\n        const idInput = document.getElementById('edit_template_id');\n        const nameInput = document.getElementById('edit_template_name');\n        const descInput = document.getElementById('edit_template_description');\n        const contentInput = document.getElementById('edit_template_content');\n        const channelSelect = document.getElementById('edit_channel_type');\n        const contextInput = document.getElementById('edit_usage_context');\n        const activeCheckbox = document.getElementById('edit_template_active');\n\n        if (idInput) idInput.value = id;\n        if (nameInput) nameInput.value = name;\n        if (descInput) descInput.value = description || '';\n        if (contentInput) contentInput.value = content;\n        if (channelSelect) channelSelect.value = channelType || '';\n        if (contextInput) contextInput.value = usageContext || '';\n        if (activeCheckbox) activeCheckbox.checked = isActive;\n\n        // Show edit modal\n        const modalEl = document.getElementById('editTemplateModal');\n        if (modalEl) {\n            ModalManager.show('editTemplateModal');\n        }\n    }\n\n    // ========================================================================\n    // TOGGLE TEMPLATE STATUS\n    // ========================================================================\n\n    /**\n     * Toggle template active/inactive status\n     * @param {number} id - Template ID\n     * @param {string} name - Template name for display\n     * @param {boolean} currentStatus - Current active status\n     * @param {string} toggleUrl - URL to submit toggle request\n     * @param {string} csrfToken - CSRF token for form submission\n     */\n    function toggleTemplate(id, name, currentStatus, toggleUrl, csrfToken) {\n        const action = currentStatus ? 'deactivate' : 'activate';\n        const newStatus = !currentStatus;\n\n        Swal.fire({\n            title: `${action.charAt(0).toUpperCase() + action.slice(1)} Template?`,\n            text: `Are you sure you want to ${action} \"${name}\"?`,\n            icon: 'question',\n            showCancelButton: true,\n            confirmButtonColor: newStatus ?\n                (getComputedStyle(document.documentElement).getPropertyValue('--ecs-success').trim() || '#198754') :\n                (getComputedStyle(document.documentElement).getPropertyValue('--ecs-warning').trim() || '#ffc107'),\n            cancelButtonColor: (typeof ECSTheme !== 'undefined') ?\n                ECSTheme.getColor('secondary') :\n                (getComputedStyle(document.documentElement).getPropertyValue('--ecs-neutral-50').trim() || '#6c757d'),\n            confirmButtonText: `Yes, ${action} it!`\n        }).then((result) => {\n            if (result.isConfirmed) {\n                // Create form and submit\n                const form = document.createElement('form');\n                form.method = 'POST';\n                form.action = toggleUrl;\n\n                const csrfInput = document.createElement('input');\n                csrfInput.type = 'hidden';\n                csrfInput.name = 'csrf_token';\n                csrfInput.value = csrfToken;\n\n                const templateIdInput = document.createElement('input');\n                templateIdInput.type = 'hidden';\n                templateIdInput.name = 'template_id';\n                templateIdInput.value = id;\n\n                form.appendChild(csrfInput);\n                form.appendChild(templateIdInput);\n                document.body.appendChild(form);\n                form.submit();\n            }\n        });\n    }\n\n    // ========================================================================\n    // DELETE TEMPLATE\n    // ========================================================================\n\n    /**\n     * Delete a template\n     * Shows confirmation dialog before deletion\n     * @param {number} id - Template ID\n     * @param {string} name - Template name for display\n     * @param {string} deleteUrl - URL to submit delete request\n     * @param {string} csrfToken - CSRF token for form submission\n     */\n    function deleteTemplate(id, name, deleteUrl, csrfToken) {\n        Swal.fire({\n            title: 'Delete Template?',\n            text: `Are you sure you want to delete \"${name}\"? This action cannot be undone.`,\n            icon: 'warning',\n            showCancelButton: true,\n            confirmButtonColor: (typeof ECSTheme !== 'undefined') ?\n                ECSTheme.getColor('danger') :\n                (getComputedStyle(document.documentElement).getPropertyValue('--ecs-danger').trim() || '#dc3545'),\n            cancelButtonColor: (typeof ECSTheme !== 'undefined') ?\n                ECSTheme.getColor('info') :\n                (getComputedStyle(document.documentElement).getPropertyValue('--ecs-info').trim() || '#0dcaf0'),\n            confirmButtonText: 'Yes, delete it!'\n        }).then((result) => {\n            if (result.isConfirmed) {\n                // Create form and submit\n                const form = document.createElement('form');\n                form.method = 'POST';\n                form.action = deleteUrl;\n\n                const csrfInput = document.createElement('input');\n                csrfInput.type = 'hidden';\n                csrfInput.name = 'csrf_token';\n                csrfInput.value = csrfToken;\n\n                const templateIdInput = document.createElement('input');\n                templateIdInput.type = 'hidden';\n                templateIdInput.name = 'template_id';\n                templateIdInput.value = id;\n\n                form.appendChild(csrfInput);\n                form.appendChild(templateIdInput);\n                document.body.appendChild(form);\n                form.submit();\n            }\n        });\n    }\n\n    // ========================================================================\n    // VARIABLE INSERTION\n    // ========================================================================\n\n    /**\n     * Insert variable into textarea at cursor position\n     * @param {string} variable - Variable string to insert\n     * @param {string} targetId - ID of textarea to insert into\n     */\n    function insertVariable(variable, targetId) {\n        const textarea = document.getElementById(targetId);\n        if (!textarea) return;\n\n        const start = textarea.selectionStart;\n        const end = textarea.selectionEnd;\n        const text = textarea.value;\n\n        // Insert variable at cursor position\n        textarea.value = text.substring(0, start) + variable + text.substring(end);\n\n        // Move cursor to after inserted variable\n        const newPos = start + variable.length;\n        textarea.setSelectionRange(newPos, newPos);\n        textarea.focus();\n    }\n\n    /**\n     * Initialize variable button click handlers\n     */\n    function initVariableButtons() {\n        document.addEventListener('click', function(e) {\n            const varBtn = e.target.closest('.var-btn');\n            if (!varBtn) return;\n\n            e.preventDefault();\n            const variable = varBtn.dataset.var;\n            const targetId = varBtn.dataset.target || 'template_content';\n\n            // Determine target based on which modal is open\n            let actualTarget = targetId;\n            const editModal = document.getElementById('editTemplateModal');\n            const createModal = document.getElementById('createTemplateModal');\n\n            if (editModal && editModal.classList.contains('show')) {\n                actualTarget = 'edit_template_content';\n            } else if (createModal && createModal.classList.contains('show')) {\n                actualTarget = 'template_content';\n            }\n\n            insertVariable(variable, actualTarget);\n\n            // Visual feedback\n            varBtn.classList.add('inserted');\n            setTimeout(() => varBtn.classList.remove('inserted'), 300);\n        });\n    }\n\n    // ========================================================================\n    // ACTION HANDLERS\n    // ========================================================================\n\n    /**\n     * Handle go back action\n     * @param {Event} e - The event object\n     */\n    function handleGoBack(e) {\n        window.history.back();\n    }\n\n    /**\n     * Handle view template action\n     * @param {Event} e - The event object\n     */\n    function handleViewTemplate(e) {\n        const viewId = e.target.dataset.templateId;\n        const viewName = e.target.dataset.templateName;\n        const viewContent = e.target.dataset.templateContent;\n        viewTemplate(viewId, viewName, viewContent);\n    }\n\n    /**\n     * Handle edit template action\n     * @param {Event} e - The event object\n     */\n    function handleEditTemplate(e) {\n        const editId = e.target.dataset.templateId;\n        const editName = e.target.dataset.templateName;\n        const editDesc = e.target.dataset.templateDescription;\n        const editContent = e.target.dataset.templateContent;\n        const editChannel = e.target.dataset.templateChannel;\n        const editContext = e.target.dataset.templateContext;\n        const editActive = e.target.dataset.templateActive === 'true';\n        editTemplate(editId, editName, editDesc, editContent, editChannel, editContext, editActive);\n    }\n\n    /**\n     * Handle toggle template action\n     * @param {Event} e - The event object\n     */\n    function handleToggleTemplate(e) {\n        const toggleId = e.target.dataset.templateId;\n        const toggleName = e.target.dataset.templateName;\n        const toggleActive = e.target.dataset.templateActive === 'true';\n        const toggleUrl = e.target.dataset.toggleUrl;\n        const toggleCsrf = e.target.dataset.csrfToken;\n        toggleTemplate(toggleId, toggleName, toggleActive, toggleUrl, toggleCsrf);\n    }\n\n    /**\n     * Handle delete template action\n     * @param {Event} e - The event object\n     */\n    function handleDeleteTemplate(e) {\n        const deleteId = e.target.dataset.templateId;\n        const deleteName = e.target.dataset.templateName;\n        const deleteUrl = e.target.dataset.deleteUrl;\n        const deleteCsrf = e.target.dataset.csrfToken;\n        deleteTemplate(deleteId, deleteName, deleteUrl, deleteCsrf);\n    }\n\n    // ========================================================================\n    // EVENT DELEGATION\n    // ========================================================================\n\n    /**\n     * Initialize event delegation for template actions\n     */\n    function initEventDelegation() {\n        if (typeof EventDelegation === 'undefined') {\n            console.error('[Template Detail] EventDelegation not available');\n            return;\n        }\n\n        EventDelegation.register('go-back', handleGoBack, { preventDefault: true });\n        EventDelegation.register('view-template', handleViewTemplate, { preventDefault: true });\n        EventDelegation.register('edit-template', handleEditTemplate, { preventDefault: true });\n        EventDelegation.register('toggle-template', handleToggleTemplate, { preventDefault: true });\n        EventDelegation.register('delete-template', handleDeleteTemplate, { preventDefault: true });\n    }\n\n    // ========================================================================\n    // INITIALIZATION\n    // ========================================================================\n\n    /**\n     * Initialize all template detail functionality\n     */\n    function init() {\n        // Page guard: only run on template detail page\n        if (!document.getElementById('viewTemplateModal') && !document.getElementById('editTemplateModal')) {\n            return;\n        }\n\n        console.log('[Template Detail] Initializing...');\n        initEventDelegation();\n        initVariableButtons();\n        console.log('[Template Detail] Initialization complete');\n    }\n\n    // ========================================================================\n    // DOM READY\n    // ========================================================================\n\n    // Initialize when DOM is ready\n    if (document.readyState === 'loading') {\n        document.addEventListener('DOMContentLoaded', init);\n    } else {\n        // DOM already loaded\n        init();\n    }\n\n    // Expose public API\n    window.MessageTemplateDetail = {\n        version: '1.1.0',\n        viewTemplate,\n        editTemplate,\n        toggleTemplate,\n        deleteTemplate,\n        insertVariable,\n        init\n    };\n\n})();\n","/**\n * ============================================================================\n * PUSH CAMPAIGNS - Campaign Management System\n * ============================================================================\n *\n * Comprehensive push notification campaign management.\n * Replaces 400+ line inline script from campaigns.html.\n *\n * Features:\n * - Create, edit, delete campaigns\n * - Schedule and send campaigns\n * - Target audience selection\n * - Campaign status management\n * - Event delegation for dynamic content\n *\n * NO INLINE STYLES - Uses CSS classes and data attributes instead.\n *\n * Dependencies:\n * - Bootstrap 5.x (modals)\n * - SweetAlert2 (confirmations)\n * - EventDelegation (centralized event handling)\n *\n * ============================================================================\n */\n\n(function() {\n    'use strict';\n\n    // ========================================================================\n    // CONFIGURATION\n    // ========================================================================\n\n    const CampaignsConfig = {\n        baseUrl: window.CAMPAIGNS_BASE_URL || '/admin-panel',\n        csrfToken: window.CAMPAIGNS_CSRF_TOKEN || ''\n    };\n\n    // ========================================================================\n    // CAMPAIGN CRUD OPERATIONS\n    // ========================================================================\n\n    async function viewCampaign(campaignId) {\n        try {\n            const response = await fetch(`${CampaignsConfig.baseUrl}/communication/campaigns/${campaignId}`);\n            const data = await response.json();\n\n            if (data.success) {\n                // Show campaign details in modal\n                Swal.fire({\n                    title: data.campaign.name,\n                    html: `\n                        <div class=\"text-start\">\n                            <p><strong>Title:</strong> ${data.campaign.title}</p>\n                            <p><strong>Body:</strong> ${data.campaign.body}</p>\n                            <p><strong>Target:</strong> ${data.campaign.target_type}</p>\n                            <p><strong>Status:</strong> ${data.campaign.status}</p>\n                        </div>\n                    `,\n                    width: 600\n                });\n            }\n        } catch (error) {\n            Swal.fire('Error', 'Failed to load campaign details', 'error');\n        }\n    }\n\n    async function editCampaign(campaignId) {\n        try {\n            const response = await fetch(`${CampaignsConfig.baseUrl}/communication/campaigns/${campaignId}`);\n            const data = await response.json();\n\n            if (data.success) {\n                window.location.href = `${CampaignsConfig.baseUrl}/communication/campaigns/${campaignId}/edit`;\n            }\n        } catch (error) {\n            Swal.fire('Error', 'Failed to load campaign for editing', 'error');\n        }\n    }\n\n    async function sendCampaign(campaignId, campaignName) {\n        const result = await Swal.fire({\n            title: 'Send Campaign Now?',\n            text: `Send \"${campaignName}\" to all targeted users immediately?`,\n            icon: 'question',\n            showCancelButton: true,\n            confirmButtonText: 'Yes, send it!',\n            cancelButtonText: 'Cancel'\n        });\n\n        if (result.isConfirmed) {\n            try {\n                const response = await fetch(`${CampaignsConfig.baseUrl}/communication/campaigns/${campaignId}/send`, {\n                    method: 'POST',\n                    headers: {\n                        'Content-Type': 'application/json',\n                        'X-CSRFToken': CampaignsConfig.csrfToken\n                    }\n                });\n\n                const data = await response.json();\n                if (data.success) {\n                    Swal.fire('Sent!', data.message, 'success').then(() => location.reload());\n                } else {\n                    Swal.fire('Error', data.message, 'error');\n                }\n            } catch (error) {\n                Swal.fire('Error', 'Failed to send campaign', 'error');\n            }\n        }\n    }\n\n    async function scheduleCampaign(campaignId, campaignName) {\n        const result = await Swal.fire({\n            title: 'Schedule Campaign',\n            html: `\n                <div class=\"text-start\">\n                    <label class=\"form-label\">Schedule Time</label>\n                    <input type=\"datetime-local\" id=\"scheduleTime\" class=\"form-control\">\n                </div>\n            `,\n            showCancelButton: true,\n            confirmButtonText: 'Schedule',\n            preConfirm: () => {\n                const scheduleTime = document.getElementById('scheduleTime').value;\n                if (!scheduleTime) {\n                    Swal.showValidationMessage('Please select a time');\n                    return false;\n                }\n                return { scheduleTime };\n            }\n        });\n\n        if (result.isConfirmed) {\n            try {\n                const response = await fetch(`${CampaignsConfig.baseUrl}/communication/campaigns/${campaignId}/schedule`, {\n                    method: 'POST',\n                    headers: {\n                        'Content-Type': 'application/json',\n                        'X-CSRFToken': CampaignsConfig.csrfToken\n                    },\n                    body: JSON.stringify({ scheduled_send_time: result.value.scheduleTime })\n                });\n\n                const data = await response.json();\n                if (data.success) {\n                    Swal.fire('Scheduled!', data.message, 'success').then(() => location.reload());\n                } else {\n                    Swal.fire('Error', data.message, 'error');\n                }\n            } catch (error) {\n                Swal.fire('Error', 'Failed to schedule campaign', 'error');\n            }\n        }\n    }\n\n    async function deleteCampaign(campaignId, campaignName) {\n        const result = await Swal.fire({\n            title: 'Delete Campaign?',\n            text: `Delete \"${campaignName}\"? This cannot be undone.`,\n            icon: 'warning',\n            showCancelButton: true,\n            confirmButtonColor: '#dc3545',\n            confirmButtonText: 'Yes, delete it!'\n        });\n\n        if (result.isConfirmed) {\n            try {\n                const response = await fetch(`${CampaignsConfig.baseUrl}/communication/campaigns/${campaignId}`, {\n                    method: 'DELETE',\n                    headers: {\n                        'Content-Type': 'application/json',\n                        'X-CSRFToken': CampaignsConfig.csrfToken\n                    }\n                });\n\n                const data = await response.json();\n                if (data.success) {\n                    Swal.fire('Deleted!', data.message, 'success').then(() => location.reload());\n                } else {\n                    Swal.fire('Error', data.message, 'error');\n                }\n            } catch (error) {\n                Swal.fire('Error', 'Failed to delete campaign', 'error');\n            }\n        }\n    }\n\n    async function cancelCampaign(campaignId, campaignName) {\n        const result = await Swal.fire({\n            title: 'Cancel Campaign?',\n            text: `Cancel scheduled campaign \"${campaignName}\"?`,\n            icon: 'warning',\n            showCancelButton: true,\n            confirmButtonText: 'Yes, cancel it!'\n        });\n\n        if (result.isConfirmed) {\n            try {\n                const response = await fetch(`${CampaignsConfig.baseUrl}/communication/campaigns/${campaignId}/cancel`, {\n                    method: 'POST',\n                    headers: {\n                        'Content-Type': 'application/json',\n                        'X-CSRFToken': CampaignsConfig.csrfToken\n                    }\n                });\n\n                const data = await response.json();\n                if (data.success) {\n                    Swal.fire('Cancelled!', data.message, 'success').then(() => location.reload());\n                } else {\n                    Swal.fire('Error', data.message, 'error');\n                }\n            } catch (error) {\n                Swal.fire('Error', 'Failed to cancel campaign', 'error');\n            }\n        }\n    }\n\n    async function duplicateCampaign(campaignId, campaignName) {\n        const result = await Swal.fire({\n            title: 'Duplicate Campaign?',\n            text: `Create a copy of \"${campaignName}\"?`,\n            icon: 'question',\n            showCancelButton: true,\n            confirmButtonText: 'Yes, duplicate it!'\n        });\n\n        if (result.isConfirmed) {\n            try {\n                const response = await fetch(`${CampaignsConfig.baseUrl}/communication/campaigns/${campaignId}/duplicate`, {\n                    method: 'POST',\n                    headers: {\n                        'Content-Type': 'application/json',\n                        'X-CSRFToken': CampaignsConfig.csrfToken\n                    }\n                });\n\n                const data = await response.json();\n                if (data.success) {\n                    Swal.fire('Duplicated!', data.message, 'success').then(() => location.reload());\n                } else {\n                    Swal.fire('Error', data.message, 'error');\n                }\n            } catch (error) {\n                Swal.fire('Error', 'Failed to duplicate campaign', 'error');\n            }\n        }\n    }\n\n    // ========================================================================\n    // FORM HELPERS\n    // ========================================================================\n\n    function toggleCampaignTargetOptions() {\n        const targetType = document.getElementById('campaign_target_type')?.value;\n        if (!targetType) return;\n\n        // Hide all target selectors\n        const selectors = [\n            'campaignTeamSelector',\n            'campaignLeagueSelector',\n            'campaignRoleSelector',\n            'campaignPoolSelector',\n            'campaignGroupSelector'\n        ];\n\n        selectors.forEach(id => {\n            const el = document.getElementById(id);\n            if (el) el.classList.add('d-none');\n        });\n\n        // Show selected target selector\n        const selectorMap = {\n            'team': 'campaignTeamSelector',\n            'league': 'campaignLeagueSelector',\n            'role': 'campaignRoleSelector',\n            'pool': 'campaignPoolSelector',\n            'group': 'campaignGroupSelector'\n        };\n\n        const selectedSelector = selectorMap[targetType];\n        if (selectedSelector) {\n            const el = document.getElementById(selectedSelector);\n            if (el) el.classList.remove('d-none');\n        }\n    }\n\n    function toggleCampaignSchedule() {\n        const sendType = document.querySelector('input[name=\"send_type\"]:checked')?.value;\n        const scheduleContainer = document.getElementById('campaignScheduleContainer');\n\n        if (!scheduleContainer) return;\n\n        if (sendType === 'scheduled') {\n            scheduleContainer.classList.remove('d-none');\n        } else {\n            scheduleContainer.classList.add('d-none');\n        }\n    }\n\n    // ========================================================================\n    // ACTION HANDLERS\n    // ========================================================================\n\n    /**\n     * Handle go back action\n     * @param {Event} e - The event object\n     */\n    function handleGoBack(e) {\n        window.history.back();\n    }\n\n    /**\n     * Handle view campaign action\n     * @param {Event} e - The event object\n     */\n    function handleViewCampaign(e) {\n        viewCampaign(e.target.dataset.campaignId);\n    }\n\n    /**\n     * Handle edit campaign action\n     * @param {Event} e - The event object\n     */\n    function handleEditCampaign(e) {\n        editCampaign(e.target.dataset.campaignId);\n    }\n\n    /**\n     * Handle send campaign action\n     * @param {Event} e - The event object\n     */\n    function handleSendCampaign(e) {\n        sendCampaign(\n            e.target.dataset.campaignId,\n            e.target.dataset.campaignName\n        );\n    }\n\n    /**\n     * Handle schedule campaign action\n     * @param {Event} e - The event object\n     */\n    function handleScheduleCampaign(e) {\n        scheduleCampaign(\n            e.target.dataset.campaignId,\n            e.target.dataset.campaignName\n        );\n    }\n\n    /**\n     * Handle delete campaign action\n     * @param {Event} e - The event object\n     */\n    function handleDeleteCampaign(e) {\n        deleteCampaign(\n            e.target.dataset.campaignId,\n            e.target.dataset.campaignName\n        );\n    }\n\n    /**\n     * Handle cancel campaign action\n     * @param {Event} e - The event object\n     */\n    function handleCancelCampaign(e) {\n        cancelCampaign(\n            e.target.dataset.campaignId,\n            e.target.dataset.campaignName\n        );\n    }\n\n    /**\n     * Handle duplicate campaign action\n     * @param {Event} e - The event object\n     */\n    function handleDuplicateCampaign(e) {\n        duplicateCampaign(\n            e.target.dataset.campaignId,\n            e.target.dataset.campaignName\n        );\n    }\n\n    // ========================================================================\n    // EVENT DELEGATION\n    // ========================================================================\n\n    function initEventDelegation() {\n        if (typeof EventDelegation === 'undefined') {\n            console.error('[Push Campaigns] EventDelegation not available');\n            return;\n        }\n\n        EventDelegation.register('go-back', handleGoBack, { preventDefault: true });\n        EventDelegation.register('view-campaign', handleViewCampaign, { preventDefault: true });\n        EventDelegation.register('edit-campaign', handleEditCampaign, { preventDefault: true });\n        EventDelegation.register('send-campaign', handleSendCampaign, { preventDefault: true });\n        EventDelegation.register('schedule-campaign', handleScheduleCampaign, { preventDefault: true });\n        EventDelegation.register('delete-campaign', handleDeleteCampaign, { preventDefault: true });\n        EventDelegation.register('cancel-campaign', handleCancelCampaign, { preventDefault: true });\n        EventDelegation.register('duplicate-campaign', handleDuplicateCampaign, { preventDefault: true });\n    }\n\n    // ========================================================================\n    // INITIALIZATION\n    // ========================================================================\n\n    function init() {\n        // Page guard: only run on campaigns page\n        if (!document.querySelector('[data-action*=\"campaign\"]')) {\n            return;\n        }\n\n        console.log('[Push Campaigns] Initializing...');\n\n        initEventDelegation();\n\n        // Initialize target type selector\n        const targetTypeSelect = document.getElementById('campaign_target_type');\n        if (targetTypeSelect) {\n            targetTypeSelect.addEventListener('change', toggleCampaignTargetOptions);\n            toggleCampaignTargetOptions(); // Set initial state\n        }\n\n        // Initialize send type radios\n        const sendTypeRadios = document.querySelectorAll('input[name=\"send_type\"]');\n        sendTypeRadios.forEach(radio => {\n            radio.addEventListener('change', toggleCampaignSchedule);\n        });\n        toggleCampaignSchedule(); // Set initial state\n\n        console.log('[Push Campaigns] Initialization complete');\n    }\n\n    // ========================================================================\n    // DOM READY\n    // ========================================================================\n\n    if (document.readyState === 'loading') {\n        document.addEventListener('DOMContentLoaded', init);\n    } else {\n        init();\n    }\n\n    // Expose public API\n    window.PushCampaigns = {\n        version: '1.0.0',\n        viewCampaign,\n        editCampaign,\n        sendCampaign,\n        scheduleCampaign,\n        deleteCampaign,\n        cancelCampaign,\n        duplicateCampaign,\n        init\n    };\n\n})();\n","/**\n * ============================================================================\n * SCHEDULED MESSAGES - Message Scheduling & Management\n * ============================================================================\n *\n * Handles scheduled Discord message management in the admin panel.\n * Replaces 239-line inline script from scheduled_messages.html.\n *\n * Features:\n * - Message preview and validation\n * - View scheduled message details\n * - Edit scheduled messages\n * - Cancel scheduled messages\n * - Retry failed messages\n * - Queue filtering\n * - Recurring message options\n *\n * NO INLINE STYLES - Uses CSS classes and data attributes instead.\n *\n * Dependencies:\n * - Bootstrap 5.x (modals)\n * - SweetAlert2 (confirmations)\n * - EventDelegation (centralized event handling)\n *\n * ============================================================================\n */\n\n(function() {\n    'use strict';\n\n    // ========================================================================\n    // CONFIGURATION\n    // ========================================================================\n\n    const CONFIG = {\n        ENDPOINTS: {\n            MESSAGE_DETAILS: '/admin-panel/communication/scheduled-messages/{id}/details',\n            MESSAGE_UPDATE: '/admin-panel/communication/scheduled-messages/{id}/update'\n        }\n    };\n\n    // ========================================================================\n    // MESSAGE PREVIEW\n    // ========================================================================\n\n    /**\n     * Preview message before scheduling\n     */\n    function previewMessage() {\n        const title = document.getElementById('message_title')?.value;\n        const content = document.getElementById('message_content')?.value;\n        const type = document.getElementById('message_type')?.value;\n        const channel = document.getElementById('target_channel')?.value;\n        const scheduleDate = document.getElementById('schedule_date')?.value;\n\n        if (!title || !content || !type || !channel) {\n            Swal.fire('Error', 'Please fill in all required fields before previewing', 'error');\n            return;\n        }\n\n        // Update preview modal content\n        const previewTitle = document.getElementById('preview_title');\n        const previewContent = document.getElementById('preview_content');\n        const previewType = document.getElementById('preview_type');\n        const previewChannel = document.getElementById('preview_channel');\n        const previewSchedule = document.getElementById('preview_schedule');\n\n        if (previewTitle) previewTitle.textContent = title;\n        if (previewContent) previewContent.textContent = content;\n        if (previewType) previewType.textContent = type;\n        if (previewChannel) previewChannel.textContent = channel;\n        if (previewSchedule) previewSchedule.textContent = scheduleDate || 'Not set';\n\n        // Show modal\n        const modalEl = document.getElementById('messagePreviewModal');\n        if (modalEl) {\n            ModalManager.show('messagePreviewModal');\n        }\n    }\n\n    // ========================================================================\n    // VIEW MESSAGE DETAILS\n    // ========================================================================\n\n    /**\n     * View details of a scheduled message\n     * @param {number} messageId - The message ID\n     * @param {string} messageTitle - The message title for display\n     */\n    function viewScheduledMessage(messageId, messageTitle) {\n        const titleEl = document.getElementById('message_details_title');\n        const contentEl = document.getElementById('message_details_content');\n\n        if (titleEl) {\n            titleEl.textContent = `Details for \"${messageTitle}\"`;\n        }\n\n        if (contentEl) {\n            contentEl.innerHTML = '<div class=\"text-center\"><div class=\"spinner-border\" role=\"status\"></div></div>';\n        }\n\n        // Show modal\n        const modalEl = document.getElementById('messageDetailsModal');\n        if (modalEl) {\n            ModalManager.show('messageDetailsModal');\n        }\n\n        // Load message details via AJAX\n        const url = CONFIG.ENDPOINTS.MESSAGE_DETAILS.replace('{id}', messageId);\n        fetch(url)\n            .then(response => response.json())\n            .then(data => {\n                if (data.success && contentEl) {\n                    contentEl.innerHTML = data.html;\n                } else if (contentEl) {\n                    contentEl.innerHTML = '<div class=\"alert alert-danger\">Error loading message details</div>';\n                }\n            })\n            .catch(() => {\n                if (contentEl) {\n                    contentEl.innerHTML = '<div class=\"alert alert-danger\">Error loading message details</div>';\n                }\n            });\n    }\n\n    // ========================================================================\n    // EDIT MESSAGE\n    // ========================================================================\n\n    /**\n     * Edit a scheduled message\n     * @param {number} messageId - The message ID\n     */\n    function editScheduledMessage(messageId) {\n        // Fetch message details first\n        const url = CONFIG.ENDPOINTS.MESSAGE_DETAILS.replace('{id}', messageId);\n\n        fetch(url)\n            .then(response => response.json())\n            .then(data => {\n                if (data.success) {\n                    const message = data.message;\n                    const scheduledTime = message.scheduled_send_time ? message.scheduled_send_time.slice(0, 16) : '';\n\n                    Swal.fire({\n                        title: 'Edit Scheduled Message',\n                        html: `\n                            <div class=\"text-start\">\n                                <div class=\"mb-3\">\n                                    <label class=\"form-label\">Message Type</label>\n                                    <select id=\"editMessageType\" class=\"form-select\">\n                                        <option value=\"standard\" ${message.message_type === 'standard' ? 'selected' : ''}>Standard</option>\n                                        <option value=\"announcement\" ${message.message_type === 'announcement' ? 'selected' : ''}>Announcement</option>\n                                        <option value=\"reminder\" ${message.message_type === 'reminder' ? 'selected' : ''}>Reminder</option>\n                                        <option value=\"notification\" ${message.message_type === 'notification' ? 'selected' : ''}>Notification</option>\n                                        <option value=\"alert\" ${message.message_type === 'alert' ? 'selected' : ''}>Alert</option>\n                                    </select>\n                                </div>\n                                <div class=\"mb-3\">\n                                    <label class=\"form-label\">Scheduled Time <span class=\"text-danger\">*</span></label>\n                                    <input type=\"datetime-local\" id=\"editScheduledTime\" class=\"form-control\" value=\"${scheduledTime}\">\n                                </div>\n                                <div class=\"mb-3\">\n                                    <label class=\"form-label\">Match ID</label>\n                                    <input type=\"text\" class=\"form-control\" value=\"${message.match_id || 'N/A'}\" disabled>\n                                    <small class=\"text-muted\">Match ID cannot be changed</small>\n                                </div>\n                            </div>\n                        `,\n                        showCancelButton: true,\n                        confirmButtonText: 'Save Changes',\n                        cancelButtonText: 'Cancel',\n                        preConfirm: () => {\n                            const scheduledTime = document.getElementById('editScheduledTime')?.value;\n                            if (!scheduledTime) {\n                                Swal.showValidationMessage('Scheduled time is required');\n                                return false;\n                            }\n                            return {\n                                message_type: document.getElementById('editMessageType')?.value,\n                                scheduled_time: scheduledTime\n                            };\n                        }\n                    }).then((result) => {\n                        if (result.isConfirmed) {\n                            const formData = new FormData();\n                            formData.append('message_type', result.value.message_type);\n                            formData.append('scheduled_time', result.value.scheduled_time);\n\n                            const updateUrl = CONFIG.ENDPOINTS.MESSAGE_UPDATE.replace('{id}', messageId);\n                            fetch(updateUrl, {\n                                method: 'POST',\n                                body: formData\n                            })\n                            .then(response => response.json())\n                            .then(data => {\n                                if (data.success) {\n                                    Swal.fire('Success', data.message, 'success').then(() => location.reload());\n                                } else {\n                                    Swal.fire('Error', data.message, 'error');\n                                }\n                            })\n                            .catch(() => Swal.fire('Error', 'Failed to update message', 'error'));\n                        }\n                    });\n                } else {\n                    Swal.fire('Error', data.message, 'error');\n                }\n            })\n            .catch(() => Swal.fire('Error', 'Failed to load message details', 'error'));\n    }\n\n    // ========================================================================\n    // CANCEL MESSAGE\n    // ========================================================================\n\n    /**\n     * Cancel a scheduled message\n     * @param {number} messageId - The message ID\n     * @param {string} messageTitle - The message title for display\n     * @param {string} cancelUrl - URL to submit cancel request\n     * @param {string} csrfToken - CSRF token for form submission\n     */\n    function cancelScheduledMessage(messageId, messageTitle, cancelUrl, csrfToken) {\n        Swal.fire({\n            title: 'Cancel Scheduled Message?',\n            text: `Cancel the scheduled message \"${messageTitle}\"? This action cannot be undone.`,\n            icon: 'warning',\n            showCancelButton: true,\n            confirmButtonColor: (typeof ECSTheme !== 'undefined') ? ECSTheme.getColor('danger') : 'var(--ecs-danger)',\n            cancelButtonColor: (typeof ECSTheme !== 'undefined') ? ECSTheme.getColor('secondary') : '#6c757d',\n            confirmButtonText: 'Yes, cancel it!'\n        }).then((result) => {\n            if (result.isConfirmed) {\n                // Create form and submit\n                const form = document.createElement('form');\n                form.method = 'POST';\n                form.action = cancelUrl;\n\n                const csrfInput = document.createElement('input');\n                csrfInput.type = 'hidden';\n                csrfInput.name = 'csrf_token';\n                csrfInput.value = csrfToken;\n\n                const messageIdInput = document.createElement('input');\n                messageIdInput.type = 'hidden';\n                messageIdInput.name = 'message_id';\n                messageIdInput.value = messageId;\n\n                form.appendChild(csrfInput);\n                form.appendChild(messageIdInput);\n                document.body.appendChild(form);\n                form.submit();\n            }\n        });\n    }\n\n    // ========================================================================\n    // RETRY FAILED MESSAGE\n    // ========================================================================\n\n    /**\n     * Retry sending a failed message\n     * @param {number} messageId - The message ID\n     * @param {string} messageTitle - The message title for display\n     * @param {string} retryUrl - URL to submit retry request\n     * @param {string} csrfToken - CSRF token for form submission\n     */\n    function retryScheduledMessage(messageId, messageTitle, retryUrl, csrfToken) {\n        Swal.fire({\n            title: 'Retry Scheduled Message?',\n            text: `Retry sending the failed message \"${messageTitle}\"?`,\n            icon: 'question',\n            showCancelButton: true,\n            confirmButtonColor: (typeof ECSTheme !== 'undefined') ? ECSTheme.getColor('success') : 'var(--ecs-success)',\n            cancelButtonColor: (typeof ECSTheme !== 'undefined') ? ECSTheme.getColor('secondary') : '#6c757d',\n            confirmButtonText: 'Yes, retry!'\n        }).then((result) => {\n            if (result.isConfirmed) {\n                // Create form and submit\n                const form = document.createElement('form');\n                form.method = 'POST';\n                form.action = retryUrl;\n\n                const csrfInput = document.createElement('input');\n                csrfInput.type = 'hidden';\n                csrfInput.name = 'csrf_token';\n                csrfInput.value = csrfToken;\n\n                const messageIdInput = document.createElement('input');\n                messageIdInput.type = 'hidden';\n                messageIdInput.name = 'message_id';\n                messageIdInput.value = messageId;\n\n                form.appendChild(csrfInput);\n                form.appendChild(messageIdInput);\n                document.body.appendChild(form);\n                form.submit();\n            }\n        });\n    }\n\n    // ========================================================================\n    // RECURRING MESSAGE TOGGLE\n    // ========================================================================\n\n    /**\n     * Initialize recurring message checkbox handler\n     */\n    function initRecurringToggle() {\n        const recurringCheckbox = document.getElementById('is_recurring');\n        const recurrenceOptions = document.getElementById('recurrence_options');\n        const recurrencePattern = document.getElementById('recurrence_pattern');\n\n        if (!recurringCheckbox || !recurrenceOptions) return;\n\n        recurringCheckbox.addEventListener('change', function() {\n            if (this.checked) {\n                recurrenceOptions.classList.remove('u-hidden');\n                if (recurrencePattern) {\n                    recurrencePattern.required = true;\n                }\n            } else {\n                recurrenceOptions.classList.add('u-hidden');\n                if (recurrencePattern) {\n                    recurrencePattern.required = false;\n                }\n            }\n        });\n\n        // Set initial state\n        if (recurringCheckbox.checked) {\n            recurrenceOptions.classList.remove('u-hidden');\n            if (recurrencePattern) {\n                recurrencePattern.required = true;\n            }\n        } else {\n            recurrenceOptions.classList.add('u-hidden');\n            if (recurrencePattern) {\n                recurrencePattern.required = false;\n            }\n        }\n    }\n\n    // ========================================================================\n    // QUEUE FILTERING\n    // ========================================================================\n\n    /**\n     * Initialize queue filtering radio buttons\n     */\n    function initQueueFiltering() {\n        const filterRadios = document.querySelectorAll('input[name=\"queue_filter\"]');\n\n        filterRadios.forEach(radio => {\n            radio.addEventListener('change', function() {\n                const filterValue = this.id.replace('filter_', '');\n                const rows = document.querySelectorAll('.message-row');\n\n                rows.forEach(row => {\n                    const status = row.dataset.status;\n\n                    if (filterValue === 'all') {\n                        row.classList.remove('u-hidden');\n                    } else if (status === filterValue) {\n                        row.classList.remove('u-hidden');\n                    } else {\n                        row.classList.add('u-hidden');\n                    }\n                });\n            });\n        });\n    }\n\n    // ========================================================================\n    // MINIMUM DATETIME SETUP\n    // ========================================================================\n\n    /**\n     * Set minimum date/time for scheduling input to current time\n     */\n    function initMinDateTime() {\n        const scheduleDateInput = document.getElementById('schedule_date');\n        if (!scheduleDateInput) return;\n\n        const now = new Date();\n        const year = now.getFullYear();\n        const month = String(now.getMonth() + 1).padStart(2, '0');\n        const day = String(now.getDate()).padStart(2, '0');\n        const hour = String(now.getHours()).padStart(2, '0');\n        const minute = String(now.getMinutes()).padStart(2, '0');\n\n        const minDateTime = `${year}-${month}-${day}T${hour}:${minute}`;\n        scheduleDateInput.min = minDateTime;\n    }\n\n    // ========================================================================\n    // ACTION HANDLERS\n    // ========================================================================\n\n    /**\n     * Handle go back action\n     * @param {Event} e - The event object\n     */\n    function handleGoBack(e) {\n        window.history.back();\n    }\n\n    /**\n     * Handle preview message action\n     * @param {Event} e - The event object\n     */\n    function handlePreviewMessage(e) {\n        previewMessage();\n    }\n\n    /**\n     * Handle view scheduled message action\n     * @param {Event} e - The event object\n     */\n    function handleViewScheduledMessage(e) {\n        const viewId = e.target.dataset.messageId;\n        const viewTitle = e.target.dataset.title;\n        viewScheduledMessage(viewId, viewTitle);\n    }\n\n    /**\n     * Handle edit scheduled message action\n     * @param {Event} e - The event object\n     */\n    function handleEditScheduledMessage(e) {\n        const editId = e.target.dataset.messageId;\n        editScheduledMessage(editId);\n    }\n\n    /**\n     * Handle cancel scheduled message action\n     * @param {Event} e - The event object\n     */\n    function handleCancelScheduledMessage(e) {\n        const cancelId = e.target.dataset.messageId;\n        const cancelTitle = e.target.dataset.title;\n        const cancelUrl = e.target.dataset.cancelUrl;\n        const cancelCsrf = e.target.dataset.csrfToken;\n        cancelScheduledMessage(cancelId, cancelTitle, cancelUrl, cancelCsrf);\n    }\n\n    /**\n     * Handle retry scheduled message action\n     * @param {Event} e - The event object\n     */\n    function handleRetryScheduledMessage(e) {\n        const retryId = e.target.dataset.messageId;\n        const retryTitle = e.target.dataset.title;\n        const retryUrl = e.target.dataset.retryUrl;\n        const retryCsrf = e.target.dataset.csrfToken;\n        retryScheduledMessage(retryId, retryTitle, retryUrl, retryCsrf);\n    }\n\n    // ========================================================================\n    // EVENT DELEGATION\n    // ========================================================================\n\n    /**\n     * Initialize event delegation for scheduled message actions\n     */\n    function initEventDelegation() {\n        if (typeof EventDelegation === 'undefined') {\n            console.error('[Scheduled Messages] EventDelegation not available');\n            return;\n        }\n\n        EventDelegation.register('go-back', handleGoBack, { preventDefault: true });\n        EventDelegation.register('preview-message', handlePreviewMessage, { preventDefault: true });\n        EventDelegation.register('view-scheduled-message', handleViewScheduledMessage, { preventDefault: true });\n        EventDelegation.register('edit-scheduled-message', handleEditScheduledMessage, { preventDefault: true });\n        EventDelegation.register('cancel-scheduled-message', handleCancelScheduledMessage, { preventDefault: true });\n        EventDelegation.register('retry-scheduled-message', handleRetryScheduledMessage, { preventDefault: true });\n    }\n\n    // ========================================================================\n    // INITIALIZATION\n    // ========================================================================\n\n    /**\n     * Initialize all scheduled message functionality\n     */\n    function init() {\n        // Page guard: only run on scheduled messages page\n        if (!document.getElementById('messagePreviewModal') && !document.getElementById('messageDetailsModal')) {\n            return;\n        }\n\n        console.log('[Scheduled Messages] Initializing...');\n\n        initRecurringToggle();\n        initQueueFiltering();\n        initMinDateTime();\n        initEventDelegation();\n\n        console.log('[Scheduled Messages] Initialization complete');\n    }\n\n    // ========================================================================\n    // DOM READY\n    // ========================================================================\n\n    // Initialize when DOM is ready\n    if (document.readyState === 'loading') {\n        document.addEventListener('DOMContentLoaded', init);\n    } else {\n        // DOM already loaded\n        init();\n    }\n\n    // Expose public API\n    window.ScheduledMessages = {\n        version: '1.0.0',\n        previewMessage,\n        viewScheduledMessage,\n        editScheduledMessage,\n        cancelScheduledMessage,\n        retryScheduledMessage,\n        init\n    };\n\n})();\n","/**\n * Match Reports - Event Handler and Chart Initialization\n * Handles all report generation and export actions\n */\n\n(function() {\n    'use strict';\n\n    // Page guard - only run on match reports page\n    const isMatchReportsPage = document.getElementById('matchStatusChart') ||\n                                document.getElementById('matchesPerWeekChart') ||\n                                document.querySelector('[data-action^=\"generate-\"][data-action*=\"report\"]') ||\n                                document.querySelector('[data-action^=\"export-\"]');\n\n    if (!isMatchReportsPage) return;\n\n    // Initialize charts and event handlers when DOM is loaded\n    document.addEventListener('DOMContentLoaded', function() {\n        initializeCharts();\n    });\n\n    /**\n     * Initialize Chart.js charts\n     */\n    function initializeCharts() {\n        const matchStatusCtx = document.getElementById('matchStatusChart');\n        const matchesPerWeekCtx = document.getElementById('matchesPerWeekChart');\n\n        if (matchStatusCtx) {\n            new Chart(matchStatusCtx.getContext('2d'), {\n                type: 'doughnut',\n                data: {\n                    labels: ['Completed', 'Upcoming', 'Live', 'Cancelled'],\n                    datasets: [{\n                        data: [\n                            parseInt(matchStatusCtx.dataset.completed || 0),\n                            parseInt(matchStatusCtx.dataset.pending || 0),\n                            parseInt(matchStatusCtx.dataset.live || 0),\n                            parseInt(matchStatusCtx.dataset.cancelled || 0)\n                        ],\n                        backgroundColor: [\n                            getComputedStyle(document.documentElement).getPropertyValue('--color-success') || '#28a745',\n                            getComputedStyle(document.documentElement).getPropertyValue('--color-warning') || '#ffc107',\n                            getComputedStyle(document.documentElement).getPropertyValue('--color-primary') || '#007bff',\n                            getComputedStyle(document.documentElement).getPropertyValue('--color-danger') || '#dc3545'\n                        ]\n                    }]\n                },\n                options: {\n                    responsive: true,\n                    maintainAspectRatio: false,\n                    plugins: {\n                        legend: {\n                            position: 'bottom'\n                        }\n                    }\n                }\n            });\n        }\n\n        if (matchesPerWeekCtx) {\n            new Chart(matchesPerWeekCtx.getContext('2d'), {\n                type: 'line',\n                data: {\n                    labels: ['Week 1', 'Week 2', 'Week 3', 'Week 4', 'Week 5', 'Week 6'],\n                    datasets: [{\n                        label: 'Matches Played',\n                        data: [12, 19, 3, 5, 2, 15],\n                        borderColor: getComputedStyle(document.documentElement).getPropertyValue('--color-primary') || '#007bff',\n                        backgroundColor: 'rgba(0, 123, 255, 0.1)',\n                        tension: 0.4\n                    }]\n                },\n                options: {\n                    responsive: true,\n                    maintainAspectRatio: false,\n                    scales: {\n                        y: {\n                            beginAtZero: true\n                        }\n                    }\n                }\n            });\n        }\n    }\n\n    /**\n     * Report generation functions\n     */\n    function generateMatchReport(matchId = null) {\n        console.log('Generate match report:', matchId);\n        // Implementation from original file\n    }\n\n    function generateLeagueReport() {\n        console.log('Generate league report');\n        // Implementation from original file\n    }\n\n    function generateTeamReport(teamId = null) {\n        console.log('Generate team report:', teamId);\n        // Implementation from original file\n    }\n\n    function generateCustomReport() {\n        console.log('Generate custom report');\n        // Implementation from original file\n    }\n\n    /**\n     * Quick report views\n     */\n    function viewRecentMatches() {\n        window.location.href = '/admin-panel/matches/recent';\n    }\n\n    function viewUpcomingMatches() {\n        window.location.href = '/admin-panel/matches/upcoming';\n    }\n\n    function viewTopScorers() {\n        console.log('View top scorers');\n    }\n\n    function viewLeagueStandings() {\n        window.location.href = '/admin-panel/match-operations/league-standings';\n    }\n\n    /**\n     * Export functions\n     */\n    function exportPDF() {\n        window.open('/admin/match-operations/reports/export?format=pdf', '_blank');\n    }\n\n    function exportExcel() {\n        window.open('/admin/match-operations/reports/export?format=excel', '_blank');\n    }\n\n    function exportCSV() {\n        window.open('/admin/match-operations/reports/export?format=csv', '_blank');\n    }\n\n    function scheduleReport() {\n        console.log('Schedule report');\n    }\n\n    /**\n     * Individual item views\n     */\n    function viewMatchReport(matchId) {\n        window.location.href = `/admin/match-operations/match/${matchId}/report`;\n    }\n\n    function viewTeamReport(teamId) {\n        window.location.href = `/admin/match-operations/team/${teamId}/report`;\n    }\n\n    function viewAllMatches() {\n        window.location.href = '/admin-panel/matches';\n    }\n\n    // ========================================================================\n    // EVENT DELEGATION REGISTRATIONS\n    // ========================================================================\n\n    // Report Generation Actions\n    EventDelegation.register('generate-match-report', function(element, e) {\n        const matchId = element.dataset.matchId;\n        generateMatchReport(matchId);\n    }, { preventDefault: true });\n\n    EventDelegation.register('generate-league-report', function(element, e) {\n        generateLeagueReport();\n    }, { preventDefault: true });\n\n    EventDelegation.register('generate-team-report', function(element, e) {\n        const teamId = element.dataset.teamId;\n        generateTeamReport(teamId);\n    }, { preventDefault: true });\n\n    EventDelegation.register('generate-custom-report', function(element, e) {\n        generateCustomReport();\n    }, { preventDefault: true });\n\n    // Quick View Actions\n    EventDelegation.register('view-recent-matches', function(element, e) {\n        viewRecentMatches();\n    }, { preventDefault: true });\n\n    EventDelegation.register('view-upcoming-matches', function(element, e) {\n        viewUpcomingMatches();\n    }, { preventDefault: true });\n\n    EventDelegation.register('view-top-scorers', function(element, e) {\n        viewTopScorers();\n    }, { preventDefault: true });\n\n    EventDelegation.register('view-league-standings', function(element, e) {\n        viewLeagueStandings();\n    }, { preventDefault: true });\n\n    // Export Actions\n    EventDelegation.register('export-pdf', function(element, e) {\n        exportPDF();\n    }, { preventDefault: true });\n\n    EventDelegation.register('export-excel', function(element, e) {\n        exportExcel();\n    }, { preventDefault: true });\n\n    EventDelegation.register('export-csv', function(element, e) {\n        exportCSV();\n    }, { preventDefault: true });\n\n    EventDelegation.register('schedule-report', function(element, e) {\n        scheduleReport();\n    }, { preventDefault: true });\n\n    // Individual Report View Actions\n    EventDelegation.register('view-match-report', function(element, e) {\n        const matchId = element.dataset.matchId;\n        viewMatchReport(matchId);\n    }, { preventDefault: true });\n\n    EventDelegation.register('view-team-report', function(element, e) {\n        const teamId = element.dataset.teamId;\n        viewTeamReport(teamId);\n    }, { preventDefault: true });\n\n    EventDelegation.register('view-all-matches', function(element, e) {\n        viewAllMatches();\n    }, { preventDefault: true });\n\n})();\n","/**\n * ============================================================================\n * SEASONS MANAGEMENT - MODERN JAVASCRIPT\n * ============================================================================\n *\n * Modern, maintainable JavaScript for seasons management\n * Uses event delegation and data attributes for all interactions\n *\n * ARCHITECTURAL STANDARDS:\n * - Event delegation for all interactions\n * - Data attributes for configuration\n * - No inline event handlers\n * - ES6+ features\n * - Proper error handling\n * - Accessible interactions\n *\n * ============================================================================\n */\n\n(function() {\n    'use strict';\n\n    // Page guard - only run on seasons page\n    const isSeasonsPage = document.querySelector('[data-action=\"create-season\"]') ||\n                          document.querySelector('[data-action=\"view-season\"]') ||\n                          document.querySelector('[data-action=\"edit-season\"]') ||\n                          document.querySelector('[data-action=\"set-current-season\"]') ||\n                          document.querySelector('[data-create-season-url]');\n\n    if (!isSeasonsPage) return;\n\n    /**\n     * Show create season modal\n     */\n    function createSeason() {\n        Swal.fire({\n            title: 'Create New Season',\n            html: `\n      <div class=\"text-start\">\n        <div class=\"mb-3\">\n          <label class=\"form-label\">Season Name <span class=\"text-danger\">*</span></label>\n          <input type=\"text\" id=\"seasonName\" class=\"form-control\" placeholder=\"e.g., Spring 2025\" data-form-control>\n        </div>\n        <div class=\"mb-3\">\n          <label class=\"form-label\">Start Date</label>\n          <input type=\"date\" id=\"seasonStartDate\" class=\"form-control\" data-form-control>\n        </div>\n        <div class=\"mb-3\">\n          <label class=\"form-label\">End Date</label>\n          <input type=\"date\" id=\"seasonEndDate\" class=\"form-control\" data-form-control>\n        </div>\n        <div class=\"form-check\">\n          <input type=\"checkbox\" id=\"seasonIsCurrent\" class=\"form-check-input\">\n          <label class=\"form-check-label\" for=\"seasonIsCurrent\">Set as current season</label>\n        </div>\n      </div>\n    `,\n            showCancelButton: true,\n            confirmButtonText: 'Create Season',\n            cancelButtonText: 'Cancel',\n            preConfirm: () => {\n                const name = document.getElementById('seasonName').value;\n                if (!name) {\n                    Swal.showValidationMessage('Season name is required');\n                    return false;\n                }\n                return {\n                    name: name,\n                    start_date: document.getElementById('seasonStartDate').value,\n                    end_date: document.getElementById('seasonEndDate').value,\n                    is_current: document.getElementById('seasonIsCurrent').checked ? 'true' : 'false'\n                };\n            }\n        }).then((result) => {\n            if (result.isConfirmed) {\n                submitCreateSeason(result.value);\n            }\n        });\n    }\n\n    /**\n     * Submit create season form\n     * @param {Object} data - Form data\n     */\n    function submitCreateSeason(data) {\n        const formData = new FormData();\n        formData.append('name', data.name);\n        formData.append('start_date', data.start_date);\n        formData.append('end_date', data.end_date);\n        formData.append('is_current', data.is_current);\n\n        // Get the create URL from Flask\n        const createUrl = document.querySelector('[data-create-season-url]')?.dataset.createSeasonUrl ||\n            window.location.origin + '/admin-panel/match-operations/seasons/create';\n\n        fetch(createUrl, {\n            method: 'POST',\n            body: formData\n        })\n            .then(response => response.json())\n            .then(data => {\n                if (data.success) {\n                    Swal.fire('Success', data.message, 'success').then(() => location.reload());\n                } else {\n                    Swal.fire('Error', data.message, 'error');\n                }\n            })\n            .catch(() => Swal.fire('Error', 'Failed to create season', 'error'));\n    }\n\n    /**\n     * View season details\n     * @param {string} seasonId - Season ID\n     */\n    function viewSeason(seasonId) {\n        fetch(`/admin-panel/match-operations/seasons/${seasonId}/details`)\n            .then(response => response.json())\n            .then(data => {\n                if (data.success) {\n                    const season = data.season;\n                    Swal.fire({\n                        title: season.name,\n                        html: `\n            <div class=\"text-start\">\n              <p><strong>Start Date:</strong> ${season.start_date || 'Not set'}</p>\n              <p><strong>End Date:</strong> ${season.end_date || 'Not set'}</p>\n              <p><strong>Current Season:</strong> ${season.is_current ? 'Yes' : 'No'}</p>\n            </div>\n          `,\n                        icon: 'info'\n                    });\n                } else {\n                    Swal.fire('Error', data.message, 'error');\n                }\n            })\n            .catch(() => Swal.fire('Error', 'Failed to load season details', 'error'));\n    }\n\n    /**\n     * Edit season\n     * @param {string} seasonId - Season ID\n     */\n    function editSeason(seasonId) {\n        // First fetch the season details\n        fetch(`/admin-panel/match-operations/seasons/${seasonId}/details`)\n            .then(response => response.json())\n            .then(data => {\n                if (data.success) {\n                    showEditSeasonModal(seasonId, data.season);\n                } else {\n                    Swal.fire('Error', data.message, 'error');\n                }\n            })\n            .catch(() => Swal.fire('Error', 'Failed to load season details', 'error'));\n    }\n\n    /**\n     * Show edit season modal\n     * @param {string} seasonId - Season ID\n     * @param {Object} season - Season data\n     */\n    function showEditSeasonModal(seasonId, season) {\n        Swal.fire({\n            title: 'Edit Season',\n            html: `\n      <div class=\"text-start\">\n        <div class=\"mb-3\">\n          <label class=\"form-label\">Season Name <span class=\"text-danger\">*</span></label>\n          <input type=\"text\" id=\"editSeasonName\" class=\"form-control\" value=\"${season.name}\" data-form-control>\n        </div>\n        <div class=\"mb-3\">\n          <label class=\"form-label\">Start Date</label>\n          <input type=\"date\" id=\"editSeasonStartDate\" class=\"form-control\" value=\"${season.start_date}\" data-form-control>\n        </div>\n        <div class=\"mb-3\">\n          <label class=\"form-label\">End Date</label>\n          <input type=\"date\" id=\"editSeasonEndDate\" class=\"form-control\" value=\"${season.end_date}\" data-form-control>\n        </div>\n        <div class=\"form-check\">\n          <input type=\"checkbox\" id=\"editSeasonIsCurrent\" class=\"form-check-input\" ${season.is_current ? 'checked' : ''}>\n          <label class=\"form-check-label\" for=\"editSeasonIsCurrent\">Set as current season</label>\n        </div>\n      </div>\n    `,\n            showCancelButton: true,\n            showDenyButton: true,\n            confirmButtonText: 'Save Changes',\n            denyButtonText: 'Delete Season',\n            denyButtonColor: (typeof ECSTheme !== 'undefined') ? ECSTheme.getColor('danger') : 'var(--ecs-danger)',\n            cancelButtonText: 'Cancel',\n            preConfirm: () => {\n                const name = document.getElementById('editSeasonName').value;\n                if (!name) {\n                    Swal.showValidationMessage('Season name is required');\n                    return false;\n                }\n                return {\n                    name: name,\n                    start_date: document.getElementById('editSeasonStartDate').value,\n                    end_date: document.getElementById('editSeasonEndDate').value,\n                    is_current: document.getElementById('editSeasonIsCurrent').checked ? 'true' : 'false'\n                };\n            }\n        }).then((result) => {\n            if (result.isConfirmed) {\n                submitUpdateSeason(seasonId, result.value);\n            } else if (result.isDenied) {\n                deleteSeason(seasonId, season.name);\n            }\n        });\n    }\n\n    /**\n     * Submit update season form\n     * @param {string} seasonId - Season ID\n     * @param {Object} data - Form data\n     */\n    function submitUpdateSeason(seasonId, data) {\n        const formData = new FormData();\n        formData.append('name', data.name);\n        formData.append('start_date', data.start_date);\n        formData.append('end_date', data.end_date);\n        formData.append('is_current', data.is_current);\n\n        fetch(`/admin-panel/match-operations/seasons/${seasonId}/update`, {\n            method: 'POST',\n            body: formData\n        })\n            .then(response => response.json())\n            .then(data => {\n                if (data.success) {\n                    Swal.fire('Success', data.message, 'success').then(() => location.reload());\n                } else {\n                    Swal.fire('Error', data.message, 'error');\n                }\n            })\n            .catch(() => Swal.fire('Error', 'Failed to update season', 'error'));\n    }\n\n    /**\n     * Delete season with confirmation\n     * @param {string} seasonId - Season ID\n     * @param {string} seasonName - Season name\n     */\n    function deleteSeason(seasonId, seasonName) {\n        Swal.fire({\n            title: 'Delete Season?',\n            text: `Are you sure you want to delete \"${seasonName}\"? This cannot be undone.`,\n            icon: 'warning',\n            showCancelButton: true,\n            confirmButtonText: 'Yes, delete',\n            confirmButtonColor: (typeof ECSTheme !== 'undefined') ? ECSTheme.getColor('danger') : 'var(--ecs-danger)',\n            cancelButtonText: 'Cancel'\n        }).then((result) => {\n            if (result.isConfirmed) {\n                submitDeleteSeason(seasonId);\n            }\n        });\n    }\n\n    /**\n     * Submit delete season request\n     * @param {string} seasonId - Season ID\n     */\n    function submitDeleteSeason(seasonId) {\n        fetch(`/admin-panel/match-operations/seasons/${seasonId}/delete`, {\n            method: 'POST'\n        })\n            .then(response => response.json())\n            .then(data => {\n                if (data.success) {\n                    Swal.fire('Deleted', data.message, 'success').then(() => location.reload());\n                } else {\n                    Swal.fire('Error', data.message, 'error');\n                }\n            })\n            .catch(() => Swal.fire('Error', 'Failed to delete season', 'error'));\n    }\n\n    /**\n     * Set season as current\n     * @param {string} seasonId - Season ID\n     */\n    function setCurrentSeason(seasonId) {\n        Swal.fire({\n            title: 'Set Current Season?',\n            text: 'This will make this season the active one for new leagues and matches.',\n            icon: 'question',\n            showCancelButton: true,\n            confirmButtonText: 'Yes, set as current',\n            cancelButtonText: 'Cancel'\n        }).then((result) => {\n            if (result.isConfirmed) {\n                submitSetCurrentSeason(seasonId);\n            }\n        });\n    }\n\n    /**\n     * Submit set current season request\n     * @param {string} seasonId - Season ID\n     */\n    function submitSetCurrentSeason(seasonId) {\n        // Get the set current URL from Flask\n        const setCurrentUrl = document.querySelector('[data-set-current-season-url]')?.dataset.setCurrentSeasonUrl ||\n            window.location.origin + '/admin-panel/match-operations/seasons/set-current';\n\n        fetch(setCurrentUrl, {\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/x-www-form-urlencoded',\n            },\n            body: `season_id=${seasonId}`\n        })\n            .then(response => response.json())\n            .then(data => {\n                if (data.success) {\n                    Swal.fire({\n                        title: 'Success',\n                        text: data.message,\n                        icon: 'success'\n                    }).then(() => {\n                        location.reload();\n                    });\n                } else {\n                    Swal.fire({\n                        title: 'Error',\n                        text: data.message,\n                        icon: 'error'\n                    });\n                }\n            })\n            .catch(error => {\n                Swal.fire({\n                    title: 'Error',\n                    text: 'An error occurred while setting current season',\n                    icon: 'error'\n                });\n            });\n    }\n\n    // ========================================================================\n    // EVENT DELEGATION REGISTRATIONS\n    // ========================================================================\n\n    EventDelegation.register('create-season', function(element, e) {\n        createSeason();\n    }, { preventDefault: true });\n\n    EventDelegation.register('view-season', function(element, e) {\n        const seasonId = element.dataset.seasonId;\n        viewSeason(seasonId);\n    }, { preventDefault: true });\n\n    EventDelegation.register('edit-season', function(element, e) {\n        const seasonId = element.dataset.seasonId;\n        editSeason(seasonId);\n    }, { preventDefault: true });\n\n    EventDelegation.register('set-current-season', function(element, e) {\n        const seasonId = element.dataset.seasonId;\n        setCurrentSeason(seasonId);\n    }, { preventDefault: true });\n\n})();\n\n/**\n * ============================================================================\n * END OF SEASONS MANAGEMENT JAVASCRIPT\n * ============================================================================\n */\n","/**\n * Unified Visibility Utility\n * Standard way to show/hide elements across the application\n *\n * @version 1.0.0\n * @created 2025-12-18\n *\n * STANDARD: Use 'is-hidden' class for all visibility toggling\n * This replaces inconsistent usage of: d-none, js-hidden, hidden, etc.\n *\n * Usage:\n *   Visibility.hide(element);\n *   Visibility.show(element);\n *   Visibility.toggle(element);\n *   Visibility.toggle(element, forceHidden);\n *\n *   if (Visibility.isHidden(element)) { ... }\n */\n\n(function(window, document) {\n    'use strict';\n\n    const Visibility = {\n        /**\n         * The standard hidden class used throughout the application\n         * Defined in state-utils.css\n         */\n        HIDDEN_CLASS: 'is-hidden',\n\n        /**\n         * Legacy classes that should be migrated to is-hidden\n         * Used for backwards compatibility during migration\n         */\n        LEGACY_CLASSES: ['d-none', 'js-hidden', 'hidden'],\n\n        /**\n         * Hide an element\n         * @param {Element|string} element - DOM element or selector\n         * @returns {Element|null} The element, for chaining\n         */\n        hide(element) {\n            const el = this._resolveElement(element);\n            if (el) {\n                el.classList.add(this.HIDDEN_CLASS);\n                // Clean up legacy classes if present\n                this.LEGACY_CLASSES.forEach(cls => el.classList.remove(cls));\n            }\n            return el;\n        },\n\n        /**\n         * Show an element\n         * @param {Element|string} element - DOM element or selector\n         * @returns {Element|null} The element, for chaining\n         */\n        show(element) {\n            const el = this._resolveElement(element);\n            if (el) {\n                el.classList.remove(this.HIDDEN_CLASS);\n                // Clean up legacy classes if present\n                this.LEGACY_CLASSES.forEach(cls => el.classList.remove(cls));\n            }\n            return el;\n        },\n\n        /**\n         * Toggle element visibility\n         * @param {Element|string} element - DOM element or selector\n         * @param {boolean} [force] - Optional: true to hide, false to show\n         * @returns {Element|null} The element, for chaining\n         */\n        toggle(element, force) {\n            const el = this._resolveElement(element);\n            if (el) {\n                if (typeof force === 'boolean') {\n                    el.classList.toggle(this.HIDDEN_CLASS, force);\n                } else {\n                    el.classList.toggle(this.HIDDEN_CLASS);\n                }\n                // Clean up legacy classes if present\n                this.LEGACY_CLASSES.forEach(cls => el.classList.remove(cls));\n            }\n            return el;\n        },\n\n        /**\n         * Check if element is hidden\n         * @param {Element|string} element - DOM element or selector\n         * @returns {boolean} True if hidden\n         */\n        isHidden(element) {\n            const el = this._resolveElement(element);\n            if (!el) return true;\n\n            // Check for standard class\n            if (el.classList.contains(this.HIDDEN_CLASS)) return true;\n\n            // Check for legacy classes (for migration period)\n            for (const cls of this.LEGACY_CLASSES) {\n                if (el.classList.contains(cls)) return true;\n            }\n\n            // Check computed style as fallback\n            const style = window.getComputedStyle(el);\n            return style.display === 'none' || style.visibility === 'hidden';\n        },\n\n        /**\n         * Check if element is visible (not hidden)\n         * @param {Element|string} element - DOM element or selector\n         * @returns {boolean} True if visible\n         */\n        isVisible(element) {\n            return !this.isHidden(element);\n        },\n\n        /**\n         * Show one element and hide others (useful for wizard steps, tabs, etc.)\n         * @param {Element|string} toShow - Element to show\n         * @param {Array<Element|string>} toHide - Elements to hide\n         */\n        showOnly(toShow, toHide) {\n            toHide.forEach(el => this.hide(el));\n            this.show(toShow);\n        },\n\n        /**\n         * Migrate an element from legacy visibility classes to standard\n         * @param {Element|string} element - DOM element or selector\n         */\n        migrate(element) {\n            const el = this._resolveElement(element);\n            if (!el) return;\n\n            // Check if any legacy class is present\n            const wasHidden = this.LEGACY_CLASSES.some(cls => el.classList.contains(cls));\n\n            // Remove all legacy classes\n            this.LEGACY_CLASSES.forEach(cls => el.classList.remove(cls));\n\n            // Add standard class if was hidden\n            if (wasHidden) {\n                el.classList.add(this.HIDDEN_CLASS);\n            }\n        },\n\n        /**\n         * Resolve element from selector or return element\n         * @private\n         */\n        _resolveElement(element) {\n            if (!element) return null;\n            if (typeof element === 'string') {\n                return document.querySelector(element);\n            }\n            return element;\n        }\n    };\n\n    // Expose globally\n    window.Visibility = Visibility;\n\n    // Register with InitSystem if available (no init needed, just utility functions)\n    if (typeof InitSystem !== 'undefined' && InitSystem.register) {\n        InitSystem.register('visibility-utils', function() {\n            // No initialization needed, just logs availability\n        }, {\n            priority: 100,\n            description: 'Visibility utility functions',\n            reinitializable: false\n        });\n    }\n\n})(window, document);\n","/**\n * BEM Tabs Controller\n * Pure JS tab system without Bootstrap dependency\n * Uses data-* attributes for all JS hooks\n *\n * @version 1.0.0\n * @created 2025-12-18\n *\n * Usage in HTML:\n *   <nav data-tabs>\n *       <button data-tab-trigger=\"account\" class=\"c-tabs-modern__tab is-active\">Account</button>\n *       <button data-tab-trigger=\"security\" class=\"c-tabs-modern__tab\">Security</button>\n *   </nav>\n *   <div data-tab-pane=\"account\" class=\"c-settings-tab c-settings-tab--active\">Content</div>\n *   <div data-tab-pane=\"security\" class=\"c-settings-tab\">Content</div>\n */\n\n(function(window, document) {\n    'use strict';\n\n    const TabsController = {\n        SELECTORS: {\n            TABS_CONTAINER: '[data-tabs]',\n            TAB_TRIGGER: '[data-tab-trigger]',\n            TAB_PANE: '[data-tab-pane]'\n        },\n\n        CLASSES: {\n            ACTIVE_TRIGGER: 'is-active',\n            ACTIVE_PANE: 'c-settings-tab--active',\n            // Fallback classes for different tab types\n            ACTIVE_PANE_ALT: 'is-active'\n        },\n\n        /**\n         * Initialize all tab containers in the given context\n         * @param {Element} context - Root element to search within (default: document)\n         */\n        init(context = document) {\n            const containers = context.querySelectorAll(this.SELECTORS.TABS_CONTAINER);\n\n            if (containers.length === 0) {\n                return;\n            }\n\n            containers.forEach(container => this.initContainer(container));\n\n            // Handle URL hash on initial load\n            this.handleInitialHash();\n        },\n\n        /**\n         * Initialize a single tab container\n         * @param {Element} container - Tab container element\n         */\n        initContainer(container) {\n            // Skip if already initialized\n            if (container.dataset.tabsInitialized === 'true') {\n                return;\n            }\n\n            const triggers = container.querySelectorAll(this.SELECTORS.TAB_TRIGGER);\n\n            // Use event delegation on the container\n            container.addEventListener('click', (e) => {\n                const trigger = e.target.closest(this.SELECTORS.TAB_TRIGGER);\n                if (!trigger) return;\n\n                e.preventDefault();\n                const tabId = trigger.dataset.tabTrigger;\n\n                if (tabId) {\n                    this.activateTab(container, tabId);\n                }\n            });\n\n            // Keyboard navigation support\n            container.addEventListener('keydown', (e) => {\n                const trigger = e.target.closest(this.SELECTORS.TAB_TRIGGER);\n                if (!trigger) return;\n\n                const allTriggers = Array.from(container.querySelectorAll(this.SELECTORS.TAB_TRIGGER));\n                const currentIndex = allTriggers.indexOf(trigger);\n\n                let newIndex = -1;\n\n                switch (e.key) {\n                    case 'ArrowLeft':\n                    case 'ArrowUp':\n                        e.preventDefault();\n                        newIndex = currentIndex > 0 ? currentIndex - 1 : allTriggers.length - 1;\n                        break;\n                    case 'ArrowRight':\n                    case 'ArrowDown':\n                        e.preventDefault();\n                        newIndex = currentIndex < allTriggers.length - 1 ? currentIndex + 1 : 0;\n                        break;\n                    case 'Home':\n                        e.preventDefault();\n                        newIndex = 0;\n                        break;\n                    case 'End':\n                        e.preventDefault();\n                        newIndex = allTriggers.length - 1;\n                        break;\n                }\n\n                if (newIndex >= 0 && allTriggers[newIndex]) {\n                    allTriggers[newIndex].focus();\n                    const tabId = allTriggers[newIndex].dataset.tabTrigger;\n                    if (tabId) {\n                        this.activateTab(container, tabId);\n                    }\n                }\n            });\n\n            // Mark as initialized\n            container.dataset.tabsInitialized = 'true';\n        },\n\n        /**\n         * Activate a specific tab\n         * @param {Element} container - Tab container element\n         * @param {string} tabId - Tab identifier\n         */\n        activateTab(container, tabId) {\n            const triggers = container.querySelectorAll(this.SELECTORS.TAB_TRIGGER);\n\n            // Find all tab panes (could be outside the container)\n            const panes = document.querySelectorAll(this.SELECTORS.TAB_PANE);\n\n            // Deactivate all triggers\n            triggers.forEach(t => {\n                t.classList.remove(this.CLASSES.ACTIVE_TRIGGER);\n                t.setAttribute('aria-selected', 'false');\n                t.setAttribute('tabindex', '-1');\n            });\n\n            // Deactivate all panes\n            panes.forEach(p => {\n                p.classList.remove(this.CLASSES.ACTIVE_PANE);\n                p.classList.remove(this.CLASSES.ACTIVE_PANE_ALT);\n                // Also remove Bootstrap classes if present\n                p.classList.remove('show', 'active');\n            });\n\n            // Activate target trigger\n            const targetTrigger = container.querySelector(`[data-tab-trigger=\"${tabId}\"]`);\n            if (targetTrigger) {\n                targetTrigger.classList.add(this.CLASSES.ACTIVE_TRIGGER);\n                targetTrigger.setAttribute('aria-selected', 'true');\n                targetTrigger.setAttribute('tabindex', '0');\n            }\n\n            // Activate target pane\n            const targetPane = document.querySelector(`[data-tab-pane=\"${tabId}\"]`);\n            if (targetPane) {\n                targetPane.classList.add(this.CLASSES.ACTIVE_PANE);\n\n                // Dispatch custom event for other components to react\n                targetPane.dispatchEvent(new CustomEvent('tab:activated', {\n                    bubbles: true,\n                    detail: { tabId, container, trigger: targetTrigger }\n                }));\n            }\n\n            // Update URL hash without scrolling\n            if (history.replaceState) {\n                history.replaceState(null, null, `#${tabId}`);\n            }\n\n            // Log for debugging\n            if (window.InitSystemDebug) {\n                window.InitSystemDebug.log('tabs-controller', `Activated tab: ${tabId}`);\n            }\n        },\n\n        /**\n         * Handle initial URL hash to activate correct tab\n         */\n        handleInitialHash() {\n            const hash = window.location.hash.slice(1); // Remove #\n\n            if (!hash) return;\n\n            // Find the container that has this tab\n            const containers = document.querySelectorAll(this.SELECTORS.TABS_CONTAINER);\n\n            containers.forEach(container => {\n                const trigger = container.querySelector(`[data-tab-trigger=\"${hash}\"]`);\n                if (trigger) {\n                    // Small delay to ensure DOM is ready\n                    requestAnimationFrame(() => {\n                        this.activateTab(container, hash);\n                    });\n                }\n            });\n        },\n\n        /**\n         * Programmatically activate a tab by ID\n         * @param {string} tabId - Tab identifier\n         */\n        showTab(tabId) {\n            const trigger = document.querySelector(`[data-tab-trigger=\"${tabId}\"]`);\n            if (!trigger) {\n                console.warn(`TabsController: Tab trigger not found for \"${tabId}\"`);\n                return;\n            }\n\n            const container = trigger.closest(this.SELECTORS.TABS_CONTAINER);\n            if (container) {\n                this.activateTab(container, tabId);\n            }\n        },\n\n        /**\n         * Get the currently active tab ID for a container\n         * @param {Element} container - Tab container element\n         * @returns {string|null} - Active tab ID or null\n         */\n        getActiveTab(container) {\n            const activeTrigger = container.querySelector(`${this.SELECTORS.TAB_TRIGGER}.${this.CLASSES.ACTIVE_TRIGGER}`);\n            return activeTrigger ? activeTrigger.dataset.tabTrigger : null;\n        }\n    };\n\n    // Register with InitSystem if available\n    if (typeof InitSystem !== 'undefined' && InitSystem.register) {\n        InitSystem.register('tabs-controller', function(context) {\n            TabsController.init(context);\n        }, {\n            priority: 75,\n            description: 'BEM tabs navigation controller',\n            reinitializable: true\n        });\n    } else {\n        // Fallback: Initialize on DOMContentLoaded\n        if (document.readyState === 'loading') {\n            document.addEventListener('DOMContentLoaded', () => TabsController.init());\n        } else {\n            TabsController.init();\n        }\n    }\n\n    // Listen for hash changes\n    window.addEventListener('hashchange', () => {\n        TabsController.handleInitialHash();\n    });\n\n    // Expose globally for programmatic access\n    window.TabsController = TabsController;\n\n})(window, document);\n","/**\n * ECS Soccer League - Centralized Initialization System\n *\n * Single entry point for all application component initialization.\n * Provides dependency management, ordered execution, and re-initialization support.\n *\n * @version 1.0.0\n * @created 2025-12-16\n *\n * Usage:\n *\n *   // Register a component\n *   InitSystem.register('my-component', function() {\n *       // Initialization code here\n *       setupEventListeners();\n *       enhanceUI();\n *   }, {\n *       priority: 50,                    // 0-100, higher = earlier (default: 50)\n *       dependencies: ['helpers', 'config'], // Components that must init first\n *       reinitializable: true            // Can be re-initialized for AJAX content (default: false)\n *   });\n *\n *   // Check if initialized\n *   if (InitSystem.isInitialized('my-component')) {\n *       // Component is ready\n *   }\n *\n *   // Re-initialize specific components (for AJAX/HTMX)\n *   InitSystem.reinit(['tooltips', 'popovers', 'form-validation']);\n *\n * Priority Levels:\n *   100-90: Core systems (helpers, menu, design-system, responsive-system)\n *   89-70:  Global components (theme, config, modals, navigation)\n *   69-50:  Feature modules (match management, RSVP, calendar)\n *   49-30:  Page-specific features (wizards, admin tools)\n *   29-10:  Enhancements (mobile features, UI fixes, analytics)\n */\n\n(function(window, document) {\n    'use strict';\n\n    const InitSystem = {\n        // Initialization state\n        initialized: false,\n        initializing: false,\n        startTime: null,\n        endTime: null,\n\n        // Component registry\n        components: new Map(),\n\n        // Initialization queue (ordered by priority)\n        queue: [],\n\n        // Failed components\n        failures: [],\n\n        // Configuration\n        config: {\n            logging: true,                 // Log initialization progress\n            throwOnError: false,           // Stop on first error\n            initTimeout: 30000,            // Max time for all components (30s)\n            componentTimeout: 5000,        // Max time per component (5s)\n            autoInit: true                 // Auto-initialize on DOMContentLoaded\n        },\n\n        /**\n         * Register a component for initialization\n         * @param {string} name - Component name (unique identifier)\n         * @param {Function} initFn - Initialization function\n         * @param {Object} options - Configuration options\n         * @param {number} options.priority - Priority (0-100, higher = earlier, default 50)\n         * @param {Array<string>} options.dependencies - Required components (default [])\n         * @param {boolean} options.reinitializable - Can be re-initialized (default false)\n         * @param {string} options.description - Human-readable description\n         */\n        register(name, initFn, options = {}) {\n            // Validation\n            if (!name || typeof name !== 'string') {\n                this._error('register', 'Component name must be a non-empty string');\n                return;\n            }\n\n            if (this.components.has(name)) {\n                this._warn('register', `Component \"${name}\" is already registered. Overwriting.`);\n            }\n\n            if (typeof initFn !== 'function') {\n                this._error('register', `Init function for \"${name}\" must be a function`);\n                return;\n            }\n\n            // Create component entry\n            const component = {\n                name,\n                initFn,\n                priority: typeof options.priority === 'number' ? options.priority : 50,\n                dependencies: Array.isArray(options.dependencies) ? options.dependencies : [],\n                reinitializable: options.reinitializable === true,\n                description: options.description || name,\n                initialized: false,\n                initializing: false,\n                error: null,\n                initTime: null,\n                initDuration: null\n            };\n\n            // Validate priority range\n            if (component.priority < 0 || component.priority > 100) {\n                this._warn('register', `Priority for \"${name}\" should be 0-100, got ${component.priority}`);\n                component.priority = Math.max(0, Math.min(100, component.priority));\n            }\n\n            // Store component\n            this.components.set(name, component);\n\n            // Add to queue if not already present\n            const existingIndex = this.queue.findIndex(c => c.name === name);\n            if (existingIndex >= 0) {\n                this.queue[existingIndex] = component;\n            } else {\n                this.queue.push(component);\n            }\n\n            // Sort queue by priority (higher = earlier)\n            this.queue.sort((a, b) => b.priority - a.priority);\n\n            this._log('register', `Registered \"${name}\" (priority: ${component.priority}${component.dependencies.length > 0 ? ', deps: ' + component.dependencies.join(', ') : ''})`);\n        },\n\n        /**\n         * Initialize all registered components\n         * @returns {Promise<Object>} Results of initialization\n         */\n        async init() {\n            if (this.initialized) {\n                this._warn('init', 'Already initialized');\n                return this._getStatus();\n            }\n\n            if (this.initializing) {\n                this._warn('init', 'Already initializing');\n                return this._getStatus();\n            }\n\n            this.initializing = true;\n            this.startTime = performance.now();\n            this.failures = [];\n\n            this._log('init', `Starting initialization of ${this.queue.length} components...`);\n            this._log('init', `Components: ${this.queue.map(c => c.name).join(', ')}`);\n\n            try {\n                // Set global timeout\n                const timeoutPromise = new Promise((_, reject) => {\n                    setTimeout(() => reject(new Error('Initialization timeout')), this.config.initTimeout);\n                });\n\n                // Initialize all components\n                const initPromise = this._initializeQueue();\n\n                // Race against timeout\n                await Promise.race([initPromise, timeoutPromise]);\n\n                this.initialized = true;\n                this.initializing = false;\n                this.endTime = performance.now();\n\n                const duration = (this.endTime - this.startTime).toFixed(2);\n                const successCount = this.queue.filter(c => c.initialized).length;\n                const failureCount = this.failures.length;\n\n                if (failureCount === 0) {\n                    this._log('init', ` Initialization complete! ${successCount} components in ${duration}ms`);\n                } else {\n                    this._warn('init', ` Initialization complete with ${failureCount} failures. ${successCount} components in ${duration}ms`);\n                }\n\n                // Fire custom event\n                this._dispatchEvent('initialized', this._getStatus());\n\n                return this._getStatus();\n\n            } catch (error) {\n                this.initializing = false;\n                this._error('init', ` Initialization failed: ${error.message}`, error);\n\n                // Fire error event\n                this._dispatchEvent('initializationError', { error, status: this._getStatus() });\n\n                if (this.config.throwOnError) {\n                    throw error;\n                }\n\n                return this._getStatus();\n            }\n        },\n\n        /**\n         * Initialize all components in queue order\n         * @private\n         */\n        async _initializeQueue() {\n            for (const component of this.queue) {\n                try {\n                    await this._initComponent(component);\n                } catch (error) {\n                    this.failures.push({\n                        component: component.name,\n                        error: error.message,\n                        stack: error.stack\n                    });\n\n                    if (this.config.throwOnError) {\n                        throw error;\n                    }\n                    // Otherwise continue with next component\n                }\n            }\n        },\n\n        /**\n         * Initialize a single component\n         * @param {Object} component - Component to initialize\n         * @private\n         */\n        async _initComponent(component) {\n            // Skip if already initialized\n            if (component.initialized) {\n                return;\n            }\n\n            // Check if already initializing (circular dependency)\n            if (component.initializing) {\n                throw new Error(`Circular dependency detected: ${component.name}`);\n            }\n\n            // Check dependencies\n            for (const depName of component.dependencies) {\n                const dep = this.components.get(depName);\n\n                if (!dep) {\n                    throw new Error(`Component \"${component.name}\" depends on \"${depName}\" which is not registered`);\n                }\n\n                if (!dep.initialized) {\n                    // Try to initialize dependency first\n                    if (!dep.initializing) {\n                        this._log('init', `Initializing dependency \"${depName}\" for \"${component.name}\"`);\n                        await this._initComponent(dep);\n                    } else {\n                        throw new Error(`Component \"${component.name}\" depends on \"${depName}\" which is currently initializing (circular dependency)`);\n                    }\n                }\n            }\n\n            // Mark as initializing\n            component.initializing = true;\n            const startTime = performance.now();\n\n            try {\n                this._log('init', `Initializing \"${component.name}\"...`);\n\n                // Set timeout for this component\n                const timeoutPromise = new Promise((_, reject) => {\n                    setTimeout(\n                        () => reject(new Error(`Component \"${component.name}\" initialization timeout`)),\n                        this.config.componentTimeout\n                    );\n                });\n\n                // Initialize component\n                const initPromise = Promise.resolve(component.initFn());\n\n                // Race against timeout\n                await Promise.race([initPromise, timeoutPromise]);\n\n                const endTime = performance.now();\n                component.initialized = true;\n                component.initializing = false;\n                component.initTime = endTime;\n                component.initDuration = (endTime - startTime).toFixed(2);\n\n                this._log('init', ` \"${component.name}\" initialized in ${component.initDuration}ms`);\n\n                // Fire component initialized event\n                this._dispatchEvent('componentInitialized', { component: component.name, duration: component.initDuration });\n\n            } catch (error) {\n                component.initializing = false;\n                component.error = error.message;\n\n                this._error('init', ` Failed to initialize \"${component.name}\": ${error.message}`, error);\n\n                // Fire component error event\n                this._dispatchEvent('componentError', { component: component.name, error: error.message });\n\n                throw error;\n            }\n        },\n\n        /**\n         * Re-initialize specific components (for AJAX/HTMX reloads)\n         * @param {Array<string>} componentNames - Components to re-init\n         * @param {Element} context - DOM context to re-init within (optional)\n         * @returns {Promise<Object>} Results of re-initialization\n         */\n        async reinit(componentNames = [], context = document.body) {\n            if (!Array.isArray(componentNames)) {\n                this._error('reinit', 'componentNames must be an array');\n                return;\n            }\n\n            this._log('reinit', `Re-initializing ${componentNames.length} components: ${componentNames.join(', ')}`);\n\n            const results = {\n                success: [],\n                failed: [],\n                skipped: []\n            };\n\n            for (const name of componentNames) {\n                const component = this.components.get(name);\n\n                if (!component) {\n                    this._warn('reinit', `Component \"${name}\" not found`);\n                    results.skipped.push(name);\n                    continue;\n                }\n\n                if (!component.reinitializable) {\n                    this._warn('reinit', `Component \"${name}\" is not reinitializable`);\n                    results.skipped.push(name);\n                    continue;\n                }\n\n                try {\n                    this._log('reinit', `Re-initializing \"${name}\"...`);\n\n                    // Pass context to init function if it accepts it\n                    if (component.initFn.length > 0) {\n                        await Promise.resolve(component.initFn(context));\n                    } else {\n                        await Promise.resolve(component.initFn());\n                    }\n\n                    this._log('reinit', ` \"${name}\" re-initialized`);\n                    results.success.push(name);\n\n                    // Fire event\n                    this._dispatchEvent('componentReinitialized', { component: name });\n\n                } catch (error) {\n                    this._error('reinit', ` Failed to re-initialize \"${name}\": ${error.message}`, error);\n                    results.failed.push({ name, error: error.message });\n\n                    // Fire error event\n                    this._dispatchEvent('componentReinitError', { component: name, error: error.message });\n                }\n            }\n\n            this._log('reinit', `Re-initialization complete. Success: ${results.success.length}, Failed: ${results.failed.length}, Skipped: ${results.skipped.length}`);\n\n            return results;\n        },\n\n        /**\n         * Check if a component is initialized\n         * @param {string} name - Component name\n         * @returns {boolean} True if initialized\n         */\n        isInitialized(name) {\n            const component = this.components.get(name);\n            return component ? component.initialized : false;\n        },\n\n        /**\n         * Get component by name\n         * @param {string} name - Component name\n         * @returns {Object|null} Component or null\n         */\n        getComponent(name) {\n            return this.components.get(name) || null;\n        },\n\n        /**\n         * Get all components\n         * @returns {Array<Object>} Array of components\n         */\n        getAllComponents() {\n            return Array.from(this.components.values());\n        },\n\n        /**\n         * Get initialization status\n         * @returns {Object} Status object\n         */\n        _getStatus() {\n            const components = Array.from(this.components.values());\n            const initialized = components.filter(c => c.initialized);\n            const failed = components.filter(c => c.error);\n            const pending = components.filter(c => !c.initialized && !c.error);\n\n            return {\n                initialized: this.initialized,\n                initializing: this.initializing,\n                duration: this.endTime ? (this.endTime - this.startTime).toFixed(2) : null,\n                total: components.length,\n                initialized: initialized.length,\n                failed: failed.length,\n                pending: pending.length,\n                components: {\n                    initialized: initialized.map(c => c.name),\n                    failed: failed.map(c => ({ name: c.name, error: c.error })),\n                    pending: pending.map(c => c.name)\n                },\n                failures: this.failures\n            };\n        },\n\n        /**\n         * Get initialization order\n         * @returns {Array<Object>} Components in init order\n         */\n        getInitOrder() {\n            return this.queue.map((c, index) => ({\n                order: index + 1,\n                name: c.name,\n                priority: c.priority,\n                dependencies: c.dependencies,\n                initialized: c.initialized,\n                duration: c.initDuration\n            }));\n        },\n\n        /**\n         * Dispatch custom event\n         * @private\n         */\n        _dispatchEvent(eventName, detail) {\n            document.dispatchEvent(new CustomEvent(`app:${eventName}`, { detail }));\n        },\n\n        /**\n         * Log message\n         * @private\n         */\n        _log(context, message) {\n            if (this.config.logging) {\n                console.log(`[Init${context ? ':' + context : ''}] ${message}`);\n            }\n        },\n\n        /**\n         * Log warning\n         * @private\n         */\n        _warn(context, message) {\n            if (this.config.logging) {\n                console.warn(`[Init${context ? ':' + context : ''}] ${message}`);\n            }\n        },\n\n        /**\n         * Log error\n         * @private\n         */\n        _error(context, message, error) {\n            console.error(`[Init${context ? ':' + context : ''}] ${message}`, error || '');\n        },\n\n        /**\n         * Configure the init system\n         * @param {Object} options - Configuration options\n         */\n        configure(options) {\n            Object.assign(this.config, options);\n            this._log('configure', `Configuration updated: ${JSON.stringify(this.config)}`);\n        },\n\n        /**\n         * Reset the init system (for testing)\n         */\n        reset() {\n            this.initialized = false;\n            this.initializing = false;\n            this.startTime = null;\n            this.endTime = null;\n            this.components.clear();\n            this.queue = [];\n            this.failures = [];\n            this._log('reset', 'Init system reset');\n        }\n    };\n\n    // Make globally available\n    window.InitSystem = InitSystem;\n\n    // Auto-initialize on DOMContentLoaded (if enabled)\n    if (InitSystem.config.autoInit) {\n        if (document.readyState === 'loading') {\n            document.addEventListener('DOMContentLoaded', () => {\n                InitSystem.init();\n            });\n        } else {\n            // DOM already loaded, init immediately\n            InitSystem.init();\n        }\n    }\n\n    // Debug utilities (available in console)\n    window.InitSystemDebug = {\n        /**\n         * Print initialization order\n         */\n        printOrder() {\n            console.table(InitSystem.getInitOrder());\n        },\n\n        /**\n         * Print component status\n         */\n        printStatus() {\n            const status = InitSystem._getStatus();\n            console.log('Initialization Status:', status);\n            console.log(`Total: ${status.total}, Initialized: ${status.initialized}, Failed: ${status.failed}, Pending: ${status.pending}`);\n\n            if (status.components.failed.length > 0) {\n                console.error('Failed Components:', status.components.failed);\n            }\n\n            if (status.components.pending.length > 0) {\n                console.warn('Pending Components:', status.components.pending);\n            }\n        },\n\n        /**\n         * Test re-initialization\n         */\n        async testReinit(componentNames) {\n            console.log('Testing re-initialization:', componentNames);\n            const results = await InitSystem.reinit(componentNames);\n            console.log('Results:', results);\n        },\n\n        /**\n         * Get component details\n         */\n        getComponent(name) {\n            const component = InitSystem.getComponent(name);\n            if (component) {\n                console.log(`Component: ${name}`, component);\n            } else {\n                console.warn(`Component \"${name}\" not found`);\n            }\n        }\n    };\n\n})(window, document);\n","document.addEventListener('DOMContentLoaded', function () {\n    // Guard: Check if Shepherd is loaded before using it\n    if (typeof Shepherd === 'undefined') {\n        console.warn('[Tour] Shepherd library not loaded, skipping tour initialization');\n        return;\n    }\n\n    const tourVar = new Shepherd.Tour({\n        defaultStepOptions: {\n            scrollTo: true,\n            cancelIcon: {\n                enabled: true\n            }\n        },\n        useModalOverlay: true\n    });\n\n    tourVar.addStep({\n        title: 'Welcome \\uD83D\\uDC4B',\n        text: \"Glad you're here ! This tour will guide you through the main features of the site.\",\n        attachTo: { element: '.navbar', on: 'bottom' },\n        buttons: [\n            {\n                text: 'Next',\n                action: tourVar.next\n            },\n            {\n                text: 'Skip',\n                action: function () {\n                    // Get the CSRF token from the hidden input field\n                    const csrfToken = document.querySelector('input[name=\"csrf_token\"]').value;\n\n                    // Send the fetch request with the CSRF token\n                    fetch('/set_tour_complete', {\n                        method: 'POST',\n                        headers: {\n                            'Content-Type': 'application/json',\n                            'X-CSRFToken': csrfToken  // Add the CSRF token here\n                        },\n                        body: JSON.stringify({}) // You can pass any data here if needed\n                    })\n                        .then(response => {\n                            if (response.ok) {\n                                tourVar.cancel();\n                            } else {\n                                // console.error('Failed to complete the tour');\n                            }\n                        })\n                        .catch(() => { /* Error handled silently */ });\n                }\n            }\n        ]\n    });\n\n    tourVar.addStep({\n        title: 'User Profile',\n        text: 'Click here to view your profile, edit settings, or logout.',\n        attachTo: { element: '.nav-item.dropdown-user', on: 'bottom' },\n        buttons: [\n            {\n                text: 'Next',\n                action: tourVar.next\n            },\n            {\n                text: 'Skip',\n                action: function () {\n                    // Get the CSRF token from the hidden input field\n                    const csrfToken = document.querySelector('input[name=\"csrf_token\"]').value;\n\n                    // Send the fetch request with the CSRF token\n                    fetch('/set_tour_complete', {\n                        method: 'POST',\n                        headers: {\n                            'Content-Type': 'application/json',\n                            'X-CSRFToken': csrfToken  // Add the CSRF token here\n                        },\n                        body: JSON.stringify({}) // You can pass any data here if needed\n                    })\n                        .then(response => {\n                            if (response.ok) {\n                                tourVar.cancel();\n                            } else {\n                                // console.error('Failed to complete the tour');\n                            }\n                        })\n                        .catch(() => { /* Error handled silently */ });\n                }\n            }\n        ]\n    });\n\n    tourVar.addStep({\n        title: 'Announcements! \\uD83D\\uDCE2',\n        text: 'You can see new announcements here.',\n        attachTo: { element: '#announcementsCarousel', on: 'top' },\n        buttons: [\n            {\n                text: 'Next',\n                action: tourVar.next\n            },\n            {\n                text: 'Skip',\n                action: function () {\n                    // Get the CSRF token from the hidden input field\n                    const csrfToken = document.querySelector('input[name=\"csrf_token\"]').value;\n\n                    // Send the fetch request with the CSRF token\n                    fetch('/set_tour_complete', {\n                        method: 'POST',\n                        headers: {\n                            'Content-Type': 'application/json',\n                            'X-CSRFToken': csrfToken  // Add the CSRF token here\n                        },\n                        body: JSON.stringify({}) // You can pass any data here if needed\n                    })\n                        .then(response => {\n                            if (response.ok) {\n                                tourVar.cancel();\n                            } else {\n                                // console.error('Failed to complete the tour');\n                            }\n                        })\n                        .catch(() => { /* Error handled silently */ });\n                }\n            }\n        ]\n    });\n\n    tourVar.addStep({\n        title: 'Profile',\n        text: 'You can view and update your profile here.',\n        attachTo: { element: '#playerProfile', on: 'top' },\n        buttons: [\n            {\n                text: 'Next',\n                action: tourVar.next\n            },\n            {\n                text: 'Skip',\n                action: function () {\n                    // Get the CSRF token from the hidden input field\n                    const csrfToken = document.querySelector('input[name=\"csrf_token\"]').value;\n\n                    // Send the fetch request with the CSRF token\n                    fetch('/set_tour_complete', {\n                        method: 'POST',\n                        headers: {\n                            'Content-Type': 'application/json',\n                            'X-CSRFToken': csrfToken  // Add the CSRF token here\n                        },\n                        body: JSON.stringify({}) // You can pass any data here if needed\n                    })\n                        .then(response => {\n                            if (response.ok) {\n                                tourVar.cancel();\n                            } else {\n                                // console.error('Failed to complete the tour');\n                            }\n                        })\n                        .catch(() => { /* Error handled silently */ });\n                }\n            }\n        ]\n    });\n\n    tourVar.addStep({\n        title: 'Team Page',\n        text: 'You can find your teammates here.',\n        attachTo: { element: '#teamOverview', on: 'top' },\n        buttons: [\n            {\n                text: 'Next',\n                action: tourVar.next\n            },\n            {\n                text: 'Skip',\n                action: function () {\n                    // Get the CSRF token from the hidden input field\n                    const csrfToken = document.querySelector('input[name=\"csrf_token\"]').value;\n\n                    // Send the fetch request with the CSRF token\n                    fetch('/set_tour_complete', {\n                        method: 'POST',\n                        headers: {\n                            'Content-Type': 'application/json',\n                            'X-CSRFToken': csrfToken  // Add the CSRF token here\n                        },\n                        body: JSON.stringify({}) // You can pass any data here if needed\n                    })\n                        .then(response => {\n                            if (response.ok) {\n                                tourVar.cancel();\n                            } else {\n                                // console.error('Failed to complete the tour');\n                            }\n                        })\n                        .catch(() => { /* Error handled silently */ });\n                }\n            }\n        ]\n    });\n\n    tourVar.addStep({\n        title: 'Matches',\n        text: 'You can view and RSVP to your upcomming matches here.',\n        attachTo: { element: '#matchOverview', on: 'top' },\n        buttons: [\n            {\n                text: 'Next',\n                action: tourVar.next\n            },\n            {\n                text: 'Skip',\n                action: function () {\n                    // Get the CSRF token from the hidden input field\n                    const csrfToken = document.querySelector('input[name=\"csrf_token\"]').value;\n\n                    // Send the fetch request with the CSRF token\n                    fetch('/set_tour_complete', {\n                        method: 'POST',\n                        headers: {\n                            'Content-Type': 'application/json',\n                            'X-CSRFToken': csrfToken  // Add the CSRF token here\n                        },\n                        body: JSON.stringify({}) // You can pass any data here if needed\n                    })\n                        .then(response => {\n                            if (response.ok) {\n                                tourVar.cancel();\n                            } else {\n                                // console.error('Failed to complete the tour');\n                            }\n                        })\n                        .catch(() => { /* Error handled silently */ });\n                }\n            }\n        ]\n    });\n\n    tourVar.addStep({\n        title: 'Feedback',\n        text: 'You can report bugs or give feedback here.  We need your feedback to get better!',\n        attachTo: { element: 'a.feedback-link', on: 'top' },\n        buttons: [\n            {\n                text: 'Next',\n                action: tourVar.next\n            },\n            {\n                text: 'Skip',\n                action: function () {\n                    // Get the CSRF token from the hidden input field\n                    const csrfToken = document.querySelector('input[name=\"csrf_token\"]').value;\n\n                    // Send the fetch request with the CSRF token\n                    fetch('/set_tour_complete', {\n                        method: 'POST',\n                        headers: {\n                            'Content-Type': 'application/json',\n                            'X-CSRFToken': csrfToken  // Add the CSRF token here\n                        },\n                        body: JSON.stringify({}) // You can pass any data here if needed\n                    })\n                        .then(response => {\n                            if (response.ok) {\n                                tourVar.cancel();\n                            } else {\n                                // console.error('Failed to complete the tour');\n                            }\n                        })\n                        .catch(() => { /* Error handled silently */ });\n                }\n            }\n        ]\n    });\n\n    tourVar.addStep({\n        title: 'Teams',\n        text: 'You can view other teams here.',\n        attachTo: { element: 'a.teams-link', on: 'bottom' },\n        buttons: [\n            {\n                text: 'Finish',\n                action: function () {\n                    // Get the CSRF token from the hidden input field\n                    const csrfToken = document.querySelector('input[name=\"csrf_token\"]').value;\n\n                    // Send the fetch request with the CSRF token\n                    fetch('/set_tour_complete', {\n                        method: 'POST',\n                        headers: {\n                            'Content-Type': 'application/json',\n                            'X-CSRFToken': csrfToken  // Add the CSRF token here\n                        },\n                        body: JSON.stringify({}) // You can pass any data here if needed\n                    })\n                        .then(response => {\n                            if (response.ok) {\n                                tourVar.cancel();\n                            } else {\n                                // console.error('Failed to complete the tour');\n                            }\n                        })\n                        .catch(() => { /* Error handled silently */ });\n                }\n            }\n        ]\n    });\n\n    // Start the tour if showTour is defined and truthy (set by template)\n    if (typeof showTour !== 'undefined' && showTour) {\n        tourVar.start();\n    }\n});\n","document.addEventListener('DOMContentLoaded', function () {\n    // Retrieve the values for playerId, discordId, and csrfToken from the DOM\n    const rsvpDataElement = document.getElementById('rsvp-data');\n    \n    // Check if the element exists before proceeding\n    if (!rsvpDataElement) {\n        // console.log('RSVP data element not found, RSVP functionality disabled');\n        return; // Exit early if RSVP data is not available\n    }\n    \n    const playerId = rsvpDataElement.getAttribute('data-player-id');\n    const discordId = rsvpDataElement.getAttribute('data-discord-id');\n    const csrfToken = rsvpDataElement.getAttribute('data-csrf-token');\n\n    // Generate unique operation ID for idempotency\n    function generateOperationId() {\n        return 'web_' + Date.now() + '_' + Math.random().toString(36).substr(2, 9);\n    }\n\n    function submitRSVP(matchId, response, retryCount = 0) {\n        // Use same operation ID for retries to ensure idempotency\n        const operationId = this.currentOperationId || generateOperationId();\n        this.currentOperationId = operationId;\n        \n        fetch(`/api/v2/rsvp/update`, {\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json',\n                'X-CSRFToken': csrfToken  // Include CSRF token\n            },\n            body: JSON.stringify({\n                match_id: parseInt(matchId),\n                availability: response,  // Changed from 'response' to 'availability'\n                operation_id: operationId,\n                source: 'discord',  // Changed from 'web' to 'discord' to use Discord ID auth\n                discord_id: discordId\n            })\n        })\n            .then(response => {\n                // Check if the response is ok (status in the range 200-299)\n                if (!response.ok) {\n                    throw new Error(`HTTP error ${response.status}`);\n                }\n                \n                // For debugging, log the raw response text first\n                return response.text().then(text => {\n                    // console.log('Raw response:', text);\n                    try {\n                        return JSON.parse(text);\n                    } catch (e) {\n                        // console.error('JSON parse error:', e);\n                        throw new Error('Invalid JSON response');\n                    }\n                });\n            })\n            .then(data => {\n                // Clear operation ID on success\n                this.currentOperationId = null;\n                \n                // Enterprise endpoint returns success with message, no 'success' field\n                if (data.message && data.match_id) {\n                    // console.log('RSVP updated successfully with enterprise system');\n                    // Show success message\n                    Swal.fire({\n                        icon: 'success',\n                        title: 'RSVP Updated',\n                        text: data.message || 'Your RSVP status has been updated!',\n                        toast: true,\n                        position: 'top-end',\n                        showConfirmButton: false,\n                        timer: 3000\n                    });\n                    \n                    // If we're on the match details page, reload to show the updated status\n                    if (window.location.pathname.includes('/matches/')) {\n                        setTimeout(() => window.location.reload(), 1000);\n                    }\n                } else if (data.error) {\n                    // Handle enterprise API error format\n                    throw new Error(data.error);\n                } else {\n                    // Fallback for legacy success format\n                    if (data.success) {\n                        Swal.fire({\n                            icon: 'success',\n                            title: 'RSVP Updated',\n                            text: 'Your RSVP status has been updated!',\n                            toast: true,\n                            position: 'top-end',\n                            showConfirmButton: false,\n                            timer: 3000\n                        });\n                        \n                        if (window.location.pathname.includes('/matches/')) {\n                            setTimeout(() => window.location.reload(), 1000);\n                        }\n                    } else {\n                        throw new Error(data.message || 'Failed to update RSVP');\n                    }\n                }\n            })\n            .catch(error => {\n                // console.error('Error updating RSVP:', error);\n                \n                // Implement simple retry logic for network errors\n                const maxRetries = 2;\n                if (retryCount < maxRetries && \n                    (error.message.includes('HTTP error 5') || error.message.includes('NetworkError'))) {\n                    \n                    // Retry with exponential backoff\n                    setTimeout(() => {\n                        console.log(`Retrying RSVP update (attempt ${retryCount + 1}/${maxRetries})`);\n                        submitRSVP(matchId, response, retryCount + 1);\n                    }, Math.pow(2, retryCount) * 1000);\n                    \n                    return;\n                }\n                \n                // Clear operation ID on final failure\n                this.currentOperationId = null;\n                \n                // Show error message to user with retry option\n                Swal.fire({\n                    icon: 'error',\n                    title: 'RSVP Error',\n                    text: `Could not update your RSVP: ${error.message}`,\n                    toast: true,\n                    position: 'top-end',\n                    showConfirmButton: true,\n                    confirmButtonText: 'Retry',\n                    timer: 8000\n                }).then((result) => {\n                    if (result.isConfirmed) {\n                        // User clicked retry - start fresh\n                        this.currentOperationId = null;\n                        submitRSVP(matchId, response, 0);\n                    }\n                });\n            });\n    }\n\n    // Track the last selected response to allow \"unclick\" behavior\n    const lastSelected = {};\n\n    // Attach event listeners for RSVP radio buttons\n    document.querySelectorAll('.btn-check.rsvp-input').forEach(function (element) {\n        element.addEventListener('click', function (event) {\n            const matchId = event.target.name.split('-')[1];  // Extract match ID from name attribute\n            const response = event.target.value;\n\n            if (lastSelected[matchId] === response) {\n                // If the same option is clicked twice, uncheck it and reset to \"no response\"\n                event.target.checked = false;\n                submitRSVP(matchId, 'no_response');\n                lastSelected[matchId] = null;\n            } else {\n                // Otherwise, submit the selected response\n                submitRSVP(matchId, response);\n                lastSelected[matchId] = response;\n            }\n        });\n    });\n\n    // Load and set the existing RSVP values when the page loads\n    function setInitialRSVPs() {\n        try {\n            // Get all form inputs and extract unique match IDs\n            const inputs = document.querySelectorAll('.btn-check.rsvp-input');\n            if (!inputs || inputs.length === 0) {\n                // console.log('No RSVP inputs found on page');\n                return;\n            }\n            \n            // Extract match IDs, filtering out undefined or empty values\n            const matchIds = [...new Set(\n                [...inputs]\n                .map(input => {\n                    const parts = input.name ? input.name.split('-') : [];\n                    return parts.length > 1 ? parts[1] : null;\n                })\n                .filter(id => id && id !== 'undefined' && id.trim() !== '')\n            )];\n            \n            // For each valid match ID, fetch the status\n            matchIds.forEach(matchId => {\n                if (!matchId || matchId === 'undefined') {\n                    // console.warn('Invalid match ID for RSVP status fetch');\n                    return;\n                }\n                \n                fetch(`/rsvp/status/${matchId}`, {\n                    method: 'GET',\n                    headers: {\n                        'Content-Type': 'application/json',\n                        'X-CSRFToken': csrfToken  // Include CSRF token\n                    }\n                })\n                .then(response => {\n                    if (!response.ok) {\n                        throw new Error(`HTTP error ${response.status}`);\n                    }\n                    return response.text().then(text => {\n                        try {\n                            return JSON.parse(text);\n                        } catch (e) {\n                            // console.error(`JSON parse error for match ${matchId}:`, e);\n                            throw new Error('Invalid JSON response');\n                        }\n                    });\n                })\n                .then(data => {\n                    if (data && data.response) {\n                        const radioButton = document.querySelector(`input[name=\"response-${matchId}\"][value=\"${data.response}\"]`);\n                        if (radioButton) {\n                            radioButton.checked = true;\n                            lastSelected[matchId] = data.response;\n                        }\n                    }\n                })\n                .catch(error => {\n                    // console.log(`Could not load RSVP status for match ${matchId}: ${error.message}`);\n                });\n            });\n        } catch (error) {\n            // console.error('Error in setInitialRSVPs:', error);\n        }\n    }\n\n    // Call the function to set the initial RSVP statuses\n    setInitialRSVPs();\n});\n","/**\n * Discord Membership Detection and Prompt System\n * \n * Detects when users are not in the Discord server and prompts them to join\n * with helpful SweetAlert popups.\n */\n\nclass DiscordMembershipChecker {\n    constructor(options = {}) {\n        this.options = {\n            discordInviteUrl: 'https://discord.gg/weareecs',\n            checkOnLoad: true,\n            showUrgentPopup: true,\n            ...options\n        };\n        \n        if (this.options.checkOnLoad) {\n            document.addEventListener('DOMContentLoaded', () => this.init());\n        }\n    }\n    \n    init() {\n        // Check if we have Discord membership status data\n        if (window.discordMembershipStatus) {\n            this.handleMembershipStatus(window.discordMembershipStatus);\n        } else if (window.discordError) {\n            console.warn('Discord membership check error:', window.discordError);\n            this.showDiscordJoinPrompt('error');\n        } else {\n            // No Discord info - prompt to join\n            this.showDiscordJoinPrompt('no_info');\n        }\n    }\n    \n    handleMembershipStatus(status) {\n        if (status && !status.in_server) {\n            // User authenticated but not in server\n            this.showDiscordJoinPrompt('not_in_server');\n            this.updateDiscordElements(false);\n        } else if (status && status.in_server) {\n            // User is in server\n            this.updateDiscordElements(true);\n            this.showSuccessMessage();\n        }\n    }\n    \n    showDiscordJoinPrompt(reason = 'general') {\n        if (!this.options.showUrgentPopup) return;\n        \n        // Check if we've shown a Discord prompt recently (rate limiting)\n        const lastPromptShown = localStorage.getItem('discord_prompt_last_shown');\n        const now = Date.now();\n        const oneHour = 60 * 60 * 1000; // One hour\n        const oneWeek = 7 * 24 * 60 * 60 * 1000; // One week\n        \n        // For critical errors, always show. For others, respect rate limits\n        if (reason !== 'not_in_server' && lastPromptShown) {\n            const timeSince = now - parseInt(lastPromptShown);\n            if (timeSince < oneHour) {\n                console.log('Discord prompt rate limited - shown recently');\n                return;\n            }\n        }\n        \n        let title, message, urgency;\n        \n        switch (reason) {\n            case 'not_in_server':\n                title = ' Action Required: Join Discord!';\n                message = '<strong>We couldn\\'t find you in our Discord server!</strong>';\n                urgency = 'critical';\n                break;\n            case 'error':\n                title = ' Discord Connection Issue';\n                message = 'We had trouble checking your Discord membership.';\n                urgency = 'warning';\n                break;\n            case 'no_info':\n                title = ' Join Our Discord Community';\n                message = 'Connect with us on Discord for the best experience!';\n                urgency = 'info';\n                break;\n            case 'manual':\n                title = ' Pro Tip: Join Discord First!';\n                message = 'For the best experience, join our Discord server before registering!';\n                urgency = 'info';\n                break;\n            default:\n                title = ' Join Our Discord Community';\n                message = 'Don\\'t miss out - join our Discord server!';\n                urgency = 'info';\n        }\n        \n        const isUrgent = urgency === 'critical';\n        \n        Swal.fire({\n            title: title,\n            html: `\n                <div class=\"text-start\">\n                    <p>${message}</p>\n                    <p>This is <strong>${isUrgent ? 'critical' : 'important'}</strong> because:</p>\n                    <ul class=\"text-start ms-3\">\n                        <li> All waitlist notifications are sent through Discord</li>\n                        <li> You'll miss immediate openings if you're not there</li>\n                        <li> Match announcements and league updates</li>\n                        <li> Connect with other players and substitutes</li>\n                        <li> Get real-time support and community chat</li>\n                    </ul>\n                    <p class=\"mt-3\"><strong>${isUrgent ? 'Don\\'t miss your chance to play!' : 'Join our community today!'}</strong></p>\n                </div>\n            `,\n            icon: isUrgent ? 'warning' : 'info',\n            showCancelButton: true,\n            confirmButtonText: '<i class=\"ti ti-brand-discord me-2\"></i>Join Discord Now',\n            cancelButtonText: isUrgent ? 'I\\'ll Join Later' : 'Maybe Later',\n            confirmButtonColor: '#5865F2', // Discord brand color - intentional\n            cancelButtonColor: (typeof ECSTheme !== 'undefined') ? ECSTheme.getColor('secondary') : '#6c757d',\n            allowOutsideClick: !isUrgent,\n            customClass: {\n                popup: 'swal2-discord-popup',\n                confirmButton: 'btn-discord-join'\n            }\n        }).then((result) => {\n            // Store timestamp when prompt was shown\n            localStorage.setItem('discord_prompt_last_shown', now.toString());\n            \n            if (result.isConfirmed) {\n                this.handleDiscordJoin();\n            } else if (isUrgent) {\n                this.showReminderMessage();\n            }\n        });\n    }\n    \n    handleDiscordJoin() {\n        // Open Discord invite in new tab\n        window.open(this.options.discordInviteUrl, '_blank', 'noopener,noreferrer');\n        \n        // Show follow-up message\n        setTimeout(() => {\n            Swal.fire({\n                title: 'Welcome to ECS!',\n                html: `\n                    <div class=\"text-start\">\n                        <p><strong>Great! You should now be joining our Discord server.</strong></p>\n                        <p>After joining, make sure to:</p>\n                        <ul class=\"text-start ms-3\">\n                            <li> Check the <code>#waitlist</code> channel for updates</li>\n                            <li> Introduce yourself in <code>#general</code></li>\n                            <li> Turn on notifications for important channels</li>\n                        </ul>\n                        <p class=\"mt-2\">We'll notify you there when spots become available!</p>\n                    </div>\n                `,\n                icon: 'info',\n                confirmButtonText: 'Got it!',\n                confirmButtonColor: (typeof ECSTheme !== 'undefined') ? ECSTheme.getColor('success') : '#198754'\n            });\n        }, 2000);\n    }\n\n    showReminderMessage() {\n        Swal.fire({\n            title: 'Important Reminder',\n            text: 'Remember to join our Discord server soon! You won\\'t receive waitlist notifications without it.',\n            icon: 'info',\n            confirmButtonText: 'I Understand',\n            confirmButtonColor: (typeof ECSTheme !== 'undefined') ? ECSTheme.getColor('success') : '#198754',\n            timer: 5000,\n            timerProgressBar: true\n        });\n    }\n    \n    showSuccessMessage() {\n        // Optional: Show a brief success message if user is already in Discord\n        if (this.options.showSuccessMessage) {\n            setTimeout(() => {\n                Swal.fire({\n                    title: ' All Set!',\n                    text: 'Great! You\\'re already in our Discord server and will receive all notifications.',\n                    icon: 'success',\n                    timer: 3000,\n                    timerProgressBar: true,\n                    showConfirmButton: false\n                });\n            }, 1000);\n        }\n    }\n    \n    updateDiscordElements(isInServer) {\n        // Update Discord information cards if they exist on the page\n        const elements = {\n            card: document.getElementById('discord-info-card'),\n            title: document.getElementById('discord-status-title'),\n            message: document.getElementById('discord-status-message'),\n            footer: document.getElementById('discord-status-footer'),\n            button: document.getElementById('discord-join-btn')\n        };\n        \n        // Check if elements exist before updating\n        const hasElements = Object.values(elements).some(el => el !== null);\n        if (!hasElements) return;\n        \n        if (isInServer) {\n            this.setSuccessState(elements);\n        } else {\n            this.setWarningState(elements);\n        }\n    }\n    \n    setSuccessState(elements) {\n        if (elements.card) {\n            elements.card.className = 'alert alert-success mb-4';\n        }\n        if (elements.title) {\n            elements.title.innerHTML = ' Great! You\\'re in our Discord Server';\n        }\n        if (elements.message) {\n            elements.message.innerHTML = 'Perfect! You\\'ll receive all waitlist notifications and updates through Discord. Make sure to check:';\n        }\n        if (elements.footer) {\n            elements.footer.innerHTML = '<strong>You\\'re all set!</strong>';\n        }\n        if (elements.button) {\n            elements.button.innerHTML = '<i class=\"ti ti-brand-discord me-2\"></i>Visit Discord Server';\n            elements.button.className = 'btn btn-success';\n            elements.button.href = this.options.discordInviteUrl;\n        }\n    }\n    \n    setWarningState(elements) {\n        if (elements.card) {\n            elements.card.className = 'alert alert-warning mb-4';\n        }\n        if (elements.title) {\n            elements.title.innerHTML = ' Critical: You\\'re Not in Our Discord Server!';\n        }\n        if (elements.message) {\n            elements.message.innerHTML = '<strong>This is important!</strong> You must join our Discord server to receive waitlist notifications. This is where we:';\n        }\n        if (elements.footer) {\n            elements.footer.innerHTML = '<strong>Join now or you\\'ll miss opportunities!</strong>';\n        }\n        if (elements.button) {\n            elements.button.innerHTML = '<i class=\"ti ti-brand-discord me-2\"></i>Join Discord Now - Don\\'t Miss Out!';\n            elements.button.className = 'btn btn-warning btn-lg btn-pulse-warning';\n            elements.button.href = this.options.discordInviteUrl;\n        }\n    }\n    \n    // Static method to manually trigger Discord join prompt\n    static showJoinPrompt(options = {}) {\n        const checker = new DiscordMembershipChecker({\n            checkOnLoad: false,\n            showUrgentPopup: true,\n            ...options\n        });\n        checker.showDiscordJoinPrompt('manual');\n    }\n}\n\n// Add CSS for SweetAlert styling (animation moved to interaction-utils.css)\nconst discordStyles = document.createElement('style');\ndiscordStyles.textContent = `\n    .swal2-discord-popup .swal2-html-container {\n        text-align: left !important;\n    }\n\n    .btn-discord-join {\n        background-color: #5865F2 !important; /* Discord brand color - intentional */\n        border-color: #5865F2 !important;\n    }\n\n    .swal2-discord-popup code {\n        background-color: var(--ecs-neutral-5, #f8f9fa);\n        padding: 2px 4px;\n        border-radius: 3px;\n        font-family: monospace;\n        font-size: 0.9em;\n        color: var(--ecs-neutral-60, #495057);\n    }\n`;\ndocument.head.appendChild(discordStyles);\n\n// Export for use in other scripts\nwindow.DiscordMembershipChecker = DiscordMembershipChecker;\n\n// Auto-initialize if on specific pages\nif (window.location.pathname.includes('waitlist_confirmation') || \n    window.location.pathname.includes('auth') ||\n    document.querySelector('[data-discord-check=\"auto\"]')) {\n    window.discordChecker = new DiscordMembershipChecker();\n}\n","/**\n * Admin Panel - Match List Management\n * Handles all interactions for /admin-panel/matches/list page\n * Migrated from inline scripts in admin_panel/matches/list.html\n */\n\ndocument.addEventListener('DOMContentLoaded', function() {\n    // Event delegation for all match list actions\n    document.addEventListener('click', function(e) {\n        const target = e.target.closest('[data-action]');\n        if (!target) return;\n\n        const action = target.dataset.action;\n        const matchId = target.dataset.matchId;\n        const matchName = target.dataset.matchName;\n\n        switch(action) {\n            case 'view-match-details':\n                viewMatchDetails(matchId);\n                break;\n            case 'delete-match':\n                adminPanelDeleteMatch(matchId, matchName);\n                break;\n            case 'duplicate-match':\n                duplicateMatch(matchId);\n                break;\n            case 'schedule-match':\n                adminPanelScheduleMatch(matchId);\n                break;\n            case 'postpone-match':\n                postponeMatch(matchId);\n                break;\n            case 'cancel-match':\n                cancelMatch(matchId);\n                break;\n            case 'bulk-actions':\n                bulkActions();\n                break;\n            case 'export-matches':\n                exportMatches();\n                break;\n            case 'bulk-schedule-matches':\n                bulkScheduleMatches();\n                break;\n        }\n    });\n\n    // Handle select all checkbox\n    const selectAllCheckbox = document.getElementById('selectAll');\n    if (selectAllCheckbox) {\n        selectAllCheckbox.addEventListener('change', toggleSelectAll);\n    }\n});\n\nfunction toggleSelectAll() {\n    const selectAll = document.getElementById('selectAll');\n    const checkboxes = document.querySelectorAll('.match-checkbox');\n\n    checkboxes.forEach(checkbox => {\n        checkbox.checked = selectAll.checked;\n    });\n}\n\nfunction getSelectedMatches() {\n    const checkboxes = document.querySelectorAll('.match-checkbox:checked');\n    return Array.from(checkboxes).map(cb => parseInt(cb.value));\n}\n\nfunction viewMatchDetails(matchId) {\n    fetch(`/admin-panel/matches/${matchId}/details`)\n        .then(response => response.json())\n        .then(data => {\n            if (data.success) {\n                const match = data.match;\n                let detailsHtml = `\n                    <div class=\"row\">\n                        <div class=\"col-md-6\">\n                            <h6>Match Information</h6>\n                            <p><strong>Teams:</strong> ${match.home_team} vs ${match.away_team}</p>\n                            <p><strong>Date:</strong> ${match.date || 'TBD'}</p>\n                            <p><strong>Time:</strong> ${match.time || 'TBD'}</p>\n                            <p><strong>Location:</strong> ${match.location}</p>\n                            <p><strong>Status:</strong> <span class=\"badge bg-primary\">${match.status}</span></p>\n                        </div>\n                        <div class=\"col-md-6\">\n                            <h6>League & Season</h6>\n                            <p><strong>League:</strong> ${match.league}</p>\n                            <p><strong>Season:</strong> ${match.season}</p>\n                        </div>\n                    </div>\n                `;\n\n                if (match.rsvp_data && match.rsvp_data.total > 0) {\n                    detailsHtml += `\n                        <div class=\"row mt-3\">\n                            <div class=\"col-12\">\n                                <h6>RSVP Information</h6>\n                                <p><strong>Total RSVPs:</strong> ${match.rsvp_data.total}</p>\n                                ${match.rsvp_data.status_breakdown ? Object.entries(match.rsvp_data.status_breakdown).map(([status, count]) =>\n                                    `<span class=\"badge bg-secondary me-1\">${status}: ${count}</span>`\n                                ).join('') : ''}\n                            </div>\n                        </div>\n                    `;\n                }\n\n                if (match.team_history && match.team_history.length > 0) {\n                    detailsHtml += `\n                        <div class=\"row mt-3\">\n                            <div class=\"col-12\">\n                                <h6>Recent Head-to-Head</h6>\n                                <div class=\"table-responsive\">\n                                    <table class=\"table table-sm\">\n                                        <thead><tr><th>Date</th><th>Match</th><th>Status</th></tr></thead>\n                                        <tbody>\n                                            ${match.team_history.map(h =>\n                                                `<tr><td>${h.date}</td><td>${h.home_team} vs ${h.away_team}</td><td>${h.status}</td></tr>`\n                                            ).join('')}\n                                        </tbody>\n                                    </table>\n                                </div>\n                            </div>\n                        </div>\n                    `;\n                }\n\n                Swal.fire({\n                    title: 'Match Details',\n                    html: detailsHtml,\n                    width: '700px',\n                    confirmButtonText: 'Close'\n                });\n            } else {\n                Swal.fire('Error', 'Could not load match details', 'error');\n            }\n        })\n        .catch(error => {\n            console.error('Error:', error);\n            Swal.fire('Error', 'Could not load match details', 'error');\n        });\n}\n\nfunction adminPanelDeleteMatch(matchId, matchName) {\n    Swal.fire({\n        title: 'Delete Match?',\n        text: `Are you sure you want to delete \"${matchName}\"? This action cannot be undone.`,\n        icon: 'warning',\n        showCancelButton: true,\n        confirmButtonColor: (typeof ECSTheme !== 'undefined') ? ECSTheme.getColor('danger') : '#dc3545',\n        confirmButtonText: 'Yes, delete it!'\n    }).then((result) => {\n        if (result.isConfirmed) {\n            fetch(`/admin-panel/matches/${matchId}/delete`, {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json',\n                }\n            })\n            .then(response => response.json())\n            .then(data => {\n                if (data.success) {\n                    Swal.fire('Deleted!', 'Match has been deleted.', 'success').then(() => {\n                        location.reload();\n                    });\n                } else {\n                    Swal.fire('Error', data.error || 'Could not delete match', 'error');\n                }\n            })\n            .catch(error => {\n                console.error('Error:', error);\n                Swal.fire('Error', 'Could not delete match', 'error');\n            });\n        }\n    });\n}\n\nfunction bulkActions() {\n    const selectedMatches = getSelectedMatches();\n\n    if (selectedMatches.length === 0) {\n        Swal.fire('No Selection', 'Please select matches to perform bulk actions.', 'warning');\n        return;\n    }\n\n    Swal.fire({\n        title: 'Bulk Actions',\n        text: `Perform action on ${selectedMatches.length} selected matches:`,\n        input: 'select',\n        inputOptions: {\n            'update_status': 'Update Status',\n            'delete': 'Delete Matches',\n            'export': 'Export Selected'\n        },\n        showCancelButton: true,\n        confirmButtonText: 'Execute'\n    }).then((result) => {\n        if (result.isConfirmed) {\n            if (result.value === 'delete') {\n                confirmBulkDelete(selectedMatches);\n            } else if (result.value === 'update_status') {\n                bulkUpdateStatus(selectedMatches);\n            } else if (result.value === 'export') {\n                exportSelectedMatches(selectedMatches);\n            }\n        }\n    });\n}\n\nfunction confirmBulkDelete(matchIds) {\n    Swal.fire({\n        title: 'Confirm Bulk Delete',\n        text: `Are you sure you want to delete ${matchIds.length} matches? This cannot be undone.`,\n        icon: 'warning',\n        showCancelButton: true,\n        confirmButtonColor: (typeof ECSTheme !== 'undefined') ? ECSTheme.getColor('danger') : '#dc3545',\n        confirmButtonText: 'Yes, delete them!'\n    }).then((result) => {\n        if (result.isConfirmed) {\n            fetch('/admin-panel/matches/bulk-actions', {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json',\n                },\n                body: JSON.stringify({\n                    action: 'delete',\n                    match_ids: matchIds\n                })\n            })\n            .then(response => response.json())\n            .then(data => {\n                if (data.success) {\n                    Swal.fire('Success!', data.message, 'success').then(() => {\n                        location.reload();\n                    });\n                } else {\n                    Swal.fire('Error', data.error, 'error');\n                }\n            })\n            .catch(error => {\n                console.error('Error:', error);\n                Swal.fire('Error', 'Could not perform bulk delete', 'error');\n            });\n        }\n    });\n}\n\nfunction bulkUpdateStatus(matchIds) {\n    Swal.fire({\n        title: 'Update Status',\n        text: 'Select new status for selected matches:',\n        input: 'select',\n        inputOptions: {\n            'scheduled': 'Scheduled',\n            'live': 'Live',\n            'completed': 'Completed',\n            'cancelled': 'Cancelled',\n            'postponed': 'Postponed'\n        },\n        showCancelButton: true,\n        confirmButtonText: 'Update'\n    }).then((result) => {\n        if (result.isConfirmed) {\n            fetch('/admin-panel/matches/bulk-actions', {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json',\n                },\n                body: JSON.stringify({\n                    action: 'update_status',\n                    match_ids: matchIds,\n                    status: result.value\n                })\n            })\n            .then(response => response.json())\n            .then(data => {\n                if (data.success) {\n                    Swal.fire('Success!', data.message, 'success').then(() => {\n                        location.reload();\n                    });\n                } else {\n                    Swal.fire('Error', data.error, 'error');\n                }\n            })\n            .catch(error => {\n                console.error('Error:', error);\n                Swal.fire('Error', 'Could not update status', 'error');\n            });\n        }\n    });\n}\n\nfunction duplicateMatch(matchId) {\n    Swal.fire({\n        title: 'Duplicate Match',\n        text: 'This will create a copy of the match. You can edit the details after creation.',\n        showCancelButton: true,\n        confirmButtonText: 'Duplicate'\n    }).then((result) => {\n        if (result.isConfirmed) {\n            // Mock duplication\n            Swal.fire('Duplicated!', 'Match has been duplicated. Redirecting to edit...', 'success');\n        }\n    });\n}\n\nfunction adminPanelScheduleMatch(matchId) {\n    Swal.fire('Schedule Match', 'Match scheduling functionality would be implemented here.', 'info');\n}\n\nfunction postponeMatch(matchId) {\n    Swal.fire('Postpone Match', 'Match postponement functionality would be implemented here.', 'info');\n}\n\nfunction cancelMatch(matchId) {\n    Swal.fire({\n        title: 'Cancel Match',\n        text: 'Are you sure you want to cancel this match?',\n        icon: 'warning',\n        showCancelButton: true,\n        confirmButtonText: 'Yes, cancel it!'\n    }).then((result) => {\n        if (result.isConfirmed) {\n            // Would update match status to cancelled\n            Swal.fire('Cancelled!', 'Match has been cancelled.', 'success');\n        }\n    });\n}\n\nfunction exportMatches() {\n    Swal.fire({\n        title: 'Export Matches',\n        text: 'Choose export format:',\n        input: 'select',\n        inputOptions: {\n            'csv': 'CSV',\n            'xlsx': 'Excel',\n            'json': 'JSON'\n        },\n        showCancelButton: true,\n        confirmButtonText: 'Export'\n    }).then((result) => {\n        if (result.isConfirmed) {\n            Swal.fire('Export Started', `Export in ${result.value.toUpperCase()} format has been queued.`, 'info');\n        }\n    });\n}\n\nfunction exportSelectedMatches(matchIds) {\n    Swal.fire('Export Started', `Export of ${matchIds.length} selected matches has been queued.`, 'info');\n}\n\nfunction bulkScheduleMatches() {\n    Swal.fire('Bulk Schedule', 'Bulk scheduling functionality would be implemented here.', 'info');\n}\n","/**\n * Redis Connection Statistics Management\n * Handles real-time monitoring and updates for Redis connection pool statistics\n */\n\nlet autoRefreshInterval;\n\ndocument.addEventListener('DOMContentLoaded', function() {\n    initializeRedisStats();\n});\n\nfunction initializeRedisStats() {\n    // Page guard - only run on Redis stats page\n    const refreshBtn = document.getElementById('refresh-btn');\n    if (!refreshBtn) {\n        return; // Not on Redis stats page\n    }\n\n    // Event listeners\n    refreshBtn.addEventListener('click', redisUpdateStats);\n    document.getElementById('test-btn').addEventListener('click', testConnection);\n    document.getElementById('cleanup-btn').addEventListener('click', cleanupConnections);\n\n    document.getElementById('auto-refresh').addEventListener('change', function() {\n        if (this.checked) {\n            autoRefreshInterval = setInterval(redisUpdateStats, 5000);\n        } else {\n            clearInterval(autoRefreshInterval);\n        }\n    });\n\n    // Initialize auto-refresh\n    if (document.getElementById('auto-refresh').checked) {\n        autoRefreshInterval = setInterval(redisUpdateStats, 5000);\n    }\n\n    // Initial load\n    redisUpdateStats();\n}\n\nfunction redisUpdateStats() {\n    fetch('/admin/redis/api/stats')\n        .then(response => response.json())\n        .then(data => {\n            if (data.error) {\n                console.error('Error fetching stats:', data.error);\n                return;\n            }\n\n            // Update health status\n            const healthIndicator = data.health?.overall ? 'redis-health-healthy' : 'redis-health-unhealthy';\n            const healthText = data.health?.overall ? 'All connections healthy' : 'Connection issues detected';\n            document.getElementById('health-status').innerHTML =\n                `<span class=\"redis-health-indicator ${healthIndicator}\"></span>${healthText}`;\n\n            // Update client status\n            document.getElementById('decoded-status').textContent = data.health?.decoded_client ? \"\" : \"\";\n            document.getElementById('raw-status').textContent = data.health?.raw_client ? \"\" : \"\";\n\n            // Update pool stats\n            if (data.pool_stats) {\n                document.getElementById('max-connections').textContent = data.pool_stats.max_connections || 0;\n                document.getElementById('utilization').textContent = (data.pool_stats.utilization_percent || 0) + '%';\n                document.getElementById('created-connections').textContent = data.pool_stats.created_connections || 0;\n                document.getElementById('available-connections').textContent = data.pool_stats.available_connections || 0;\n                document.getElementById('in-use-connections').textContent = data.pool_stats.in_use_connections || 0;\n            }\n\n            // Update server metrics\n            if (data.server_metrics) {\n                document.getElementById('connected-clients').textContent = data.server_metrics.connected_clients || 'N/A';\n                document.getElementById('memory-usage').textContent = data.server_metrics.used_memory_human || 'N/A';\n                document.getElementById('commands-processed').textContent = data.server_metrics.total_commands_processed || 'N/A';\n                document.getElementById('ops-per-sec').textContent = data.server_metrics.instantaneous_ops_per_sec || 'N/A';\n            }\n\n            // Update last updated time\n            document.getElementById('last-updated').textContent = 'Last updated: ' + new Date().toLocaleTimeString();\n        })\n        .catch(error => {\n            console.error('Error updating stats:', error);\n        });\n}\n\nfunction testConnection() {\n    const testButton = document.getElementById('test-btn');\n    const originalText = testButton.textContent;\n    testButton.textContent = 'Testing...';\n    testButton.disabled = true;\n\n    fetch('/admin/redis/test-connection')\n        .then(response => response.json())\n        .then(data => {\n            const resultsDiv = document.getElementById('test-results');\n            if (data.error) {\n                resultsDiv.innerHTML = `<div class=\"alert alert-danger\">Error: ${data.error}</div>`;\n            } else {\n                let html = '<div class=\"row\">';\n                for (const [testName, result] of Object.entries(data.tests)) {\n                    const badgeClass = result.status === 'success' ? 'bg-success' : 'bg-danger';\n                    html += `\n                        <div class=\"col-md-4 mb-2\">\n                            <div class=\"card\">\n                                <div class=\"card-body\">\n                                    <h6>${testName.replace('_', ' ').toUpperCase()}</h6>\n                                    <span class=\"badge ${badgeClass}\">${result.status}</span>\n                                    <p class=\"mt-2 mb-0\"><small>${result.message}</small></p>\n                                </div>\n                            </div>\n                        </div>\n                    `;\n                }\n                html += '</div>';\n                resultsDiv.innerHTML = html;\n            }\n        })\n        .catch(error => {\n            document.getElementById('test-results').innerHTML =\n                `<div class=\"alert alert-danger\">Error running tests: ${error}</div>`;\n        })\n        .finally(() => {\n            testButton.textContent = originalText;\n            testButton.disabled = false;\n        });\n}\n\nfunction cleanupConnections() {\n    const cleanupButton = document.getElementById('cleanup-btn');\n    const originalText = cleanupButton.textContent;\n    cleanupButton.textContent = 'Cleaning...';\n    cleanupButton.disabled = true;\n\n    fetch('/admin/redis/connection-cleanup')\n        .then(response => response.json())\n        .then(data => {\n            if (data.error) {\n                alert('Error during cleanup: ' + data.error);\n            } else {\n                alert('Connection cleanup completed successfully');\n                redisUpdateStats();\n            }\n        })\n        .catch(error => {\n            alert('Error during cleanup: ' + error);\n        })\n        .finally(() => {\n            cleanupButton.textContent = originalText;\n            cleanupButton.disabled = false;\n        });\n}\n","/**\n * ============================================================================\n * MODAL HELPERS - Consolidated Modal Lifecycle Management\n * ============================================================================\n *\n * Complementary to ModalManager - handles modal lifecycle events:\n * - Modal initialization and lifecycle events\n * - Backdrop cleanup\n * - iOS-specific fixes\n * - Mobile viewport adjustments\n * - Button transform prevention (via CSS classes)\n *\n * RELATIONSHIP TO MODAL MANAGER:\n * - ModalManager: instance management, show/hide, caching\n * - ModalHelpers: lifecycle events, cleanup, iOS fixes, mobile viewport\n *\n * NO INLINE STYLES - Uses CSS classes and data attributes instead\n *\n * InitSystem Registration: Priority 25 (after ModalManager at 20)\n *\n * Dependencies:\n * - Bootstrap 5.x\n * - ModalManager\n * - /css/components/modals.css\n *\n * ============================================================================\n */\n\n(function() {\n    'use strict';\n\n    // ========================================================================\n    // CONSTANTS & CONFIGURATION\n    // ========================================================================\n\n    const CONFIG = {\n        BACKDROP_TRANSITION_MS: 300,\n        RIPPLE_CLEANUP_DELAY_MS: 10,\n        BUTTON_FIX_RETRY_DELAY_MS: 500,\n        // Data attribute selectors (primary)\n        MODAL_SELECTORS: '[data-modal], .modal',\n        MODAL_BODY_SELECTORS: '[data-modal-body], .modal-body',\n        BACKDROP_SELECTORS: '.modal-backdrop',\n        BUTTON_SELECTORS: '[data-action], .btn, .c-btn, button[class*=\"btn-\"]'\n    };\n\n    const CSS_CLASSES = {\n        MODAL_OPEN: 'modal-open',\n        MODAL_SHOW: 'show',\n        MODAL_ACTIVE: 'modal-active',\n        BACKDROP_SHOW: 'show',\n        BACKDROP_HIDE: 'hide',\n        IOS_SCROLL: 'ios-scroll',\n        IOS_MODAL_OPEN: 'ios-modal-open',\n        DISPLAY_NONE: 'd-none'\n    };\n\n    // ========================================================================\n    // MODAL HELPERS CONTROLLER\n    // ========================================================================\n\n    const ModalHelpers = {\n        // State tracking\n        _initialized: false,\n\n        /**\n         * Initialize all modal helpers\n         * @param {Element} context - Optional context element (defaults to document)\n         */\n        init: function(context) {\n            context = context || document;\n\n            // For full document init, only run once\n            if (context === document && this._initialized) {\n                return;\n            }\n\n            console.log('[Modal Helpers] Initializing...');\n\n            // Initialize mobile viewport fix\n            this.initMobileViewportFix();\n\n            // Register Bootstrap modal event handlers (only once for document)\n            if (context === document) {\n                this.registerModalEventHandlers();\n                this._initialized = true;\n            }\n\n            console.log('[Modal Helpers] Initialization complete');\n            console.log('[Modal Helpers] iOS device:', this.isIOS());\n            console.log('[Modal Helpers] Mobile device:', this.isMobile());\n        },\n\n        // ========================================================================\n        // DEVICE DETECTION\n        // ========================================================================\n\n        /**\n         * Detects if the current device is running iOS\n         * @returns {boolean} True if iOS device\n         */\n        isIOS: function() {\n            const iosDevices = [\n                'iPad Simulator',\n                'iPhone Simulator',\n                'iPod Simulator',\n                'iPad',\n                'iPhone',\n                'iPod'\n            ];\n\n            return iosDevices.includes(navigator.platform) ||\n                   (navigator.userAgent.includes(\"Mac\") && \"ontouchend\" in document);\n        },\n\n        /**\n         * Detects if the current device is mobile (screen width based)\n         * @returns {boolean} True if mobile device\n         */\n        isMobile: function() {\n            return window.innerWidth <= 767;\n        },\n\n        // ========================================================================\n        // MODAL UTILITY FUNCTIONS\n        // ========================================================================\n\n        /**\n         * Ensures a Bootstrap modal is properly initialized\n         * Delegates to ModalManager if available\n         * @param {string} modalId - The ID of the modal element\n         * @returns {bootstrap.Modal|null} Modal instance or null if not found\n         */\n        ensureModalInitialized: function(modalId) {\n            const modalElement = document.getElementById(modalId);\n            if (!modalElement) {\n                console.warn(`[Modal Helpers] Modal element #${modalId} not found`);\n                return null;\n            }\n\n            // Use ModalManager if available\n            if (typeof ModalManager !== 'undefined') {\n                return ModalManager.getInstance(modalElement.id);\n            }\n\n            // Fallback to direct Bootstrap instance\n            return bootstrap.Modal.getInstance(modalElement);\n        },\n\n        /**\n         * Loads modals dynamically if needed (AJAX-based modal loading)\n         * @returns {Promise<boolean>} Promise that resolves when modals are loaded\n         */\n        loadModalsIfNotFound: function() {\n            return new Promise((resolve, reject) => {\n                if (!window.jQuery) {\n                    console.warn('[Modal Helpers] jQuery not available for modal loading');\n                    reject(new Error('jQuery not available'));\n                    return;\n                }\n\n                jQuery.ajax({\n                    url: '/modals/render_modals',\n                    method: 'GET',\n                    success: function(modalContent) {\n                        jQuery('body').append(modalContent);\n                        console.log('[Modal Helpers] Modals loaded dynamically');\n\n                        // Reinitialize ModalManager if available\n                        if (typeof ModalManager !== 'undefined') {\n                            ModalManager.reinit();\n                        }\n\n                        resolve(true);\n                    },\n                    error: function(err) {\n                        console.error('[Modal Helpers] Failed to load modals:', err);\n                        reject(err);\n                    }\n                });\n            });\n        },\n\n        // ========================================================================\n        // BACKDROP CLEANUP\n        // ========================================================================\n\n        /**\n         * Thoroughly cleans up modal backdrops and resets body state\n         */\n        cleanupModalBackdrop: function() {\n            // Remove all backdrop elements with proper transition\n            const backdrops = document.querySelectorAll(CONFIG.BACKDROP_SELECTORS);\n            backdrops.forEach(backdrop => {\n                backdrop.classList.remove(CSS_CLASSES.BACKDROP_SHOW);\n                backdrop.classList.add(CSS_CLASSES.BACKDROP_HIDE);\n\n                // Remove after transition completes\n                setTimeout(() => {\n                    if (backdrop.parentNode) {\n                        backdrop.parentNode.removeChild(backdrop);\n                    }\n                }, CONFIG.BACKDROP_TRANSITION_MS);\n            });\n\n            // Clean up body state\n            document.body.classList.remove(CSS_CLASSES.MODAL_OPEN);\n            document.body.style.removeProperty('overflow');\n            document.body.style.removeProperty('padding-right');\n\n            // Close any orphaned modals\n            const openModals = document.querySelectorAll(`${CONFIG.MODAL_SELECTORS}.${CSS_CLASSES.MODAL_SHOW}`);\n            openModals.forEach(modal => {\n                try {\n                    const modalInstance = bootstrap.Modal.getInstance(modal);\n                    if (modalInstance) {\n                        modalInstance.hide();\n                    } else {\n                        // Manual cleanup if no instance found\n                        modal.classList.remove(CSS_CLASSES.MODAL_SHOW);\n                        modal.setAttribute('aria-hidden', 'true');\n                        modal.classList.add(CSS_CLASSES.DISPLAY_NONE);\n                    }\n                } catch (e) {\n                    console.error('[Modal Helpers] Error closing modal:', e);\n                }\n            });\n\n            console.log('[Modal Helpers] Backdrop cleanup complete');\n        },\n\n        // ========================================================================\n        // iOS SCROLLING FIXES\n        // ========================================================================\n\n        /**\n         * Disables body scrolling for iOS when modal is open\n         */\n        disableIOSScrolling: function() {\n            if (!this.isIOS()) return;\n\n            // Save current scroll position\n            const scrollY = window.scrollY;\n            document.body.dataset.scrollPosition = scrollY.toString();\n\n            // Add CSS classes\n            document.body.classList.add(CSS_CLASSES.MODAL_OPEN, CSS_CLASSES.IOS_MODAL_OPEN);\n            // Use CSS custom property for scroll position\n            document.body.style.setProperty('--scroll-y', `${scrollY}px`);\n\n            console.log('[Modal Helpers] iOS scrolling disabled');\n        },\n\n        /**\n         * Re-enables body scrolling for iOS after modal is closed\n         */\n        enableIOSScrolling: function() {\n            if (!this.isIOS()) return;\n\n            // Restore previous scroll position\n            const scrollY = parseInt(document.body.dataset.scrollPosition || '0', 10);\n\n            document.body.classList.remove(CSS_CLASSES.MODAL_OPEN, CSS_CLASSES.IOS_MODAL_OPEN);\n            document.body.style.removeProperty('--scroll-y');\n\n            window.scrollTo(0, scrollY);\n            delete document.body.dataset.scrollPosition;\n\n            console.log('[Modal Helpers] iOS scrolling enabled');\n        },\n\n        // ========================================================================\n        // MOBILE VIEWPORT HEIGHT FIX\n        // ========================================================================\n\n        /**\n         * Updates mobile viewport height CSS custom property\n         */\n        updateMobileViewportHeight: function() {\n            const vh = window.innerHeight * 0.01;\n            document.documentElement.style.setProperty('--vh', `${vh}px`);\n        },\n\n        /**\n         * Initializes mobile viewport height fix\n         */\n        initMobileViewportFix: function() {\n            this.updateMobileViewportHeight();\n\n            // Avoid duplicate listeners\n            if (this._viewportFixSetup) return;\n            this._viewportFixSetup = true;\n\n            // Update on resize (throttled)\n            let resizeTimeout;\n            window.addEventListener('resize', () => {\n                clearTimeout(resizeTimeout);\n                resizeTimeout = setTimeout(() => this.updateMobileViewportHeight(), 100);\n            });\n\n            console.log('[Modal Helpers] Mobile viewport height fix initialized');\n        },\n\n        // ========================================================================\n        // BUTTON TRANSFORM FIX (CLASS-BASED)\n        // ========================================================================\n\n        /**\n         * Applies transform-none class to buttons to prevent scaling\n         * @param {Element} container - Container element to search for buttons\n         */\n        applyButtonTransformFix: function(container) {\n            container = container || document;\n\n            const buttons = container.querySelectorAll(CONFIG.BUTTON_SELECTORS);\n\n            buttons.forEach(button => {\n                // Skip if already enhanced\n                if (button.dataset.transformFixed === 'true') return;\n                button.dataset.transformFixed = 'true';\n\n                // Add CSS classes instead of inline styles\n                button.classList.add('transform-none', 'transition-colors');\n\n                // Ensure pointer cursor for non-disabled buttons\n                if (!button.disabled && !button.classList.contains('disabled')) {\n                    button.classList.add('cursor-pointer');\n                }\n            });\n\n            console.log(`[Modal Helpers] Transform fix applied to ${buttons.length} buttons`);\n        },\n\n        // ========================================================================\n        // MODAL EVENT HANDLERS\n        // ========================================================================\n\n        /**\n         * Registers Bootstrap modal event handlers\n         */\n        registerModalEventHandlers: function() {\n            const self = this;\n\n            // Handler for modal show event (before modal is shown)\n            document.addEventListener('show.bs.modal', function(event) {\n                const modal = event.target;\n\n                // Add active class for z-index management\n                modal.classList.add(CSS_CLASSES.MODAL_ACTIVE);\n\n                // For iOS devices, fix scrolling\n                if (self.isIOS()) {\n                    self.disableIOSScrolling();\n                }\n\n                // Ensure buttons in modal have transform fix\n                self.applyButtonTransformFix(modal);\n\n                console.log('[Modal Helpers] Modal show handler executed');\n            });\n\n            // Handler for modal shown event (after modal is visible)\n            document.addEventListener('shown.bs.modal', function(event) {\n                const modal = event.target;\n\n                // Apply iOS scroll fix to modal body\n                if (self.isIOS()) {\n                    const modalBody = modal.querySelector(CONFIG.MODAL_BODY_SELECTORS);\n                    if (modalBody) {\n                        modalBody.classList.add(CSS_CLASSES.IOS_SCROLL);\n                    }\n                }\n\n                console.log('[Modal Helpers] Modal shown handler executed');\n            });\n\n            // Handler for modal hide event (before modal is hidden)\n            document.addEventListener('hide.bs.modal', function(event) {\n                const modal = event.target;\n                modal.classList.remove(CSS_CLASSES.MODAL_ACTIVE);\n\n                console.log('[Modal Helpers] Modal hide handler executed');\n            });\n\n            // Handler for modal hidden event (after modal is closed)\n            document.addEventListener('hidden.bs.modal', function(event) {\n                // Clean up backdrops and body state\n                self.cleanupModalBackdrop();\n\n                // Re-enable scrolling on iOS\n                if (self.isIOS()) {\n                    self.enableIOSScrolling();\n                }\n\n                console.log('[Modal Helpers] Modal hidden handler executed');\n            });\n\n            // Handler for ESC key press\n            document.addEventListener('keydown', function(event) {\n                if (event.key === 'Escape' && document.querySelector(`${CONFIG.MODAL_SELECTORS}.${CSS_CLASSES.MODAL_SHOW}`)) {\n                    // Bootstrap will handle closing, we just clean up after\n                    setTimeout(() => self.cleanupModalBackdrop(), CONFIG.BACKDROP_TRANSITION_MS);\n                }\n            });\n\n            console.log('[Modal Helpers] Event handlers registered');\n        }\n    };\n\n    // ========================================================================\n    // INITIALIZATION\n    // ========================================================================\n\n    // Register with InitSystem if available\n    if (typeof window.InitSystem !== 'undefined') {\n        window.InitSystem.register('ModalHelpers', {\n            priority: 25, // After ModalManager (20)\n            init: function(context) {\n                ModalHelpers.init(context);\n            }\n        });\n    } else {\n        // Fallback to DOMContentLoaded\n        if (document.readyState === 'loading') {\n            document.addEventListener('DOMContentLoaded', function() {\n                ModalHelpers.init(document);\n            });\n        } else {\n            ModalHelpers.init(document);\n        }\n    }\n\n    // Expose public API for external use\n    window.ModalHelpers = ModalHelpers;\n\n})();\n","// static/custom_js/modals.js\n\n$(document).ready(function () {\n    // Function to trigger the manual review modal based on data attribute\n    function triggerManualReviewModal() {\n        var needsReview = $('#manualReviewData').data('needs-review');\n        if (needsReview === 'true') {\n            $('#manualReviewModal').modal('show');\n        }\n    }\n\n    // Call the function on document ready\n    triggerManualReviewModal();\n});\n","/**\n * SMS Verification\n */\n\n// Create global functions directly\nfunction toggleSmsConsent(show) {\n    // console.log(\"Toggle SMS consent:\", show);\n    const smsOptInSection = document.getElementById('smsOptInSection');\n    if (show) {\n        smsOptInSection.classList.remove('d-none');\n        smsOptInSection.classList.add('d-block');\n    } else {\n        smsOptInSection.classList.remove('d-block');\n        smsOptInSection.classList.add('d-none');\n    }\n\n    // If SMS is disabled, also hide verification\n    if (!show) {\n        const smsVerificationSection = document.getElementById('smsVerificationSection');\n        smsVerificationSection.classList.remove('d-block');\n        smsVerificationSection.classList.add('d-none');\n    }\n}\n\nfunction toggleSmsVerification(show) {\n    // console.log(\"Toggle SMS verification:\", show);\n    const smsVerificationSection = document.getElementById('smsVerificationSection');\n    if (show) {\n        smsVerificationSection.classList.remove('d-none');\n        smsVerificationSection.classList.add('d-block');\n    } else {\n        smsVerificationSection.classList.remove('d-block');\n        smsVerificationSection.classList.add('d-none');\n    }\n}\n\nfunction sendVerificationCode() {\n    // console.log(\"Sending verification code\");\n    var phoneInput = document.querySelector('input[name=\"phone\"]');\n    var sendButton = document.getElementById('sendVerificationBtn');\n    var verificationCodeInput = document.getElementById('verificationCodeInput');\n\n    if (!phoneInput || !phoneInput.value.trim()) {\n        Swal.fire({\n            icon: 'warning',\n            title: 'Phone Number Required',\n            text: 'Please enter your phone number to receive the verification code.',\n            confirmButtonText: 'OK'\n        });\n        return;\n    }\n\n    // Disable button during request\n    sendButton.disabled = true;\n    sendButton.innerHTML = '<i class=\"ti ti-loader ti-spin me-1\"></i> Sending...';\n\n    // Save phone and send code\n    fetch('/save_phone_for_verification', {\n        method: 'POST',\n        headers: {\n            'Content-Type': 'application/json',\n            'X-CSRFToken': document.querySelector('input[name=\"csrf_token\"]').value\n        },\n        body: JSON.stringify({ phone: phoneInput.value.trim() })\n    })\n    .then(function(response) {\n        if (!response.ok) {\n            throw new Error('Failed to save phone number');\n        }\n        return fetch('/send_verification_code', {\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json',\n                'X-CSRFToken': document.querySelector('input[name=\"csrf_token\"]').value\n            },\n            body: JSON.stringify({ phone: phoneInput.value.trim() })\n        });\n    })\n    .then(function(response) {\n        if (!response.ok) {\n            throw new Error('Failed to send verification code');\n        }\n        return response.json();\n    })\n    .then(function(data) {\n        sendButton.disabled = false;\n        sendButton.innerHTML = '<i class=\"ti ti-send me-1\"></i> Send Verification Code';\n\n        if (data.success) {\n            verificationCodeInput.classList.remove('d-none');\n            verificationCodeInput.classList.add('d-block');\n            Swal.fire({\n                icon: 'success',\n                title: 'Code Sent!',\n                text: 'Verification code sent to your phone number.',\n                confirmButtonText: 'OK'\n            });\n        } else {\n            Swal.fire({\n                icon: 'error',\n                title: 'Error',\n                text: data.message || 'Failed to send verification code. Please try again.',\n                confirmButtonText: 'OK'\n            });\n        }\n    })\n    .catch(function(error) {\n        // console.error('Error sending verification code:', error);\n        sendButton.disabled = false;\n        sendButton.innerHTML = '<i class=\"ti ti-send me-1\"></i> Send Verification Code';\n        Swal.fire({\n            icon: 'error',\n            title: 'Error',\n            text: 'An error occurred while sending the verification code. Please try again.',\n            confirmButtonText: 'OK'\n        });\n    });\n}\n\nfunction verifyCode() {\n    // console.log(\"Verifying code\");\n    var codeInput = document.getElementById('verificationCode');\n    var verifyButton = document.getElementById('verifyCodeBtn');\n    var verificationCodeInput = document.getElementById('verificationCodeInput');\n    var sendButton = document.getElementById('sendVerificationBtn');\n    var verifiedFlagInput = document.getElementById('smsVerified');\n\n    if (!codeInput || !codeInput.value.trim()) {\n        Swal.fire({\n            icon: 'warning',\n            title: 'Code Required',\n            text: 'Please enter the verification code sent to your phone.',\n            confirmButtonText: 'OK'\n        });\n        return;\n    }\n\n    // Disable button during request\n    verifyButton.disabled = true;\n    verifyButton.innerHTML = '<i class=\"ti ti-loader ti-spin me-1\"></i> Verifying...';\n\n    fetch('/verify_sms_code', {\n        method: 'POST',\n        headers: {\n            'Content-Type': 'application/json',\n            'X-CSRFToken': document.querySelector('input[name=\"csrf_token\"]').value\n        },\n        body: JSON.stringify({ code: codeInput.value.trim() })\n    })\n    .then(function(response) {\n        // We'll process all responses, even error ones\n        return response.json();\n    })\n    .then(function(data) {\n        verifyButton.disabled = false;\n        verifyButton.innerHTML = '<i class=\"ti ti-check me-1\"></i> Verify Code';\n\n        if (data.success) {\n            // Mark as verified in hidden input\n            verifiedFlagInput.value = 'true';\n\n            // Show success message\n            verificationCodeInput.innerHTML = '<div class=\"alert alert-success\"><i class=\"ti ti-check-circle me-2\"></i>Phone number verified successfully!</div>';\n\n            // Update send button to show verified state\n            sendButton.disabled = true;\n            sendButton.classList.remove('btn-primary');\n            sendButton.classList.add('btn-success');\n            sendButton.innerHTML = '<i class=\"ti ti-check me-1\"></i> Verified';\n\n            // Hide warning alert if present\n            var warningAlert = document.getElementById('verificationRequiredAlert');\n            if (warningAlert) {\n                warningAlert.classList.add('d-none');\n            }\n\n            Swal.fire({\n                icon: 'success',\n                title: 'Phone Verified!',\n                text: 'Your phone number has been successfully verified.',\n                confirmButtonText: 'Great!'\n            });\n        } else {\n            Swal.fire({\n                icon: 'error',\n                title: 'Verification Failed',\n                text: data.message || 'Invalid verification code. Please try again.',\n                confirmButtonText: 'OK'\n            });\n        }\n    })\n    .catch(function(error) {\n        // console.error('Error verifying code:', error);\n        verifyButton.disabled = false;\n        verifyButton.innerHTML = '<i class=\"ti ti-check me-1\"></i> Verify Code';\n        Swal.fire({\n            icon: 'error',\n            title: 'Error',\n            text: 'An error occurred while verifying your code. Please try again.',\n            confirmButtonText: 'OK'\n        });\n    });\n}\n\n// This function has been removed for production\n\n// Admin-only function accessible via console\nwindow.adminSetVerificationCode = function() {\n    if (confirm(\"ADMIN ONLY: Are you sure you want to generate a manual verification code?\")) {\n        var phoneInput = document.querySelector('input[name=\"phone\"]');\n        var verificationCodeInput = document.getElementById('verificationCodeInput');\n\n        if (!phoneInput || !phoneInput.value.trim()) {\n            // console.error(\"Phone number is required\");\n            return;\n        }\n\n        // Make API call to generate and set a code\n        fetch('/set_verification_code', {\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json',\n                'X-CSRFToken': document.querySelector('input[name=\"csrf_token\"]').value\n            },\n            body: JSON.stringify({})  // Empty body - server will generate a code\n        })\n        .then(function(response) {\n            return response.json();\n        })\n        .then(function(data) {\n            if (data.success) {\n                // Show the verification code input\n                verificationCodeInput.classList.remove('d-none');\n                verificationCodeInput.classList.add('d-block');\n                // console.log(\"Admin generated verification code:\", data.code);\n                alert(\"Verification code: \" + data.code);\n            } else {\n                // console.error(\"Error:\", data.message);\n                alert(\"Error: \" + (data.message || \"Failed to set verification code\"));\n            }\n        })\n        .catch(function(error) {\n            // console.error('Error setting verification code:', error);\n            alert(\"Error: \" + error);\n        });\n    }\n};\n\n// Initialize when page loads - using a light initialization that respects existing inline handlers\ndocument.addEventListener('DOMContentLoaded', function() {\n    // Silently initialize without console logs\n\n    // Get initial state\n    var smsToggle = document.getElementById('smsNotifications');\n    var smsConsent = document.getElementById('smsConsent');\n\n    if (smsToggle && smsConsent) {\n        // Setup initial state if elements exist\n        // Note: We don't add event listeners here since they are already set with inline onchange/onclick\n        if (smsToggle.checked) {\n            toggleSmsConsent(true);\n\n            if (smsConsent.checked) {\n                toggleSmsVerification(true);\n            }\n        }\n    }\n});\n","// Simple table label injection - that's it\ndocument.addEventListener('DOMContentLoaded', function() {\n  function addTableLabels() {\n    const tables = document.querySelectorAll('.table-responsive table');\n    \n    tables.forEach(table => {\n      if (table.dataset.labeled) return;\n      \n      const headers = Array.from(table.querySelectorAll('thead th')).map(th => th.textContent.trim());\n      \n      table.querySelectorAll('tbody tr').forEach(row => {\n        Array.from(row.querySelectorAll('td')).forEach((cell, index) => {\n          if (headers[index] && !cell.hasAttribute('data-label')) {\n            cell.setAttribute('data-label', headers[index]);\n          }\n        });\n      });\n      \n      table.dataset.labeled = 'true';\n    });\n  }\n  \n  // Run once on load\n  addTableLabels();\n  \n  // Run after AJAX if jQuery exists\n  if (typeof $ !== 'undefined') {\n    $(document).on('ajaxComplete', addTableLabels);\n  }\n});\n","/**\n * Admin Discord Management - Event Handlers\n *\n * CONVERTED TO EVENT DELEGATION SYSTEM (Phase 2.2 Sprint 2)\n * =========================================================\n *\n * This file previously contained individual addEventListener calls that have been\n * converted to use the centralized event delegation system.\n *\n * All action handlers are now registered in:\n *   /app/static/js/event-delegation.js\n *\n * Actions registered:\n *   - change-per-page: Updates items per page in pagination\n *   - refresh-all-discord-status: Refreshes Discord status for all players\n *   - refresh-unknown-discord-status: Checks Discord status for players with unknown status\n *   - refresh-player-status: Refreshes Discord status for individual player\n *   - send-discord-dm: Opens modal to send Discord direct message\n *   - submit-discord-dm: Sends the Discord direct message\n *\n * Template elements use data-action attributes to trigger these handlers.\n * See: /app/templates/admin/discord_management.html\n *\n * Event delegation ensures handlers work for both static and dynamically added content.\n *\n * Migration Date: 2025-12-16\n * Sprint: Phase 2.2 Sprint 2\n * Previous Line Count: 282 lines\n * New Line Count: ~30 lines (documentation only)\n */\n\n// This file intentionally left minimal - all functionality moved to event delegation system\n// No initialization required - EventDelegation.init() is called automatically\n\nconsole.log('[admin-discord-management] Loaded - using event delegation system');\n","/**\n * ============================================================================\n * MANAGE SUBSTITUTES - EVENT DELEGATION SCRIPT\n * ============================================================================\n *\n * Modern event-driven JavaScript for the manage substitutes admin page\n *\n * ARCHITECTURAL COMPLIANCE:\n * - 100% event delegation (no inline handlers)\n * - Data attribute hooks (never bind to styling classes)\n * - State-driven with classList manipulation\n * - No direct DOM style manipulation\n * - Clean separation of concerns\n *\n * ============================================================================\n */\n\n(function() {\n    'use strict';\n\n    // ========================================================================\n    // INITIALIZATION\n    // ========================================================================\n\n    document.addEventListener('DOMContentLoaded', function() {\n        initPageLoader();\n        initDataTable();\n        initEventDelegation();\n    });\n\n    // ========================================================================\n    // PAGE LOADER\n    // ========================================================================\n\n    function initPageLoader() {\n        const pageLoader = document.getElementById('page-loader');\n        if (pageLoader) {\n            setTimeout(() => {\n                pageLoader.classList.add('is-hidden');\n            }, 300);\n        }\n    }\n\n    // ========================================================================\n    // DATATABLE INITIALIZATION\n    // ========================================================================\n\n    function initDataTable() {\n        if (!$.fn.DataTable || !document.getElementById('subsTable')) {\n            return;\n        }\n\n        $('#subsTable').DataTable({\n            responsive: true,\n            lengthMenu: [10, 25, 50],\n            dom: '<\"row\"<\"col-sm-12 col-md-6\"l><\"col-sm-12 col-md-6\"f>><\"row\"<\"col-sm-12\"tr>><\"row\"<\"col-sm-12 col-md-5\"i><\"col-sm-12 col-md-7\"p>>',\n            language: {\n                search: \"\",\n                searchPlaceholder: \"Search substitutes...\",\n                lengthMenu: \"_MENU_ per page\",\n                info: \"Showing _START_ to _END_ of _TOTAL_ subs\",\n                infoEmpty: \"No substitutes found\",\n                infoFiltered: \"(filtered from _MAX_ total subs)\",\n                zeroRecords: \"No matching substitutes found\"\n            },\n            columnDefs: [\n                { orderable: false, targets: [3, 4] }\n            ]\n        });\n    }\n\n    // ========================================================================\n    // EVENT DELEGATION\n    // ========================================================================\n\n    function initEventDelegation() {\n        // Click event delegation\n        document.addEventListener('click', handleClick);\n\n        // Change event delegation for selects\n        document.addEventListener('change', handleChange);\n\n        // Form submission delegation\n        document.addEventListener('submit', handleSubmit);\n    }\n\n    // ========================================================================\n    // CLICK HANDLER\n    // ========================================================================\n\n    function handleClick(e) {\n        const action = e.target.closest('[data-action]');\n        if (!action) return;\n\n        const actionType = action.dataset.action;\n\n        switch (actionType) {\n            case 'load-assignments':\n                e.preventDefault();\n                handleLoadAssignments(action);\n                break;\n\n            case 'assign-sub':\n                e.preventDefault();\n                handleAssignSub(action);\n                break;\n\n            case 'remove-assignment':\n                e.preventDefault();\n                handleRemoveAssignment(action);\n                break;\n        }\n    }\n\n    // ========================================================================\n    // CHANGE HANDLER\n    // ========================================================================\n\n    function handleChange(e) {\n        const role = e.target.dataset.role;\n\n        if (role === 'match-select') {\n            handleMatchSelection(e.target);\n        }\n    }\n\n    // ========================================================================\n    // SUBMIT HANDLER\n    // ========================================================================\n\n    function handleSubmit(e) {\n        const form = e.target;\n\n        if (form.id === 'assignSubForm') {\n            e.preventDefault();\n            handleAssignSubFormSubmit(form);\n        }\n    }\n\n    // ========================================================================\n    // LOAD ASSIGNMENTS\n    // ========================================================================\n\n    function handleLoadAssignments(button) {\n        const playerId = button.dataset.playerId;\n        const container = document.querySelector(`[data-component=\"assignments-container\"][data-player-id=\"${playerId}\"]`);\n        if (!container) return;\n\n        const spinner = container.querySelector('[data-spinner]');\n        const list = container.querySelector('[data-role=\"assignments-list\"]');\n\n        // Toggle if already loaded\n        if (!list.classList.contains('u-hidden')) {\n            list.classList.add('u-hidden');\n            updateButtonIcon(button, 'ti-calendar-stats', 'View Assignments');\n            return;\n        }\n\n        // Show spinner, disable button\n        spinner.classList.remove('u-hidden');\n        button.disabled = true;\n\n        // Fetch assignments\n        fetch(`/admin/subs/player/${playerId}`)\n            .then(response => response.json())\n            .then(data => {\n                if (data.success) {\n                    renderAssignments(list, data.assignments, playerId);\n                    list.classList.remove('u-hidden');\n                    updateButtonIcon(button, 'ti-calendar-minus', 'Hide Assignments');\n                } else {\n                    showToast('error', 'Failed to load assignments.');\n                }\n            })\n            .catch(error => {\n                console.error('Error loading assignments:', error);\n                showToast('error', 'An error occurred while loading assignments.');\n            })\n            .finally(() => {\n                spinner.classList.add('u-hidden');\n                button.disabled = false;\n            });\n    }\n\n    // ========================================================================\n    // RENDER ASSIGNMENTS\n    // ========================================================================\n\n    function renderAssignments(container, assignments, playerId) {\n        if (assignments.length === 0) {\n            container.innerHTML = '<div class=\"alert alert-info\" data-alert>No active assignments found.</div>';\n            return;\n        }\n\n        let html = '<div class=\"list-group\">';\n        assignments.forEach(a => {\n            const matchDate = new Date(a.match_date);\n            const formattedDate = matchDate.toLocaleDateString('en-US', {\n                weekday: 'short',\n                month: 'short',\n                day: 'numeric'\n            });\n\n            html += `\n                <div class=\"list-group-item list-group-item-action c-assignment-item\" data-assignment-id=\"${a.id}\">\n                    <div class=\"c-assignment-item__header\">\n                        <span class=\"c-assignment-item__title\">${a.home_team_name} vs ${a.away_team_name}</span>\n                        <span class=\"c-badge c-badge--primary\">${formattedDate}</span>\n                    </div>\n                    <div class=\"c-assignment-item__footer\">\n                        <span class=\"c-assignment-item__team\">\n                            <i class=\"ti ti-users\"></i> ${a.team_name}\n                        </span>\n                        <button class=\"btn btn-sm btn-outline-danger\"\n                                data-action=\"remove-assignment\"\n                                data-assignment-id=\"${a.id}\"\n                                title=\"Remove assignment\">\n                            <i class=\"ti ti-trash\"></i>\n                        </button>\n                    </div>\n                </div>`;\n        });\n        html += '</div>';\n\n        container.innerHTML = html;\n\n        // Initialize tooltips if Bootstrap is available\n        if (typeof bootstrap !== 'undefined') {\n            const tooltipTriggerList = container.querySelectorAll('[data-bs-toggle=\"tooltip\"]');\n            [...tooltipTriggerList].map(el => new bootstrap.Tooltip(el));\n        }\n    }\n\n    // ========================================================================\n    // UPDATE BUTTON ICON\n    // ========================================================================\n\n    function updateButtonIcon(button, iconClass, text) {\n        button.innerHTML = `<i class=\"ti ${iconClass} me-1\"></i> ${text}`;\n    }\n\n    // ========================================================================\n    // HANDLE MATCH SELECTION\n    // ========================================================================\n\n    function handleMatchSelection(select) {\n        const matchId = select.value;\n        const teamSelect = document.getElementById('subTeam');\n\n        if (!matchId) {\n            teamSelect.innerHTML = '<option value=\"\" selected disabled>Select a team for this match...</option>';\n            teamSelect.disabled = true;\n            return;\n        }\n\n        // Find match in the global data\n        const match = window.subsPageData.upcomingMatches.find(m => m.id == matchId);\n\n        if (match) {\n            teamSelect.innerHTML = '<option value=\"\" selected disabled>Select a team for this match...</option>';\n            teamSelect.innerHTML += `<option value=\"${match.home_team_id}\">${match.home_team.name}</option>`;\n            teamSelect.innerHTML += `<option value=\"${match.away_team_id}\">${match.away_team.name}</option>`;\n            teamSelect.disabled = false;\n        }\n    }\n\n    // ========================================================================\n    // ASSIGN SUB FROM DROPDOWN\n    // ========================================================================\n\n    function handleAssignSub(link) {\n        const playerId = link.dataset.playerId;\n        const playerName = link.dataset.playerName;\n\n        // Set player in form\n        document.getElementById('subPlayer').value = playerId;\n\n        // Update modal title\n        const modalTitle = document.getElementById('assignSubModalLabel');\n        modalTitle.innerHTML = `<i class=\"ti ti-user-plus me-2\"></i>Assign ${playerName} as Substitute`;\n\n        // Open modal\n        const modal = new bootstrap.Modal(document.getElementById('assignSubModal'));\n        modal.show();\n    }\n\n    // ========================================================================\n    // ASSIGN SUB FORM SUBMIT\n    // ========================================================================\n\n    function handleAssignSubFormSubmit(form) {\n        const formData = new FormData(form);\n        const submitBtn = form.querySelector('[data-action=\"submit-assign-form\"]');\n\n        // Disable button and show loading\n        submitBtn.disabled = true;\n        submitBtn.innerHTML = '<span class=\"spinner-border spinner-border-sm\" role=\"status\" aria-hidden=\"true\"></span> Assigning...';\n\n        fetch(form.action, {\n            method: 'POST',\n            body: new URLSearchParams(formData),\n            headers: {\n                'X-Requested-With': 'XMLHttpRequest'\n            }\n        })\n        .then(response => response.json())\n        .then(data => {\n            if (data.success) {\n                showToast('success', data.message);\n\n                // Close modal\n                const modal = bootstrap.Modal.getInstance(document.getElementById('assignSubModal'));\n                modal.hide();\n\n                // Reset form\n                form.reset();\n                document.getElementById('subTeam').disabled = true;\n                document.getElementById('subTeam').innerHTML = '<option value=\"\" selected disabled>Select a team for this match...</option>';\n\n                // Reload page after delay\n                setTimeout(() => {\n                    window.location.reload();\n                }, 1500);\n            } else {\n                showToast('error', data.message);\n            }\n        })\n        .catch(error => {\n            console.error('Error assigning sub:', error);\n            showToast('error', 'An error occurred while trying to assign the sub.');\n        })\n        .finally(() => {\n            // Re-enable button\n            submitBtn.disabled = false;\n            submitBtn.innerHTML = '<i class=\"ti ti-user-plus me-1\"></i>Assign Substitute';\n        });\n    }\n\n    // ========================================================================\n    // REMOVE ASSIGNMENT\n    // ========================================================================\n\n    function handleRemoveAssignment(button) {\n        const assignmentId = button.dataset.assignmentId;\n\n        if (!confirm('Are you sure you want to remove this sub assignment?')) {\n            return;\n        }\n\n        const formData = new FormData();\n        formData.append('csrf_token', window.subsPageData.csrfToken);\n\n        fetch(`/admin/subs/remove/${assignmentId}`, {\n            method: 'POST',\n            body: new URLSearchParams(formData),\n            headers: {\n                'X-Requested-With': 'XMLHttpRequest'\n            }\n        })\n        .then(response => response.json())\n        .then(data => {\n            if (data.success) {\n                showToast('success', data.message);\n\n                // Find and remove the assignment item\n                const item = button.closest('.c-assignment-item');\n                item.style.opacity = '0';\n                item.style.transition = 'opacity 300ms ease';\n\n                setTimeout(() => {\n                    item.remove();\n\n                    // Check if any assignments left\n                    const list = button.closest('[data-role=\"assignments-list\"]');\n                    if (list && list.querySelectorAll('.c-assignment-item').length === 0) {\n                        list.innerHTML = '<div class=\"alert alert-info\" data-alert>No active assignments found.</div>';\n                    }\n                }, 300);\n            } else {\n                showToast('error', data.message);\n            }\n        })\n        .catch(error => {\n            console.error('Error removing assignment:', error);\n            showToast('error', 'An error occurred while trying to remove the assignment.');\n        });\n    }\n\n    // ========================================================================\n    // TOAST NOTIFICATION\n    // ========================================================================\n\n    function showToast(type, message) {\n        if (typeof toastr !== 'undefined') {\n            toastr[type](message);\n        } else {\n            console.log(`[${type.toUpperCase()}]: ${message}`);\n        }\n    }\n\n})();\n","/**\n * ============================================================================\n * ADMIN MATCH DETAIL - EVENT DELEGATION PATTERN\n * ============================================================================\n *\n * Event delegation-based JavaScript for the admin match detail page.\n * All inline event handlers extracted and converted to data-action pattern.\n *\n * Architecture:\n * - Event delegation (document-level listeners)\n * - Data attribute hooks (data-action, data-id)\n * - State-driven styling (classList manipulation)\n * - Clean separation of concerns\n *\n * Dependencies: None (vanilla JavaScript)\n * Compatible with: Modern browsers (ES6+)\n *\n * ============================================================================\n */\n\n(function() {\n    'use strict';\n\n    // ========================================================================\n    // INITIALIZATION\n    // ========================================================================\n\n    document.addEventListener('DOMContentLoaded', function() {\n        initEventDelegation();\n        console.log('[Match Detail] Initialized with event delegation');\n    });\n\n    // ========================================================================\n    // EVENT DELEGATION SETUP\n    // ========================================================================\n\n    /**\n     * Initialize all event delegation listeners\n     */\n    function initEventDelegation() {\n        document.addEventListener('click', handleClick);\n    }\n\n    /**\n     * Centralized click handler using event delegation\n     * @param {Event} e - Click event\n     */\n    function handleClick(e) {\n        const action = e.target.closest('[data-action]');\n        if (!action) return;\n\n        const actionType = action.dataset.action;\n\n        // Route to appropriate handler based on data-action value\n        switch (actionType) {\n            case 'schedule-match':\n                e.preventDefault();\n                handleScheduleMatch(action);\n                break;\n\n            case 'stop-session':\n                e.preventDefault();\n                handleStopSession(action);\n                break;\n\n            case 'refresh-session':\n                e.preventDefault();\n                handleRefreshSession(action);\n                break;\n\n            case 'force-sync':\n                e.preventDefault();\n                handleForceSync(action);\n                break;\n\n            case 'reload-page':\n                e.preventDefault();\n                handleReloadPage(action);\n                break;\n        }\n    }\n\n    // ========================================================================\n    // ACTION HANDLERS\n    // ========================================================================\n\n    /**\n     * Schedule live reporting for a match\n     * @param {HTMLElement} element - The clicked element\n     */\n    function handleScheduleMatch(element) {\n        const matchId = element.dataset.id || window.matchDetailData.matchId;\n\n        if (!matchId) {\n            showErrorNotification('Match ID not found');\n            return;\n        }\n\n        if (!confirm('Schedule live reporting for this match?')) {\n            return;\n        }\n\n        // Show loading state\n        setButtonLoading(element, true);\n\n        fetch(`/admin/live-reporting/api/schedule-match/${matchId}`, {\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json',\n                'X-CSRFToken': getCSRFToken()\n            }\n        })\n        .then(response => response.json())\n        .then(data => {\n            if (data.success) {\n                showSuccessNotification(data.message);\n                // Reload page after short delay to show updated state\n                setTimeout(() => location.reload(), 1500);\n            } else {\n                showErrorNotification(data.error || 'Failed to schedule match');\n                setButtonLoading(element, false);\n            }\n        })\n        .catch(error => {\n            console.error('[Schedule Match] Error:', error);\n            showErrorNotification('Error scheduling match');\n            setButtonLoading(element, false);\n        });\n    }\n\n    /**\n     * Stop a live reporting session\n     * @param {HTMLElement} element - The clicked element\n     */\n    function handleStopSession(element) {\n        const sessionId = element.dataset.id || window.matchDetailData.sessionId;\n\n        if (!sessionId) {\n            showErrorNotification('Session ID not found');\n            return;\n        }\n\n        if (!confirm('Stop this live reporting session?')) {\n            return;\n        }\n\n        // Show loading state\n        setButtonLoading(element, true);\n\n        fetch(`/admin/live-reporting/api/session/${sessionId}/stop`, {\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json',\n                'X-CSRFToken': getCSRFToken()\n            }\n        })\n        .then(response => response.json())\n        .then(data => {\n            if (data.success) {\n                showSuccessNotification(data.message);\n                // Reload page after short delay to show updated state\n                setTimeout(() => location.reload(), 1500);\n            } else {\n                showErrorNotification(data.error || 'Failed to stop session');\n                setButtonLoading(element, false);\n            }\n        })\n        .catch(error => {\n            console.error('[Stop Session] Error:', error);\n            showErrorNotification('Error stopping session');\n            setButtonLoading(element, false);\n        });\n    }\n\n    /**\n     * Refresh a live reporting session\n     * @param {HTMLElement} element - The clicked element\n     */\n    function handleRefreshSession(element) {\n        const sessionId = element.dataset.sessionId || window.matchDetailData.sessionId;\n\n        if (!sessionId) {\n            showErrorNotification('Session ID not found');\n            return;\n        }\n\n        // Show loading state\n        setButtonLoading(element, true);\n\n        fetch(`/admin/live-reporting/api/session/${sessionId}/refresh`, {\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json',\n                'X-CSRFToken': getCSRFToken()\n            }\n        })\n        .then(response => response.json())\n        .then(data => {\n            if (data.success) {\n                showSuccessNotification(data.message || 'Session refreshed');\n                // Reload page after short delay to show updated state\n                setTimeout(() => location.reload(), 1000);\n            } else {\n                showErrorNotification(data.error || 'Failed to refresh session');\n                setButtonLoading(element, false);\n            }\n        })\n        .catch(error => {\n            console.error('[Refresh Session] Error:', error);\n            showErrorNotification('Error refreshing session');\n            setButtonLoading(element, false);\n        });\n    }\n\n    /**\n     * Force synchronization with real-time service\n     * @param {HTMLElement} element - The clicked element\n     */\n    function handleForceSync(element) {\n        if (!confirm('Force synchronization with real-time service?')) {\n            return;\n        }\n\n        // Show loading state\n        setButtonLoading(element, true);\n\n        fetch('/admin/live-reporting/api/force-sync', {\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json',\n                'X-CSRFToken': getCSRFToken()\n            }\n        })\n        .then(response => response.json())\n        .then(data => {\n            if (data.success) {\n                showSuccessNotification(data.message || 'Sync successful');\n                // Reload page after short delay to show updated state\n                setTimeout(() => location.reload(), 1500);\n            } else {\n                showErrorNotification(data.error || 'Sync failed');\n                setButtonLoading(element, false);\n            }\n        })\n        .catch(error => {\n            console.error('[Force Sync] Error:', error);\n            showErrorNotification('Error performing sync');\n            setButtonLoading(element, false);\n        });\n    }\n\n    /**\n     * Reload the current page\n     * @param {HTMLElement} element - The clicked element\n     */\n    function handleReloadPage(element) {\n        // Show loading state\n        setButtonLoading(element, true);\n        location.reload();\n    }\n\n    // ========================================================================\n    // UTILITY FUNCTIONS\n    // ========================================================================\n\n    /**\n     * Get CSRF token from meta tag or cookie\n     * @returns {string} CSRF token\n     */\n    function getCSRFToken() {\n        // Try meta tag first\n        const metaTag = document.querySelector('meta[name=\"csrf-token\"]');\n        if (metaTag) {\n            return metaTag.getAttribute('content');\n        }\n\n        // Try cookie as fallback\n        const cookieValue = document.cookie\n            .split('; ')\n            .find(row => row.startsWith('csrf_token='));\n\n        return cookieValue ? cookieValue.split('=')[1] : '';\n    }\n\n    /**\n     * Set loading state on a button\n     * @param {HTMLElement} button - Button element\n     * @param {boolean} isLoading - Loading state\n     */\n    function setButtonLoading(button, isLoading) {\n        if (isLoading) {\n            button.disabled = true;\n            button.classList.add('is-loading');\n\n            // Store original content\n            if (!button.dataset.originalContent) {\n                button.dataset.originalContent = button.innerHTML;\n            }\n\n            // Show spinner\n            const icon = button.querySelector('i');\n            if (icon) {\n                icon.className = 'fas fa-spinner fa-spin';\n            }\n        } else {\n            button.disabled = false;\n            button.classList.remove('is-loading');\n\n            // Restore original content\n            if (button.dataset.originalContent) {\n                button.innerHTML = button.dataset.originalContent;\n                delete button.dataset.originalContent;\n            }\n        }\n    }\n\n    /**\n     * Show success notification\n     * @param {string} message - Success message\n     */\n    function showSuccessNotification(message) {\n        // Use native alert as fallback (can be replaced with toast library)\n        if (typeof toastr !== 'undefined') {\n            toastr.success(message);\n        } else {\n            alert(`Success: ${message}`);\n        }\n    }\n\n    /**\n     * Show error notification\n     * @param {string} message - Error message\n     */\n    function showErrorNotification(message) {\n        // Use native alert as fallback (can be replaced with toast library)\n        if (typeof toastr !== 'undefined') {\n            toastr.error(message);\n        } else {\n            alert(`Error: ${message}`);\n        }\n    }\n\n    // ========================================================================\n    // EXPOSE PUBLIC API (if needed)\n    // ========================================================================\n\n    // Expose specific functions if they need to be called from other scripts\n    window.MatchDetail = {\n        scheduleMatch: handleScheduleMatch,\n        stopSession: handleStopSession,\n        forceSync: handleForceSync\n    };\n\n})();\n","document.addEventListener('DOMContentLoaded', function() {\n    // Auto-refresh stats every 30 seconds\n    let autoRefresh = setInterval(refreshStats, 30000);\n\n    // Manual refresh button\n    const refreshButton = document.getElementById('refresh-stats');\n    if (refreshButton) {\n        refreshButton.addEventListener('click', function() {\n            refreshStats();\n            this.innerHTML = '<i class=\"fas fa-sync-alt fa-spin\"></i> Refreshing...';\n            setTimeout(() => {\n                this.innerHTML = '<i class=\"fas fa-sync-alt\"></i> Refresh';\n            }, 1000);\n        });\n    }\n\n    // Cache test button\n    const testButton = document.getElementById('test-cache');\n    if (testButton) {\n        testButton.addEventListener('click', function() {\n            testCache();\n        });\n    }\n\n    function refreshStats() {\n        const refreshUrl = document.getElementById('refresh-stats')?.dataset.refreshUrl;\n        if (!refreshUrl) return;\n\n        fetch(refreshUrl)\n            .then(response => response.json())\n            .then(data => {\n                if (!data.error) {\n                    // Update the display with new stats\n                    location.reload(); // Simple reload for now\n                }\n            })\n            .catch(error => console.error('Error refreshing stats:', error));\n    }\n\n    function testCache() {\n        const button = document.getElementById('test-cache');\n        const result = document.getElementById('test-result');\n        const testUrl = button?.dataset.testUrl;\n\n        if (!button || !testUrl) return;\n\n        button.innerHTML = '<i class=\"fas fa-spinner fa-spin\"></i> Testing...';\n        button.disabled = true;\n\n        fetch(testUrl)\n            .then(response => response.json())\n            .then(data => {\n                if (data.status === 'success') {\n                    result.innerHTML = '<div class=\"alert alert-success\"><i class=\"fas fa-check\"></i> ' + data.message + '</div>';\n                } else {\n                    result.innerHTML = '<div class=\"alert alert-danger\"><i class=\"fas fa-times\"></i> ' + data.message + '</div>';\n                }\n            })\n            .catch(error => {\n                result.innerHTML = '<div class=\"alert alert-danger\"><i class=\"fas fa-times\"></i> Cache test failed: ' + error + '</div>';\n            })\n            .finally(() => {\n                button.innerHTML = '<i class=\"fas fa-vial\"></i> Test Cache Connection';\n                button.disabled = false;\n            });\n    }\n});\n","$(document).ready(function() {\n    // Live preview functionality\n    function updatePreview() {\n        const title = $('#title').val() || 'Poll Title';\n        const question = $('#question').val() || 'Your poll question will appear here...';\n\n        $('#preview-title').text(title);\n        $('#preview-question').text(question);\n    }\n\n    $('#title, #question').on('input', updatePreview);\n    updatePreview(); // Initial update\n});\n","$(document).ready(function() {\n    if ($.fn.DataTable.isDataTable('#pollsTable')) {\n        $('#pollsTable').DataTable().destroy();\n    }\n\n    $('#pollsTable').DataTable({\n        \"order\": [[ 3, \"desc\" ]], // Order by created date, newest first\n        \"pageLength\": 25,\n        \"responsive\": true,\n        \"columnDefs\": [\n            { \"orderable\": false, \"targets\": [5] } // Disable sorting on actions column\n        ]\n    });\n});\n","/**\n * Manage Roles Page\n * Handles role permission management with Select2 integration\n */\n\n(function() {\n    'use strict';\n\n    const ManageRoles = {\n        init() {\n            this.initializeSelect2();\n            this.setupRoleChangeHandler();\n        },\n\n        initializeSelect2() {\n            // Check if jQuery and Select2 are available\n            if (typeof $ === 'undefined' || typeof $.fn.select2 === 'undefined') {\n                console.warn('Select2 or jQuery not available. Using basic select.');\n                return;\n            }\n\n            // Initialize Select2 for permissions select\n            $('#permissions').select2({\n                placeholder: 'Select permissions...',\n                width: '100%',\n                theme: 'bootstrap-5',\n                closeOnSelect: false\n            });\n        },\n\n        setupRoleChangeHandler() {\n            const roleSelect = document.getElementById('role_id');\n            if (!roleSelect) return;\n\n            roleSelect.addEventListener('change', () => {\n                const roleId = roleSelect.value;\n                if (roleId) {\n                    this.loadRolePermissions(roleId);\n                }\n            });\n\n            // Trigger change if a role is selected on page load\n            if (roleSelect.value) {\n                this.loadRolePermissions(roleSelect.value);\n            }\n        },\n\n        loadRolePermissions(roleId) {\n            // Get CSRF token\n            const csrfToken = document.querySelector('meta[name=\"csrf-token\"]')?.getAttribute('content') ||\n                             document.querySelector('[name=\"csrf_token\"]')?.value;\n\n            fetch('/admin/get_role_permissions', {\n                method: 'GET',\n                headers: {\n                    'Content-Type': 'application/json',\n                    'X-CSRFToken': csrfToken\n                },\n                credentials: 'same-origin'\n            })\n            .then(response => {\n                const url = new URL(response.url);\n                url.searchParams.append('role_id', roleId);\n                return fetch(url.toString());\n            })\n            .then(response => {\n                if (!response.ok) {\n                    throw new Error('Failed to load role permissions');\n                }\n                return response.json();\n            })\n            .then(data => {\n                const permissionsSelect = document.getElementById('permissions');\n                if (!permissionsSelect) return;\n\n                // Update selected permissions\n                if (typeof $ !== 'undefined' && typeof $.fn.select2 !== 'undefined') {\n                    // Use Select2 method\n                    $('#permissions').val(data.permissions).trigger('change');\n                } else {\n                    // Vanilla JS fallback\n                    Array.from(permissionsSelect.options).forEach(option => {\n                        option.selected = data.permissions.includes(option.value);\n                    });\n                }\n            })\n            .catch(error => {\n                console.error('Error loading role permissions:', error);\n                this.showAlert('Failed to load permissions for the selected role.', 'danger');\n            });\n        },\n\n        showAlert(message, category = 'info') {\n            const alertsContainer = document.querySelector('[data-component=\"alerts\"]');\n            if (!alertsContainer) return;\n\n            const alert = document.createElement('div');\n            alert.className = `c-alert c-alert--${category}`;\n            alert.setAttribute('role', 'alert');\n            alert.setAttribute('data-alert', '');\n            alert.innerHTML = `\n                <i class=\"ti ti-${category === 'success' ? 'check-circle' : 'alert-circle'} c-alert__icon\"></i>\n                <span class=\"c-alert__text\">${message}</span>\n            `;\n\n            alertsContainer.appendChild(alert);\n\n            // Auto-dismiss after 5 seconds\n            setTimeout(() => {\n                alert.remove();\n            }, 5000);\n        }\n    };\n\n    // Initialize on DOM ready\n    if (document.readyState === 'loading') {\n        document.addEventListener('DOMContentLoaded', () => ManageRoles.init());\n    } else {\n        ManageRoles.init();\n    }\n})();\n","/**\n * Manage Teams Page\n * Handles team CRUD operations with modal interactions\n */\n\n(function() {\n    'use strict';\n\n    const ManageTeams = {\n        init() {\n            this.setupEventDelegation();\n            this.setupModalHandlers();\n            this.setupFormValidation();\n        },\n\n        setupEventDelegation() {\n            document.addEventListener('click', (e) => {\n                const target = e.target.closest('[data-action]');\n                if (!target) return;\n\n                const action = target.dataset.action;\n\n                switch(action) {\n                    case 'open-add-team-modal':\n                        this.handleOpenAddTeamModal(target);\n                        break;\n                    case 'open-edit-team-modal':\n                        this.handleOpenEditTeamModal(target);\n                        break;\n                    case 'delete-team':\n                        this.handleDeleteTeam(target);\n                        break;\n                }\n            });\n        },\n\n        setupModalHandlers() {\n            // Add Team Modal\n            const addTeamModal = document.getElementById('addTeamModal');\n            if (addTeamModal) {\n                addTeamModal.addEventListener('show.bs.modal', (event) => {\n                    const button = event.relatedTarget;\n                    if (!button) return;\n\n                    const leagueName = button.dataset.leagueName;\n                    const seasonId = button.dataset.seasonId;\n                    const seasonName = button.dataset.seasonName;\n\n                    const modalLeagueNameInput = addTeamModal.querySelector('#modal_league_name');\n                    const modalSeasonIdInput = addTeamModal.querySelector('#modal_season_id');\n\n                    if (modalLeagueNameInput) modalLeagueNameInput.value = leagueName;\n                    if (modalSeasonIdInput) modalSeasonIdInput.value = seasonId;\n\n                    const modalTitle = addTeamModal.querySelector('.modal-title');\n                    if (modalTitle) {\n                        modalTitle.textContent = `Add Team to ${leagueName} (${seasonName})`;\n                    }\n                });\n            }\n\n            // Edit Team Modal\n            const editTeamModal = document.getElementById('editTeamModal');\n            if (editTeamModal) {\n                editTeamModal.addEventListener('show.bs.modal', (event) => {\n                    const button = event.relatedTarget;\n                    if (!button) return;\n\n                    const teamId = button.dataset.teamId;\n                    const teamName = button.dataset.teamName;\n                    const leagueName = button.dataset.leagueName;\n                    const seasonId = button.dataset.seasonId;\n\n                    const modalTeamNameInput = editTeamModal.querySelector('#edit_team_name');\n                    const modalTeamIdInput = editTeamModal.querySelector('#modal_team_id');\n                    const modalLeagueNameInput = editTeamModal.querySelector('#edit_modal_league_name');\n                    const modalSeasonIdInput = editTeamModal.querySelector('#edit_modal_season_id');\n\n                    if (modalTeamNameInput) modalTeamNameInput.value = teamName;\n                    if (modalTeamIdInput) modalTeamIdInput.value = teamId;\n                    if (modalLeagueNameInput) modalLeagueNameInput.value = leagueName;\n                    if (modalSeasonIdInput) modalSeasonIdInput.value = seasonId;\n\n                    const modalTitle = editTeamModal.querySelector('.modal-title');\n                    if (modalTitle) {\n                        modalTitle.textContent = `Edit Team: ${teamName}`;\n                    }\n                });\n            }\n        },\n\n        setupFormValidation() {\n            const forms = document.querySelectorAll('.needs-validation');\n            forms.forEach(form => {\n                form.addEventListener('submit', (event) => {\n                    if (!form.checkValidity()) {\n                        event.preventDefault();\n                        event.stopPropagation();\n                    }\n                    form.classList.add('was-validated');\n                });\n            });\n        },\n\n        handleOpenAddTeamModal(target) {\n            // Already handled by Bootstrap data attributes\n        },\n\n        handleOpenEditTeamModal(target) {\n            // Already handled by Bootstrap data attributes\n        },\n\n        handleDeleteTeam(target) {\n            const teamId = target.dataset.teamId;\n            const teamName = target.dataset.teamName;\n\n            if (typeof Swal !== 'undefined') {\n                Swal.fire({\n                    title: 'Are you sure?',\n                    html: `Do you really want to delete <strong>${teamName}</strong>?<br><br>` +\n                          '<span class=\"text-danger\">This action cannot be undone.</span>',\n                    icon: 'warning',\n                    showCancelButton: true,\n                    confirmButtonColor: this.getThemeColor('danger', '#dc3545'),\n                    cancelButtonColor: this.getThemeColor('secondary', '#6c757d'),\n                    confirmButtonText: 'Yes, delete it!',\n                    cancelButtonText: 'Cancel'\n                }).then((result) => {\n                    if (result.isConfirmed) {\n                        this.deleteTeam(teamId);\n                    }\n                });\n            } else {\n                if (confirm(`Do you really want to delete ${teamName}?\\n\\nThis action cannot be undone.`)) {\n                    this.deleteTeam(teamId);\n                }\n            }\n        },\n\n        deleteTeam(teamId) {\n            const form = document.createElement('form');\n            form.method = 'POST';\n            form.action = '/publeague/delete_team';\n\n            // Add CSRF token\n            const csrfToken = document.querySelector('meta[name=\"csrf-token\"]')?.getAttribute('content') ||\n                             document.querySelector('[name=\"csrf_token\"]')?.value;\n\n            if (csrfToken) {\n                const csrfInput = document.createElement('input');\n                csrfInput.type = 'hidden';\n                csrfInput.name = 'csrf_token';\n                csrfInput.value = csrfToken;\n                form.appendChild(csrfInput);\n            }\n\n            // Add team ID\n            const teamIdInput = document.createElement('input');\n            teamIdInput.type = 'hidden';\n            teamIdInput.name = 'team_id';\n            teamIdInput.value = teamId;\n            form.appendChild(teamIdInput);\n\n            document.body.appendChild(form);\n            form.submit();\n        },\n\n        getThemeColor(colorName, fallback) {\n            if (typeof ECSTheme !== 'undefined' && ECSTheme.getColor) {\n                return ECSTheme.getColor(colorName);\n            }\n\n            const root = getComputedStyle(document.documentElement);\n            const cssVar = root.getPropertyValue(`--ecs-${colorName}`).trim();\n\n            return cssVar || fallback;\n        }\n    };\n\n    // Initialize on DOM ready\n    if (document.readyState === 'loading') {\n        document.addEventListener('DOMContentLoaded', () => ManageTeams.init());\n    } else {\n        ManageTeams.init();\n    }\n})();\n","/**\n * User Approval Management JavaScript\n * Handles user approval and denial functionality for league placement\n */\n\n// Global variables\nlet currentUserId = null;\nlet approvalModal = null;\nlet denialModal = null;\nlet playerDetailsModal = null;\n\n// Initialize when document is ready\ndocument.addEventListener('DOMContentLoaded', function() {\n    initializeModals();\n    initializeFormSubmitListeners();\n});\n\n/**\n * Initialize Bootstrap modals\n */\nfunction initializeModals() {\n    const approvalModalElement = document.getElementById('approvalModal');\n    const denialModalElement = document.getElementById('denialModal');\n    const playerDetailsModalElement = document.getElementById('playerDetailsModal');\n\n    if (approvalModalElement) {\n        approvalModal = ModalManager.getInstance('approvalModal');\n    }\n\n    if (denialModalElement) {\n        denialModal = ModalManager.getInstance('denialModal');\n    }\n\n    if (playerDetailsModalElement) {\n        playerDetailsModal = ModalManager.getInstance('playerDetailsModal');\n    }\n}\n\n/**\n * Initialize form submit event listeners\n * Note: Click handlers are managed by centralized event delegation\n */\nfunction initializeFormSubmitListeners() {\n    // Handle form submissions\n    const approvalForm = document.getElementById('approvalForm');\n    const denialForm = document.getElementById('denialForm');\n\n    if (approvalForm) {\n        approvalForm.addEventListener('submit', function(e) {\n            e.preventDefault();\n            submitApproval();\n        });\n    }\n\n    if (denialForm) {\n        denialForm.addEventListener('submit', function(e) {\n            e.preventDefault();\n            submitDenial();\n        });\n    }\n}\n\n/**\n * Show approval modal for a user\n * @param {number} userId - The user ID to approve\n */\nfunction showApprovalModal(userId) {\n    if (!approvalModal) {\n        showErrorAlert('Modal not initialized');\n        return;\n    }\n\n    currentUserId = userId;\n\n    // Reset form\n    document.getElementById('approvalForm').reset();\n    document.getElementById('approvalUserId').value = userId;\n\n    // Show modal\n    approvalModal.show();\n\n    // Focus on league select\n    setTimeout(() => {\n        document.getElementById('leagueSelect').focus();\n    }, 300);\n}\n\n/**\n * Show denial modal for a user\n * @param {number} userId - The user ID to deny\n */\nfunction showDenialModal(userId) {\n    if (!denialModal) {\n        showErrorAlert('Modal not initialized');\n        return;\n    }\n\n    currentUserId = userId;\n\n    // Reset form\n    document.getElementById('denialForm').reset();\n    document.getElementById('denialUserId').value = userId;\n\n    // Show modal\n    denialModal.show();\n\n    // Focus on notes textarea\n    setTimeout(() => {\n        document.getElementById('denialNotes').focus();\n    }, 300);\n}\n\n/**\n * Submit user approval\n */\nfunction submitApproval() {\n    const form = document.getElementById('approvalForm');\n    const formData = new FormData(form);\n    const userId = document.getElementById('approvalUserId').value;\n\n    if (!userId) {\n        showErrorAlert('User ID is required');\n        return;\n    }\n\n    // Validate league selection\n    const leagueType = formData.get('league_type');\n    if (!leagueType) {\n        showErrorAlert('Please select a league');\n        return;\n    }\n\n    // Disable submit button using data attribute selector\n    const submitButton = document.querySelector('[data-action=\"approve-user\"]');\n    const originalText = submitButton.innerHTML;\n    submitButton.disabled = true;\n    submitButton.innerHTML = '<i class=\"ti ti-loader\"></i> Processing...';\n\n    // Submit request\n    fetch(`/admin/user-approvals/approve/${userId}`, {\n        method: 'POST',\n        body: formData,\n        headers: {\n            'X-CSRFToken': getCSRFToken()\n        }\n    })\n    .then(response => response.json())\n    .then(data => {\n        if (data.success) {\n            showSuccessAlert(data.message);\n\n            // Remove the user row from the table\n            removeUserFromTable(userId);\n\n            // Update stats\n            userApprovalUpdateStats();\n\n            // Hide modal\n            approvalModal.hide();\n        } else {\n            showErrorAlert(data.message || 'Error processing approval');\n        }\n    })\n    .catch(error => {\n        console.error('Error:', error);\n        showErrorAlert('Network error occurred');\n    })\n    .finally(() => {\n        // Re-enable submit button\n        submitButton.disabled = false;\n        submitButton.innerHTML = originalText;\n    });\n}\n\n/**\n * Submit user denial\n */\nfunction submitDenial() {\n    const form = document.getElementById('denialForm');\n    const formData = new FormData(form);\n    const userId = document.getElementById('denialUserId').value;\n\n    if (!userId) {\n        showErrorAlert('User ID is required');\n        return;\n    }\n\n    // Validate notes\n    const notes = formData.get('notes');\n    if (!notes || notes.trim().length < 10) {\n        showErrorAlert('Please provide a detailed reason for denial (at least 10 characters)');\n        return;\n    }\n\n    // Disable submit button using data attribute selector\n    const submitButton = document.querySelector('[data-action=\"deny-user\"]');\n    const originalText = submitButton.innerHTML;\n    submitButton.disabled = true;\n    submitButton.innerHTML = '<i class=\"ti ti-loader\"></i> Processing...';\n\n    // Submit request\n    fetch(`/admin/user-approvals/deny/${userId}`, {\n        method: 'POST',\n        body: formData,\n        headers: {\n            'X-CSRFToken': getCSRFToken()\n        }\n    })\n    .then(response => response.json())\n    .then(data => {\n        if (data.success) {\n            showSuccessAlert(data.message);\n\n            // Remove the user row from the table\n            removeUserFromTable(userId);\n\n            // Update stats\n            userApprovalUpdateStats();\n\n            // Hide modal\n            denialModal.hide();\n        } else {\n            showErrorAlert(data.message || 'Error processing denial');\n        }\n    })\n    .catch(error => {\n        console.error('Error:', error);\n        showErrorAlert('Network error occurred');\n    })\n    .finally(() => {\n        // Re-enable submit button\n        submitButton.disabled = false;\n        submitButton.innerHTML = originalText;\n    });\n}\n\n/**\n * Remove user row from the table\n * @param {number} userId - The user ID to remove\n */\nfunction removeUserFromTable(userId) {\n    const table = document.querySelector('[data-role=\"approval-table\"]');\n    if (!table) return;\n\n    const rows = table.querySelectorAll('[data-role=\"user-row\"]');\n    rows.forEach(row => {\n        const rowUserId = row.getAttribute('data-user-id');\n        if (rowUserId && parseInt(rowUserId) === parseInt(userId)) {\n            // Add fade out animation using CSS class\n            row.classList.add('fade-out');\n\n            // Remove after animation\n            setTimeout(() => {\n                row.remove();\n\n                // Check if table is empty\n                const remainingRows = table.querySelectorAll('[data-role=\"user-row\"]');\n                if (remainingRows.length === 0) {\n                    showEmptyTableMessage();\n                }\n            }, 300);\n        }\n    });\n}\n\n/**\n * Show empty table message\n */\nfunction showEmptyTableMessage() {\n    const container = document.querySelector('[data-role=\"table-container\"]');\n    if (container) {\n        container.innerHTML = `\n            <div class=\"text-center py-4\">\n                <i class=\"ti ti-users empty-table-icon\"></i>\n                <h6 class=\"mt-3\">No pending approvals</h6>\n                <p class=\"text-muted\">All users have been processed</p>\n            </div>\n        `;\n    }\n}\n\n/**\n * Update statistics display\n */\nfunction userApprovalUpdateStats() {\n    fetch('/admin/user-approvals/stats')\n        .then(response => response.json())\n        .then(data => {\n            if (data.success) {\n                const stats = data.stats;\n\n                // Update stats cards using data attributes\n                const pendingCard = document.querySelector('[data-role=\"stats-card\"][data-status=\"pending\"]');\n                const approvedCard = document.querySelector('[data-role=\"stats-card\"][data-status=\"approved\"]');\n                const deniedCard = document.querySelector('[data-role=\"stats-card\"][data-status=\"denied\"]');\n                const totalCard = document.querySelector('[data-role=\"stats-card\"][data-status=\"total\"]');\n\n                if (pendingCard) {\n                    const numberEl = pendingCard.querySelector('[data-role=\"stats-number\"]');\n                    if (numberEl) numberEl.textContent = stats.pending;\n                }\n                if (approvedCard) {\n                    const numberEl = approvedCard.querySelector('[data-role=\"stats-number\"]');\n                    if (numberEl) numberEl.textContent = stats.approved;\n                }\n                if (deniedCard) {\n                    const numberEl = deniedCard.querySelector('[data-role=\"stats-number\"]');\n                    if (numberEl) numberEl.textContent = stats.denied;\n                }\n                if (totalCard) {\n                    const numberEl = totalCard.querySelector('[data-role=\"stats-number\"]');\n                    if (numberEl) numberEl.textContent = stats.total;\n                }\n\n                // Update badge in card header\n                const pendingBadge = document.querySelector('[data-role=\"pending-count-badge\"]');\n                if (pendingBadge) {\n                    pendingBadge.textContent = `${stats.pending} pending`;\n                }\n            }\n        })\n        .catch(error => {\n            console.error('Error updating stats:', error);\n        });\n}\n\n/**\n * Refresh stats manually\n */\nfunction refreshStats() {\n    const refreshButton = document.querySelector('[data-action=\"refresh-stats\"]');\n    if (refreshButton) {\n        const originalText = refreshButton.innerHTML;\n        refreshButton.innerHTML = '<i class=\"ti ti-loader\"></i> Refreshing...';\n        refreshButton.disabled = true;\n\n        setTimeout(() => {\n            userApprovalUpdateStats();\n            refreshButton.innerHTML = originalText;\n            refreshButton.disabled = false;\n        }, 1000);\n    }\n}\n\n/**\n * Get CSRF token from meta tag or cookie\n * @returns {string} CSRF token\n */\nfunction getCSRFToken() {\n    // Try to get from meta tag first (vanilla JS pattern)\n    const csrfToken = document.querySelector('meta[name=csrf-token]')?.getAttribute('content') || '';\n\n    // If not found in meta tag, try cookie as fallback\n    if (!csrfToken) {\n        const cookieValue = document.cookie\n            .split('; ')\n            .find(row => row.startsWith('csrf_token='))\n            ?.split('=')[1];\n        return cookieValue || '';\n    }\n\n    return csrfToken;\n}\n\n/**\n * Show success alert\n * @param {string} message - Success message\n */\nfunction showSuccessAlert(message) {\n    if (typeof Swal !== 'undefined') {\n        Swal.fire({\n            icon: 'success',\n            title: 'Success!',\n            text: message,\n            showConfirmButton: false,\n            timer: 3000,\n            toast: true,\n            position: 'top-end'\n        });\n    } else {\n        alert(message);\n    }\n}\n\n/**\n * Show error alert\n * @param {string} message - Error message\n */\nfunction showErrorAlert(message) {\n    if (typeof Swal !== 'undefined') {\n        Swal.fire({\n            icon: 'error',\n            title: 'Error!',\n            text: message,\n            showConfirmButton: true\n        });\n    } else {\n        alert('Error: ' + message);\n    }\n}\n\n/**\n * Show warning alert\n * @param {string} message - Warning message\n */\nfunction showWarningAlert(message) {\n    if (typeof Swal !== 'undefined') {\n        Swal.fire({\n            icon: 'warning',\n            title: 'Warning!',\n            text: message,\n            showConfirmButton: true\n        });\n    } else {\n        alert('Warning: ' + message);\n    }\n}\n\n/**\n * Show info alert\n * @param {string} message - Info message\n */\nfunction showInfoAlert(message) {\n    if (typeof Swal !== 'undefined') {\n        Swal.fire({\n            icon: 'info',\n            title: 'Info',\n            text: message,\n            showConfirmButton: true\n        });\n    } else {\n        alert('Info: ' + message);\n    }\n}\n\n/**\n * Show player details modal\n * @param {number} userId - The user ID to show details for\n */\nfunction showPlayerDetails(userId) {\n    if (!playerDetailsModal) {\n        showErrorAlert('Details modal not initialized');\n        return;\n    }\n\n    // Show loading state\n    document.getElementById('playerDetailsContent').innerHTML = '<div class=\"text-center py-4\"><i class=\"ti ti-loader ti-spin\"></i> Loading player details...</div>';\n\n    // Show modal\n    playerDetailsModal.show();\n\n    // Fetch user details\n    fetch(`/admin/user-approvals/user/${userId}`)\n        .then(response => response.json())\n        .then(data => {\n            if (data.success) {\n                const user = data.user;\n                const player = user.player;\n\n                let detailsHtml = '<div class=\"player-details-header\">';\n\n                // Profile image or avatar\n                if (player && player.profile_picture_url) {\n                    detailsHtml += `<img src=\"${player.profile_picture_url}\" alt=\"${player.name}\" class=\"player-details-image\">`;\n                } else {\n                    detailsHtml += `<div class=\"player-details-avatar\">${user.username.charAt(0).toUpperCase()}</div>`;\n                }\n\n                // Basic info\n                detailsHtml += '<div class=\"player-details-info\">';\n                detailsHtml += `<h3>${user.username}</h3>`;\n                if (player) {\n                    detailsHtml += `<p class=\"text-muted mb-2\">${player.name}</p>`;\n                }\n                detailsHtml += `<p class=\"mb-0\">${user.email}</p>`;\n                detailsHtml += '</div>';\n                detailsHtml += '</div>';\n\n                // Account Information Section\n                detailsHtml += '<div class=\"player-details-section\">';\n                detailsHtml += '<h5>Account Information</h5>';\n                detailsHtml += '<div class=\"info-grid\">';\n\n                detailsHtml += '<div class=\"info-item\">';\n                detailsHtml += '<div class=\"info-label\">Registration Date</div>';\n                detailsHtml += `<div class=\"info-value\">${user.created_at ? new Date(user.created_at).toLocaleDateString() : 'Unknown'}</div>`;\n                detailsHtml += '</div>';\n\n                detailsHtml += '<div class=\"info-item\">';\n                detailsHtml += '<div class=\"info-label\">Status</div>';\n                detailsHtml += '<div class=\"info-value\"><span data-badge data-status=\"pending\">Pending Approval</span></div>';\n                detailsHtml += '</div>';\n\n                if (player && player.discord_id) {\n                    detailsHtml += '<div class=\"info-item\">';\n                    detailsHtml += '<div class=\"info-label\">Discord ID</div>';\n                    detailsHtml += `<div class=\"info-value\"><code>${player.discord_id}</code></div>`;\n                    detailsHtml += '</div>';\n                }\n\n                detailsHtml += '<div class=\"info-item\">';\n                detailsHtml += '<div class=\"info-label\">Current Roles</div>';\n                detailsHtml += '<div class=\"info-value\">';\n                detailsHtml += user.roles.map(role => `<span data-badge data-role=\"user-role\">${role}</span>`).join('');\n                detailsHtml += '</div>';\n                detailsHtml += '</div>';\n\n                detailsHtml += '</div>';\n                detailsHtml += '</div>';\n\n                // Player Information Section (if exists)\n                if (player) {\n                    detailsHtml += '<div class=\"player-details-section\">';\n                    detailsHtml += '<h5>Player Information</h5>';\n                    detailsHtml += '<div class=\"info-grid\">';\n\n                    if (player.pronouns) {\n                        detailsHtml += '<div class=\"info-item\">';\n                        detailsHtml += '<div class=\"info-label\">Pronouns</div>';\n                        detailsHtml += `<div class=\"info-value\">${player.pronouns}</div>`;\n                        detailsHtml += '</div>';\n                    }\n\n                    if (player.phone) {\n                        detailsHtml += '<div class=\"info-item\">';\n                        detailsHtml += '<div class=\"info-label\">Phone</div>';\n                        detailsHtml += `<div class=\"info-value\">${player.phone}</div>`;\n                        detailsHtml += '</div>';\n                    }\n\n                    if (player.jersey_size) {\n                        detailsHtml += '<div class=\"info-item\">';\n                        detailsHtml += '<div class=\"info-label\">Jersey Size</div>';\n                        detailsHtml += `<div class=\"info-value\">${player.jersey_size}</div>`;\n                        detailsHtml += '</div>';\n                    }\n\n                    if (player.favorite_position) {\n                        detailsHtml += '<div class=\"info-item\">';\n                        detailsHtml += '<div class=\"info-label\">Favorite Position</div>';\n                        detailsHtml += `<div class=\"info-value\">${player.favorite_position}</div>`;\n                        detailsHtml += '</div>';\n                    }\n\n                    // Only show player status if user is approved\n                    if (user.approval_status === 'approved') {\n                        detailsHtml += '<div class=\"info-item\">';\n                        detailsHtml += '<div class=\"info-label\">Player Status</div>';\n                        detailsHtml += `<div class=\"info-value\">${player.is_current_player ? '<span data-badge data-status=\"active\">Active</span>' : '<span data-badge data-status=\"inactive\">Inactive</span>'}</div>`;\n                        detailsHtml += '</div>';\n\n                        if (player.is_coach) {\n                            detailsHtml += '<div class=\"info-item\">';\n                            detailsHtml += '<div class=\"info-label\">Coach Status</div>';\n                            detailsHtml += '<div class=\"info-value\"><span data-badge data-role=\"coach\">Coach</span></div>';\n                            detailsHtml += '</div>';\n                        }\n\n                        if (player.is_sub) {\n                            detailsHtml += '<div class=\"info-item\">';\n                            detailsHtml += '<div class=\"info-label\">Substitute Status</div>';\n                            detailsHtml += '<div class=\"info-value\"><span data-badge data-role=\"substitute\">Substitute</span></div>';\n                            detailsHtml += '</div>';\n                        }\n                    } else {\n                        // For pending users, show that they're awaiting approval\n                        detailsHtml += '<div class=\"info-item\">';\n                        detailsHtml += '<div class=\"info-label\">Player Status</div>';\n                        detailsHtml += '<div class=\"info-value\"><span data-badge data-status=\"pending\">Awaiting Approval</span></div>';\n                        detailsHtml += '</div>';\n                    }\n\n                    detailsHtml += '</div>';\n                    detailsHtml += '</div>';\n                }\n\n                document.getElementById('playerDetailsContent').innerHTML = detailsHtml;\n\n                // Update profile link\n                const profileLink = document.getElementById('profileLink');\n                if (player) {\n                    profileLink.href = `/players/profile/${player.id}`;\n                    profileLink.classList.remove('profile-link-hidden');\n                    profileLink.classList.add('profile-link-visible');\n                } else {\n                    profileLink.classList.remove('profile-link-visible');\n                    profileLink.classList.add('profile-link-hidden');\n                }\n            } else {\n                document.getElementById('playerDetailsContent').innerHTML = '<div class=\"text-center text-danger py-4\">Error loading player details</div>';\n            }\n        })\n        .catch(error => {\n            console.error('Error loading details:', error);\n            document.getElementById('playerDetailsContent').innerHTML = '<div class=\"text-center text-danger py-4\">Error loading player details</div>';\n        });\n}\n\n// Export functions for global use\nwindow.showApprovalModal = showApprovalModal;\nwindow.showDenialModal = showDenialModal;\nwindow.submitApproval = submitApproval;\nwindow.submitDenial = submitDenial;\nwindow.refreshStats = refreshStats;\nwindow.showPlayerDetails = showPlayerDetails;\n","/**\n * Calendar Subscription Module\n *\n * Handles iCal subscription management in the settings page.\n * Provides subscription URL display, copy functionality, and preference management.\n */\n\n'use strict';\n\nconst CalendarSubscription = (function() {\n    // State\n    let subscription = null;\n    let isLoading = false;\n\n    /**\n     * Initialize the calendar subscription module\n     */\n    function init() {\n        loadSubscription();\n        bindEvents();\n    }\n\n    /**\n     * Bind event handlers\n     * NOTE: Event handlers are now managed by the centralized EventDelegation system.\n     * Actions are registered in /app/static/js/event-delegation.js\n     * Elements use data-action and data-on-change attributes for delegation.\n     */\n    function bindEvents() {\n        // All event handlers moved to EventDelegation system:\n        // - copy-subscription-url (click)\n        // - regenerate-subscription-token (click)\n        // - subscribe-webcal (click)\n        // - subscribe-google (click)\n        // - update-calendar-preferences (change)\n    }\n\n    /**\n     * Load the user's subscription data\n     */\n    async function loadSubscription() {\n        setLoading(true);\n\n        try {\n            const response = await fetch('/api/calendar/subscription', {\n                method: 'GET',\n                headers: {\n                    'X-Requested-With': 'XMLHttpRequest'\n                }\n            });\n\n            if (!response.ok) {\n                throw new Error('Failed to load subscription');\n            }\n\n            const data = await response.json();\n            subscription = data;\n            renderSubscription();\n\n        } catch (error) {\n            console.error('Error loading subscription:', error);\n            showError('Failed to load calendar subscription settings');\n        } finally {\n            setLoading(false);\n        }\n    }\n\n    /**\n     * Render subscription data in the UI\n     */\n    function renderSubscription() {\n        if (!subscription) return;\n\n        // Update URL display\n        const urlInput = document.getElementById('subscriptionUrl');\n        if (urlInput) {\n            urlInput.value = subscription.feed_url || '';\n        }\n\n        // Update webcal URL and feed URL for delegation\n        const webcalUrl = subscription.webcal_url;\n        const feedUrl = subscription.feed_url;\n\n        const webcalBtn = document.getElementById('subscribeWebcal');\n        if (webcalBtn && webcalUrl) {\n            webcalBtn.dataset.webcalUrl = webcalUrl;\n        }\n\n        const googleBtn = document.getElementById('subscribeGoogle');\n        if (googleBtn && feedUrl) {\n            googleBtn.dataset.feedUrl = feedUrl;\n        }\n\n        // Update preference toggles\n        const includeMatches = document.getElementById('subIncludeMatches');\n        if (includeMatches) {\n            includeMatches.checked = subscription.include_team_matches !== false;\n        }\n\n        const includeLeagueEvents = document.getElementById('subIncludeLeagueEvents');\n        if (includeLeagueEvents) {\n            includeLeagueEvents.checked = subscription.include_league_events !== false;\n        }\n\n        const includeRefAssignments = document.getElementById('subIncludeRefAssignments');\n        if (includeRefAssignments) {\n            includeRefAssignments.checked = subscription.include_ref_assignments !== false;\n        }\n\n        // Update stats\n        const lastAccessed = document.getElementById('subLastAccessed');\n        if (lastAccessed && subscription.last_accessed) {\n            const date = new Date(subscription.last_accessed);\n            lastAccessed.textContent = date.toLocaleDateString() + ' ' + date.toLocaleTimeString();\n        } else if (lastAccessed) {\n            lastAccessed.textContent = 'Never';\n        }\n\n        const accessCount = document.getElementById('subAccessCount');\n        if (accessCount) {\n            accessCount.textContent = subscription.access_count || 0;\n        }\n    }\n\n    /**\n     * NOTE: Event handler functions removed - now handled by EventDelegation system\n     * See /app/static/js/event-delegation.js for implementations:\n     * - copy-subscription-url\n     * - regenerate-subscription-token\n     * - subscribe-webcal\n     * - subscribe-google\n     * - update-calendar-preferences\n     */\n\n    /**\n     * Set loading state\n     * @param {boolean} loading\n     */\n    function setLoading(loading) {\n        isLoading = loading;\n        const loadingIndicator = document.getElementById('subscriptionLoading');\n        const content = document.getElementById('subscriptionContent');\n\n        if (loadingIndicator) {\n            loadingIndicator.classList.toggle('u-hidden', !loading);\n        }\n        if (content) {\n            content.classList.toggle('u-hidden', loading);\n        }\n    }\n\n    /**\n     * Show error message\n     * @param {string} message\n     */\n    function showError(message) {\n        const errorContainer = document.getElementById('subscriptionError');\n        if (errorContainer) {\n            errorContainer.textContent = message;\n            errorContainer.classList.remove('u-hidden');\n        }\n    }\n\n    /**\n     * Show toast notification\n     * @param {string} type - 'success', 'error', 'warning', 'info'\n     * @param {string} message\n     */\n    function showToast(type, message) {\n        // Use existing toast system if available\n        if (typeof window.showToast === 'function') {\n            window.showToast(type, message);\n            return;\n        }\n\n        // Fallback to Toastify\n        if (typeof Toastify !== 'undefined') {\n            // Use ECSTheme colors with gradient variations for toast backgrounds\n            const successColor = (typeof ECSTheme !== 'undefined') ? ECSTheme.getColor('success') : '#198754';\n            const successLight = (typeof ECSTheme !== 'undefined') ? ECSTheme.getColor('success-light') : '#198754';\n            const dangerColor = (typeof ECSTheme !== 'undefined') ? ECSTheme.getColor('danger') : '#dc3545';\n            const dangerLight = (typeof ECSTheme !== 'undefined') ? ECSTheme.getColor('danger-light') : '#dc3545';\n            const warningColor = (typeof ECSTheme !== 'undefined') ? ECSTheme.getColor('warning') : '#ffc107';\n            const warningLight = (typeof ECSTheme !== 'undefined') ? ECSTheme.getColor('warning-light') : '#ffc107';\n            const infoColor = (typeof ECSTheme !== 'undefined') ? ECSTheme.getColor('info') : '#0dcaf0';\n            const infoLight = (typeof ECSTheme !== 'undefined') ? ECSTheme.getColor('info-light') : '#0dcaf0';\n            const bgColors = {\n                success: `linear-gradient(to right, ${successColor}, ${successLight})`,\n                error: `linear-gradient(to right, ${dangerColor}, ${dangerLight})`,\n                warning: `linear-gradient(to right, ${warningColor}, ${warningLight})`,\n                info: `linear-gradient(to right, ${infoColor}, ${infoLight})`\n            };\n\n            Toastify({\n                text: message,\n                duration: 3000,\n                gravity: 'top',\n                position: 'right',\n                style: { background: bgColors[type] || bgColors.info }\n            }).showToast();\n            return;\n        }\n\n        // Final fallback\n        console.log(`[${type}] ${message}`);\n    }\n\n    /**\n     * Get the calendar subscription HTML for embedding in settings page\n     * @param {Object} options - Options (isReferee, etc.)\n     * @returns {string} HTML string\n     */\n    function getCardHTML(options = {}) {\n        const { isReferee = false } = options;\n\n        return `\n        <div class=\"js-settings-card u-card u-mb-4\" id=\"calendarSubscriptionCard\">\n            <div class=\"u-card-header u-flex u-align-center u-pb-2 u-border-bottom\">\n                <div class=\"js-settings-icon u-bg-info u-bg-opacity-10 u-text-info u-me-3\">\n                    <i class=\"ti ti-calendar-share\"></i>\n                </div>\n                <div>\n                    <h5 class=\"u-card-title u-mb-0\">Calendar Subscription</h5>\n                    <small class=\"u-text-muted\">Sync your schedule to Google, Apple, or Outlook</small>\n                </div>\n            </div>\n            <div class=\"u-card-body u-pt-3\">\n                <!-- Loading State -->\n                <div id=\"subscriptionLoading\" class=\"u-text-center u-py-4\">\n                    <div class=\"u-spinner u-text-primary\" role=\"status\">\n                        <span class=\"u-visually-hidden\">Loading...</span>\n                    </div>\n                    <p class=\"u-text-muted u-mt-2 u-mb-0\">Loading subscription...</p>\n                </div>\n\n                <!-- Error State -->\n                <div id=\"subscriptionError\" class=\"u-alert u-alert-danger u-hidden\"></div>\n\n                <!-- Content -->\n                <div id=\"subscriptionContent\" class=\"u-hidden\">\n                    <!-- Subscription URL -->\n                    <div class=\"u-mb-3\">\n                        <label class=\"u-form-label u-fw-semibold\">Your Subscription URL</label>\n                        <div class=\"u-input-group\">\n                            <input type=\"text\" class=\"u-form-control\" id=\"subscriptionUrl\" readonly\n                                   placeholder=\"Loading...\">\n                            <button class=\"js-copy-btn u-btn u-btn-outline-primary\" type=\"button\" id=\"copySubscriptionUrl\"\n                                    data-action=\"copy-subscription-url\">\n                                <i class=\"ti ti-copy u-me-1\"></i>Copy\n                            </button>\n                        </div>\n                        <small class=\"u-text-muted\">This is your personal calendar feed URL. Keep it private.</small>\n                    </div>\n\n                    <!-- Quick Subscribe Buttons -->\n                    <div class=\"u-mb-4\">\n                        <label class=\"u-form-label u-fw-semibold\">Quick Subscribe</label>\n                        <div class=\"u-flex u-gap-2 u-flex-wrap\">\n                            <button type=\"button\" class=\"js-subscribe-webcal u-btn u-btn-outline-secondary\" id=\"subscribeWebcal\"\n                                    data-action=\"subscribe-webcal\">\n                                <i class=\"ti ti-device-mobile u-me-1\"></i>iOS / macOS\n                            </button>\n                            <button type=\"button\" class=\"js-subscribe-google u-btn u-btn-outline-secondary\" id=\"subscribeGoogle\"\n                                    data-action=\"subscribe-google\">\n                                <i class=\"ti ti-brand-google u-me-1\"></i>Google Calendar\n                            </button>\n                        </div>\n                        <small class=\"u-text-muted u-block u-mt-2\">\n                            For Outlook: Copy the URL above and add it as a subscription calendar.\n                        </small>\n                    </div>\n\n                    <!-- Preferences -->\n                    <div class=\"u-mb-4\">\n                        <label class=\"u-form-label u-fw-semibold\">Include in Calendar</label>\n                        <div class=\"u-form-check u-form-switch u-mb-2\">\n                            <input class=\"u-form-check-input\" type=\"checkbox\" id=\"subIncludeMatches\" checked\n                                   data-on-change=\"update-calendar-preferences\">\n                            <label class=\"u-form-check-label\" for=\"subIncludeMatches\">\n                                <i class=\"ti ti-ball-football u-me-1\"></i>Team Matches\n                            </label>\n                        </div>\n                        <div class=\"u-form-check u-form-switch u-mb-2\">\n                            <input class=\"u-form-check-input\" type=\"checkbox\" id=\"subIncludeLeagueEvents\" checked\n                                   data-on-change=\"update-calendar-preferences\">\n                            <label class=\"u-form-check-label\" for=\"subIncludeLeagueEvents\">\n                                <i class=\"ti ti-calendar-event u-me-1\"></i>League Events\n                            </label>\n                        </div>\n                        ${isReferee ? `\n                        <div class=\"u-form-check u-form-switch u-mb-2\">\n                            <input class=\"u-form-check-input\" type=\"checkbox\" id=\"subIncludeRefAssignments\" checked\n                                   data-on-change=\"update-calendar-preferences\">\n                            <label class=\"u-form-check-label\" for=\"subIncludeRefAssignments\">\n                                <i class=\"ti ti-whistle u-me-1\"></i>Referee Assignments\n                            </label>\n                        </div>\n                        ` : '<div id=\"subIncludeRefAssignments\" class=\"u-hidden\"></div>'}\n                    </div>\n\n                    <!-- Stats -->\n                    <div class=\"u-row u-gap-3 u-mb-4\">\n                        <div class=\"u-col-6\">\n                            <div class=\"u-bg-light u-rounded u-p-3 u-text-center\">\n                                <small class=\"u-text-muted u-block\">Last Synced</small>\n                                <span class=\"u-fw-semibold\" id=\"subLastAccessed\">Never</span>\n                            </div>\n                        </div>\n                        <div class=\"u-col-6\">\n                            <div class=\"u-bg-light u-rounded u-p-3 u-text-center\">\n                                <small class=\"u-text-muted u-block\">Total Syncs</small>\n                                <span class=\"u-fw-semibold\" id=\"subAccessCount\">0</span>\n                            </div>\n                        </div>\n                    </div>\n\n                    <!-- Security -->\n                    <div class=\"u-border-top u-pt-3\">\n                        <h6 class=\"u-fw-semibold u-text-muted u-small u-text-uppercase u-mb-2\">Security</h6>\n                        <p class=\"u-text-muted u-small u-mb-3\">\n                            If you believe your subscription URL has been compromised, regenerate it below.\n                            This will invalidate your current URL.\n                        </p>\n                        <button type=\"button\" class=\"js-regenerate-token u-btn u-btn-outline-danger u-btn-sm\" id=\"regenerateSubscriptionToken\"\n                                data-action=\"regenerate-subscription-token\">\n                            <i class=\"ti ti-refresh u-me-1\"></i>Regenerate URL\n                        </button>\n                    </div>\n                </div>\n            </div>\n        </div>\n        `;\n    }\n\n    // Public API\n    return {\n        init,\n        loadSubscription,\n        getCardHTML\n    };\n})();\n\n// Auto-initialize when DOM is ready and on settings page\ndocument.addEventListener('DOMContentLoaded', function() {\n    // Check if we're on the settings page with the subscription card\n    if (document.getElementById('calendarSubscriptionCard')) {\n        CalendarSubscription.init();\n    }\n});\n\n// Export for use in other modules\nif (typeof module !== 'undefined' && module.exports) {\n    module.exports = CalendarSubscription;\n}\n","/**\n * ============================================================================\n * Draft Enhanced - Page-Specific JavaScript\n * ============================================================================\n *\n * Extracted from inline <script> tags in draft_enhanced.html\n * Uses event delegation and data-* attributes for event binding\n * All styling managed via CSS classes in /app/static/css/features/draft.css\n *\n * ============================================================================\n */\n\n// JavaScript version of format_position function\nfunction formatPosition(position) {\n    if (!position) return position;\n    return position.replace(/_/g, ' ').replace(/\\b\\w/g, l => l.toUpperCase());\n}\n\n// Initialize the draft system when the page loads\ndocument.addEventListener('DOMContentLoaded', function() {\n    // Add performance optimizations\n    if ('loading' in HTMLImageElement.prototype) {\n        const images = document.querySelectorAll('img[loading=\"lazy\"]');\n        images.forEach(img => {\n            img.addEventListener('load', function() {\n                this.classList.add('loaded');\n            });\n        });\n    }\n\n    // Add keyboard navigation\n    document.addEventListener('keydown', function(e) {\n        if (e.key === '/') {\n            e.preventDefault();\n            document.getElementById('playerSearch')?.focus();\n        }\n    });\n\n    console.log(' Draft System v2 loaded successfully');\n\n    // Update team counts on page load\n    updateAllTeamCounts();\n\n    // Setup live search functionality\n    setupLiveSearch();\n\n    // Set initial available player count\n    const initialCount = document.querySelectorAll('#available-players .player-card').length;\n    updateAvailablePlayerCount(initialCount);\n\n    // Setup event delegation for buttons\n    setupEventDelegation();\n\n    // Setup image error handlers\n    setupImageErrorHandlers();\n\n    // Listen for socket events to update team counts\n    setupDraftEnhancedSocket();\n});\n\n/**\n * Setup socket connection for draft enhanced page\n */\nfunction setupDraftEnhancedSocket() {\n    if (typeof io === 'undefined') return;\n\n    // Reuse existing global socket if available (from navbar presence)\n    // Check if socket EXISTS (not just connected) - it may still be connecting\n    let socket;\n    if (window.socket) {\n        console.log('[DraftEnhanced] Reusing existing socket (connected:', window.socket.connected, ')');\n        socket = window.socket;\n    } else {\n        // Create new socket if none exists\n        console.log('[DraftEnhanced] Creating new socket connection');\n        socket = io('/', {\n            // Use polling first to establish sticky session cookie with multiple workers\n            transports: ['polling', 'websocket'],\n            upgrade: true,\n            withCredentials: true\n        });\n        window.socket = socket;\n    }\n\n    // Store reference for other functions\n    window.draftEnhancedSocket = socket;\n\n    socket.on('player_drafted_enhanced', function(data) {\n        console.log('[DraftEnhanced] Player drafted event received:', data);\n\n        // Delegate to DraftSystemV2 if available (handles full UI update)\n        if (window.draftSystemInstance && typeof window.draftSystemInstance.handlePlayerDrafted === 'function') {\n            window.draftSystemInstance.handlePlayerDrafted(data);\n        } else {\n            // Fallback: Basic UI update if DraftSystemV2 not available\n            if (data.player && data.player.id) {\n                // Remove player from available pool\n                const playerCard = document.querySelector(`#available-players [data-player-id=\"${data.player.id}\"]`);\n                if (playerCard) {\n                    const column = playerCard.closest('[data-component=\"player-column\"]');\n                    if (column) {\n                        column.remove();\n                        updateAvailablePlayerCount(document.querySelectorAll('#available-players .player-card').length);\n                    }\n                }\n            }\n            // Update team count\n            if (data.team_id) {\n                setTimeout(() => updateTeamCount(data.team_id), 100);\n            }\n        }\n    });\n\n    socket.on('player_removed_enhanced', function(data) {\n        console.log('[DraftEnhanced] Player removed event received:', data);\n\n        // Delegate to DraftSystemV2 if available\n        if (window.draftSystemInstance && typeof window.draftSystemInstance.handlePlayerRemoved === 'function') {\n            window.draftSystemInstance.handlePlayerRemoved(data);\n        } else {\n            // Fallback: Update team count\n            if (data.team_id) {\n                setTimeout(() => updateTeamCount(data.team_id), 100);\n            }\n        }\n    });\n\n    socket.on('draft_error', function(data) {\n        console.log('[DraftEnhanced] Draft error:', data.message);\n        // Show error via DraftSystemV2 toast or fallback alert\n        if (window.draftSystemInstance && typeof window.draftSystemInstance.showToast === 'function') {\n            window.draftSystemInstance.showToast(data.message, 'error');\n        } else if (typeof Swal !== 'undefined') {\n            Swal.fire({\n                icon: 'error',\n                title: 'Draft Error',\n                text: data.message,\n                timer: 3000,\n                showConfirmButton: false\n            });\n        } else {\n            alert('Draft Error: ' + data.message);\n        }\n    });\n}\n\n/**\n * Setup event delegation for all button clicks\n */\nfunction setupEventDelegation() {\n    // Event delegation for draft player buttons\n    document.addEventListener('click', function(e) {\n        // Draft player button\n        if (e.target.closest('.js-draft-player')) {\n            const btn = e.target.closest('.js-draft-player');\n            const playerId = btn.dataset.playerId;\n            const playerName = btn.dataset.playerName;\n            confirmDraftPlayer(playerId, playerName);\n        }\n\n        // View player profile button\n        if (e.target.closest('.js-view-player-profile')) {\n            const btn = e.target.closest('.js-view-player-profile');\n            const playerId = btn.dataset.playerId;\n            openPlayerModal(playerId);\n        }\n\n        // Remove player button\n        if (e.target.closest('.js-remove-player')) {\n            const btn = e.target.closest('.js-remove-player');\n            const playerId = btn.dataset.playerId;\n            const teamId = btn.dataset.teamId;\n            const playerName = btn.dataset.playerName;\n            const teamName = btn.dataset.teamName;\n            confirmRemovePlayer(playerId, teamId, playerName, teamName);\n        }\n    });\n\n    // Setup drag and drop event delegation\n    setupDragAndDrop();\n}\n\n/**\n * Setup drag and drop functionality for player cards and drop zones\n */\nfunction setupDragAndDrop() {\n    // Drag start on draggable player cards\n    document.addEventListener('dragstart', function(e) {\n        const playerCard = e.target.closest('.js-draggable-player');\n        if (playerCard) {\n            const playerId = playerCard.dataset.playerId;\n            e.dataTransfer.setData('text/plain', playerId);\n            e.dataTransfer.effectAllowed = 'move';\n            playerCard.classList.add('opacity-50', 'dragging');\n\n            // Add body class for global drag state (triggers CSS animations)\n            document.body.classList.add('is-dragging');\n\n            // Store for fallback\n            window._draggedPlayerId = playerId;\n        }\n    });\n\n    // Drag end on draggable player cards\n    document.addEventListener('dragend', function(e) {\n        const playerCard = e.target.closest('.js-draggable-player');\n        if (playerCard) {\n            playerCard.classList.remove('opacity-50', 'dragging');\n            window._draggedPlayerId = null;\n        }\n        // Remove body drag state class\n        document.body.classList.remove('is-dragging');\n    });\n\n    // Drag over on drop zones\n    document.addEventListener('dragover', function(e) {\n        const dropZone = e.target.closest('.js-draft-drop-zone');\n        if (dropZone) {\n            e.preventDefault();\n            e.dataTransfer.dropEffect = 'move';\n            dropZone.classList.add('drag-over');\n\n            // Add specific styling based on drop target type\n            const dropTarget = dropZone.dataset.dropTarget;\n            if (dropTarget === 'available') {\n                dropZone.classList.add('drag-over-available');\n            } else if (dropTarget === 'team') {\n                dropZone.classList.add('drag-over-team');\n            }\n        }\n    });\n\n    // Drag leave on drop zones\n    document.addEventListener('dragleave', function(e) {\n        const dropZone = e.target.closest('.js-draft-drop-zone');\n        if (dropZone && !dropZone.contains(e.relatedTarget)) {\n            dropZone.classList.remove('drag-over', 'drag-over-available', 'drag-over-team');\n        }\n    });\n\n    // Drop on drop zones\n    document.addEventListener('drop', function(e) {\n        const dropZone = e.target.closest('.js-draft-drop-zone');\n        if (dropZone) {\n            e.preventDefault();\n            dropZone.classList.remove('drag-over', 'drag-over-available', 'drag-over-team');\n\n            const playerId = e.dataTransfer.getData('text/plain') || window._draggedPlayerId;\n            if (!playerId) {\n                console.error('No player ID found in drop event');\n                return;\n            }\n\n            const dropTarget = dropZone.dataset.dropTarget;\n            const teamId = dropZone.dataset.teamId;\n\n            if (dropTarget === 'team' && teamId) {\n                // Dropping on a team - draft the player\n                handleDropOnTeam(playerId, teamId, dropZone);\n            } else if (dropTarget === 'available') {\n                // Dropping back to available pool - undraft the player\n                handleDropToAvailable(playerId);\n            }\n        }\n    });\n}\n\n/**\n * Handle dropping a player onto a team\n */\nfunction handleDropOnTeam(playerId, teamId, dropZone) {\n    // Check if player is already on this team\n    const teamSection = document.getElementById(`teamPlayers${teamId}`);\n    if (teamSection && teamSection.querySelector(`[data-player-id=\"${playerId}\"]`)) {\n        console.log('[DraftEnhanced] Player already on this team in UI');\n        if (window.draftSystemInstance) {\n            window.draftSystemInstance.showToast('Player is already on this team', 'warning');\n        }\n        return;\n    }\n\n    // Get player name for display\n    const playerCard = document.querySelector(`[data-player-id=\"${playerId}\"]`);\n    const playerName = playerCard ?\n        (playerCard.querySelector('.fw-bold')?.textContent ||\n         playerCard.querySelector('.fw-semibold')?.textContent ||\n         'Player') : 'Player';\n\n    // Get team name\n    const teamAccordion = dropZone.closest('.accordion-item');\n    const teamName = teamAccordion ?\n        teamAccordion.querySelector('.fw-bold')?.textContent || `Team ${teamId}` :\n        `Team ${teamId}`;\n\n    // Get league name\n    const leagueNameScript = document.querySelector('script[data-league-name]');\n    const leagueName = leagueNameScript ? leagueNameScript.getAttribute('data-league-name') :\n                       (window.draftSystemInstance ? window.draftSystemInstance.leagueName : '');\n\n    // Try SocketManager first (most reliable)\n    if (typeof window.SocketManager !== 'undefined' && window.SocketManager.isConnected()) {\n        const socket = window.SocketManager.getSocket();\n        socket.emit('draft_player_enhanced', {\n            player_id: parseInt(playerId),\n            team_id: parseInt(teamId),\n            league_name: leagueName,\n            player_name: playerName\n        });\n        console.log(`[DraftEnhanced] Drafting player ${playerId} to team ${teamId} via SocketManager`);\n        return;\n    }\n\n    // Fallback to DraftSystemV2 socket\n    if (window.draftSystemInstance && window.draftSystemInstance.socket && window.draftSystemInstance.isConnected) {\n        window.draftSystemInstance.socket.emit('draft_player_enhanced', {\n            player_id: parseInt(playerId),\n            team_id: parseInt(teamId),\n            league_name: leagueName,\n            player_name: playerName\n        });\n        console.log(`[DraftEnhanced] Drafting player ${playerId} to team ${teamId} via DraftSystemV2`);\n        return;\n    }\n\n    // Fallback to global socket\n    const socket = window.draftEnhancedSocket || window.socket;\n    if (socket && socket.connected) {\n        socket.emit('draft_player_enhanced', {\n            player_id: parseInt(playerId),\n            team_id: parseInt(teamId),\n            league_name: leagueName,\n            player_name: playerName\n        });\n        console.log(`[DraftEnhanced] Drafting player ${playerId} to team ${teamId} via global socket`);\n    } else {\n        console.error('[DraftEnhanced] No connected socket available - cannot draft');\n        if (typeof Swal !== 'undefined') {\n            Swal.fire({\n                icon: 'warning',\n                title: 'Connection Issue',\n                text: 'Not connected to server. Please wait a moment and try again.',\n                timer: 3000,\n                showConfirmButton: true,\n                confirmButtonText: 'Refresh Page',\n            }).then((result) => {\n                if (result.isConfirmed) {\n                    window.location.reload();\n                }\n            });\n        } else {\n            alert('Connection error. Please refresh the page.');\n        }\n    }\n}\n\n/**\n * Handle dropping a player back to the available pool (undraft)\n */\nfunction handleDropToAvailable(playerId) {\n    // Find which team the player is currently on\n    const playerCard = document.querySelector(`[data-player-id=\"${playerId}\"]`);\n    if (!playerCard) {\n        console.error('[DraftEnhanced] Player card not found');\n        return;\n    }\n\n    // Check if player is in a team section (not already in available pool)\n    const teamSection = playerCard.closest('[id^=\"teamPlayers\"]');\n    if (!teamSection) {\n        console.log('[DraftEnhanced] Player is already in available pool');\n        return;\n    }\n\n    // Extract team ID from the section ID (format: teamPlayers123)\n    const teamId = teamSection.id.replace('teamPlayers', '');\n\n    // Get player and team names for confirmation\n    const playerName = playerCard.querySelector('.fw-bold')?.textContent ||\n                       playerCard.querySelector('.fw-semibold')?.textContent ||\n                       'Player';\n\n    const teamAccordion = teamSection.closest('.accordion-item');\n    const teamName = teamAccordion ?\n        teamAccordion.querySelector('.fw-bold')?.textContent || `Team ${teamId}` :\n        `Team ${teamId}`;\n\n    // Get league name\n    const leagueNameScript = document.querySelector('script[data-league-name]');\n    const leagueName = leagueNameScript ? leagueNameScript.getAttribute('data-league-name') :\n                       (window.draftSystemInstance ? window.draftSystemInstance.leagueName : '');\n\n    const emitData = {\n        player_id: parseInt(playerId),\n        team_id: parseInt(teamId),\n        league_name: leagueName\n    };\n\n    // Try SocketManager first (most reliable)\n    if (typeof window.SocketManager !== 'undefined' && window.SocketManager.isConnected()) {\n        window.SocketManager.getSocket().emit('remove_player_enhanced', emitData);\n        console.log(`[DraftEnhanced] Undrafting player ${playerId} from team ${teamId} via SocketManager`);\n        return;\n    }\n\n    // Fallback to DraftSystemV2 socket\n    if (window.draftSystemInstance && window.draftSystemInstance.socket && window.draftSystemInstance.isConnected) {\n        window.draftSystemInstance.socket.emit('remove_player_enhanced', emitData);\n        console.log(`[DraftEnhanced] Undrafting player ${playerId} from team ${teamId} via DraftSystemV2`);\n        return;\n    }\n\n    // Fallback to global socket\n    const socket = window.draftEnhancedSocket || window.socket;\n    if (socket && socket.connected) {\n        socket.emit('remove_player_enhanced', emitData);\n        console.log(`[DraftEnhanced] Undrafting player ${playerId} from team ${teamId} via global socket`);\n    } else {\n        console.error('[DraftEnhanced] No connected socket available - cannot undraft');\n        if (typeof Swal !== 'undefined') {\n            Swal.fire({\n                icon: 'warning',\n                title: 'Connection Issue',\n                text: 'Not connected to server. Please wait a moment and try again.',\n                timer: 3000,\n                showConfirmButton: true,\n                confirmButtonText: 'Refresh Page',\n            }).then((result) => {\n                if (result.isConfirmed) {\n                    window.location.reload();\n                }\n            });\n        } else {\n            alert('Connection error. Please refresh the page.');\n        }\n    }\n}\n\n/**\n * Setup image error handlers for fallback images\n */\nfunction setupImageErrorHandlers() {\n    document.querySelectorAll('.js-player-image').forEach(img => {\n        img.addEventListener('error', function() {\n            const fallback = this.dataset.fallback || '/static/img/default_player.png';\n            console.log('Image failed to load:', this.src, '- Using fallback:', fallback);\n            this.src = fallback;\n        });\n\n        img.addEventListener('load', function() {\n            console.log('Image loaded successfully:', this.src);\n            // Apply smart cropping if function exists\n            if (typeof smartCropImage === 'function') {\n                smartCropImage(this);\n            }\n        });\n    });\n}\n\n/**\n * Confirm removal of player from team\n */\nfunction confirmRemovePlayer(playerId, teamId, playerName, teamName) {\n    if (confirm(`Remove ${playerName} from ${teamName}?`)) {\n        // Execute removal via socket or API\n        const socket = window.draftEnhancedSocket || window.socket;\n        if (socket && socket.connected) {\n            // Get league name from the page (same way confirmDraftPlayer does)\n            const leagueNameScript = document.querySelector('script[data-league-name]');\n            const leagueName = leagueNameScript ? leagueNameScript.getAttribute('data-league-name') :\n                               (window.draftSystemInstance ? window.draftSystemInstance.leagueName : '');\n\n            socket.emit('remove_player_enhanced', {\n                player_id: parseInt(playerId),\n                team_id: parseInt(teamId),\n                league_name: leagueName\n            });\n        }\n        console.log(`Removing player ${playerId} from team ${teamId}`);\n    }\n}\n\n/**\n * Live search functionality\n */\nfunction setupLiveSearch() {\n    const searchInput = document.getElementById('playerSearch');\n    const positionFilter = document.getElementById('positionFilter');\n    const sortBy = document.getElementById('sortBy');\n\n    if (searchInput) {\n        searchInput.addEventListener('input', filterPlayers);\n    }\n    if (positionFilter) {\n        positionFilter.addEventListener('change', filterPlayers);\n    }\n    if (sortBy) {\n        sortBy.addEventListener('change', filterPlayers);\n    }\n}\n\n/**\n * Filter players in real-time\n */\nfunction filterPlayers() {\n    const searchTerm = document.getElementById('playerSearch')?.value.toLowerCase() || '';\n    const positionFilter = document.getElementById('positionFilter')?.value.toLowerCase() || '';\n    const sortBy = document.getElementById('sortBy')?.value || 'name';\n\n    const availablePlayersContainer = document.getElementById('available-players');\n    const playerCards = availablePlayersContainer?.querySelectorAll('.col-xl-3, .col-lg-4, .col-md-6, .col-sm-6') || [];\n\n    let visibleCount = 0;\n    let filteredPlayers = [];\n\n    // Filter and collect visible players\n    playerCards.forEach(card => {\n        const playerCard = card.querySelector('.player-card');\n        if (!playerCard) return;\n\n        const playerName = playerCard.getAttribute('data-player-name') || '';\n        const playerPosition = playerCard.getAttribute('data-position') || '';\n\n        // Check search term match\n        const matchesSearch = !searchTerm || playerName.includes(searchTerm);\n\n        // Check position filter match\n        const matchesPosition = !positionFilter || playerPosition === positionFilter;\n\n        const isVisible = matchesSearch && matchesPosition;\n\n        if (isVisible) {\n            card.classList.add('d-block');\n            card.classList.remove('d-none');\n            visibleCount++;\n\n            // Collect data for sorting\n            const experience = parseInt(playerCard.getAttribute('data-experience')) || 0;\n            const attendance = parseFloat(playerCard.getAttribute('data-attendance')) || 0;\n            const goals = parseInt(playerCard.getAttribute('data-goals')) || 0;\n\n            filteredPlayers.push({\n                element: card,\n                name: playerName,\n                experience: experience,\n                attendance: attendance,\n                goals: goals\n            });\n        } else {\n            card.classList.add('d-none');\n            card.classList.remove('d-block');\n        }\n    });\n\n    // Sort the visible players\n    if (sortBy && filteredPlayers.length > 0) {\n        sortPlayers(filteredPlayers, sortBy);\n    }\n\n    // Update both counters\n    updateAvailablePlayerCount(visibleCount);\n\n    // Show/hide empty state\n    const emptyState = document.getElementById('emptyState');\n    if (emptyState) {\n        emptyState.classList.toggle('is-visible', visibleCount === 0);\n    }\n\n    console.log(`Filtered players: ${visibleCount} visible`);\n}\n\n/**\n * Sort players based on selected criteria\n */\nfunction sortPlayers(players, sortBy) {\n    const container = document.getElementById('available-players');\n    if (!container) return;\n\n    players.sort((a, b) => {\n        switch (sortBy) {\n            case 'experience':\n                return b.experience - a.experience; // Highest first\n            case 'attendance':\n                return b.attendance - a.attendance; // Highest first\n            case 'goals':\n                return b.goals - a.goals; // Highest first\n            case 'name':\n            default:\n                return a.name.localeCompare(b.name); // Alphabetical\n        }\n    });\n\n    // Reorder elements in the DOM\n    players.forEach(player => {\n        container.appendChild(player.element);\n    });\n}\n\n/**\n * Update available player count in both locations\n */\nfunction updateAvailablePlayerCount(count) {\n    const availableCount = document.getElementById('availableCount');\n    const availablePlayersCount = document.getElementById('available-players-count');\n\n    if (availableCount) {\n        availableCount.textContent = count;\n    }\n    if (availablePlayersCount) {\n        availablePlayersCount.textContent = count;\n    }\n}\n\n/**\n * Function to update team player counts\n */\nfunction updateTeamCount(teamId) {\n    const teamSection = document.getElementById(`teamPlayers${teamId}`);\n    const teamCountBadge = document.getElementById(`teamCount${teamId}`);\n\n    if (teamSection && teamCountBadge) {\n        // Count ONLY the player card elements, not buttons inside them\n        // .draft-team-player-card is only on the outer card, not the remove button\n        const playerCount = teamSection.querySelectorAll('.draft-team-player-card').length;\n        teamCountBadge.textContent = `${playerCount} players`;\n\n        console.log(`Updated team ${teamId} count to ${playerCount} players`);\n    }\n}\n\n/**\n * Function to update all team counts\n */\nfunction updateAllTeamCounts() {\n    // Find all team sections and update their counts\n    document.querySelectorAll('[id^=\"teamPlayers\"]').forEach(teamSection => {\n        const teamId = teamSection.id.replace('teamPlayers', '');\n        updateTeamCount(teamId);\n    });\n}\n\n/**\n * Custom Draft Confirmation Modal (replaces SweetAlert2)\n */\nfunction confirmDraftPlayer(playerId, playerName) {\n    // Populate the message\n    document.getElementById('draftPlayerMessage').innerHTML = `Select a team for <strong>${playerName}</strong>:`;\n\n    // Populate team options\n    const teamSelect = document.getElementById('teamSelect');\n    teamSelect.innerHTML = '<option value=\"\">Choose a team...</option>';\n\n    // Get all teams and their player counts\n    document.querySelectorAll('[id^=\"teamCount\"]').forEach(badge => {\n        const teamId = badge.id.replace('teamCount', '');\n        const teamName = badge.parentElement.querySelector('.fw-bold').textContent;\n        const playerCount = badge.textContent.replace(' players', '');\n\n        const option = document.createElement('option');\n        option.value = teamId;\n        option.textContent = `${teamName} (${playerCount})`;\n        teamSelect.appendChild(option);\n    });\n\n    // Set up the confirm button\n    const confirmBtn = document.getElementById('confirmDraftBtn');\n    confirmBtn.onclick = function() {\n        const selectedTeamId = teamSelect.value;\n        if (!selectedTeamId) {\n            alert('Please select a team!');\n            return;\n        }\n\n        // Close modal\n        bootstrap.Modal.getInstance(document.getElementById('draftConfirmModal')).hide();\n\n        // Get league name from script tag data attribute\n        const leagueNameScript = document.querySelector('script[data-league-name]');\n        const leagueName = leagueNameScript ? leagueNameScript.getAttribute('data-league-name') : '';\n\n        // Execute the draft via socket or API\n        const socket = window.draftEnhancedSocket || window.socket;\n        if (socket && socket.connected) {\n            socket.emit('draft_player_enhanced', {\n                player_id: parseInt(playerId),\n                team_id: parseInt(selectedTeamId),\n                league_name: leagueName\n            });\n        }\n\n        console.log(`Drafting player ${playerId} to team ${selectedTeamId}`);\n    };\n\n    // Show the modal\n    ModalManager.show('draftConfirmModal');\n}\n\n/**\n * Enhanced Player Profile Modal Functions\n */\nfunction openPlayerModal(playerId) {\n    // Show loading state\n    const profileLoading = document.getElementById('profileLoading');\n    profileLoading.classList.add('d-block');\n    profileLoading.classList.remove('d-none');\n    document.getElementById('profileData').classList.remove('is-visible');\n    document.getElementById('draftFromModal').classList.remove('is-visible');\n\n    // Open modal\n    ModalManager.show('playerProfileModal');\n\n    // Fetch player data\n    fetch(`/players/api/player_profile/${playerId}`)\n        .then(response => response.json())\n        .then(data => {\n            displayPlayerProfile(data, playerId);\n        })\n        .catch(error => {\n            console.error('Error loading player profile:', error);\n            document.getElementById('profileLoading').innerHTML = `\n                <div class=\"text-center py-5\">\n                    <i class=\"ti ti-exclamation-triangle text-warning mb-3 draft-error-icon\"></i>\n                    <h5>Error Loading Profile</h5>\n                    <p class=\"text-muted\">Unable to load player information. Please try again.</p>\n                </div>\n            `;\n        });\n}\n\n/**\n * Display player profile in modal\n */\nfunction displayPlayerProfile(data, playerId) {\n    const profileLoading = document.getElementById('profileLoading');\n    profileLoading.classList.add('d-none');\n    profileLoading.classList.remove('d-block');\n\n    const profileHtml = `\n        <div class=\"p-4 draft-profile-container\">\n            <!-- Player Header Info -->\n            <div class=\"text-center mb-4\">\n                <img src=\"${data.profile_picture_url || '/static/img/default_player.png'}\"\n                     alt=\"${data.name}\"\n                     class=\"rounded-circle border border-3 border-white mb-3 draft-profile-avatar js-player-image\"\n                     data-fallback=\"/static/img/default_player.png\">\n                <h4 class=\"fw-bold mb-1 draft-profile-name\">${data.name}</h4>\n                <p class=\"mb-2 draft-profile-position\">${formatPosition(data.favorite_position) || 'Any Position'}</p>\n\n                <!-- Career Stats Row -->\n                <div class=\"row text-center mb-4\">\n                    <div class=\"col-3\">\n                        <div class=\"fw-bold text-success fs-5\">${data.goals}</div>\n                        <small class=\"draft-profile-stat-label\">Goals</small>\n                    </div>\n                    <div class=\"col-3\">\n                        <div class=\"fw-bold text-info fs-5\">${data.assists}</div>\n                        <small class=\"draft-profile-stat-label\">Assists</small>\n                    </div>\n                    <div class=\"col-3\">\n                        <div class=\"fw-bold text-warning fs-5\">${data.yellow_cards}</div>\n                        <small class=\"draft-profile-stat-label\">Yellow</small>\n                    </div>\n                    <div class=\"col-3\">\n                        <div class=\"fw-bold text-danger fs-5\">${data.red_cards}</div>\n                        <small class=\"draft-profile-stat-label\">Red</small>\n                    </div>\n                </div>\n            </div>\n\n            <!-- Playing Information Section -->\n            <div class=\"mb-4\">\n                <h5 class=\"pb-2 mb-3 draft-profile-section-header\">\n                    <i class=\"ti ti-info-circle me-2\"></i>Playing Information\n                </h5>\n                <div class=\"row\">\n                    <div class=\"col-md-6\">\n                        <div class=\"mb-2\">\n                            <strong class=\"draft-profile-label\">Preferred Position:</strong>\n                            <span class=\"badge bg-primary ms-1\">${formatPosition(data.favorite_position) || 'Any'}</span>\n                        </div>\n                        ${data.other_positions ? `\n                        <div class=\"mb-2\">\n                            <strong class=\"draft-profile-label\">Other Positions:</strong>\n                            <small class=\"draft-profile-value\">${Array.isArray(data.other_positions) ? data.other_positions.map(pos => formatPosition(pos)).join(', ') : data.other_positions}</small>\n                        </div>\n                        ` : ''}\n                        ${data.positions_to_avoid ? `\n                        <div class=\"mb-2\">\n                            <strong class=\"draft-profile-label\">Positions to Avoid:</strong>\n                            <small class=\"draft-profile-value\">${data.positions_to_avoid}</small>\n                        </div>\n                        ` : ''}\n                    </div>\n                    <div class=\"col-md-6\">\n                        ${data.goal_frequency ? `\n                        <div class=\"mb-2\">\n                            <strong class=\"draft-profile-label\">Goal Frequency:</strong>\n                            <small class=\"draft-profile-value\">${data.goal_frequency}</small>\n                        </div>\n                        ` : ''}\n                        ${data.expected_availability ? `\n                        <div class=\"mb-2\">\n                            <strong class=\"draft-profile-label\">Expected Availability:</strong>\n                            <small class=\"draft-profile-value\">${data.expected_availability}</small>\n                        </div>\n                        ` : ''}\n                    </div>\n                </div>\n            </div>\n\n            <!-- Player Notes -->\n            ${data.player_notes ? `\n            <div class=\"mb-4\">\n                <h5 class=\"pb-2 mb-3 draft-profile-section-header\">\n                    <i class=\"ti ti-notes me-2\"></i>Player Notes\n                </h5>\n                <p class=\"draft-profile-notes\">${data.player_notes}</p>\n            </div>\n            ` : ''}\n\n            <!-- Admin Notes -->\n            ${data.admin_notes ? `\n            <div class=\"mb-3\">\n                <h5 class=\"pb-2 mb-3 draft-profile-section-header\">\n                    <i class=\"ti ti-shield me-2\"></i>Admin Notes\n                </h5>\n                <p class=\"draft-profile-notes\">${data.admin_notes}</p>\n            </div>\n            ` : ''}\n        </div>\n    `;\n\n    document.getElementById('profileData').innerHTML = profileHtml;\n    document.getElementById('profileData').classList.add('is-visible');\n\n    // Re-setup image error handlers for dynamically added images\n    setupImageErrorHandlers();\n\n    // Show draft button and set up click handler\n    const draftButton = document.getElementById('draftFromModal');\n    draftButton.classList.add('is-visible');\n    draftButton.onclick = () => {\n        // Close modal and trigger draft\n        bootstrap.Modal.getInstance(document.getElementById('playerProfileModal')).hide();\n        confirmDraftPlayer(playerId, data.name);\n    };\n}\n","/**\n * Check Duplicate Accounts Handler\n * Manages duplicate account detection and claim/create actions\n */\n\ndocument.addEventListener('DOMContentLoaded', function () {\n    const form = document.getElementById('duplicate-check-form');\n    const playerIdField = document.getElementById('player_id');\n    const actionField = document.getElementById('action');\n\n    // Handle claim account buttons\n    document.querySelectorAll('.claim-account-btn').forEach(button => {\n        button.addEventListener('click', function () {\n            const playerId = this.getAttribute('data-player-id');\n            const playerName = this.getAttribute('data-player-name');\n            const playerEmail = this.getAttribute('data-player-email');\n\n            // Show confirmation with SweetAlert\n            Swal.fire({\n                title: 'Claim This Account?',\n                html: `\n                    <p class=\"mb-2\">You're claiming the account for:</p>\n                    <div class=\"text-start border rounded p-3 bg-light\">\n                        <strong>${playerName}</strong><br>\n                        <small class=\"text-muted\">${playerEmail}</small>\n                    </div>\n                    <p class=\"mt-3 mb-0 small text-muted\">\n                        We'll send a verification email to <strong>${playerEmail}</strong> to confirm this is your account.\n                    </p>\n                `,\n                icon: 'question',\n                showCancelButton: true,\n                confirmButtonColor: (typeof ECSTheme !== 'undefined') ? ECSTheme.getColor('primary') : 'var(--ecs-primary)',\n                cancelButtonColor: (typeof ECSTheme !== 'undefined') ? ECSTheme.getColor('secondary') : '#6c757d',\n                confirmButtonText: '<i class=\"ti ti-mail me-1\"></i>Send Verification Email',\n                cancelButtonText: 'Cancel',\n                customClass: {\n                    popup: 'text-start'\n                }\n            }).then((result) => {\n                if (result.isConfirmed) {\n                    // Set form values and submit\n                    playerIdField.value = playerId;\n                    actionField.value = 'claim';\n\n                    // Show loading state\n                    Swal.fire({\n                        title: 'Sending Verification Email...',\n                        text: 'Please wait while we process your request.',\n                        icon: 'info',\n                        allowOutsideClick: false,\n                        showConfirmButton: false,\n                        didOpen: () => {\n                            Swal.showLoading();\n                        }\n                    });\n\n                    form.submit();\n                }\n            });\n        });\n    });\n\n    // Handle create new account button\n    const createNewBtn = document.getElementById('create-new-btn');\n    if (createNewBtn) {\n        createNewBtn.addEventListener('click', function () {\n            Swal.fire({\n                title: 'Create New Account?',\n                text: 'This will create a brand new profile for you. Are you sure none of the existing profiles are yours?',\n                icon: 'question',\n                showCancelButton: true,\n                confirmButtonColor: (typeof ECSTheme !== 'undefined') ? ECSTheme.getColor('success') : 'var(--ecs-success)',\n                cancelButtonColor: (typeof ECSTheme !== 'undefined') ? ECSTheme.getColor('secondary') : '#6c757d',\n                confirmButtonText: '<i class=\"ti ti-user-plus me-1\"></i>Yes, Create New Account',\n                cancelButtonText: 'Let me check again'\n            }).then((result) => {\n                if (result.isConfirmed) {\n                    // Set form values and submit\n                    playerIdField.value = '';\n                    actionField.value = 'new';\n\n                    // Show loading state\n                    Swal.fire({\n                        title: 'Creating Your Account...',\n                        text: 'Please wait while we set up your new profile.',\n                        icon: 'info',\n                        allowOutsideClick: false,\n                        showConfirmButton: false,\n                        didOpen: () => {\n                            Swal.showLoading();\n                        }\n                    });\n\n                    form.submit();\n                }\n            });\n        });\n    }\n\n    // Add hover effects to duplicate cards\n    document.querySelectorAll('.duplicate-option').forEach(card => {\n        card.addEventListener('mouseenter', function () {\n            this.classList.add('card-hover');\n        });\n\n        card.addEventListener('mouseleave', function () {\n            this.classList.remove('card-hover');\n        });\n    });\n});\n","/**\n * ============================================================================\n * COACH DASHBOARD JAVASCRIPT\n * ============================================================================\n *\n * Handles all coach dashboard functionality including:\n * - Match reporting form submission\n * - Substitute request workflow\n * - CSRF token management\n *\n * ARCHITECTURAL COMPLIANCE:\n * - Event delegation for dynamic elements\n * - Data-attribute based hooks ([data-action], [data-match-id])\n * - IIFE pattern for encapsulation\n * - No direct element binding by ID where possible\n *\n * ============================================================================\n */\n\n(function() {\n    'use strict';\n\n    /**\n     * Get CSRF token from meta tag\n     * @returns {string} CSRF token value\n     */\n    function getCsrfToken() {\n        const csrfMeta = document.querySelector('meta[name=\"csrf-token\"]');\n        return csrfMeta ? csrfMeta.content : '';\n    }\n\n    /**\n     * Request a substitute for a match\n     * Shows SweetAlert2 dialog for input and submits to appropriate endpoint\n     *\n     * @param {string} matchId - Match ID\n     * @param {string} leagueType - 'ECS FC' or 'Premier'/'Classic'\n     * @param {string} teamId - Team ID for Pub League matches\n     */\n    async function requestSub(matchId, leagueType, teamId) {\n        // Check if SweetAlert2 is available\n        if (typeof Swal === 'undefined') {\n            console.warn('SweetAlert2 not available for substitute request');\n            return;\n        }\n\n        const result = await Swal.fire({\n            title: 'Request Substitute',\n            html: `\n                <div class=\"mb-3\">\n                    <label class=\"form-label\">Number of subs needed:</label>\n                    <input type=\"number\" id=\"subs-needed\" class=\"form-control\" value=\"1\" min=\"1\" max=\"5\" data-form-control>\n                </div>\n                <div class=\"mb-3\">\n                    <label class=\"form-label\">Positions needed:</label>\n                    <input type=\"text\" id=\"positions\" class=\"form-control\" placeholder=\"e.g., Forward, Midfielder\" data-form-control>\n                </div>\n                <div class=\"mb-3\">\n                    <label class=\"form-label\">Notes (optional):</label>\n                    <textarea id=\"notes\" class=\"form-control\" rows=\"3\" placeholder=\"Any additional information...\" data-form-control></textarea>\n                </div>\n            `,\n            showCancelButton: true,\n            confirmButtonText: 'Request Sub',\n            preConfirm: () => {\n                return {\n                    substitutes_needed: document.getElementById('subs-needed').value,\n                    positions_needed: document.getElementById('positions').value,\n                    notes: document.getElementById('notes').value\n                };\n            }\n        });\n\n        if (!result.isConfirmed) return;\n\n        try {\n            // Determine endpoint and build FormData based on league type\n            let endpoint;\n            const formData = new FormData();\n            const csrfToken = getCsrfToken();\n\n            formData.append('csrf_token', csrfToken);\n            formData.append('substitutes_needed', result.value.substitutes_needed);\n            formData.append('positions_needed', result.value.positions_needed);\n            formData.append('notes', result.value.notes);\n\n            if (leagueType === 'ECS FC') {\n                // ECS FC: endpoint expects integer match_id in URL path\n                endpoint = `/ecs-fc/sub-request/${matchId}`;\n            } else {\n                // Pub League (Premier or Classic): needs match_id and team_id in form data\n                endpoint = '/admin/request_sub';\n                formData.append('match_id', matchId);\n                formData.append('team_id', teamId);\n            }\n\n            const response = await fetch(endpoint, {\n                method: 'POST',\n                headers: {\n                    'X-CSRFToken': csrfToken\n                },\n                body: formData\n            });\n\n            // Both endpoints redirect on success, so any 2xx or 3xx response means success\n            if (response.ok || (response.status >= 300 && response.status < 400)) {\n                Swal.fire({\n                    icon: 'success',\n                    title: 'Sub Requested!',\n                    text: 'Substitute request has been created. Notifications are being sent to available substitutes.',\n                    timer: 2000,\n                    showConfirmButton: false\n                }).then(() => window.location.reload());\n            } else {\n                throw new Error('Failed to request substitute');\n            }\n        } catch (error) {\n            console.error('Error:', error);\n            Swal.fire({\n                icon: 'error',\n                title: 'Error',\n                text: error.message || 'Failed to request substitute'\n            });\n        }\n    }\n\n    /**\n     * Handle match report form submission\n     * @param {HTMLFormElement} form - The form element\n     */\n    async function handleMatchReportSubmit(form) {\n        const matchId = form.dataset.matchId;\n        const formData = new FormData(form);\n\n        try {\n            const response = await fetch(form.action, {\n                method: 'POST',\n                body: formData\n            });\n\n            const data = await response.json();\n\n            if (data.success) {\n                // Close modal\n                const modal = bootstrap.Modal.getInstance(\n                    document.getElementById(`reportMatchModal-${matchId}`)\n                );\n                if (modal) modal.hide();\n\n                // Show success message and reload\n                if (typeof Swal !== 'undefined') {\n                    Swal.fire({\n                        icon: 'success',\n                        title: 'Match Reported!',\n                        timer: 2000,\n                        showConfirmButton: false\n                    }).then(() => window.location.reload());\n                } else {\n                    window.location.reload();\n                }\n            } else {\n                throw new Error(data.message || 'Failed to report match');\n            }\n        } catch (error) {\n            console.error('Error:', error);\n            if (typeof Swal !== 'undefined') {\n                Swal.fire({\n                    icon: 'error',\n                    title: 'Error',\n                    text: error.message || 'Failed to report match'\n                });\n            } else {\n                alert('Error: ' + error.message);\n            }\n        }\n    }\n\n    /**\n     * Initialize event listeners using delegation\n     */\n    function init() {\n        // Request Sub button delegation\n        document.addEventListener('click', function(e) {\n            const btn = e.target.closest('[data-action=\"request-sub\"]');\n            if (btn) {\n                e.preventDefault();\n                const matchId = btn.dataset.matchId;\n                const leagueType = btn.dataset.leagueType;\n                const teamId = btn.dataset.teamId;\n                requestSub(matchId, leagueType, teamId);\n            }\n        });\n\n        // Match report form submission\n        document.querySelectorAll('.report-match-form').forEach(form => {\n            form.addEventListener('submit', function(e) {\n                e.preventDefault();\n                handleMatchReportSubmit(this);\n            });\n        });\n\n        console.log('Coach Dashboard initialized');\n    }\n\n    // Initialize on DOM ready\n    if (document.readyState === 'loading') {\n        document.addEventListener('DOMContentLoaded', init);\n    } else {\n        init();\n    }\n\n    // Expose API for external use\n    window.CoachDashboard = {\n        requestSub,\n        getCsrfToken\n    };\n\n})();\n","// static/custom_js/cropper.js\n\ndocument.addEventListener('DOMContentLoaded', () => {\n    // Page guard - only run on pages with image cropper\n    const imageInput = document.getElementById('image');\n    if (!imageInput) {\n        return; // Not on a page with image cropper\n    }\n\n    let cropper;\n\n    // Function to initialize cropper\n    function croppingimg(e, ratio) {\n        const files = e.target.files;\n        if (files && files.length > 0) {\n            const imgsrc = URL.createObjectURL(files[0]);\n            const imageElement = document.getElementById('imagecan');\n            imageElement.src = imgsrc;\n\n            const imgContainer = document.querySelector('.img-container');\n            imgContainer.classList.remove('d-none');\n            imgContainer.classList.add('d-block');\n\n            if (cropper) {\n                cropper.destroy(); // Destroy previous cropper instance\n            }\n\n            cropper = new Cropper(imageElement, {\n                viewMode: 1, // Changed to allow more flexibility\n                aspectRatio: ratio,\n                dragMode: 'move',\n                autoCropArea: 0.8, // Adjusted autoCropArea\n                restore: false,\n                guides: true,\n                center: true,\n                highlight: true,\n                background: false,\n                responsive: true,\n                movable: true,\n                zoomable: true,\n                rotatable: false,\n                scalable: false,\n                cropBoxMovable: true,\n                cropBoxResizable: true,\n                toggleDragModeOnDblclick: false,\n                checkOrientation: false,\n            });\n        }\n    }\n\n    // Function to handle the image upload\n    window.onClickUpload = function () {\n        if (cropper) {\n            const canvas = cropper.getCroppedCanvas({\n                width: 300, // Increased width for better resolution\n                height: 300, // Increased height for better resolution\n                imageSmoothingQuality: 'high',\n            });\n            canvas.toBlob(function (blob) {\n                const reader = new FileReader();\n                reader.readAsDataURL(blob);\n                reader.onloadend = function () {\n                    const base64data = reader.result;\n                    document.getElementById('cropped_image_data').value = base64data;\n                    // Submit the form\n                    document.querySelector('#profileImageModal form').submit();\n                }\n            }, 'image/png');\n        }\n    }\n\n    // Initialize Cropper when an image is selected\n    imageInput.addEventListener('change', function (e) {\n        const ratio = 1; // 1:1 aspect ratio for square images\n        croppingimg(e, ratio);\n    });\n});\n","/**\n * Draft Predictions JavaScript Module - Auto-save like Excel\n * \n * Handles instant auto-save functionality for draft predictions.\n * Changes are saved immediately when users make selections.\n */\n\nclass DraftPredictionsManager {\n    constructor() {\n        this.pendingSaves = new Map(); // Track pending save operations\n        this.saveTimeouts = new Map(); // Debounce saves\n        this.init();\n    }\n\n    init() {\n        this.bindEvents();\n        this.showAutoSaveStatus('saved');\n    }\n\n    bindEvents() {\n        // Auto-submit search form on input (with debouncing)\n        const searchInput = document.querySelector('input[name=\"search\"]');\n        if (searchInput) {\n            let searchTimeout;\n            searchInput.addEventListener('input', (e) => {\n                clearTimeout(searchTimeout);\n                searchTimeout = setTimeout(() => {\n                    this.submitFilterForm();\n                }, 500);\n            });\n        }\n\n        // Auto-submit on position filter change\n        const positionFilter = document.querySelector('select[name=\"position\"]');\n        if (positionFilter) {\n            positionFilter.addEventListener('change', (e) => {\n                this.submitFilterForm();\n            });\n        }\n\n        // Auto-save on any change to prediction fields\n        document.addEventListener('change', (e) => {\n            if (e.target.matches('.predicted-round-input, .confidence-input')) {\n                this.handleFieldChange(e.target);\n            }\n        });\n\n        // Auto-save notes with debouncing\n        document.addEventListener('input', (e) => {\n            if (e.target.matches('.notes-input')) {\n                this.handleNotesChange(e.target);\n            }\n        });\n\n        // Player image modal\n        document.addEventListener('click', (e) => {\n            if (e.target.classList.contains('player-avatar-clickable')) {\n                this.showPlayerImageModal(e.target);\n            }\n        });\n    }\n\n    handleFieldChange(input) {\n        const playerId = input.dataset.playerId;\n        this.autoSavePrediction(playerId);\n    }\n\n    handleNotesChange(input) {\n        const playerId = input.dataset.playerId;\n        \n        // Clear existing timeout for this player\n        if (this.saveTimeouts.has(playerId)) {\n            clearTimeout(this.saveTimeouts.get(playerId));\n        }\n\n        // Set new timeout for debounced save (500ms after user stops typing)\n        const timeoutId = setTimeout(() => {\n            this.autoSavePrediction(playerId);\n            this.saveTimeouts.delete(playerId);\n        }, 500);\n\n        this.saveTimeouts.set(playerId, timeoutId);\n    }\n\n    async autoSavePrediction(playerId) {\n        // Don't start new save if one is already pending for this player\n        if (this.pendingSaves.has(playerId)) {\n            return;\n        }\n\n        const values = this.getPlayerCurrentValues(playerId);\n        \n        // Only save if there's a predicted round\n        if (!values.predicted_round) {\n            this.updateRowAppearance(playerId, false);\n            return;\n        }\n\n        try {\n            this.pendingSaves.set(playerId, true);\n            this.showAutoSaveStatus('saving');\n            this.updateRowAppearance(playerId, 'saving');\n\n            await this.submitPrediction(playerId, values);\n            \n            this.updateRowAppearance(playerId, true);\n            this.showAutoSaveStatus('saved');\n\n        } catch (error) {\n            console.error('Auto-save failed for player', playerId, error);\n            this.updateRowAppearance(playerId, 'error');\n            this.showToast('error', `Failed to save prediction for ${this.getPlayerName(playerId)}`);\n        } finally {\n            this.pendingSaves.delete(playerId);\n        }\n    }\n\n    getPlayerCurrentValues(playerId) {\n        const row = document.querySelector(`tr[data-player-id=\"${playerId}\"]`);\n        if (!row) return {};\n\n        const roundInput = row.querySelector('.predicted-round-input');\n        const confidenceInput = row.querySelector('.confidence-input');\n        const notesInput = row.querySelector('.notes-input');\n\n        return {\n            predicted_round: roundInput ? roundInput.value : '',\n            confidence_level: confidenceInput ? confidenceInput.value : '',\n            notes: notesInput ? notesInput.value : ''\n        };\n    }\n\n    getPlayerName(playerId) {\n        const row = document.querySelector(`tr[data-player-id=\"${playerId}\"]`);\n        if (row) {\n            const nameElement = row.querySelector('.fw-medium');\n            return nameElement ? nameElement.textContent : `Player ${playerId}`;\n        }\n        return `Player ${playerId}`;\n    }\n\n    updateRowAppearance(playerId, status) {\n        const row = document.querySelector(`tr[data-player-id=\"${playerId}\"]`);\n        if (!row) return;\n\n        // Remove all status classes\n        row.classList.remove('table-success', 'table-warning', 'table-danger', 'is-saving', 'is-saved', 'is-error');\n\n        if (status === 'saving') {\n            row.classList.add('is-saving');\n        } else if (status === true) {\n            row.classList.add('is-saved');\n        } else if (status === 'error') {\n            row.classList.add('is-error');\n        }\n        // If status === false (no prediction), no special class\n    }\n\n    showAutoSaveStatus(status) {\n        const statusElement = document.getElementById('autoSaveStatus');\n        if (!statusElement) return;\n\n        const savedSpan = statusElement.querySelector('[data-status=\"saved\"]');\n        const savingSpan = statusElement.querySelector('[data-status=\"saving\"]');\n\n        // Remove active state from all status indicators\n        if (savedSpan) {\n            savedSpan.classList.remove('is-active');\n            savedSpan.classList.add('draft-status-saved');\n        }\n        if (savingSpan) {\n            savingSpan.classList.remove('is-active');\n            savingSpan.classList.add('draft-status-saving');\n        }\n\n        // Add active state to appropriate status indicator\n        if (status === 'saved' && savedSpan) {\n            savedSpan.classList.add('is-active');\n        } else if (status === 'saving' && savingSpan) {\n            savingSpan.classList.add('is-active');\n        }\n    }\n\n    async submitPrediction(playerId, values) {\n        try {\n            // Get current draft season ID from URL\n            const currentUrl = window.location.pathname;\n            const seasonId = currentUrl.split('/').pop();\n\n            const requestData = {\n                draft_season_id: parseInt(seasonId),\n                player_id: parseInt(playerId),\n                predicted_round: values.predicted_round ? parseInt(values.predicted_round) : null,\n                confidence_level: values.confidence_level ? parseInt(values.confidence_level) : null,\n                notes: values.notes || ''\n            };\n\n            // Must have a predicted round to save\n            if (!requestData.predicted_round) {\n                throw new Error('Predicted round is required');\n            }\n\n            const csrfToken = this.getCSRFToken();\n            console.log('Auto-saving prediction:', requestData);\n            console.log('CSRF token:', csrfToken);\n\n            const response = await fetch('/draft-predictions/predict', {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json',\n                    'X-CSRFToken': csrfToken\n                },\n                body: JSON.stringify(requestData)\n            });\n\n            if (!response.ok) {\n                throw new Error(`HTTP ${response.status}: ${response.statusText}`);\n            }\n\n            const result = await response.json();\n            console.log('Auto-save response:', result);\n\n            if (!result.success) {\n                throw new Error(result.message || 'Failed to save prediction');\n            }\n\n            return result;\n\n        } catch (error) {\n            console.error('Error submitting prediction:', error);\n            throw error;\n        }\n    }\n\n    submitFilterForm() {\n        const filterForm = document.getElementById('filterForm');\n        if (filterForm) {\n            filterForm.submit();\n        }\n    }\n\n    showToast(type, message) {\n        // Use SweetAlert2 if available, otherwise fall back to browser alert\n        if (typeof Swal !== 'undefined') {\n            const icon = type === 'success' ? 'success' : 'error';\n            const title = type === 'success' ? 'Success!' : 'Error';\n            \n            Swal.fire({\n                icon: icon,\n                title: title,\n                text: message,\n                timer: 3000,\n                showConfirmButton: false,\n                toast: true,\n                position: 'top-end'\n            });\n        } else {\n            // Only show errors in console to avoid spamming user\n            if (type === 'error') {\n                console.error(message);\n            }\n        }\n    }\n\n    getCSRFToken() {\n        // Get CSRF token from meta tag first (most reliable)\n        const tokenMeta = document.querySelector('meta[name=\"csrf-token\"]');\n        if (tokenMeta) {\n            const token = tokenMeta.getAttribute('content');\n            if (token && token.trim()) {\n                return token.trim();\n            }\n        }\n\n        // Fallback: get from form\n        const tokenInput = document.querySelector('input[name=\"csrf_token\"]');\n        if (tokenInput && tokenInput.value) {\n            return tokenInput.value.trim();\n        }\n\n        // Last resort: get from cookies\n        const cookies = document.cookie.split(';');\n        for (let cookie of cookies) {\n            const [name, value] = cookie.trim().split('=');\n            if (name === 'csrf_token' && value) {\n                return value.trim();\n            }\n        }\n\n        console.error('CSRF token not found');\n        return '';\n    }\n\n    showPlayerImageModal(imgElement) {\n        const playerName = imgElement.dataset.playerName;\n        const fullImageUrl = imgElement.dataset.fullImage;\n        \n        if (!fullImageUrl) {\n            console.log('No full image URL available for player:', playerName);\n            return;\n        }\n\n        // Get modal elements\n        const modal = document.getElementById('playerImageModal');\n        const modalImg = document.getElementById('playerImageModalImg');\n        const modalName = document.getElementById('playerImageModalName');\n        const modalLabel = document.getElementById('playerImageModalLabel');\n\n        if (!modal || !modalImg || !modalName || !modalLabel) {\n            console.error('Modal elements not found');\n            return;\n        }\n\n        // Set modal content\n        modalImg.src = fullImageUrl;\n        modalImg.alt = playerName;\n        modalName.textContent = playerName;\n        modalLabel.textContent = `${playerName} - Player Photo`;\n\n        // Show modal using Bootstrap 5\n        ModalManager.show(modal.id);\n\n        // Handle image load error\n        modalImg.onerror = function() {\n            modalImg.src = imgElement.src; // Fallback to thumbnail\n            console.log('Full image failed to load, using thumbnail');\n        };\n    }\n}\n\n// Utility functions for quick access\nwindow.DraftPredictions = {\n    // Quick prediction submission for specific player\n    setPrediction: function(playerId, round, confidence = null, notes = '') {\n        const row = document.querySelector(`tr[data-player-id=\"${playerId}\"]`);\n        if (row) {\n            const roundInput = row.querySelector('.predicted-round-input');\n            const confidenceInput = row.querySelector('.confidence-input');\n            const notesInput = row.querySelector('.notes-input');\n\n            if (roundInput) {\n                roundInput.value = round;\n                roundInput.dispatchEvent(new Event('change'));\n            }\n            if (confidence && confidenceInput) {\n                confidenceInput.value = confidence;\n                confidenceInput.dispatchEvent(new Event('change'));\n            }\n            if (notes && notesInput) {\n                notesInput.value = notes;\n                notesInput.dispatchEvent(new Event('input'));\n            }\n        }\n    },\n\n    // Bulk prediction helper\n    bulkSetRounds: function(roundMappings) {\n        Object.entries(roundMappings).forEach(([playerId, round]) => {\n            this.setPrediction(playerId, round);\n        });\n    }\n};\n\n// Initialize when DOM is ready\ndocument.addEventListener('DOMContentLoaded', function() {\n    if (document.getElementById('playersTable')) {\n        window.draftPredictionsManager = new DraftPredictionsManager();\n    }\n});\n","/**\n * ECS FC Schedule Management JavaScript\n * \n * This module handles all client-side functionality for ECS FC schedule management\n * including match creation, editing, calendar display, and RSVP handling.\n */\n\n// Global variables\nlet currentTeamId = null;\nlet calendar = null;\nlet currentMatches = [];\n\n// Initialize ECS FC schedule management\ndocument.addEventListener('DOMContentLoaded', function() {\n    initializeEcsFcSchedule();\n});\n\n/**\n * Initialize ECS FC schedule functionality\n */\nfunction initializeEcsFcSchedule() {\n    // Get team ID from page data\n    const teamData = document.getElementById('team-data');\n    if (teamData) {\n        currentTeamId = parseInt(teamData.dataset.teamId);\n    }\n\n    // Initialize components\n    if (currentTeamId) {\n        initializeCalendar();\n        ecsFcInitializeEventHandlers();\n        loadTeamMatches();\n    }\n}\n\n/**\n * Initialize event handlers for ECS FC schedule management\n */\nfunction ecsFcInitializeEventHandlers() {\n    // Create match button\n    const createMatchBtn = document.getElementById('create-match-btn');\n    if (createMatchBtn) {\n        createMatchBtn.addEventListener('click', showCreateMatchModal);\n    }\n\n    // Import matches button\n    const importMatchesBtn = document.getElementById('import-matches-btn');\n    if (importMatchesBtn) {\n        importMatchesBtn.addEventListener('click', showImportMatchesModal);\n    }\n\n    // Match form submission\n    const matchForm = document.getElementById('ecs-fc-match-form');\n    if (matchForm) {\n        matchForm.addEventListener('submit', handleMatchFormSubmit);\n    }\n\n    // Import form submission\n    const importForm = document.getElementById('ecs-fc-import-form');\n    if (importForm) {\n        importForm.addEventListener('submit', handleImportFormSubmit);\n    }\n\n    // RSVP form submissions\n    document.addEventListener('click', function(e) {\n        if (e.target.classList.contains('js-rsvp-btn')) {\n            handleRsvpResponse(e.target);\n        }\n        if (e.target.classList.contains('js-edit-match-btn')) {\n            ecsFcEditMatch(e.target.dataset.matchId);\n        }\n        if (e.target.classList.contains('js-delete-match-btn')) {\n            ecsFcDeleteMatch(e.target.dataset.matchId);\n        }\n        if (e.target.classList.contains('js-send-reminder-btn')) {\n            sendRsvpReminder(e.target.dataset.matchId);\n        }\n    });\n\n    // Real-time updates via WebSocket\n    if (typeof io !== 'undefined') {\n        const socket = io();\n        socket.on('rsvp_update', handleRsvpUpdate);\n        socket.on('match_update', handleMatchUpdate);\n    }\n}\n\n/**\n * Initialize FullCalendar for ECS FC matches\n */\nfunction initializeCalendar() {\n    const calendarEl = document.getElementById('ecs-fc-calendar');\n    if (!calendarEl) return;\n\n    calendar = new FullCalendar.Calendar(calendarEl, {\n        initialView: 'dayGridMonth',\n        headerToolbar: {\n            left: 'prev,next today',\n            center: 'title',\n            right: 'dayGridMonth,timeGridWeek,listWeek'\n        },\n        events: function(fetchInfo, successCallback, failureCallback) {\n            loadCalendarEvents(fetchInfo.start, fetchInfo.end, successCallback, failureCallback);\n        },\n        eventClick: function(info) {\n            showMatchDetails(info.event.id);\n        },\n        selectable: true,\n        select: function(selectInfo) {\n            showCreateMatchModal(selectInfo.start);\n        },\n        height: 'auto',\n        eventDisplay: 'block',\n        dayMaxEvents: 3\n    });\n\n    calendar.render();\n}\n\n/**\n * Load calendar events for date range\n */\nfunction loadCalendarEvents(start, end, successCallback, failureCallback) {\n    const startDate = start.toISOString().split('T')[0];\n    const endDate = end.toISOString().split('T')[0];\n\n    fetch(`/api/ecs-fc/teams/${currentTeamId}/matches/calendar?start_date=${startDate}&end_date=${endDate}`)\n        .then(response => response.json())\n        .then(data => {\n            if (data.success) {\n                successCallback(data.data.events);\n            } else {\n                console.error('Failed to load calendar events:', data.message);\n                failureCallback(data.message);\n            }\n        })\n        .catch(error => {\n            console.error('Error loading calendar events:', error);\n            failureCallback(error);\n        });\n}\n\n/**\n * Load team matches for list view\n */\nfunction loadTeamMatches(upcomingOnly = true) {\n    const url = `/api/ecs-fc/teams/${currentTeamId}/matches?upcoming_only=${upcomingOnly}`;\n    \n    fetch(url)\n        .then(response => response.json())\n        .then(data => {\n            if (data.success) {\n                currentMatches = data.data.matches;\n                renderMatchesList(currentMatches);\n            } else {\n                ecsFcShowAlert('error', 'Failed to load matches: ' + data.message);\n            }\n        })\n        .catch(error => {\n            console.error('Error loading matches:', error);\n            ecsFcShowAlert('error', 'Error loading matches');\n        });\n}\n\n/**\n * Render matches list\n */\nfunction renderMatchesList(matches) {\n    const container = document.getElementById('matches-list-container');\n    if (!container) return;\n\n    if (matches.length === 0) {\n        container.innerHTML = `\n            <div class=\"alert alert-info\">\n                <i class=\"fas fa-info-circle me-2\"></i>\n                No matches found. Create your first match using the \"Create Match\" button.\n            </div>\n        `;\n        return;\n    }\n\n    const matchesHtml = matches.map(match => createMatchCard(match)).join('');\n    container.innerHTML = matchesHtml;\n\n    // Load RSVP summaries for each match\n    matches.forEach(match => {\n        loadRsvpSummary(match.id);\n    });\n}\n\n/**\n * Create HTML card for a match\n */\nfunction createMatchCard(match) {\n    const matchDate = new Date(match.match_date + 'T' + match.match_time);\n    const isUpcoming = matchDate > new Date();\n    const statusBadge = getStatusBadge(match.status);\n    const homeAwayBadge = match.is_home_match\n        ? '<span class=\"badge bg-success match-location-home\">Home</span>'\n        : '<span class=\"badge bg-primary match-location-away\">Away</span>';\n\n    return `\n        <div class=\"card mb-3 js-match-card\" data-match-id=\"${match.id}\">\n            <div class=\"card-header d-flex justify-content-between align-items-center\">\n                <h6 class=\"mb-0\">\n                    <i class=\"fas fa-futbol me-2\"></i>\n                    ${match.team_name} vs ${match.opponent_name}\n                </h6>\n                <div>\n                    ${homeAwayBadge}\n                    ${statusBadge}\n                </div>\n            </div>\n            <div class=\"card-body\">\n                <div class=\"row\">\n                    <div class=\"col-md-6\">\n                        <p class=\"mb-1\"><strong>Date:</strong> ${ecsFcFormatDate(match.match_date)}</p>\n                        <p class=\"mb-1\"><strong>Time:</strong> ${formatTime(match.match_time)}</p>\n                        <p class=\"mb-1\"><strong>Location:</strong> ${match.location}</p>\n                        ${match.field_name ? `<p class=\"mb-1\"><strong>Field:</strong> ${match.field_name}</p>` : ''}\n                    </div>\n                    <div class=\"col-md-6\">\n                        <div class=\"js-rsvp-summary\" id=\"rsvp-summary-${match.id}\">\n                            <div class=\"spinner-border spinner-border-sm\" role=\"status\">\n                                <span class=\"visually-hidden\">Loading...</span>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n                ${match.notes ? `<div class=\"mt-2\"><strong>Notes:</strong> ${match.notes}</div>` : ''}\n                \n                <div class=\"mt-3 d-flex flex-wrap gap-2\">\n                    ${isUpcoming ? `\n                        <button class=\"btn btn-sm btn-success js-rsvp-btn\" data-match-id=\"${match.id}\" data-response=\"yes\">\n                            <i class=\"fas fa-check me-1\"></i>Yes\n                        </button>\n                        <button class=\"btn btn-sm btn-danger js-rsvp-btn\" data-match-id=\"${match.id}\" data-response=\"no\">\n                            <i class=\"fas fa-times me-1\"></i>No\n                        </button>\n                        <button class=\"btn btn-sm btn-warning js-rsvp-btn\" data-match-id=\"${match.id}\" data-response=\"maybe\">\n                            <i class=\"fas fa-question me-1\"></i>Maybe\n                        </button>\n                        <button class=\"btn btn-sm btn-info js-send-reminder-btn\" data-match-id=\"${match.id}\">\n                            <i class=\"fas fa-bell me-1\"></i>Send Reminder\n                        </button>\n                    ` : ''}\n\n                    <button class=\"btn btn-sm btn-outline-primary js-edit-match-btn\" data-match-id=\"${match.id}\">\n                        <i class=\"fas fa-edit me-1\"></i>Edit\n                    </button>\n                    <button class=\"btn btn-sm btn-outline-danger js-delete-match-btn\" data-match-id=\"${match.id}\">\n                        <i class=\"fas fa-trash me-1\"></i>Delete\n                    </button>\n                </div>\n            </div>\n        </div>\n    `;\n}\n\n/**\n * Get status badge HTML\n */\nfunction getStatusBadge(status) {\n    switch (status) {\n        case 'SCHEDULED':\n            return '<span class=\"badge bg-info match-status-scheduled\">Scheduled</span>';\n        case 'COMPLETED':\n            return '<span class=\"badge bg-success match-status-completed\">Completed</span>';\n        case 'CANCELLED':\n            return '<span class=\"badge bg-danger match-status-cancelled\">Cancelled</span>';\n        default:\n            return '<span class=\"badge bg-secondary match-status-unknown\">Unknown</span>';\n    }\n}\n\n/**\n * Load and display RSVP summary for a match\n */\nfunction loadRsvpSummary(matchId) {\n    fetch(`/api/ecs-fc/matches/${matchId}/rsvp`)\n        .then(response => response.json())\n        .then(data => {\n            if (data.success) {\n                renderRsvpSummary(matchId, data.data.rsvp_summary);\n            } else {\n                console.error('Failed to load RSVP summary:', data.message);\n            }\n        })\n        .catch(error => {\n            console.error('Error loading RSVP summary:', error);\n        });\n}\n\n/**\n * Render RSVP summary\n */\nfunction renderRsvpSummary(matchId, summary) {\n    const container = document.getElementById(`rsvp-summary-${matchId}`);\n    if (!container) return;\n\n    const total = summary.yes + summary.no + summary.maybe + summary.no_response;\n    const responseRate = total > 0 ? ((summary.yes + summary.no + summary.maybe) / total * 100).toFixed(0) : 0;\n\n    container.innerHTML = `\n        <div class=\"js-rsvp-counts\">\n            <small class=\"text-muted\">RSVP Status:</small>\n            <div class=\"d-flex justify-content-between mt-1\">\n                <span class=\"badge bg-success rsvp-status-yes\"> ${summary.yes}</span>\n                <span class=\"badge bg-danger rsvp-status-no\"> ${summary.no}</span>\n                <span class=\"badge bg-warning rsvp-status-maybe\">? ${summary.maybe}</span>\n                <span class=\"badge bg-secondary rsvp-status-none\">- ${summary.no_response}</span>\n            </div>\n            <small class=\"text-muted\">${responseRate}% responded</small>\n        </div>\n    `;\n}\n\n/**\n * Show create match modal\n */\nfunction showCreateMatchModal(selectedDate = null) {\n    const modal = document.getElementById('createMatchModal');\n    if (!modal) return;\n\n    // Reset form\n    const form = document.getElementById('ecs-fc-match-form');\n    if (form) {\n        form.reset();\n        \n        // Set default date if provided\n        if (selectedDate) {\n            const dateInput = form.querySelector('[name=\"match_date\"]');\n            if (dateInput) {\n                dateInput.value = selectedDate.toISOString().split('T')[0];\n            }\n        }\n    }\n\n    // Show modal\n    ModalManager.show(modal.id);\n}\n\n/**\n * Handle match form submission\n */\nfunction handleMatchFormSubmit(e) {\n    e.preventDefault();\n    \n    const form = e.target;\n    const formData = new FormData(form);\n    const matchData = Object.fromEntries(formData.entries());\n    \n    // Convert boolean fields\n    matchData.is_home_match = formData.get('is_home_match') === 'on';\n    matchData.team_id = currentTeamId;\n\n    // Create or update match\n    const matchId = form.dataset.matchId;\n    const url = matchId \n        ? `/api/ecs-fc/matches/${matchId}`\n        : '/api/ecs-fc/matches';\n    const method = matchId ? 'PUT' : 'POST';\n\n    fetch(url, {\n        method: method,\n        headers: {\n            'Content-Type': 'application/json',\n        },\n        body: JSON.stringify(matchData)\n    })\n    .then(response => response.json())\n    .then(data => {\n        if (data.success) {\n            ecsFcShowAlert('success', data.message);\n\n            // Close modal\n            const modal = bootstrap.Modal.getInstance(document.getElementById('createMatchModal'));\n            if (modal) modal.hide();\n\n            // Refresh displays\n            loadTeamMatches();\n            if (calendar) calendar.refetchEvents();\n        } else {\n            ecsFcShowAlert('error', 'Failed to save match: ' + data.message);\n        }\n    })\n    .catch(error => {\n        console.error('Error saving match:', error);\n        ecsFcShowAlert('error', 'Error saving match');\n    });\n}\n\n/**\n * Edit a match\n */\nfunction ecsFcEditMatch(matchId) {\n    // Find match data\n    const match = currentMatches.find(m => m.id == matchId);\n    if (!match) return;\n\n    // Populate form\n    const form = document.getElementById('ecs-fc-match-form');\n    if (!form) return;\n\n    form.dataset.matchId = matchId;\n    form.querySelector('[name=\"opponent_name\"]').value = match.opponent_name;\n    form.querySelector('[name=\"match_date\"]').value = match.match_date;\n    form.querySelector('[name=\"match_time\"]').value = match.match_time;\n    form.querySelector('[name=\"location\"]').value = match.location;\n    form.querySelector('[name=\"field_name\"]').value = match.field_name || '';\n    form.querySelector('[name=\"is_home_match\"]').checked = match.is_home_match;\n    form.querySelector('[name=\"notes\"]').value = match.notes || '';\n\n    // Update modal title\n    const modalTitle = document.querySelector('#createMatchModal .modal-title');\n    if (modalTitle) {\n        modalTitle.textContent = 'Edit Match';\n    }\n\n    // Show modal\n    ModalManager.show('createMatchModal');\n}\n\n/**\n * Delete a match\n */\nfunction ecsFcDeleteMatch(matchId) {\n    if (!confirm('Are you sure you want to delete this match? This action cannot be undone.')) {\n        return;\n    }\n\n    fetch(`/api/ecs-fc/matches/${matchId}`, {\n        method: 'DELETE'\n    })\n    .then(response => response.json())\n    .then(data => {\n        if (data.success) {\n            ecsFcShowAlert('success', data.message);\n            loadTeamMatches();\n            if (calendar) calendar.refetchEvents();\n        } else {\n            ecsFcShowAlert('error', 'Failed to delete match: ' + data.message);\n        }\n    })\n    .catch(error => {\n        console.error('Error deleting match:', error);\n        ecsFcShowAlert('error', 'Error deleting match');\n    });\n}\n\n/**\n * Handle RSVP response\n */\nfunction handleRsvpResponse(button) {\n    const matchId = button.dataset.matchId;\n    const response = button.dataset.response;\n\n    fetch(`/api/ecs-fc/matches/${matchId}/rsvp`, {\n        method: 'POST',\n        headers: {\n            'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({ response: response })\n    })\n    .then(response => response.json())\n    .then(data => {\n        if (data.success) {\n            ecsFcShowAlert('success', 'RSVP updated successfully');\n            loadRsvpSummary(matchId);\n        } else {\n            ecsFcShowAlert('error', 'Failed to update RSVP: ' + data.message);\n        }\n    })\n    .catch(error => {\n        console.error('Error updating RSVP:', error);\n        ecsFcShowAlert('error', 'Error updating RSVP');\n    });\n}\n\n/**\n * Send RSVP reminder\n */\nfunction sendRsvpReminder(matchId) {\n    fetch(`/api/ecs-fc/matches/${matchId}/remind`, {\n        method: 'POST'\n    })\n    .then(response => response.json())\n    .then(data => {\n        if (data.success) {\n            ecsFcShowAlert('success', data.message);\n        } else {\n            ecsFcShowAlert('error', 'Failed to send reminders: ' + data.message);\n        }\n    })\n    .catch(error => {\n        console.error('Error sending reminders:', error);\n        ecsFcShowAlert('error', 'Error sending reminders');\n    });\n}\n\n/**\n * Show import matches modal\n */\nfunction showImportMatchesModal() {\n    const modal = document.getElementById('importMatchesModal');\n    if (!modal) return;\n\n    ModalManager.show(modal.id);\n}\n\n/**\n * Handle import form submission\n */\nfunction handleImportFormSubmit(e) {\n    e.preventDefault();\n    \n    const csvInput = document.getElementById('csv-matches');\n    const csvText = csvInput.value.trim();\n\n    if (!csvText) {\n        ecsFcShowAlert('error', 'Please enter CSV data');\n        return;\n    }\n\n    // Parse CSV\n    const matches = parseMatchesCsv(csvText);\n    if (matches.length === 0) {\n        ecsFcShowAlert('error', 'No valid matches found in CSV data');\n        return;\n    }\n\n    // Import matches\n    fetch('/api/ecs-fc/matches/import', {\n        method: 'POST',\n        headers: {\n            'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({\n            team_id: currentTeamId,\n            matches: matches\n        })\n    })\n    .then(response => response.json())\n    .then(data => {\n        if (data.success) {\n            ecsFcShowAlert('success', data.message);\n\n            // Close modal\n            const modal = bootstrap.Modal.getInstance(document.getElementById('importMatchesModal'));\n            if (modal) modal.hide();\n\n            // Refresh displays\n            loadTeamMatches();\n            if (calendar) calendar.refetchEvents();\n        } else {\n            ecsFcShowAlert('error', 'Import failed: ' + data.message);\n        }\n    })\n    .catch(error => {\n        console.error('Error importing matches:', error);\n        ecsFcShowAlert('error', 'Error importing matches');\n    });\n}\n\n/**\n * Parse CSV data into matches array\n */\nfunction parseMatchesCsv(csvText) {\n    const lines = csvText.split('\\n').map(line => line.trim()).filter(line => line);\n    const matches = [];\n\n    // Skip header if present\n    let startIndex = 0;\n    if (lines[0] && lines[0].toLowerCase().includes('opponent')) {\n        startIndex = 1;\n    }\n\n    for (let i = startIndex; i < lines.length; i++) {\n        const fields = lines[i].split(',').map(field => field.trim().replace(/^[\"']|[\"']$/g, ''));\n        \n        if (fields.length >= 5) {\n            const match = {\n                opponent_name: fields[0],\n                match_date: fields[1],\n                match_time: fields[2],\n                location: fields[3],\n                is_home_match: fields[4].toLowerCase() === 'home' || fields[4].toLowerCase() === 'true',\n                field_name: fields[5] || null,\n                notes: fields[6] || null\n            };\n            \n            // Validate required fields\n            if (match.opponent_name && match.match_date && match.match_time && match.location) {\n                matches.push(match);\n            }\n        }\n    }\n\n    return matches;\n}\n\n/**\n * Handle real-time RSVP updates\n */\nfunction handleRsvpUpdate(data) {\n    if (data.match_type === 'ecs_fc' && data.match_id) {\n        loadRsvpSummary(data.match_id);\n    }\n}\n\n/**\n * Handle real-time match updates\n */\nfunction handleMatchUpdate(data) {\n    if (data.match_type === 'ecs_fc') {\n        loadTeamMatches();\n        if (calendar) calendar.refetchEvents();\n    }\n}\n\n/**\n * Utility functions\n */\nfunction ecsFcFormatDate(dateString) {\n    return new Date(dateString).toLocaleDateString('en-US', {\n        weekday: 'short',\n        year: 'numeric',\n        month: 'short',\n        day: 'numeric'\n    });\n}\n\nfunction formatTime(timeString) {\n    const [hours, minutes] = timeString.split(':');\n    const date = new Date();\n    date.setHours(parseInt(hours), parseInt(minutes));\n    return date.toLocaleTimeString('en-US', {\n        hour: 'numeric',\n        minute: '2-digit',\n        hour12: true\n    });\n}\n\nfunction ecsFcShowAlert(type, message) {\n    // Create alert element\n    const alertDiv = document.createElement('div');\n    alertDiv.className = `alert alert-${type} alert-dismissible fade show`;\n    alertDiv.classList.add('js-alert-message');\n    alertDiv.innerHTML = `\n        ${message}\n        <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"alert\"></button>\n    `;\n\n    // Find alerts container or create one\n    let container = document.getElementById('alerts-container');\n    if (!container) {\n        container = document.createElement('div');\n        container.id = 'alerts-container';\n        container.classList.add('js-alerts-container', 'u-fixed-top', 'u-z-index-9999');\n        document.body.appendChild(container);\n    }\n\n    // Add alert\n    container.appendChild(alertDiv);\n\n    // Auto-dismiss after 5 seconds\n    setTimeout(() => {\n        if (alertDiv.parentNode) {\n            alertDiv.remove();\n        }\n    }, 5000);\n}\n\n// Export functions for global access\nwindow.EcsFcSchedule = {\n    loadTeamMatches,\n    showCreateMatchModal,\n    editMatch: ecsFcEditMatch,\n    deleteMatch: ecsFcDeleteMatch,\n    sendRsvpReminder\n};\n","/**\n * Live Match Reporting Client\n * \n * This module provides client-side functionality for the multi-user live match \n * reporting system. It handles WebSocket communication, UI updates, and \n * synchronization of match data between multiple reporters.\n */\n\n// Initialize SocketIO with the live reporting namespace\nlet socket;\nlet matchId;\nlet teamId;\nlet matchState;\nlet activeReporters = [];\nlet playerShifts = [];\nlet timerInterval;\nlet isTimerRunning = false;\n\n/**\n * Initialize the live reporting module\n * @param {Object} config - Configuration options\n * @param {number} config.matchId - ID of the match being reported\n * @param {number} config.teamId - ID of the team the user is reporting for\n * @param {string} config.socketUrl - WebSocket server URL (optional)\n */\nfunction initLiveReporting(config) {\n    matchId = config.matchId;\n    teamId = config.teamId;\n    \n    // Connect to SocketIO server\n    const socketUrl = config.socketUrl || window.location.origin;\n    socket = io(socketUrl + '/live');\n    \n    // Setup event listeners\n    setupSocketListeners();\n    setupUIListeners();\n    \n    // Join the match room when connected\n    socket.on('connect', () => {\n        // Connected to live reporting server\n        joinMatch();\n    });\n}\n\n/**\n * Set up all socket event listeners\n */\nfunction setupSocketListeners() {\n    // Connection events\n    socket.on('disconnect', () => {\n        // Disconnected from live reporting server\n        liveReportingShowNotification('Connection lost. Attempting to reconnect...', 'warning');\n        \n        // Stop the timer if it's running\n        if (timerInterval) {\n            clearInterval(timerInterval);\n            timerInterval = null;\n        }\n    });\n    \n    socket.on('error', (error) => {\n        // Socket error\n        liveReportingShowNotification('Error: ' + error.message, 'danger');\n    });\n    \n    // Match state events\n    socket.on('match_state', (state) => {\n        // Received match state\n        matchState = state;\n        updateMatchUI(state);\n    });\n    \n    socket.on('active_reporters', (reporters) => {\n        // Active reporters\n        activeReporters = reporters;\n        updateReportersUI(reporters);\n    });\n    \n    socket.on('player_shifts', (shifts) => {\n        // Player shifts\n        playerShifts = shifts;\n        updateShiftsUI(shifts);\n    });\n    \n    // Live updates\n    socket.on('reporter_joined', (data) => {\n        // Reporter joined\n        liveReportingShowNotification(`${data.username} joined as a reporter for ${data.team_name}`, 'info');\n        \n        // Add to active reporters if not already present\n        if (!activeReporters.find(r => r.user_id === data.user_id)) {\n            activeReporters.push(data);\n            updateReportersUI(activeReporters);\n        }\n    });\n    \n    socket.on('reporter_left', (data) => {\n        // Reporter left\n        liveReportingShowNotification(`${data.username} is no longer reporting`, 'info');\n        \n        // Remove from active reporters\n        activeReporters = activeReporters.filter(r => r.user_id !== data.user_id);\n        updateReportersUI(activeReporters);\n    });\n    \n    socket.on('score_updated', (data) => {\n        // Score updated\n        \n        // Update match state\n        if (matchState) {\n            matchState.home_score = data.home_score;\n            matchState.away_score = data.away_score;\n            updateScoreUI(data.home_score, data.away_score);\n        }\n        \n        liveReportingShowNotification(`Score updated to ${data.home_score}-${data.away_score} by ${data.updated_by_name}`, 'success');\n    });\n\n    socket.on('timer_updated', (data) => {\n        // Timer updated\n\n        // Update match state\n        if (matchState) {\n            matchState.elapsed_seconds = data.elapsed_seconds;\n            matchState.timer_running = data.is_running;\n            if (data.period) {\n                matchState.period = data.period;\n            }\n\n            updateTimerUI(data.elapsed_seconds, data.is_running, data.period);\n        }\n\n        liveReportingShowNotification(`Timer updated by ${data.updated_by_name}`, 'info');\n    });\n    \n    socket.on('event_added', (data) => {\n        // Event added\n        const event = data.event;\n        \n        // Add to match events\n        if (matchState && matchState.events) {\n            matchState.events.push(event);\n            updateEventsUI(matchState.events);\n        }\n        \n        let eventMessage = `${event.event_type}`;\n        if (event.player_name) {\n            eventMessage += ` by ${event.player_name}`;\n        }\n        if (event.team_name) {\n            eventMessage += ` (${event.team_name})`;\n        }\n        if (event.minute) {\n            eventMessage += ` at ${event.minute}'`;\n        }\n        \n        liveReportingShowNotification(`New event: ${eventMessage}`, 'success');\n    });\n\n    socket.on('player_shift_updated', (data) => {\n        // Player shift updated\n\n        // Only process shift updates for our team\n        if (data.team_id === teamId) {\n            // Update the shift if it exists, or add a new one\n            const existingShiftIndex = playerShifts.findIndex(s => s.player_id === data.player_id);\n\n            if (existingShiftIndex >= 0) {\n                playerShifts[existingShiftIndex].is_active = data.is_active;\n                playerShifts[existingShiftIndex].last_updated = new Date().toISOString();\n            } else {\n                playerShifts.push({\n                    player_id: data.player_id,\n                    player_name: data.player_name,\n                    is_active: data.is_active,\n                    last_updated: new Date().toISOString()\n                });\n            }\n\n            updateShiftsUI(playerShifts);\n            liveReportingShowNotification(`Player ${data.player_name} shift ${data.is_active ? 'started' : 'ended'}`, 'info');\n        }\n    });\n    \n    socket.on('report_submitted', (data) => {\n        // Report submitted\n        \n        // Update match state\n        if (matchState) {\n            matchState.report_submitted = true;\n            matchState.report_submitted_by = data.submitted_by;\n            updateMatchStatusUI('completed');\n        }\n        \n        liveReportingShowNotification(`Final report submitted by ${data.submitted_by_name}`, 'success');\n\n        // Disable reporting controls\n        disableReportingControls();\n\n        // Show completion message\n        $('#reportCompleteMessage').removeClass('u-hidden');\n    });\n\n    socket.on('report_submission_error', (data) => {\n        // Report submission error\n        liveReportingShowNotification(`Error submitting report: ${data.message}`, 'danger');\n    });\n}\n\n/**\n * Set up UI event listeners\n */\nfunction setupUIListeners() {\n    // Score controls\n    $('#increaseHomeScore').on('click', function() {\n        if (!matchState) return;\n        \n        const newScore = matchState.home_score + 1;\n        updateScore(newScore, matchState.away_score);\n    });\n    \n    $('#decreaseHomeScore').on('click', function() {\n        if (!matchState || matchState.home_score <= 0) return;\n        \n        const newScore = matchState.home_score - 1;\n        updateScore(newScore, matchState.away_score);\n    });\n    \n    $('#increaseAwayScore').on('click', function() {\n        if (!matchState) return;\n        \n        const newScore = matchState.away_score + 1;\n        updateScore(matchState.home_score, newScore);\n    });\n    \n    $('#decreaseAwayScore').on('click', function() {\n        if (!matchState || matchState.away_score <= 0) return;\n        \n        const newScore = matchState.away_score - 1;\n        updateScore(matchState.home_score, newScore);\n    });\n    \n    // Timer controls\n    $('#startStopTimer').on('click', function() {\n        if (!matchState) return;\n        \n        const newTimerState = !isTimerRunning;\n        toggleTimer(newTimerState);\n    });\n    \n    $('#resetTimer').on('click', function() {\n        if (!matchState) return;\n        \n        // Ask for confirmation before resetting\n        if (confirm('Are you sure you want to reset the timer to 0?')) {\n            updateTimer(0, isTimerRunning);\n        }\n    });\n    \n    // Period selection\n    $('#periodSelector').on('change', function() {\n        if (!matchState) return;\n        \n        const newPeriod = $(this).val();\n        updatePeriod(newPeriod);\n    });\n    \n    // Event form\n    $('#addEventForm').on('submit', function(e) {\n        e.preventDefault();\n        \n        const eventType = $('#eventType').val();\n        const eventTeamId = $('#eventTeam').val();\n        const eventPlayerId = $('#eventPlayer').val();\n        const eventMinute = $('#eventMinute').val();\n        \n        addEvent({\n            event_type: eventType,\n            team_id: parseInt(eventTeamId),\n            player_id: eventPlayerId ? parseInt(eventPlayerId) : null,\n            minute: eventMinute ? parseInt(eventMinute) : null,\n            period: matchState ? matchState.period : null\n        });\n        \n        // Reset form\n        this.reset();\n        \n        // Update player dropdown based on team selection\n        const defaultTeam = $('#eventTeam option:first').val();\n        updatePlayerDropdown(defaultTeam);\n    });\n    \n    // Team selection changes player dropdown\n    $('#eventTeam').on('change', function() {\n        const selectedTeamId = $(this).val();\n        updatePlayerDropdown(selectedTeamId);\n    });\n    \n    // Player shift toggles\n    $('#playerShiftsContainer').on('click', '.js-player-shift-toggle', function() {\n        const playerId = $(this).data('player-id');\n        const isActive = $(this).data('active') !== true;\n\n        // Toggle the active state\n        togglePlayerShift(playerId, isActive);\n    });\n    \n    // Submit report button\n    $('#submitReportBtn').on('click', function() {\n        if (!matchState) return;\n        \n        // Ask for confirmation\n        if (confirm('Are you sure you want to submit the final match report? This action cannot be undone.')) {\n            submitFinalReport();\n        }\n    });\n    \n    // Event type changes UI elements shown\n    $('#eventType').on('change', function() {\n        const eventType = $(this).val();\n\n        // Show/hide player selection based on event type\n        if (['GOAL', 'YELLOW_CARD', 'RED_CARD', 'SUBSTITUTION'].includes(eventType)) {\n            $('#playerSelectGroup').removeClass('u-hidden');\n        } else {\n            $('#playerSelectGroup').addClass('u-hidden');\n        }\n\n        // Show additional fields for substitutions\n        if (eventType === 'SUBSTITUTION') {\n            $('#substitutionFields').removeClass('u-hidden');\n        } else {\n            $('#substitutionFields').addClass('u-hidden');\n        }\n    });\n}\n\n/**\n * Join a match room\n */\nfunction joinMatch() {\n    socket.emit('join_match', {\n        match_id: matchId,\n        team_id: teamId\n    });\n}\n\n/**\n * Leave a match room\n */\nfunction leaveMatch() {\n    socket.emit('leave_match', {\n        match_id: matchId\n    });\n}\n\n/**\n * Update the match score\n */\nfunction updateScore(homeScore, awayScore) {\n    socket.emit('update_score', {\n        match_id: matchId,\n        home_score: homeScore,\n        away_score: awayScore\n    });\n}\n\n/**\n * Update the match timer\n */\nfunction updateTimer(elapsedSeconds, isRunning, period = null) {\n    const data = {\n        match_id: matchId,\n        elapsed_seconds: elapsedSeconds,\n        is_running: isRunning\n    };\n    \n    if (period) {\n        data.period = period;\n    }\n    \n    socket.emit('update_timer', data);\n}\n\n/**\n * Update the match period\n */\nfunction updatePeriod(period) {\n    // Use the timer update event to also update the period\n    if (matchState) {\n        updateTimer(matchState.elapsed_seconds, isTimerRunning, period);\n    }\n}\n\n/**\n * Toggle the timer state\n */\nfunction toggleTimer(shouldRun) {\n    if (!matchState) return;\n    \n    if (shouldRun !== isTimerRunning) {\n        isTimerRunning = shouldRun;\n        \n        if (shouldRun) {\n            // Start the timer locally\n            startTimerInterval();\n            \n            // Update the server\n            updateTimer(matchState.elapsed_seconds, true);\n            \n            // Update UI\n            $('#startStopTimer').text('Pause Timer');\n            $('#startStopTimer').removeClass('timer-stopped').addClass('timer-running');\n        } else {\n            // Stop the timer locally\n            if (timerInterval) {\n                clearInterval(timerInterval);\n                timerInterval = null;\n            }\n\n            // Update the server\n            updateTimer(matchState.elapsed_seconds, false);\n\n            // Update UI\n            $('#startStopTimer').text('Start Timer');\n            $('#startStopTimer').removeClass('timer-running').addClass('timer-stopped');\n        }\n    }\n}\n\n/**\n * Start the local timer interval\n */\nfunction startTimerInterval() {\n    if (timerInterval) {\n        clearInterval(timerInterval);\n    }\n    \n    // Update every second\n    timerInterval = setInterval(() => {\n        if (matchState && isTimerRunning) {\n            matchState.elapsed_seconds++;\n            updateTimerDisplay(matchState.elapsed_seconds);\n        }\n    }, 1000);\n}\n\n/**\n * Add a match event\n */\nfunction addEvent(eventData) {\n    socket.emit('add_event', {\n        match_id: matchId,\n        event: eventData\n    });\n}\n\n/**\n * Toggle a player's shift status\n */\nfunction togglePlayerShift(playerId, isActive) {\n    socket.emit('update_player_shift', {\n        match_id: matchId,\n        player_id: playerId,\n        is_active: isActive,\n        team_id: teamId\n    });\n}\n\n/**\n * Submit the final match report\n */\nfunction submitFinalReport() {\n    const notes = $('#matchNotes').val();\n    \n    socket.emit('submit_report', {\n        match_id: matchId,\n        report_data: {\n            notes: notes\n        }\n    });\n}\n\n/**\n * Update the match UI with current state\n */\nfunction updateMatchUI(state) {\n    // Update score\n    updateScoreUI(state.home_score, state.away_score);\n    \n    // Update timer\n    updateTimerUI(state.elapsed_seconds, state.timer_running, state.period);\n    \n    // Update events\n    updateEventsUI(state.events);\n    \n    // Update match status\n    updateMatchStatusUI(state.status);\n    \n    // Update team names\n    $('#homeTeamName').text(state.home_team_name);\n    $('#awayTeamName').text(state.away_team_name);\n    \n    // If report is already submitted, disable controls\n    if (state.report_submitted) {\n        disableReportingControls();\n        $('#reportCompleteMessage').removeClass('u-hidden');\n    }\n}\n\n/**\n * Update the score display\n */\nfunction updateScoreUI(homeScore, awayScore) {\n    $('#homeScore').text(homeScore);\n    $('#awayScore').text(awayScore);\n}\n\n/**\n * Update the timer display\n */\nfunction updateTimerUI(elapsedSeconds, isRunning, period) {\n    // Update period selector\n    if (period && $('#periodSelector').val() !== period) {\n        $('#periodSelector').val(period);\n    }\n    \n    // Update timer display\n    updateTimerDisplay(elapsedSeconds);\n    \n    // Update timer state\n    if (isRunning !== isTimerRunning) {\n        toggleTimer(isRunning);\n    }\n}\n\n/**\n * Update the timer display format\n */\nfunction updateTimerDisplay(elapsedSeconds) {\n    const minutes = Math.floor(elapsedSeconds / 60);\n    const seconds = elapsedSeconds % 60;\n    \n    $('#timerDisplay').text(\n        `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`\n    );\n}\n\n/**\n * Update the events list\n */\nfunction updateEventsUI(events) {\n    const $eventsList = $('#eventsList');\n    $eventsList.empty();\n\n    if (!events || events.length === 0) {\n        $eventsList.append('<li class=\"list-group-item\">No events recorded yet</li>');\n        return;\n    }\n\n    // Sort events by timestamp (most recent first)\n    events.sort((a, b) => new Date(b.timestamp) - new Date(a.timestamp));\n\n    events.forEach(event => {\n        let eventText = `${event.event_type}`;\n        if (event.player_name) {\n            eventText += ` - ${event.player_name}`;\n        }\n        if (event.team_name) {\n            eventText += ` (${event.team_name})`;\n        }\n        if (event.minute) {\n            eventText += ` - ${event.minute}'`;\n        }\n\n        let eventClass = 'list-group-item js-event-item';\n        switch (event.event_type) {\n            case 'GOAL':\n                eventClass += ' event-type-goal';\n                break;\n            case 'YELLOW_CARD':\n                eventClass += ' event-type-yellow-card';\n                break;\n            case 'RED_CARD':\n                eventClass += ' event-type-red-card';\n                break;\n        }\n\n        $eventsList.append(`<li class=\"${eventClass}\">${eventText}</li>`);\n    });\n}\n\n/**\n * Update the match status display\n */\nfunction updateMatchStatusUI(status) {\n    $('#matchStatus').text(status);\n\n    let statusClass = 'badge js-match-status-badge ';\n    switch (status) {\n        case 'in_progress':\n            statusClass += 'match-status-in-progress';\n            break;\n        case 'completed':\n            statusClass += 'match-status-completed';\n            break;\n        case 'canceled':\n            statusClass += 'match-status-canceled';\n            break;\n        default:\n            statusClass += 'match-status-unknown';\n    }\n\n    $('#matchStatusBadge').attr('class', statusClass);\n}\n\n/**\n * Update the active reporters list\n */\nfunction updateReportersUI(reporters) {\n    const $reportersList = $('#reportersList');\n    $reportersList.empty();\n\n    if (!reporters || reporters.length === 0) {\n        $reportersList.append('<li class=\"list-group-item\">No other reporters</li>');\n        return;\n    }\n\n    reporters.forEach(reporter => {\n        const lastActive = new Date(reporter.last_active);\n        const timeSince = timeSinceLastActive(lastActive);\n\n        $reportersList.append(`\n            <li class=\"list-group-item js-reporter-item d-flex justify-content-between align-items-center\">\n                ${reporter.username} (${reporter.team_name})\n                <span class=\"badge bg-secondary reporter-time-badge\">${timeSince}</span>\n            </li>\n        `);\n    });\n}\n\n/**\n * Format time since last active\n */\nfunction timeSinceLastActive(lastActive) {\n    const now = new Date();\n    const diffMs = now - lastActive;\n    const diffSec = Math.floor(diffMs / 1000);\n    \n    if (diffSec < 60) {\n        return 'just now';\n    } else if (diffSec < 3600) {\n        const mins = Math.floor(diffSec / 60);\n        return `${mins}m ago`;\n    } else {\n        const hours = Math.floor(diffSec / 3600);\n        return `${hours}h ago`;\n    }\n}\n\n/**\n * Update the player shifts display\n */\nfunction updateShiftsUI(shifts) {\n    const $shiftsContainer = $('#playerShiftsContainer');\n    $shiftsContainer.empty();\n    \n    if (!shifts || shifts.length === 0) {\n        $shiftsContainer.append('<p>No player shifts recorded</p>');\n        return;\n    }\n    \n    // Group shifts by active/inactive\n    const activeShifts = shifts.filter(s => s.is_active);\n    const inactiveShifts = shifts.filter(s => !s.is_active);\n    \n    // Add active players section\n    $shiftsContainer.append('<h5 class=\"mt-3\">Active Players</h5>');\n    if (activeShifts.length === 0) {\n        $shiftsContainer.append('<p>No active players</p>');\n    } else {\n        const $activeList = $('<div class=\"row\"></div>');\n\n        activeShifts.forEach(shift => {\n            $activeList.append(`\n                <div class=\"col-md-6 mb-2\">\n                    <button class=\"btn btn-success w-100 js-player-shift-toggle\"\n                            data-player-id=\"${shift.player_id}\"\n                            data-active=\"true\">\n                        ${shift.player_name}\n                    </button>\n                </div>\n            `);\n        });\n\n        $shiftsContainer.append($activeList);\n    }\n\n    // Add inactive players section\n    $shiftsContainer.append('<h5 class=\"mt-3\">Available Players</h5>');\n    if (inactiveShifts.length === 0) {\n        $shiftsContainer.append('<p>No available players</p>');\n    } else {\n        const $inactiveList = $('<div class=\"row\"></div>');\n\n        inactiveShifts.forEach(shift => {\n            $inactiveList.append(`\n                <div class=\"col-md-6 mb-2\">\n                    <button class=\"btn btn-outline-secondary w-100 js-player-shift-toggle\"\n                            data-player-id=\"${shift.player_id}\"\n                            data-active=\"false\">\n                        ${shift.player_name}\n                    </button>\n                </div>\n            `);\n        });\n\n        $shiftsContainer.append($inactiveList);\n    }\n}\n\n/**\n * Update the player dropdown based on selected team\n */\nfunction updatePlayerDropdown(teamId) {\n    if (!matchState) return;\n    \n    const $playerSelect = $('#eventPlayer');\n    $playerSelect.empty();\n    \n    // Add empty option\n    $playerSelect.append('<option value=\"\">Select Player</option>');\n    \n    // Determine which team's players to show\n    let players = [];\n    if (parseInt(teamId) === matchState.home_team_id) {\n        // Show home team players\n        players = $('#homeTeamPlayers').data('players') || [];\n    } else if (parseInt(teamId) === matchState.away_team_id) {\n        // Show away team players\n        players = $('#awayTeamPlayers').data('players') || [];\n    }\n    \n    // Add players to dropdown\n    players.forEach(player => {\n        $playerSelect.append(`<option value=\"${player.id}\">${player.name}</option>`);\n    });\n}\n\n/**\n * Disable all reporting controls when report is submitted\n */\nfunction disableReportingControls() {\n    // Disable score controls\n    $('#increaseHomeScore, #decreaseHomeScore, #increaseAwayScore, #decreaseAwayScore').prop('disabled', true);\n    \n    // Disable timer controls\n    $('#startStopTimer, #resetTimer, #periodSelector').prop('disabled', true);\n    \n    // Disable event form\n    $('#addEventForm :input').prop('disabled', true);\n    \n    // Disable player shifts\n    $('.js-player-shift-toggle').prop('disabled', true);\n    \n    // Disable submit report button\n    $('#submitReportBtn').prop('disabled', true);\n    \n    // Stop timer if running\n    if (timerInterval) {\n        clearInterval(timerInterval);\n        timerInterval = null;\n        isTimerRunning = false;\n    }\n}\n\n/**\n * Show a notification message\n */\nfunction liveReportingShowNotification(message, type = 'info') {\n    const $notifications = $('#notifications');\n    \n    // Create notification element\n    const $notification = $(`\n        <div class=\"alert alert-${type} alert-dismissible fade show\" role=\"alert\">\n            ${message}\n            <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"alert\" aria-label=\"Close\"></button>\n        </div>\n    `);\n    \n    // Add to notifications container\n    $notifications.append($notification);\n    \n    // Auto-remove after 5 seconds\n    setTimeout(() => {\n        $notification.alert('close');\n    }, 5000);\n}\n\n// Export module functions\nwindow.LiveReporting = {\n    init: initLiveReporting,\n    join: joinMatch,\n    leave: leaveMatch\n};\n","/**\n * ============================================================================\n * ECS FC Schedule Management\n * ============================================================================\n *\n * Handles all interactions for the ECS FC schedule management page including:\n * - Bulk match generation\n * - Single week/match operations\n * - Modal interactions\n * - Event delegation for dynamic content\n *\n * Dependencies:\n * - ModalManager (from modal-helpers.js)\n * - Bootstrap 5.x\n *\n * ============================================================================\n */\n\nclass ECSFCScheduleManager {\n    constructor() {\n        this.leagues = [];\n        this.csrfToken = '';\n        this.init();\n    }\n\n    init() {\n        document.addEventListener('DOMContentLoaded', () => {\n            // Get leagues data from page\n            this.leagues = window.leagues || [];\n            this.csrfToken = document.querySelector('meta[name=\"csrf-token\"]')?.content ||\n                            document.querySelector('input[name=\"csrf_token\"]')?.value || '';\n\n            // Setup event delegation\n            this.setupEventDelegation();\n\n            // Setup modal handlers\n            this.setupModals();\n        });\n    }\n\n    setupEventDelegation() {\n        // Event delegation for all schedule actions\n        document.addEventListener('click', (e) => {\n            const action = e.target.closest('[data-action]')?.dataset.action;\n            if (!action) return;\n\n            const target = e.target.closest('[data-action]');\n\n            switch(action) {\n                case 'generate-form':\n                    this.handleGenerateForm(target.dataset.leagueName);\n                    break;\n                case 'edit-match':\n                    this.handleEditMatch(target);\n                    break;\n                case 'add-single-week':\n                    // Handled by Bootstrap modal\n                    break;\n                default:\n                    break;\n            }\n        });\n    }\n\n    setupModals() {\n        // Add Week Modal setup\n        const addWeekModal = document.getElementById('addWeekModal');\n        if (addWeekModal) {\n            addWeekModal.addEventListener('show.bs.modal', (event) => {\n                const button = event.relatedTarget;\n                if (!button) return;\n\n                const leagueName = button.getAttribute('data-league-name');\n                document.getElementById('modal_league_name').value = leagueName;\n\n                // Populate team dropdowns\n                const league = this.leagues.find(l => l.name === leagueName);\n                if (league) {\n                    this.populateTeamSelects(league.teams, ['teamA', 'teamB']);\n                }\n            });\n        }\n    }\n\n    handleGenerateForm(leagueName) {\n        const totalWeeks = document.getElementById(`total_weeks-${leagueName}`)?.value;\n        const matchesPerWeek = document.getElementById(`matches_per_week-${leagueName}`)?.value;\n        const funWeek = document.getElementById(`fun_week-${leagueName}`)?.value;\n        const tstWeek = document.getElementById(`tst_week-${leagueName}`)?.value;\n        const startTimeStr = document.getElementById(`start_time-${leagueName}`)?.value;\n        const location = document.getElementById(`location-${leagueName}`)?.value;\n\n        if (!totalWeeks || !matchesPerWeek || !startTimeStr) {\n            this.showAlert('Total Weeks, Matches Per Week, and Start Time are required!', 'warning');\n            return;\n        }\n\n        const league = this.leagues.find(l => l.name === leagueName);\n        if (!league) {\n            this.showAlert('League not found', 'danger');\n            return;\n        }\n\n        const detailedForm = this.generateDetailedInputForm(\n            totalWeeks, matchesPerWeek, funWeek, tstWeek,\n            startTimeStr, location, league.teams, leagueName\n        );\n\n        const container = document.getElementById(`detailedInputForm-${leagueName}`);\n        if (container) {\n            container.innerHTML = detailedForm;\n        }\n    }\n\n    generateDetailedInputForm(totalWeeks, matchesPerWeek, funWeek, tstWeek, startTimeStr, location, teams, leagueName) {\n        let formHTML = `\n            <form method=\"POST\" action=\"/ecsfc/bulk_create_matches/${window.seasonId || ''}/${leagueName}\" data-component=\"detailed-bulk-form\">\n                <input type=\"hidden\" name=\"csrf_token\" value=\"${this.csrfToken}\">\n                <div class=\"row g-3\">\n        `;\n\n        for (let week = 1; week <= totalWeeks; week++) {\n            let weekDetails = week == funWeek ? 'Fun Week' : week == tstWeek ? 'TST Week' : `Week ${week}`;\n\n            formHTML += `\n                <div class=\"col-lg-4 col-md-6 col-sm-12\">\n                    <div class=\"c-week-form-card card\">\n                        <div class=\"card-header c-week-form-card__header\">\n                            <h6 class=\"c-week-form-card__title\">${weekDetails}</h6>\n                        </div>\n                        <div class=\"card-body\">\n            `;\n\n            if (week == funWeek || week == tstWeek) {\n                formHTML += `<p class=\"c-week-form-card__special\">No matches scheduled this week.</p>`;\n            } else {\n                formHTML += `\n                    <div class=\"c-form-group\">\n                        <label class=\"c-form-group__label\">Date</label>\n                        <input type=\"date\" class=\"c-form-group__input\" name=\"date_week${week}\" required data-form-control>\n                    </div>\n                `;\n\n                for (let match = 1; match <= matchesPerWeek; match++) {\n                    formHTML += this.generateMatchInput(week, match, teams, startTimeStr, location);\n                }\n            }\n\n            formHTML += `\n                        </div>\n                    </div>\n                </div>\n            `;\n        }\n\n        formHTML += `\n                </div>\n                <div class=\"mt-3\">\n                    <button type=\"submit\" class=\"btn btn-success\" data-action=\"save-matches\">\n                        <i class=\"ti ti-check me-1\"></i>\n                        Save Matches\n                    </button>\n                </div>\n            </form>\n        `;\n\n        return formHTML;\n    }\n\n    generateMatchInput(week, match, teams, startTimeStr, location) {\n        const teamsOptions = teams.map(team =>\n            `<option value=\"${team.id}\">${team.name}</option>`\n        ).join('');\n\n        return `\n            <div class=\"c-match-input\" data-component=\"match-input\">\n                <div class=\"row g-2 align-items-center mb-2\">\n                    <div class=\"col-6 col-md-3\">\n                        <select class=\"c-match-input__select\" name=\"teamA_week${week}_match${match}\" required data-form-select>\n                            <option value=\"\">Team A</option>\n                            ${teamsOptions}\n                        </select>\n                    </div>\n                    <div class=\"col-6 col-md-3\">\n                        <select class=\"c-match-input__select\" name=\"teamB_week${week}_match${match}\" required data-form-select>\n                            <option value=\"\">Team B</option>\n                            ${teamsOptions}\n                        </select>\n                    </div>\n                    <div class=\"col-6 col-md-3\">\n                        <input type=\"time\"\n                               class=\"c-match-input__time\"\n                               name=\"time_week${week}_match${match}\"\n                               value=\"${startTimeStr}\"\n                               required\n                               data-form-control>\n                    </div>\n                    <div class=\"col-6 col-md-3\">\n                        <select class=\"c-match-input__location\" name=\"location_week${week}_match${match}\" required data-form-select>\n                            <option value=\"North\" ${location === 'North' ? 'selected' : ''}>North</option>\n                            <option value=\"South\" ${location === 'South' ? 'selected' : ''}>South</option>\n                        </select>\n                    </div>\n                </div>\n            </div>\n        `;\n    }\n\n    handleEditMatch(button) {\n        const matchId = button.dataset.matchId;\n        const teamA = button.dataset.teamA;\n        const teamB = button.dataset.teamB;\n        const time = button.dataset.time;\n        const location = button.dataset.location;\n        const date = button.dataset.date;\n        const leagueName = button.dataset.leagueName;\n\n        this.loadMatchData(matchId, teamA, teamB, time, location, date, leagueName);\n    }\n\n    loadMatchData(matchId, teamA, teamB, time, location, date, leagueName) {\n        // Format date\n        const formattedDate = new Date(date).toISOString().split('T')[0];\n\n        // Format time from 12-hour to 24-hour\n        const formattedTime = this.convertTo24Hour(time);\n\n        // Populate team selects\n        const league = this.leagues.find(l => l.name === leagueName);\n        if (league) {\n            this.populateTeamSelectsWithSelection(league.teams, 'edit_team_a', teamA);\n            this.populateTeamSelectsWithSelection(league.teams, 'edit_team_b', teamB);\n        }\n\n        // Set form values\n        document.getElementById('edit_time').value = formattedTime;\n        document.getElementById('edit_location').value = location;\n        document.getElementById('edit_date').value = formattedDate;\n\n        // Set form action\n        const form = document.querySelector('#manage-ecsfc-editModal form');\n        if (form) {\n            form.action = `/ecsfc/edit_match/${matchId}`;\n        }\n    }\n\n    convertTo24Hour(timeStr) {\n        const match = timeStr.match(/(\\d+):(\\d+)\\s*(AM|PM)/i);\n        if (!match) return timeStr;\n\n        let [, hour, minute, period] = match;\n        hour = parseInt(hour);\n\n        if (period.toUpperCase() === 'PM' && hour < 12) {\n            hour += 12;\n        } else if (period.toUpperCase() === 'AM' && hour === 12) {\n            hour = 0;\n        }\n\n        return `${hour.toString().padStart(2, '0')}:${minute}`;\n    }\n\n    populateTeamSelects(teams, selectIds) {\n        selectIds.forEach(selectId => {\n            const select = document.getElementById(selectId);\n            if (!select) return;\n\n            select.innerHTML = teams.map(team =>\n                `<option value=\"${team.name}\">${team.name}</option>`\n            ).join('');\n        });\n    }\n\n    populateTeamSelectsWithSelection(teams, selectId, selectedTeam) {\n        const select = document.getElementById(selectId);\n        if (!select) return;\n\n        select.innerHTML = teams.map(team =>\n            `<option value=\"${team.name}\" ${team.name === selectedTeam ? 'selected' : ''}>${team.name}</option>`\n        ).join('');\n    }\n\n    showAlert(message, type = 'info') {\n        // Use SweetAlert if available, otherwise use native alert\n        if (typeof Swal !== 'undefined') {\n            Swal.fire({\n                icon: type === 'warning' ? 'warning' : type === 'danger' ? 'error' : 'info',\n                title: message,\n                toast: true,\n                position: 'top-end',\n                showConfirmButton: false,\n                timer: 3000,\n                timerProgressBar: true\n            });\n        } else {\n            alert(message);\n        }\n    }\n}\n\n// Initialize when DOM is ready\nconst ecsfcScheduleManager = new ECSFCScheduleManager();\n","document.addEventListener('DOMContentLoaded', function () {\n    const enable2FABtn = document.getElementById('enable2FABtn');\n    const verify2FAForm = document.getElementById('verify2FAForm');\n    const disable2FAForm = document.getElementById('disable2FAForm');\n\n    if (enable2FABtn) {\n        enable2FABtn.addEventListener('click', function () {\n            fetch('/account/enable-2fa')\n                .then(response => response.json())\n                .then(data => {\n                    document.getElementById('qrCodeContainer').innerHTML = `<img src=\"data:image/png;base64,${data.qr_code}\" alt=\"QR Code\">`;\n                    document.getElementById('enable2FAModal').setAttribute('data-secret', data.secret);\n                    // Use ModalManager for safe modal handling\n                    ModalManager.show('enable2FAModal');\n                });\n        });\n    }\n\n    if (verify2FAForm) {\n        verify2FAForm.addEventListener('submit', function (e) {\n            e.preventDefault();\n            const code = document.getElementById('twoFactorCode').value;\n            const secret = document.getElementById('enable2FAModal').getAttribute('data-secret');\n            fetch('/account/enable-2fa', {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json',\n                },\n                body: JSON.stringify({ code, secret })\n            })\n                .then(response => response.json())\n                .then(data => {\n                    if (data.success) {\n                        alert('2FA enabled successfully');\n                        location.reload();\n                    } else {\n                        alert(data.message);\n                    }\n                });\n        });\n    }\n\n    if (disable2FAForm) {\n        disable2FAForm.addEventListener('submit', function (e) {\n            e.preventDefault();\n            if (confirm('Are you sure you want to disable 2FA? This will make your account less secure.')) {\n                this.submit();\n            }\n        });\n    }\n});\n","/**\n * ============================================================================\n * HOME/DASHBOARD PAGE JAVASCRIPT\n * ============================================================================\n *\n * Handles all JavaScript functionality for the home dashboard page (index.html)\n * Extracted from inline <script> block for better maintainability\n *\n * ARCHITECTURAL COMPLIANCE:\n * - Event delegation pattern\n * - Data-attribute based hooks\n * - No direct element binding\n * - State-driven styling (classList operations)\n * - Mobile-first optimizations\n *\n * Features:\n * - iOS viewport height fix\n * - Touch-friendly tab navigation with swipe support\n * - Auto-scroll for active tabs\n * - Modal iOS scroll fix\n * - Fast click enablement for mobile\n * - Service worker registration\n * - Discord membership detection\n *\n * ============================================================================\n */\n\n(function() {\n  'use strict';\n\n  // Global configuration\n  const CONFIG = {\n    MOBILE_BREAKPOINT: 768,\n    SWIPE_THRESHOLD: 50,\n    DISCORD_PROMPT_DELAY: 5000,\n    DISCORD_UNLINKED_PROMPT_DELAY: 10000,\n    DISCORD_PROMPT_COOLDOWN: 7 * 24 * 60 * 60 * 1000 // One week\n  };\n\n  /**\n   * ============================================================================\n   * iOS VIEWPORT HEIGHT FIX\n   * Fixes iOS 100vh issue where viewport height includes browser chrome\n   * ============================================================================\n   */\n  function setViewportHeight() {\n    const vh = window.innerHeight * 0.01;\n    document.documentElement.style.setProperty('--vh', `${vh}px`);\n  }\n\n  /**\n   * ============================================================================\n   * TAB SWIPE NAVIGATION\n   * Enables swipe gestures for tab navigation on mobile devices\n   * ============================================================================\n   */\n  function initializeSwipeNavigation() {\n    // Only apply on mobile\n    if (window.innerWidth >= CONFIG.MOBILE_BREAKPOINT) {\n      return;\n    }\n\n    const tabContainers = document.querySelectorAll('[data-role=\"tab-navigation\"]');\n\n    tabContainers.forEach(container => {\n      // Add mobile-specific classes\n      container.classList.add('small-tabs', 'overflow-auto', 'flex-nowrap');\n\n      let touchStartX = 0;\n      let touchEndX = 0;\n\n      // Find associated tab content\n      const tabContentId = container.getAttribute('aria-controls');\n      const tabPanes = tabContentId ?\n        document.getElementById(tabContentId) :\n        document.querySelector('[data-role=\"tab-content\"]');\n\n      if (!tabPanes) return;\n\n      // Touch event handlers\n      tabPanes.addEventListener('touchstart', (e) => {\n        touchStartX = e.changedTouches[0].screenX;\n      }, { passive: true });\n\n      tabPanes.addEventListener('touchend', (e) => {\n        touchEndX = e.changedTouches[0].screenX;\n        handleSwipe(container);\n      }, { passive: true });\n\n      function handleSwipe(tabContainer) {\n        const tabs = Array.from(tabContainer.querySelectorAll('[data-action=\"switch-tab\"]'));\n        const activeIndex = tabs.findIndex(tab => tab.classList.contains('is-active'));\n\n        // Check swipe direction and threshold\n        const swipeDistance = touchEndX - touchStartX;\n\n        if (swipeDistance < -CONFIG.SWIPE_THRESHOLD && activeIndex < tabs.length - 1) {\n          // Swipe left - next tab\n          tabs[activeIndex + 1].click();\n        } else if (swipeDistance > CONFIG.SWIPE_THRESHOLD && activeIndex > 0) {\n          // Swipe right - previous tab\n          tabs[activeIndex - 1].click();\n        }\n      }\n    });\n  }\n\n  /**\n   * ============================================================================\n   * TAB AUTO-SCROLL\n   * Scrolls active tab into view when it's not fully visible\n   * ============================================================================\n   */\n  function initializeTabAutoScroll() {\n    const tabs = document.querySelectorAll('[data-action=\"switch-tab\"]');\n\n    tabs.forEach(tab => {\n      // Use Bootstrap's shown.bs.tab event if available, otherwise use click\n      const eventName = typeof bootstrap !== 'undefined' ? 'shown.bs.tab' : 'click';\n\n      tab.addEventListener(eventName, function() {\n        const container = this.closest('[data-role=\"tab-navigation\"]');\n        if (!container) return;\n\n        const tabRect = this.getBoundingClientRect();\n        const containerRect = container.getBoundingClientRect();\n\n        // Check if tab is not fully visible\n        if (tabRect.right > containerRect.right || tabRect.left < containerRect.left) {\n          this.scrollIntoView({\n            behavior: 'smooth',\n            block: 'nearest',\n            inline: 'center'\n          });\n        }\n      });\n    });\n  }\n\n  /**\n   * ============================================================================\n   * MODAL iOS FIX\n   * Prevents scroll issues in modals on iOS devices\n   * ============================================================================\n   */\n  function initializeModalIosFix() {\n    const allModals = document.querySelectorAll('[data-modal]');\n\n    allModals.forEach(modal => {\n      // Use Bootstrap events if available, otherwise use custom events\n      const showEvent = typeof bootstrap !== 'undefined' ? 'shown.bs.modal' : 'modal:opened';\n      const hideEvent = typeof bootstrap !== 'undefined' ? 'hidden.bs.modal' : 'modal:closed';\n\n      modal.addEventListener(showEvent, function() {\n        if (/iPad|iPhone|iPod/.test(navigator.userAgent)) {\n          document.body.classList.add('modal-open-ios');\n        }\n      });\n\n      modal.addEventListener(hideEvent, function() {\n        if (/iPad|iPhone|iPod/.test(navigator.userAgent)) {\n          document.body.classList.remove('modal-open-ios');\n        }\n      });\n    });\n  }\n\n  /**\n   * ============================================================================\n   * FAST CLICK ENABLEMENT\n   * Reduces tap delay on mobile devices\n   * ============================================================================\n   */\n  function enableFastClick() {\n    if (!('ontouchstart' in window)) return;\n\n    const buttons = document.querySelectorAll('button, .btn, a, [data-action]');\n    buttons.forEach(button => {\n      button.addEventListener('touchstart', function() {}, { passive: true });\n    });\n  }\n\n  /**\n   * ============================================================================\n   * SERVICE WORKER REGISTRATION\n   * Enables offline capabilities and performance improvements\n   * ============================================================================\n   */\n  function registerServiceWorker() {\n    if (!('serviceWorker' in navigator)) {\n      console.log('Service Workers not supported');\n      return;\n    }\n\n    navigator.serviceWorker.register('/static/js/service-worker.js')\n      .then(registration => {\n        console.log('ServiceWorker registered:', registration.scope);\n      })\n      .catch(error => {\n        console.error('ServiceWorker registration failed:', error);\n      });\n  }\n\n  /**\n   * ============================================================================\n   * DISCORD MEMBERSHIP CHECK\n   * Prompts user to join Discord server if not already a member\n   * Uses cached membership status from database (stored in data attributes)\n   * ============================================================================\n   */\n  function initializeDiscordMembershipCheck() {\n    // Check if player data exists\n    const rsvpData = document.getElementById('rsvp-data');\n    if (!rsvpData) return;\n\n    const playerDiscordId = rsvpData.dataset.discordId;\n    const discordInServer = rsvpData.dataset.discordInServer; // 'true', 'false', or 'unknown'\n    const discordLastChecked = rsvpData.dataset.discordLastChecked;\n\n    // Check if player has Discord linked\n    if (!playerDiscordId || playerDiscordId === 'None' || playerDiscordId === '') {\n      // No Discord linked - show link prompt\n      showDiscordLinkPrompt();\n      return;\n    }\n\n    // Discord linked - check cached membership status from database\n    showDiscordMembershipPrompt(discordInServer, discordLastChecked);\n  }\n\n  function showDiscordMembershipPrompt(inServerStatus, lastChecked) {\n    // Use cached membership status from database (passed via data attributes)\n    // Possible values: 'true' (in server), 'false' (not in server), 'unknown' (never checked)\n\n    if (inServerStatus === 'true') {\n      // User is confirmed IN the Discord server - no prompt needed\n      console.log('[Home] User is in Discord server (cached), skipping prompt');\n      return;\n    }\n\n    if (inServerStatus === 'unknown') {\n      // Never been checked - we could check via API, but for now skip to avoid false positives\n      // This is safer than assuming they're not in the server\n      console.log('[Home] Discord membership status unknown, skipping prompt');\n\n      // Optionally trigger a background check for next time\n      triggerMembershipCheck();\n      return;\n    }\n\n    // inServerStatus === 'false' - User is confirmed NOT in the server\n\n    // Check if the cached data is stale (older than 30 days)\n    if (lastChecked) {\n      const lastCheckDate = new Date(lastChecked);\n      const daysSinceCheck = (Date.now() - lastCheckDate.getTime()) / (1000 * 60 * 60 * 24);\n\n      if (daysSinceCheck > 30) {\n        // Data is stale, trigger a fresh check and skip prompt for now\n        console.log('[Home] Discord membership data is stale, triggering refresh');\n        triggerMembershipCheck();\n        return;\n      }\n    }\n\n    console.log('[Home] User confirmed NOT in Discord server, showing prompt');\n\n    // Check cooldown\n    const lastPromptShown = localStorage.getItem('discord_prompt_shown');\n    const now = Date.now();\n\n    if (lastPromptShown && (now - parseInt(lastPromptShown)) < CONFIG.DISCORD_PROMPT_COOLDOWN) {\n      return; // Still in cooldown period\n    }\n\n    setTimeout(() => {\n      // Only show if there are RSVP opportunities\n      const rsvpButtons = document.querySelectorAll('[data-rsvp]');\n      if (rsvpButtons.length === 0) return;\n\n      // Use global DiscordMembershipChecker if available\n      if (typeof DiscordMembershipChecker !== 'undefined') {\n        DiscordMembershipChecker.showJoinPrompt({\n          title: ' Stay Connected on Discord',\n          urgency: 'info',\n          showUrgentPopup: true\n        });\n\n        // Mark as shown\n        localStorage.setItem('discord_prompt_shown', now.toString());\n      }\n    }, CONFIG.DISCORD_PROMPT_DELAY);\n  }\n\n  /**\n   * Trigger a background check of Discord membership status\n   * This updates the database for next page load\n   */\n  function triggerMembershipCheck() {\n    const rsvpData = document.getElementById('rsvp-data');\n    if (!rsvpData) return;\n\n    const csrfToken = rsvpData.dataset.csrfToken;\n\n    // Fire and forget - don't wait for response\n    fetch('/api/discord/check-membership', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n        'X-CSRFToken': csrfToken\n      },\n      credentials: 'same-origin'\n    }).then(response => {\n      if (response.ok) {\n        console.log('[Home] Discord membership check triggered successfully');\n      }\n    }).catch(err => {\n      // Silently fail - this is a background optimization\n      console.debug('[Home] Discord membership check failed:', err);\n    });\n  }\n\n  function showDiscordLinkPrompt() {\n    setTimeout(() => {\n      // Use SweetAlert2 if available\n      if (typeof Swal === 'undefined') {\n        console.warn('SweetAlert2 not available for Discord prompt');\n        return;\n      }\n\n      Swal.fire({\n        title: ' Connect Your Discord Account',\n        html: `\n          <div class=\"text-start\">\n            <p><strong>Your Discord account isn't connected yet!</strong></p>\n            <p>Connecting Discord is important for:</p>\n            <ul class=\"text-start ms-3\">\n              <li> Getting match notifications and updates</li>\n              <li> Communicating with teammates</li>\n              <li> Receiving RSVP reminders</li>\n              <li> Staying updated on league announcements</li>\n            </ul>\n            <p class=\"mt-3\"><strong>Connect now to enhance your experience!</strong></p>\n          </div>\n        `,\n        icon: 'info',\n        showCancelButton: true,\n        confirmButtonText: '<i class=\"fab fa-discord me-2\"></i>Connect Discord',\n        cancelButtonText: 'Maybe Later',\n        confirmButtonColor: '#5865F2', // Discord brand color\n        cancelButtonColor: getComputedStyle(document.documentElement)\n          .getPropertyValue('--ecs-secondary').trim() || '#6c757d'\n      }).then((result) => {\n        if (result.isConfirmed) {\n          // Redirect to Discord auth - URL should be set via data attribute\n          const authUrl = document.querySelector('[data-discord-auth-url]')?.dataset.discordAuthUrl;\n          if (authUrl) {\n            window.location.href = authUrl;\n          }\n        }\n      });\n    }, CONFIG.DISCORD_UNLINKED_PROMPT_DELAY);\n  }\n\n  /**\n   * ============================================================================\n   * INITIALIZATION\n   * Main initialization function called on page load\n   * ============================================================================\n   */\n  function init() {\n    // Set viewport height fix\n    setViewportHeight();\n    window.addEventListener('resize', setViewportHeight);\n    window.addEventListener('orientationchange', setViewportHeight);\n\n    // Initialize mobile features\n    if (window.innerWidth < CONFIG.MOBILE_BREAKPOINT) {\n      initializeSwipeNavigation();\n      enableFastClick();\n    }\n\n    // Initialize tab auto-scroll\n    initializeTabAutoScroll();\n\n    // Initialize modal iOS fix\n    initializeModalIosFix();\n\n    // Register service worker\n    registerServiceWorker();\n\n    // Initialize Discord membership check\n    initializeDiscordMembershipCheck();\n\n    console.log(' Home page initialized');\n  }\n\n  // Initialize on DOM ready\n  if (document.readyState === 'loading') {\n    document.addEventListener('DOMContentLoaded', init);\n  } else {\n    init();\n  }\n\n  // Expose API for external use (if needed)\n  window.HomePage = {\n    setViewportHeight,\n    initializeSwipeNavigation,\n    initializeTabAutoScroll\n  };\n\n})();\n","/**\n * Match Management JavaScript\n * Handles match scheduling, status updates, task management, and administrative functions\n * \n * Dependencies: jQuery, Bootstrap 5, SweetAlert2\n */\n\n// Global variables\nlet csrfToken = '';\n\n// Initialize CSRF token\nfunction initializeCSRFToken() {\n    const csrfMeta = document.querySelector('meta[name=\"csrf-token\"]');\n    if (csrfMeta) {\n        csrfToken = csrfMeta.getAttribute('content');\n    } else {\n        // Fallback: try to get from a hidden input if meta tag doesn't exist\n        const csrfInput = document.querySelector('input[name=\"csrf_token\"]');\n        if (csrfInput) {\n            csrfToken = csrfInput.value;\n        }\n    }\n}\n\n// Auto-refresh functionality\nfunction refreshStatuses() {\n    // Page guard - only run on match management page\n    const lastUpdatedEl = document.getElementById('lastUpdated');\n    if (!lastUpdatedEl) {\n        return; // Not on match management page\n    }\n\n    fetch('/admin/match_management/statuses')\n        .then(response => response.json())\n        .then(data => {\n            if (data.statuses) {\n                data.statuses.forEach(match => {\n                    updateMatchRow(match);\n                });\n            }\n            lastUpdatedEl.textContent =\n                `Last updated: ${new Date().toLocaleTimeString()}`;\n        })\n        .catch(error => console.error('Error refreshing statuses:', error));\n}\n\nfunction updateMatchRow(match) {\n    const statusBadge = document.getElementById(`status-${match.id}`);\n    if (statusBadge) {\n        // Set stable structure first\n        statusBadge.className = 'badge'; // Keep styling class for CSS\n        statusBadge.classList.add(`bg-${match.status_color}`); // Keep visual styling\n        statusBadge.setAttribute('data-status', match.status); // For JS behavior\n        statusBadge.innerHTML = `<i class=\"fas ${match.status_icon}\"></i> ${match.status_display}`;\n    }\n\n    // Update task details with real-time data\n    loadMatchTaskDetails(match.id);\n}\n\n// Load detailed task information for a specific match\nfunction loadMatchTaskDetails(matchId) {\n    fetch(`/admin/match_management/match-tasks/${matchId}`)\n        .then(response => response.json())\n        .then(data => {\n            updateMatchTaskDetails(matchId, data);\n        })\n        .catch(error => {\n            console.error(`Error loading task details for match ${matchId}:`, error);\n            showTaskError(matchId, 'Failed to load task details');\n        });\n}\n\n// Update the task details display for a match\nfunction updateMatchTaskDetails(matchId, data) {\n    const container = document.getElementById(`task-details-${matchId}`);\n    \n    if (!container) {\n        console.error(`No container found for task-details-${matchId}`);\n        return;\n    }\n    \n    if (!data.success) {\n        showTaskError(matchId, data.error || 'Failed to load task details');\n        return;\n    }\n    \n    const tasks = data.tasks || {};\n    let html = '';\n    \n    // Thread Creation Task\n    if (tasks.thread) {\n        html += createTaskCard('thread', tasks.thread, matchId);\n    } else {\n        html += createNoTaskCard('Thread Creation', 'No thread task scheduled');\n    }\n    \n    // Live Reporting Task  \n    if (tasks.reporting) {\n        html += createTaskCard('reporting', tasks.reporting, matchId);\n    } else {\n        html += createNoTaskCard('Live Reporting', 'No reporting task scheduled');\n    }\n    \n    if (!html) {\n        html = '<small class=\"text-muted\">No tasks scheduled</small>';\n    }\n    \n    container.innerHTML = html;\n}\n\n// Create a task card for display\nfunction createTaskCard(taskType, task, matchId) {\n    const statusColor = getStatusColor(task.status);\n    const statusIcon = getStatusIcon(task.status);\n    const typeName = task.type || (taskType === 'thread' ? 'Thread Creation' : 'Live Reporting');\n    const typeIcon = taskType === 'thread' ? 'fa-comments' : 'fa-broadcast-tower';\n\n    // Use human-readable message if available (from fallback logic)\n    const displayMessage = task.message || typeName;\n    const isFallback = task.fallback === true;\n\n    // Format countdown\n    let countdown = 'N/A';\n    if (task.ttl && task.ttl > 0) {\n        countdown = formatDuration(task.ttl);\n    } else if (task.eta && task.eta !== 'completed') {\n        const etaTime = new Date(task.eta);\n        const now = new Date();\n        const diff = Math.max(0, Math.floor((etaTime - now) / 1000));\n        countdown = diff > 0 ? formatDuration(diff) : 'Due now';\n    }\n\n    // Special handling for different status types\n    let statusDisplay = task.status;\n    if (isFallback) {\n        if (task.status === 'SUCCESS') statusDisplay = 'Completed';\n        if (task.status === 'PENDING') statusDisplay = 'Scheduled';\n        if (task.status === 'RUNNING') statusDisplay = 'Active';\n        if (task.status === 'FINISHED') statusDisplay = 'Completed';\n        if (task.status === 'MISSING') statusDisplay = 'Issue';\n    }\n\n    const fallbackIndicator = isFallback ? '<i class=\"fas fa-info-circle text-muted\" title=\"Status derived from match data\"></i>' : '';\n\n    // Escape data for safe HTML attribute embedding\n    const taskDataJson = JSON.stringify(task).replace(/\"/g, '&quot;').replace(/'/g, '&#39;');\n\n    return `\n        <div data-component=\"task-card\" data-task-type=\"${taskType}\" data-match-id=\"${matchId}\" class=\"mb-2 p-2 border rounded ${isFallback ? 'border-info' : ''}\">\n            <div class=\"d-flex justify-content-between align-items-center mb-1\">\n                <span class=\"badge bg-${statusColor}\" data-status=\"${task.status}\">\n                    <i class=\"fas ${statusIcon}\"></i> ${statusDisplay}\n                </span>\n                <small class=\"text-muted\">${countdown} ${fallbackIndicator}</small>\n            </div>\n            <div class=\"d-flex align-items-center mb-2\">\n                <i class=\"fas ${typeIcon} me-2 text-primary\"></i>\n                <div class=\"flex-grow-1\">\n                    <small class=\"fw-bold\">${typeName}</small><br>\n                    <small class=\"text-muted\">${displayMessage}</small>\n                </div>\n            </div>\n            ${task.result ? `<div class=\"mb-2\"><small class=\"text-muted\"><strong>Details:</strong> ${task.result}</small></div>` : ''}\n            <div class=\"task-actions\">\n                <button class=\"btn btn-xs btn-outline-info me-1\"\n                        data-action=\"show-task-info\"\n                        data-task-id=\"${task.task_id}\"\n                        data-task-type=\"${typeName}\"\n                        data-task-data='${taskDataJson}'>\n                    <i class=\"fas fa-info-circle\"></i>\n                </button>\n                ${!isFallback && task.task_id !== 'unknown' && task.task_id !== 'scheduled' ? `\n                <button class=\"btn btn-xs btn-outline-danger me-1\"\n                        data-action=\"revoke-task\"\n                        data-task-id=\"${task.task_id}\"\n                        data-match-id=\"${matchId}\"\n                        data-task-type=\"${taskType}\">\n                    <i class=\"fas fa-times\"></i>\n                </button>` : ''}\n                <button class=\"btn btn-xs btn-outline-warning\"\n                        data-action=\"reschedule-task\"\n                        data-match-id=\"${matchId}\"\n                        data-task-type=\"${taskType}\">\n                    <i class=\"fas fa-redo\"></i>\n                </button>\n            </div>\n        </div>\n    `;\n}\n\n// Create a \"no task\" card\nfunction createNoTaskCard(taskName, message) {\n    const typeIcon = taskName.includes('Thread') ? 'fa-comments' : 'fa-broadcast-tower';\n    return `\n        <div data-component=\"no-task-card\" data-task-name=\"${taskName}\" class=\"mb-1 p-2 border rounded bg-light\">\n            <div class=\"d-flex align-items-center\">\n                <i class=\"fas ${typeIcon} me-2 text-muted\"></i>\n                <div class=\"flex-grow-1\">\n                    <small class=\"fw-bold text-muted\">${taskName}</small><br>\n                    <small class=\"text-muted\">${message}</small>\n                </div>\n                <span class=\"badge bg-secondary\" data-status=\"not-scheduled\">Not Scheduled</span>\n            </div>\n        </div>\n    `;\n}\n\n// Show task error\nfunction showTaskError(matchId, error) {\n    const container = document.getElementById(`task-details-${matchId}`);\n    if (!container) return;\n    \n    // Show better display when Redis is unavailable\n    if (error === 'Redis not available') {\n        container.innerHTML = `\n            <div class=\"text-center\">\n                <small class=\"text-muted\"><i class=\"fas fa-database\"></i> Task system unavailable</small><br>\n                <small class=\"text-muted\">Redis connection needed</small>\n            </div>\n        `;\n    } else {\n        container.innerHTML = `\n            <div class=\"alert alert-danger alert-sm mb-0\">\n                <small><i class=\"fas fa-exclamation-triangle\"></i> ${error}</small>\n            </div>\n        `;\n    }\n}\n\n// Helper functions\nfunction getStatusColor(status) {\n    const statusColors = {\n        'PENDING': 'warning',\n        'STARTED': 'info', \n        'SUCCESS': 'success',\n        'FAILURE': 'danger',\n        'RETRY': 'warning',\n        'REVOKED': 'secondary',\n        'RUNNING': 'info',\n        'FINISHED': 'success',\n        'MISSING': 'danger',\n        'Completed': 'success',\n        'Scheduled': 'warning',\n        'Active': 'info',\n        'Issue': 'danger'\n    };\n    return statusColors[status] || 'secondary';\n}\n\nfunction getStatusIcon(status) {\n    const statusIcons = {\n        'PENDING': 'fa-clock',\n        'STARTED': 'fa-play',\n        'SUCCESS': 'fa-check',\n        'FAILURE': 'fa-times',\n        'RETRY': 'fa-redo',\n        'REVOKED': 'fa-ban',\n        'RUNNING': 'fa-play',\n        'FINISHED': 'fa-check',\n        'MISSING': 'fa-exclamation-triangle',\n        'Completed': 'fa-check',\n        'Scheduled': 'fa-clock',\n        'Active': 'fa-play',\n        'Issue': 'fa-exclamation-triangle'\n    };\n    return statusIcons[status] || 'fa-question';\n}\n\nfunction formatDuration(seconds) {\n    if (seconds < 60) return `${seconds}s`;\n    const minutes = Math.floor(seconds / 60);\n    const remainingSeconds = seconds % 60;\n    if (minutes < 60) return `${minutes}m ${remainingSeconds}s`;\n    const hours = Math.floor(minutes / 60);\n    const remainingMinutes = minutes % 60;\n    return `${hours}h ${remainingMinutes}m`;\n}\n\n// Task control functions\nfunction revokeTask(taskId, matchId, taskType) {\n    Swal.fire({\n        title: 'Revoke Task?',\n        text: `Are you sure you want to revoke this ${taskType} task?`,\n        icon: 'warning',\n        showCancelButton: true,\n        confirmButtonColor: (typeof ECSTheme !== 'undefined') ? ECSTheme.getColor('danger') : '#dc3545',\n        cancelButtonColor: (typeof ECSTheme !== 'undefined') ? ECSTheme.getColor('secondary') : '#6c757d',\n        confirmButtonText: 'Yes, revoke it!'\n    }).then((result) => {\n        if (result.isConfirmed) {\n            fetch('/admin/match_management/revoke-task', {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json',\n                    'X-CSRFToken': csrfToken\n                },\n                body: JSON.stringify({\n                    task_id: taskId,\n                    match_id: matchId,\n                    task_type: taskType\n                })\n            })\n            .then(response => response.json())\n            .then(data => {\n                if (data.success) {\n                    Swal.fire('Revoked!', data.message, 'success');\n                    loadMatchTaskDetails(matchId);\n                } else {\n                    Swal.fire('Error!', data.error, 'error');\n                }\n            })\n            .catch(error => {\n                Swal.fire('Error!', 'Failed to revoke task', 'error');\n            });\n        }\n    });\n}\n\nfunction rescheduleTask(matchId, taskType) {\n    Swal.fire({\n        title: 'Reschedule Task?',\n        text: `This will reschedule the ${taskType} task for match ${matchId}`,\n        icon: 'question',\n        showCancelButton: true,\n        confirmButtonColor: (typeof ECSTheme !== 'undefined') ? ECSTheme.getColor('success') : '#198754',\n        cancelButtonColor: (typeof ECSTheme !== 'undefined') ? ECSTheme.getColor('secondary') : '#6c757d',\n        confirmButtonText: 'Yes, reschedule!'\n    }).then((result) => {\n        if (result.isConfirmed) {\n            // Use existing schedule match functionality\n            matchMgmtScheduleMatch(matchId);\n        }\n    });\n}\n\nfunction showTaskInfo(taskId, taskType, taskData) {\n    let taskObj;\n    try {\n        taskObj = typeof taskData === 'string' ? JSON.parse(taskData) : taskData;\n    } catch (e) {\n        taskObj = { error: 'Failed to parse task data', raw: taskData };\n    }\n    \n    const modalHtml = `\n        <div class=\"task-info-details\">\n            <h6><i class=\"fas fa-info-circle\"></i> ${taskType}</h6>\n            <table class=\"table table-sm\">\n                <tr><td><strong>Task ID:</strong></td><td><code>${taskObj.task_id || 'N/A'}</code></td></tr>\n                <tr><td><strong>Status:</strong></td><td><span class=\"badge bg-${getStatusColor(taskObj.status)}\" data-status=\"${taskObj.status}\">${taskObj.status}</span></td></tr>\n                <tr><td><strong>ETA:</strong></td><td>${taskObj.eta ? new Date(taskObj.eta).toLocaleString() : 'N/A'}</td></tr>\n                <tr><td><strong>TTL:</strong></td><td>${taskObj.ttl ? formatDuration(taskObj.ttl) : 'N/A'}</td></tr>\n                <tr><td><strong>Redis Key:</strong></td><td><code>${taskObj.redis_key || 'N/A'}</code></td></tr>\n                ${taskObj.result ? `<tr><td><strong>Result:</strong></td><td><pre class=\"small\">${taskObj.result}</pre></td></tr>` : ''}\n            </table>\n        </div>\n    `;\n    \n    Swal.fire({\n        title: 'Task Information',\n        html: modalHtml,\n        width: '600px',\n        showCloseButton: true,\n        focusConfirm: false\n    });\n}\n\n// Load task details for all matches on the page\nfunction loadAllTaskDetails() {\n    // Find all match rows and load their task details, but exclude historical matches unless expanded\n    const matchRows = document.querySelectorAll('[data-match-id]:not([data-match-type=\"historical\"])');\n    matchRows.forEach(row => {\n        const matchId = row.getAttribute('data-match-id');\n        if (matchId) {\n            loadMatchTaskDetails(matchId);\n        }\n    });\n\n    // Also load for expanded historical matches\n    const historicalSection = document.getElementById('historicalMatches');\n    if (historicalSection && historicalSection.classList.contains('show')) {\n        const historicalRows = document.querySelectorAll('[data-match-type=\"historical\"][data-match-id]');\n        historicalRows.forEach(row => {\n            const matchId = row.getAttribute('data-match-id');\n            if (matchId) {\n                loadMatchTaskDetails(matchId);\n            }\n        });\n    }\n}\n\n\n\n\nfunction formatTaskETA(etaString) {\n    if (!etaString) return 'Unknown';\n    \n    try {\n        const etaDate = new Date(etaString);\n        const now = new Date();\n        const diff = etaDate - now;\n        \n        if (diff > 0) {\n            const minutes = Math.floor(diff / (1000 * 60));\n            const hours = Math.floor(minutes / 60);\n            \n            if (hours > 0) {\n                return `${hours}h ${minutes % 60}m`;\n            } else {\n                return `${minutes}m`;\n            }\n        } else {\n            return 'Now';\n        }\n    } catch (e) {\n        return 'Invalid';\n    }\n}\n\nfunction formatTTL(seconds) {\n    if (!seconds || seconds <= 0) return 'No limit';\n    \n    const hours = Math.floor(seconds / 3600);\n    const minutes = Math.floor((seconds % 3600) / 60);\n    \n    if (hours > 0) {\n        return `${hours}h ${minutes}m`;\n    } else if (minutes > 0) {\n        return `${minutes}m`;\n    } else {\n        return `${seconds}s`;\n    }\n}\n\n\nfunction formatScheduledTime(isoString) {\n    if (!isoString) return 'Unknown';\n    \n    try {\n        const date = new Date(isoString);\n        const now = new Date();\n        const diff = date - now;\n        \n        if (diff > 0) {\n            const hours = Math.floor(diff / (1000 * 60 * 60));\n            const minutes = Math.floor((diff % (1000 * 60 * 60)) / (1000 * 60));\n            \n            if (hours > 24) {\n                const days = Math.floor(hours / 24);\n                const remainingHours = hours % 24;\n                return `${days}d ${remainingHours}h`;\n            } else if (hours > 0) {\n                return `${hours}h ${minutes}m`;\n            } else {\n                return `${minutes}m`;\n            }\n        } else {\n            return 'Overdue';\n        }\n    } catch (e) {\n        return 'Invalid';\n    }\n}\n\nfunction formatScheduledTimes() {\n    // Format all scheduled time elements on the page\n    document.querySelectorAll('[data-time][data-component=\"scheduled-time\"]').forEach(element => {\n        const isoTime = element.getAttribute('data-time');\n        element.textContent = formatScheduledTime(isoTime);\n    });\n}\n\nfunction getScheduleStatusColor(status) {\n    const colors = {\n        'not_started': 'secondary',\n        'scheduled': 'warning',\n        'running': 'success',\n        'completed': 'info',\n        'stopped': 'danger',\n        'failed': 'danger'\n    };\n    return colors[status] || 'secondary';\n}\n\nfunction getScheduleStatusIcon(status) {\n    const icons = {\n        'not_started': 'fa-circle',\n        'scheduled': 'fa-clock',\n        'running': 'fa-play-circle',\n        'completed': 'fa-check-circle',\n        'stopped': 'fa-stop-circle',\n        'failed': 'fa-exclamation-triangle'\n    };\n    return icons[status] || 'fa-circle';\n}\n\nfunction getStatusDisplay(status) {\n    const displays = {\n        'not_started': 'Not Started',\n        'scheduled': 'Scheduled',\n        'running': 'Running',\n        'completed': 'Completed', \n        'stopped': 'Stopped',\n        'failed': 'Failed'\n    };\n    return displays[status] || status;\n}\n\n// Match action functions\nfunction matchMgmtScheduleMatch(matchId) {\n    fetch(`/admin/match_management/schedule/${matchId}`, {\n        method: 'POST',\n        headers: {\n            'Content-Type': 'application/json',\n            'X-CSRFToken': csrfToken\n        }\n    })\n    .then(response => response.json())\n    .then(data => {\n        if (data.success) {\n            Swal.fire('Success!', data.message, 'success');\n            refreshStatuses();\n        } else {\n            Swal.fire('Error!', data.message, 'error');\n        }\n    })\n    .catch(error => {\n        console.error('Error:', error);\n        Swal.fire('Error!', 'An error occurred while scheduling the match.', 'error');\n    });\n}\n\nfunction createThreadNow(matchId) {\n    fetch(`/admin/match_management/create-thread/${matchId}`, {\n        method: 'POST',\n        headers: {\n            'Content-Type': 'application/json',\n            'X-CSRFToken': csrfToken\n        }\n    })\n    .then(response => response.json())\n    .then(data => {\n        if (data.success) {\n            Swal.fire('Success!', data.message, 'success');\n            refreshStatuses();\n        } else {\n            Swal.fire('Error!', data.message, 'error');\n        }\n    })\n    .catch(error => {\n        console.error('Error:', error);\n        Swal.fire('Error!', 'An error occurred while creating the thread.', 'error');\n    });\n}\n\nfunction startLiveReporting(matchId) {\n    fetch(`/admin/match_management/start-reporting/${matchId}`, {\n        method: 'POST',\n        headers: {\n            'Content-Type': 'application/json',\n            'X-CSRFToken': csrfToken\n        }\n    })\n    .then(response => response.json())\n    .then(data => {\n        if (data.success) {\n            Swal.fire('Success!', data.message, 'success');\n            refreshStatuses();\n        } else {\n            Swal.fire('Error!', data.message, 'error');\n        }\n    })\n    .catch(error => {\n        console.error('Error:', error);\n        Swal.fire('Error!', 'An error occurred while starting live reporting.', 'error');\n    });\n}\n\nfunction stopLiveReporting(matchId) {\n    fetch(`/admin/match_management/stop-reporting/${matchId}`, {\n        method: 'POST',\n        headers: {\n            'Content-Type': 'application/json',\n            'X-CSRFToken': csrfToken\n        }\n    })\n    .then(response => response.json())\n    .then(data => {\n        if (data.success) {\n            Swal.fire('Success!', data.message, 'success');\n            refreshStatuses();\n        } else {\n            Swal.fire('Error!', data.message, 'error');\n        }\n    })\n    .catch(error => {\n        console.error('Error:', error);\n        Swal.fire('Error!', 'An error occurred while stopping live reporting.', 'error');\n    });\n}\n\nfunction showTaskDetails(matchId, taskId) {\n    // Implementation for showing task details\n    Swal.fire({\n        title: 'Task Details',\n        html: `\n            <div class=\"text-start\">\n                <strong>Match ID:</strong> ${matchId}<br>\n                <strong>Task ID:</strong> ${taskId}<br>\n                <em>Detailed task information would be loaded here...</em>\n            </div>\n        `,\n        confirmButtonText: 'Close'\n    });\n}\n\nfunction getTaskStatusColor(status) {\n    const colors = {\n        'PENDING': 'warning',\n        'STARTED': 'info',\n        'RETRY': 'warning',\n        'FAILURE': 'danger',\n        'SUCCESS': 'success'\n    };\n    return colors[status] || 'secondary';\n}\n\nfunction addMatchByDate() {\n    const dateInput = document.getElementById('matchDate');\n    const competitionInput = document.getElementById('matchCompetition');\n    const date = dateInput.value;\n    const competition = competitionInput.value;\n    \n    console.log('Selected competition:', competition);\n    console.log('Competition dropdown options:', competitionInput.options);\n    console.log('Selected index:', competitionInput.selectedIndex);\n    \n    if (!date) {\n        Swal.fire('Error!', 'Please select a date.', 'error');\n        return;\n    }\n    \n    if (!competition) {\n        Swal.fire('Error!', 'Please select a competition.', 'error');\n        return;\n    }\n    \n    const formData = new FormData();\n    formData.append('date', date);\n    formData.append('competition', competition);\n    \n    console.log('Sending competition to server:', competition);\n    \n    fetch('/admin/match_management/add-by-date', {\n        method: 'POST',\n        headers: {\n            'X-CSRFToken': csrfToken\n        },\n        body: formData\n    })\n    .then(response => response.json())\n    .then(data => {\n        if (data.success) {\n            Swal.fire('Success!', data.message, 'success');\n            setTimeout(() => location.reload(), 2000);\n        } else {\n            Swal.fire('Error!', data.message || data.error, 'error');\n        }\n    })\n    .catch(error => {\n        console.error('Error:', error);\n        Swal.fire('Error!', 'An error occurred while adding matches.', 'error');\n    });\n}\n\nfunction scheduleAllMatches() {\n    Swal.fire({\n        title: 'Schedule All Matches?',\n        text: 'This will schedule Discord threads and live reporting for all matches.',\n        icon: 'question',\n        showCancelButton: true,\n        confirmButtonText: 'Yes, schedule all!'\n    }).then((result) => {\n        if (result.isConfirmed) {\n            fetch('/admin/match_management/schedule-all', {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json',\n                    'X-CSRFToken': csrfToken\n                }\n            })\n            .then(response => response.json())\n            .then(data => {\n                if (data.success) {\n                    Swal.fire('Success!', data.message, 'success');\n                    refreshStatuses();\n                } else {\n                    Swal.fire('Error!', data.message, 'error');\n                }\n            })\n            .catch(error => {\n                console.error('Error:', error);\n                Swal.fire('Error!', 'An error occurred while scheduling matches.', 'error');\n            });\n        }\n    });\n}\n\nfunction fetchAllFromESPN() {\n    Swal.fire({\n        title: 'Fetch All Matches from ESPN?',\n        text: 'This will fetch all matches for the current season from ESPN.',\n        icon: 'question',\n        showCancelButton: true,\n        confirmButtonText: 'Yes, fetch all!'\n    }).then((result) => {\n        if (result.isConfirmed) {\n            Swal.fire({\n                title: 'Fetching matches...',\n                text: 'This may take a few moments.',\n                allowOutsideClick: false,\n                didOpen: () => {\n                    Swal.showLoading();\n                }\n            });\n            \n            fetch('/admin/match_management/fetch-all-from-espn', {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json',\n                    'X-CSRFToken': csrfToken\n                }\n            })\n            .then(response => response.json())\n            .then(data => {\n                if (data.success) {\n                    Swal.fire('Success!', data.message, 'success');\n                    setTimeout(() => location.reload(), 2000);\n                } else {\n                    Swal.fire('Error!', data.message, 'error');\n                }\n            })\n            .catch(error => {\n                console.error('Error:', error);\n                Swal.fire('Error!', 'An error occurred while fetching matches.', 'error');\n            });\n        }\n    });\n}\n\nfunction clearAllMatches() {\n    Swal.fire({\n        title: 'Clear All Matches?',\n        text: 'This will remove ALL matches from the database. This action cannot be undone!',\n        icon: 'warning',\n        showCancelButton: true,\n        confirmButtonText: 'Yes, clear all!',\n        confirmButtonColor: (typeof ECSTheme !== 'undefined') ? ECSTheme.getColor('danger') : '#dc3545'\n    }).then((result) => {\n        if (result.isConfirmed) {\n            fetch('/admin/match_management/clear-all', {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json',\n                    'X-CSRFToken': csrfToken\n                }\n            })\n            .then(response => response.json())\n            .then(data => {\n                if (data.success) {\n                    Swal.fire('Success!', data.message, 'success');\n                    setTimeout(() => location.reload(), 2000);\n                } else {\n                    Swal.fire('Error!', data.message, 'error');\n                }\n            })\n            .catch(error => {\n                console.error('Error:', error);\n                Swal.fire('Error!', 'An error occurred while clearing matches.', 'error');\n            });\n        }\n    });\n}\n\nfunction matchMgmtEditMatch(matchId) {\n    // Implementation for editing a match\n    Swal.fire('Info', 'Edit match functionality to be implemented.', 'info');\n}\n\nfunction removeMatch(matchId) {\n    Swal.fire({\n        title: 'Remove Match?',\n        text: 'This will remove the match from the database.',\n        icon: 'warning',\n        showCancelButton: true,\n        confirmButtonText: 'Yes, remove it!',\n        confirmButtonColor: (typeof ECSTheme !== 'undefined') ? ECSTheme.getColor('danger') : '#dc3545'\n    }).then((result) => {\n        if (result.isConfirmed) {\n            fetch(`/admin/match_management/remove/${matchId}`, {\n                method: 'DELETE',\n                headers: {\n                    'Content-Type': 'application/json',\n                    'X-CSRFToken': csrfToken\n                }\n            })\n            .then(response => response.json())\n            .then(data => {\n                if (data.success) {\n                    Swal.fire('Success!', data.message, 'success');\n                    setTimeout(() => location.reload(), 2000);\n                } else {\n                    Swal.fire('Error!', data.message, 'error');\n                }\n            })\n            .catch(error => {\n                console.error('Error:', error);\n                Swal.fire('Error!', 'An error occurred while removing the match.', 'error');\n            });\n        }\n    });\n}\n\n// Queue management functions\nfunction matchMgmtShowQueueStatus() {\n    $('#queueStatusModal').modal('show');\n    refreshQueueStatus();\n}\n\nfunction refreshQueueStatus() {\n    fetch('/admin/match_management/queue-status')\n        .then(response => response.json())\n        .then(data => {\n            if (data.success) {\n                displayQueueStatus(data);\n            } else {\n                document.getElementById('queueStatusContent').innerHTML = \n                    '<div class=\"alert alert-danger\">Failed to load queue status</div>';\n            }\n        })\n        .catch(error => {\n            console.error('Error loading queue status:', error);\n            document.getElementById('queueStatusContent').innerHTML = \n                '<div class=\"alert alert-danger\">Error loading queue status</div>';\n        });\n}\n\nfunction displayQueueStatus(data) {\n    let html = '';\n    \n    // Active tasks\n    if (data.active_tasks && data.active_tasks.length > 0) {\n        html += '<h6>Active Tasks</h6>';\n        html += '<div class=\"table-responsive\"><table class=\"table table-sm\">';\n        html += '<thead><tr><th>Task ID</th><th>Name</th><th>State</th><th>Worker</th><th>ETA</th></tr></thead><tbody>';\n        \n        data.active_tasks.forEach(task => {\n            html += `\n                <tr>\n                    <td><code>${task.task_id.substring(0, 8)}...</code></td>\n                    <td>${task.name || 'Unknown'}</td>\n                    <td><span class=\"badge bg-${getTaskStatusColor(task.state)}\" data-task-state=\"${task.state}\">${task.state}</span></td>\n                    <td>${task.worker || 'Unknown'}</td>\n                    <td>${task.eta ? formatTaskETA(task.eta) : 'N/A'}</td>\n                </tr>\n            `;\n        });\n        \n        html += '</tbody></table></div>';\n    }\n    \n    // Scheduled tasks\n    if (data.scheduled_tasks && data.scheduled_tasks.length > 0) {\n        html += '<h6 class=\"mt-3\">Scheduled Tasks</h6>';\n        html += '<div class=\"table-responsive\"><table class=\"table table-sm\">';\n        html += '<thead><tr><th>Task ID</th><th>Name</th><th>ETA</th></tr></thead><tbody>';\n        \n        data.scheduled_tasks.forEach(task => {\n            html += `\n                <tr>\n                    <td><code>${task.task_id.substring(0, 8)}...</code></td>\n                    <td>${task.name || 'Unknown'}</td>\n                    <td>${task.eta ? formatScheduledTime(task.eta) : 'N/A'}</td>\n                </tr>\n            `;\n        });\n        \n        html += '</tbody></table></div>';\n    }\n    \n    // Worker stats\n    if (data.worker_stats) {\n        html += '<h6 class=\"mt-3\">Worker Statistics</h6>';\n        html += '<div class=\"row\">';\n        \n        Object.entries(data.worker_stats).forEach(([worker, stats]) => {\n            html += `\n                <div class=\"col-md-6 mb-2\">\n                    <div data-component=\"worker-stats-card\" data-worker=\"${worker}\" class=\"card\">\n                        <div class=\"card-body p-2\">\n                            <h6 class=\"card-title mb-1\">${worker}</h6>\n                            <small class=\"text-muted\">\n                                Active: ${stats.active || 0} |\n                                Processed: ${stats.processed || 0}\n                            </small>\n                        </div>\n                    </div>\n                </div>\n            `;\n        });\n        \n        html += '</div>';\n    }\n    \n    if (!html) {\n        html = '<div class=\"alert alert-info\">No active or scheduled tasks</div>';\n    }\n    \n    document.getElementById('queueStatusContent').innerHTML = html;\n}\n\n// Debug functions\nfunction debugMatchTasks(matchId) {\n    fetch(`/admin/match_management/debug-tasks/${matchId}`)\n        .then(response => response.json())\n        .then(data => {\n            if (data.success) {\n                showDebugModal(data.debug_info);\n            } else {\n                Swal.fire('Error!', data.message, 'error');\n            }\n        })\n        .catch(error => {\n            console.error('Error:', error);\n            Swal.fire('Error!', 'An error occurred while fetching debug information.', 'error');\n        });\n}\n\nfunction showDebugModal(debugInfo) {\n    let html = '<div class=\"text-start\">';\n    \n    if (debugInfo.match_info) {\n        html += '<h6>Match Information</h6>';\n        html += '<pre class=\"bg-light p-2 rounded\">' + JSON.stringify(debugInfo.match_info, null, 2) + '</pre>';\n    }\n    \n    if (debugInfo.scheduled_tasks) {\n        html += '<h6>Scheduled Tasks</h6>';\n        html += '<pre class=\"bg-light p-2 rounded\">' + JSON.stringify(debugInfo.scheduled_tasks, null, 2) + '</pre>';\n    }\n    \n    if (debugInfo.active_tasks) {\n        html += '<h6>Active Tasks</h6>';\n        html += '<pre class=\"bg-light p-2 rounded\">' + JSON.stringify(debugInfo.active_tasks, null, 2) + '</pre>';\n    }\n    \n    if (debugInfo.celery_status) {\n        html += '<h6>Celery Status</h6>';\n        html += '<pre class=\"bg-light p-2 rounded\">' + JSON.stringify(debugInfo.celery_status, null, 2) + '</pre>';\n    }\n    \n    html += '</div>';\n    \n    Swal.fire({\n        title: 'Debug Information',\n        html: html,\n        width: '80%',\n        confirmButtonText: 'Close'\n    });\n}\n\nfunction forceScheduleMatch(matchId) {\n    Swal.fire({\n        title: 'Force Schedule Match?',\n        text: 'This will force schedule the match, bypassing normal checks.',\n        icon: 'warning',\n        showCancelButton: true,\n        confirmButtonText: 'Yes, force schedule!'\n    }).then((result) => {\n        if (result.isConfirmed) {\n            fetch(`/admin/match_management/force-schedule/${matchId}`, {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json',\n                    'X-CSRFToken': csrfToken\n                }\n            })\n            .then(response => response.json())\n            .then(data => {\n                if (data.success) {\n                    Swal.fire('Success!', data.message, 'success');\n                    refreshStatuses();\n                } else {\n                    Swal.fire('Error!', data.message, 'error');\n                }\n            })\n            .catch(error => {\n                console.error('Error:', error);\n                Swal.fire('Error!', 'An error occurred while force scheduling the match.', 'error');\n            });\n        }\n    });\n}\n\n// Initialize match management when DOM is ready\n$(document).ready(function() {\n    // Initialize CSRF token\n    initializeCSRFToken();\n    \n    // Format scheduled times on initial page load\n    formatScheduledTimes();\n    \n    // Load task details for all matches after a short delay\n    setTimeout(loadAllTaskDetails, 1000);\n    \n    // With background cache, we can refresh less frequently\n    // Refresh task details every 60 seconds (cache updates every 3 minutes)\n    setInterval(loadAllTaskDetails, 60000);\n    \n    // Auto-refresh every 60 seconds  \n    setInterval(refreshStatuses, 60000);\n    \n    // Handle historical matches toggle\n    const historicalToggle = document.getElementById('historicalMatches');\n    const historicalToggleIcon = document.getElementById('historicalToggleIcon');\n    \n    if (historicalToggle && historicalToggleIcon) {\n        historicalToggle.addEventListener('show.bs.collapse', function () {\n            historicalToggleIcon.classList.remove('ti-chevron-down');\n            historicalToggleIcon.classList.add('ti-chevron-up');\n            \n            // Load task details for historical matches when expanded\n            setTimeout(() => {\n                document.querySelectorAll('[data-match-type=\"historical\"][data-match-id]').forEach(card => {\n                    const matchId = card.dataset.matchId;\n                    if (matchId) {\n                        loadMatchTaskDetails(matchId);\n                    }\n                });\n            }, 100);\n        });\n        \n        historicalToggle.addEventListener('hide.bs.collapse', function () {\n            historicalToggleIcon.classList.remove('ti-chevron-up');\n            historicalToggleIcon.classList.add('ti-chevron-down');\n        });\n    }\n});\n\n// Show cache status\nfunction showCacheStatus() {\n    fetch('/admin/match_management/cache-status')\n        .then(response => response.json())\n        .then(data => {\n            if (data.success) {\n                const stats = data.cache_stats;\n                const modalHtml = `\n                    <div class=\"modal fade\" id=\"cacheStatusModal\" tabindex=\"-1\">\n                        <div class=\"modal-dialog modal-lg\">\n                            <div class=\"modal-content\">\n                                <div class=\"modal-header\">\n                                    <h5 class=\"modal-title\">\n                                        <i class=\"ti ti-database me-2\"></i>Cache System Status\n                                    </h5>\n                                    <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\"></button>\n                                </div>\n                                <div class=\"modal-body\">\n                                    <div class=\"row mb-3\">\n                                        <div class=\"col-md-6\">\n                                            <div data-component=\"cache-stat-card\" data-stat-type=\"entries\" class=\"card bg-primary text-white\">\n                                                <div class=\"card-body text-center\">\n                                                    <h3 class=\"card-title\">${stats.total_entries}</h3>\n                                                    <p class=\"card-text mb-0\">Cached Entries</p>\n                                                </div>\n                                            </div>\n                                        </div>\n                                        <div class=\"col-md-6\">\n                                            <div data-component=\"cache-stat-card\" data-stat-type=\"coverage\" class=\"card bg-success text-white\">\n                                                <div class=\"card-body text-center\">\n                                                    <h3 class=\"card-title\">${stats.cache_coverage_percent.toFixed(1)}%</h3>\n                                                    <p class=\"card-text mb-0\">Coverage</p>\n                                                </div>\n                                            </div>\n                                        </div>\n                                    </div>\n                                    <div class=\"row mb-3\">\n                                        <div class=\"col-md-6\">\n                                            <div data-component=\"cache-stat-card\" data-stat-type=\"health\" class=\"card bg-info text-white\">\n                                                <div class=\"card-body text-center\">\n                                                    <h3 class=\"card-title\">${stats.health_score_percent.toFixed(1)}%</h3>\n                                                    <p class=\"card-text mb-0\">Health Score</p>\n                                                </div>\n                                            </div>\n                                        </div>\n                                        <div class=\"col-md-6\">\n                                            <div data-component=\"cache-stat-card\" data-stat-type=\"ttl\" class=\"card bg-warning text-white\">\n                                                <div class=\"card-body text-center\">\n                                                    <h3 class=\"card-title\">${Math.round(stats.ttl_seconds / 60)}min</h3>\n                                                    <p class=\"card-text mb-0\">Cache TTL</p>\n                                                </div>\n                                            </div>\n                                        </div>\n                                    </div>\n                                    <div class=\"table-responsive\">\n                                        <table class=\"table table-sm\">\n                                            <tbody>\n                                                <tr><td><strong>Active Matches:</strong></td><td>${stats.active_matches}</td></tr>\n                                                <tr><td><strong>Sample Size:</strong></td><td>${stats.sample_size}</td></tr>\n                                                <tr><td><strong>Valid Entries:</strong></td><td>${stats.valid_entries}</td></tr>\n                                                <tr><td><strong>Avg Entry Size:</strong></td><td>${(stats.avg_entry_size_bytes / 1024).toFixed(1)} KB</td></tr>\n                                                <tr><td><strong>Est. Total Size:</strong></td><td>${(stats.estimated_total_size_bytes / 1024 / 1024).toFixed(1)} MB</td></tr>\n                                                <tr><td><strong>Last Updated:</strong></td><td>${new Date(data.timestamp).toLocaleString()}</td></tr>\n                                            </tbody>\n                                        </table>\n                                    </div>\n                                    <div class=\"alert alert-info\">\n                                        <i class=\"ti ti-info-circle me-2\"></i>\n                                        Cache is updated automatically every 3 minutes by background tasks. \n                                        High coverage and health scores indicate optimal performance.\n                                    </div>\n                                </div>\n                                <div class=\"modal-footer\">\n                                    <button type=\"button\" class=\"btn btn-secondary\" data-bs-dismiss=\"modal\">Close</button>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                `;\n                \n                // Remove existing modal if present\n                const existingModal = document.getElementById('cacheStatusModal');\n                if (existingModal) {\n                    existingModal.remove();\n                }\n                \n                // Add modal to body\n                document.body.insertAdjacentHTML('beforeend', modalHtml);\n                \n                // Show modal\n                ModalManager.show('cacheStatusModal');\n                \n                // Clean up when modal is hidden\n                document.getElementById('cacheStatusModal').addEventListener('hidden.bs.modal', function () {\n                    this.remove();\n                });\n                \n            } else {\n                alert('Failed to load cache status: ' + data.error);\n            }\n        })\n        .catch(error => {\n            console.error('Error loading cache status:', error);\n            alert('Error loading cache status');\n        });\n}\n","// static/custom_js/match_stats.js\n\n$(document).ready(function () {\n    // Initialize Feather Icons for dynamically added elements\n    if (feather) {\n        if (typeof feather !== 'undefined') {\n            feather.replace();\n        }\n    }\n\n    // Event delegation for Edit buttons\n    $(document).on('click', '.edit-match-stat-btn', function () {\n        var statId = $(this).data('stat-id');\n        matchStatsEditMatch(statId);\n    });\n\n    // Event delegation for Remove buttons\n    $(document).on('click', '.remove-match-stat-btn', function () {\n        var statId = $(this).data('stat-id');\n        removeMatchStat(statId);\n    });\n\n    // Initialize filter on page load\n    filterMatchStats();\n\n    // Bind filter change\n    $('#matchFilter').on('change', function () {\n        filterMatchStats();\n    });\n});\n\n// Function to filter match stats based on selected match\nfunction filterMatchStats() {\n    var selectedMatchId = $('#matchFilter').val();  // Get the selected match ID\n    $('#matchStatsContainer .card').each(function () {\n        var matchId = $(this).data('match-id');  // Each card should have a data-match-id attribute\n        if (selectedMatchId === '' || matchId == selectedMatchId) {\n            $(this).show();  // Show the card if it matches the filter\n        } else {\n            $(this).hide();  // Hide the card if it doesn't match the filter\n        }\n    });\n}\n\n// Function to open Edit Match Stat Modal with data populated\nfunction matchStatsEditMatch(statId) {\n    // Fetch the existing stat data via AJAX\n    var csrfToken = $('input[name=\"csrf_token\"]').val();  // Get CSRF token\n\n    $.ajax({\n        url: '/edit_match_stat/' + statId,\n        method: 'GET',\n        headers: {\n            'X-CSRFToken': csrfToken,  // Add CSRF token for protection\n        },\n        success: function (data) {\n            // Populate the inputs with the received data\n            $('#editGoalsInput').val(data.goals);\n            $('#editAssistsInput').val(data.assists);\n            $('#editYellowCardsInput').val(data.yellow_cards);\n            $('#editRedCardsInput').val(data.red_cards);\n            $('#editStatId').val(statId);  // Store statId in the hidden input for form submission\n\n            // Show the modal\n            $('#editMatchStatModal').modal('show');\n        },\n        error: function () {\n            Swal.fire({\n                icon: 'error',\n                title: 'Error',\n                text: 'Failed to load match stats. Please try again.',\n            });\n        }\n    });\n}\n\n// Function to remove a match stat with SA2 confirmation\nfunction removeMatchStat(statId) {\n    Swal.fire({\n        title: 'Are you sure?',\n        text: \"Do you want to remove this stat?\",\n        icon: 'warning',\n        showCancelButton: true,\n        confirmButtonColor: (typeof ECSTheme !== 'undefined') ? ECSTheme.getColor('primary') : '#0d6efd',\n        cancelButtonColor: (typeof ECSTheme !== 'undefined') ? ECSTheme.getColor('danger') : '#dc3545',\n        confirmButtonText: 'Yes, remove it!'\n    }).then((result) => {\n        if (result.isConfirmed) {\n            var csrfToken = $('input[name=\"csrf_token\"]').val();  // Get CSRF token\n            $.ajax({\n                url: '/remove_match_stat/' + statId,\n                method: 'POST',\n                headers: {\n                    'X-CSRFToken': csrfToken  // Include CSRF token for protection\n                },\n                beforeSend: function () {\n                    // Show loading popup\n                    Swal.fire({\n                        title: 'Removing...',\n                        text: 'Please wait while the stat is being removed.',\n                        allowOutsideClick: false,\n                        didOpen: () => {\n                            Swal.showLoading()\n                        }\n                    });\n                },\n                success: function (response) {\n                    if (response.success) {\n                        Swal.fire(\n                            'Removed!',\n                            'The stat has been removed successfully.',\n                            'success'\n                        ).then(() => {\n                            location.reload();  // Refresh the page to reflect the updated data\n                        });\n                    } else {\n                        Swal.fire(\n                            'Error!',\n                            response.message || 'Failed to remove the stat.',\n                            'error'\n                        );\n                    }\n                },\n                error: function () {\n                    Swal.fire(\n                        'Error!',\n                        'Failed to remove match stat. Please try again.',\n                        'error'\n                    );\n                }\n            });\n        }\n    });\n}\n\n// Handle form submission for editing match stats with SA2 confirmation\n$('#editMatchStatForm').submit(function (e) {\n    e.preventDefault();  // Prevent default form submission\n\n    var statId = $('#editStatId').val();  // Get the stat ID\n    var formData = $(this).serialize();  // Serialize the form data\n    var csrfToken = $('input[name=\"csrf_token\"]').val();  // Get CSRF token\n\n    Swal.fire({\n        title: 'Confirm Changes',\n        text: \"Are you sure you want to save these changes?\",\n        icon: 'question',\n        showCancelButton: true,\n        confirmButtonColor: (typeof ECSTheme !== 'undefined') ? ECSTheme.getColor('primary') : '#0d6efd',\n        cancelButtonColor: (typeof ECSTheme !== 'undefined') ? ECSTheme.getColor('danger') : '#dc3545',\n        confirmButtonText: 'Yes, save it!'\n    }).then((result) => {\n        if (result.isConfirmed) {\n            // Proceed with AJAX submission\n            $.ajax({\n                url: '/edit_match_stat/' + statId,  // Use the stat ID to send the request to the correct endpoint\n                method: 'POST',\n                data: formData,\n                headers: {\n                    'X-CSRFToken': csrfToken,  // Include CSRF token for protection\n                },\n                beforeSend: function () {\n                    // Show loading popup\n                    Swal.fire({\n                        title: 'Saving...',\n                        text: 'Please wait while your changes are being saved.',\n                        allowOutsideClick: false,\n                        didOpen: () => {\n                            Swal.showLoading()\n                        }\n                    });\n                },\n                success: function (response) {\n                    if (response.success) {\n                        Swal.fire(\n                            'Success!',\n                            'Match stat has been updated successfully.',\n                            'success'\n                        ).then(() => {\n                            // Close the modal\n                            $('#editMatchStatModal').modal('hide');\n                            // Reload the page to reflect the updated data\n                            location.reload();\n                        });\n                    } else {\n                        Swal.fire(\n                            'Error!',\n                            response.message || 'Failed to update match stat.',\n                            'error'\n                        );\n                    }\n                },\n                error: function () {\n                    Swal.fire(\n                        'Error!',\n                        'Failed to update match stat. Please try again.',\n                        'error'\n                    );\n                }\n            });\n        }\n    });\n});\n","/**\n * Profile Merge Management\n * Handles the UI and interaction for merging duplicate player profiles\n */\n\ndocument.addEventListener('DOMContentLoaded', function() {\n    initializeMergeProfileUI();\n});\n\nfunction initializeMergeProfileUI() {\n    // Handle field selection visual feedback\n    document.querySelectorAll('.value-option').forEach(option => {\n        option.addEventListener('click', function() {\n            const field = this.dataset.field;\n            const value = this.dataset.value;\n\n            // Remove selected class from other options for this field\n            document.querySelectorAll(`[data-field=\"${field}\"]`).forEach(opt => {\n                opt.classList.remove('selected');\n            });\n\n            // Add selected class to clicked option\n            this.classList.add('selected');\n\n            // Check the radio button\n            this.querySelector('input[type=\"radio\"]').checked = true;\n\n            // Update preview\n            updateMergePreview();\n        });\n    });\n\n    // Initialize with current selections\n    updateMergePreview();\n}\n\nfunction updateMergePreview() {\n    const updatesList = document.getElementById('updatesList');\n    if (!updatesList) return;\n\n    const updates = [];\n\n    document.querySelectorAll('input[type=\"radio\"]:checked').forEach(radio => {\n        const field = radio.name.replace('field_', '');\n        const value = radio.value;\n\n        if (value === 'new') {\n            updates.push(`<small class=\"d-block text-primary\">Update ${field.replace('_', ' ')}</small>`);\n        } else if (value === 'combine') {\n            updates.push(`<small class=\"d-block text-warning\">Combine ${field.replace('_', ' ')}</small>`);\n        }\n    });\n\n    if (updates.length > 0) {\n        updatesList.innerHTML = updates.join('');\n    } else {\n        updatesList.innerHTML = '<p class=\"text-muted mb-0\"><em>No changes selected</em></p>';\n    }\n}\n","/**\n * ============================================================================\n * MATCHES MANAGEMENT - EVENT DELEGATION & HANDLERS\n * ============================================================================\n *\n * External JavaScript for matches.html (deprecated page)\n * Handles match editing, deletion, and live reporting controls\n *\n * Event Delegation Pattern:\n *   - data-action=\"edit-match\"\n *   - data-action=\"remove-match\"\n *   - data-action=\"clear-matches\"\n *   - data-action=\"start-reporting\"\n *   - data-action=\"stop-reporting\"\n *\n * ============================================================================\n */\n\n(function() {\n  'use strict';\n\n  // Competition mappings\n  const competitionMappings = {\n    \"MLS\": \"usa.1\",\n    \"US Open Cup\": \"usa.open\",\n    \"FIFA Club World Cup\": \"fifa.cwc\",\n    \"Concacaf\": \"concacaf.league\",\n    \"Concacaf Champions League\": \"concacaf.champions\",\n  };\n\n  const inverseCompetitionMappings = Object.fromEntries(\n    Object.entries(competitionMappings).map(([key, value]) => [value, key])\n  );\n\n  /**\n   * Initialize match management\n   */\n  function init() {\n    // Event delegation for all match actions\n    document.addEventListener('click', handleMatchActions);\n\n    // Initialize date pickers\n    initializeDatePickers();\n\n    // Update match statuses on load and periodically\n    updateAllMatchStatuses();\n    setInterval(updateAllMatchStatuses, 30000);\n  }\n\n  /**\n   * Handle all match action clicks\n   */\n  function handleMatchActions(e) {\n    const target = e.target.closest('[data-action]');\n    if (!target) return;\n\n    const action = target.dataset.action;\n    const matchId = target.dataset.matchId;\n\n    switch(action) {\n      case 'edit-match':\n        e.preventDefault();\n        editMatch(matchId);\n        break;\n      case 'remove-match':\n        e.preventDefault();\n        removeMatch(matchId);\n        break;\n      case 'clear-matches':\n        e.preventDefault();\n        clearAllMatches();\n        break;\n      case 'start-reporting':\n        startLiveReporting(matchId);\n        break;\n      case 'stop-reporting':\n        stopLiveReporting(matchId);\n        break;\n      case 'save-row':\n        e.preventDefault();\n        saveMatch(matchId);\n        break;\n      case 'cancel-edit':\n        e.preventDefault();\n        cancelEdit(matchId);\n        break;\n    }\n  }\n\n  /**\n   * Initialize Flatpickr date pickers\n   */\n  function initializeDatePickers() {\n    if (typeof flatpickr !== 'undefined') {\n      flatpickr('.flatpickr', {\n        enableTime: true,\n        dateFormat: \"Y-m-d H:i\",\n        time_24hr: true\n      });\n    }\n  }\n\n  /**\n   * Edit match row\n   */\n  function editMatch(matchId) {\n    const row = document.querySelector(`tr[data-match-id=\"${matchId}\"]`);\n    if (!row) {\n      console.error(`Row with match ID ${matchId} not found`);\n      return;\n    }\n\n    const dateCell = row.querySelector('td:nth-child(2)');\n    const competitionCell = row.querySelector('td:nth-child(3)');\n    const actionsCell = row.querySelector('td:last-child');\n\n    // Save original values\n    dateCell.setAttribute('data-original-value', dateCell.textContent);\n    competitionCell.setAttribute('data-original-value', competitionCell.textContent);\n\n    // Replace date with input\n    dateCell.innerHTML = `<input type=\"text\" id=\"edit-date-${matchId}\" class=\"form-control flatpickr\" value=\"${dateCell.textContent.trim()}\" data-form-control>`;\n\n    // Re-initialize Flatpickr for the new input\n    if (typeof flatpickr !== 'undefined') {\n      flatpickr(`#edit-date-${matchId}`, {\n        enableTime: true,\n        dateFormat: \"Y-m-d H:i\",\n        time_24hr: true\n      });\n    }\n\n    // Create competition dropdown\n    let selectHtml = `<select class=\"form-select\" id=\"edit-competition-${matchId}\" data-form-select>`;\n    for (const [friendlyName, actualValue] of Object.entries(competitionMappings)) {\n      const selected = competitionCell.textContent.trim() === friendlyName ? 'selected' : '';\n      selectHtml += `<option value=\"${friendlyName}\" ${selected}>${friendlyName}</option>`;\n    }\n    selectHtml += '</select>';\n    competitionCell.innerHTML = selectHtml;\n\n    // Replace actions with save/cancel\n    actionsCell.innerHTML = `\n      <button type=\"button\" class=\"btn btn-sm btn-success\" data-action=\"save-row\" data-match-id=\"${matchId}\">\n        <i class=\"fas fa-save\"></i> Save\n      </button>\n      <button type=\"button\" class=\"btn btn-sm btn-secondary\" data-action=\"cancel-edit\" data-match-id=\"${matchId}\">\n        <i class=\"fas fa-times\"></i> Cancel\n      </button>\n    `;\n  }\n\n  /**\n   * Save match edits\n   */\n  function saveMatch(matchId) {\n    const row = document.querySelector(`tr[data-match-id=\"${matchId}\"]`);\n    const dateValue = document.getElementById(`edit-date-${matchId}`)?.value.trim();\n    const competitionValue = document.getElementById(`edit-competition-${matchId}`)?.value.trim();\n    const csrfToken = document.querySelector('input[name=\"csrf_token\"]')?.value;\n\n    if (!dateValue || !competitionValue) {\n      alert('Date and Competition fields cannot be empty.');\n      return;\n    }\n\n    fetch(`/bot/admin/update_match/${matchId}`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n        'X-CSRFToken': csrfToken\n      },\n      body: JSON.stringify({\n        date: dateValue,\n        competition: competitionValue\n      })\n    })\n    .then(response => response.json())\n    .then(data => {\n      if (data.success) {\n        // Update cells with new values\n        const newFormattedDate = formatDate(dateValue);\n        row.querySelector('td:nth-child(2)').textContent = newFormattedDate;\n\n        const newCompetitionText = inverseCompetitionMappings[competitionValue] || competitionValue;\n        row.querySelector('td:nth-child(3)').textContent = newCompetitionText;\n\n        resetActionButtons(matchId);\n      } else {\n        alert('Failed to save changes.');\n      }\n    })\n    .catch(error => {\n      console.error('Error:', error);\n      alert('Failed to save changes. Please try again.');\n    });\n  }\n\n  /**\n   * Cancel edit mode\n   */\n  function cancelEdit(matchId) {\n    const row = document.querySelector(`tr[data-match-id=\"${matchId}\"]`);\n    const dateCell = row.querySelector('td:nth-child(2)');\n    const competitionCell = row.querySelector('td:nth-child(3)');\n\n    // Revert to original values\n    dateCell.textContent = dateCell.getAttribute('data-original-value');\n    competitionCell.textContent = competitionCell.getAttribute('data-original-value');\n\n    resetActionButtons(matchId);\n  }\n\n  /**\n   * Reset action buttons to default state\n   */\n  function resetActionButtons(matchId) {\n    const row = document.querySelector(`tr[data-match-id=\"${matchId}\"]`);\n    if (!row) return;\n\n    const actionsCell = row.querySelector('td:last-child');\n    const statusElement = row.querySelector('td:nth-child(4) span');\n    const currentStatus = statusElement?.textContent.toLowerCase().trim() || 'stopped';\n\n    actionsCell.innerHTML = `\n      <div class=\"c-match-actions\">\n        <div class=\"c-match-actions__dropdown dropdown d-inline-block me-2\">\n          <button class=\"btn btn-link text-secondary dropdown-toggle\" type=\"button\" data-bs-toggle=\"dropdown\" aria-expanded=\"false\" data-dropdown-toggle>\n            <i class=\"fas fa-ellipsis-v\"></i>\n          </button>\n          <ul class=\"dropdown-menu dropdown-menu-end\" data-dropdown-menu>\n            <li>\n              <a class=\"dropdown-item\" href=\"#\" data-action=\"edit-match\" data-match-id=\"${matchId}\">\n                <i class=\"fas fa-edit me-1\"></i> Edit\n              </a>\n            </li>\n            <li>\n              <a class=\"dropdown-item text-danger\" href=\"#\" data-action=\"remove-match\" data-match-id=\"${matchId}\">\n                <i class=\"fas fa-trash-alt me-1\"></i> Delete\n              </a>\n            </li>\n          </ul>\n        </div>\n        <button class=\"c-match-actions__button c-match-actions__button--primary\" data-action=\"start-reporting\" data-match-id=\"${matchId}\" ${currentStatus === 'running' ? 'disabled' : ''}>\n          ${currentStatus === 'scheduled' ? 'Force Start' : currentStatus === 'running' ? 'Running' : 'Start'}\n        </button>\n        <button class=\"c-match-actions__button c-match-actions__button--danger\" data-action=\"stop-reporting\" data-match-id=\"${matchId}\" ${currentStatus !== 'running' ? 'disabled' : ''}>\n          Stop\n        </button>\n      </div>\n    `;\n  }\n\n  /**\n   * Remove match with confirmation\n   */\n  function removeMatch(matchId) {\n    const confirmDelete = typeof Swal !== 'undefined'\n      ? Swal.fire({\n          title: 'Are you sure?',\n          text: \"This action cannot be undone.\",\n          icon: 'warning',\n          showCancelButton: true,\n          confirmButtonText: 'Yes, delete it!',\n          cancelButtonText: 'Cancel'\n        })\n      : Promise.resolve({ isConfirmed: confirm('Are you sure you want to delete this match?') });\n\n    confirmDelete.then((result) => {\n      if (result.isConfirmed) {\n        const csrfToken = document.querySelector('input[name=\"csrf_token\"]')?.value;\n\n        fetch(`/bot/admin/matches/remove/${matchId}`, {\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/json',\n            'X-CSRFToken': csrfToken\n          }\n        })\n        .then(response => response.json())\n        .then(data => {\n          if (data.success) {\n            const row = document.querySelector(`tr[data-match-id=\"${matchId}\"]`);\n            if (row) row.remove();\n\n            if (typeof Swal !== 'undefined') {\n              Swal.fire('Deleted!', data.message, 'success');\n            }\n          } else {\n            throw new Error(data.message || 'Failed to remove the match.');\n          }\n        })\n        .catch(error => {\n          console.error('Error:', error);\n          if (typeof Swal !== 'undefined') {\n            Swal.fire('Error', error.message, 'error');\n          } else {\n            alert('Error: ' + error.message);\n          }\n        });\n      }\n    });\n  }\n\n  /**\n   * Clear all matches\n   */\n  function clearAllMatches() {\n    const confirmClear = typeof Swal !== 'undefined'\n      ? Swal.fire({\n          title: 'Are you sure?',\n          text: \"This will delete ALL matches. This action cannot be undone.\",\n          icon: 'warning',\n          showCancelButton: true,\n          confirmButtonText: 'Yes, clear all!',\n          cancelButtonText: 'Cancel'\n        })\n      : Promise.resolve({ isConfirmed: confirm('Are you sure you want to clear ALL matches?') });\n\n    confirmClear.then((result) => {\n      if (result.isConfirmed) {\n        const csrfToken = document.querySelector('input[name=\"csrf_token\"]')?.value;\n        const clearUrl = document.querySelector('[data-action=\"clear-matches\"]')?.getAttribute('href') || '/bot/admin/clear_all_mls_matches';\n\n        fetch(clearUrl, {\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/json',\n            'X-CSRFToken': csrfToken\n          }\n        })\n        .then(response => response.json())\n        .then(data => {\n          if (data.success) {\n            if (typeof Swal !== 'undefined') {\n              Swal.fire('Cleared!', 'All matches have been cleared.', 'success').then(() => {\n                location.reload();\n              });\n            } else {\n              alert('All matches have been cleared.');\n              location.reload();\n            }\n          } else {\n            throw new Error('Failed to clear matches.');\n          }\n        })\n        .catch(error => {\n          console.error('Error:', error);\n          if (typeof Swal !== 'undefined') {\n            Swal.fire('Error', error.message, 'error');\n          } else {\n            alert('Error: ' + error.message);\n          }\n        });\n      }\n    });\n  }\n\n  /**\n   * Start live reporting\n   */\n  function startLiveReporting(matchId) {\n    const startButton = document.querySelector(`[data-action=\"start-reporting\"][data-match-id=\"${matchId}\"]`);\n    const stopButton = document.querySelector(`[data-action=\"stop-reporting\"][data-match-id=\"${matchId}\"]`);\n\n    if (startButton) startButton.disabled = true;\n\n    const csrfToken = document.querySelector('input[name=\"csrf_token\"]')?.value;\n\n    fetch(`/bot/admin/start_live_reporting/${matchId}`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n        'X-CSRFToken': csrfToken\n      }\n    })\n    .then(response => {\n      if (!response.ok) throw new Error(`HTTP error! status: ${response.status}`);\n      return response.json();\n    })\n    .then(data => {\n      if (data.success) {\n        updateMatchStatus(matchId, 'running');\n        console.log(`Live reporting started. Task ID: ${data.task_id}`);\n      } else {\n        if (startButton) startButton.disabled = false;\n        alert(data.message);\n      }\n    })\n    .catch(error => {\n      console.error('Error:', error);\n      if (startButton) startButton.disabled = false;\n      alert('Failed to start live reporting. Please try again.');\n    });\n  }\n\n  /**\n   * Stop live reporting\n   */\n  function stopLiveReporting(matchId) {\n    const stopButton = document.querySelector(`[data-action=\"stop-reporting\"][data-match-id=\"${matchId}\"]`);\n\n    if (stopButton) stopButton.disabled = true;\n\n    const csrfToken = document.querySelector('input[name=\"csrf_token\"]')?.value;\n\n    fetch(`/bot/admin/stop_live_reporting/${matchId}`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n        'X-CSRFToken': csrfToken\n      }\n    })\n    .then(response => {\n      if (!response.ok) throw new Error(`HTTP error! status: ${response.status}`);\n      return response.json();\n    })\n    .then(data => {\n      if (data.success) {\n        updateMatchStatus(matchId, 'stopped');\n      } else {\n        if (stopButton) stopButton.disabled = false;\n        alert(data.message);\n      }\n    })\n    .catch(error => {\n      console.error('Error:', error);\n      if (stopButton) stopButton.disabled = false;\n      alert('Failed to stop live reporting. Please try again.');\n    });\n  }\n\n  /**\n   * Update match status display\n   */\n  function updateMatchStatus(matchId, status) {\n    const statusSpan = document.getElementById(`status-${matchId}`);\n    const startButton = document.querySelector(`[data-action=\"start-reporting\"][data-match-id=\"${matchId}\"]`);\n    const stopButton = document.querySelector(`[data-action=\"stop-reporting\"][data-match-id=\"${matchId}\"]`);\n\n    if (statusSpan && startButton && stopButton) {\n      statusSpan.textContent = status.charAt(0).toUpperCase() + status.slice(1);\n      statusSpan.className = `c-live-status c-live-status--${status}`;\n\n      if (status === 'running') {\n        startButton.textContent = 'Running';\n        startButton.disabled = true;\n        stopButton.disabled = false;\n      } else if (status === 'scheduled') {\n        startButton.textContent = 'Force Start';\n        startButton.disabled = false;\n        stopButton.disabled = true;\n      } else {\n        startButton.textContent = 'Start';\n        startButton.disabled = false;\n        stopButton.disabled = true;\n      }\n    }\n  }\n\n  /**\n   * Update all match statuses\n   */\n  function updateAllMatchStatuses() {\n    fetch('/bot/admin/get_all_match_statuses')\n      .then(response => response.json())\n      .then(data => {\n        Object.entries(data).forEach(([matchId, matchData]) => {\n          updateMatchStatus(matchId, matchData.status);\n        });\n      })\n      .catch(error => console.error('Error updating statuses:', error));\n  }\n\n  /**\n   * Format date string\n   */\n  function formatDate(dateString) {\n    const dateObj = new Date(dateString);\n    dateObj.setHours(dateObj.getHours() + 25); // Adjust as per original logic\n    const options = {\n      year: 'numeric',\n      month: '2-digit',\n      day: '2-digit',\n      hour: '2-digit',\n      minute: '2-digit',\n      hour12: true\n    };\n    return dateObj.toLocaleString('en-US', options).replace(',', '');\n  }\n\n  // Initialize on DOM ready\n  if (document.readyState === 'loading') {\n    document.addEventListener('DOMContentLoaded', init);\n  } else {\n    init();\n  }\n\n})();\n","/**\n * Onboarding Wizard Script\n *\n * Handles the multi-step onboarding carousel modal for new users.\n * Converted to use centralized event delegation (Phase 2.2 Sprint 3).\n *\n * Features:\n * - Multi-step wizard navigation (carousel-based)\n * - Step-by-step form validation\n * - Progress tracking\n * - SMS notification toggle and verification\n * - Profile image cropping integration\n * - Select2 dropdown initialization\n *\n * Event Delegation Actions:\n * - onboarding-create-profile: Start profile creation (from intro screen)\n * - onboarding-skip-profile: Skip profile creation\n * - onboarding-next: Navigate to next step / save final step\n * - onboarding-previous: Navigate to previous step\n * - onboarding-toggle-sms: Toggle SMS notification section\n *\n * @version 2.0.0 (Event Delegation)\n * @date 2025-12-16\n */\n\ndocument.addEventListener('DOMContentLoaded', function () {\n    // Core elements\n    const modalElement = document.getElementById('onboardingSlideModal');\n\n    const carouselElement = document.getElementById('modalCarouselControls');\n    const nextOrSaveButton = document.getElementById('nextOrSaveButton');\n    const previousButton = document.getElementById('previousButton');\n    const carouselControls = document.getElementById('carouselControls');\n    const createProfileButton = document.getElementById('createProfileCarouselButton');\n    const skipProfileButton = document.getElementById('skipProfileButton');\n    const progressIndicator = document.getElementById('onboardingProgress');\n\n    // Form elements\n    const form = modalElement ? modalElement.querySelector('form.needs-validation') : null;\n    const formActionInput = document.getElementById('form_action');\n\n    // Image/cropper elements\n    const imageInput = document.getElementById('image');\n    const croppedImageHiddenInput = document.getElementById('cropped_image_data');\n\n    // State variables\n    let selectedFile = null;\n    let isCropping = false;\n    let totalSteps = document.querySelectorAll('.carousel-item').length;\n    let bootstrapCarousel;\n\n    // =====================\n    //  Modal initialization\n    // =====================\n    if (modalElement) {\n        // console.log(\"Initializing onboarding modal\");\n        try {\n            const onboardingModal = ModalManager.getInstance(modalElement.id, {\n                backdrop: 'static',\n                keyboard: false\n            });\n            onboardingModal.show();\n            // console.log(\"Modal show() called\");\n        } catch (error) {\n            // console.error(\"Error showing modal:\", error);\n        }\n\n        modalElement.addEventListener('shown.bs.modal', function () {\n            // Initialize Select2 dropdowns\n            $(modalElement).find('.select2-single').select2({\n                theme: 'bootstrap-5',\n                width: '100%',\n                placeholder: 'Select an option',\n                allowClear: true,\n                dropdownParent: $(modalElement)\n            });\n\n            $(modalElement).find('.select2-multiple').select2({\n                theme: 'bootstrap-5',\n                width: '100%',\n                placeholder: 'Select options',\n                allowClear: true,\n                dropdownParent: $(modalElement)\n            });\n\n            // Update the progress bar\n            updateProgress();\n        });\n\n        modalElement.addEventListener('hidden.bs.modal', function () {\n            $(modalElement).find('.select2-single, .select2-multiple').select2('destroy');\n        });\n    }\n\n    // ======================\n    //   Image / Simple Cropper\n    // ======================\n\n    // Initialize the simple cropper when modal is shown\n    modalElement?.addEventListener('shown.bs.modal', function () {\n        if (!window.SimpleCropperInstance) {\n            window.SimpleCropperInstance = initializeSimpleCropper('cropCanvas');\n        }\n\n        // Also ensure the file input has the change listener\n        const imageInput = document.getElementById('image');\n        if (imageInput && !imageInput.hasAttribute('data-listener-added')) {\n            imageInput.setAttribute('data-listener-added', 'true');\n            imageInput.addEventListener('change', function (e) {\n                window.loadImageIntoCropper(this);\n            });\n        }\n    });\n\n    // Note: Crop & Save handling is now done in simple-cropper.js via cropAndSaveProfileImage()\n\n    // ======================\n    //  Carousel initialization\n    // ======================\n    if (carouselElement) {\n        bootstrapCarousel = new bootstrap.Carousel(carouselElement, {\n            interval: false, // don't auto-slide\n            ride: false,\n            touch: false,\n            wrap: false,\n            keyboard: false\n        });\n\n        carouselElement.addEventListener('slide.bs.carousel', function (e) {\n            if (isCropping) {\n                e.preventDefault();\n                return false;\n            }\n        });\n\n        carouselElement.addEventListener('slid.bs.carousel', function () {\n            updateNavButtons();\n            updateProgress();\n        });\n    }\n\n    // ======================\n    //  Navigation controls\n    // ======================\n    // CONVERTED TO EVENT DELEGATION - See event-delegation.js for handlers\n    // Actions: onboarding-create-profile, onboarding-skip-profile,\n    //          onboarding-next, onboarding-previous\n\n    // Expose helper functions globally for event handlers\n    window.OnboardingWizard = {\n        getCurrentStep: getCurrentStep,\n        updateNavButtons: updateNavButtons,\n        updateProgress: updateProgress,\n        getFormElements: () => ({\n            form,\n            formActionInput,\n            croppedImageHiddenInput,\n            carouselElement,\n            bootstrapCarousel,\n            totalSteps\n        })\n    };\n\n    // ======================\n    //  SMS Toggle Logic\n    // ======================\n    // CONVERTED TO EVENT DELEGATION - See event-delegation.js for handler\n    // Action: onboarding-toggle-sms (via data-on-change on SMS toggle checkbox)\n\n    // Initialize SMS section state on page load\n    const smsToggle = document.getElementById('smsNotifications');\n    const smsOptInSection = document.getElementById('smsOptInSection');\n\n    if (smsToggle && smsOptInSection) {\n        // Set initial visibility based on checkbox state\n        if (!smsToggle.checked) {\n            smsOptInSection.classList.add('sms-section-hide');\n            smsOptInSection.classList.remove('sms-section-show', 'sms-section-entering');\n        } else {\n            smsOptInSection.classList.add('sms-section-show');\n            smsOptInSection.classList.remove('sms-section-hide', 'sms-section-entering');\n        }\n    }\n\n    // Expose SMS toggle handler for event delegation\n    window.OnboardingWizard.handleSmsToggle = function(checkbox) {\n        const smsOptInSection = document.getElementById('smsOptInSection');\n        if (!smsOptInSection) return;\n\n        // Find phone number and consent elements within the section\n        const phoneNumberInput = smsOptInSection.querySelector('#phoneNumber');\n        const smsConsentInput = smsOptInSection.querySelector('#smsConsent');\n\n        if (checkbox.checked) {\n            // Show the SMS opt-in section with animation\n            // 1. Remove hide class and add entering class (display:block, opacity:0)\n            smsOptInSection.classList.remove('sms-section-hide');\n            smsOptInSection.classList.add('sms-section-entering');\n\n            // 2. Force reflow to ensure the entering state is applied\n            void smsOptInSection.offsetWidth;\n\n            // 3. After a small delay, transition to show state (opacity:1)\n            setTimeout(() => {\n                smsOptInSection.classList.remove('sms-section-entering');\n                smsOptInSection.classList.add('sms-section-show');\n            }, 10);\n\n            // Mark fields as required if they exist\n            if (phoneNumberInput) phoneNumberInput.setAttribute('required', 'true');\n            if (smsConsentInput) smsConsentInput.setAttribute('required', 'true');\n        } else {\n            // Hide the SMS opt-in section with animation\n            // 1. Add exiting class to start fade-out (opacity:0 with transition)\n            smsOptInSection.classList.remove('sms-section-show');\n            smsOptInSection.classList.add('sms-section-exiting');\n\n            // 2. After transition completes, add hide class (display:none)\n            setTimeout(() => {\n                smsOptInSection.classList.remove('sms-section-exiting');\n                smsOptInSection.classList.add('sms-section-hide');\n            }, 300);\n\n            // Remove required constraints if they exist\n            if (phoneNumberInput) phoneNumberInput.removeAttribute('required');\n            if (smsConsentInput) smsConsentInput.removeAttribute('required');\n        }\n    };\n\n    // ======================\n    //  Helper functions\n    // ======================\n    function getCurrentStep() {\n        if (!carouselElement) {\n            return -1;\n        }\n        const activeItem = carouselElement.querySelector('.carousel-item.active');\n        if (!activeItem) {\n            return -1;\n        }\n        const stepAttr = activeItem.getAttribute('data-step');\n        const step = stepAttr ? parseFloat(stepAttr) : null;\n        return step ? Math.floor(step) : -1;\n    }\n\n    function updateNavButtons() {\n        const step = getCurrentStep();\n\n        // Update visibility of carousel controls\n        if (step === 0 && carouselControls) {\n            carouselControls.classList.add('d-none');\n        } else if (carouselControls) {\n            carouselControls.classList.remove('d-none');\n\n            // On first step, hide previous button\n            if (step === 1 && previousButton) {\n                previousButton.classList.add('d-none');\n            } else if (previousButton) {\n                previousButton.classList.remove('d-none');\n            }\n\n            // On final step, change next button to submit\n            if (step === totalSteps && nextOrSaveButton) {\n                nextOrSaveButton.innerHTML = 'Save and Finish';\n                nextOrSaveButton.type = 'button';  // Keep as button, not submit\n                nextOrSaveButton.classList.remove('btn-primary');\n                nextOrSaveButton.classList.add('btn-success');\n                nextOrSaveButton.removeAttribute('data-bs-slide');\n                nextOrSaveButton.removeAttribute('data-bs-target');\n            } else if (nextOrSaveButton) {\n                nextOrSaveButton.innerHTML = 'Next <i class=\"ti ti-chevron-right ms-2\"></i>';\n                nextOrSaveButton.type = 'button';\n                nextOrSaveButton.classList.remove('btn-success');\n                nextOrSaveButton.classList.add('btn-primary');\n                nextOrSaveButton.removeAttribute('data-bs-slide');  // Remove Bootstrap carousel control\n                nextOrSaveButton.removeAttribute('data-bs-target'); // Remove Bootstrap carousel target\n            }\n        }\n    }\n\n    function updateProgress() {\n        if (!progressIndicator) return;\n\n        const step = getCurrentStep();\n        if (step <= 0) return;\n\n        // Calculate progress (exclude step 0 which is the intro)\n        const progress = Math.floor(((step) / totalSteps) * 100);\n\n        // Update the progress bar using setAttribute for width percentage\n        // This is the only remaining style manipulation, but it's for a dynamic\n        // data-driven value that can't be pre-defined in CSS\n        progressIndicator.style.width = `${progress}%`;\n        progressIndicator.setAttribute('aria-valuenow', progress);\n\n        // Update step indicator\n        const stepDisplay = document.getElementById('currentStep');\n        if (stepDisplay) {\n            stepDisplay.textContent = `Step ${step} of ${totalSteps}`;\n        }\n    }\n\n    // Form validation\n    if (form) {\n        form.addEventListener('submit', function (event) {\n            if (!form.checkValidity()) {\n                event.preventDefault();\n                event.stopPropagation();\n\n                // Find first invalid input and focus it\n                const firstInvalid = form.querySelector(':invalid');\n                if (firstInvalid) {\n                    firstInvalid.focus();\n\n                    // Scroll into view if needed\n                    firstInvalid.scrollIntoView({\n                        behavior: 'smooth',\n                        block: 'center'\n                    });\n                }\n            }\n            form.classList.add('was-validated');\n        }, false);\n    }\n\n    // Initialize everything\n    updateNavButtons();\n    updateProgress();\n\n    // Add real-time validation feedback removal\n    modalElement?.addEventListener('input', function(e) {\n        if (e.target.matches('input[required], select[required], textarea[required]')) {\n            if (e.target.checkValidity()) {\n                e.target.classList.remove('is-invalid');\n                const feedback = e.target.nextElementSibling;\n                if (feedback && feedback.classList.contains('invalid-feedback')) {\n                    feedback.remove();\n                }\n            }\n        }\n    });\n});\n","/**\n * ============================================================================\n * PLAYER PROFILE - Consolidated Profile Interactions\n * ============================================================================\n *\n * Handles all profile page interactions using event delegation and data attributes.\n * Replaces ~450 lines of inline JavaScript from player_profile.html templates.\n *\n * Features:\n * - Profile verification dialog\n * - Discord link prompt\n * - Match filter functionality\n * - Edit mode toggles\n * - Contact modal validation\n * - Flash message handling\n * - Tooltip initialization\n *\n * NO INLINE STYLES - Uses CSS classes and data attributes instead.\n *\n * Dependencies:\n * - Bootstrap 5.x\n * - SweetAlert2 (optional, for better modals)\n * - jQuery (for AJAX calls)\n *\n * ============================================================================\n */\n\n(function() {\n    'use strict';\n\n    // ========================================================================\n    // CONFIGURATION\n    // ========================================================================\n\n    const CONFIG = {\n        DISCORD_PROMPT_DELAY: 3000,\n        VERIFICATION_DELAY: 1000,\n        TOAST_DURATION: 3000\n    };\n\n    // ========================================================================\n    // UTILITY FUNCTIONS\n    // ========================================================================\n\n    /**\n     * Show toast notification\n     * @param {string} message - Message to display\n     * @param {string} type - Type: success, error, warning, info\n     */\n    function showToast(message, type = 'info') {\n        // Check if SweetAlert2 is available\n        if (typeof Swal !== 'undefined') {\n            Swal.fire({\n                toast: true,\n                position: 'top-end',\n                icon: type,\n                title: message,\n                showConfirmButton: false,\n                timer: CONFIG.TOAST_DURATION\n            });\n        } else {\n            // Fallback to alert\n            alert(message);\n        }\n    }\n\n    /**\n     * Get CSRF token from meta tag or form\n     * @returns {string|null} CSRF token\n     */\n    function getCSRFToken() {\n        const meta = document.querySelector('meta[name=\"csrf-token\"]');\n        if (meta) return meta.getAttribute('content');\n\n        const input = document.querySelector('input[name=\"csrf_token\"]');\n        if (input) return input.value;\n\n        return null;\n    }\n\n    // ========================================================================\n    // PROFILE VERIFICATION\n    // ========================================================================\n\n    /**\n     * Initialize profile verification prompt\n     * Shows modal if profile is not verified after delay\n     */\n    function initProfileVerification() {\n        const verifyData = document.querySelector('[data-profile-verify]');\n        if (!verifyData) return;\n\n        const verifyUrl = verifyData.dataset.verifyUrl;\n        const isVerified = verifyData.dataset.verified === 'true';\n\n        if (!isVerified && verifyUrl) {\n            setTimeout(() => {\n                showVerificationDialog(verifyUrl);\n            }, CONFIG.VERIFICATION_DELAY);\n        }\n    }\n\n    /**\n     * Show verification dialog using SweetAlert2 or Bootstrap modal\n     * @param {string} verifyUrl - URL to verification page (GET request)\n     */\n    function showVerificationDialog(verifyUrl) {\n        if (typeof Swal !== 'undefined') {\n            Swal.fire({\n                title: 'Verify Your Profile',\n                text: 'Please review your profile information and confirm it is accurate.',\n                icon: 'info',\n                showCancelButton: true,\n                confirmButtonText: 'Verify Now',\n                cancelButtonText: 'Later'\n            }).then((result) => {\n                if (result.isConfirmed) {\n                    // Navigate to verification page\n                    window.location.href = verifyUrl;\n                }\n            });\n        } else {\n            const confirm = window.confirm('Please review your profile information and confirm it is accurate.\\n\\nVerify now?');\n            if (confirm) {\n                window.location.href = verifyUrl;\n            }\n        }\n    }\n\n    // ========================================================================\n    // DISCORD LINK PROMPT\n    // ========================================================================\n\n    /**\n     * Initialize Discord link prompt\n     * Shows modal after delay if Discord is not linked\n     */\n    function initDiscordPrompt() {\n        const discordData = document.querySelector('[data-discord-prompt]');\n        if (!discordData) return;\n\n        const discordUrl = discordData.dataset.discordUrl;\n        const isLinked = discordData.dataset.linked === 'true';\n        const delay = parseInt(discordData.dataset.delay) || CONFIG.DISCORD_PROMPT_DELAY;\n\n        if (!isLinked && discordUrl) {\n            setTimeout(() => {\n                showDiscordLinkDialog(discordUrl);\n            }, delay);\n        }\n    }\n\n    /**\n     * Show Discord link dialog\n     * @param {string} discordUrl - Discord OAuth URL\n     */\n    function showDiscordLinkDialog(discordUrl) {\n        if (typeof Swal !== 'undefined') {\n            Swal.fire({\n                title: 'Link Your Discord Account',\n                text: 'Connect your Discord account to receive notifications and access exclusive features.',\n                icon: 'info',\n                showCancelButton: true,\n                confirmButtonText: 'Link Discord',\n                cancelButtonText: 'Maybe Later',\n                confirmButtonColor: '#7289DA'\n            }).then((result) => {\n                if (result.isConfirmed) {\n                    window.location.href = discordUrl;\n                }\n            });\n        }\n    }\n\n    // ========================================================================\n    // MATCH FILTER\n    // ========================================================================\n\n    /**\n     * Initialize match filter functionality\n     * Filters match history by season\n     */\n    function initMatchFilter() {\n        const filterSelect = document.querySelector('[data-filter=\"matches\"]');\n        if (!filterSelect) return;\n\n        filterSelect.addEventListener('change', function() {\n            const selectedSeason = this.value;\n            const matchItems = document.querySelectorAll('[data-match-season]');\n\n            matchItems.forEach(item => {\n                const itemSeason = item.dataset.matchSeason;\n\n                if (selectedSeason === 'all' || itemSeason === selectedSeason) {\n                    item.classList.remove('u-hidden');\n                } else {\n                    item.classList.add('u-hidden');\n                }\n            });\n        });\n    }\n\n    // ========================================================================\n    // EDIT MODE TOGGLE\n    // ========================================================================\n\n    /**\n     * Initialize edit mode toggles\n     * Shows/hides edit forms on profile page\n     *\n     * Template structure:\n     *   [data-profile-section=\"section-name\"] - Section container\n     *     .c-form-field__view - View mode content (visible by default)\n     *     .c-form-field__edit - Edit mode content (hidden by default)\n     *     .c-form-field__actions - Save/Cancel buttons (hidden by default)\n     *     [data-action=\"edit-toggle\"] - Edit button\n     *     [data-action=\"cancel-edit\"] - Cancel button\n     */\n    function initEditModeToggles() {\n        document.addEventListener('click', function(e) {\n            // Handle Edit button click\n            const editBtn = e.target.closest('[data-action=\"edit-toggle\"]');\n            if (editBtn) {\n                const sectionName = editBtn.dataset.section;\n                const section = document.querySelector(`[data-profile-section=\"${sectionName}\"]`);\n\n                if (section) {\n                    enterEditMode(section, editBtn);\n                }\n                return;\n            }\n\n            // Handle Cancel button click\n            const cancelBtn = e.target.closest('[data-action=\"cancel-edit\"]');\n            if (cancelBtn) {\n                const sectionName = cancelBtn.dataset.section;\n                const section = document.querySelector(`[data-profile-section=\"${sectionName}\"]`);\n\n                if (section) {\n                    exitEditMode(section);\n                }\n                return;\n            }\n        });\n    }\n\n    /**\n     * Enter edit mode for a profile section\n     * @param {Element} section - The section container\n     * @param {Element} editBtn - The edit button that was clicked\n     */\n    function enterEditMode(section, editBtn) {\n        // Set data-editing on all form fields to trigger CSS\n        section.querySelectorAll('.c-form-field').forEach(field => {\n            field.dataset.editing = 'true';\n        });\n\n        // Also use u-hidden for elements outside the form field pattern\n        section.querySelectorAll('.c-form-field__view:not(.c-form-field .c-form-field__view)').forEach(el => {\n            el.classList.add('u-hidden');\n        });\n        section.querySelectorAll('.c-form-field__edit:not(.c-form-field .c-form-field__edit)').forEach(el => {\n            el.classList.remove('u-hidden');\n        });\n\n        // Show action buttons (save/cancel)\n        const actions = section.querySelector('.c-form-field__actions');\n        if (actions) {\n            actions.classList.remove('u-hidden');\n            actions.style.display = 'flex';\n        }\n\n        // Hide the edit button\n        editBtn.classList.add('u-hidden');\n\n        // Mark section as in edit mode\n        section.classList.add('is-editing');\n\n        console.log('[Player Profile] Entered edit mode for section:', section.dataset.profileSection);\n    }\n\n    /**\n     * Exit edit mode for a profile section\n     * @param {Element} section - The section container\n     */\n    function exitEditMode(section) {\n        // Remove data-editing from all form fields to trigger CSS\n        section.querySelectorAll('.c-form-field').forEach(field => {\n            delete field.dataset.editing;\n        });\n\n        // Also use u-hidden for elements outside the form field pattern\n        section.querySelectorAll('.c-form-field__view:not(.c-form-field .c-form-field__view)').forEach(el => {\n            el.classList.remove('u-hidden');\n        });\n        section.querySelectorAll('.c-form-field__edit:not(.c-form-field .c-form-field__edit)').forEach(el => {\n            el.classList.add('u-hidden');\n        });\n\n        // Hide action buttons\n        const actions = section.querySelector('.c-form-field__actions');\n        if (actions) {\n            actions.classList.add('u-hidden');\n            actions.style.display = '';\n        }\n\n        // Show the edit button\n        const editBtn = section.querySelector('[data-action=\"edit-toggle\"]');\n        if (editBtn) {\n            editBtn.classList.remove('u-hidden');\n        }\n\n        // Mark section as not in edit mode\n        section.classList.remove('is-editing');\n\n        console.log('[Player Profile] Exited edit mode for section:', section.dataset.profileSection);\n    }\n\n    // ========================================================================\n    // CONTACT MODAL VALIDATION\n    // ========================================================================\n\n    /**\n     * Initialize contact modal form validation\n     */\n    function initContactModal() {\n        const contactModal = document.getElementById('contactModal');\n        if (!contactModal) return;\n\n        const form = contactModal.querySelector('form');\n        if (!form) return;\n\n        form.addEventListener('submit', function(e) {\n            e.preventDefault();\n\n            const messageField = form.querySelector('[name=\"message\"]');\n            const message = messageField ? messageField.value.trim() : '';\n\n            if (!message) {\n                showToast('Please enter a message', 'error');\n                if (messageField) messageField.focus();\n                return;\n            }\n\n            // Submit via AJAX\n            const formData = new FormData(form);\n            const submitUrl = form.action;\n\n            fetch(submitUrl, {\n                method: 'POST',\n                body: formData,\n                headers: {\n                    'X-Requested-With': 'XMLHttpRequest'\n                }\n            })\n            .then(response => response.json())\n            .then(data => {\n                if (data.success) {\n                    showToast('Message sent successfully!', 'success');\n                    form.reset();\n\n                    // Close modal\n                    const modalInstance = bootstrap.Modal.getInstance(contactModal);\n                    if (modalInstance) modalInstance.hide();\n                } else {\n                    showToast(data.message || 'Failed to send message', 'error');\n                }\n            })\n            .catch(error => {\n                console.error('Contact form error:', error);\n                showToast('An error occurred. Please try again.', 'error');\n            });\n        });\n    }\n\n    // ========================================================================\n    // FLASH MESSAGES\n    // ========================================================================\n\n    /**\n     * Initialize flash message handling\n     * Displays flash messages from data attributes\n     */\n    function initFlashMessages() {\n        const flashContainer = document.querySelector('[data-flash-messages]');\n        if (!flashContainer) return;\n\n        try {\n            const messages = JSON.parse(flashContainer.dataset.flashMessages);\n\n            if (messages && messages.length > 0) {\n                messages.forEach(msg => {\n                    showToast(msg.text, msg.category);\n                });\n            }\n        } catch (e) {\n            console.error('Failed to parse flash messages:', e);\n        }\n    }\n\n    // ========================================================================\n    // TOOLTIP INITIALIZATION\n    // ========================================================================\n\n    /**\n     * Initialize Bootstrap tooltips\n     * Activates all elements with data-bs-toggle=\"tooltip\"\n     */\n    function initTooltips() {\n        if (typeof bootstrap === 'undefined') return;\n\n        const tooltipTriggerList = document.querySelectorAll('[data-bs-toggle=\"tooltip\"]');\n        const tooltipList = [...tooltipTriggerList].map(tooltipTriggerEl => {\n            return new bootstrap.Tooltip(tooltipTriggerEl);\n        });\n\n        console.log(`[Player Profile] Initialized ${tooltipList.length} tooltips`);\n    }\n\n    // ========================================================================\n    // PROFILE IMAGE ACTIONS\n    // ========================================================================\n\n    /**\n     * Handle profile image actions (upload, change, remove)\n     */\n    function initProfileImageActions() {\n        document.addEventListener('click', function(e) {\n            const imageAction = e.target.closest('[data-image-action]');\n            if (!imageAction) return;\n\n            const action = imageAction.dataset.imageAction;\n\n            switch(action) {\n                case 'upload':\n                    // Trigger file input\n                    const fileInput = document.querySelector('input[type=\"file\"][data-image-upload]');\n                    if (fileInput) fileInput.click();\n                    break;\n\n                case 'remove':\n                    handleImageRemove(imageAction);\n                    break;\n\n                case 'change':\n                    const fileInputChange = document.querySelector('input[type=\"file\"][data-image-upload]');\n                    if (fileInputChange) fileInputChange.click();\n                    break;\n            }\n        });\n    }\n\n    /**\n     * Handle profile image removal\n     * @param {Element} button - Button element that triggered the action\n     */\n    function handleImageRemove(button) {\n        const removeUrl = button.dataset.removeUrl;\n        if (!removeUrl) return;\n\n        if (typeof Swal !== 'undefined') {\n            Swal.fire({\n                title: 'Remove Profile Picture?',\n                text: 'Your profile picture will be removed.',\n                icon: 'warning',\n                showCancelButton: true,\n                confirmButtonText: 'Remove',\n                confirmButtonColor: '#dc3545'\n            }).then((result) => {\n                if (result.isConfirmed) {\n                    performImageRemove(removeUrl);\n                }\n            });\n        } else {\n            if (confirm('Remove your profile picture?')) {\n                performImageRemove(removeUrl);\n            }\n        }\n    }\n\n    /**\n     * Perform profile image removal via AJAX\n     * @param {string} removeUrl - URL to remove image\n     */\n    function performImageRemove(removeUrl) {\n        fetch(removeUrl, {\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json',\n                'X-CSRFToken': getCSRFToken(),\n                'X-Requested-With': 'XMLHttpRequest'\n            }\n        })\n        .then(response => response.json())\n        .then(data => {\n            if (data.success) {\n                showToast('Profile picture removed', 'success');\n                setTimeout(() => location.reload(), 1000);\n            } else {\n                showToast(data.message || 'Failed to remove image', 'error');\n            }\n        })\n        .catch(error => {\n            console.error('Image remove error:', error);\n            showToast('An error occurred', 'error');\n        });\n    }\n\n    // ========================================================================\n    // TAB SYNC (BEM modifier with Bootstrap .active)\n    // ========================================================================\n\n    /**\n     * Initialize tab BEM class sync\n     * Removes c-tabs__link--active from all tabs when Bootstrap adds .active\n     * This prevents two tabs appearing active simultaneously\n     */\n    function initTabSync() {\n        const tabContainer = document.querySelector('[data-component=\"profile-tabs\"]');\n        if (!tabContainer) return;\n\n        // Listen for Bootstrap 5 tab show event\n        tabContainer.addEventListener('shown.bs.tab', function(e) {\n            // Remove BEM active modifier from all tabs\n            const allTabs = tabContainer.querySelectorAll('.c-tabs__link--active');\n            allTabs.forEach(tab => {\n                tab.classList.remove('c-tabs__link--active');\n            });\n\n            // The clicked tab now has .active from Bootstrap, which c-tabs.css styles\n            console.log('[Player Profile] Tab synced:', e.target);\n        });\n    }\n\n    // ========================================================================\n    // MATCH STAT ACTIONS (Edit/Remove)\n    // ========================================================================\n\n    /**\n     * Initialize match stat action buttons (edit and remove)\n     */\n    function initMatchStatActions() {\n        document.addEventListener('click', function(e) {\n            // Handle Edit button\n            const editBtn = e.target.closest('[data-action=\"edit-match-stat\"]');\n            if (editBtn) {\n                e.preventDefault();\n                const statId = editBtn.dataset.statId;\n                openEditStatModal(statId);\n                return;\n            }\n\n            // Handle Remove button\n            const removeBtn = e.target.closest('[data-action=\"remove-match-stat\"]');\n            if (removeBtn) {\n                e.preventDefault();\n                const statId = removeBtn.dataset.statId;\n                confirmRemoveStat(statId, removeBtn);\n                return;\n            }\n        });\n    }\n\n    /**\n     * Open modal to edit stat minute\n     * @param {string} statId - The stat ID to edit\n     */\n    function openEditStatModal(statId) {\n        // Fetch current stat data\n        fetch(`/players/edit_match_stat/${statId}`)\n            .then(response => response.json())\n            .then(data => {\n                const eventLabel = data.event_type ? data.event_type.replace(/_/g, ' ').replace(/\\b\\w/g, l => l.toUpperCase()) : 'Event';\n                const currentMinute = data.minute || '';\n\n                // Use SweetAlert2 for edit modal\n                if (typeof Swal !== 'undefined') {\n                    Swal.fire({\n                        title: `Edit ${eventLabel}`,\n                        html: `\n                            <div class=\"mb-3 text-start\">\n                                <label class=\"form-label\">Match: ${data.match_date}</label>\n                            </div>\n                            <div class=\"mb-3 text-start\">\n                                <label class=\"form-label\" for=\"stat-minute\">Minute</label>\n                                <input type=\"text\" id=\"stat-minute\" class=\"form-control\" value=\"${currentMinute}\" placeholder=\"e.g., 45, 90+2\">\n                            </div>\n                        `,\n                        showCancelButton: true,\n                        confirmButtonText: 'Save',\n                        cancelButtonText: 'Cancel',\n                        confirmButtonColor: '#696cff',\n                        preConfirm: () => {\n                            return document.getElementById('stat-minute').value;\n                        }\n                    }).then((result) => {\n                        if (result.isConfirmed) {\n                            saveStatMinute(statId, result.value);\n                        }\n                    });\n                } else {\n                    // Fallback to prompt\n                    const newMinute = prompt(`Edit minute for ${eventLabel} (${data.match_date}):`, currentMinute);\n                    if (newMinute !== null) {\n                        saveStatMinute(statId, newMinute);\n                    }\n                }\n            })\n            .catch(error => {\n                console.error('Error fetching stat:', error);\n                showToast('Error loading stat data', 'error');\n            });\n    }\n\n    /**\n     * Save updated minute for stat\n     * @param {string} statId - The stat ID\n     * @param {string} minute - The new minute value\n     */\n    function saveStatMinute(statId, minute) {\n        const formData = new FormData();\n        formData.append('minute', minute);\n\n        fetch(`/players/edit_match_stat/${statId}`, {\n            method: 'POST',\n            headers: {\n                'X-CSRFToken': getCSRFToken(),\n                'X-Requested-With': 'XMLHttpRequest'\n            },\n            body: formData\n        })\n        .then(response => response.json())\n        .then(data => {\n            if (data.success) {\n                showToast('Stat updated successfully', 'success');\n                setTimeout(() => location.reload(), 1000);\n            } else {\n                showToast(data.error || 'Failed to update stat', 'error');\n            }\n        })\n        .catch(error => {\n            console.error('Error updating stat:', error);\n            showToast('An error occurred', 'error');\n        });\n    }\n\n    /**\n     * Confirm and remove a stat\n     * @param {string} statId - The stat ID to remove\n     * @param {Element} btn - The button element (to find the row)\n     */\n    function confirmRemoveStat(statId, btn) {\n        // Find the row to get event info\n        const row = btn.closest('[data-match-stat]');\n        const badge = row ? row.querySelector('.c-badge') : null;\n        const eventText = badge ? badge.textContent.trim() : 'this stat';\n\n        if (typeof Swal !== 'undefined') {\n            Swal.fire({\n                title: 'Remove Stat?',\n                text: `Are you sure you want to remove \"${eventText}\"? This will also update the player's overall stats.`,\n                icon: 'warning',\n                showCancelButton: true,\n                confirmButtonText: 'Yes, Remove',\n                cancelButtonText: 'Cancel',\n                confirmButtonColor: '#dc3545'\n            }).then((result) => {\n                if (result.isConfirmed) {\n                    performRemoveStat(statId, row);\n                }\n            });\n        } else {\n            if (confirm(`Remove \"${eventText}\"? This will also update the player's overall stats.`)) {\n                performRemoveStat(statId, row);\n            }\n        }\n    }\n\n    /**\n     * Perform stat removal via AJAX\n     * @param {string} statId - The stat ID\n     * @param {Element} row - The table row element\n     */\n    function performRemoveStat(statId, row) {\n        fetch(`/players/remove_match_stat/${statId}`, {\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json',\n                'X-CSRFToken': getCSRFToken(),\n                'X-Requested-With': 'XMLHttpRequest'\n            }\n        })\n        .then(response => response.json())\n        .then(data => {\n            if (data.success) {\n                showToast('Stat removed successfully', 'success');\n                // Animate row removal\n                if (row) {\n                    row.style.transition = 'opacity 0.3s, transform 0.3s';\n                    row.style.opacity = '0';\n                    row.style.transform = 'translateX(-20px)';\n                    setTimeout(() => row.remove(), 300);\n                } else {\n                    setTimeout(() => location.reload(), 1000);\n                }\n            } else {\n                showToast(data.error || 'Failed to remove stat', 'error');\n            }\n        })\n        .catch(error => {\n            console.error('Error removing stat:', error);\n            showToast('An error occurred', 'error');\n        });\n    }\n\n    // ========================================================================\n    // INITIALIZATION\n    // ========================================================================\n\n    /**\n     * Initialize all profile functionality\n     */\n    function init() {\n        console.log('[Player Profile] Initializing...');\n\n        // Initialize all features\n        initTooltips();\n        initProfileVerification();\n        initDiscordPrompt();\n        initMatchFilter();\n        initEditModeToggles();\n        initContactModal();\n        initFlashMessages();\n        initProfileImageActions();\n        initTabSync();\n        initMatchStatActions();\n\n        console.log('[Player Profile] Initialization complete');\n    }\n\n    // ========================================================================\n    // DOM READY\n    // ========================================================================\n\n    // Initialize when DOM is ready\n    if (document.readyState === 'loading') {\n        document.addEventListener('DOMContentLoaded', init);\n    } else {\n        // DOM already loaded\n        init();\n    }\n\n    // Expose public API\n    window.PlayerProfile = {\n        version: '1.0.0',\n        showToast,\n        showVerificationDialog,\n        showDiscordLinkDialog,\n        init\n    };\n\n})();\n","/**\n * Players List Page JavaScript\n * ==============================\n * Event delegation and interaction logic for view_players.html\n *\n * Features:\n * - Search and filter functionality\n * - Player deletion with confirmation\n * - WooCommerce sync with progress tracking\n * - Modal interactions\n * - Responsive table enhancements\n *\n * Architecture: Event delegation pattern, no inline handlers, data-action attributes\n */\n\n(function() {\n  'use strict';\n\n  /**\n   * Initialize on DOM ready\n   */\n  document.addEventListener('DOMContentLoaded', function() {\n    initializeEventDelegation();\n    initializeSyncHandler();\n    initializeFeatherIcons();\n  });\n\n  /**\n   * Set up event delegation for all player list interactions\n   */\n  function initializeEventDelegation() {\n    document.addEventListener('click', function(e) {\n      const target = e.target.closest('[data-action]');\n      if (!target) return;\n\n      const action = target.dataset.action;\n\n      switch(action) {\n        case 'clear-search':\n          handleClearSearch(e);\n          break;\n        case 'delete-player':\n          handleDeletePlayer(target);\n          break;\n        case 'view-player':\n          // Link click - browser handles navigation\n          break;\n        case 'create-player':\n          // Modal trigger - Bootstrap handles this\n          break;\n        case 'close-modal':\n          // Modal close - Bootstrap handles this\n          break;\n      }\n    });\n  }\n\n  /**\n   * Handle clear search action\n   */\n  function handleClearSearch(e) {\n    e.preventDefault();\n\n    // Get the search form\n    const form = document.querySelector('[data-form=\"search-players\"]');\n    if (!form) return;\n\n    // Clear the search input\n    const searchInput = form.querySelector('[data-input=\"search\"]');\n    if (searchInput) {\n      searchInput.value = '';\n    }\n\n    // Redirect to base URL without search parameter\n    window.location.href = form.action;\n  }\n\n  /**\n   * Handle player deletion with SweetAlert confirmation\n   */\n  function handleDeletePlayer(target) {\n    const playerId = target.dataset.playerId;\n    const playerName = target.dataset.playerName;\n\n    if (!playerId) {\n      console.error('No player ID found for deletion');\n      return;\n    }\n\n    // Check if SweetAlert is available\n    if (typeof Swal === 'undefined') {\n      // Fallback to native confirm\n      if (confirm(`Are you sure you want to delete ${playerName}? This will delete the player and associated user account.`)) {\n        submitDeleteForm(playerId);\n      }\n      return;\n    }\n\n    // Show SweetAlert confirmation\n    Swal.fire({\n      title: 'Are you sure?',\n      html: `This will delete <strong>${playerName}</strong> and their associated user account.`,\n      icon: 'warning',\n      showCancelButton: true,\n      confirmButtonColor: getThemeColor('danger', '#dc3545'),\n      cancelButtonColor: getThemeColor('secondary', '#6c757d'),\n      confirmButtonText: 'Yes, delete them!',\n      cancelButtonText: 'Cancel',\n      focusCancel: true\n    }).then((result) => {\n      if (result.isConfirmed) {\n        submitDeleteForm(playerId);\n      }\n    });\n  }\n\n  /**\n   * Submit the delete player form\n   */\n  function submitDeleteForm(playerId) {\n    // Create a temporary form to submit the deletion\n    const form = document.createElement('form');\n    form.method = 'POST';\n    form.action = `/players/delete_player/${playerId}`;\n\n    // Add CSRF token\n    const csrfToken = document.querySelector('meta[name=\"csrf-token\"]')?.getAttribute('content');\n    if (csrfToken) {\n      const csrfInput = document.createElement('input');\n      csrfInput.type = 'hidden';\n      csrfInput.name = 'csrf_token';\n      csrfInput.value = csrfToken;\n      form.appendChild(csrfInput);\n    }\n\n    document.body.appendChild(form);\n    form.submit();\n  }\n\n  /**\n   * Initialize WooCommerce sync handler\n   */\n  function initializeSyncHandler() {\n    const syncForm = document.querySelector('[data-form=\"update-players\"]');\n    if (!syncForm) return;\n\n    syncForm.addEventListener('submit', function(e) {\n      e.preventDefault();\n\n      if (typeof Swal === 'undefined') {\n        // No SweetAlert available, just submit\n        this.submit();\n        return;\n      }\n\n      // Show confirmation dialog\n      Swal.fire({\n        title: 'Sync with WooCommerce?',\n        text: 'This will synchronize player data with WooCommerce orders. Continue?',\n        icon: 'warning',\n        showCancelButton: true,\n        confirmButtonText: 'Yes, sync now',\n        cancelButtonText: 'Cancel',\n        confirmButtonColor: getThemeColor('success', '#28a745'),\n        cancelButtonColor: getThemeColor('secondary', '#6c757d')\n      }).then((result) => {\n        if (result.isConfirmed) {\n          startSyncProcess(syncForm);\n        }\n      });\n    });\n  }\n\n  /**\n   * Start the WooCommerce sync process with progress tracking\n   */\n  function startSyncProcess(form) {\n    // Show progress modal\n    Swal.fire({\n      title: 'Syncing with WooCommerce',\n      html: `\n        <div class=\"text-center\">\n          <div class=\"mb-3 progress-stage\">Initializing...</div>\n          <div class=\"progress mb-3\">\n            <div class=\"progress-bar progress-bar-striped progress-bar-animated\"\n                 role=\"progressbar\"\n                 aria-valuenow=\"0\"\n                 aria-valuemin=\"0\"\n                 aria-valuemax=\"100\"\n                 style=\"width: 0%\">\n            </div>\n          </div>\n          <div class=\"small text-muted progress-message\">Starting...</div>\n        </div>\n      `,\n      allowOutsideClick: false,\n      allowEscapeKey: false,\n      showConfirmButton: false\n    });\n\n    let taskId = '';\n    let progressInterval = null;\n\n    // Function to check progress\n    const checkProgress = () => {\n      if (!taskId) return;\n\n      fetch(`/players/update_status/${taskId}`)\n        .then(response => response.json())\n        .then(data => {\n          const progressBar = document.querySelector('.progress-bar');\n          const messageDiv = document.querySelector('.progress-message');\n\n          if (progressBar && messageDiv) {\n            const progress = data.progress || 0;\n            progressBar.style.width = `${progress}%`;\n            progressBar.setAttribute('aria-valuenow', progress);\n            messageDiv.textContent = data.message || 'Processing...';\n          }\n        })\n        .catch(error => {\n          console.error('Error fetching progress:', error);\n        });\n    };\n\n    // Get CSRF token\n    const csrfToken = form.querySelector('[name=\"csrf_token\"]')?.value;\n\n    // Start the sync process\n    fetch(form.action, {\n      method: 'POST',\n      headers: {\n        'X-CSRFToken': csrfToken\n      }\n    })\n    .then(response => response.json())\n    .then(data => {\n      taskId = data.task_id;\n\n      // Start polling for progress\n      progressInterval = setInterval(checkProgress, 1000);\n\n      // Check for completion\n      const checkCompletion = setInterval(() => {\n        if (!taskId) return;\n\n        fetch(`/players/update_status/${taskId}`)\n          .then(response => response.json())\n          .then(statusData => {\n            if (statusData.stage === 'complete') {\n              clearInterval(checkCompletion);\n              clearInterval(progressInterval);\n              showSyncResults(statusData, taskId, csrfToken);\n            }\n          })\n          .catch(error => {\n            console.error('Error checking completion:', error);\n          });\n      }, 1000);\n    })\n    .catch(error => {\n      console.error('Error starting sync:', error);\n      Swal.fire({\n        title: 'Error!',\n        text: error.message || 'An error occurred during synchronization.',\n        icon: 'error'\n      });\n    });\n  }\n\n  /**\n   * Show sync results and confirmation dialog\n   */\n  function showSyncResults(statusData, taskId, csrfToken) {\n    const newPlayers = statusData.new_players || 0;\n    const potentialInactive = statusData.potential_inactive || 0;\n\n    Swal.fire({\n      title: 'Sync Results',\n      html: `\n        <p><strong>${newPlayers}</strong> new players found</p>\n        <p><strong>${potentialInactive}</strong> players without current orders</p>\n        <div class=\"mb-3 form-check\">\n          <input type=\"checkbox\" class=\"form-check-input\" id=\"processNew\" checked>\n          <label class=\"form-check-label\" for=\"processNew\">Import new players</label>\n        </div>\n        <div class=\"mb-3 form-check\">\n          <input type=\"checkbox\" class=\"form-check-input\" id=\"processInactive\" checked>\n          <label class=\"form-check-label\" for=\"processInactive\">Mark inactive players</label>\n        </div>\n      `,\n      showCancelButton: true,\n      confirmButtonText: 'Proceed',\n      cancelButtonText: 'Cancel',\n      confirmButtonColor: getThemeColor('success', '#28a745'),\n      cancelButtonColor: getThemeColor('secondary', '#6c757d')\n    }).then((result) => {\n      if (result.isConfirmed) {\n        confirmSync(taskId, csrfToken);\n      }\n    });\n  }\n\n  /**\n   * Confirm and process the sync\n   */\n  function confirmSync(taskId, csrfToken) {\n    const processNew = document.getElementById('processNew')?.checked || false;\n    const processInactive = document.getElementById('processInactive')?.checked || false;\n\n    fetch('/players/confirm_update', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n        'X-CSRFToken': csrfToken\n      },\n      body: JSON.stringify({\n        task_id: taskId,\n        process_new: processNew,\n        process_inactive: processInactive\n      })\n    })\n    .then(response => response.json())\n    .then(data => {\n      if (data.status === 'success') {\n        Swal.fire({\n          title: 'Success!',\n          text: 'Player data has been synchronized.',\n          icon: 'success',\n          confirmButtonColor: getThemeColor('success', '#28a745')\n        }).then(() => {\n          window.location.reload();\n        });\n      } else {\n        throw new Error(data.message || 'Unknown error');\n      }\n    })\n    .catch(error => {\n      Swal.fire({\n        title: 'Error!',\n        text: error.message || 'An error occurred during synchronization.',\n        icon: 'error',\n        confirmButtonColor: getThemeColor('danger', '#dc3545')\n      });\n    });\n  }\n\n  /**\n   * Get theme color from ECSTheme if available, with fallback\n   */\n  function getThemeColor(colorName, fallback) {\n    if (typeof ECSTheme !== 'undefined' && ECSTheme.getColor) {\n      return ECSTheme.getColor(colorName);\n    }\n\n    // Try to get from CSS custom properties\n    const root = getComputedStyle(document.documentElement);\n    const cssVar = root.getPropertyValue(`--ecs-${colorName}`).trim();\n\n    return cssVar || fallback;\n  }\n\n  /**\n   * Initialize Feather icons\n   */\n  function initializeFeatherIcons() {\n    if (typeof feather !== 'undefined') {\n      feather.replace();\n    }\n  }\n\n  /**\n   * Debounce function for search input\n   */\n  function debounce(func, wait) {\n    let timeout;\n    return function executedFunction(...args) {\n      const later = () => {\n        clearTimeout(timeout);\n        func(...args);\n      };\n      clearTimeout(timeout);\n      timeout = setTimeout(later, wait);\n    };\n  }\n\n  /**\n   * Add live search functionality (optional enhancement)\n   */\n  function initializeLiveSearch() {\n    const searchInput = document.querySelector('[data-input=\"search\"]');\n    if (!searchInput) return;\n\n    const debouncedSearch = debounce(function() {\n      const form = searchInput.closest('form');\n      if (form && searchInput.value.length >= 3) {\n        // Auto-submit after 3 characters\n        form.submit();\n      }\n    }, 500);\n\n    searchInput.addEventListener('input', debouncedSearch);\n  }\n\n  // Uncomment to enable live search\n  // initializeLiveSearch();\n\n})();\n","/**\n * Playoff Bracket Manager\n * Handles dynamic loading, updating, and interaction with the playoff bracket\n */\n\nclass PlayoffBracket {\n    constructor(leagueId, seasonId, currentTeamId = null) {\n        this.leagueId = leagueId;\n        this.seasonId = seasonId;\n        this.currentTeamId = currentTeamId;\n        this.refreshInterval = null;\n        this.autoRefreshEnabled = true;\n        this.autoRefreshDelay = 30000; // 30 seconds\n\n        // Cache for bracket data\n        this.data = {\n            groupA: { teams: [], matches: [], standings: [] },\n            groupB: { teams: [], matches: [], standings: [] },\n            placementMatches: [],\n            status: 'not_started' // not_started, group_stage, placement_finals, completed\n        };\n\n        // Bind methods\n        this.initialize = this.initialize.bind(this);\n        this.fetchBracketData = this.fetchBracketData.bind(this);\n        this.renderBracket = this.renderBracket.bind(this);\n        this.handleMatchReport = this.handleMatchReport.bind(this);\n    }\n\n    /**\n     * Initialize the bracket\n     */\n    async initialize() {\n        console.log('Initializing playoff bracket...', {\n            leagueId: this.leagueId,\n            seasonId: this.seasonId,\n            currentTeamId: this.currentTeamId\n        });\n\n        try {\n            await this.fetchBracketData();\n            this.renderBracket();\n            this.startAutoRefresh();\n        } catch (error) {\n            console.error('Failed to initialize playoff bracket:', error);\n            this.showError('Failed to load playoff bracket. Please refresh the page.');\n        }\n    }\n\n    /**\n     * Fetch bracket data from API\n     */\n    async fetchBracketData() {\n        const url = `/api/playoffs/bracket/${this.leagueId}`;\n\n        try {\n            const response = await fetch(url, {\n                method: 'GET',\n                headers: {\n                    'Content-Type': 'application/json'\n                }\n            });\n\n            if (!response.ok) {\n                throw new Error(`HTTP error! status: ${response.status}`);\n            }\n\n            const data = await response.json();\n            console.log('Fetched bracket data:', data);\n\n            this.data = data;\n            return data;\n        } catch (error) {\n            console.error('Error fetching bracket data:', error);\n            throw error;\n        }\n    }\n\n    /**\n     * Render the bracket UI\n     */\n    renderBracket() {\n        const container = document.querySelector('.playoff-bracket-container');\n        if (!container) return;\n\n        // Hide loading, show content\n        const loading = container.querySelector('.bracket-loading');\n        const error = container.querySelector('.bracket-error');\n        const content = container.querySelector('.bracket-content');\n\n        if (loading) loading.classList.add('d-none');\n\n        if (!this.data || !this.data.groupA || !this.data.groupB) {\n            if (error) {\n                error.classList.remove('d-none');\n                error.querySelector('.bracket-error-message').textContent =\n                    'No playoff data available. Playoffs may not have been generated yet.';\n            }\n            return;\n        }\n\n        if (error) error.classList.add('d-none');\n        if (content) content.classList.remove('d-none');\n\n        // Update status badge\n        this.updateStatusBadge();\n\n        // Render groups\n        this.renderGroup('A', this.data.groupA);\n        this.renderGroup('B', this.data.groupB);\n\n        // Render placement finals\n        this.renderPlacementFinals(this.data.placementMatches);\n    }\n\n    /**\n     * Update the status badge text\n     */\n    updateStatusBadge() {\n        const statusText = document.querySelector('.bracket-status-text');\n        if (!statusText) return;\n\n        const statusMessages = {\n            'not_started': 'Playoffs Not Started',\n            'group_stage': 'Group Stage in Progress',\n            'week2_morning': 'Week 2 Morning - Final Group Matches',\n            'placement_finals': 'Placement Finals',\n            'completed': 'Playoffs Completed'\n        };\n\n        statusText.textContent = statusMessages[this.data.status] || 'Unknown Status';\n    }\n\n    /**\n     * Render a group (A or B)\n     */\n    renderGroup(groupName, groupData) {\n        const matchesContainer = document.getElementById(`group${groupName}Matches`);\n        const standingsContainer = document.getElementById(`group${groupName}Standings`);\n\n        if (!matchesContainer || !standingsContainer) return;\n\n        // Render matches\n        matchesContainer.innerHTML = '';\n        if (groupData.matches && groupData.matches.length > 0) {\n            // Group by round\n            const matchesByRound = this.groupMatchesByRound(groupData.matches);\n\n            Object.keys(matchesByRound).sort().forEach(round => {\n                const roundDiv = document.createElement('div');\n                roundDiv.className = 'round-group mb-3';\n\n                const roundLabel = document.createElement('div');\n                roundLabel.className = 'round-label';\n                roundLabel.innerHTML = `<i class=\"ti ti-calendar-event me-1\"></i>${this.getRoundLabel(round, groupData.matches[0])}`;\n                roundDiv.appendChild(roundLabel);\n\n                matchesByRound[round].forEach(match => {\n                    roundDiv.appendChild(this.createMatchCard(match));\n                });\n\n                matchesContainer.appendChild(roundDiv);\n            });\n        } else {\n            matchesContainer.innerHTML = '<p class=\"text-muted text-center\">No matches scheduled</p>';\n        }\n\n        // Render standings\n        standingsContainer.innerHTML = '';\n        const standingsTable = standingsContainer.querySelector('.standings-table');\n        if (!standingsTable) {\n            const table = document.createElement('div');\n            table.className = 'standings-table';\n            standingsContainer.appendChild(table);\n        }\n\n        const tableContainer = standingsContainer.querySelector('.standings-table');\n        tableContainer.innerHTML = '';\n\n        if (groupData.standings && groupData.standings.length > 0) {\n            groupData.standings.forEach((standing, index) => {\n                tableContainer.appendChild(this.createStandingRow(standing, index + 1));\n            });\n        } else {\n            tableContainer.innerHTML = '<p class=\"text-muted text-center small\">Standings will appear after matches are played</p>';\n        }\n    }\n\n    /**\n     * Get round label based on playoff_round and date\n     */\n    getRoundLabel(round, sampleMatch) {\n        const roundNum = parseInt(round);\n        if (roundNum === 1) {\n            return 'Week 1';\n        } else if (roundNum === 2) {\n            return 'Week 2 Morning';\n        }\n        return `Round ${roundNum}`;\n    }\n\n    /**\n     * Group matches by playoff round\n     */\n    groupMatchesByRound(matches) {\n        const grouped = {};\n        matches.forEach(match => {\n            const round = match.playoff_round || 1;\n            if (!grouped[round]) {\n                grouped[round] = [];\n            }\n            grouped[round].push(match);\n        });\n        return grouped;\n    }\n\n    /**\n     * Create a match card element\n     */\n    createMatchCard(match) {\n        const card = document.createElement('div');\n        card.className = 'bracket-match-card';\n        card.dataset.matchId = match.id;\n\n        // Check if match is reported\n        const isReported = match.home_team_score !== null && match.away_team_score !== null;\n        if (isReported) {\n            card.classList.add('reported');\n        }\n\n        // Highlight current team\n        if (this.currentTeamId &&\n            (match.home_team_id == this.currentTeamId || match.away_team_id == this.currentTeamId)) {\n            card.classList.add('current-team');\n        }\n\n        // Determine winner\n        let homeWinner = false, awayWinner = false;\n        if (isReported) {\n            if (match.home_team_score > match.away_team_score) {\n                homeWinner = true;\n            } else if (match.away_team_score > match.home_team_score) {\n                awayWinner = true;\n            }\n        }\n\n        // Build match teams HTML\n        const teamsHTML = `\n            <div class=\"match-teams\">\n                <div class=\"team home-team ${homeWinner ? 'winner' : ''}\">\n                    <span class=\"team-name\">${match.home_team_name || 'TBD'}</span>\n                    <span class=\"team-score\">${match.home_team_score !== null ? match.home_team_score : '-'}</span>\n                </div>\n                <div class=\"match-divider\">vs</div>\n                <div class=\"team away-team ${awayWinner ? 'winner' : ''}\">\n                    <span class=\"team-name\">${match.away_team_name || 'TBD'}</span>\n                    <span class=\"team-score\">${match.away_team_score !== null ? match.away_team_score : '-'}</span>\n                </div>\n            </div>\n        `;\n\n        // Build match info HTML\n        const matchDate = match.date ? new Date(match.date).toLocaleDateString() : 'TBD';\n        const matchTime = match.time || 'TBD';\n        const infoHTML = `\n            <div class=\"match-info\">\n                <span class=\"match-time\">\n                    <i class=\"ti ti-clock\"></i>\n                    <span class=\"time-text\">${matchDate} ${matchTime}</span>\n                </span>\n                <span class=\"match-location\">\n                    <i class=\"ti ti-map-pin\"></i>\n                    <span class=\"location-text\">${match.location || 'TBD'}</span>\n                </span>\n            </div>\n        `;\n\n        // Build report button HTML\n        const buttonHTML = `\n            <button class=\"btn btn-sm btn-primary match-report-btn\"\n                    data-match-id=\"${match.id}\"\n                    onclick=\"window.playoffBracket.handleMatchReport(${match.id})\">\n                <i class=\"ti ti-pencil\"></i>\n                <span class=\"d-none d-md-inline\">${isReported ? 'Edit' : 'Report'}</span>\n            </button>\n        `;\n\n        card.innerHTML = teamsHTML + infoHTML + buttonHTML;\n\n        return card;\n    }\n\n    /**\n     * Create a standing row element\n     */\n    createStandingRow(standing, position) {\n        const row = document.createElement('div');\n        row.className = `standings-row position-${position}`;\n        row.dataset.teamId = standing.team_id;\n\n        // Highlight current team\n        if (this.currentTeamId && standing.team_id == this.currentTeamId) {\n            row.classList.add('current-team');\n        }\n\n        row.innerHTML = `\n            <div class=\"position\">${position}</div>\n            <div class=\"team-name\">${standing.team_name}</div>\n            <div class=\"stats\">\n                <div class=\"stat\">\n                    <span class=\"stat-label\">PTS</span>\n                    <span class=\"stat-value\">${standing.points || 0}</span>\n                </div>\n                <div class=\"stat\">\n                    <span class=\"stat-label\">GD</span>\n                    <span class=\"stat-value\">${standing.goal_difference || 0}</span>\n                </div>\n                <div class=\"stat\">\n                    <span class=\"stat-label\">GF</span>\n                    <span class=\"stat-value\">${standing.goals_for || 0}</span>\n                </div>\n            </div>\n        `;\n\n        return row;\n    }\n\n    /**\n     * Render placement finals section\n     */\n    renderPlacementFinals(placementMatches) {\n        if (!placementMatches || placementMatches.length === 0) {\n            // Show TBD messages\n            this.renderTBDPlacementMatch('championshipMatch', 'A1st vs B1st');\n            this.renderTBDPlacementMatch('thirdPlaceMatch', 'A2nd vs B2nd');\n            this.renderTBDPlacementMatch('fifthPlaceMatch', 'A3rd vs B3rd');\n            this.renderTBDPlacementMatch('seventhPlaceMatch', 'A4th vs B4th');\n            return;\n        }\n\n        // Match placement matches to their containers\n        placementMatches.forEach(match => {\n            const description = (match.description || '').toLowerCase();\n            let containerId = null;\n\n            if (description.includes('championship')) {\n                containerId = 'championshipMatch';\n            } else if (description.includes('3rd')) {\n                containerId = 'thirdPlaceMatch';\n            } else if (description.includes('5th')) {\n                containerId = 'fifthPlaceMatch';\n            } else if (description.includes('7th')) {\n                containerId = 'seventhPlaceMatch';\n            }\n\n            if (containerId) {\n                this.renderPlacementMatch(containerId, match);\n            }\n        });\n    }\n\n    /**\n     * Render TBD message for placement match\n     */\n    renderTBDPlacementMatch(containerId, matchup) {\n        const container = document.getElementById(containerId);\n        if (!container) return;\n\n        container.innerHTML = `\n            <div class=\"tbd-message\">\n                <div class=\"text-center\">\n                    <i class=\"ti ti-help-circle mb-2 tbd-icon\"></i>\n                    <p class=\"mb-1\">${matchup}</p>\n                    <small class=\"text-muted\">To be determined after group stage</small>\n                </div>\n            </div>\n        `;\n    }\n\n    /**\n     * Render actual placement match\n     */\n    renderPlacementMatch(containerId, match) {\n        const container = document.getElementById(containerId);\n        if (!container) return;\n\n        const matchCard = this.createMatchCard(match);\n        container.innerHTML = '';\n        container.appendChild(matchCard);\n    }\n\n    /**\n     * Handle match report button click\n     */\n    handleMatchReport(matchId) {\n        console.log('Opening match report modal for match:', matchId);\n\n        // Try to open existing modal if it exists\n        const modalId = `reportMatchModal-${matchId}`;\n        const existingModal = document.getElementById(modalId);\n\n        if (existingModal) {\n            ModalManager.show(existingModal.id);\n        } else {\n            // If modal doesn't exist, redirect to a page where it does or show a message\n            console.warn('Match report modal not found on page. You may need to load it first.');\n            alert('Please navigate to the team page to report this match.');\n        }\n    }\n\n    /**\n     * Start auto-refresh of bracket data\n     */\n    startAutoRefresh() {\n        if (!this.autoRefreshEnabled) return;\n\n        this.refreshInterval = setInterval(async () => {\n            console.log('Auto-refreshing bracket data...');\n            try {\n                await this.fetchBracketData();\n                this.renderBracket();\n            } catch (error) {\n                console.error('Auto-refresh failed:', error);\n            }\n        }, this.autoRefreshDelay);\n    }\n\n    /**\n     * Stop auto-refresh\n     */\n    stopAutoRefresh() {\n        if (this.refreshInterval) {\n            clearInterval(this.refreshInterval);\n            this.refreshInterval = null;\n        }\n    }\n\n    /**\n     * Manual refresh\n     */\n    async refresh() {\n        console.log('Manual refresh triggered');\n        try {\n            await this.fetchBracketData();\n            this.renderBracket();\n        } catch (error) {\n            console.error('Refresh failed:', error);\n            this.showError('Failed to refresh bracket data.');\n        }\n    }\n\n    /**\n     * Show error message\n     */\n    showError(message) {\n        const container = document.querySelector('.playoff-bracket-container');\n        if (!container) return;\n\n        const error = container.querySelector('.bracket-error');\n        if (error) {\n            error.classList.remove('d-none');\n            error.querySelector('.bracket-error-message').textContent = message;\n        }\n\n        const loading = container.querySelector('.bracket-loading');\n        const content = container.querySelector('.bracket-content');\n\n        if (loading) loading.classList.add('d-none');\n        if (content) content.classList.add('d-none');\n    }\n\n    /**\n     * Cleanup\n     */\n    destroy() {\n        this.stopAutoRefresh();\n    }\n}\n\n// Export for use in other scripts\nif (typeof window !== 'undefined') {\n    window.PlayoffBracket = PlayoffBracket;\n}\n","/**\n * Scheduled Message Validation JavaScript\n * \n * Handles validation page interactions and real-time updates\n */\n\ndocument.addEventListener('DOMContentLoaded', function() {\n    initializeValidationPage();\n});\n\n/**\n * Initialize validation page functionality\n */\nfunction initializeValidationPage() {\n    // Set up periodic refresh for overdue messages\n    setupAutoRefresh();\n\n    // Initialize tooltips if Bootstrap tooltips are available\n    if (typeof bootstrap !== 'undefined' && bootstrap.Tooltip) {\n        const tooltipTriggerList = [].slice.call(document.querySelectorAll('[data-bs-toggle=\"tooltip\"]'));\n        tooltipTriggerList.map(function (tooltipTriggerEl) {\n            return new bootstrap.Tooltip(tooltipTriggerEl);\n        });\n    }\n\n    // Set up refresh button functionality\n    setupRefreshButton();\n\n    // Start countdown updates\n    startCountdownUpdates();\n}\n\n/**\n * Set up auto-refresh for pages with critical issues\n */\nfunction setupAutoRefresh() {\n    // Check if we have overdue messages\n    const overdueElement = document.querySelector('[data-overdue-count]');\n    if (overdueElement) {\n        const overdueCount = parseInt(overdueElement.getAttribute('data-overdue-count'));\n        if (overdueCount > 0) {\n            // Refresh every 30 seconds if there are overdue messages\n            setTimeout(function() {\n                window.location.reload();\n            }, 30000);\n            \n            // Show countdown in title\n            updatePageTitle(30);\n        }\n    }\n}\n\n/**\n * Update page title with countdown\n */\nfunction updatePageTitle(seconds) {\n    const originalTitle = document.title;\n    let countdown = seconds;\n    \n    const interval = setInterval(function() {\n        document.title = `(${countdown}s) ${originalTitle}`;\n        countdown--;\n        \n        if (countdown < 0) {\n            clearInterval(interval);\n            document.title = originalTitle;\n        }\n    }, 1000);\n}\n\n/**\n * Refresh validation data via AJAX\n */\nfunction refreshValidation() {\n    const refreshBtn = document.querySelector('#refresh-btn');\n    if (refreshBtn) {\n        // Show loading state\n        const originalText = refreshBtn.innerHTML;\n        refreshBtn.innerHTML = '<i class=\"ti ti-loader-2 ti-spin me-1\"></i> Refreshing...';\n        refreshBtn.disabled = true;\n        \n        // Reload the page to get fresh data\n        setTimeout(function() {\n            window.location.reload();\n        }, 500);\n    } else {\n        // Fallback - just reload\n        window.location.reload();\n    }\n}\n\n/**\n * Set up refresh button functionality\n */\nfunction setupRefreshButton() {\n    const refreshButtons = document.querySelectorAll('[onclick*=\"refreshValidation\"]');\n    refreshButtons.forEach(function(btn) {\n        btn.id = 'refresh-btn';\n    });\n}\n\n/**\n * Show queue status popup\n */\nfunction scheduledMsgShowQueueStatus() {\n    fetch('/admin/scheduled_messages/queue_status')\n        .then(response => response.json())\n        .then(data => {\n            let message = 'Celery Queue Status:\\n\\n';\n            message += `Total Workers: ${data.stats.total_workers}\\n`;\n            message += `Active Tasks: ${data.stats.total_active_tasks}\\n`;\n            message += `Scheduled Tasks: ${data.stats.total_scheduled_tasks}\\n`;\n            message += `Reserved Tasks: ${data.stats.total_reserved_tasks}\\n\\n`;\n            \n            if (data.queues) {\n                message += 'Queue Lengths:\\n';\n                for (const [queue, length] of Object.entries(data.queues)) {\n                    if (queue !== 'error') {\n                        message += `  ${queue}: ${length} messages\\n`;\n                    }\n                }\n            }\n            \n            alert(message);\n        })\n        .catch(error => {\n            console.error('Error fetching queue status:', error);\n            alert('Error fetching queue status. Check console for details.');\n        });\n}\n\n/**\n * Format countdown time display\n */\nfunction formatCountdown(hours) {\n    if (hours < 0) {\n        return 'READY';\n    } else if (hours < 1) {\n        return Math.round(hours * 60) + 'm';\n    } else if (hours < 24) {\n        return Math.round(hours) + 'h';\n    } else {\n        return Math.round(hours / 24) + 'd';\n    }\n}\n\n/**\n * Update countdown displays if any exist\n */\nfunction updateCountdowns() {\n    const countdownElements = document.querySelectorAll('[data-hours-until]');\n    countdownElements.forEach(function(element) {\n        const hours = parseFloat(element.getAttribute('data-hours-until'));\n        const newHours = hours - (1/60); // Subtract 1 minute\n        element.setAttribute('data-hours-until', newHours);\n        element.textContent = formatCountdown(newHours);\n    });\n}\n\n/**\n * Start countdown updates if we have countdown elements\n */\nfunction startCountdownUpdates() {\n    const countdownElements = document.querySelectorAll('[data-hours-until]');\n    if (countdownElements.length > 0) {\n        setInterval(updateCountdowns, 60000); // Update every minute\n    }\n}\n","/**\n * ============================================================================\n * PROFILE FORM HANDLER - Form Interactions & Validation\n * ============================================================================\n *\n * Handles profile form interactions, validation, and unsaved changes warnings.\n * Replaces inline JavaScript from profile form templates.\n *\n * Features:\n * - Select2 dropdown initialization\n * - Unsaved changes warning\n * - Form change tracking\n * - Auto-submit handling\n * - Form validation\n *\n * NO INLINE STYLES - Uses CSS classes and data attributes instead.\n *\n * Dependencies:\n * - jQuery\n * - Select2 (for enhanced dropdowns)\n * - Bootstrap 5.x\n *\n * ============================================================================\n */\n\n(function() {\n    'use strict';\n\n    // ========================================================================\n    // CONFIGURATION\n    // ========================================================================\n\n    const CONFIG = {\n        SELECT2_THEME: 'bootstrap-5',\n        UNSAVED_WARNING_MESSAGE: 'You have unsaved changes. Are you sure you want to leave?'\n    };\n\n    // State tracking\n    let formChanged = false;\n    let formSubmitting = false;\n\n    // ========================================================================\n    // SELECT2 INITIALIZATION\n    // ========================================================================\n\n    /**\n     * Initialize Select2 on all selects with data-select2 attribute\n     */\n    function initSelect2() {\n        if (typeof jQuery === 'undefined' || typeof jQuery.fn.select2 === 'undefined') {\n            console.warn('[Profile Form] Select2 not available');\n            return;\n        }\n\n        const selects = document.querySelectorAll('[data-select2]');\n\n        selects.forEach(select => {\n            const $select = jQuery(select);\n\n            // Get configuration from data attributes\n            const config = {\n                theme: CONFIG.SELECT2_THEME,\n                placeholder: select.dataset.placeholder || 'Select an option',\n                allowClear: select.dataset.allowClear === 'true',\n                dropdownParent: select.dataset.dropdownParent ?\n                    jQuery(select.dataset.dropdownParent) : null\n            };\n\n            // Apply Select2\n            $select.select2(config);\n\n            // Track changes for unsaved warning\n            $select.on('change', function() {\n                markFormChanged();\n            });\n        });\n\n        console.log(`[Profile Form] Initialized ${selects.length} Select2 dropdowns`);\n    }\n\n    // ========================================================================\n    // FORM CHANGE TRACKING\n    // ========================================================================\n\n    /**\n     * Mark form as changed (has unsaved changes)\n     */\n    function markFormChanged() {\n        formChanged = true;\n    }\n\n    /**\n     * Mark form as saved (no unsaved changes)\n     */\n    function markFormSaved() {\n        formChanged = false;\n    }\n\n    /**\n     * Initialize form change tracking\n     */\n    function initFormChangeTracking() {\n        const forms = document.querySelectorAll('[data-track-changes]');\n\n        forms.forEach(form => {\n            // Track input changes\n            form.addEventListener('input', function(e) {\n                if (e.target.matches('input, textarea, select')) {\n                    markFormChanged();\n                }\n            });\n\n            // Track select changes\n            form.addEventListener('change', function(e) {\n                if (e.target.matches('input, textarea, select')) {\n                    markFormChanged();\n                }\n            });\n\n            // Mark as saved on successful submit\n            form.addEventListener('submit', function() {\n                formSubmitting = true;\n            });\n        });\n\n        console.log(`[Profile Form] Tracking changes on ${forms.length} forms`);\n    }\n\n    // ========================================================================\n    // UNSAVED CHANGES WARNING\n    // ========================================================================\n\n    /**\n     * Initialize unsaved changes warning\n     * Warns user before leaving page with unsaved form changes\n     */\n    function initUnsavedWarning() {\n        // Warn on page unload\n        window.addEventListener('beforeunload', function(e) {\n            // Only warn if form has unsaved changes and not currently submitting\n            if (formChanged && !formSubmitting) {\n                e.preventDefault();\n                e.returnValue = CONFIG.UNSAVED_WARNING_MESSAGE;\n                return CONFIG.UNSAVED_WARNING_MESSAGE;\n            }\n        });\n\n        // Warn on navigation (for SPAs or HTMX)\n        document.addEventListener('click', function(e) {\n            const link = e.target.closest('a[href]');\n            if (!link) return;\n\n            // Skip if submitting form\n            if (formSubmitting) return;\n\n            // Check if navigating away\n            const href = link.getAttribute('href');\n            if (href && href !== '#' && !href.startsWith('javascript:')) {\n                if (formChanged) {\n                    const confirmed = confirm(CONFIG.UNSAVED_WARNING_MESSAGE);\n                    if (!confirmed) {\n                        e.preventDefault();\n                    }\n                }\n            }\n        });\n\n        console.log('[Profile Form] Unsaved changes warning enabled');\n    }\n\n    // ========================================================================\n    // AUTO-SUBMIT FORMS\n    // ========================================================================\n\n    /**\n     * Initialize auto-submit forms\n     * Forms with data-auto-submit will submit on change\n     */\n    function initAutoSubmitForms() {\n        const autoSubmitForms = document.querySelectorAll('[data-auto-submit]');\n\n        autoSubmitForms.forEach(form => {\n            const delay = parseInt(form.dataset.autoSubmitDelay) || 0;\n            let timeoutId = null;\n\n            // Listen for changes\n            form.addEventListener('change', function(e) {\n                // Clear existing timeout\n                if (timeoutId) {\n                    clearTimeout(timeoutId);\n                }\n\n                // Submit after delay\n                timeoutId = setTimeout(() => {\n                    formSubmitting = true;\n                    form.submit();\n                }, delay);\n            });\n        });\n\n        console.log(`[Profile Form] Initialized ${autoSubmitForms.length} auto-submit forms`);\n    }\n\n    // ========================================================================\n    // FORM VALIDATION\n    // ========================================================================\n\n    /**\n     * Initialize custom form validation\n     */\n    function initFormValidation() {\n        const forms = document.querySelectorAll('[data-validate]');\n\n        forms.forEach(form => {\n            form.addEventListener('submit', function(e) {\n                if (!form.checkValidity()) {\n                    e.preventDefault();\n                    e.stopPropagation();\n                }\n\n                form.classList.add('was-validated');\n            });\n        });\n\n        console.log(`[Profile Form] Initialized validation on ${forms.length} forms`);\n    }\n\n    // ========================================================================\n    // PHONE NUMBER FORMATTING\n    // ========================================================================\n\n    /**\n     * Initialize phone number formatting\n     * Formats phone numbers as user types\n     */\n    function initPhoneFormatting() {\n        const phoneInputs = document.querySelectorAll('[data-format=\"phone\"]');\n\n        phoneInputs.forEach(input => {\n            input.addEventListener('input', function(e) {\n                let value = e.target.value.replace(/\\D/g, '');\n\n                // Format as (XXX) XXX-XXXX\n                if (value.length > 0) {\n                    if (value.length <= 3) {\n                        value = `(${value}`;\n                    } else if (value.length <= 6) {\n                        value = `(${value.slice(0, 3)}) ${value.slice(3)}`;\n                    } else {\n                        value = `(${value.slice(0, 3)}) ${value.slice(3, 6)}-${value.slice(6, 10)}`;\n                    }\n                }\n\n                e.target.value = value;\n            });\n        });\n\n        if (phoneInputs.length > 0) {\n            console.log(`[Profile Form] Initialized phone formatting on ${phoneInputs.length} inputs`);\n        }\n    }\n\n    // ========================================================================\n    // CHARACTER COUNTER\n    // ========================================================================\n\n    /**\n     * Initialize character counters for textareas\n     */\n    function initCharacterCounters() {\n        const textareas = document.querySelectorAll('[data-max-length]');\n\n        textareas.forEach(textarea => {\n            const maxLength = parseInt(textarea.dataset.maxLength);\n            const counterId = textarea.dataset.counter;\n            const counter = counterId ? document.getElementById(counterId) : null;\n\n            if (!counter) return;\n\n            // Update counter on input\n            textarea.addEventListener('input', function() {\n                const remaining = maxLength - this.value.length;\n                counter.textContent = `${remaining} characters remaining`;\n\n                // Add warning class if close to limit\n                if (remaining < 20) {\n                    counter.classList.add('text-warning');\n                } else {\n                    counter.classList.remove('text-warning');\n                }\n\n                if (remaining < 0) {\n                    counter.classList.add('text-danger');\n                    counter.classList.remove('text-warning');\n                }\n            });\n\n            // Trigger initial update\n            textarea.dispatchEvent(new Event('input'));\n        });\n\n        console.log(`[Profile Form] Initialized ${textareas.length} character counters`);\n    }\n\n    // ========================================================================\n    // FORM RESET HANDLING\n    // ========================================================================\n\n    /**\n     * Handle form reset events\n     */\n    function initFormResetHandling() {\n        document.addEventListener('click', function(e) {\n            const resetBtn = e.target.closest('[data-action=\"reset-form\"]');\n            if (!resetBtn) return;\n\n            const formId = resetBtn.dataset.formId;\n            const form = document.getElementById(formId);\n\n            if (form) {\n                // Confirm reset\n                const confirmed = confirm('Reset form to original values?');\n                if (confirmed) {\n                    form.reset();\n\n                    // Reset Select2 dropdowns\n                    if (typeof jQuery !== 'undefined') {\n                        jQuery(form).find('.select2-hidden-accessible').val(null).trigger('change');\n                    }\n\n                    // Mark as saved\n                    markFormSaved();\n\n                    // Remove validation classes\n                    form.classList.remove('was-validated');\n                }\n            }\n        });\n    }\n\n    // ========================================================================\n    // INITIALIZATION\n    // ========================================================================\n\n    /**\n     * Initialize all form handling\n     */\n    function init() {\n        console.log('[Profile Form] Initializing...');\n\n        // Initialize all features\n        initSelect2();\n        initFormChangeTracking();\n        initUnsavedWarning();\n        initAutoSubmitForms();\n        initFormValidation();\n        initPhoneFormatting();\n        initCharacterCounters();\n        initFormResetHandling();\n\n        console.log('[Profile Form] Initialization complete');\n    }\n\n    // ========================================================================\n    // DOM READY\n    // ========================================================================\n\n    // Initialize when DOM is ready\n    if (document.readyState === 'loading') {\n        document.addEventListener('DOMContentLoaded', init);\n    } else {\n        // DOM already loaded\n        init();\n    }\n\n    // Expose public API\n    window.ProfileForm = {\n        version: '1.0.0',\n        markFormChanged,\n        markFormSaved,\n        init\n    };\n\n})();\n","/**\n * ============================================================================\n * PROFILE SUCCESS PAGE\n * ============================================================================\n *\n * Handles interactions on the profile verification success page.\n *\n * Features:\n * - Done button redirects to player profile\n * - Optional celebration sound/haptic feedback\n * - Accessibility support\n *\n * ============================================================================\n */\n\n(function() {\n    'use strict';\n\n    /**\n     * Initialize the success page functionality\n     */\n    function init() {\n        initDoneButton();\n        initCelebration();\n    }\n\n    /**\n     * Handle the Done button click\n     * Redirects user back to their player profile\n     */\n    function initDoneButton() {\n        const doneBtn = document.querySelector('[data-action=\"close-window\"]');\n        if (!doneBtn) return;\n\n        doneBtn.addEventListener('click', function(e) {\n            e.preventDefault();\n\n            // Get player ID from the page URL or data attribute\n            const playerId = getPlayerId();\n\n            if (playerId) {\n                // Redirect to player profile\n                window.location.href = `/players/profile/${playerId}`;\n            } else {\n                // Fallback: go to home page\n                window.location.href = '/';\n            }\n        });\n    }\n\n    /**\n     * Extract player ID from the current URL\n     * URL format: /players/profile/{id}/mobile/success\n     */\n    function getPlayerId() {\n        const path = window.location.pathname;\n        const match = path.match(/\\/players\\/profile\\/(\\d+)/);\n        return match ? match[1] : null;\n    }\n\n    /**\n     * Optional celebration effects\n     * Triggered by data-success-celebration element\n     */\n    function initCelebration() {\n        const celebrationEl = document.querySelector('[data-success-celebration]');\n        if (!celebrationEl) return;\n\n        // Haptic feedback on mobile (if supported)\n        if ('vibrate' in navigator) {\n            // Short success vibration pattern\n            navigator.vibrate([50, 30, 50]);\n        }\n\n        // Optional sound (disabled by default, can be enabled via data attribute)\n        const playSound = celebrationEl.dataset.playSound === 'true';\n        if (playSound) {\n            playSuccessSound();\n        }\n    }\n\n    /**\n     * Play a subtle success sound\n     * Uses Web Audio API for a simple beep\n     */\n    function playSuccessSound() {\n        try {\n            const audioContext = new (window.AudioContext || window.webkitAudioContext)();\n            const oscillator = audioContext.createOscillator();\n            const gainNode = audioContext.createGain();\n\n            oscillator.connect(gainNode);\n            gainNode.connect(audioContext.destination);\n\n            oscillator.frequency.value = 800;\n            oscillator.type = 'sine';\n\n            gainNode.gain.setValueAtTime(0.1, audioContext.currentTime);\n            gainNode.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + 0.3);\n\n            oscillator.start(audioContext.currentTime);\n            oscillator.stop(audioContext.currentTime + 0.3);\n        } catch (e) {\n            // Audio not supported or blocked, silently ignore\n            console.debug('Success sound not played:', e.message);\n        }\n    }\n\n    // Initialize when DOM is ready\n    if (document.readyState === 'loading') {\n        document.addEventListener('DOMContentLoaded', init);\n    } else {\n        init();\n    }\n})();\n","// schedule-management.js\nclass ScheduleManager {\n    constructor() {\n        // We'll store references to the \"Add/Edit Match\" modal and the \"Add Single Week\" form\n        this.editMatchModal = null;\n        this.isAddOperation = false;  // determines if the modal is adding or editing\n        this.currentMatchId = null;\n\n        // Attempt to read CSRF from hidden form fields or meta\n        this.csrfToken = document.querySelector('meta[name=\"csrf-token\"]')?.content || null;\n\n        this.init();\n    }\n\n    init() {\n        document.addEventListener('DOMContentLoaded', () => {\n            // Hook up the Edit/Match modal\n            const modalEl = document.getElementById('editMatchModal');\n            if (modalEl) {\n                this.editMatchModal = ModalManager.getInstance('editMatchModal');\n\n                // The form inside the modal\n                const editForm = document.getElementById('editMatchForm');\n                if (editForm) {\n                    editForm.addEventListener('submit', (evt) => this.handleMatchFormSubmit(evt));\n                }\n            }\n\n            // Listen for the \"Add Single Week\" modal's dynamic parts\n            this.setupSingleWeekModal();\n\n            // Set up each type of button\n            this.setupEditButtons();\n            this.setupDeleteButtons();\n            this.setupAddMatchButtons();\n        });\n    }\n\n    // ----------------------------------------------------------------\n    // 1) SINGLE WEEK MODAL / TIME SLOTS\n    // ----------------------------------------------------------------\n    setupSingleWeekModal() {\n        // We assume there's a button that triggers #addSingleWeekModal\n        const addWeekModal = document.getElementById('addSingleWeekModal');\n        if (!addWeekModal) return;\n\n        // When the modal shows, we set the league_id and clear old timeslots\n        addWeekModal.addEventListener('show.bs.modal', (event) => {\n            const button = event.relatedTarget;\n            if (!button) return;\n            const leagueId = button.getAttribute('data-league-id');\n            document.getElementById('singleWeekLeagueId').value = leagueId;\n            document.getElementById('singleWeekTimeSlots').innerHTML = '';\n\n            // Add at least one slot\n            this.addSingleWeekTimeSlot();\n        });\n\n        // \"Add Time Slot\" button\n        const addTimeSlotBtn = document.getElementById('addTimeSlotBtn');\n        if (addTimeSlotBtn) {\n            addTimeSlotBtn.addEventListener('click', (e) => {\n                e.preventDefault();\n                this.addSingleWeekTimeSlot();\n            });\n        }\n\n        // Handle the singleWeek form submission\n        const singleWeekForm = document.getElementById('addSingleWeekForm');\n        if (singleWeekForm) {\n            singleWeekForm.addEventListener('submit', (evt) => this.handleSingleWeekSubmit(evt));\n        }\n    }\n\n    addSingleWeekTimeSlot() {\n        // Generate one row with time, field, team_a, team_b\n        const container = document.getElementById('singleWeekTimeSlots');\n        if (!container) return;\n\n        // Read the leagueId so we can build the team dropdown\n        const leagueId = document.getElementById('singleWeekLeagueId').value;\n        const teams = window.leagueTeams[leagueId] || [];\n\n        let optionsHtml = '<option value=\"\">--Select--</option>';\n        teams.forEach(t => {\n            optionsHtml += `<option value=\"${t.id}\">${t.name}</option>`;\n        });\n\n        const row = document.createElement('div');\n        row.className = 'row g-2 mb-2';\n\n        row.innerHTML = `\n          <div class=\"col-md-3\">\n            <input type=\"time\" name=\"times[]\" class=\"form-control\" required>\n          </div>\n          <div class=\"col-md-3\">\n            <select name=\"fields[]\" class=\"form-select\" required>\n              <option value=\"North\">North</option>\n              <option value=\"South\">South</option>\n            </select>\n          </div>\n          <div class=\"col-md-3\">\n            <select name=\"team_a[]\" class=\"form-select\" required>\n              ${optionsHtml}\n            </select>\n          </div>\n          <div class=\"col-md-3\">\n            <div class=\"input-group\">\n              <select name=\"team_b[]\" class=\"form-select\" required>\n                ${optionsHtml}\n              </select>\n              <button type=\"button\" class=\"btn btn-danger\" onclick=\"this.closest('.row').remove()\">\n                <i class=\"ti ti-trash\"></i>\n              </button>\n            </div>\n          </div>\n        `;\n        container.appendChild(row);\n    }\n\n    async handleSingleWeekSubmit(evt) {\n        evt.preventDefault();\n        const form = evt.target;\n        const formData = new FormData(form);\n\n        try {\n            const resp = await fetch(form.action || '/publeague/schedules/add_single_week', {\n                method: 'POST',\n                body: formData\n            });\n            const result = await resp.json();\n            if (result.success) {\n                bootstrap.Modal.getInstance(document.getElementById('addSingleWeekModal')).hide();\n                location.reload();\n            } else {\n                alert(result.message || 'Error adding single week');\n            }\n        } catch (err) {\n            // console.error('Error in handleSingleWeekSubmit:', err);\n            alert('Error adding single week');\n        }\n    }\n\n    // ----------------------------------------------------------------\n    // 2) EDIT/ADD MATCH LOGIC\n    // ----------------------------------------------------------------\n    setupAddMatchButtons() {\n        // .schedule-add-match-btn => open the edit modal in \"Add\" mode\n        document.querySelectorAll('.schedule-add-match-btn').forEach(btn => {\n            btn.addEventListener('click', (evt) => {\n                evt.preventDefault();\n                const data = {\n                    league_id: btn.dataset.leagueId,\n                    week: btn.dataset.week,\n                    date: btn.dataset.date\n                };\n                this.openAddMatchModal(data);\n            });\n        });\n    }\n\n    setupEditButtons() {\n        // .schedule-edit-match-btn => open the edit modal in \"Edit\" mode\n        document.querySelectorAll('.schedule-edit-match-btn').forEach(btn => {\n            btn.addEventListener('click', (evt) => {\n                evt.preventDefault();\n                const matchData = {\n                    match_id: btn.dataset.matchId,\n                    date: btn.dataset.date,\n                    time: btn.dataset.time,\n                    location: btn.dataset.location,\n                    team_a_id: btn.dataset.teamAId,\n                    team_b_id: btn.dataset.teamBId,\n                    week: btn.dataset.week\n                };\n                this.openEditMatchModal(matchData);\n            });\n        });\n    }\n\n    setupDeleteButtons() {\n        // .schedule-delete-match-btn => confirm + POST delete\n        document.querySelectorAll('.schedule-delete-match-btn').forEach(btn => {\n            btn.addEventListener('click', async (evt) => {\n                evt.preventDefault();\n                const matchId = btn.dataset.matchId;\n                this.deleteMatch(matchId);\n            });\n        });\n    }\n\n    openAddMatchModal({ league_id, week, date }) {\n        if (!this.editMatchModal) {\n            // console.error('No edit match modal found.');\n            return;\n        }\n        this.isAddOperation = true;\n        this.currentMatchId = null;\n\n        // Reset the form\n        const form = document.getElementById('editMatchForm');\n        form.reset();\n\n        // Set default values (week, date)\n        document.getElementById('editWeek').value = week;\n        document.getElementById('editDate').value = this.toISODate(date);\n\n        // Change label, button text\n        document.getElementById('editMatchModalLabel').textContent = 'Add Match';\n        form.querySelector('button[type=\"submit\"]').textContent = 'Add Match';\n\n        // Show modal\n        this.editMatchModal.show();\n    }\n\n    openEditMatchModal(matchData) {\n        if (!this.editMatchModal) {\n            // console.error('No edit match modal found.');\n            return;\n        }\n        this.isAddOperation = false;\n        this.currentMatchId = matchData.match_id;\n\n        // Fill the form fields\n        document.getElementById('editMatchId').value = matchData.match_id;\n        document.getElementById('editWeek').value = matchData.week || '';\n        document.getElementById('editDate').value = this.toISODate(matchData.date);\n        document.getElementById('editTime').value = this.toISOTime(matchData.time);\n        document.getElementById('editLocation').value = matchData.location || '';\n        // TeamA + TeamB\n        document.getElementById('editTeamA').value = matchData.team_a_id || '';\n        document.getElementById('editTeamB').value = matchData.team_b_id || '';\n\n        // Change label, button text\n        document.getElementById('editMatchModalLabel').textContent = 'Edit Match';\n        document.querySelector('#editMatchForm button[type=\"submit\"]').textContent = 'Save Changes';\n\n        this.editMatchModal.show();\n    }\n\n    // POST the form to either add_match or edit_match\n    async handleMatchFormSubmit(evt) {\n        evt.preventDefault();\n        const form = evt.target;\n        const formData = new FormData(form);\n\n        const url = this.isAddOperation\n            ? '/publeague/schedules/add_match'\n            : `/publeague/schedules/edit_match/${this.currentMatchId}`;\n\n        try {\n            const resp = await fetch(url, {\n                method: 'POST',\n                body: formData,\n                headers: {\n                    'X-Requested-With': 'XMLHttpRequest'\n                    // optionally 'X-CSRFToken': this.csrfToken if needed\n                }\n            });\n            const data = await resp.json();\n            if (data.success) {\n                this.editMatchModal.hide();\n                alert(data.message || (this.isAddOperation\n                    ? 'Match created successfully' : 'Match updated successfully'));\n                location.reload();\n            } else {\n                alert(data.message || 'Failed to save match');\n            }\n        } catch (err) {\n            // console.error('Error in handleMatchFormSubmit:', err);\n            alert('Error saving match');\n        }\n    }\n\n    async deleteMatch(matchId) {\n        if (!confirm('Are you sure you want to delete this match?')) {\n            return;\n        }\n\n        try {\n            const resp = await fetch(`/publeague/schedules/delete_match/${matchId}`, {\n                method: 'POST',\n                headers: {\n                    'X-Requested-With': 'XMLHttpRequest'\n                }\n            });\n            const data = await resp.json();\n            if (data.success) {\n                alert(data.message || 'Match deleted');\n                location.reload();\n            } else {\n                alert(data.message || 'Failed to delete match');\n            }\n        } catch (err) {\n            // console.error('Error deleting match:', err);\n            alert('Error deleting match');\n        }\n    }\n\n    // Helpers for date/time\n    toISODate(val) {\n        // If already \"YYYY-MM-DD\", just return\n        if (/^\\d{4}-\\d{2}-\\d{2}$/.test(val)) return val;\n        // Otherwise try to parse\n        const d = new Date(val);\n        if (isNaN(d)) return '';\n        const yyyy = d.getFullYear();\n        const mm = String(d.getMonth() + 1).padStart(2, '0');\n        const dd = String(d.getDate()).padStart(2, '0');\n        return `${yyyy}-${mm}-${dd}`;\n    }\n\n    toISOTime(val) {\n        // If already \"HH:MM\"\n        if (/^\\d{2}:\\d{2}$/.test(val)) return val;\n        // If \"7:30 PM\"\n        const match = val.match(/(\\d{1,2}):(\\d{2})\\s*(AM|PM)/i);\n        if (!match) return val; // fallback\n        let [_, hh, mm, ampm] = match;\n        let h = parseInt(hh, 10);\n        ampm = ampm.toUpperCase();\n        if (ampm === 'PM' && h < 12) h += 12;\n        if (ampm === 'AM' && h === 12) h = 0;\n        return String(h).padStart(2, '0') + ':' + mm;\n    }\n}\n\n// Instantiate once DOM is loaded\nnew ScheduleManager();\n","/**\n * Settings Tabs Controller\n * Handles tab switching for the settings page\n *\n * Uses data-* attributes for JS hooks:\n * - data-tabs: Tab container\n * - data-tab-trigger=\"name\": Tab trigger button\n * - data-tab-pane=\"name\": Tab content pane\n */\n\n(function() {\n    'use strict';\n\n    const SettingsTabs = {\n        SELECTORS: {\n            CONTAINER: '[data-tabs]',\n            TRIGGER: '[data-tab-trigger]',\n            PANE: '[data-tab-pane]'\n        },\n\n        CLASSES: {\n            ACTIVE_TRIGGER: 'is-active',\n            ACTIVE_PANE: 'c-settings-tab--active'\n        },\n\n        init() {\n            const containers = document.querySelectorAll(this.SELECTORS.CONTAINER);\n\n            containers.forEach(container => {\n                if (container.dataset.tabsInitialized === 'true') return;\n\n                this.initContainer(container);\n                container.dataset.tabsInitialized = 'true';\n            });\n\n            // Handle initial hash\n            this.handleHash();\n        },\n\n        initContainer(container) {\n            // Event delegation for tab clicks\n            container.addEventListener('click', (e) => {\n                const trigger = e.target.closest(this.SELECTORS.TRIGGER);\n                if (!trigger) return;\n\n                e.preventDefault();\n                const tabId = trigger.dataset.tabTrigger;\n\n                if (tabId) {\n                    this.activateTab(container, tabId);\n                }\n            });\n\n            // Keyboard navigation\n            container.addEventListener('keydown', (e) => {\n                const trigger = e.target.closest(this.SELECTORS.TRIGGER);\n                if (!trigger) return;\n\n                const triggers = Array.from(container.querySelectorAll(this.SELECTORS.TRIGGER));\n                const currentIndex = triggers.indexOf(trigger);\n                let newIndex = -1;\n\n                switch (e.key) {\n                    case 'ArrowLeft':\n                    case 'ArrowUp':\n                        e.preventDefault();\n                        newIndex = currentIndex > 0 ? currentIndex - 1 : triggers.length - 1;\n                        break;\n                    case 'ArrowRight':\n                    case 'ArrowDown':\n                        e.preventDefault();\n                        newIndex = currentIndex < triggers.length - 1 ? currentIndex + 1 : 0;\n                        break;\n                    case 'Home':\n                        e.preventDefault();\n                        newIndex = 0;\n                        break;\n                    case 'End':\n                        e.preventDefault();\n                        newIndex = triggers.length - 1;\n                        break;\n                }\n\n                if (newIndex >= 0 && triggers[newIndex]) {\n                    triggers[newIndex].focus();\n                    const tabId = triggers[newIndex].dataset.tabTrigger;\n                    if (tabId) {\n                        this.activateTab(container, tabId);\n                    }\n                }\n            });\n        },\n\n        activateTab(container, tabId) {\n            const triggers = container.querySelectorAll(this.SELECTORS.TRIGGER);\n            const panes = document.querySelectorAll(this.SELECTORS.PANE);\n\n            // Deactivate all triggers\n            triggers.forEach(t => {\n                t.classList.remove(this.CLASSES.ACTIVE_TRIGGER);\n                t.setAttribute('aria-selected', 'false');\n                t.setAttribute('tabindex', '-1');\n            });\n\n            // Deactivate all panes\n            panes.forEach(p => {\n                p.classList.remove(this.CLASSES.ACTIVE_PANE);\n                p.classList.remove('is-active');\n                // Remove Bootstrap classes if present\n                p.classList.remove('show', 'active');\n            });\n\n            // Activate target trigger\n            const targetTrigger = container.querySelector(`[data-tab-trigger=\"${tabId}\"]`);\n            if (targetTrigger) {\n                targetTrigger.classList.add(this.CLASSES.ACTIVE_TRIGGER);\n                targetTrigger.setAttribute('aria-selected', 'true');\n                targetTrigger.setAttribute('tabindex', '0');\n            }\n\n            // Activate target pane\n            const targetPane = document.querySelector(`[data-tab-pane=\"${tabId}\"]`);\n            if (targetPane) {\n                targetPane.classList.add(this.CLASSES.ACTIVE_PANE);\n\n                // Dispatch custom event\n                targetPane.dispatchEvent(new CustomEvent('tab:activated', {\n                    bubbles: true,\n                    detail: { tabId, container, trigger: targetTrigger }\n                }));\n            }\n\n            // Update URL hash\n            if (history.replaceState) {\n                history.replaceState(null, null, `#${tabId}`);\n            }\n        },\n\n        handleHash() {\n            const hash = window.location.hash.slice(1);\n            if (!hash) return;\n\n            const containers = document.querySelectorAll(this.SELECTORS.CONTAINER);\n            containers.forEach(container => {\n                const trigger = container.querySelector(`[data-tab-trigger=\"${hash}\"]`);\n                if (trigger) {\n                    requestAnimationFrame(() => {\n                        this.activateTab(container, hash);\n                    });\n                }\n            });\n        },\n\n        // Public API\n        showTab(tabId) {\n            const trigger = document.querySelector(`[data-tab-trigger=\"${tabId}\"]`);\n            if (!trigger) {\n                console.warn(`SettingsTabs: Tab trigger not found for \"${tabId}\"`);\n                return;\n            }\n\n            const container = trigger.closest(this.SELECTORS.CONTAINER);\n            if (container) {\n                this.activateTab(container, tabId);\n            }\n        }\n    };\n\n    // Initialize on DOM ready\n    if (document.readyState === 'loading') {\n        document.addEventListener('DOMContentLoaded', () => SettingsTabs.init());\n    } else {\n        SettingsTabs.init();\n    }\n\n    // Handle hash changes\n    window.addEventListener('hashchange', () => SettingsTabs.handleHash());\n\n    // Expose globally\n    window.SettingsTabs = SettingsTabs;\n})();\n","document.addEventListener('DOMContentLoaded', function () {\n    const accountInfoForm = document.getElementById('accountInfoForm');\n    const passwordChangeForm = document.getElementById('passwordChangeForm');\n    const notificationForm = document.getElementById('notificationForm');\n    const enable2FABtn = document.getElementById('enable2FABtn');\n    const verify2FAForm = document.getElementById('verify2FAForm');\n    const unlinkDiscordForm = document.getElementById('unlinkDiscordForm');\n    const smsOptInBtn = document.getElementById('smsOptInBtn');\n    const smsOptOutBtn = document.getElementById('smsOptOutBtn');\n    const smsOptInForm = document.getElementById('smsOptInForm');\n    const smsVerificationForm = document.getElementById('smsVerificationForm');\n    const resendCodeBtn = document.getElementById('resendCodeBtn');\n\n    // Cache SMS step elements\n    const smsConsentStep = document.getElementById('smsConsentStep');\n    const smsVerificationStep = document.getElementById('smsVerificationStep');\n    const smsConfirmationStep = document.getElementById('smsConfirmationStep');\n\n    if (accountInfoForm) {\n        accountInfoForm.addEventListener('submit', function (e) {\n            e.preventDefault();\n            this.submit();\n        });\n    }\n\n    if (passwordChangeForm) {\n        passwordChangeForm.addEventListener('submit', function (e) {\n            e.preventDefault();\n            const newPassword = document.getElementById('new_password').value;\n            const confirmPassword = document.getElementById('confirm_password').value;\n            if (newPassword !== confirmPassword) {\n                Swal.fire({\n                    icon: 'error',\n                    title: 'Oops...',\n                    text: 'New passwords do not match!',\n                });\n                return;\n            }\n            this.submit();\n        });\n    }\n\n    if (notificationForm) {\n        notificationForm.addEventListener('submit', function (e) {\n            e.preventDefault();\n            this.submit();\n        });\n    }\n\n    if (unlinkDiscordForm) {\n        unlinkDiscordForm.addEventListener('submit', function (e) {\n            e.preventDefault();\n            Swal.fire({\n                title: 'Are you sure?',\n                text: 'You want to unlink your Discord account?',\n                icon: 'warning',\n                showCancelButton: true,\n                confirmButtonText: 'Yes, unlink it!',\n                cancelButtonText: 'No, keep it'\n            }).then((result) => {\n                if (result.isConfirmed) {\n                    this.submit();\n                }\n            });\n        });\n    }\n\n    // Handle SMS opt-in form submission\n    if (smsOptInForm) {\n        smsOptInForm.addEventListener('submit', function (e) {\n            e.preventDefault();\n            const phoneNumber = document.getElementById('phoneNumber').value;\n            const consentGiven = document.getElementById('smsConsent').checked;\n            fetch('/account/initiate-sms-opt-in', {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json',\n                    'X-CSRFToken': getCsrfToken()\n                },\n                body: JSON.stringify({ phone_number: phoneNumber, consent_given: consentGiven })\n            })\n                .then(response => response.json())\n                .then(data => {\n                    if (data.success) {\n                        // Hide consent step and show verification step using is-hidden\n                        smsConsentStep.classList.add('is-hidden');\n                        smsVerificationStep.classList.remove('is-hidden');\n                        document.getElementById('sentPhoneNumber').textContent = phoneNumber;\n                    } else {\n                        Swal.fire({\n                            icon: 'warning',\n                            title: 'Resubscribe Required',\n                            text: data.message,\n                        });\n                    }\n                });\n        });\n    }\n\n    // Handle SMS verification form submission\n    if (smsVerificationForm) {\n        smsVerificationForm.addEventListener('submit', function (e) {\n            e.preventDefault();\n            const verificationCode = document.getElementById('verificationCode').value;\n            fetch('/account/confirm-sms-opt-in', {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json',\n                    'X-CSRFToken': getCsrfToken()\n                },\n                body: JSON.stringify({ confirmation_code: verificationCode })\n            })\n                .then(response => response.json())\n                .then(data => {\n                    if (data.success) {\n                        // Hide verification step and show confirmation step using is-hidden\n                        smsVerificationStep.classList.add('is-hidden');\n                        smsConfirmationStep.classList.remove('is-hidden');\n                    } else {\n                        Swal.fire({\n                            icon: 'error',\n                            title: 'Invalid Code',\n                            text: data.message,\n                        });\n                    }\n                });\n\n            // Show resend code button after a delay using is-hidden\n            setTimeout(function () {\n                resendCodeBtn.classList.remove('is-hidden');\n            }, 10000);\n        });\n    }\n\n    // Handle resend verification code button click\n    if (resendCodeBtn) {\n        resendCodeBtn.addEventListener('click', function () {\n            fetch('/account/resend-sms-confirmation', {\n                method: 'POST',\n                headers: {\n                    'X-CSRFToken': getCsrfToken()\n                }\n            })\n                .then(response => response.json())\n                .then(data => {\n                    Swal.fire({\n                        icon: 'info',\n                        title: 'Code Resent',\n                        text: data.message,\n                    });\n                });\n        });\n    }\n\n    // Handle SMS opt-out button click\n    if (smsOptOutBtn) {\n        smsOptOutBtn.addEventListener('click', function () {\n            Swal.fire({\n                title: 'Are you sure?',\n                text: 'You want to opt-out of SMS notifications?',\n                icon: 'warning',\n                showCancelButton: true,\n                confirmButtonText: 'Yes, opt-out!',\n                cancelButtonText: 'No, stay subscribed'\n            }).then((result) => {\n                if (result.isConfirmed) {\n                    fetch('/account/opt_out_sms', {\n                        method: 'POST',\n                        headers: {\n                            'X-CSRFToken': getCsrfToken()\n                        }\n                    })\n                        .then(response => response.json())\n                        .then(data => {\n                            if (data.success) {\n                                Swal.fire({\n                                    icon: 'success',\n                                    title: 'Opted Out',\n                                    text: data.message,\n                                }).then(() => {\n                                    location.reload();\n                                });\n                            } else {\n                                Swal.fire({\n                                    icon: 'error',\n                                    title: 'Error',\n                                    text: 'Failed to opt-out. Please try again.',\n                                });\n                            }\n                        });\n                }\n            });\n        });\n    }\n\n    function getCsrfToken() {\n        return document.querySelector('meta[name=\"csrf-token\"]').getAttribute('content');\n    }\n});\n","// Simple HTML5 Canvas Image Cropper for Modal Use\n// Works without external libraries and handles modal initialization properly\n\nclass SimpleCropper {\n    constructor(canvasId, options = {}) {\n        this.canvas = document.getElementById(canvasId);\n        this.ctx = this.canvas.getContext('2d');\n        this.image = null;\n        this.scale = 1;\n        this.offsetX = 0;\n        this.offsetY = 0;\n        this.isDragging = false;\n        this.lastX = 0;\n        this.lastY = 0;\n        \n        // Default options - use ECSTheme if available\n        const defaultBg = (typeof ECSTheme !== 'undefined') ? ECSTheme.getColor('light') : '#f8f9fa';\n        const defaultBorder = (typeof ECSTheme !== 'undefined') ? ECSTheme.getColor('primary') : '#0d6efd';\n        this.options = {\n            cropSize: 300,\n            backgroundColor: defaultBg,\n            borderColor: defaultBorder,\n            ...options\n        };\n        \n        this.init();\n    }\n    \n    init() {\n        // Set canvas size\n        this.canvas.width = this.options.cropSize;\n        this.canvas.height = this.options.cropSize;\n\n        // Apply cropper canvas styling via CSS classes\n        // JUSTIFICATION: Using CSS classes instead of inline styles for:\n        // - border: 2px solid [borderColor] -> .cropper-canvas class\n        // - borderRadius: 8px -> .cropper-canvas class\n        // - cursor: move -> .cropper-canvas class\n        // This provides consistent styling and theme support\n        this.canvas.classList.add('cropper-canvas');\n\n        // Add event listeners\n        this.canvas.addEventListener('mousedown', this.handleMouseDown.bind(this));\n        this.canvas.addEventListener('mousemove', this.handleMouseMove.bind(this));\n        this.canvas.addEventListener('mouseup', this.handleMouseUp.bind(this));\n        this.canvas.addEventListener('wheel', this.handleWheel.bind(this));\n        \n        // Touch events for mobile\n        this.canvas.addEventListener('touchstart', this.handleTouchStart.bind(this));\n        this.canvas.addEventListener('touchmove', this.handleTouchMove.bind(this));\n        this.canvas.addEventListener('touchend', this.handleTouchEnd.bind(this));\n        \n        this.drawBackground();\n    }\n    \n    drawBackground() {\n        this.ctx.fillStyle = this.options.backgroundColor;\n        this.ctx.fillRect(0, 0, this.canvas.width, this.canvas.height);\n        \n        // Draw placeholder text\n        this.ctx.fillStyle = '#666';\n        this.ctx.font = '16px Arial';\n        this.ctx.textAlign = 'center';\n        this.ctx.fillText('Upload an image to crop', this.canvas.width / 2, this.canvas.height / 2);\n    }\n    \n    loadImage(file) {\n        return new Promise((resolve, reject) => {\n            const reader = new FileReader();\n            reader.onload = (e) => {\n                const img = new Image();\n                img.onload = () => {\n                    this.image = img;\n                    this.resetTransform();\n                    this.draw();\n                    resolve();\n                };\n                img.onerror = reject;\n                img.src = e.target.result;\n            };\n            reader.onerror = reject;\n            reader.readAsDataURL(file);\n        });\n    }\n    \n    resetTransform() {\n        if (!this.image) return;\n        \n        // Scale to fit canvas while maintaining aspect ratio\n        const scaleX = this.canvas.width / this.image.width;\n        const scaleY = this.canvas.height / this.image.height;\n        this.scale = Math.max(scaleX, scaleY); // Scale to fill\n        \n        // Center the image\n        this.offsetX = (this.canvas.width - this.image.width * this.scale) / 2;\n        this.offsetY = (this.canvas.height - this.image.height * this.scale) / 2;\n    }\n    \n    draw() {\n        if (!this.image) {\n            this.drawBackground();\n            return;\n        }\n        \n        // Clear canvas\n        this.ctx.clearRect(0, 0, this.canvas.width, this.canvas.height);\n        \n        // Draw image\n        this.ctx.drawImage(\n            this.image,\n            this.offsetX, this.offsetY,\n            this.image.width * this.scale,\n            this.image.height * this.scale\n        );\n        \n        // Draw crop area overlay (optional)\n        this.drawCropOverlay();\n    }\n    \n    drawCropOverlay() {\n        // Draw semi-transparent overlay to show crop area\n        this.ctx.fillStyle = 'rgba(0, 0, 0, 0.3)';\n        this.ctx.fillRect(0, 0, this.canvas.width, this.canvas.height);\n        \n        // Clear the center crop area\n        this.ctx.globalCompositeOperation = 'destination-out';\n        this.ctx.beginPath();\n        this.ctx.arc(this.canvas.width / 2, this.canvas.height / 2, this.canvas.width / 2 - 10, 0, 2 * Math.PI);\n        this.ctx.fill();\n        this.ctx.globalCompositeOperation = 'source-over';\n        \n        // Draw border around crop area\n        this.ctx.strokeStyle = this.options.borderColor;\n        this.ctx.lineWidth = 2;\n        this.ctx.beginPath();\n        this.ctx.arc(this.canvas.width / 2, this.canvas.height / 2, this.canvas.width / 2 - 10, 0, 2 * Math.PI);\n        this.ctx.stroke();\n    }\n    \n    // Mouse event handlers\n    handleMouseDown(e) {\n        this.isDragging = true;\n        const rect = this.canvas.getBoundingClientRect();\n        this.lastX = e.clientX - rect.left;\n        this.lastY = e.clientY - rect.top;\n    }\n    \n    handleMouseMove(e) {\n        if (!this.isDragging || !this.image) return;\n        \n        const rect = this.canvas.getBoundingClientRect();\n        const currentX = e.clientX - rect.left;\n        const currentY = e.clientY - rect.top;\n        \n        this.offsetX += currentX - this.lastX;\n        this.offsetY += currentY - this.lastY;\n        \n        this.lastX = currentX;\n        this.lastY = currentY;\n        \n        this.draw();\n    }\n    \n    handleMouseUp() {\n        this.isDragging = false;\n    }\n    \n    handleWheel(e) {\n        e.preventDefault();\n        if (!this.image) return;\n        \n        const delta = e.deltaY > 0 ? 0.9 : 1.1;\n        const newScale = this.scale * delta;\n        \n        // Limit zoom\n        if (newScale < 0.1 || newScale > 5) return;\n        \n        const rect = this.canvas.getBoundingClientRect();\n        const mouseX = e.clientX - rect.left;\n        const mouseY = e.clientY - rect.top;\n        \n        // Zoom toward mouse position\n        this.offsetX = mouseX - (mouseX - this.offsetX) * (newScale / this.scale);\n        this.offsetY = mouseY - (mouseY - this.offsetY) * (newScale / this.scale);\n        this.scale = newScale;\n        \n        this.draw();\n    }\n    \n    // Touch event handlers\n    handleTouchStart(e) {\n        e.preventDefault();\n        if (e.touches.length === 1) {\n            const touch = e.touches[0];\n            const rect = this.canvas.getBoundingClientRect();\n            this.isDragging = true;\n            this.lastX = touch.clientX - rect.left;\n            this.lastY = touch.clientY - rect.top;\n        }\n    }\n    \n    handleTouchMove(e) {\n        e.preventDefault();\n        if (e.touches.length === 1 && this.isDragging && this.image) {\n            const touch = e.touches[0];\n            const rect = this.canvas.getBoundingClientRect();\n            const currentX = touch.clientX - rect.left;\n            const currentY = touch.clientY - rect.top;\n            \n            this.offsetX += currentX - this.lastX;\n            this.offsetY += currentY - this.lastY;\n            \n            this.lastX = currentX;\n            this.lastY = currentY;\n            \n            this.draw();\n        }\n    }\n    \n    handleTouchEnd(e) {\n        e.preventDefault();\n        this.isDragging = false;\n    }\n    \n    // Get the cropped image as a data URL\n    getCroppedImageData(format = 'image/jpeg', quality = 0.8) {\n        if (!this.image) return null;\n        \n        // Create a new canvas for the cropped image\n        const cropCanvas = document.createElement('canvas');\n        const cropCtx = cropCanvas.getContext('2d');\n        \n        // Set output size (square)\n        const outputSize = 300;\n        cropCanvas.width = outputSize;\n        cropCanvas.height = outputSize;\n        \n        // Calculate crop area (center circle)\n        const centerX = this.canvas.width / 2;\n        const centerY = this.canvas.height / 2;\n        const radius = this.canvas.width / 2 - 10;\n        \n        // Draw the cropped portion\n        cropCtx.drawImage(\n            this.canvas,\n            centerX - radius, centerY - radius, radius * 2, radius * 2,\n            0, 0, outputSize, outputSize\n        );\n        \n        return cropCanvas.toDataURL(format, quality);\n    }\n    \n    // Reset the cropper\n    reset() {\n        this.image = null;\n        this.scale = 1;\n        this.offsetX = 0;\n        this.offsetY = 0;\n        this.drawBackground();\n    }\n}\n\n// Global functions for easy use in the onboarding modal\nwindow.SimpleCropperInstance = null;\n\nwindow.initializeSimpleCropper = function(canvasId) {\n    window.SimpleCropperInstance = new SimpleCropper(canvasId);\n    return window.SimpleCropperInstance;\n};\n\nwindow.loadImageIntoCropper = function(fileInput) {\n    const file = fileInput.files[0];\n    if (!file || !window.SimpleCropperInstance) return;\n    \n    window.SimpleCropperInstance.loadImage(file).then(() => {\n        // Switch UI from upload to crop mode\n        switchToCropMode();\n    }).catch(error => {\n        console.error('Error loading image:', error);\n        if (window.Swal) {\n            Swal.fire({\n                icon: 'error',\n                title: 'Error',\n                text: 'Failed to load image. Please try again.'\n            });\n        }\n    });\n};\n\n// UI State Management Functions\nwindow.switchToCropMode = function() {\n    // Hide profile picture preview and upload instructions\n    const profilePreview = document.getElementById('profilePicturePreview');\n    const uploadInstructions = document.getElementById('uploadInstructions');\n    \n    if (profilePreview) profilePreview.classList.add('d-none');\n    if (uploadInstructions) uploadInstructions.classList.add('d-none');\n    \n    // Show cropper interface and controls\n    const cropperInterface = document.getElementById('cropperInterface');\n    const cropperControls = document.getElementById('cropperControls');\n    \n    if (cropperInterface) cropperInterface.classList.remove('d-none');\n    if (cropperControls) cropperControls.classList.remove('d-none');\n};\n\nwindow.resetImageSelection = function() {\n    // Reset the cropper\n    if (window.SimpleCropperInstance) {\n        window.SimpleCropperInstance.reset();\n    }\n    \n    // Clear file input\n    const fileInput = document.getElementById('image');\n    if (fileInput) {\n        fileInput.value = '';\n    }\n    \n    // Switch back to upload mode\n    switchToUploadMode();\n};\n\nwindow.switchToUploadMode = function() {\n    // Show profile picture preview and upload instructions\n    const profilePreview = document.getElementById('profilePicturePreview');\n    const uploadInstructions = document.getElementById('uploadInstructions');\n    \n    if (profilePreview) profilePreview.classList.remove('d-none');\n    if (uploadInstructions) uploadInstructions.classList.remove('d-none');\n    \n    // Hide cropper interface and controls\n    const cropperInterface = document.getElementById('cropperInterface');\n    const cropperControls = document.getElementById('cropperControls');\n    \n    if (cropperInterface) cropperInterface.classList.add('d-none');\n    if (cropperControls) cropperControls.classList.add('d-none');\n};\n\nwindow.getCroppedImage = function() {\n    if (!window.SimpleCropperInstance) return null;\n    return window.SimpleCropperInstance.getCroppedImageData();\n};\n\n// Function called from the onboarding modal\nwindow.cropAndSaveProfileImage = async function() {\n    const croppedData = window.getCroppedImage();\n    if (!croppedData) {\n        if (window.Swal) {\n            Swal.fire({\n                icon: 'warning',\n                title: 'No Image',\n                text: 'Please select and adjust an image first.'\n            });\n        }\n        return;\n    }\n    \n    // Show loading state\n    if (window.Swal) {\n        Swal.fire({\n            title: 'Saving Image...',\n            text: 'Optimizing and saving your profile picture',\n            allowOutsideClick: false,\n            allowEscapeKey: false,\n            showConfirmButton: false,\n            didOpen: () => {\n                Swal.showLoading();\n            }\n        });\n    }\n    \n    try {\n        // Store in hidden input for form submission\n        const hiddenInput = document.getElementById('cropped_image_data');\n        if (hiddenInput) {\n            hiddenInput.value = croppedData;\n        }\n        \n        // Get player ID for AJAX upload\n        const playerId = document.getElementById('playerId')?.value;\n        \n        if (playerId) {\n            // Immediately save via AJAX\n            const formData = new FormData();\n            formData.append('cropped_image_data', croppedData);\n            \n            // Add CSRF token\n            const csrfTokenInput = document.querySelector('input[name=\"csrf_token\"]');\n            if (csrfTokenInput) {\n                formData.append('csrf_token', csrfTokenInput.value);\n            }\n            \n            // Upload image to database\n            const uploadUrl = `/players/player/${playerId}/upload_profile_picture`;\n            \n            const response = await fetch(uploadUrl, {\n                method: 'POST',\n                headers: { 'X-Requested-With': 'XMLHttpRequest' },\n                body: formData\n            });\n            \n            if (!response.ok) {\n                throw new Error(`Upload failed: ${response.status}`);\n            }\n            \n            const result = await response.json();\n            console.log('Image uploaded successfully:', result);\n        }\n        \n        // Update profile picture preview\n        const profilePic = document.getElementById('currentProfilePicture');\n        if (profilePic) {\n            profilePic.src = croppedData;\n        }\n        \n        // Switch back to upload mode showing the updated profile picture\n        switchToUploadMode();\n        \n        // Show success message\n        if (window.Swal) {\n            Swal.fire({\n                icon: 'success',\n                title: 'Image Saved!',\n                text: 'Your profile picture has been optimized and saved to your profile.',\n                timer: 3000,\n                showConfirmButton: false\n            });\n        }\n        \n    } catch (error) {\n        console.error('Error saving image:', error);\n        \n        // Still update the preview and form data even if AJAX fails\n        const profilePic = document.getElementById('currentProfilePicture');\n        if (profilePic) {\n            profilePic.src = croppedData;\n        }\n        switchToUploadMode();\n        \n        // Show error but don't block the flow\n        if (window.Swal) {\n            Swal.fire({\n                icon: 'warning',\n                title: 'Image Prepared',\n                text: 'Image cropped successfully. It will be saved when you complete registration.',\n                timer: 3000,\n                showConfirmButton: false\n            });\n        }\n    }\n};\n","/**\n * Substitute Pool Management\n * JavaScript for managing substitute pools across leagues\n *\n * Dependencies: jQuery, Bootstrap 5, subPoolShowAlert function\n */\n\n// Global pagination state\nlet paginationState = {};\n\n// Notification function\nfunction subPoolShowAlert(type, message) {\n    // Try toastr first, fallback to SweetAlert2, then basic alert\n    if (typeof toastr !== 'undefined') {\n        toastr[type](message);\n    } else if (typeof Swal !== 'undefined') {\n        Swal.fire({\n            icon: type === 'success' ? 'success' : type === 'error' ? 'error' : 'info',\n            title: type.charAt(0).toUpperCase() + type.slice(1),\n            text: message,\n            timer: 3000,\n            showConfirmButton: false\n        });\n    } else {\n        alert(message);\n    }\n}\n\n// Global drag and drop functions - available immediately\nwindow.handleDragStart = function(event) {\n    const card = event.target.closest('.player-card, .player-list-item');\n    if (card) {\n        card.classList.add('dragging');\n\n        event.dataTransfer.setData('text/plain', JSON.stringify({\n            playerId: card.dataset.playerId,\n            league: card.dataset.league,\n            status: card.dataset.status\n        }));\n    }\n};\n\nwindow.handleDragEnd = function(event) {\n    const card = event.target.closest('.player-card, .player-list-item');\n    if (card) {\n        card.classList.remove('dragging');\n    }\n};\n\nwindow.handleDragOver = function(event) {\n    event.preventDefault();\n    event.currentTarget.classList.add('drag-over');\n};\n\nwindow.handleDragLeave = function(event) {\n    event.currentTarget.classList.remove('drag-over');\n};\n\nwindow.handleDrop = function(event) {\n    event.preventDefault();\n    const dropZone = event.currentTarget;\n    dropZone.classList.remove('drag-over');\n\n    const data = JSON.parse(event.dataTransfer.getData('text/plain'));\n    const targetStatus = dropZone.dataset.status;\n    const targetLeague = dropZone.dataset.league;\n\n    // Only allow drops within the same league\n    if (data.league !== targetLeague) {\n        subPoolShowAlert('error', 'Cannot move players between different leagues');\n        return;\n    }\n\n    // Don't allow dropping in the same zone\n    if (data.status === targetStatus) {\n        return;\n    }\n\n    // Handle the drop\n    if (targetStatus === 'active') {\n        approvePlayer(data.playerId, data.league);\n    } else if (targetStatus === 'pending') {\n        removePlayer(data.playerId, data.league);\n    }\n};\n\n// Initialize pagination state\nfunction initializePaginationState(poolsData) {\n    paginationState = {};\n    for (const leagueType in poolsData) {\n        paginationState[`${leagueType}-pending`] = { currentPage: 1, itemsPerPage: 8 };\n        paginationState[`${leagueType}-active`] = { currentPage: 1, itemsPerPage: 8 };\n    }\n}\n\n// Search functionality\nfunction initializeSearch() {\n    let searchTimeout;\n\n    $('#playerSearch').on('input', function() {\n        clearTimeout(searchTimeout);\n        const query = $(this).val().trim();\n\n        if (query.length < 2) {\n            $('#searchResults').hide();\n            return;\n        }\n\n        searchTimeout = setTimeout(function() {\n            performSearch(query);\n        }, 300);\n    });\n\n    $(document).on('click', function(e) {\n        if (!$(e.target).closest('.search-container').length) {\n            $('#searchResults').hide();\n        }\n    });\n}\n\nfunction performSearch(query) {\n    const leagueFilter = $('#searchLeagueFilter').val();\n\n    $.ajax({\n        url: '/api/substitute-pools/player-search',\n        method: 'GET',\n        data: {\n            q: query,\n            league_type: leagueFilter\n        },\n        success: function(response) {\n            if (response.success) {\n                displaySearchResults(response.players);\n            } else {\n                subPoolShowAlert('error', response.message);\n            }\n        },\n        error: function() {\n            subPoolShowAlert('error', 'Search failed. Please try again.');\n        }\n    });\n}\n\nfunction displaySearchResults(players) {\n    const resultsContainer = $('#searchResults');\n    resultsContainer.empty();\n\n    if (players.length === 0) {\n        resultsContainer.html('<div class=\"search-result-item\">No players found</div>');\n    } else {\n        players.forEach(function(player) {\n            const item = $(`\n                <div class=\"search-result-item\">\n                    <div class=\"d-flex justify-content-between align-items-center\">\n                        <div>\n                            <strong>${player.name}</strong>\n                            <br><small class=\"text-muted\">${player.email || 'No email'}</small>\n                        </div>\n                        <div class=\"text-end\">\n                            <small class=\"text-muted d-block\">Can add to:</small>\n                            <div>\n                                ${player.can_add_to.map(league => `\n                                    <button class=\"btn btn-sm btn-outline-primary ms-1\"\n                                            data-action=\"add-player-to-league\"\n                                            data-player-id=\"${player.id}\"\n                                            data-league=\"${league}\">\n                                        ${league}\n                                    </button>\n                                `).join('')}\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            `);\n            resultsContainer.append(item);\n        });\n    }\n\n    resultsContainer.show();\n}\n\n// Event handlers\n// NOTE: Event handlers have been migrated to the centralized EventDelegation system\n// See: /app/static/js/event-delegation.js\n// Actions registered: approve-pool-player, remove-pool-player, edit-pool-preferences,\n// view-pool-player-details, add-player-to-league, toggle-pool-view, filter-pool,\n// manage-league-pool, save-pool-preferences, pool-pagination\nfunction subPoolInitializeEventHandlers() {\n    // All jQuery delegation has been replaced with EventDelegation.register()\n    // See event-delegation.js for the centralized handlers\n\n    // The following event handlers are now handled by EventDelegation:\n    // - approve-pool-player: Approve pending player\n    // - remove-pool-player: Remove player from pool (with confirmation)\n    // - edit-pool-preferences: Open preferences modal\n    // - view-pool-player-details: Open player details modal\n    // - add-player-to-league: Add player from search results\n    // - toggle-pool-view: Switch between grid/list views\n    // - filter-pool: Filter players by search text (input event)\n    // - manage-league-pool: Open league management modal\n    // - save-pool-preferences: Save preferences form\n\n    // Legacy jQuery handlers kept for reference (commented out):\n    /*\n    // Approve player\n    $(document).on('click', '.approve-player', function() {\n        const playerId = $(this).data('player-id');\n        const league = $(this).data('league');\n        approvePlayer(playerId, league);\n    });\n\n    // Remove player\n    $(document).on('click', '.remove-player', function() {\n        const playerId = $(this).data('player-id');\n        const league = $(this).data('league');\n\n        if (confirm('Are you sure you want to remove this player from the substitute pool?')) {\n            removePlayer(playerId, league);\n        }\n    });\n\n    // Edit preferences\n    $(document).on('click', '.edit-preferences', function() {\n        const playerId = $(this).data('player-id');\n        const league = $(this).data('league');\n        openEditPreferencesModal(playerId, league);\n    });\n\n    // Player details\n    $(document).on('click', '.player-details-btn', function() {\n        const playerId = $(this).data('player-id');\n        openPlayerDetailsModal(playerId);\n    });\n\n    // Add to league from search\n    $(document).on('click', '.add-to-league', function() {\n        const playerId = $(this).data('player-id');\n        const league = $(this).data('league');\n        approvePlayer(playerId, league);\n    });\n\n    // Save preferences\n    $('#savePreferences').on('click', function() {\n        savePreferences();\n    });\n\n    // View toggle\n    $(document).on('click', '.view-toggle', function() {\n        const view = $(this).data('view');\n        const league = $(this).data('league');\n        const section = $(this).data('section');\n\n        // Update button states\n        $(this).siblings().removeClass('active');\n        $(this).addClass('active');\n\n        // Show/hide views\n        if (view === 'list') {\n            $(`#${section}-list-${league}`).show();\n            $(`#${section}-grid-${league}`).hide();\n        } else {\n            $(`#${section}-list-${league}`).hide();\n            $(`#${section}-grid-${league}`).show();\n        }\n    });\n\n    // Filter functionality\n    $(document).on('input', '.pool-filter', function() {\n        const filterText = $(this).val().toLowerCase();\n        const league = $(this).data('league');\n        const section = $(this).data('section');\n\n        filterPlayerCards(league, section, filterText);\n    });\n\n    // Manage league modal\n    $(document).on('click', '.manage-league-btn', function() {\n        const league = $(this).data('league');\n        openLeagueManagementModal(league);\n    });\n    */\n}\n\n// Player management functions\nfunction approvePlayer(playerId, league) {\n    $.ajax({\n        url: `/admin/substitute-pools/${league}/add-player`,\n        method: 'POST',\n        contentType: 'application/json',\n        data: JSON.stringify({\n            player_id: playerId,\n            sms_notifications: true,\n            discord_notifications: true,\n            email_notifications: true\n        }),\n        success: function(response) {\n            if (response.success) {\n                subPoolShowAlert('success', response.message);\n                setTimeout(() => location.reload(), 1500);\n            } else {\n                subPoolShowAlert('error', response.message);\n            }\n        },\n        error: function() {\n            subPoolShowAlert('error', 'Failed to add player to pool');\n        }\n    });\n}\n\nfunction removePlayer(playerId, league) {\n    // Confirmation is now handled by the EventDelegation system\n    // But we keep it here as a safety check for direct function calls\n    if (!confirm('Are you sure you want to remove this player from the substitute pool?')) {\n        return;\n    }\n\n    $.ajax({\n        url: `/admin/substitute-pools/${league}/remove-player`,\n        method: 'POST',\n        contentType: 'application/json',\n        data: JSON.stringify({\n            player_id: playerId\n        }),\n        success: function(response) {\n            if (response.success) {\n                subPoolShowAlert('success', response.message);\n                setTimeout(() => location.reload(), 1500);\n            } else {\n                subPoolShowAlert('error', response.message);\n            }\n        },\n        error: function() {\n            subPoolShowAlert('error', 'Failed to remove player from pool');\n        }\n    });\n}\n\n// Player details modal\nfunction openPlayerDetailsModal(playerId) {\n    const detailsLoading = document.getElementById('detailsLoading');\n    const detailsData = document.getElementById('detailsData');\n\n    // Show loading, hide data using CSS classes\n    detailsLoading.classList.remove('d-none');\n    detailsLoading.classList.add('d-block');\n    detailsData.classList.remove('d-block');\n    detailsData.classList.add('d-none');\n\n    ModalManager.show('playerDetailsModal');\n\n    fetch(`/players/api/player_profile/${playerId}`)\n        .then(response => response.json())\n        .then(data => {\n            displayPlayerDetails(data, playerId);\n        })\n        .catch(error => {\n            console.error('Error loading player profile:', error);\n            document.getElementById('detailsLoading').innerHTML = `\n                <div class=\"text-center py-4\">\n                    <i class=\"ti ti-alert-circle text-danger mb-2\" style=\"font-size: 2rem;\"></i>\n                    <p class=\"text-muted\">Failed to load player details</p>\n                    <button class=\"btn btn-sm btn-outline-primary\" data-action=\"view-pool-player-details\" data-player-id=\"${playerId}\">\n                        <i class=\"ti ti-refresh me-1\"></i>Retry\n                    </button>\n                </div>\n            `;\n        });\n}\n\nfunction displayPlayerDetails(data, playerId) {\n    const detailsLoading = document.getElementById('detailsLoading');\n    const detailsData = document.getElementById('detailsData');\n\n    // Hide loading, show data using CSS classes\n    detailsLoading.classList.remove('d-block');\n    detailsLoading.classList.add('d-none');\n    detailsData.classList.remove('d-none');\n    detailsData.classList.add('d-block');\n\n    if (data.success && data.profile) {\n        const profile = data.profile;\n        document.getElementById('detailsData').innerHTML = `\n            <div class=\"player-profile-header p-4 bg-primary text-white\">\n                <div class=\"row align-items-center\">\n                    <div class=\"col-auto\">\n                        <img src=\"${profile.profile_picture_url || '/static/img/default_player.png'}\"\n                             alt=\"${profile.name}\"\n                             class=\"rounded-circle\"\n                             style=\"width: 80px; height: 80px; object-fit: cover;\"\n                             onerror=\"this.src='/static/img/default_player.png';\">\n                    </div>\n                    <div class=\"col\">\n                        <h4 class=\"mb-1\">${profile.name}</h4>\n                        <p class=\"mb-1\"><i class=\"ti ti-mail me-2\"></i>${profile.email || 'No email'}</p>\n                        ${profile.phone ? `<p class=\"mb-0\"><i class=\"ti ti-phone me-2\"></i>${profile.phone}</p>` : ''}\n                    </div>\n                </div>\n            </div>\n            <div class=\"p-4\">\n                <div class=\"row\">\n                    <div class=\"col-md-6\">\n                        <h6 class=\"fw-bold mb-3\">Teams</h6>\n                        ${profile.teams && profile.teams.length > 0 ?\n                            profile.teams.map(team => `<span class=\"badge bg-primary me-1 mb-1\">${team.name}</span>`).join('') :\n                            '<span class=\"text-muted\">No teams assigned</span>'\n                        }\n                    </div>\n                    <div class=\"col-md-6\">\n                        <h6 class=\"fw-bold mb-3\">Roles</h6>\n                        ${profile.roles && profile.roles.length > 0 ?\n                            profile.roles.map(role => `<span class=\"badge bg-secondary me-1 mb-1\">${role}</span>`).join('') :\n                            '<span class=\"text-muted\">No roles assigned</span>'\n                        }\n                    </div>\n                </div>\n            </div>\n        `;\n    } else {\n        document.getElementById('detailsData').innerHTML = `\n            <div class=\"text-center py-4\">\n                <i class=\"ti ti-user-off text-muted mb-2\" style=\"font-size: 2rem;\"></i>\n                <p class=\"text-muted\">Player details not available</p>\n            </div>\n        `;\n    }\n}\n\n// Filter functionality\nfunction filterPlayerCards(league, section, filterText) {\n    const cards = $(`.player-card[data-league=\"${league}\"][data-status=\"${section}\"], .player-list-item[data-league=\"${league}\"][data-status=\"${section}\"]`);\n\n    cards.each(function() {\n        const searchText = $(this).data('search-text') || '';\n        if (searchText.includes(filterText)) {\n            $(this).show();\n        } else {\n            $(this).hide();\n        }\n    });\n}\n\n// Pagination functions\nfunction updatePagination(league, section) {\n    const key = `${league}-${section}`;\n    const state = paginationState[key];\n    const itemsPerPage = state.itemsPerPage;\n    const currentPage = state.currentPage;\n\n    // Hide all items first\n    $(`.player-card[data-league=\"${league}\"][data-status=\"${section}\"], .player-list-item[data-league=\"${league}\"][data-status=\"${section}\"]`).hide();\n\n    // Calculate which items to show\n    const startIndex = (currentPage - 1) * itemsPerPage;\n    const endIndex = startIndex + itemsPerPage;\n\n    // Show items for current page\n    $(`.player-card[data-league=\"${league}\"][data-status=\"${section}\"], .player-list-item[data-league=\"${league}\"][data-status=\"${section}\"]`)\n        .slice(startIndex, endIndex).show();\n\n    // Update pagination info\n    const totalItems = $(`.player-card[data-league=\"${league}\"][data-status=\"${section}\"], .player-list-item[data-league=\"${league}\"][data-status=\"${section}\"]`).length;\n    const totalPages = Math.ceil(totalItems / itemsPerPage);\n\n    $(`#${section}-start-${league}`).text(startIndex + 1);\n    $(`#${section}-end-${league}`).text(Math.min(endIndex, totalItems));\n    $(`#${section}-total-${league}`).text(totalItems);\n\n    generatePaginationControls(league, section, currentPage, totalPages);\n}\n\nfunction generatePaginationControls(league, section, currentPage, totalPages) {\n    const paginationContainer = $(`#${section}-pagination-${league}`);\n\n    if (!paginationContainer.length || totalPages <= 1) {\n        paginationContainer.empty();\n        return;\n    }\n\n    let paginationHtml = '';\n\n    // Previous button\n    paginationHtml += `\n        <li class=\"page-item ${currentPage === 1 ? 'disabled' : ''}\">\n            <a class=\"page-link\" href=\"#\" data-action=\"pool-pagination\" data-page=\"${currentPage - 1}\" data-league=\"${league}\" data-section=\"${section}\">\n                <i class=\"ti ti-chevron-left\"></i>\n            </a>\n        </li>\n    `;\n\n    // Page numbers\n    const startPage = Math.max(1, currentPage - 2);\n    const endPage = Math.min(totalPages, currentPage + 2);\n\n    if (startPage > 1) {\n        paginationHtml += `\n            <li class=\"page-item\">\n                <a class=\"page-link\" href=\"#\" data-action=\"pool-pagination\" data-page=\"1\" data-league=\"${league}\" data-section=\"${section}\">1</a>\n            </li>\n        `;\n        if (startPage > 2) {\n            paginationHtml += '<li class=\"page-item disabled\"><span class=\"page-link\">...</span></li>';\n        }\n    }\n\n    for (let i = startPage; i <= endPage; i++) {\n        paginationHtml += `\n            <li class=\"page-item ${i === currentPage ? 'active' : ''}\">\n                <a class=\"page-link\" href=\"#\" data-action=\"pool-pagination\" data-page=\"${i}\" data-league=\"${league}\" data-section=\"${section}\">${i}</a>\n            </li>\n        `;\n    }\n\n    if (endPage < totalPages) {\n        if (endPage < totalPages - 1) {\n            paginationHtml += '<li class=\"page-item disabled\"><span class=\"page-link\">...</span></li>';\n        }\n        paginationHtml += `\n            <li class=\"page-item\">\n                <a class=\"page-link\" href=\"#\" data-action=\"pool-pagination\" data-page=\"${totalPages}\" data-league=\"${league}\" data-section=\"${section}\">${totalPages}</a>\n            </li>\n        `;\n    }\n\n    // Next button\n    paginationHtml += `\n        <li class=\"page-item ${currentPage === totalPages ? 'disabled' : ''}\">\n            <a class=\"page-link\" href=\"#\" data-action=\"pool-pagination\" data-page=\"${currentPage + 1}\" data-league=\"${league}\" data-section=\"${section}\">\n                <i class=\"ti ti-chevron-right\"></i>\n            </a>\n        </li>\n    `;\n\n    paginationContainer.html(paginationHtml);\n}\n\n// Pagination click handler\n// NOTE: Pagination is now handled by the centralized EventDelegation system\n// See event-delegation.js - action: pool-pagination\n// Legacy jQuery handler kept for reference (commented out):\n/*\n$(document).on('click', '.pagination .page-link', function(e) {\n    e.preventDefault();\n\n    const page = parseInt($(this).data('page'));\n    const league = $(this).data('league');\n    const section = $(this).data('section');\n    const key = `${league}-${section}`;\n\n    if (page && paginationState[key] && page !== paginationState[key].currentPage) {\n        paginationState[key].currentPage = page;\n        updatePagination(league, section);\n    }\n});\n*/\n\n// Initialize everything when document is ready\n$(document).ready(function() {\n    initializeSearch();\n    subPoolInitializeEventHandlers();\n});\n","/**\n * Substitute Request Management\n * JavaScript for managing substitute requests and notifications\n *\n * Dependencies: jQuery, Bootstrap 5, toastr or showAlert function\n *\n * Refactoring Notes:\n * - Replaced all inline style manipulations with CSS utility classes\n * - Icon sizing now uses .icon-lg class from utilities/sizing-utils.css\n * - All empty state icons use consistent sizing via utility classes\n * - 100% reduction in inline style usage (4 instances removed, 0 remaining)\n */\n\n// Utility functions\nfunction getTimeSince(dateString) {\n    const now = new Date();\n    const past = new Date(dateString);\n    const diffMs = now - past;\n    const diffMins = Math.floor(diffMs / 60000);\n    const diffHours = Math.floor(diffMs / 3600000);\n    const diffDays = Math.floor(diffMs / 86400000);\n    \n    if (diffMins < 1) return 'Just now';\n    if (diffMins < 60) return `${diffMins}m ago`;\n    if (diffHours < 24) return `${diffHours}h ago`;\n    return `${diffDays}d ago`;\n}\n\nfunction formatDateTime(dateString) {\n    const date = new Date(dateString);\n    return date.toLocaleDateString() + ' ' + date.toLocaleTimeString([], {hour: '2-digit', minute:'2-digit'});\n}\n\nfunction subRequestShowNotification(type, message) {\n    // Try toastr first, fallback to showAlert\n    if (typeof toastr !== 'undefined') {\n        toastr[type](message);\n    } else if (typeof showAlert !== 'undefined') {\n        showAlert(type, message);\n    } else {\n        alert(message);\n    }\n}\n\n// League Management Modal Functions\nfunction openLeagueManagementModal(league) {\n    // Set modal title and icon based on league\n    // League colors - use ECSTheme if available, fallback to distinct semantic colors\n    const infoColor = (typeof ECSTheme !== 'undefined') ? ECSTheme.getColor('info') : '#0dcaf0';\n    const successColor = (typeof ECSTheme !== 'undefined') ? ECSTheme.getColor('success') : '#198754';\n    const dangerColor = (typeof ECSTheme !== 'undefined') ? ECSTheme.getColor('danger') : '#dc3545';\n    const leagueConfigs = {\n        'ECS FC': { name: 'ECS FC', icon: 'fas fa-futbol', color: infoColor },\n        'Classic': { name: 'Classic Division', icon: 'fas fa-trophy', color: successColor },\n        'Premier': { name: 'Premier Division', icon: 'fas fa-crown', color: dangerColor }\n    };\n    \n    const config = leagueConfigs[league] || leagueConfigs['ECS FC'];\n    \n    $('#leagueIcon').attr('class', config.icon + ' me-2');\n    $('#leagueTitle').text(config.name);\n    \n    // Load league statistics\n    loadLeagueStatistics(league);\n    \n    // Store current league for modal actions\n    $('#leagueManagementModal').data('current-league', league);\n}\n\nfunction loadLeagueStatistics(league) {\n    // Get stats from the main page\n    const activeCount = $(`#active-count-${league}`).text() || '0';\n    const pendingCount = $(`#pending-count-${league}`).text() || '0';\n    \n    $('#modalTotalActive').text(activeCount);\n    $('#modalPendingApproval').text(pendingCount);\n    \n    // Load additional statistics via AJAX\n    $.ajax({\n        url: `/admin/substitute-pools/${league}/statistics`,\n        method: 'GET',\n        success: function(response) {\n            if (response.success) {\n                const stats = response.statistics;\n                $('#modalTotalRequests').text(stats.total_requests_sent || 0);\n                $('#modalMatchesPlayed').text(stats.total_matches_played || 0);\n            }\n        },\n        error: function() {\n            console.warn('Could not load detailed statistics');\n        }\n    });\n    \n    // Load recent activity\n    loadRecentActivity(league);\n    \n    // Load substitute requests\n    loadSubstituteRequests(league);\n}\n\nfunction loadRecentActivity(league) {\n    // Show loading spinner\n    $('#recentActivityTable').html(`\n        <tr>\n            <td colspan=\"4\" class=\"text-center\">\n                <div class=\"spinner-border spinner-border-sm text-primary\" role=\"status\">\n                    <span class=\"visually-hidden\">Loading...</span>\n                </div>\n                <span class=\"ms-2\">Loading activity...</span>\n            </td>\n        </tr>\n    `);\n    \n    $.ajax({\n        url: `/admin/substitute-pools/${league}/history`,\n        method: 'GET',\n        timeout: 10000,\n        success: function(response) {\n            console.log('Recent activity response:', response);\n            if (response.success && response.history) {\n                console.log('History length:', response.history.length);\n                displayRecentActivity(response.history.slice(0, 10));\n            } else {\n                console.log('No history in response or response not successful');\n                displayRecentActivity([]);\n            }\n        },\n        error: function(xhr, status, error) {\n            console.error('Error loading activity:', error, xhr.responseText);\n            let errorMessage = 'Unable to load activity history';\n            \n            if (status === 'timeout') {\n                errorMessage = 'Request timed out - server may be slow';\n            } else if (xhr.status === 404) {\n                errorMessage = 'History endpoint not found';\n            } else if (xhr.status === 403) {\n                errorMessage = 'Access denied - insufficient permissions';\n            } else if (xhr.status === 500) {\n                errorMessage = 'Server error loading history';\n            }\n            \n            $('#recentActivityTable').html(`\n                <tr>\n                    <td colspan=\"4\" class=\"text-center\">\n                        <i class=\"ti ti-alert-circle text-warning me-2\"></i>\n                        <span class=\"text-muted\">${errorMessage}</span>\n                        <br>\n                        <small class=\"text-muted\">Status: ${xhr.status} - ${error}</small>\n                        <br>\n                        <button class=\"js-retry-activity mt-2\" data-action=\"retry-activity\" onclick=\"loadRecentActivity('${league}')\">\n                            <i class=\"ti ti-refresh me-1\"></i>Retry\n                        </button>\n                    </td>\n                </tr>\n            `);\n        }\n    });\n}\n\nfunction displayRecentActivity(activities) {\n    const tbody = $('#recentActivityTable');\n    tbody.empty();\n    \n    if (!activities || activities.length === 0) {\n        tbody.html(`\n            <tr>\n                <td colspan=\"4\" class=\"text-center py-4\">\n                    <i class=\"ti ti-clock-off text-muted mb-2 d-block icon-lg\"></i>\n                    <span class=\"text-muted\">No recent activity for this pool</span>\n                    <br>\n                    <small class=\"text-muted\">Activities will appear here when players are added or removed</small>\n                </td>\n            </tr>\n        `);\n        return;\n    }\n    \n    activities.forEach(activity => {\n        // Format the action badge color based on action type\n        let badgeClass = 'bg-secondary';\n        if (activity.action === 'ADDED' || activity.action === 'APPROVED') badgeClass = 'bg-success';\n        if (activity.action === 'REMOVED') badgeClass = 'bg-danger';\n        if (activity.action === 'UPDATED') badgeClass = 'bg-info';\n        \n        const row = `\n            <tr>\n                <td><small>${formatDateTime(activity.performed_at)}</small></td>\n                <td><span data-component=\"action-badge\" class=\"${badgeClass}\">${activity.action}</span></td>\n                <td>${activity.player_name || 'Unknown'}</td>\n                <td>${activity.performer_name || 'System'}</td>\n            </tr>\n        `;\n        tbody.append(row);\n    });\n}\n\n// Substitute Request Management Functions\nfunction loadSubstituteRequests(league) {\n    $('#substituteRequestsTable').html(`\n        <tr>\n            <td colspan=\"5\" class=\"text-center\">\n                <div class=\"spinner-border spinner-border-sm text-primary\" role=\"status\">\n                    <span class=\"visually-hidden\">Loading...</span>\n                </div>\n                <span class=\"ms-2\">Loading substitute requests...</span>\n            </td>\n        </tr>\n    `);\n    \n    $.ajax({\n        url: `/admin/substitute-pools/${league}/requests`,\n        method: 'GET',\n        timeout: 10000,\n        success: function(response) {\n            console.log('Substitute requests response:', response);\n            if (response.success && response.requests) {\n                displaySubstituteRequests(response.requests);\n            } else {\n                displaySubstituteRequests([]);\n            }\n        },\n        error: function(xhr, status, error) {\n            console.error('Error loading substitute requests:', error);\n            $('#substituteRequestsTable').html(`\n                <tr>\n                    <td colspan=\"5\" class=\"text-center\">\n                        <i class=\"ti ti-alert-circle text-warning me-2\"></i>\n                        <span class=\"text-muted\">Unable to load substitute requests</span>\n                        <br>\n                        <button class=\"js-retry-requests mt-2\" data-action=\"retry-requests\" onclick=\"loadSubstituteRequests('${league}')\">\n                            <i class=\"ti ti-refresh me-1\"></i>Retry\n                        </button>\n                    </td>\n                </tr>\n            `);\n        }\n    });\n}\n\nfunction displaySubstituteRequests(requests) {\n    const tbody = $('#substituteRequestsTable');\n    tbody.empty();\n    \n    if (!requests || requests.length === 0) {\n        tbody.html(`\n            <tr>\n                <td colspan=\"5\" class=\"text-center py-4\">\n                    <i class=\"ti ti-message-off text-muted mb-2 d-block icon-lg\"></i>\n                    <span class=\"text-muted\">No recent substitute requests</span>\n                    <br>\n                    <small class=\"text-muted\">Substitute requests will appear here when teams request subs</small>\n                </td>\n            </tr>\n        `);\n        return;\n    }\n    \n    requests.forEach(request => {\n        let statusBadge = 'bg-secondary';\n        let statusText = request.status;\n        \n        // Show assignment progress instead of just status\n        if (request.status === 'OPEN' || request.status === 'FILLED') {\n            const assignedCount = request.assigned_count || 0;\n            const substitutesNeeded = request.substitutes_needed || 1;\n            const assignmentsRemaining = request.assignments_remaining || substitutesNeeded;\n            \n            if (assignedCount === 0) {\n                statusBadge = 'bg-warning';\n                statusText = `0 of ${substitutesNeeded} assigned`;\n            } else if (assignedCount < substitutesNeeded) {\n                statusBadge = 'bg-info';\n                statusText = `${assignedCount} of ${substitutesNeeded} assigned`;\n            } else {\n                statusBadge = 'bg-success';\n                statusText = `${assignedCount} of ${substitutesNeeded} assigned`;\n            }\n        } else if (request.status === 'CANCELLED') {\n            statusBadge = 'bg-danger';\n            statusText = 'Cancelled';\n        }\n        \n        const timeSinceCreated = getTimeSince(request.created_at);\n        const canResend = request.status === 'OPEN';\n        const canCancel = request.status === 'OPEN';\n        const canDelete = request.status === 'CANCELLED';\n        \n        const row = `\n            <tr>\n                <td>\n                    <small>${formatDateTime(request.created_at)}</small>\n                    <br>\n                    <small class=\"text-muted\">${timeSinceCreated}</small>\n                </td>\n                <td>\n                    <strong>${request.team_name || 'Unknown Team'}</strong>\n                    ${request.positions_needed ? `<br><small class=\"text-muted\">${request.positions_needed}</small>` : ''}\n                </td>\n                <td>\n                    <span data-component=\"status-badge\" class=\"${statusBadge}\">${statusText}</span>\n                </td>\n                <td>\n                    <span class=\"fw-bold\">${request.response_rate}</span>\n                    ${request.available_responses > 0 ?\n                        `<br><small class=\"text-success\">${request.available_responses} available</small>` :\n                        '<br><small class=\"text-muted\">No responses</small>'\n                    }\n                </td>\n                <td>\n                    <div data-component=\"action-buttons\">\n                        ${canResend ? `\n                            <button data-action=\"resend-request\" \n                                    data-request-id=\"${request.id}\" \n                                    data-league=\"${request.league_type}\"\n                                    data-team=\"${request.team_name}\"\n                                    data-created=\"${request.created_at}\"\n                                    title=\"Resend notifications\">\n                                <i class=\"ti ti-send\"></i>\n                            </button>\n                        ` : ''}\n                        ${canCancel ? `\n                            <button data-action=\"cancel-request\" \n                                    data-request-id=\"${request.id}\" \n                                    data-league=\"${request.league_type}\"\n                                    data-team=\"${request.team_name}\"\n                                    title=\"Cancel request\">\n                                <i class=\"ti ti-x\"></i>\n                            </button>\n                        ` : ''}\n                        ${canDelete ? `\n                            <button data-action=\"delete-request\"\n                                    data-request-id=\"${request.id}\"\n                                    data-league=\"${request.league_type}\"\n                                    data-team=\"${request.team_name}\"\n                                    title=\"Delete cancelled request\">\n                                <i class=\"ti ti-trash\"></i>\n                            </button>\n                        ` : ''}\n                        <button data-action=\"view-request-details\" \n                                data-request-id=\"${request.id}\" \n                                title=\"View details\">\n                            <i class=\"ti ti-eye\"></i>\n                        </button>\n                    </div>\n                </td>\n            </tr>\n        `;\n        tbody.append(row);\n    });\n}\n\nfunction resendSubstituteRequest(requestId, league, teamName, createdAt) {\n    // Check how long ago it was sent\n    const now = new Date();\n    const created = new Date(createdAt);\n    const diffMins = Math.floor((now - created) / 60000);\n    \n    // Show warning if sent recently\n    if (diffMins < 30) {\n        const confirmMessage = `This substitute request for ${teamName} was sent only ${diffMins} minutes ago. Are you sure you want to send notifications again?`;\n        \n        // Use SweetAlert2 if available, fallback to confirm\n        if (typeof Swal !== 'undefined') {\n            Swal.fire({\n                title: 'Resend Confirmation',\n                text: confirmMessage,\n                icon: 'warning',\n                showCancelButton: true,\n                confirmButtonColor: (typeof ECSTheme !== 'undefined') ? ECSTheme.getColor('primary') : '#0d6efd',\n                cancelButtonColor: (typeof ECSTheme !== 'undefined') ? ECSTheme.getColor('danger') : '#dc3545',\n                confirmButtonText: 'Yes, resend it!'\n            }).then((result) => {\n                if (result.isConfirmed) {\n                    performResendRequest(requestId, league);\n                }\n            });\n            return;\n        } else if (!confirm(confirmMessage)) {\n            return;\n        }\n    }\n\n    performResendRequest(requestId, league);\n}\n\nfunction performResendRequest(requestId, league) {\n    const btn = $(`[data-action=\"resend-request\"][data-request-id=\"${requestId}\"]`);\n    const originalText = btn.html();\n    \n    btn.prop('disabled', true);\n    btn.html('<i class=\"ti ti-loader spinner-border spinner-border-sm\"></i>');\n    \n    $.ajax({\n        url: `/admin/substitute-pools/${league}/requests/${requestId}/resend`,\n        method: 'POST',\n        success: function(response) {\n            if (response.success) {\n                subRequestShowNotification('success', response.message);\n                loadSubstituteRequests(league); // Refresh the table\n            } else {\n                subRequestShowNotification('error', response.message);\n            }\n        },\n        error: function(xhr) {\n            const errorResponse = xhr.responseJSON;\n            if (errorResponse && errorResponse.requires_confirmation) {\n                const confirmMessage = `${errorResponse.message} Send anyway?`;\n                if (typeof Swal !== 'undefined') {\n                    Swal.fire({\n                        title: 'Force Resend?',\n                        text: confirmMessage,\n                        icon: 'question',\n                        showCancelButton: true,\n                        confirmButtonColor: (typeof ECSTheme !== 'undefined') ? ECSTheme.getColor('primary') : '#0d6efd',\n                        cancelButtonColor: (typeof ECSTheme !== 'undefined') ? ECSTheme.getColor('danger') : '#dc3545',\n                        confirmButtonText: 'Yes, send anyway!'\n                    }).then((result) => {\n                        if (result.isConfirmed) {\n                            resendSubstituteRequestForce(requestId, league);\n                        }\n                    });\n                } else if (confirm(confirmMessage)) {\n                    // Force resend\n                    resendSubstituteRequestForce(requestId, league);\n                }\n            } else {\n                subRequestShowNotification('error', 'Failed to resend substitute request');\n            }\n        },\n        complete: function() {\n            btn.prop('disabled', false);\n            btn.html(originalText);\n        }\n    });\n}\n\nfunction cancelSubstituteRequest(requestId, league, teamName) {\n    if (!confirm(`Are you sure you want to cancel the substitute request for ${teamName}?`)) {\n        return;\n    }\n\n    const btn = $(`[data-action=\"cancel-request\"][data-request-id=\"${requestId}\"]`);\n    const originalText = btn.html();\n    \n    btn.prop('disabled', true);\n    btn.html('<i class=\"ti ti-loader spinner-border spinner-border-sm\"></i>');\n    \n    $.ajax({\n        url: `/admin/substitute-pools/${league}/requests/${requestId}/cancel`,\n        method: 'POST',\n        success: function(response) {\n            if (response.success) {\n                subRequestShowNotification('success', response.message);\n                loadSubstituteRequests(league); // Refresh the table\n            } else {\n                subRequestShowNotification('error', response.message);\n            }\n        },\n        error: function() {\n            subRequestShowNotification('error', 'Failed to cancel substitute request');\n        },\n        complete: function() {\n            btn.prop('disabled', false);\n            btn.html(originalText);\n        }\n    });\n}\n\n// Match-specific substitute request functions\nfunction loadMatchSubstituteRequests(matchId) {\n    if (!matchId) {\n        console.warn('No match ID provided for loading substitute requests');\n        return;\n    }\n    \n    $('#matchSubstituteRequestsTable').html(`\n        <tr>\n            <td colspan=\"5\" class=\"text-center\">\n                <div class=\"spinner-border spinner-border-sm text-primary\" role=\"status\">\n                    <span class=\"visually-hidden\">Loading...</span>\n                </div>\n                <span class=\"ms-2\">Loading substitute requests...</span>\n            </td>\n        </tr>\n    `);\n    \n    $.ajax({\n        url: `/admin/substitute-pools/match/${matchId}/requests`,\n        method: 'GET',\n        timeout: 10000,\n        success: function(response) {\n            console.log('Match substitute requests response:', response);\n            if (response.success && response.requests) {\n                displayMatchSubstituteRequests(response.requests);\n            } else {\n                displayMatchSubstituteRequests([]);\n            }\n        },\n        error: function(xhr, status, error) {\n            console.error('Error loading match substitute requests:', error);\n            $('#matchSubstituteRequestsTable').html(`\n                <tr>\n                    <td colspan=\"5\" class=\"text-center\">\n                        <i class=\"ti ti-alert-circle text-warning me-2\"></i>\n                        <span class=\"text-muted\">Unable to load substitute requests</span>\n                        <br>\n                        <button class=\"js-retry-match-requests mt-2\" data-action=\"retry-match-requests\" data-match-id=\"${matchId}\" onclick=\"loadMatchSubstituteRequests(this.dataset.matchId)\">\n                            <i class=\"ti ti-refresh me-1\"></i>Retry\n                        </button>\n                    </td>\n                </tr>\n            `);\n        }\n    });\n}\n\nfunction displayMatchSubstituteRequests(requests) {\n    const tbody = $('#matchSubstituteRequestsTable');\n    tbody.empty();\n    \n    if (!requests || requests.length === 0) {\n        tbody.html(`\n            <tr>\n                <td colspan=\"5\" class=\"text-center py-4\">\n                    <i class=\"ti ti-message-off text-muted mb-2 d-block icon-lg\"></i>\n                    <span class=\"text-muted\">No substitute requests for this match</span>\n                    <br>\n                    <small class=\"text-muted\">Create a new request to notify substitutes</small>\n                </td>\n            </tr>\n        `);\n        return;\n    }\n    \n    requests.forEach(request => {\n        let statusBadge = 'bg-secondary';\n        let statusText = request.status;\n        \n        // Show assignment progress instead of just status\n        if (request.status === 'OPEN' || request.status === 'FILLED') {\n            const assignedCount = request.assigned_count || 0;\n            const substitutesNeeded = request.substitutes_needed || 1;\n            const assignmentsRemaining = request.assignments_remaining || substitutesNeeded;\n            \n            if (assignedCount === 0) {\n                statusBadge = 'bg-warning';\n                statusText = `0 of ${substitutesNeeded} assigned`;\n            } else if (assignedCount < substitutesNeeded) {\n                statusBadge = 'bg-info';\n                statusText = `${assignedCount} of ${substitutesNeeded} assigned`;\n            } else {\n                statusBadge = 'bg-success';\n                statusText = `${assignedCount} of ${substitutesNeeded} assigned`;\n            }\n        } else if (request.status === 'CANCELLED') {\n            statusBadge = 'bg-danger';\n            statusText = 'Cancelled';\n        }\n        \n        const timeSinceCreated = getTimeSince(request.created_at);\n        const canResend = request.status === 'OPEN';\n        const canCancel = request.status === 'OPEN';\n        const canDelete = request.status === 'CANCELLED';\n        \n        const row = `\n            <tr>\n                <td>\n                    <small>${formatDateTime(request.created_at)}</small>\n                    <br>\n                    <small class=\"text-muted\">${timeSinceCreated}</small>\n                </td>\n                <td>\n                    <strong>${request.team_name || 'Unknown Team'}</strong>\n                    ${request.positions_needed ? `<br><small class=\"text-muted\">${request.positions_needed}</small>` : ''}\n                </td>\n                <td>\n                    <span data-component=\"status-badge\" class=\"${statusBadge}\">${statusText}</span>\n                </td>\n                <td>\n                    <span class=\"fw-bold\">${request.response_rate}</span>\n                    ${request.available_responses > 0 ?\n                        `<br><small class=\"text-success\">${request.available_responses} available</small>` :\n                        '<br><small class=\"text-muted\">No responses</small>'\n                    }\n                </td>\n                <td>\n                    <div data-component=\"action-buttons\">\n                        ${canResend ? `\n                            <button data-action=\"resend-match-request\" \n                                    data-request-id=\"${request.id}\" \n                                    data-league=\"${request.league_type}\"\n                                    data-team=\"${request.team_name}\"\n                                    data-created=\"${request.created_at}\"\n                                    title=\"Resend notifications\">\n                                <i class=\"ti ti-send\"></i>\n                            </button>\n                        ` : ''}\n                        ${canCancel ? `\n                            <button data-action=\"cancel-match-request\" \n                                    data-request-id=\"${request.id}\" \n                                    data-league=\"${request.league_type}\"\n                                    data-team=\"${request.team_name}\"\n                                    title=\"Cancel request\">\n                                <i class=\"ti ti-x\"></i>\n                            </button>\n                        ` : ''}\n                        ${canDelete ? `\n                            <button data-action=\"delete-request\"\n                                    data-request-id=\"${request.id}\"\n                                    data-league=\"${request.league_type}\"\n                                    data-team=\"${request.team_name}\"\n                                    title=\"Delete cancelled request\">\n                                <i class=\"ti ti-trash\"></i>\n                            </button>\n                        ` : ''}\n                        <button data-action=\"view-match-request-details\" \n                                data-request-id=\"${request.id}\" \n                                title=\"View details\">\n                            <i class=\"ti ti-eye\"></i>\n                        </button>\n                    </div>\n                </td>\n            </tr>\n        `;\n        tbody.append(row);\n    });\n}\n\n// Event handlers for substitute requests\n$(document).on('click', '[data-action=\"resend-request\"]', function() {\n    const requestId = $(this).data('request-id');\n    const league = $(this).data('league');\n    const teamName = $(this).data('team');\n    const createdAt = $(this).data('created');\n    resendSubstituteRequest(requestId, league, teamName, createdAt);\n});\n\n$(document).on('click', '[data-action=\"cancel-request\"]', function() {\n    const requestId = $(this).data('request-id');\n    const league = $(this).data('league');\n    const teamName = $(this).data('team');\n    cancelSubstituteRequest(requestId, league, teamName);\n});\n\n$(document).on('click', '[data-action=\"refresh-requests\"]', function() {\n    const league = $('#leagueManagementModal').data('current-league');\n    if (league) {\n        loadSubstituteRequests(league);\n    }\n});\n\n$(document).on('click', '[data-action=\"view-request-details\"]', function() {\n    const requestId = $(this).data('request-id');\n    const league = $('#leagueManagementModal').data('current-league');\n    viewRequestDetails(requestId, league);\n});\n\n// Event handlers for match-specific requests\n$(document).on('click', '[data-action=\"resend-match-request\"]', function() {\n    const requestId = $(this).data('request-id');\n    const league = $(this).data('league');\n    const teamName = $(this).data('team');\n    const createdAt = $(this).data('created');\n    resendMatchSubstituteRequest(requestId, league, teamName, createdAt);\n});\n\n$(document).on('click', '[data-action=\"cancel-match-request\"]', function() {\n    const requestId = $(this).data('request-id');\n    const league = $(this).data('league');\n    const teamName = $(this).data('team');\n    cancelMatchSubstituteRequest(requestId, league, teamName);\n});\n\n$(document).on('click', '[data-action=\"delete-request\"]', function() {\n    const requestId = $(this).data('request-id');\n    const league = $(this).data('league');\n    const teamName = $(this).data('team');\n    deleteSubstituteRequest(requestId, league, teamName);\n});\n\n$(document).on('click', '[data-action=\"refresh-match-requests\"]', function() {\n    if (typeof matchId !== 'undefined') {\n        loadMatchSubstituteRequests(matchId);\n    }\n});\n\n$(document).on('click', '[data-action=\"view-match-request-details\"]', function() {\n    const requestId = $(this).data('request-id');\n    // Determine league type from the current page context\n    const league = 'ECS FC'; // Default for match pages, could be made dynamic\n    viewRequestDetails(requestId, league);\n});\n\nfunction resendMatchSubstituteRequest(requestId, league, teamName, createdAt) {\n    // Check how long ago it was sent\n    const now = new Date();\n    const created = new Date(createdAt);\n    const diffMins = Math.floor((now - created) / 60000);\n    \n    // Show warning if sent recently\n    if (diffMins < 30) {\n        const confirmMessage = `This substitute request for ${teamName} was sent only ${diffMins} minutes ago. Are you sure you want to send notifications again?`;\n        \n        // Use SweetAlert2 if available, fallback to confirm\n        if (typeof Swal !== 'undefined') {\n            Swal.fire({\n                title: 'Resend Confirmation',\n                text: confirmMessage,\n                icon: 'warning',\n                showCancelButton: true,\n                confirmButtonColor: (typeof ECSTheme !== 'undefined') ? ECSTheme.getColor('primary') : '#0d6efd',\n                cancelButtonColor: (typeof ECSTheme !== 'undefined') ? ECSTheme.getColor('danger') : '#dc3545',\n                confirmButtonText: 'Yes, resend it!'\n            }).then((result) => {\n                if (result.isConfirmed) {\n                    performMatchResendRequest(requestId, league);\n                }\n            });\n            return;\n        } else if (!confirm(confirmMessage)) {\n            return;\n        }\n    }\n    \n    performMatchResendRequest(requestId, league);\n}\n\nfunction performMatchResendRequest(requestId, league) {\n    const btn = $(`[data-action=\"resend-match-request\"][data-request-id=\"${requestId}\"]`);\n    const originalText = btn.html();\n    \n    btn.prop('disabled', true);\n    btn.html('<i class=\"ti ti-loader spinner-border spinner-border-sm\"></i>');\n    \n    $.ajax({\n        url: `/admin/substitute-pools/${league}/requests/${requestId}/resend`,\n        method: 'POST',\n        success: function(response) {\n            if (response.success) {\n                subRequestShowNotification('success', response.message);\n                if (typeof matchId !== 'undefined') {\n                    loadMatchSubstituteRequests(matchId);\n                }\n            } else {\n                subRequestShowNotification('error', response.message);\n            }\n        },\n        error: function(xhr) {\n            const errorResponse = xhr.responseJSON;\n            if (errorResponse && errorResponse.requires_confirmation) {\n                const confirmMessage = `${errorResponse.message} Send anyway?`;\n                if (typeof Swal !== 'undefined') {\n                    Swal.fire({\n                        title: 'Force Resend?',\n                        text: confirmMessage,\n                        icon: 'question',\n                        showCancelButton: true,\n                        confirmButtonColor: (typeof ECSTheme !== 'undefined') ? ECSTheme.getColor('primary') : '#0d6efd',\n                        cancelButtonColor: (typeof ECSTheme !== 'undefined') ? ECSTheme.getColor('danger') : '#dc3545',\n                        confirmButtonText: 'Yes, send anyway!'\n                    }).then((result) => {\n                        if (result.isConfirmed) {\n                            subRequestShowNotification('info', 'Force resend not yet implemented');\n                        }\n                    });\n                } else if (confirm(confirmMessage)) {\n                    subRequestShowNotification('info', 'Force resend not yet implemented');\n                }\n            } else {\n                subRequestShowNotification('error', 'Failed to resend substitute request');\n            }\n        },\n        complete: function() {\n            btn.prop('disabled', false);\n            btn.html(originalText);\n        }\n    });\n}\n\nfunction cancelMatchSubstituteRequest(requestId, league, teamName) {\n    if (!confirm(`Are you sure you want to cancel the substitute request for ${teamName}?`)) {\n        return;\n    }\n\n    const btn = $(`[data-action=\"cancel-match-request\"][data-request-id=\"${requestId}\"]`);\n    const originalText = btn.html();\n    \n    btn.prop('disabled', true);\n    btn.html('<i class=\"ti ti-loader spinner-border spinner-border-sm\"></i>');\n    \n    $.ajax({\n        url: `/admin/substitute-pools/${league}/requests/${requestId}/cancel`,\n        method: 'POST',\n        success: function(response) {\n            if (response.success) {\n                subRequestShowNotification('success', response.message);\n                if (typeof matchId !== 'undefined') {\n                    loadMatchSubstituteRequests(matchId);\n                }\n            } else {\n                subRequestShowNotification('error', response.message);\n            }\n        },\n        error: function() {\n            subRequestShowNotification('error', 'Failed to cancel substitute request');\n        },\n        complete: function() {\n            btn.prop('disabled', false);\n            btn.html(originalText);\n        }\n    });\n}\n\nfunction deleteSubstituteRequest(requestId, league, teamName) {\n    // Use SweetAlert2 if available\n    if (typeof Swal !== 'undefined') {\n        Swal.fire({\n            title: 'Delete Request?',\n            text: `Are you sure you want to delete this cancelled substitute request for ${teamName}? This action cannot be undone.`,\n            icon: 'warning',\n            showCancelButton: true,\n            confirmButtonColor: (typeof ECSTheme !== 'undefined') ? ECSTheme.getColor('danger') : '#dc3545',\n            cancelButtonColor: (typeof ECSTheme !== 'undefined') ? ECSTheme.getColor('secondary') : '#6c757d',\n            confirmButtonText: 'Yes, delete it!',\n            cancelButtonText: 'Cancel'\n        }).then((result) => {\n            if (result.isConfirmed) {\n                performDeleteRequest(requestId, league);\n            }\n        });\n    } else if (confirm(`Are you sure you want to delete this cancelled substitute request for ${teamName}? This action cannot be undone.`)) {\n        performDeleteRequest(requestId, league);\n    }\n}\n\nfunction performDeleteRequest(requestId, league) {\n    $.ajax({\n        url: `/api/substitute-pools/requests/${requestId}`,\n        method: 'DELETE',\n        success: function(response) {\n            if (response.success) {\n                subRequestShowNotification('success', 'Request deleted successfully');\n\n                // Immediately remove the row from the UI\n                $(`[data-action=\"delete-request\"][data-request-id=\"${requestId}\"]`).closest('tr').fadeOut(300, function() {\n                    $(this).remove();\n\n                    // Check if table is empty after removal\n                    const tbody = $('#matchSubstituteRequestsTable, #substituteRequestsTable');\n                    if (tbody.find('tr').length === 0) {\n                        tbody.html(`\n                            <tr>\n                                <td colspan=\"5\" class=\"text-center py-4\">\n                                    <i class=\"ti ti-message-off text-muted mb-2 d-block icon-lg\"></i>\n                                    <span class=\"text-muted\">No substitute requests</span>\n                                </td>\n                            </tr>\n                        `);\n                    }\n                });\n\n                // Also reload the data for consistency\n                if (typeof loadRecentActivity === 'function') {\n                    loadRecentActivity(league);\n                }\n                if (typeof loadSubstituteRequests === 'function') {\n                    loadSubstituteRequests(league);\n                }\n                // For match-specific requests\n                if (typeof matchId !== 'undefined' && typeof loadMatchSubstituteRequests === 'function') {\n                    loadMatchSubstituteRequests(matchId);\n                }\n            } else {\n                subRequestShowNotification('error', response.error || 'Failed to delete request');\n            }\n        },\n        error: function(xhr) {\n            const errorMsg = xhr.responseJSON?.error || 'Failed to delete substitute request';\n            subRequestShowNotification('error', errorMsg);\n        }\n    });\n}\n\n// Modal action handlers\n$(document).on('click', '#bulkApproveBtn', function() {\n    const league = $('#leagueManagementModal').data('current-league');\n    const pendingCount = parseInt($(`#pending-count-${league}`).text()) || 0;\n\n    if (pendingCount === 0) {\n        subRequestShowNotification('info', 'No pending players to approve');\n        return;\n    }\n    \n    if (confirm(`Are you sure you want to approve all ${pendingCount} pending players for this league?`)) {\n        bulkApproveAllPending(league);\n    }\n});\n\n$(document).on('click', '#exportPoolBtn', function() {\n    const league = $('#leagueManagementModal').data('current-league');\n    const btn = $(this);\n    \n    // Disable button and show loading\n    btn.prop('disabled', true);\n    btn.html('<i class=\"ti ti-loader me-2 spinner-border spinner-border-sm\"></i>Exporting...');\n    \n    // Simulate export (replace with actual implementation)\n    setTimeout(function() {\n        btn.prop('disabled', false);\n        btn.html('<i class=\"ti ti-download me-2\"></i>Export Pool Data');\n        subRequestShowNotification('success', 'Pool data export started. Check your downloads.');\n        // In real implementation: window.location.href = `/admin/substitute-pools/${league}/export`;\n    }, 1500);\n});\n\n$(document).on('click', '#sendNotificationBtn', function() {\n    const league = $('#leagueManagementModal').data('current-league');\n    const activeCount = parseInt($(`#active-count-${league}`).text()) || 0;\n\n    if (activeCount === 0) {\n        subRequestShowNotification('warning', 'No active substitutes to notify');\n        return;\n    }\n\n    subRequestShowNotification('info', `Notification feature coming soon! Would notify ${activeCount} active substitutes.`);\n});\n\n// Save pool settings\n$(document).on('click', '#savePoolSettings', function() {\n    const league = $('#leagueManagementModal').data('current-league');\n    const maxMatches = $('#defaultMaxMatches').val();\n    const autoApproval = $('#autoApprovalSwitch').is(':checked');\n    \n    // Show saving state\n    const btn = $(this);\n    btn.prop('disabled', true);\n    btn.text('Saving...');\n    \n    // Simulate save (replace with actual AJAX call)\n    setTimeout(function() {\n        btn.prop('disabled', false);\n        btn.text('Save Settings');\n        subRequestShowNotification('success', 'Pool settings saved successfully');\n        \n        // Log the activity\n        console.log('Saving settings for', league, {\n            defaultMaxMatches: maxMatches,\n            autoApproval: autoApproval\n        });\n    }, 1000);\n});\n\n// Utility function for bulk operations\nfunction bulkApproveAllPending(league) {\n    // Get all pending player IDs for this league\n    const pendingCards = $(`[data-component=\"player-item\"][data-league=\"${league}\"][data-status=\"pending\"]`);\n    const playerIds = [];\n    \n    pendingCards.each(function() {\n        const playerId = $(this).data('player-id');\n        if (playerId) {\n            playerIds.push(playerId);\n        }\n    });\n    \n    if (playerIds.length === 0) {\n        subRequestShowNotification('info', 'No pending players to approve');\n        return;\n    }\n\n    // Approve each player\n    let completed = 0;\n    playerIds.forEach(playerId => {\n        if (typeof approvePlayer === 'function') {\n            approvePlayer(playerId, league);\n            completed++;\n\n            if (completed === playerIds.length) {\n                subRequestShowNotification('success', `Approved ${completed} players`);\n                setTimeout(() => location.reload(), 1500);\n            }\n        }\n    });\n}\n\n// Export pool data function  \nfunction exportPoolData(league) {\n    window.open(`/admin/substitute-pools/${league}/export`, '_blank');\n}\n\n// View request details function\nfunction viewRequestDetails(requestId, league) {\n    // Load request details via AJAX\n    $.ajax({\n        url: `/admin/substitute-pools/${league}/requests/${requestId}`,\n        method: 'GET',\n        success: function(response) {\n            if (response.success) {\n                displayRequestDetailsModal(response.request);\n            } else {\n                subRequestShowNotification('error', response.message);\n            }\n        },\n        error: function() {\n            subRequestShowNotification('error', 'Failed to load request details');\n        }\n    });\n}\n\nfunction displayRequestDetailsModal(request) {\n    const available = request.responses.filter(r => r.is_available);\n    const unavailable = request.responses.filter(r => !r.is_available);\n    const noResponse = request.total_responses === 0;\n    \n    let responsesHtml = '';\n    \n    if (noResponse) {\n        responsesHtml = `\n            <div class=\"alert alert-info\">\n                <i class=\"ti ti-info-circle me-2\"></i>\n                No responses received yet.\n            </div>\n        `;\n    } else {\n        // Available responses\n        if (available.length > 0) {\n            responsesHtml += `\n                <div class=\"mb-4\">\n                    <h6 class=\"text-success\"><i class=\"ti ti-check-circle me-2\"></i>Available (${available.length})</h6>\n                    <div class=\"list-group\">\n            `;\n            available.forEach(response => {\n                const canAssign = request.status === 'OPEN' && request.assignments.length === 0;\n                responsesHtml += `\n                    <div class=\"list-group-item d-flex justify-content-between align-items-center\">\n                        <div>\n                            <strong>${response.player_name}</strong>\n                            <br>\n                            <small class=\"text-muted\">\n                                <i class=\"ti ti-clock me-1\"></i>Responded ${formatDateTime(response.responded_at)}\n                                via ${response.response_method}\n                            </small>\n                            ${response.player_phone ? `<br><small class=\"text-muted\"><i class=\"ti ti-phone me-1\"></i>${response.player_phone}</small>` : ''}\n                        </div>\n                        <div>\n                            ${canAssign ? `\n                                <button data-action=\"assign-substitute\" \n                                        data-request-id=\"${request.id}\" \n                                        data-player-id=\"${response.player_id}\"\n                                        data-player-name=\"${response.player_name}\"\n                                        data-league=\"${request.league_type}\">\n                                    <i class=\"ti ti-user-plus me-1\"></i>Assign\n                                </button>\n                            ` : ''}\n                        </div>\n                    </div>\n                `;\n            });\n            responsesHtml += `</div></div>`;\n        }\n        \n        // Unavailable responses\n        if (unavailable.length > 0) {\n            responsesHtml += `\n                <div class=\"mb-4\">\n                    <h6 class=\"text-warning\"><i class=\"ti ti-x-circle me-2\"></i>Not Available (${unavailable.length})</h6>\n                    <div class=\"list-group\">\n            `;\n            unavailable.forEach(response => {\n                responsesHtml += `\n                    <div class=\"list-group-item\">\n                        <strong>${response.player_name}</strong>\n                        <br>\n                        <small class=\"text-muted\">\n                            <i class=\"ti ti-clock me-1\"></i>Responded ${formatDateTime(response.responded_at)}\n                            via ${response.response_method}\n                        </small>\n                    </div>\n                `;\n            });\n            responsesHtml += `</div></div>`;\n        }\n    }\n    \n    // Assignments\n    let assignmentsHtml = '';\n    if (request.assignments.length > 0) {\n        assignmentsHtml = `\n            <div class=\"mb-4\">\n                <h6 class=\"text-primary\"><i class=\"ti ti-user-check me-2\"></i>Assigned Substitute</h6>\n                <div class=\"list-group\">\n        `;\n        request.assignments.forEach(assignment => {\n            assignmentsHtml += `\n                <div class=\"list-group-item\">\n                    <div class=\"d-flex justify-content-between align-items-center\">\n                        <div>\n                            <strong>${assignment.player_name}</strong>\n                            ${assignment.position_assigned ? `<span class=\"badge bg-info ms-2\">${assignment.position_assigned}</span>` : ''}\n                            <br>\n                            <small class=\"text-muted\">\n                                <i class=\"ti ti-clock me-1\"></i>Assigned ${formatDateTime(assignment.assigned_at)}\n                            </small>\n                            ${assignment.notes ? `<br><small class=\"text-muted\"><i class=\"ti ti-note me-1\"></i>${assignment.notes}</small>` : ''}\n                        </div>\n                        <span class=\"badge bg-success\">Assigned</span>\n                    </div>\n                </div>\n            `;\n        });\n        assignmentsHtml += `</div></div>`;\n    }\n    \n    const modalHtml = `\n        <div class=\"modal fade\" id=\"requestDetailsModal\" tabindex=\"-1\">\n            <div class=\"modal-dialog modal-lg\">\n                <div class=\"modal-content\">\n                    <div class=\"modal-header\">\n                        <h5 class=\"modal-title\">\n                            <i class=\"ti ti-list-details me-2\"></i>\n                            Substitute Request Details - ${request.team_name}\n                        </h5>\n                        <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\"></button>\n                    </div>\n                    <div class=\"modal-body\">\n                        <div class=\"row mb-4\">\n                            <div class=\"col-md-6\">\n                                <h6>Request Information</h6>\n                                <p><strong>Team:</strong> ${request.team_name}</p>\n                                <p><strong>League:</strong> ${request.league_type}</p>\n                                <p><strong>Status:</strong> ${(() => {\n                                    const assignedCount = request.assigned_count || 0;\n                                    const substitutesNeeded = request.substitutes_needed || 1;\n                                    let statusBadge = 'bg-secondary';\n                                    let statusText = request.status;\n                                    \n                                    if (request.status === 'OPEN' || request.status === 'FILLED') {\n                                        if (assignedCount === 0) {\n                                            statusBadge = 'bg-warning';\n                                            statusText = `0 of ${substitutesNeeded} assigned`;\n                                        } else if (assignedCount < substitutesNeeded) {\n                                            statusBadge = 'bg-info';\n                                            statusText = `${assignedCount} of ${substitutesNeeded} assigned`;\n                                        } else {\n                                            statusBadge = 'bg-success';\n                                            statusText = `${assignedCount} of ${substitutesNeeded} assigned`;\n                                        }\n                                    } else if (request.status === 'CANCELLED') {\n                                        statusBadge = 'bg-danger';\n                                        statusText = 'Cancelled';\n                                    }\n                                    \n                                    return `<span class=\"badge ${statusBadge}\">${statusText}</span>`;\n                                })()}</p>\n                                <p><strong>Created:</strong> ${formatDateTime(request.created_at)}</p>\n                                ${request.positions_needed ? `<p><strong>Positions:</strong> ${request.positions_needed}</p>` : ''}\n                                ${request.gender_preference ? `<p><strong>Gender Preference:</strong> <span class=\"badge bg-info\">${request.gender_preference}</span></p>` : ''}\n                                ${request.notes ? `<p><strong>Notes:</strong> ${request.notes}</p>` : ''}\n                            </div>\n                            <div class=\"col-md-6\">\n                                <h6>Response Summary</h6>\n                                <p><strong>Total Notified:</strong> ${request.total_responses}</p>\n                                <p><strong>Available:</strong> <span class=\"text-success\">${request.available_responses}</span></p>\n                                <p><strong>Not Available:</strong> <span class=\"text-warning\">${request.total_responses - request.available_responses}</span></p>\n                                <p><strong>Response Rate:</strong> ${request.response_rate}</p>\n                            </div>\n                        </div>\n                        \n                        ${assignmentsHtml}\n                        ${responsesHtml}\n                    </div>\n                    <div class=\"modal-footer\">\n                        <button type=\"button\" data-action=\"close-modal\" data-bs-dismiss=\"modal\">Close</button>\n                        ${request.status === 'OPEN' ? `\n                            <button type=\"button\" data-action=\"resend-from-details\" \n                                    data-request-id=\"${request.id}\" \n                                    data-league=\"${request.league_type}\"\n                                    data-team=\"${request.team_name}\"\n                                    data-created=\"${request.created_at}\">\n                                <i class=\"ti ti-send me-2\"></i>Resend Notifications\n                            </button>\n                        ` : ''}\n                    </div>\n                </div>\n            </div>\n        </div>\n    `;\n    \n    // Remove existing modal if any\n    $('#requestDetailsModal').remove();\n    \n    // Add modal to body and show it\n    $('body').append(modalHtml);\n    $('#requestDetailsModal').modal('show');\n}\n\n// Handle assignment from details modal\n$(document).on('click', '[data-action=\"assign-substitute\"]', function() {\n    const requestId = $(this).data('request-id');\n    const playerId = $(this).data('player-id');\n    const playerName = $(this).data('player-name');\n    const league = $(this).data('league');\n    \n    if (typeof Swal !== 'undefined') {\n        Swal.fire({\n            title: 'Assign Substitute',\n            text: `Assign ${playerName} as substitute for this match?`,\n            input: 'text',\n            inputLabel: 'Position (optional)',\n            inputPlaceholder: 'e.g., Forward, Midfielder',\n            showCancelButton: true,\n            confirmButtonText: 'Assign',\n            cancelButtonText: 'Cancel',\n            confirmButtonColor: (typeof ECSTheme !== 'undefined') ? ECSTheme.getColor('success') : '#198754'\n        }).then((result) => {\n            if (result.isConfirmed) {\n                assignSubstitute(requestId, playerId, league, result.value || '');\n            }\n        });\n    } else {\n        const position = prompt(`Assign ${playerName} as substitute.\\nPosition (optional):`) || '';\n        if (position !== null) {\n            assignSubstitute(requestId, playerId, league, position);\n        }\n    }\n});\n\nfunction assignSubstitute(requestId, playerId, league, position) {\n    $.ajax({\n        url: `/admin/substitute-pools/${league}/requests/${requestId}/assign`,\n        method: 'POST',\n        contentType: 'application/json',\n        data: JSON.stringify({\n            player_id: playerId,\n            position_assigned: position,\n            notes: ''\n        }),\n        success: function(response) {\n            if (response.success) {\n                subRequestShowNotification('success', response.message);\n                $('#requestDetailsModal').modal('hide');\n                // Refresh the requests table if visible\n                if ($('#substituteRequestsTable').length) {\n                    const league = $('#leagueManagementModal').data('current-league');\n                    if (league) {\n                        loadSubstituteRequests(league);\n                    }\n                }\n                // Refresh match requests table if visible\n                if ($('#matchSubstituteRequestsTable').length && typeof matchId !== 'undefined') {\n                    loadMatchSubstituteRequests(matchId);\n                }\n            } else {\n                subRequestShowNotification('error', response.message);\n            }\n        },\n        error: function() {\n            subRequestShowNotification('error', 'Failed to assign substitute');\n        }\n    });\n}\n\n// Handle resend from details modal\n$(document).on('click', '[data-action=\"resend-from-details\"]', function() {\n    const requestId = $(this).data('request-id');\n    const league = $(this).data('league');\n    const teamName = $(this).data('team');\n    const createdAt = $(this).data('created');\n    \n    $('#requestDetailsModal').modal('hide');\n    resendSubstituteRequest(requestId, league, teamName, createdAt);\n});\n","/**\n * Team Detail Page JavaScript\n * ============================\n * Event delegation and interaction logic for team_details.html\n *\n * Features:\n * - Team kit and background image upload\n * - Background image positioning/cropping\n * - Discord role assignment\n * - Discord status refresh\n * - File upload triggers\n * - Tooltip initialization\n *\n * Architecture: Event delegation pattern, no inline handlers, data-action attributes\n */\n\n(function() {\n  'use strict';\n\n  // Image positioning state\n  let imagePositionData = {\n    zoom: 1,\n    xPos: 50,\n    yPos: 50,\n    originalImage: null,\n    imageWidth: 0,\n    imageHeight: 0\n  };\n\n  // Drag state\n  let isDragging = false;\n  let dragStartX = 0;\n  let dragStartY = 0;\n  let startXPos = 50;\n  let startYPos = 50;\n\n  /**\n   * Initialize on DOM ready\n   */\n  document.addEventListener('DOMContentLoaded', function() {\n    initializeEventDelegation();\n    initializeTooltips();\n    initializeAutoSubmit();\n    initializeBackgroundImages();\n    initializeScheduleAccordion();\n  });\n\n  /**\n   * Set up event delegation for all team detail interactions\n   */\n  function initializeEventDelegation() {\n    document.addEventListener('click', function(e) {\n      const target = e.target.closest('[data-action]');\n      if (!target) return;\n\n      const action = target.dataset.action;\n\n      switch(action) {\n        case 'trigger-file-input':\n          handleTriggerFileInput(target);\n          break;\n        case 'trigger-background-input':\n          handleTriggerBackgroundInput(target);\n          break;\n        case 'load-image-cropping':\n          // Handled by file input change event\n          break;\n        case 'adjust-zoom':\n          handleAdjustZoom(target);\n          break;\n        case 'reset-image-position':\n          resetImagePosition();\n          break;\n        case 'upload-cropped-image':\n          uploadCroppedImage();\n          break;\n        case 'assign-discord-roles':\n          handleAssignDiscordRoles(target);\n          break;\n        case 'refresh-discord-status':\n          handleRefreshDiscordStatus(target);\n          break;\n        case 'refresh-player-discord':\n          handleRefreshPlayerDiscord(target);\n          break;\n        case 'edit-match':\n          // Handled by report_match.js\n          break;\n        case 'close-modal':\n          // Modal close - Bootstrap handles this\n          break;\n        case 'expand-all-schedule':\n          handleExpandAllSchedule();\n          break;\n        case 'collapse-all-schedule':\n          handleCollapseAllSchedule();\n          break;\n      }\n    });\n\n    // Set up file input change handlers\n    setupFileInputHandlers();\n  }\n\n  /**\n   * Handle trigger file input button click\n   */\n  function handleTriggerFileInput(target) {\n    const targetName = target.dataset.target;\n    const fileInput = document.querySelector(`[data-action=\"auto-submit\"][data-target=\"${targetName}\"]`);\n\n    if (fileInput) {\n      fileInput.click();\n    }\n  }\n\n  /**\n   * Handle trigger background input button click\n   */\n  function handleTriggerBackgroundInput(target) {\n    const targetName = target.dataset.target;\n    const fileInput = document.querySelector(`[data-action=\"load-image-cropping\"][data-target=\"${targetName}\"]`);\n\n    if (fileInput) {\n      fileInput.click();\n    }\n  }\n\n  /**\n   * Setup file input change handlers\n   */\n  function setupFileInputHandlers() {\n    // Background image upload with cropping\n    const backgroundInput = document.querySelector('[data-action=\"load-image-cropping\"]');\n    if (backgroundInput) {\n      backgroundInput.addEventListener('change', function(e) {\n        if (e.target.files && e.target.files[0]) {\n          loadImageForCropping(e.target);\n        }\n      });\n    }\n  }\n\n  /**\n   * Initialize auto-submit for file uploads\n   */\n  function initializeAutoSubmit() {\n    const autoSubmitInputs = document.querySelectorAll('[data-action=\"auto-submit\"]');\n\n    autoSubmitInputs.forEach(input => {\n      input.addEventListener('change', function() {\n        const form = this.closest('form');\n        if (form) {\n          form.submit();\n        }\n      });\n    });\n  }\n\n  /**\n   * Load image for positioning/cropping\n   */\n  function loadImageForCropping(input) {\n    if (input.files && input.files[0]) {\n      const reader = new FileReader();\n\n      reader.onload = function(e) {\n        imagePositionData.originalImage = e.target.result;\n\n        const img = new Image();\n        img.onload = function() {\n          imagePositionData.imageWidth = this.width;\n          imagePositionData.imageHeight = this.height;\n\n          resetImagePosition();\n\n          // Show the modal\n          const modalElement = document.getElementById('cropBackgroundModal');\n          if (modalElement) {\n            const modal = bootstrap.Modal.getOrCreateInstance(modalElement);\n            modal.show();\n\n            // Initialize positioning after modal is shown\n            setTimeout(() => {\n              initializeImagePositioning();\n            }, 100);\n          }\n        };\n        img.src = e.target.result;\n      };\n\n      reader.readAsDataURL(input.files[0]);\n    }\n  }\n\n  /**\n   * Initialize image positioning controls\n   */\n  function initializeImagePositioning() {\n    const previewWrapper = document.getElementById('previewImageWrapper');\n    const zoomSlider = document.getElementById('zoomSlider');\n    const xPosSlider = document.getElementById('xPosSlider');\n    const yPosSlider = document.getElementById('yPosSlider');\n    const dragHint = document.getElementById('dragHint');\n\n    if (!previewWrapper || !zoomSlider || !xPosSlider || !yPosSlider) return;\n\n    // Set initial background\n    updatePreview();\n\n    // Hide drag hint after first interaction\n    let firstInteraction = true;\n    function hideDragHint() {\n      if (firstInteraction && dragHint) {\n        dragHint.style.display = 'none';\n        firstInteraction = false;\n      }\n    }\n\n    // Zoom slider\n    zoomSlider.addEventListener('input', function() {\n      imagePositionData.zoom = parseFloat(this.value);\n      updatePreview();\n      hideDragHint();\n    });\n\n    // Position sliders\n    xPosSlider.addEventListener('input', function() {\n      imagePositionData.xPos = parseFloat(this.value);\n      updatePreview();\n      hideDragHint();\n    });\n\n    yPosSlider.addEventListener('input', function() {\n      imagePositionData.yPos = parseFloat(this.value);\n      updatePreview();\n      hideDragHint();\n    });\n\n    // Drag to reposition\n    previewWrapper.addEventListener('mousedown', startDrag);\n    document.addEventListener('mousemove', drag);\n    document.addEventListener('mouseup', endDrag);\n\n    // Touch support\n    previewWrapper.addEventListener('touchstart', function(e) {\n      const touch = e.touches[0];\n      startDrag({ clientX: touch.clientX, clientY: touch.clientY });\n    });\n\n    document.addEventListener('touchmove', function(e) {\n      if (isDragging) {\n        const touch = e.touches[0];\n        drag({ clientX: touch.clientX, clientY: touch.clientY });\n      }\n    });\n\n    document.addEventListener('touchend', endDrag);\n  }\n\n  /**\n   * Start dragging\n   */\n  function startDrag(e) {\n    isDragging = true;\n    dragStartX = e.clientX;\n    dragStartY = e.clientY;\n    startXPos = imagePositionData.xPos;\n    startYPos = imagePositionData.yPos;\n    document.body.style.cursor = 'move';\n  }\n\n  /**\n   * Handle drag movement\n   */\n  function drag(e) {\n    if (!isDragging) return;\n\n    const deltaX = e.clientX - dragStartX;\n    const deltaY = e.clientY - dragStartY;\n\n    const preview = document.getElementById('headerPreview');\n    if (!preview) return;\n\n    const containerWidth = preview.offsetWidth;\n    const containerHeight = containerWidth * 0.3; // 30% padding-bottom = 3.33:1 ratio\n\n    const xPercent = (deltaX / containerWidth) * 100 / imagePositionData.zoom;\n    const yPercent = (deltaY / containerHeight) * 100 / imagePositionData.zoom;\n\n    imagePositionData.xPos = Math.max(0, Math.min(100, startXPos - xPercent));\n    imagePositionData.yPos = Math.max(0, Math.min(100, startYPos - yPercent));\n\n    // Update sliders\n    const xPosSlider = document.getElementById('xPosSlider');\n    const yPosSlider = document.getElementById('yPosSlider');\n    if (xPosSlider) xPosSlider.value = imagePositionData.xPos;\n    if (yPosSlider) yPosSlider.value = imagePositionData.yPos;\n\n    updatePreview();\n\n    // Hide hint\n    const dragHint = document.getElementById('dragHint');\n    if (dragHint) dragHint.style.display = 'none';\n  }\n\n  /**\n   * End dragging\n   */\n  function endDrag() {\n    isDragging = false;\n    document.body.style.cursor = '';\n  }\n\n  /**\n   * Update preview display\n   */\n  function updatePreview() {\n    const previewWrapper = document.getElementById('previewImageWrapper');\n    const zoomValue = document.getElementById('zoomValue');\n\n    if (!previewWrapper || !imagePositionData.originalImage) return;\n\n    const bgSize = imagePositionData.zoom === 1 ? 'cover' : (imagePositionData.zoom * 100) + '%';\n\n    previewWrapper.style.backgroundImage = `url(${imagePositionData.originalImage})`;\n    previewWrapper.style.backgroundSize = bgSize;\n    previewWrapper.style.backgroundPosition = `${imagePositionData.xPos}% ${imagePositionData.yPos}%`;\n\n    if (zoomValue) {\n      zoomValue.textContent = Math.round(imagePositionData.zoom * 100) + '%';\n    }\n  }\n\n  /**\n   * Handle zoom adjustment\n   */\n  function handleAdjustZoom(target) {\n    const delta = parseFloat(target.dataset.delta);\n    const slider = document.getElementById('zoomSlider');\n\n    if (slider) {\n      const newValue = Math.max(1, Math.min(3, parseFloat(slider.value) + delta));\n      slider.value = newValue;\n      imagePositionData.zoom = newValue;\n      updatePreview();\n    }\n  }\n\n  /**\n   * Reset image position\n   */\n  function resetImagePosition() {\n    imagePositionData.zoom = 1;\n    imagePositionData.xPos = 50;\n    imagePositionData.yPos = 50;\n\n    const zoomSlider = document.getElementById('zoomSlider');\n    const xPosSlider = document.getElementById('xPosSlider');\n    const yPosSlider = document.getElementById('yPosSlider');\n\n    if (zoomSlider) zoomSlider.value = 1;\n    if (xPosSlider) xPosSlider.value = 50;\n    if (yPosSlider) yPosSlider.value = 50;\n\n    updatePreview();\n  }\n\n  /**\n   * Upload cropped/positioned image\n   */\n  function uploadCroppedImage() {\n    if (!imagePositionData.originalImage) return;\n\n    const formData = new FormData();\n\n    fetch(imagePositionData.originalImage)\n      .then(res => res.blob())\n      .then(blob => {\n        const teamId = getTeamIdFromUrl();\n        if (!teamId) {\n          console.error('Unable to determine team ID');\n          return;\n        }\n\n        formData.append('team_background', blob, 'background.jpg');\n\n        // Add CSRF token\n        const csrfToken = document.querySelector('meta[name=\"csrf-token\"]')?.getAttribute('content');\n        if (csrfToken) {\n          formData.append('csrf_token', csrfToken);\n        }\n\n        // Add position data\n        const positionData = {\n          zoom: imagePositionData.zoom,\n          xPos: imagePositionData.xPos,\n          yPos: imagePositionData.yPos,\n          backgroundSize: imagePositionData.zoom === 1 ? 'cover' : (imagePositionData.zoom * 100) + '%',\n          backgroundPosition: `${imagePositionData.xPos}% ${imagePositionData.yPos}%`\n        };\n\n        formData.append('position_data', JSON.stringify(positionData));\n\n        // Show loading state\n        const uploadBtn = document.querySelector('[data-action=\"upload-cropped-image\"]');\n        if (uploadBtn) {\n          const originalHTML = uploadBtn.innerHTML;\n          uploadBtn.innerHTML = '<i class=\"ti ti-loader\"></i>Uploading...';\n          uploadBtn.disabled = true;\n\n          fetch(`/teams/${teamId}/upload_team_background`, {\n            method: 'POST',\n            body: formData\n          })\n          .then(response => {\n            if (response.ok) {\n              window.location.reload();\n            } else {\n              throw new Error('Upload failed');\n            }\n          })\n          .catch(error => {\n            console.error('Error:', error);\n            alert('Error uploading image. Please try again.');\n            uploadBtn.innerHTML = originalHTML;\n            uploadBtn.disabled = false;\n          });\n        }\n      });\n  }\n\n  /**\n   * Get team ID from current URL\n   */\n  function getTeamIdFromUrl() {\n    const match = window.location.pathname.match(/\\/teams\\/(\\d+)/);\n    return match ? match[1] : null;\n  }\n\n  /**\n   * Handle Discord role assignment\n   */\n  function handleAssignDiscordRoles(target) {\n    const teamId = target.dataset.teamId;\n\n    if (typeof Swal === 'undefined') {\n      if (confirm('Are you sure you want to assign Discord roles to all players on this team?')) {\n        assignDiscordRolesToTeam(teamId);\n      }\n      return;\n    }\n\n    Swal.fire({\n      title: 'Assign Discord Roles?',\n      html: 'This will assign Discord roles to all players on this team.<br><br>' +\n            '<small class=\"text-info\">This is a manual fix for the draft role assignment issue.</small>',\n      icon: 'question',\n      showCancelButton: true,\n      confirmButtonColor: getThemeColor('warning', '#ffc107'),\n      cancelButtonColor: getThemeColor('secondary', '#6c757d'),\n      confirmButtonText: 'Yes, Assign Roles',\n      cancelButtonText: 'Cancel',\n      focusCancel: false\n    }).then((result) => {\n      if (result.isConfirmed) {\n        assignDiscordRolesToTeam(teamId);\n      }\n    });\n  }\n\n  /**\n   * Assign Discord roles to team\n   */\n  function assignDiscordRolesToTeam(teamId) {\n    if (typeof Swal !== 'undefined') {\n      Swal.fire({\n        title: 'Assigning Discord Roles...',\n        html: 'Processing role assignments for this team.',\n        icon: 'info',\n        allowOutsideClick: false,\n        allowEscapeKey: false,\n        showConfirmButton: false,\n        didOpen: () => {\n          Swal.showLoading();\n        }\n      });\n    }\n\n    const csrfToken = document.querySelector('meta[name=\"csrf-token\"]')?.getAttribute('content');\n\n    fetch(`/teams/${teamId}/assign-discord-roles`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n        'X-CSRFToken': csrfToken\n      }\n    })\n    .then(response => response.json())\n    .then(data => {\n      if (data.success) {\n        if (typeof Swal !== 'undefined') {\n          Swal.fire({\n            icon: 'success',\n            title: 'Discord Roles Assigned!',\n            html: `Successfully processed Discord role assignments.<br><br>` +\n                  `<strong>${data.processed_count || 0}</strong> players processed successfully`,\n            timer: 5000,\n            showConfirmButton: true\n          });\n        } else {\n          alert(`Discord roles assigned successfully! ${data.processed_count || 0} players processed.`);\n        }\n      } else {\n        throw new Error(data.message || 'Failed to assign Discord roles');\n      }\n    })\n    .catch(error => {\n      console.error('Error:', error);\n      if (typeof Swal !== 'undefined') {\n        Swal.fire({\n          icon: 'error',\n          title: 'Error',\n          text: error.message || 'Failed to assign Discord roles. Please try again.'\n        });\n      } else {\n        alert('Error: ' + (error.message || 'Failed to assign Discord roles. Please try again.'));\n      }\n    });\n  }\n\n  /**\n   * Handle Discord status refresh for team\n   */\n  function handleRefreshDiscordStatus(target) {\n    const teamId = target.dataset.teamId;\n\n    if (typeof Swal === 'undefined') {\n      if (confirm('Are you sure you want to refresh Discord status for all players on this team?')) {\n        refreshDiscordStatusForTeam(teamId);\n      }\n      return;\n    }\n\n    Swal.fire({\n      title: 'Refresh Discord Status?',\n      html: 'This will check the current Discord server status for all players on this team.',\n      icon: 'question',\n      showCancelButton: true,\n      confirmButtonColor: getThemeColor('info', '#17a2b8'),\n      cancelButtonColor: getThemeColor('secondary', '#6c757d'),\n      confirmButtonText: 'Yes, Refresh Status',\n      cancelButtonText: 'Cancel',\n      focusCancel: false\n    }).then((result) => {\n      if (result.isConfirmed) {\n        refreshDiscordStatusForTeam(teamId);\n      }\n    });\n  }\n\n  /**\n   * Refresh Discord status for team\n   */\n  function refreshDiscordStatusForTeam(teamId) {\n    if (typeof Swal !== 'undefined') {\n      Swal.fire({\n        title: 'Refreshing Discord Status...',\n        html: 'Checking Discord server status for all players.',\n        icon: 'info',\n        allowOutsideClick: false,\n        allowEscapeKey: false,\n        showConfirmButton: false,\n        didOpen: () => {\n          Swal.showLoading();\n        }\n      });\n    }\n\n    const csrfToken = document.querySelector('meta[name=\"csrf-token\"]')?.getAttribute('content');\n\n    fetch(`/teams/${teamId}/refresh-discord-status`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n        'X-CSRFToken': csrfToken\n      }\n    })\n    .then(response => response.json())\n    .then(data => {\n      if (data.success) {\n        if (typeof Swal !== 'undefined') {\n          Swal.fire({\n            icon: 'success',\n            title: 'Discord Status Refreshed!',\n            html: `Successfully refreshed Discord status.<br><br>` +\n                  `<strong>${data.processed_count || 0}</strong> players checked`,\n            timer: 5000,\n            showConfirmButton: true\n          }).then(() => {\n            window.location.reload();\n          });\n        } else {\n          alert(`Discord status refreshed successfully! ${data.processed_count || 0} players processed.`);\n          window.location.reload();\n        }\n      } else {\n        throw new Error(data.message || 'Failed to refresh Discord status');\n      }\n    })\n    .catch(error => {\n      console.error('Error:', error);\n      if (typeof Swal !== 'undefined') {\n        Swal.fire({\n          icon: 'error',\n          title: 'Error',\n          text: error.message || 'Failed to refresh Discord status. Please try again.'\n        });\n      } else {\n        alert('Error: ' + (error.message || 'Failed to refresh Discord status. Please try again.'));\n      }\n    });\n  }\n\n  /**\n   * Handle individual player Discord refresh\n   */\n  function handleRefreshPlayerDiscord(target) {\n    const playerId = target.dataset.playerId;\n    const playerName = target.dataset.playerName;\n\n    if (typeof Swal !== 'undefined') {\n      Swal.fire({\n        title: 'Refresh Discord Status?',\n        html: `Check if <strong>${playerName}</strong> has joined the Discord server?`,\n        icon: 'question',\n        showCancelButton: true,\n        confirmButtonColor: getThemeColor('info', '#17a2b8'),\n        cancelButtonColor: getThemeColor('secondary', '#6c757d'),\n        confirmButtonText: 'Yes, Check Now',\n        cancelButtonText: 'Cancel'\n      }).then((result) => {\n        if (result.isConfirmed) {\n          refreshSinglePlayerDiscordStatus(playerId, playerName, target);\n        }\n      });\n    }\n  }\n\n  /**\n   * Refresh single player Discord status\n   */\n  function refreshSinglePlayerDiscordStatus(playerId, playerName, badgeElement) {\n    const csrfToken = document.querySelector('meta[name=\"csrf-token\"]')?.getAttribute('content');\n\n    fetch(`/teams/player/${playerId}/refresh-discord-status`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n        'X-CSRFToken': csrfToken\n      }\n    })\n    .then(response => response.json())\n    .then(data => {\n      if (data.success) {\n        // Update badge appearance\n        badgeElement.classList.remove('c-discord-badge--active', 'c-discord-badge--inactive');\n        if (data.in_server === true) {\n          badgeElement.classList.add('c-discord-badge--active');\n        } else if (data.in_server === false) {\n          badgeElement.classList.add('c-discord-badge--inactive');\n        }\n\n        if (typeof Swal !== 'undefined') {\n          Swal.fire({\n            icon: data.in_server ? 'success' : 'warning',\n            title: 'Discord Status Updated!',\n            html: `<strong>${playerName}</strong><br>Status: ${data.status_change}`,\n            timer: 3000,\n            showConfirmButton: false,\n            toast: true,\n            position: 'top-end'\n          });\n        }\n      } else {\n        throw new Error(data.message || 'Failed to refresh Discord status');\n      }\n    })\n    .catch(error => {\n      console.error('Error:', error);\n      if (typeof Swal !== 'undefined') {\n        Swal.fire({\n          icon: 'error',\n          title: 'Error',\n          text: error.message || `Failed to check Discord status for ${playerName}.`,\n          toast: true,\n          position: 'top-end',\n          timer: 5000\n        });\n      }\n    });\n  }\n\n  /**\n   * Initialize Bootstrap tooltips\n   */\n  function initializeTooltips() {\n    const tooltipTriggerList = [].slice.call(document.querySelectorAll('[data-bs-toggle=\"tooltip\"]'));\n    tooltipTriggerList.map(function(tooltipTriggerEl) {\n      return new bootstrap.Tooltip(tooltipTriggerEl, {\n        delay: { show: 500, hide: 100 }\n      });\n    });\n  }\n\n  /**\n   * Initialize background images from data attributes\n   */\n  function initializeBackgroundImages() {\n    const backgrounds = document.querySelectorAll('[data-background-url]');\n    backgrounds.forEach(bg => {\n      const url = bg.dataset.backgroundUrl;\n      const size = bg.dataset.backgroundSize || 'cover';\n      const position = bg.dataset.backgroundPosition || 'center';\n\n      bg.style.backgroundImage = `url('${url}')`;\n      bg.style.backgroundSize = size;\n      bg.style.backgroundPosition = position;\n    });\n  }\n\n  /**\n   * Get theme color with fallback\n   */\n  function getThemeColor(colorName, fallback) {\n    if (typeof ECSTheme !== 'undefined' && ECSTheme.getColor) {\n      return ECSTheme.getColor(colorName);\n    }\n\n    const root = getComputedStyle(document.documentElement);\n    const cssVar = root.getPropertyValue(`--ecs-${colorName}`).trim();\n\n    return cssVar || fallback;\n  }\n\n  /**\n   * Expand all schedule weeks (native details elements)\n   */\n  function handleExpandAllSchedule() {\n    const weeks = document.querySelectorAll('.c-schedule__week');\n    weeks.forEach(week => {\n      week.open = true;\n    });\n    updateScheduleControlsState();\n  }\n\n  /**\n   * Collapse all schedule weeks (native details elements)\n   */\n  function handleCollapseAllSchedule() {\n    const weeks = document.querySelectorAll('.c-schedule__week');\n    weeks.forEach(week => {\n      week.open = false;\n    });\n    updateScheduleControlsState();\n  }\n\n  /**\n   * Update schedule control button states\n   */\n  function updateScheduleControlsState() {\n    const weeks = document.querySelectorAll('.c-schedule__week');\n    const expandBtn = document.querySelector('[data-action=\"expand-all-schedule\"]');\n    const collapseBtn = document.querySelector('[data-action=\"collapse-all-schedule\"]');\n\n    if (!expandBtn || !collapseBtn || weeks.length === 0) return;\n\n    const allClosed = Array.from(weeks).every(w => !w.open);\n    const allOpen = Array.from(weeks).every(w => w.open);\n\n    expandBtn.disabled = allOpen;\n    expandBtn.classList.toggle('is-disabled', allOpen);\n\n    collapseBtn.disabled = allClosed;\n    collapseBtn.classList.toggle('is-disabled', allClosed);\n  }\n\n  /**\n   * Initialize schedule - open closest upcoming week, close others\n   * Uses native <details> elements with data-date attribute\n   */\n  function initializeScheduleAccordion() {\n    const weeks = document.querySelectorAll('.c-schedule__week[data-date]');\n    if (weeks.length === 0) return;\n\n    const today = new Date();\n    today.setHours(0, 0, 0, 0);\n\n    let closestUpcoming = null;\n    let closestDate = null;\n    let lastWeek = null;\n    let lastDate = null;\n\n    // Find closest upcoming and last week\n    weeks.forEach(week => {\n      const dateStr = week.dataset.date; // Format: YYYY-MM-DD\n      if (!dateStr) return;\n\n      const weekDate = new Date(dateStr + 'T00:00:00');\n\n      // Track last week (for end of season fallback)\n      if (!lastDate || weekDate > lastDate) {\n        lastDate = weekDate;\n        lastWeek = week;\n      }\n\n      // Check if this is upcoming (today or future)\n      if (weekDate >= today) {\n        if (!closestDate || weekDate < closestDate) {\n          closestDate = weekDate;\n          closestUpcoming = week;\n        }\n      }\n    });\n\n    // Close all weeks first\n    weeks.forEach(week => {\n      week.open = false;\n    });\n\n    // Open the target week:\n    // - Closest upcoming if available\n    // - Otherwise last week (end of season)\n    const weekToOpen = closestUpcoming || lastWeek;\n    if (weekToOpen) {\n      weekToOpen.open = true;\n    }\n\n    // Listen for toggle events to update button states\n    weeks.forEach(week => {\n      week.addEventListener('toggle', updateScheduleControlsState);\n    });\n\n    // Update button states\n    updateScheduleControlsState();\n  }\n\n})();\n","/**\n * Teams Overview Page\n * Handles tab persistence and mobile optimizations\n * Uses BEM TabsController (not Bootstrap tabs)\n */\n\n(function() {\n    'use strict';\n\n    const TeamsOverview = {\n        init() {\n            this.restoreActiveTab();\n            this.setupTabPersistence();\n            this.optimizeForMobile();\n        },\n\n        restoreActiveTab() {\n            const activeTabId = localStorage.getItem('teamOverviewActiveTab');\n            if (activeTabId && window.TabsController) {\n                // Use TabsController to show the saved tab\n                window.TabsController.showTab(activeTabId);\n            }\n        },\n\n        setupTabPersistence() {\n            // Listen for tab:activated events from TabsController\n            document.addEventListener('tab:activated', (event) => {\n                const { tabId } = event.detail;\n                if (tabId) {\n                    localStorage.setItem('teamOverviewActiveTab', tabId);\n                }\n            });\n        },\n\n        optimizeForMobile() {\n            if (window.innerWidth < 768) {\n                const tabContainer = document.querySelector('[data-tabs]');\n                if (tabContainer) {\n                    tabContainer.classList.add('c-nav-modern--scrollable');\n                }\n            }\n        }\n    };\n\n    // Initialize on DOM ready\n    if (document.readyState === 'loading') {\n        document.addEventListener('DOMContentLoaded', () => TeamsOverview.init());\n    } else {\n        TeamsOverview.init();\n    }\n})();\n","/**\n * 2FA Verification Handler\n * Manages token input focus and error animations\n */\n\ndocument.addEventListener('DOMContentLoaded', function() {\n    // Check for error messages and animate input\n    const hasError = document.querySelector('.alert-danger');\n    if (hasError) {\n        const input = document.querySelector('.token-input');\n        if (input) {\n            input.classList.add('animate');\n            setTimeout(() => {\n                input.classList.remove('animate');\n            }, 500);\n        }\n    }\n\n    // Auto-focus input\n    const tokenInput = document.querySelector('.token-input');\n    if (tokenInput) {\n        setTimeout(() => {\n            tokenInput.focus();\n        }, 500);\n    }\n\n    // Make sure form submission uses POST to the current URL with query params\n    const form = document.getElementById('twoFactorForm');\n    if (form) {\n        form.addEventListener('submit', function(e) {\n            // Get the current URL with query params\n            const currentUrl = window.location.href;\n            form.action = currentUrl;\n        });\n    }\n});\n","/**\n * Verify Merge Account Handler\n * Manages account merge verification and resend email\n */\n\ndocument.addEventListener('DOMContentLoaded', function () {\n    const data = window.verifyMergeData || {};\n\n    // Auto-submit verification form if token exists\n    if (data.hasToken) {\n        setTimeout(function() {\n            const form = document.getElementById('verify-form');\n            if (form) {\n                form.submit();\n            }\n        }, 2000);\n    }\n\n    // Handle resend email button\n    const resendBtn = document.getElementById('resend-email-btn');\n    if (resendBtn) {\n        resendBtn.addEventListener('click', function () {\n            const btn = this;\n            const originalText = btn.innerHTML;\n\n            Swal.fire({\n                title: 'Resend Verification Email?',\n                text: `We'll send another verification email to ${data.oldEmail}.`,\n                icon: 'question',\n                showCancelButton: true,\n                confirmButtonColor: (typeof ECSTheme !== 'undefined') ? ECSTheme.getColor('primary') : 'var(--ecs-primary)',\n                cancelButtonColor: (typeof ECSTheme !== 'undefined') ? ECSTheme.getColor('secondary') : '#6c757d',\n                confirmButtonText: '<i class=\"ti ti-mail me-1\"></i>Resend Email',\n                cancelButtonText: 'Cancel'\n            }).then((result) => {\n                if (result.isConfirmed) {\n                    // Disable button and show loading\n                    btn.disabled = true;\n                    btn.innerHTML = '<i class=\"ti ti-loader-2 rotating me-1\"></i>Sending...';\n\n                    // Make AJAX request to resend email\n                    fetch(data.resendUrl, {\n                        method: 'POST',\n                        headers: {\n                            'Content-Type': 'application/json',\n                            'X-CSRFToken': data.csrfToken\n                        },\n                        body: JSON.stringify({\n                            'old_email': data.oldEmail,\n                            'merge_data': data.mergeData\n                        })\n                    })\n                    .then(response => response.json())\n                    .then(data => {\n                        if (data.success) {\n                            Swal.fire({\n                                title: 'Email Sent!',\n                                text: 'We\\'ve sent another verification email. Please check your inbox.',\n                                icon: 'success',\n                                confirmButtonText: 'OK'\n                            });\n                        } else {\n                            throw new Error(data.message || 'Failed to send email');\n                        }\n                    })\n                    .catch(error => {\n                        Swal.fire({\n                            title: 'Error',\n                            text: 'Failed to send verification email. Please try again later.',\n                            icon: 'error',\n                            confirmButtonText: 'OK'\n                        });\n                    })\n                    .finally(() => {\n                        // Re-enable button\n                        btn.disabled = false;\n                        btn.innerHTML = originalText;\n                    });\n                }\n            });\n        });\n    }\n});\n","/**\n * View Standings Page\n * Handles tab persistence, tooltips, and popovers for the standings page\n */\n\n(function() {\n    'use strict';\n\n    const ViewStandings = {\n        init() {\n            this.initializeBootstrapComponents();\n            this.setupTabPersistence();\n            this.optimizeForMobile();\n        },\n\n        initializeBootstrapComponents() {\n            // Initialize tooltips\n            const tooltipTriggerList = [].slice.call(document.querySelectorAll('[data-bs-toggle=\"tooltip\"]'));\n            tooltipTriggerList.map(tooltipTriggerEl => {\n                return new bootstrap.Tooltip(tooltipTriggerEl, {\n                    delay: { show: 300, hide: 100 }\n                });\n            });\n\n            // Initialize popovers\n            const popoverTriggerList = [].slice.call(document.querySelectorAll('[data-bs-toggle=\"popover\"]'));\n            popoverTriggerList.map(popoverTriggerEl => {\n                return new bootstrap.Popover(popoverTriggerEl, {\n                    delay: { show: 100, hide: 100 },\n                    container: 'body'\n                });\n            });\n        },\n\n        setupTabPersistence() {\n            // Restore active tab from localStorage\n            const activeTabId = localStorage.getItem('standingsActiveTab');\n            if (activeTabId) {\n                const tabElement = document.getElementById(activeTabId);\n                if (tabElement) {\n                    const tab = new bootstrap.Tab(tabElement);\n                    tab.show();\n                }\n            }\n\n            // Save active tab when changed\n            const tabs = document.querySelectorAll('#league-tabs button');\n            tabs.forEach(tab => {\n                tab.addEventListener('shown.bs.tab', (event) => {\n                    localStorage.setItem('standingsActiveTab', event.target.id);\n                });\n            });\n        },\n\n        optimizeForMobile() {\n            if (window.innerWidth < 768) {\n                const tabContainer = document.querySelector('#league-tabs');\n                if (tabContainer) {\n                    tabContainer.classList.add('c-nav-modern--scrollable');\n                }\n            }\n        }\n    };\n\n    // Initialize on DOM ready\n    if (document.readyState === 'loading') {\n        document.addEventListener('DOMContentLoaded', () => ViewStandings.init());\n    } else {\n        ViewStandings.init();\n    }\n})();\n","/**\n * Waitlist Login/Register Page Handler\n * Manages focus on Discord registration button\n */\n\ndocument.addEventListener('DOMContentLoaded', function() {\n    // Auto-focus on Discord registration button\n    const discordBtn = document.querySelector('a[href*=\"waitlist_discord_register\"]');\n    if (discordBtn) {\n        discordBtn.focus();\n    }\n});\n","/**\n * Waitlist Registration (Authenticated) Page Handler\n * Manages profile modal and verification\n */\n\nlet isEditing = false;\n\ndocument.addEventListener('DOMContentLoaded', function() {\n    // Auto-focus on join button if not already on waitlist\n    const joinButton = document.querySelector('button[type=\"submit\"]');\n    if (joinButton) {\n        joinButton.focus();\n    }\n\n    // Event delegation for actions\n    document.addEventListener('click', function(e) {\n        const target = e.target.closest('[data-action]');\n        if (!target) return;\n\n        const action = target.dataset.action;\n\n        switch(action) {\n            case 'show-profile-modal':\n                showProfileModal();\n                break;\n            case 'toggle-edit':\n                toggleEdit();\n                break;\n            case 'verify-profile':\n                verifyProfile();\n                break;\n        }\n    });\n});\n\n// Show profile verification modal\nfunction showProfileModal() {\n    ModalManager.show('profileModal');\n}\n\n// Toggle edit mode\nfunction toggleEdit() {\n    isEditing = !isEditing;\n    const editBtn = document.getElementById('editProfileBtn');\n    const form = document.getElementById('profileForm');\n    const inputs = form.querySelectorAll('input:not([readonly]), select, textarea');\n\n    if (isEditing) {\n        // Enable editing\n        inputs.forEach(input => {\n            if (input.id !== 'name' && input.id !== 'email') { // Keep name and email readonly\n                input.removeAttribute('readonly');\n                input.removeAttribute('disabled');\n            }\n        });\n        editBtn.innerHTML = '<i class=\"ti ti-x me-1\"></i>Cancel Edit';\n        editBtn.className = 'btn btn-secondary';\n    } else {\n        // Disable editing\n        inputs.forEach(input => {\n            if (input.tagName === 'SELECT') {\n                input.setAttribute('disabled', 'disabled');\n            } else {\n                input.setAttribute('readonly', 'readonly');\n            }\n        });\n        editBtn.innerHTML = '<i class=\"ti ti-edit me-1\"></i>Edit Profile';\n        editBtn.className = 'btn btn-warning';\n    }\n}\n\n// Verify profile function (now also saves if edited)\nfunction verifyProfile() {\n    const playerData = window.playerData || {};\n\n    if (!playerData.id) {\n        Swal.fire({\n            title: 'No Player Profile',\n            text: 'No player profile found. Please contact an administrator.',\n            icon: 'error'\n        });\n        return;\n    }\n\n    let profileData = {};\n\n    // If in edit mode, collect form data\n    if (isEditing) {\n        const form = document.getElementById('profileForm');\n        const formData = new FormData(form);\n\n        // Convert FormData to object\n        for (let [key, value] of formData.entries()) {\n            profileData[key] = value;\n        }\n    }\n\n    Swal.fire({\n        title: isEditing ? 'Save & Verify Profile' : 'Verify Profile Information',\n        html: `<div class=\"text-start\">\n               <p class=\"mb-2\">Please confirm that your profile information is current and accurate.</p>\n               <p class=\"mb-2\">This includes:</p>\n               <ul class=\"mb-3\">\n                   <li>Contact information (email, phone)</li>\n                   <li>Player details (jersey size, positions, availability)</li>\n                   <li>Personal information (pronouns, notes)</li>\n               </ul>\n               <p class=\"fw-bold mb-0\">By confirming, you ${isEditing ? 'save your changes and' : ''} verify that all information is up to date.</p>\n               </div>`,\n        icon: 'question',\n        showCancelButton: true,\n        confirmButtonText: isEditing ? 'Save & Verify' : 'Yes, my profile is accurate',\n        cancelButtonText: 'Cancel',\n        confirmButtonColor: (typeof ECSTheme !== 'undefined') ? ECSTheme.getColor('success') : '#28a745',\n        showLoaderOnConfirm: true,\n        preConfirm: () => {\n            const url = isEditing ? playerData.updateUrl : playerData.verifyUrl;\n            const method = 'POST';\n            const headers = {\n                'Content-Type': 'application/json',\n                'X-CSRFToken': playerData.csrfToken\n            };\n            const body = isEditing ? JSON.stringify(profileData) : JSON.stringify({});\n\n            return fetch(url, {\n                method: method,\n                headers: headers,\n                body: body\n            })\n            .then(response => {\n                if (!response.ok) {\n                    throw new Error('Network response was not ok');\n                }\n                return response.json();\n            })\n            .then(data => {\n                if (data.success) {\n                    return data;\n                } else {\n                    throw new Error(data.message || 'Operation failed');\n                }\n            })\n            .catch(error => {\n                Swal.showValidationMessage('Error: ' + error.message);\n            });\n        }\n    }).then((result) => {\n        if (result.isConfirmed) {\n            // Hide the profile modal\n            const modal = bootstrap.Modal.getInstance(document.getElementById('profileModal'));\n            if (modal) {\n                modal.hide();\n            }\n\n            // Show success message\n            Swal.fire({\n                title: isEditing ? 'Profile Updated & Verified!' : 'Profile Verified!',\n                text: isEditing ? 'Your profile has been updated and verified successfully.' : 'Thank you for confirming your profile information is current.',\n                icon: 'success',\n                confirmButtonText: 'Continue to Waitlist'\n            }).then(() => {\n                // Refresh the page to update the profile status\n                window.location.reload();\n            });\n        }\n    });\n}\n","/**\n * Auto Schedule Wizard JavaScript\n *\n * This file contains all the JavaScript functionality for the auto-schedule wizard,\n * including season creation, structure configuration, calendar management, and team setup.\n *\n * STYLE REFACTORING SUMMARY:\n * ========================\n * Initial .style.* count: 11\n * Final .style.* count: 0\n * Reduction: 100% (11/11 instances removed)\n *\n * REFACTORING CHANGES:\n * ===================\n * 1. Drag & Drop State Management:\n *    - Replaced: e.target.style.opacity = '0.5'  e.target.classList.add('drag-active')\n *    - Replaced: e.target.style.opacity = ''  e.target.classList.remove('drag-active')\n *    - New class: .drag-active (opacity: 0.5)\n *\n * 2. Drop Indicators:\n *    - Replaced: weekItem.style.borderTop  weekItem.classList.add('drop-indicator-top')\n *    - Replaced: weekItem.style.borderBottom  weekItem.classList.add('drop-indicator-bottom')\n *    - Replaced: item.style.borderTop/Bottom = ''  item.classList.remove('drop-indicator-top', 'drop-indicator-bottom')\n *    - New classes: .drop-indicator-top, .drop-indicator-bottom\n *\n * 3. Display Toggles:\n *    - Replaced: style.display = 'none'  classList.add('d-none')\n *    - Replaced: style.display = 'block'  classList.remove('d-none')\n *    - Replaced: configDiv.style.display = this.checked ? 'block' : 'none'  configDiv.classList.toggle('d-none', !this.checked)\n *    - Using existing class: .d-none from display-utils.css\n *\n * 4. Toast Notification Styling:\n *    - Replaced: toast.style.zIndex = '9999'  toast.classList.add('z-index-9999')\n *    - Replaced: toast.style.minWidth = '300px'  toast.classList.add('min-w-300')\n *    - Using existing classes: .z-index-9999 (layout-utils.css), .min-w-300 (sizing-utils.css)\n *\n * 5. Theme-Aware Drop Indicators:\n *    - Replaced: weekItem.style.setProperty('--drop-indicator-color', highlightColor)\n *       applyThemeColor(weekItem, highlightColor) utility function\n *    - Encapsulated CSS custom property management in utility function\n *    - Added: weekItem.dataset.themeColor for color tracking\n *    - Uses .drop-indicator-top/.drop-indicator-bottom classes with CSS var()\n *    - Maintains dynamic theming with cleaner abstraction layer\n *\n * UTILITY FILES USED/CREATED:\n * ===========================\n * - /app/static/css/utilities/drag-drop-utils.css (existing)\n *   - .drag-active: Sets opacity for dragging elements\n *   - .drag-inactive: Resets opacity after drag\n *   - .drop-indicator-top: Border top for drop above position\n *   - .drop-indicator-bottom: Border bottom for drop below position\n *   - .drop-indicator-clear: Removes drop indicators\n *   - Theme-aware via --drop-indicator-color custom property\n *   - Dark mode support included\n *   - Accessibility features included\n *\n * - /app/static/css/utilities/wizard-utils.css (newly created)\n *   - .toast-overlay: z-index utility for toast positioning\n *   - .toast-min-width: minimum width for toast consistency\n *   - .toast-styled: combined toast utility class\n *   - .theme-drop-indicator: theme-aware drop indicator support\n *   - Responsive adjustments for mobile/tablet\n *   - Dark mode support\n *\n * BENEFITS:\n * =========\n * - 100% elimination of inline .style.* manipulations from business logic\n * - CSS custom properties encapsulated in utility functions\n * - Improved maintainability: All styling centralized in CSS\n * - Better theme support: Drop indicators respect ECSTheme colors\n * - Enhanced performance: Class toggling more efficient than style manipulation\n * - Easier debugging: CSS classes visible in DevTools\n * - Consistent styling: Reusable utility classes across application\n * - Dark mode ready: All utilities support [data-style=\"dark\"]\n * - Responsive: Mobile and tablet adjustments included\n * - Accessibility: Theme-aware with proper fallbacks\n * - Cleaner abstraction: Style management via utility functions\n *\n * TECHNICAL NOTES:\n * ================\n * - CSS custom properties (--drop-indicator-color) require .style.setProperty()\n * - This is encapsulated in applyThemeColor() utility function\n * - No alternative classList approach exists for CSS custom properties\n * - This is a necessary exception for dynamic theming support\n */\n\n// Global wizard state\nlet currentStep = 1;\nconst maxSteps = 6;\n\n// Global state for calendar\nlet calendarState = {\n    weeks: [],\n    startDate: null,\n    regularWeeks: 7,\n    includeTST: false,\n    includeFUN: false,\n    byeWeeks: 0\n};\n\n// Calendar drag and drop state\nlet calendarDraggedElement = null;\nlet draggedIndex = null;\n\n// ========================================\n// Utility Functions for Style Management\n// ========================================\n\n/**\n * Apply theme color to element using CSS custom property\n * This function encapsulates CSS custom property management for dynamic theming\n * Avoids direct .style.* manipulation while supporting dynamic color changes\n *\n * @param {HTMLElement} element - The element to apply theme color to\n * @param {string} color - The color value to apply\n */\nfunction applyThemeColor(element, color) {\n    // Store color in data attribute for reference\n    element.dataset.themeColor = color;\n    // Apply via CSS custom property for theme-aware styling\n    // Note: CSS custom properties require .style.setProperty() as no classList equivalent exists\n    element.style.setProperty('--drop-indicator-color', color);\n}\n\n/**\n * Apply multiple utility classes to an element\n * Helper function for cleaner class management\n *\n * @param {HTMLElement} element - The element to apply classes to\n * @param {string[]} classes - Array of class names to add\n */\nfunction applyUtilityClasses(element, ...classes) {\n    element.classList.add(...classes);\n}\n\n/**\n * Remove multiple utility classes from an element\n * Helper function for cleaner class management\n *\n * @param {HTMLElement} element - The element to remove classes from\n * @param {string[]} classes - Array of class names to remove\n */\nfunction removeUtilityClasses(element, ...classes) {\n    element.classList.remove(...classes);\n}\n\n// ========================================\n// Wizard Initialization\n// ========================================\n\n/**\n * Initialize the season wizard modal\n */\nfunction startSeasonWizard() {\n    // MEMORY LEAK FIX: Clean up previous state before starting new wizard\n    cleanupCalendarState();\n\n    document.getElementById('seasonWizardModal').classList.add('wizard-modal--visible');\n    ModalManager.show('seasonWizardModal');\n    \n    // Set default start date to next Sunday (you can change this to any day)\n    const today = new Date();\n    const nextSunday = new Date(today);\n    nextSunday.setDate(today.getDate() + (7 - today.getDay()) % 7);\n    document.getElementById('seasonStartDate').value = nextSunday.toISOString().split('T')[0];\n    \n    updateCalendarPreview();\n}\n\n/**\n * Clean up calendar state and event listeners to prevent memory leaks\n */\nfunction cleanupCalendarState() {\n    // Clear calendar state\n    calendarState.weeks = [];\n    calendarState.startDate = null;\n    \n    // Remove all existing event listeners from calendar items\n    document.querySelectorAll('.week-item').forEach(item => {\n        // Clone the element to remove all event listeners\n        const newItem = item.cloneNode(true);\n        if (item.parentNode) {\n            item.parentNode.replaceChild(newItem, item);\n        }\n    });\n    \n    // Reset drag state\n    calendarDraggedElement = null;\n    draggedIndex = null;\n    \n}\n\n/**\n * Show existing seasons section\n */\nfunction showExistingSeasons() {\n    document.getElementById('existingSeasons').classList.remove('d-none');\n    document.querySelector('.row.mb-4:nth-child(2)').classList.add('wizard-view--hidden');\n}\n\n/**\n * Show main view (hide existing seasons)\n */\nfunction showMainView() {\n    document.getElementById('existingSeasons').classList.add('d-none');\n    document.querySelector('.row.mb-4:nth-child(2)').classList.remove('wizard-view--hidden');\n}\n\n/**\n * Set a season as active\n */\nfunction setActiveSeason(seasonId, leagueType) {\n    if (confirm(`Are you sure you want to set this season as the current ${leagueType} season?`)) {\n        fetch(window.autoScheduleUrls.setActiveSeason, {\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json',\n                'X-CSRFToken': document.querySelector('meta[name=csrf-token]').getAttribute('content')\n            },\n            body: JSON.stringify({\n                season_id: seasonId,\n                league_type: leagueType\n            })\n        })\n        .then(response => response.json())\n        .then(data => {\n            if (data.success) {\n                // Refresh the page to show updated season status\n                location.reload();\n            } else {\n                alert('Error: ' + data.error);\n            }\n        })\n        .catch(error => {\n            alert('An error occurred while updating the active season');\n        });\n    }\n}\n\n/**\n * Navigate to next step in wizard\n */\nfunction nextStep() {\n    if (currentStep < maxSteps) {\n        if (validateStep(currentStep)) {\n            updateStepDisplay(currentStep + 1);\n        }\n    }\n}\n\n/**\n * Navigate to previous step in wizard\n */\nfunction previousStep() {\n    if (currentStep > 1) {\n        updateStepDisplay(currentStep - 1);\n    }\n}\n\n/**\n * Update the wizard step display\n */\nfunction updateStepDisplay(step) {\n    // Hide current step\n    document.querySelector(`.wizard-step[data-step=\"${currentStep}\"]`).classList.remove('active');\n    document.querySelector(`.step[data-step=\"${currentStep}\"]`).classList.remove('active');\n    \n    // Show new step\n    currentStep = step;\n    document.querySelector(`.wizard-step[data-step=\"${currentStep}\"]`).classList.add('active');\n    document.querySelector(`.step[data-step=\"${currentStep}\"]`).classList.add('active');\n    \n    // Update previous steps as completed\n    for (let i = 1; i < currentStep; i++) {\n        document.querySelector(`.step[data-step=\"${i}\"]`).classList.add('completed');\n    }\n    \n    // Update buttons\n    document.getElementById('prevBtn').classList.toggle('wizard-btn--hidden', currentStep === 1);\n    document.getElementById('nextBtn').classList.toggle('wizard-btn--hidden', currentStep === maxSteps);\n    document.getElementById('createBtn').classList.toggle('d-none', currentStep !== maxSteps);\n    \n    if (currentStep === 2) {\n        updateStructureSections();\n    } else if (currentStep === 3) {\n        updateCalendarSections();\n        generateCalendarPreview(); // Don't force regeneration - preserve drag-and-drop changes\n    } else if (currentStep === 5) {\n        updateTeamSections();\n    } else if (currentStep === 6) {\n        generateSeasonSummary();\n    }\n}\n\n/**\n * Validate current step\n */\nfunction validateStep(step) {\n    // Add validation logic for each step\n    return true;\n}\n\n/**\n * Update season structure sections based on league type\n */\nfunction updateStructureSections() {\n    const leagueType = document.getElementById('leagueType').value;\n    const pubLeagueStructure = document.getElementById('pubLeagueStructure');\n    const ecsFcStructure = document.getElementById('ecsFcStructure');\n    \n    if (leagueType === 'Pub League') {\n        pubLeagueStructure.classList.remove('d-none');\n        ecsFcStructure.classList.add('d-none');\n        updateTotalWeeks('premier');\n        updateTotalWeeks('classic');\n    } else if (leagueType === 'ECS FC') {\n        pubLeagueStructure.classList.add('d-none');\n        ecsFcStructure.classList.remove('d-none');\n        updateTotalWeeks('ecsFc');\n    }\n}\n\n/**\n * Update total weeks calculation for a division\n */\nfunction updateTotalWeeks(divisionType) {\n    // Get shared special weeks\n    const sharedFunEl = document.getElementById('includeFunWeek');\n    const sharedTstEl = document.getElementById('includeTstWeek');\n    const sharedByeEl = document.getElementById('includeByeWeek');\n    const funWeeks = (sharedFunEl && sharedFunEl.checked) ? 1 : 0;\n    const tstWeeks = (sharedTstEl && sharedTstEl.checked) ? 1 : 0;\n    const byeWeeks = (sharedByeEl && sharedByeEl.checked) ? 1 : 0;\n    \n    if (divisionType === 'premier') {\n        const regularEl = document.getElementById('premierRegularWeeks');\n        const playoffEl = document.getElementById('premierPlayoffWeeks');\n        const bonusWeekEl = document.getElementById('premierHasBonusWeek');\n        const totalEl = document.getElementById('premierTotalWeeks');\n        \n        if (regularEl && playoffEl && bonusWeekEl && totalEl) {\n            const regular = parseInt(regularEl.value) || 0;\n            const playoff = parseInt(playoffEl.value) || 0;\n            const bonus = bonusWeekEl.checked ? 1 : 0;\n            const total = regular + playoff + funWeeks + tstWeeks + byeWeeks + bonus;\n            totalEl.textContent = total;\n        }\n    } else if (divisionType === 'classic') {\n        const regularEl = document.getElementById('classicRegularWeeks');\n        const playoffEl = document.getElementById('classicPlayoffWeeks');\n        const bonusWeekEl = document.getElementById('classicHasBonusWeek');\n        const totalEl = document.getElementById('classicTotalWeeks');\n        \n        if (regularEl && playoffEl && bonusWeekEl && totalEl) {\n            const regular = parseInt(regularEl.value) || 0;\n            const playoff = parseInt(playoffEl.value) || 0;\n            const bonus = bonusWeekEl.checked ? 1 : 0;\n            const total = regular + playoff + funWeeks + tstWeeks + byeWeeks + bonus;\n            totalEl.textContent = total;\n        }\n    } else if (divisionType === 'ecsFc') {\n        const regularEl = document.getElementById('ecsFcRegularWeeks');\n        const playoffEl = document.getElementById('ecsFcPlayoffWeeks');\n        const totalEl = document.getElementById('ecsFcTotalWeeks');\n        \n        if (regularEl && playoffEl && totalEl) {\n            const regular = parseInt(regularEl.value) || 0;\n            const playoff = parseInt(playoffEl.value) || 0;\n            const total = regular + playoff;\n            totalEl.textContent = total;\n        }\n    }\n}\n\n/**\n * Toggle practice configuration display\n */\nfunction togglePracticeConfig() {\n    const practiceCheckbox = document.getElementById('classicHasPractice');\n    const practiceConfig = document.querySelector('.classic-practice-config');\n\n    practiceConfig.classList.toggle('wizard-config--visible', practiceCheckbox.checked);\n}\n\n/**\n * Update calendar sections based on league type\n */\nfunction updateCalendarSections() {\n    const leagueType = document.getElementById('leagueType').value;\n    const pubLeagueCalendar = document.getElementById('pubLeagueCalendar');\n    const ecsFcCalendar = document.getElementById('ecsFcCalendar');\n    \n    if (leagueType === 'Pub League') {\n        pubLeagueCalendar.classList.remove('d-none');\n        ecsFcCalendar.classList.add('d-none');\n        updateCalendarSummary();\n    } else if (leagueType === 'ECS FC') {\n        pubLeagueCalendar.classList.add('d-none');\n        ecsFcCalendar.classList.remove('d-none');\n        updateCalendarSummary();\n    }\n}\n\n/**\n * Update calendar summary display\n */\nfunction updateCalendarSummary() {\n    const leagueType = document.getElementById('leagueType').value;\n    const summaryEl = document.getElementById('calendarSummary');\n    \n    if (leagueType === 'Pub League') {\n        // Get structure values\n        const premierRegular = document.getElementById('premierRegularWeeks')?.value || 7;\n        const premierPlayoff = document.getElementById('premierPlayoffWeeks')?.value || 2;\n        const classicRegular = document.getElementById('classicRegularWeeks')?.value || 8;\n        const classicPlayoff = document.getElementById('classicPlayoffWeeks')?.value || 1;\n        \n        const hasFun = document.getElementById('includeFunWeek')?.checked || false;\n        const hasTst = document.getElementById('includeTstWeek')?.checked || false;\n        const hasBye = document.getElementById('includeByeWeek')?.checked || false;\n        const hasBonus = document.getElementById('premierHasBonusWeek')?.checked || false;\n        \n        let summary = `<strong>Premier:</strong> ${premierRegular} regular + ${premierPlayoff} playoff`;\n        if (hasFun || hasTst || hasBye || hasBonus) {\n            summary += ' + ';\n            const specials = [];\n            if (hasFun) specials.push('Fun');\n            if (hasTst) specials.push('TST');\n            if (hasBye) specials.push('BYE');\n            if (hasBonus) specials.push('Bonus');\n            summary += specials.join(', ');\n        }\n        \n        summary += `<br><strong>Classic:</strong> ${classicRegular} regular + ${classicPlayoff} playoff`;\n        if (hasFun || hasTst || hasBye) {\n            summary += ' + ';\n            const specials = [];\n            if (hasFun) specials.push('Fun');\n            if (hasTst) specials.push('TST');\n            if (hasBye) specials.push('BYE');\n            summary += specials.join(', ');\n        }\n        \n        summaryEl.innerHTML = summary;\n    } else if (leagueType === 'ECS FC') {\n        const regular = document.getElementById('ecsFcRegularWeeks')?.value || 8;\n        const playoff = document.getElementById('ecsFcPlayoffWeeks')?.value || 1;\n        \n        summaryEl.innerHTML = `<strong>ECS FC:</strong> ${regular} regular + ${playoff} playoff weeks`;\n    }\n}\n\n/**\n * Generate calendar preview\n */\n/**\n * Update calendar preview display\n */\nfunction updateCalendarPreview() {\n    // Try different preview elements based on league type\n    const leagueType = document.getElementById('leagueType')?.value;\n    let preview;\n    \n    // Try multiple possible element IDs\n    const possibleIds = ['unifiedCalendarPreview', 'calendarPreview', 'pubLeagueCalendar', 'ecsFcCalendarPreview'];\n    \n    for (const id of possibleIds) {\n        preview = document.getElementById(id);\n        if (preview) {\n            console.log(`Found calendar preview element: ${id}`);\n            break;\n        }\n    }\n    \n    if (!preview) {\n        console.log(`No calendar preview element found. Tried: ${possibleIds.join(', ')}`);\n        // Try to find any element with \"calendar\" in the class or id\n        const allElements = document.querySelectorAll('[id*=\"calendar\"], [class*=\"calendar\"]');\n        console.log('Available calendar elements:', Array.from(allElements).map(el => `${el.tagName}#${el.id}.${el.className}`));\n        return;\n    }\n    \n    if (!calendarState.weeks || calendarState.weeks.length === 0) {\n        console.log('No weeks in calendarState');\n        return;\n    }\n    \n    console.log('Updating calendar preview with', calendarState.weeks.length, 'weeks');\n    console.log('Week types:', calendarState.weeks.map(w => `W${w.weekNumber}:${w.type}(${w.division})`).join(', '));\n    \n    // Group weeks by week number to show unified calendar\n    const weeksByNumber = {};\n    calendarState.weeks.forEach(week => {\n        if (!weeksByNumber[week.weekNumber]) {\n            weeksByNumber[week.weekNumber] = {\n                weekNumber: week.weekNumber,\n                date: week.date,\n                type: week.type,\n                divisions: []\n            };\n        }\n        weeksByNumber[week.weekNumber].divisions.push(week.division);\n    });\n    \n    // Convert to array and handle division-specific weeks\n    const allWeeks = Object.values(weeksByNumber);\n    const unifiedWeeks = [];\n    \n    allWeeks.forEach(week => {\n        if (week.divisions.length === 2) {\n            // Check if it's the same type for both divisions\n            const weekDetails = calendarState.weeks.filter(w => w.weekNumber === week.weekNumber);\n            const premierWeek = weekDetails.find(w => w.division === 'premier');\n            const classicWeek = weekDetails.find(w => w.division === 'classic');\n            \n            if (premierWeek.type === classicWeek.type) {\n                // Same type for both divisions\n                unifiedWeeks.push({\n                    ...week,\n                    divisionsText: 'Premier & Classic'\n                });\n            } else {\n                // Different types - show as mixed week\n                const premierType = premierWeek.type === 'PLAYOFF' ? 'Playoffs' : premierWeek.type;\n                const classicType = classicWeek.type === 'PLAYOFF' ? 'Playoffs' : classicWeek.type;\n                unifiedWeeks.push({\n                    ...week,\n                    type: 'MIXED',\n                    mixedTypes: { premier: premierType, classic: classicType },\n                    divisionsText: `Premier: ${premierType} | Classic: ${classicType}`\n                });\n            }\n        } else {\n            // Division-specific week\n            const division = week.divisions[0];\n            const divisionText = division === 'premier' ? 'Premier only' : 'Classic only';\n            unifiedWeeks.push({\n                ...week,\n                divisionsText: divisionText,\n                divisionSpecific: division\n            });\n        }\n    });\n    \n    const sortedWeeks = unifiedWeeks.sort((a, b) => a.weekNumber - b.weekNumber);\n    \n    let html = `\n        <div class=\"mb-3 p-3 bg-light rounded\">\n            <h6 class=\"mb-1\"><i class=\"fas fa-calendar-alt me-2\"></i>Season Calendar Preview</h6>\n            <small class=\"text-muted\">${sortedWeeks.length} weeks total</small><br>\n            <small class=\"text-info\"><i class=\"fas fa-hand-pointer me-1\"></i>Drag any week to swap positions and customize your schedule</small>\n        </div>\n        <div class=\"calendar-grid\">\n    `;\n    \n    sortedWeeks.forEach((week, index) => {\n        let badgeClass = 'primary';\n        let iconClass = 'fas fa-calendar';\n        \n        if (week.type === 'TST') {\n            badgeClass = 'info';\n            iconClass = 'fas fa-trophy';\n        } else if (week.type === 'FUN') {\n            badgeClass = 'warning';\n            iconClass = 'fas fa-star';\n        } else if (week.type === 'BYE') {\n            badgeClass = 'secondary';\n            iconClass = 'fas fa-pause';\n        } else if (week.type === 'PLAYOFF') {\n            badgeClass = 'danger';\n            iconClass = 'fas fa-medal';\n        } else if (week.type === 'MIXED') {\n            badgeClass = 'dark';\n            iconClass = 'fas fa-calendar-week';\n        }\n        \n        html += `\n            <div class=\"week-card draggable-week\" \n                 data-week-number=\"${week.weekNumber}\" \n                 data-week-type=\"${week.type}\"\n                 draggable=\"true\">\n                <div class=\"week-header bg-${badgeClass}\">\n                    <span class=\"week-number\">Week ${week.weekNumber}</span>\n                    <i class=\"fas fa-grip-vertical drag-handle\"></i>\n                </div>\n                <div class=\"week-body\">\n                    <div class=\"week-date\">${week.date.toLocaleDateString('en-US', { month: 'short', day: 'numeric' })}</div>\n                    <div class=\"week-type\">\n                        <i class=\"${iconClass} me-1\"></i>\n                        ${week.type === 'PLAYOFF' ? 'Playoffs' : \n                          week.type === 'MIXED' ? 'Mixed Week' : week.type}\n                    </div>\n                    <div class=\"divisions\">${week.divisionsText}</div>\n                </div>\n            </div>\n        `;\n    });\n    \n    html += '</div>';\n    preview.innerHTML = html;\n    \n    // Add custom CSS for the calendar\n    addCalendarCSS();\n    \n    // Add drag and drop functionality for special weeks\n    initializeWeekCardDragAndDrop();\n}\n\nfunction generateCalendarPreview(forceRegenerate = false) {\n    console.log('generateCalendarPreview called');\n    const leagueType = document.getElementById('leagueType').value;\n    const startDateStr = document.getElementById('seasonStartDate').value;\n    \n    console.log('League type:', leagueType, 'Start date:', startDateStr);\n    \n    if (!startDateStr) {\n        console.log('No start date provided');\n        return;\n    }\n    \n    // Show/hide appropriate calendar containers\n    const pubLeagueCalendar = document.getElementById('pubLeagueCalendar');\n    const ecsFcCalendar = document.getElementById('ecsFcCalendar');\n    \n    if (leagueType === 'Pub League') {\n        if (pubLeagueCalendar) pubLeagueCalendar.classList.remove('d-none');\n        if (ecsFcCalendar) ecsFcCalendar.classList.add('d-none');\n    } else if (leagueType === 'ECS FC') {\n        if (pubLeagueCalendar) pubLeagueCalendar.classList.add('d-none');\n        if (ecsFcCalendar) ecsFcCalendar.classList.remove('d-none');\n    }\n    \n    // Parse date string properly to avoid timezone issues\n    // When creating Date from \"YYYY-MM-DD\", add time to ensure local date\n    const [year, month, day] = startDateStr.split('-').map(num => parseInt(num));\n    const startDate = new Date(year, month - 1, day); // month is 0-indexed\n    \n    // Always regenerate calendar when called - this ensures visibility\n    calendarState.startDate = startDate;\n    \n    if (leagueType === 'Pub League') {\n        console.log('Generating Pub League calendar');\n        generatePubLeagueCalendar(startDate);\n    } else if (leagueType === 'ECS FC') {\n        console.log('Generating ECS FC calendar');\n        generateEcsFcCalendar(startDate);\n    }\n    \n    // Update the calendar preview after generation\n    console.log('Calling updateCalendarPreview');\n    updateCalendarPreview();\n}\n\n/**\n * Generate Pub League calendar with Premier and Classic divisions\n * FIXED: Properly handle shared special weeks (TST, FUN) between divisions\n */\nfunction generatePubLeagueCalendar(startDate) {\n    // Clear calendar state before generating new calendars\n    calendarState.weeks = [];\n    \n    // Generate combined calendar with shared special weeks\n    const combinedCalendar = generateCombinedPubLeagueCalendar(startDate);\n    \n    // Split the calendar HTML for display\n    const premierPreview = document.getElementById('premierCalendarPreview');\n    const classicPreview = document.getElementById('classicCalendarPreview');\n    \n    if (premierPreview) premierPreview.innerHTML = combinedCalendar.premierHTML;\n    if (classicPreview) classicPreview.innerHTML = combinedCalendar.classicHTML;\n    \n    // Initialize drag and drop functionality\n    initializeCalendarDragAndDrop();\n}\n\n/**\n * Regenerate calendar HTML from existing calendar state\n */\nfunction regenerateCalendarHTML() {\n    const leagueType = document.getElementById('leagueType').value;\n    \n    if (leagueType === 'Pub League') {\n        // Group weeks by division\n        const premierWeeks = calendarState.weeks.filter(w => w.division === 'premier');\n        const classicWeeks = calendarState.weeks.filter(w => w.division === 'classic');\n        \n        document.getElementById('premierCalendarPreview').innerHTML = generateCalendarHTMLFromState(premierWeeks);\n        document.getElementById('classicCalendarPreview').innerHTML = generateCalendarHTMLFromState(classicWeeks);\n    } else if (leagueType === 'ECS FC') {\n        const ecsFcWeeks = calendarState.weeks.filter(w => w.division === 'ecs_fc');\n        document.getElementById('ecsFcCalendarPreview').innerHTML = generateCalendarHTMLFromState(ecsFcWeeks);\n    }\n    \n    // Initialize drag and drop functionality\n    initializeCalendarDragAndDrop();\n}\n\n/**\n * Generate calendar HTML from calendar state\n */\nfunction generateCalendarHTMLFromState(weeks) {\n    let calendar = '<div class=\"calendar-weeks\">';\n    \n    weeks.forEach(week => {\n        const weekTypeClass = week.type === 'PLAYOFF' ? 'playoff-week' : \n                             week.type === 'FUN' ? 'fun-week' : \n                             week.type === 'TST' ? 'tst-week' : \n                             week.type === 'BYE' ? 'bye-week' : \n                             week.type === 'BONUS' ? 'bonus-week' : \n                             'regular-week';\n        \n        const weekTypeText = week.type === 'PLAYOFF' ? \n                            (week.division === 'classic' ? 'Playoffs' : `Playoffs Round ${week.weekNumber - 7}`) :\n                            week.type === 'FUN' ? 'Fun Week' :\n                            week.type === 'TST' ? 'TST Week' :\n                            week.type === 'BYE' ? 'BYE Week' :\n                            week.type === 'BONUS' ? 'Bonus Week' :\n                            'Regular' + (week.isPractice ? ' (Practice Game 1)' : '');\n        \n        calendar += `<div class=\"week-item ${weekTypeClass}\" draggable=\"true\" data-week=\"${week.weekNumber}\" data-type=\"${week.type.toLowerCase()}\">\n            <div class=\"week-number\">Week ${week.weekNumber}</div>\n            <div class=\"week-date\">${formatDate(week.date)}</div>\n            <div class=\"week-type\">${weekTypeText}</div>\n        </div>`;\n    });\n    \n    calendar += '</div>';\n    return calendar;\n}\n\n/**\n * Helper function to create week HTML\n */\nfunction createWeekHTML(weekNumber, date, type, isPractice = false, isShared = false) {\n    const typeMap = {\n        'Regular': 'regular-week',\n        'FUN': 'fun-week', \n        'TST': 'tst-week',\n        'BYE': 'bye-week',\n        'PLAYOFF': 'playoff-week',\n        'BONUS': 'bonus-week'\n    };\n    \n    const textMap = {\n        'Regular': `Regular${isPractice ? ' (Practice Game 1)' : ''}`,\n        'FUN': `Fun Week${isShared ? ' (Shared)' : ''}`,\n        'TST': `TST Week${isShared ? ' (Shared)' : ''}`,\n        'BYE': `BYE Week${isShared ? ' (Shared)' : ''}`,\n        'PLAYOFF': type === 'PLAYOFF' ? 'Playoffs' : type,\n        'BONUS': 'Bonus Week'\n    };\n    \n    const cssClass = typeMap[type] || 'regular-week';\n    const sharedAttr = isShared ? ` shared-week\" data-shared-type=\"${type.toLowerCase()}` : '';\n    \n    return `<div class=\"week-item ${cssClass}${sharedAttr}\" draggable=\"true\" data-week=\"${weekNumber}\" data-type=\"${type.toLowerCase()}\">\n        <div class=\"week-number\">Week ${weekNumber}</div>\n        <div class=\"week-date\">${formatDate(date)}</div>\n        <div class=\"week-type\">${textMap[type] || type}</div>\n    </div>`;\n}\n\n/**\n * Generate combined Pub League calendar (simplified)\n */\nfunction generateCombinedPubLeagueCalendar(startDate) {\n    // Get total weeks from dropdown to respect user selection\n    const totalWeeks = parseInt(document.getElementById('totalSeasonWeeks')?.value) || 11;\n    const specialWeeksCount = getEnabledSpecialWeeksCount();\n    \n    // Calculate regular weeks based on total season length (respecting dropdown)\n    const premierRegular = totalWeeks - 2 - specialWeeksCount; // Premier: total - 2 playoffs - special weeks\n    const classicRegular = totalWeeks - 1 - specialWeeksCount;  // Classic: total - 1 playoff - special weeks\n    \n    const config = {\n        premier: { regular: premierRegular, playoff: 2, bonus: document.getElementById('premierHasBonusWeek')?.checked },\n        classic: { regular: classicRegular, playoff: 1, bonus: document.getElementById('classicHasBonusWeek')?.checked },\n        shared: { fun: document.getElementById('includeFunWeek')?.checked, tst: document.getElementById('includeTstWeek')?.checked, bye: document.getElementById('includeByeWeek')?.checked },\n        totalWeeks: totalWeeks\n    };\n    \n    console.log('Calendar config:', JSON.stringify(config, null, 2));\n    \n    let currentDate = new Date(startDate), weekNumber = 1;\n    const calendar = { premierHTML: '<div class=\"calendar-weeks\">', classicHTML: '<div class=\"calendar-weeks\">' };\n    \n    // Generate exactly totalWeeks weeks, no more, no less\n    for (let i = 0; i < totalWeeks; i++) {\n        const weekDate = new Date(currentDate);\n        let weekType = 'Regular';\n        let isPremierWeek = true;\n        let isClassicWeek = true;\n        \n        // Determine week type based on position in schedule\n        if (i >= config.premier.regular && i < config.premier.regular + config.premier.playoff) {\n            // Premier playoff weeks\n            if (i >= config.classic.regular) {\n                // Both in playoffs\n                weekType = 'PLAYOFF';\n            } else {\n                // Mixed: Premier playoffs, Classic regular\n                weekType = 'MIXED';\n            }\n        } else if (i >= config.classic.regular && i < config.classic.regular + config.classic.playoff) {\n            // Classic playoff weeks (but Premier might be done)\n            weekType = 'PLAYOFF';\n            isPremierWeek = false; // Premier season is over\n        } else if (i >= Math.max(config.premier.regular + config.premier.playoff, config.classic.regular + config.classic.playoff)) {\n            // Special weeks (TST, FUN, BYE)\n            const specialIndex = i - Math.max(config.premier.regular + config.premier.playoff, config.classic.regular + config.classic.playoff);\n            const specialTypes = [];\n            if (config.shared.tst) specialTypes.push('TST');\n            if (config.shared.fun) specialTypes.push('FUN');\n            if (config.shared.bye) specialTypes.push('BYE');\n            \n            if (specialIndex < specialTypes.length) {\n                weekType = specialTypes[specialIndex];\n            }\n        }\n        \n        // Add weeks to calendar state - only add each week once per division that participates\n        if (isPremierWeek) {\n            // Premier NEVER has practice sessions\n            calendarState.weeks.push({ \n                weekNumber, \n                date: new Date(weekDate), \n                type: weekType, \n                division: 'premier', \n                isPractice: false \n            });\n            calendar.premierHTML += createWeekHTML(weekNumber, weekDate, weekType, false);\n        }\n        \n        if (isClassicWeek) {\n            // Classic has practice sessions on weeks 1 & 3 (only for Regular weeks)\n            const isPractice = weekType === 'Regular' && (i === 0 || i === 2);\n            calendarState.weeks.push({ \n                weekNumber, \n                date: new Date(weekDate), \n                type: weekType, \n                division: 'classic', \n                isPractice \n            });\n            calendar.classicHTML += createWeekHTML(weekNumber, weekDate, weekType, isPractice);\n        }\n        \n        currentDate.setDate(currentDate.getDate() + 7);\n        weekNumber++;\n    }\n    \n    calendar.premierHTML += '</div>';\n    calendar.classicHTML += '</div>';\n    return calendar;\n}\n\n\n/**\n * Initialize drag and drop functionality for calendar items\n * CONVERTED TO EVENT DELEGATION: Drag events still need direct addEventListener\n * as they cannot be delegated through data-action attributes\n */\nfunction initializeCalendarDragAndDrop() {\n    const weekItems = document.querySelectorAll('.week-item');\n\n    weekItems.forEach(item => {\n        // NOTE: Drag events must use addEventListener - no event delegation alternative\n        item.addEventListener('dragstart', handleCalendarDragStart);\n        item.addEventListener('dragover', handleCalendarDragOver);\n        item.addEventListener('dragenter', handleCalendarDragEnter);\n        item.addEventListener('dragleave', handleCalendarDragLeave);\n        item.addEventListener('drop', handleCalendarDrop);\n        item.addEventListener('dragend', handleCalendarDragEnd);\n    });\n}\n\n/**\n * Handle calendar drag start\n */\nfunction handleCalendarDragStart(e) {\n    calendarDraggedElement = e.target;\n    // Apply drag active state using CSS class\n    e.target.classList.add('drag-active');\n    e.dataTransfer.effectAllowed = 'move';\n}\n\n/**\n * Handle calendar drag enter\n */\nfunction handleCalendarDragEnter(e) {\n    e.preventDefault();\n}\n\n/**\n * Handle calendar drag leave\n */\nfunction handleCalendarDragLeave(e) {\n    // Only clear indicators if we're leaving the week item entirely\n    const weekItem = e.target.closest('.week-item');\n    if (weekItem && !weekItem.contains(e.relatedTarget)) {\n        clearDropIndicators();\n    }\n}\n\n/**\n * Handle calendar drag over\n */\nfunction handleCalendarDragOver(e) {\n    e.preventDefault();\n    e.dataTransfer.dropEffect = 'move';\n\n    // Get the actual week item, not just the element being hovered\n    const weekItem = e.target.closest('.week-item');\n    if (weekItem && weekItem !== calendarDraggedElement) {\n        // Clear any existing drop indicators\n        clearDropIndicators();\n\n        // Calculate drop position based on mouse position\n        const rect = weekItem.getBoundingClientRect();\n        const midPoint = rect.top + rect.height / 2;\n\n        // REFACTORED: Apply theme color via utility function\n        // Uses data attribute to track color, utility function applies CSS custom property\n        const highlightColor = (typeof ECSTheme !== 'undefined') ? ECSTheme.getColor('primary') : '#0d6efd';\n        applyThemeColor(weekItem, highlightColor);\n\n        if (e.clientY < midPoint) {\n            // Drop above - use CSS class for visual indicator\n            weekItem.classList.add('drop-indicator-top');\n            weekItem.dataset.dropPosition = 'before';\n        } else {\n            // Drop below - use CSS class for visual indicator\n            weekItem.classList.add('drop-indicator-bottom');\n            weekItem.dataset.dropPosition = 'after';\n        }\n    }\n}\n\n/**\n * Handle calendar drop\n */\nfunction handleCalendarDrop(e) {\n    e.preventDefault();\n    \n    if (calendarDraggedElement) {\n        const targetWeekItem = e.target.closest('.week-item');\n        const draggedWeekItem = calendarDraggedElement.closest('.week-item');\n        \n        if (targetWeekItem && draggedWeekItem && targetWeekItem !== draggedWeekItem) {\n            const container = targetWeekItem.closest('.calendar-container');\n            const draggedContainer = draggedWeekItem.closest('.calendar-container');\n            \n            // Only allow reordering within the same division\n            if (container === draggedContainer) {\n                const dropPosition = targetWeekItem.dataset.dropPosition;\n                const calendarWeeks = container.querySelector('.calendar-weeks');\n                \n                if (calendarWeeks) {\n                    // Check if this is a shared week\n                    const isSharedWeek = draggedWeekItem.classList.contains('shared-week');\n                    const sharedType = draggedWeekItem.dataset.sharedType;\n                    \n                    if (dropPosition === 'before') {\n                        calendarWeeks.insertBefore(draggedWeekItem, targetWeekItem);\n                    } else if (dropPosition === 'after') {\n                        calendarWeeks.insertBefore(draggedWeekItem, targetWeekItem.nextSibling);\n                    }\n                    \n                    // If this is a shared week, synchronize the corresponding week in the other division\n                    if (isSharedWeek && sharedType) {\n                        synchronizeSharedWeek(draggedWeekItem, sharedType, dropPosition, targetWeekItem);\n                    }\n                    \n                    // Update week numbers and recalculate dates after reordering\n                    updateWeekNumbersAndDates(container);\n                    \n                    // If shared week was moved, update the other division too\n                    if (isSharedWeek) {\n                        const otherContainer = getOtherDivisionContainer(container);\n                        if (otherContainer) {\n                            updateWeekNumbersAndDates(otherContainer);\n                        }\n                    }\n                    \n                    // Save the current state after reordering\n                }\n            }\n        }\n    }\n    \n    // Clear all drop indicators\n    clearDropIndicators();\n}\n\n/**\n * Handle calendar drag end\n */\nfunction handleCalendarDragEnd(e) {\n    // Remove drag active state using CSS class\n    e.target.classList.remove('drag-active');\n    calendarDraggedElement = null;\n    clearDropIndicators();\n}\n\n/**\n * Clear all drop indicators\n */\nfunction clearDropIndicators() {\n    const allWeekItems = document.querySelectorAll('.week-item');\n    allWeekItems.forEach(item => {\n        // Remove drop indicator classes instead of inline styles\n        item.classList.remove('drop-indicator-top', 'drop-indicator-bottom');\n        delete item.dataset.dropPosition;\n    });\n}\n\n/**\n * Synchronize shared week movement to the other division\n */\nfunction synchronizeSharedWeek(draggedWeekItem, sharedType, dropPosition, targetWeekItem) {\n    const otherContainer = getOtherDivisionContainer(draggedWeekItem.closest('.calendar-container'));\n    if (!otherContainer) return;\n    \n    // Find the corresponding shared week in the other division\n    const otherSharedWeek = otherContainer.querySelector(`[data-shared-type=\"${sharedType}\"]`);\n    if (!otherSharedWeek) return;\n    \n    // Find the corresponding target week in the other division\n    const targetWeekNumber = targetWeekItem.dataset.week;\n    const otherTargetWeek = otherContainer.querySelector(`[data-week=\"${targetWeekNumber}\"]`);\n    if (!otherTargetWeek) return;\n    \n    const otherCalendarWeeks = otherContainer.querySelector('.calendar-weeks');\n    if (!otherCalendarWeeks) return;\n    \n    // Move the shared week in the other division to the same relative position\n    if (dropPosition === 'before') {\n        otherCalendarWeeks.insertBefore(otherSharedWeek, otherTargetWeek);\n    } else if (dropPosition === 'after') {\n        otherCalendarWeeks.insertBefore(otherSharedWeek, otherTargetWeek.nextSibling);\n    }\n    \n}\n\n/**\n * Get the other division's container (Premier <-> Classic)\n */\nfunction getOtherDivisionContainer(currentContainer) {\n    const containerId = currentContainer.id;\n    \n    if (containerId.includes('premier')) {\n        return document.getElementById('classicCalendarPreview');\n    } else if (containerId.includes('classic')) {\n        return document.getElementById('premierCalendarPreview');\n    }\n    \n    return null;\n}\n\n/**\n * Update week numbers and dates after reordering\n */\nfunction updateWeekNumbersAndDates(container) {\n    const weekItems = container.querySelectorAll('.week-item');\n    const startDateStr = document.getElementById('seasonStartDate').value;\n    \n    if (!startDateStr) return;\n    \n    \n    // Parse date properly to avoid timezone issues\n    const [year, month, day] = startDateStr.split('-').map(num => parseInt(num));\n    const startDate = new Date(year, month - 1, day);\n    let currentDate = new Date(startDate);\n    \n    // Determine which division this container belongs to\n    const containerClass = container.className;\n    const containerId = container.id;\n    let division;\n    \n    \n    if (containerClass.includes('premier') || containerId.includes('premier')) {\n        division = 'premier';\n    } else if (containerClass.includes('classic') || containerId.includes('classic')) {\n        division = 'classic';\n    } else if (containerClass.includes('ecs') || containerId.includes('ecs')) {\n        division = 'ecs_fc';\n    } else {\n        // Fallback: check parent containers\n        const parentContainer = container.closest('[id*=\"premier\"], [id*=\"classic\"], [id*=\"ecs\"]');\n        if (parentContainer) {\n            if (parentContainer.id.includes('premier')) {\n                division = 'premier';\n            } else if (parentContainer.id.includes('classic')) {\n                division = 'classic';\n            } else if (parentContainer.id.includes('ecs')) {\n                division = 'ecs_fc';\n            }\n        }\n    }\n    \n    \n    // MEMORY LEAK FIX: Remove old weeks for this division before adding new ones\n    calendarState.weeks = calendarState.weeks.filter(w => w.division !== division);\n    \n    weekItems.forEach((item, index) => {\n        // Update week number\n        const weekNumber = item.querySelector('.week-number');\n        weekNumber.textContent = `Week ${index + 1}`;\n        item.dataset.week = index + 1;\n        \n        // Update date\n        const weekDate = item.querySelector('.week-date');\n        if (weekDate) {\n            weekDate.textContent = formatDate(currentDate);\n        }\n        \n        // Update calendarState.weeks array\n        const weekType = item.dataset.type;\n        const mappedType = weekType === 'regular' ? 'Regular' : \n                          weekType === 'fun' ? 'FUN' : \n                          weekType === 'tst' ? 'TST' : \n                          weekType === 'playoff' ? 'PLAYOFF' : \n                          weekType === 'bonus' ? 'BONUS' : 'Regular';\n        \n        // Check if this is a practice session\n        const weekTypeText = item.querySelector('.week-type').textContent;\n        const isPractice = weekTypeText.includes('Practice Game 1');\n        \n        // Add the updated week to calendar state\n        calendarState.weeks.push({\n            weekNumber: index + 1,\n            date: new Date(currentDate),\n            type: mappedType,\n            division: division,\n            isPractice: isPractice\n        });\n        \n        // Move to next week (add 7 days for next Sunday)\n        currentDate.setDate(currentDate.getDate() + 7);\n    });\n}\n\n/**\n * Generate ECS FC calendar\n */\nfunction generateEcsFcCalendar(startDate) {\n    // Clear calendar state before generating new calendar\n    calendarState.weeks = [];\n    \n    const regularWeeks = parseInt(document.getElementById('ecsFcRegularWeeks')?.value) || 8;\n    const playoffWeeks = parseInt(document.getElementById('ecsFcPlayoffWeeks')?.value) || 1;\n    \n    let calendar = '<div class=\"calendar-weeks\">';\n    let currentDate = new Date(startDate);\n    let weekNumber = 1;\n    \n    // Regular season weeks\n    for (let i = 0; i < regularWeeks; i++) {\n        // Add to calendar state\n        calendarState.weeks.push({\n            weekNumber: weekNumber,\n            date: new Date(currentDate),\n            type: 'Regular',\n            division: 'ecs_fc'\n        });\n        \n        calendar += `<div class=\"week-item regular-week\">\n            <div class=\"week-number\">Week ${weekNumber}</div>\n            <div class=\"week-date\">${formatDate(currentDate)}</div>\n            <div class=\"week-type\">Regular</div>\n        </div>`;\n        \n        currentDate.setDate(currentDate.getDate() + 7);\n        weekNumber++;\n    }\n    \n    // Playoff weeks\n    for (let i = 0; i < playoffWeeks; i++) {\n        // Add to calendar state\n        calendarState.weeks.push({\n            weekNumber: weekNumber,\n            date: new Date(currentDate),\n            type: 'PLAYOFF',\n            division: 'ecs_fc'\n        });\n        \n        calendar += `<div class=\"week-item playoff-week\">\n            <div class=\"week-number\">Week ${weekNumber}</div>\n            <div class=\"week-date\">${formatDate(currentDate)}</div>\n            <div class=\"week-type\">Playoffs</div>\n        </div>`;\n        \n        currentDate.setDate(currentDate.getDate() + 7);\n        weekNumber++;\n    }\n    \n    calendar += '</div>';\n    document.getElementById('ecsFcCalendarPreview').innerHTML = calendar;\n}\n\n/**\n * Get next Sunday from a date\n */\nfunction getNextSunday(date) {\n    const result = new Date(date);\n    const day = result.getDay();\n    const diff = day === 0 ? 0 : 7 - day;\n    result.setDate(result.getDate() + diff);\n    return result;\n}\n\n/**\n * Format date for display\n */\nfunction formatDate(date) {\n    return date.toLocaleDateString('en-US', { \n        month: 'short', \n        day: 'numeric',\n        year: 'numeric'\n    });\n}\n\n/**\n * Check if date is Sunday\n */\nfunction isSunday(date) {\n    return new Date(date).getDay() === 0;\n}\n\n/**\n * Update team sections based on league type\n */\nfunction updateTeamSections() {\n    const leagueType = document.getElementById('leagueType').value;\n    const pubLeagueSection = document.getElementById('pubLeagueTeams');\n    const ecsFcSection = document.getElementById('ecsFcTeams');\n    \n    if (leagueType === 'Pub League') {\n        pubLeagueSection.classList.remove('d-none');\n        ecsFcSection.classList.add('d-none');\n        updateTeamPreview('premier');\n        updateTeamPreview('classic');\n    } else if (leagueType === 'ECS FC') {\n        pubLeagueSection.classList.add('d-none');\n        ecsFcSection.classList.remove('d-none');\n        updateTeamPreview('ecsFc');\n    }\n}\n\n/**\n * Update team preview display\n */\nfunction updateTeamPreview(leagueType) {\n    let count, previewId, startingLetterOffset = 0;\n    \n    if (leagueType === 'premier') {\n        count = parseInt(document.getElementById('premierTeamCount').value);\n        previewId = 'premierTeamPreview';\n        startingLetterOffset = 0; // Premier starts at A\n    } else if (leagueType === 'classic') {\n        count = parseInt(document.getElementById('classicTeamCount').value);\n        previewId = 'classicTeamPreview';\n        // Classic starts after Premier teams\n        const premierCount = parseInt(document.getElementById('premierTeamCount').value) || 0;\n        startingLetterOffset = premierCount;\n    } else if (leagueType === 'ecsFc') {\n        count = parseInt(document.getElementById('ecsFcTeamCount').value);\n        previewId = 'ecsFcTeamPreview';\n        startingLetterOffset = 0; // ECS FC is standalone, starts at A\n    }\n    \n    const previewDiv = document.getElementById(previewId);\n    const teamLabels = [];\n    \n    // Generate team names with proper letter sequence\n    for (let i = 0; i < count; i++) {\n        const letter = String.fromCharCode(65 + startingLetterOffset + i);\n        teamLabels.push(`Team ${letter}`);\n    }\n    \n    // Show starting letter range for clarity\n    const startLetter = String.fromCharCode(65 + startingLetterOffset);\n    const endLetter = String.fromCharCode(65 + startingLetterOffset + count - 1);\n    const rangeText = count > 1 ? `Teams ${startLetter}-${endLetter}` : `Team ${startLetter}`;\n    \n    previewDiv.innerHTML = `\n        <div class=\"small text-muted mb-2\">${rangeText} to be created:</div>\n        <div class=\"d-flex flex-wrap gap-1\">\n            ${teamLabels.map(name => `<span class=\"badge bg-light text-dark border\">${name}</span>`).join('')}\n        </div>\n    `;\n}\n\n/**\n * Add CSS for spinner animation and calendar styling\n */\nfunction addSpinnerCSS() {\n    const style = document.createElement('style');\n    style.textContent = `\n        .spin {\n            animation: spin 1s linear infinite;\n        }\n        @keyframes spin {\n            0% { transform: rotate(0deg); }\n            100% { transform: rotate(360deg); }\n        }\n    `;\n    document.head.appendChild(style);\n}\n\n/**\n * Add custom CSS for calendar styling\n */\nfunction addCalendarCSS() {\n    if (document.getElementById('calendar-custom-css')) return; // Don't add twice\n    \n    const style = document.createElement('style');\n    style.id = 'calendar-custom-css';\n    style.textContent = `\n        .calendar-grid {\n            display: grid;\n            grid-template-columns: repeat(auto-fit, minmax(160px, 1fr));\n            gap: 12px;\n            padding: 8px;\n        }\n        \n        .week-card {\n            border: 2px solid var(--ecs-border, #e9ecef);\n            border-radius: 8px;\n            overflow: hidden;\n            transition: all 0.2s ease;\n            background: white;\n        }\n\n        .draggable-week {\n            cursor: grab;\n            position: relative;\n        }\n\n        .draggable-week:hover {\n            transform: translateY(-2px);\n            box-shadow: 0 4px 12px rgba(0,0,0,0.15);\n            border-color: var(--ecs-primary, #7C3AED);\n        }\n        \n        .drag-handle {\n            font-size: 12px;\n            opacity: 0.6;\n            transition: opacity 0.2s ease;\n        }\n        \n        .draggable-week:hover .drag-handle {\n            opacity: 1;\n        }\n        \n        .week-card:not(.dragging):hover {\n            transform: translateY(-1px);\n            box-shadow: 0 2px 8px rgba(0,0,0,0.1);\n        }\n        \n        .week-card.dragging {\n            opacity: 0.7;\n            transform: rotate(5deg);\n            cursor: grabbing;\n        }\n        \n        .week-header {\n            padding: 8px 12px;\n            color: white;\n            font-weight: 600;\n            display: flex;\n            justify-content: space-between;\n            align-items: center;\n        }\n        \n        .week-header .drag-handle {\n            font-size: 12px;\n            opacity: 0.8;\n        }\n        \n        .week-body {\n            padding: 12px;\n            text-align: center;\n        }\n        \n        .week-date {\n            font-size: 13px;\n            color: var(--ecs-muted, #6c757d);\n            margin-bottom: 4px;\n        }\n\n        .week-type {\n            font-weight: 600;\n            color: var(--ecs-dark, #495057);\n            margin-bottom: 6px;\n        }\n\n        .divisions {\n            font-size: 11px;\n            color: var(--ecs-muted, #6c757d);\n            background: var(--ecs-neutral-5, #f8f9fa);\n            padding: 2px 6px;\n            border-radius: 12px;\n            display: inline-block;\n        }\n\n        .drop-zone {\n            border: 2px dashed var(--ecs-primary, #7C3AED) !important;\n            background: var(--ecs-primary-light-bg, rgba(124, 58, 237, 0.1)) !important;\n        }\n    `;\n    document.head.appendChild(style);\n}\n\n/**\n * Initialize simple drag and drop for special weeks only\n * CONVERTED TO EVENT DELEGATION: Drag events still need direct addEventListener\n * as they cannot be delegated through data-action attributes\n */\nfunction initializeWeekCardDragAndDrop() {\n    const draggableWeeks = document.querySelectorAll('.draggable-week');\n\n    draggableWeeks.forEach(week => {\n        // NOTE: Drag events must use addEventListener - no event delegation alternative\n        week.addEventListener('dragstart', (e) => {\n            e.currentTarget.classList.add('dragging');\n            e.dataTransfer.setData('text/plain', e.currentTarget.dataset.weekType);\n            e.dataTransfer.effectAllowed = 'move';\n        });\n        \n        week.addEventListener('dragend', (e) => {\n            e.currentTarget.classList.remove('dragging');\n        });\n    });\n    \n    // Make all week cards drop zones\n    const allWeeks = document.querySelectorAll('.week-card');\n    allWeeks.forEach(week => {\n        week.addEventListener('dragover', (e) => {\n            e.preventDefault();\n            e.dataTransfer.dropEffect = 'move';\n            week.classList.add('drop-zone');\n        });\n        \n        week.addEventListener('dragleave', (e) => {\n            week.classList.remove('drop-zone');\n        });\n        \n        week.addEventListener('drop', (e) => {\n            e.preventDefault();\n            week.classList.remove('drop-zone');\n            \n            const draggedType = e.dataTransfer.getData('text/plain');\n            const draggedElement = document.querySelector(`.dragging[data-week-type=\"${draggedType}\"]`);\n            const dropTarget = e.currentTarget;\n            \n            if (draggedElement && dropTarget && draggedElement !== dropTarget) {\n                swapWeekPositions(draggedElement, dropTarget);\n            }\n        });\n    });\n}\n\nfunction swapWeekPositions(draggedWeek, targetWeek) {\n    // Get the parent container\n    const container = draggedWeek.parentNode;\n    \n    // Create placeholder to mark dragged week's position\n    const placeholder = document.createElement('div');\n    container.insertBefore(placeholder, draggedWeek);\n    \n    // Move dragged week to target position\n    container.insertBefore(draggedWeek, targetWeek);\n    \n    // Move target week to dragged week's original position\n    container.insertBefore(targetWeek, placeholder);\n    \n    // Remove placeholder\n    container.removeChild(placeholder);\n    \n    // Update week numbers\n    updateWeekNumbers();\n}\n\nfunction updateWeekNumbers() {\n    const weekCards = document.querySelectorAll('.week-card');\n    \n    // Create a new calendar state based on the current DOM order\n    const newWeeks = [];\n    const startDate = calendarState.startDate;\n    \n    weekCards.forEach((card, index) => {\n        const newWeekNumber = index + 1;\n        const weekType = card.dataset.weekType;\n        \n        // Update the visual display\n        card.dataset.weekNumber = newWeekNumber;\n        const weekNumberSpan = card.querySelector('.week-number');\n        if (weekNumberSpan) {\n            weekNumberSpan.textContent = `Week ${newWeekNumber}`;\n        }\n        \n        // Update the week date display\n        const weekDateSpan = card.querySelector('.week-date');\n        \n        // Calculate the date for this week\n        const weekDate = new Date(startDate);\n        weekDate.setDate(startDate.getDate() + (index * 7));\n        \n        if (weekDateSpan) {\n            weekDateSpan.textContent = weekDate.toLocaleDateString('en-US', { \n                month: 'short', \n                day: 'numeric', \n                year: 'numeric' \n            });\n        }\n        \n        // Find ALL corresponding weeks in calendarState that match this week type\n        // Use a more flexible matching approach that handles reordering\n        const matchingWeeks = calendarState.weeks.filter(w => w.type === weekType);\n        \n        if (matchingWeeks.length > 0) {\n            // During drag & drop, preserve existing weeks but update their positions\n            // Group by division to ensure we get one week per division\n            const weeksByDivision = {};\n            matchingWeeks.forEach(week => {\n                if (!weeksByDivision[week.division]) {\n                    weeksByDivision[week.division] = week;\n                }\n            });\n            \n            // Update each division's week with the new position\n            Object.values(weeksByDivision).forEach(week => {\n                // Recalculate practice session flag based on NEW position\n                // Classic has practice sessions on weeks 1 & 3 (only for Regular weeks)\n                const isPractice = week.division === 'classic' && \n                                   week.type === 'Regular' && \n                                   (newWeekNumber === 1 || newWeekNumber === 3);\n                \n                newWeeks.push({\n                    ...week, // Preserve all original properties except isPractice\n                    weekNumber: newWeekNumber,\n                    date: new Date(weekDate),\n                    isPractice: isPractice // Recalculate based on new position\n                });\n            });\n        }\n    });\n    \n    // Update the calendar state with the new order\n    calendarState.weeks = newWeeks.sort((a, b) => a.weekNumber - b.weekNumber);\n    \n    console.log('Weeks reordered via drag & drop - calendarState updated');\n    console.log('New week order:', calendarState.weeks.map(w => `W${w.weekNumber}:${w.type}(${w.division})`).join(', '));\n}\n\n/**\n * Helper to create division summary card\n */\nfunction createDivisionCard(name, data, color, icon) {\n    return `<div class=\"col-md-6\"><div class=\"card border-${color}\"><div class=\"card-header bg-${color} text-white\"><h6 class=\"mb-0\"><i class=\"fas fa-${icon} me-2\"></i>${name}</h6></div><div class=\"card-body\"><ul class=\"list-unstyled mb-0\">${Object.entries(data).map(([k,v]) => `<li><strong>${k}:</strong> ${v}</li>`).join('')}</ul></div></div></div>`;\n}\n\n/**\n * Generate season summary for final step\n */\nfunction generateSeasonSummary() {\n    const config = {\n        name: document.getElementById('seasonName').value,\n        type: document.getElementById('leagueType').value,\n        startDate: document.getElementById('seasonStartDate').value,\n        current: document.getElementById('setAsCurrent').checked,\n        schedule: {\n            'Premier Start': document.getElementById('premierStartTime')?.value || 'N/A',\n            'Classic Start': document.getElementById('classicStartTime')?.value || 'N/A',\n            'Match Duration': `${document.getElementById('matchDuration')?.value || 'N/A'} min`,\n            'Fields': getWizardFieldConfig().map(f => f.name).join(', ') || 'N/A'\n        }\n    };\n    \n    let summary = `<div class=\"alert alert-info\"><h5><i class=\"fas fa-info-circle me-2\"></i>Season Creation Summary</h5><p class=\"mb-0\">Review configuration before creating season.</p></div><div class=\"row mb-4\">${createDivisionCard('Season Details', {'Name': config.name, 'Type': config.type, 'Start Date': config.startDate, 'Set as Current': config.current ? 'Yes' : 'No'}, 'secondary', 'calendar')}${createDivisionCard('Schedule Configuration', config.schedule, 'secondary', 'cog')}</div>`;\n    \n    if (config.type === 'Pub League') {\n        // Calculate actual week counts from calendarState\n        // Get the configured values to use as reference\n        const configuredPremierRegular = parseInt(document.getElementById('premierRegularWeeks')?.value) || 7;\n        const configuredPremierPlayoffs = parseInt(document.getElementById('premierPlayoffWeeks')?.value) || 2;\n        const configuredClassicRegular = parseInt(document.getElementById('classicRegularWeeks')?.value) || 8;\n        const configuredClassicPlayoffs = parseInt(document.getElementById('classicPlayoffWeeks')?.value) || 1;\n        \n        // Count weeks from calendarState, but use configured values as fallback\n        // MIXED weeks count as playoffs for Premier (since Premier playoffs while Classic plays regular)\n        const premierRegularWeeks = calendarState.weeks ? calendarState.weeks.filter(w => w.division === 'premier' && w.type === 'Regular').length : configuredPremierRegular;\n        const premierPlayoffWeeks = calendarState.weeks ? \n            calendarState.weeks.filter(w => w.division === 'premier' && (w.type === 'PLAYOFF' || w.type === 'MIXED')).length : \n            configuredPremierPlayoffs;\n        const classicRegularWeeks = calendarState.weeks ? \n            calendarState.weeks.filter(w => w.division === 'classic' && (w.type === 'Regular' || w.type === 'MIXED')).length : \n            configuredClassicRegular;\n        const classicPlayoffWeeks = calendarState.weeks ? calendarState.weeks.filter(w => w.division === 'classic' && w.type === 'PLAYOFF').length : configuredClassicPlayoffs;\n        \n        // If the counts don't match configured values, use the configured ones (since drag/drop might have visual artifacts)\n        const finalPremierRegular = premierRegularWeeks > 0 ? premierRegularWeeks : configuredPremierRegular;\n        const finalPremierPlayoffs = premierPlayoffWeeks > 0 ? premierPlayoffWeeks : configuredPremierPlayoffs;\n        const finalClassicRegular = classicRegularWeeks > 0 ? classicRegularWeeks : configuredClassicRegular;\n        const finalClassicPlayoffs = classicPlayoffWeeks > 0 ? classicPlayoffWeeks : configuredClassicPlayoffs;\n        \n        const premier = {\n            regular: finalPremierRegular, \n            playoff: finalPremierPlayoffs, \n            teams: parseInt(document.getElementById('premierTeamCount')?.value) || 0\n        };\n        const classic = {\n            regular: finalClassicRegular, \n            playoff: finalClassicPlayoffs, \n            teams: parseInt(document.getElementById('classicTeamCount')?.value) || 0\n        };\n        \n        // Generate team letter ranges\n        const premierRange = premier.teams > 1 ? `Teams A-${String.fromCharCode(64 + premier.teams)}` : 'Team A';\n        const classicStartLetter = String.fromCharCode(65 + premier.teams);\n        const classicEndLetter = String.fromCharCode(64 + premier.teams + classic.teams);\n        const classicRange = classic.teams > 1 ? `Teams ${classicStartLetter}-${classicEndLetter}` : `Team ${classicStartLetter}`;\n        \n        summary += `<div class=\"row mb-4\">${createDivisionCard('Premier Division', {'Teams': `${premier.teams} (${premierRange})`, 'Regular': `${premier.regular} weeks`, 'Playoffs': `${premier.playoff} weeks`}, 'primary', 'trophy')}${createDivisionCard('Classic Division', {'Teams': `${classic.teams} (${classicRange})`, 'Regular': `${classic.regular} weeks`, 'Playoffs': `${classic.playoff} weeks`}, 'success', 'users')}</div>`;\n    } else {\n        const ecsfc = {regular: parseInt(document.getElementById('ecsFcRegularWeeks')?.value) || 0, playoff: parseInt(document.getElementById('ecsFcPlayoffWeeks')?.value) || 0, teams: parseInt(document.getElementById('ecsFcTeamCount')?.value) || 0};\n        summary += `<div class=\"row mb-4\"><div class=\"col-md-8 offset-md-2\">${createDivisionCard('ECS FC Division', {'Teams': ecsfc.teams, 'Regular': `${ecsfc.regular} weeks`, 'Playoffs': `${ecsfc.playoff} weeks`}, 'info', 'shield').replace('col-md-6', 'col-12')}</div></div>`;\n    }\n    \n    if (calendarState?.weeks?.length) summary += generateCombinedSchedulePreview();\n    summary += `<div class=\"alert alert-success\"><h6><i class=\"fas fa-check-circle me-2\"></i>Ready to Create Season</h6><p class=\"mb-0\">This will create your ${config.type} season. ${config.current ? 'Will be set as current active season.' : 'Created as draft season.'}</p></div>`;\n    \n    const summaryElement = document.getElementById('seasonSummary');\n    if (summaryElement) {\n        summaryElement.innerHTML = summary;\n    }\n}\n\n/**\n * Generate combined schedule preview for final step\n */\nfunction generateCombinedSchedulePreview() {\n    if (!calendarState || !calendarState.weeks || calendarState.weeks.length === 0) {\n        return '';\n    }\n    \n    // Group weeks by week number and date\n    const weeksByNumber = {};\n    calendarState.weeks.forEach(week => {\n        if (!weeksByNumber[week.weekNumber]) {\n            weeksByNumber[week.weekNumber] = {\n                weekNumber: week.weekNumber,\n                date: week.date,\n                divisions: {}\n            };\n        }\n        \n        // Handle shared special weeks (TST, FUN, BYE) - they should appear for both divisions\n        if (['TST', 'FUN', 'BYE'].includes(week.type)) {\n            weeksByNumber[week.weekNumber].divisions['premier'] = {\n                type: week.type,\n                isPractice: week.isPractice || false\n            };\n            weeksByNumber[week.weekNumber].divisions['classic'] = {\n                type: week.type,\n                isPractice: week.isPractice || false\n            };\n        } else {\n            // Regular weeks and playoffs are division-specific\n            weeksByNumber[week.weekNumber].divisions[week.division] = {\n                type: week.type,\n                isPractice: week.isPractice || false\n            };\n        }\n    });\n    \n    // Convert to sorted array and ensure both divisions have entries for each week\n    const combinedWeeks = Object.values(weeksByNumber).sort((a, b) => a.weekNumber - b.weekNumber);\n    \n    // Fill in missing division entries with defaults\n    combinedWeeks.forEach(week => {\n        if (!week.divisions.premier) {\n            week.divisions.premier = { type: 'Regular', isPractice: false };\n        }\n        if (!week.divisions.classic) {\n            week.divisions.classic = { type: 'Regular', isPractice: false };\n        }\n    });\n    \n    let preview = `\n        <div class=\"row mb-4\">\n            <div class=\"col-12\">\n                <div class=\"card\">\n                    <div class=\"card-header\">\n                        <h6 class=\"mb-0\"><i class=\"fas fa-calendar-event me-2\"></i>Final Schedule Preview</h6>\n                    </div>\n                    <div class=\"card-body\">\n                        <div class=\"table-responsive\">\n                            <table class=\"table table-sm table-hover\">\n                                <thead>\n                                    <tr>\n                                        <th width=\"10%\">Week</th>\n                                        <th width=\"15%\">Date</th>\n                                        <th width=\"35%\">Premier Division</th>\n                                        <th width=\"35%\">Classic Division</th>\n                                        <th width=\"5%\">Status</th>\n                                    </tr>\n                                </thead>\n                                <tbody>`;\n    \n    combinedWeeks.forEach(week => {\n        const formattedDate = week.date.toLocaleDateString('en-US', { \n            month: 'short', \n            day: 'numeric' \n        });\n        \n        const premier = week.divisions.premier || { type: 'Regular', isPractice: false };\n        const classic = week.divisions.classic || { type: 'Regular', isPractice: false };\n        \n        // Format division info\n        const formatDivisionInfo = (divisionData, division) => {\n            let typeText = '';\n            let badgeClass = 'bg-secondary';\n            \n            switch (divisionData.type) {\n                case 'Regular':\n                    typeText = divisionData.isPractice ? 'Practice Session' : 'Regular Season';\n                    badgeClass = divisionData.isPractice ? 'bg-success' : 'bg-secondary';\n                    break;\n                case 'FUN':\n                    typeText = 'Fun Week';\n                    badgeClass = 'bg-warning';\n                    break;\n                case 'TST':\n                    typeText = 'TST Week';\n                    badgeClass = 'bg-info';\n                    break;\n                case 'PLAYOFF':\n                    typeText = 'Playoffs';\n                    badgeClass = 'bg-danger';\n                    break;\n                case 'MIXED':\n                    // For MIXED weeks, show the actual activity for each division\n                    if (division === 'premier') {\n                        typeText = 'Playoffs';\n                        badgeClass = 'bg-danger';\n                    } else {\n                        typeText = 'Regular Season';\n                        badgeClass = 'bg-secondary';\n                    }\n                    break;\n                case 'BYE':\n                    typeText = 'BYE Week';\n                    badgeClass = 'bg-dark';\n                    break;\n                default:\n                    typeText = divisionData.type;\n                    badgeClass = 'bg-secondary';\n            }\n            \n            return `<span class=\"badge ${badgeClass}\">${typeText}</span>`;\n        };\n        \n        // Determine if this is a special week\n        const isSpecialWeek = premier.type !== 'Regular' || classic.type !== 'Regular' || \n                             premier.isPractice || classic.isPractice;\n        \n        const statusIcon = isSpecialWeek ? \n            '<i class=\"fas fa-star text-warning\" title=\"Special Week\"></i>' : \n            '<i class=\"fas fa-calendar text-muted\" title=\"Regular Week\"></i>';\n        \n        preview += `\n            <tr ${isSpecialWeek ? 'class=\"table-warning\"' : ''}>\n                <td><strong>${week.weekNumber}</strong></td>\n                <td>${formattedDate}</td>\n                <td>${formatDivisionInfo(premier, 'premier')}</td>\n                <td>${formatDivisionInfo(classic, 'classic')}</td>\n                <td class=\"text-center\">${statusIcon}</td>\n            </tr>`;\n    });\n    \n    preview += `\n                                </tbody>\n                            </table>\n                        </div>\n                        <div class=\"mt-3\">\n                            <small class=\"text-muted\">\n                                <i class=\"fas fa-info-circle me-1\"></i>\n                                This preview shows how both divisions will be scheduled together. \n                                Special weeks are highlighted in yellow.\n                            </small>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>`;\n    \n    return preview;\n}\n\n/**\n * Helper to get form data for season creation\n */\nfunction getFormData() {\n    const leagueType = document.getElementById('leagueType').value;\n    const getId = id => document.getElementById(id);\n    const getVal = id => getId(id)?.value;\n    const getChecked = id => getId(id)?.checked;\n    \n    return {\n        season_name: getVal('seasonName'),\n        league_type: leagueType,\n        set_as_current: getChecked('setAsCurrent'),\n        season_start_date: calendarState.startDate.toISOString().split('T')[0],\n        regular_weeks: parseInt(document.getElementById('premierRegularWeeks')?.value) || 7,\n        total_weeks: parseInt(document.getElementById('totalSeasonWeeks')?.value) || 11,\n        week_configs: getUniqueWeekConfigs(),\n        premier_start_time: getVal('premierStartTime') || '08:20',\n        classic_start_time: getVal('classicStartTime') || '13:10',\n        match_duration: parseInt(getVal('matchDuration')) || 60,\n        fields: getWizardFieldConfig().map(f => f.name).join(',') || 'North,South',\n        enable_time_rotation: getChecked('enableTimeRotation') || true,\n        break_duration: parseInt(getVal('breakDuration')) || 10,\n        enable_practice_weeks: getChecked('classicHasPractice') || false,\n        practice_weeks: getClassicPracticeWeeks() || \"\",\n        ...(leagueType === 'Pub League' ? {\n            premier_teams: parseInt(getVal('premierTeamCount')) || 8,\n            classic_teams: parseInt(getVal('classicTeamCount')) || 4,\n            premier_regular_weeks: parseInt(getVal('premierRegularWeeks')) || 7,\n            premier_playoff_weeks: parseInt(getVal('premierPlayoffWeeks')) || 2,\n            classic_regular_weeks: parseInt(getVal('classicRegularWeeks')) || 8,\n            classic_playoff_weeks: parseInt(getVal('classicPlayoffWeeks')) || 1,\n            premier_has_fun_week: getChecked('includeFunWeek') || false,\n            premier_has_tst_week: getChecked('includeTstWeek') || false,\n            premier_has_bonus_week: getChecked('includeByeWeek') || false,\n            classic_has_practice_sessions: getChecked('classicHasPractice') || false,\n            classic_practice_weeks: getClassicPracticeWeeks() || \"\",\n            classic_practice_game_number: 1\n        } : {\n            ecs_fc_teams: parseInt(getVal('ecsFcTeamCount')) || 8,\n            ecs_fc_regular_weeks: parseInt(getVal('ecsFcRegularWeeks')) || 7,\n            ecs_fc_playoff_weeks: parseInt(getVal('ecsFcPlayoffWeeks')) || 1\n        })\n    };\n}\n\n/**\n * Create season using wizard data\n */\nfunction createSeason() {\n    if (!calendarState?.weeks?.length) {\n        alert('Please ensure the calendar is generated.');\n        return;\n    }\n    \n    // Debug: Check start time values before sending\n    console.log('Debug - Premier start time element:', document.getElementById('premierStartTime'));\n    console.log('Debug - Premier start time value:', document.getElementById('premierStartTime')?.value);\n    console.log('Debug - Classic start time element:', document.getElementById('classicStartTime'));  \n    console.log('Debug - Classic start time value:', document.getElementById('classicStartTime')?.value);\n    \n    // CONVERTED TO EVENT DELEGATION: Use data-action instead of onclick\n    const createButton = document.querySelector('[data-action=\"create-season\"]');\n    if (createButton) {\n        createButton.disabled = true;\n        createButton.innerHTML = '<i class=\"fas fa-spinner fa-spin me-2\"></i>Creating Season...';\n    }\n    \n    showLoadingModal('Creating Season', 'Please wait...');\n    \n    const formData = getFormData();\n    console.log('Sending season data:', formData);\n    \n    fetch(window.autoScheduleUrls?.createSeasonWizard || '/auto-schedule/create-season', {\n        method: 'POST',\n        headers: {\n            'Content-Type': 'application/json', \n            'X-CSRFToken': document.querySelector('meta[name=csrf-token]')?.getAttribute('content') || ''\n        },\n        body: JSON.stringify(formData)\n    })\n    .then(response => response.json())\n    .then(data => {\n        hideLoadingModal();\n        if (data.success) {\n            showSuccessModal('Season Created!', 'Redirecting...', () => {\n                window.location.href = data.redirect_url || '/auto-schedule/';\n            });\n        } else {\n            if (createButton) {\n                createButton.disabled = false;\n                createButton.innerHTML = '<i class=\"fas fa-check me-2\"></i>Create Season';\n            }\n            showErrorModal('Error', data.error || 'An error occurred.');\n        }\n    })\n    .catch(error => {\n        console.error('Season creation error:', error);\n        hideLoadingModal();\n        if (createButton) {\n            createButton.disabled = false;\n            createButton.innerHTML = '<i class=\"fas fa-check me-2\"></i>Create Season';\n        }\n        showErrorModal('Network Error', 'Failed to create season.');\n    });\n}\n\n// Add spinner CSS when script loads\naddSpinnerCSS();\n\n/**\n * Generic modal utility\n */\nfunction showModal(id, title, message, type = 'info', callback = null) {\n    const config = {\n        loading: { icon: '<div class=\"spinner-border text-primary mb-3\"><span class=\"visually-hidden\">Loading...</span></div>', color: '', backdrop: 'data-bs-backdrop=\"static\"', footer: '', autoClose: false },\n        success: { icon: '<i class=\"ti ti-check-circle me-2\"></i>', color: 'text-success', backdrop: '', footer: '', autoClose: 2000 },\n        error: { icon: '<i class=\"ti ti-alert-circle me-2\"></i>', color: 'text-danger', backdrop: '', footer: '<div class=\"modal-footer border-0\"><button type=\"button\" class=\"btn btn-secondary\" data-bs-dismiss=\"modal\">Close</button></div>', autoClose: false }\n    };\n\n    const cfg = config[type] || config.info;\n    const modalHtml = `<div class=\"modal fade\" id=\"${id}\" tabindex=\"-1\" ${cfg.backdrop}><div class=\"modal-dialog modal-dialog-centered\"><div class=\"modal-content\"><div class=\"modal-header border-0\"><h5 class=\"modal-title ${cfg.color}\">${cfg.icon}${title}</h5>${type === 'error' ? '<button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\"></button>' : ''}</div><div class=\"modal-body ${type === 'loading' ? 'text-center' : ''} py-4\"><p class=\"mb-0\">${message}</p></div>${cfg.footer}</div></div></div>`;\n\n    document.getElementById(id)?.remove();\n    document.body.insertAdjacentHTML('beforeend', modalHtml);\n\n    ModalManager.show(id);\n    \n    if (cfg.autoClose) {\n        setTimeout(() => {\n            bootstrap.Modal.getInstance(document.getElementById(id))?.hide();\n            if (callback) callback();\n        }, cfg.autoClose);\n    }\n}\n\nfunction showLoadingModal(title, message) { showModal('loadingModal', title, message, 'loading'); }\nfunction hideLoadingModal() { document.getElementById('loadingModal')?.remove(); }\nfunction showSuccessModal(title, message, callback) { showModal('successModal', title, message, 'success', callback); }\nfunction showErrorModal(title, message) { showModal('errorModal', title, message, 'error'); }\n\n// ========================================\n// Enhanced Wizard Functions\n// ========================================\n\n/**\n * Apply quick setup templates for wizard configuration\n */\nfunction applyWizardTemplate(templateType) {\n    switch(templateType) {\n        case 'standard':\n            // Standard setup: Premier 8:20, Classic 1:10, Time rotation enabled\n            document.getElementById('premierStartTime').value = '08:20';\n            document.getElementById('classicStartTime').value = '13:10';\n            document.getElementById('matchDuration').value = '70';\n            document.getElementById('breakDuration').value = '10';\n            document.getElementById('enableTimeRotation').checked = true;\n            document.getElementById('classicHasPractice').checked = false;\n            // Hide practice weeks selection using CSS class\n            document.getElementById('practice-weeks-selection').classList.add('d-none');\n            break;\n\n        case 'classic-practice':\n            // Classic practice setup: Include practice weeks 1 & 3\n            document.getElementById('premierStartTime').value = '08:20';\n            document.getElementById('classicStartTime').value = '13:10';\n            document.getElementById('matchDuration').value = '70';\n            document.getElementById('breakDuration').value = '10';\n            document.getElementById('enableTimeRotation').checked = true;\n            document.getElementById('classicHasPractice').checked = true;\n            // Show practice weeks selection using CSS class\n            document.getElementById('practice-weeks-selection').classList.remove('d-none');\n\n            // Check weeks 1 and 3 for practice\n            setTimeout(() => {\n                updateWizardPracticeWeekOptions();\n                const week1 = document.getElementById('wizard-practice-week-1');\n                const week3 = document.getElementById('wizard-practice-week-3');\n                if (week1) week1.checked = true;\n                if (week3) week3.checked = true;\n            }, 100);\n            break;\n\n        case 'custom':\n            // Custom setup - just clear and let user configure\n            document.getElementById('classicHasPractice').checked = false;\n            // Hide practice weeks selection using CSS class\n            document.getElementById('practice-weeks-selection').classList.add('d-none');\n            break;\n    }\n    \n    // Show success feedback\n    const template = templateType.charAt(0).toUpperCase() + templateType.slice(1);\n    showToast(`${template} template applied successfully!`, 'success');\n}\n\n/**\n * Add new field configuration in wizard\n */\nfunction addWizardField() {\n    const container = document.getElementById('wizard-field-configurations');\n    const fieldCount = container.children.length;\n    \n    const fieldItem = document.createElement('div');\n    fieldItem.className = 'wizard-field-item mb-3';\n    \n    // CONVERTED TO EVENT DELEGATION: Removed onclick, using data-action only\n    fieldItem.innerHTML = `\n        <div class=\"row\">\n            <div class=\"col-md-8\">\n                <label class=\"form-label\">Field Name</label>\n                <input type=\"text\" class=\"form-control wizard-field-name\" placeholder=\"Field ${fieldCount + 1}\" required>\n                <div class=\"form-text\">e.g., \"North Field\", \"South Field\", \"Main Pitch\"</div>\n            </div>\n            <div class=\"col-md-2 d-flex align-items-end\">\n                <button type=\"button\" class=\"btn btn-outline-danger\" data-action=\"remove-wizard-field\">\n                    <i class=\"fas fa-times\"></i>\n                </button>\n            </div>\n        </div>\n    `;\n    \n    container.appendChild(fieldItem);\n    updateWizardFieldRemoveButtons();\n}\n\n/**\n * Remove field configuration in wizard\n */\nfunction removeWizardField(button) {\n    const fieldItems = document.querySelectorAll('.wizard-field-item');\n    if (fieldItems.length > 2) { // Keep at least 2 fields\n        button.closest('.wizard-field-item').remove();\n        updateWizardFieldRemoveButtons();\n    }\n}\n\n/**\n * Update field remove button states\n */\nfunction updateWizardFieldRemoveButtons() {\n    const fieldItems = document.querySelectorAll('.wizard-field-item');\n    const removeButtons = document.querySelectorAll('[data-action=\"remove-field\"]');\n\n    removeButtons.forEach(button => {\n        button.disabled = fieldItems.length <= 2;\n    });\n}\n\n/**\n * Update practice week options based on season length\n */\nfunction updateWizardPracticeWeekOptions() {\n    // Try to get season length from various sources\n    let weekCount = 7; // default\n    \n    // Check if we're in structure configuration step\n    const premierWeeks = document.getElementById('premierRegularWeeks');\n    const classicWeeks = document.getElementById('classicRegularWeeks');\n    const totalWeeks = document.getElementById('totalSeasonWeeks');\n    \n    if (premierWeeks && classicWeeks) {\n        weekCount = Math.max(parseInt(premierWeeks.value) || 7, parseInt(classicWeeks.value) || 8);\n    } else if (totalWeeks) {\n        weekCount = Math.min(8, parseInt(totalWeeks.value || 11) - 3); // For classic practice weeks\n    }\n    \n    // Handle only classic practice week container (Step 2)\n    const container = document.getElementById('classicPracticeWeekCheckboxes');\n    \n    if (container) {\n        container.innerHTML = '';\n        \n        for (let i = 1; i <= weekCount; i++) {\n            const div = document.createElement('div');\n            div.className = 'form-check form-check-inline';\n            const checked = (i === 1 || i === 3) ? 'checked' : '';\n            \n            div.innerHTML = `\n                <input class=\"form-check-input\" type=\"checkbox\" id=\"practice-week-${i}\" value=\"${i}\" ${checked}>\n                <label class=\"form-check-label\" for=\"practice-week-${i}\">Week ${i}</label>\n            `;\n            container.appendChild(div);\n        }\n    }\n}\n\n\n/**\n * Get wizard field configuration data\n */\nfunction getWizardFieldConfig() {\n    const fieldItems = document.querySelectorAll('.wizard-field-item');\n    if (fieldItems.length === 0) {\n        // Return default fields if no wizard fields found\n        return [{ name: 'North' }, { name: 'South' }];\n    }\n    \n    const fieldConfig = [];\n    \n    fieldItems.forEach(item => {\n        const name = item.querySelector('.wizard-field-name')?.value?.trim();\n        \n        if (name) {\n            fieldConfig.push({\n                name: name\n            });\n        }\n    });\n    \n    // If no valid fields found, return defaults\n    return fieldConfig.length > 0 ? fieldConfig : [{ name: 'North' }, { name: 'South' }];\n}\n\n/**\n * Get unique week configurations for both divisions\n */\nfunction getUniqueWeekConfigs() {\n    const uniqueWeeks = new Map();\n    \n    // Process all weeks and create entries for both divisions where appropriate\n    calendarState.weeks.forEach(w => {\n        const weekKey = `${w.weekNumber}-${w.division}`;\n        \n        if (!uniqueWeeks.has(weekKey)) {\n            uniqueWeeks.set(weekKey, {\n                date: w.date.toISOString().split('T')[0], \n                type: w.type.toUpperCase(), \n                week_number: w.weekNumber,\n                division: w.division, // Keep division for backend filtering\n                is_practice: w.isPractice || false\n            });\n        }\n    });\n    \n    // Convert to array and sort by week number, then by division\n    return Array.from(uniqueWeeks.values()).sort((a, b) => {\n        if (a.week_number !== b.week_number) {\n            return a.week_number - b.week_number;\n        }\n        return a.division.localeCompare(b.division);\n    });\n}\n\n/**\n * Get classic practice weeks configuration from Step 2\n */\nfunction getClassicPracticeWeeks() {\n    const enablePractice = document.getElementById('classicHasPractice');\n    if (!enablePractice || !enablePractice.checked) {\n        return null;\n    }\n    \n    const checkboxes = document.querySelectorAll('#classicPracticeWeekCheckboxes input[type=\"checkbox\"]:checked');\n    const practiceWeeks = Array.from(checkboxes).map(cb => cb.value);\n    \n    return practiceWeeks.length > 0 ? practiceWeeks.join(',') : null;\n}\n\n/**\n * Enhanced validation for wizard step 4\n */\nfunction validateWizardStep4() {\n    const premierTime = document.getElementById('premierStartTime').value;\n    const classicTime = document.getElementById('classicStartTime').value;\n    const matchDuration = document.getElementById('matchDuration').value;\n    const fieldConfig = getWizardFieldConfig();\n    \n    if (!premierTime || !classicTime) {\n        showErrorModal('Configuration Error', 'Both Premier and Classic start times are required.');\n        return false;\n    }\n    \n    if (!matchDuration || matchDuration < 30 || matchDuration > 120) {\n        showErrorModal('Configuration Error', 'Match duration must be between 30 and 120 minutes.');\n        return false;\n    }\n    \n    if (fieldConfig.length < 2) {\n        showErrorModal('Configuration Error', 'At least 2 fields are required for back-to-back scheduling.');\n        return false;\n    }\n    \n    // Check for duplicate field names\n    const fieldNames = fieldConfig.map(f => f.name.toLowerCase());\n    const uniqueNames = [...new Set(fieldNames)];\n    if (fieldNames.length !== uniqueNames.length) {\n        showErrorModal('Configuration Error', 'Field names must be unique.');\n        return false;\n    }\n    \n    // Check for empty field names\n    if (fieldConfig.some(f => !f.name || f.name.trim() === '')) {\n        showErrorModal('Configuration Error', 'All fields must have names.');\n        return false;\n    }\n    \n    return true;\n}\n\n/**\n * Show toast notification\n */\nfunction showToast(message, type = 'info') {\n    // Simple toast implementation\n    const toast = document.createElement('div');\n\n    // REFACTORED: Use utility classes for toast styling\n    // - z-index-9999: Ensures toast appears above all content including modals (from layout-utils.css)\n    // - min-w-300: Ensures readable toast width across different message lengths (from sizing-utils.css)\n    toast.className = `alert alert-${type} position-fixed top-0 end-0 m-3 z-index-9999 min-w-300`;\n\n    // CONVERTED TO EVENT DELEGATION: Replaced onclick with data-action\n    toast.innerHTML = `\n        <i class=\"fas fa-${type === 'success' ? 'check' : 'info'}-circle me-2\"></i>\n        ${message}\n        <button type=\"button\" class=\"btn-close\" data-action=\"close-toast\"></button>\n    `;\n\n    document.body.appendChild(toast);\n\n    // Auto-remove after 3 seconds\n    setTimeout(() => {\n        if (toast.parentElement) {\n            toast.remove();\n        }\n    }, 3000);\n}\n\n// ========================================\n// Enhanced Season Structure Functions\n// ========================================\n\n/**\n * Update season structure breakdown based on total weeks\n */\nfunction updateSeasonStructure() {\n    const totalWeeks = parseInt(document.getElementById('totalSeasonWeeks').value);\n    const breakdown = document.getElementById('seasonBreakdown');\n    \n    // Fixed playoff weeks\n    const premierPlayoffs = 2;\n    const classicPlayoffs = 1;\n    const specialWeeksCount = getEnabledSpecialWeeksCount();\n    \n    // Calculate regular weeks based on total season length\n    // Total weeks = regular weeks + playoff weeks + special weeks\n    // For Premier: totalWeeks = premierRegular + 2 + specialWeeks\n    // For Classic: totalWeeks = classicRegular + 1 + specialWeeks\n    \n    const premierRegular = totalWeeks - premierPlayoffs - specialWeeksCount;\n    const classicRegular = totalWeeks - classicPlayoffs - specialWeeksCount;\n    \n    // Update the form inputs\n    const premierRegularInput = document.getElementById('premierRegularWeeks');\n    const classicRegularInput = document.getElementById('classicRegularWeeks');\n    \n    if (premierRegularInput) {\n        premierRegularInput.value = premierRegular;\n    }\n    if (classicRegularInput) {\n        classicRegularInput.value = classicRegular;\n    }\n    \n    // Update the breakdown display\n    breakdown.innerHTML = `\n        <div><strong>Premier:</strong> ${premierRegular} regular + ${premierPlayoffs} playoff weeks</div>\n        <div><strong>Classic:</strong> ${classicRegular} regular + ${classicPlayoffs} playoff week</div>\n        <div class=\"text-muted\"><small>Plus ${specialWeeksCount} shared special weeks</small></div>\n        <div class=\"text-muted\"><small>Total season length: ${totalWeeks} weeks</small></div>\n    `;\n    \n    // Regenerate calendar if we're on step 3\n    if (typeof generateCalendarPreview === 'function' && currentStep === 3) {\n        generateCalendarPreview(true);\n    }\n}\n\n/**\n * Count enabled special weeks\n */\nfunction getEnabledSpecialWeeksCount() {\n    let count = 0;\n    if (document.getElementById('includeTstWeek')?.checked) count++;\n    if (document.getElementById('includeFunWeek')?.checked) count++;\n    if (document.getElementById('includeByeWeek')?.checked) count++;\n    return count;\n}\n\n// Special week placement selectors removed - users can drag & drop in calendar preview\n\n\n/**\n * CONVERTED TO EVENT DELEGATION: DOMContentLoaded handler removed\n * All event listeners are now handled by the centralized EventDelegation system\n * via data-action, data-on-change, and data-on-input attributes\n *\n * Initialization functions are called when needed (e.g., when wizard opens)\n * Change events are handled through EventDelegation.handleChange() via data-on-change\n */\n\n// Initialize on page load if needed\nfunction initAutoScheduleWizard() {\n    // Page guard - only run on auto schedule wizard page\n    if (!document.getElementById('totalSeasonWeeks')) {\n        return; // Not on auto schedule wizard page\n    }\n\n    // Initialize field remove button states\n    updateWizardFieldRemoveButtons();\n\n    // Initialize season structure calculations\n    updateSeasonStructure();\n    updateWizardPracticeWeekOptions();\n}\n\nif (document.readyState === 'loading') {\n    document.addEventListener('DOMContentLoaded', initAutoScheduleWizard);\n} else {\n    // DOM already loaded\n    initAutoScheduleWizard();\n}\n","/**\n * ============================================================================\n * FEATURE TOGGLES PAGE - JAVASCRIPT\n * ============================================================================\n *\n * Handles feature toggle interactions using data-attribute hooks\n * Follows event delegation pattern with state-driven styling\n *\n * ARCHITECTURAL COMPLIANCE:\n * - Event delegation pattern\n * - Data-attribute based hooks (never bind to styling classes)\n * - State-driven styling with classList\n * - No inline event handlers\n *\n * ============================================================================\n */\n\n(function() {\n  'use strict';\n\n  // CSRF Token\n  const csrfToken = document.querySelector('meta[name=\"csrf-token\"]')?.getAttribute('content');\n\n  /**\n   * Initialize feature toggles on DOM load\n   */\n  document.addEventListener('DOMContentLoaded', function() {\n    initializeToggleHandlers();\n    initializeFormHandlers();\n  });\n\n  /**\n   * Initialize toggle switch handlers\n   */\n  function initializeToggleHandlers() {\n    // Event delegation for all toggle switches\n    document.addEventListener('change', function(e) {\n      const toggle = e.target.closest('[data-setting-toggle]');\n      if (!toggle) return;\n\n      const settingKey = toggle.dataset.settingKey;\n      const isEnabled = toggle.checked;\n\n      handleToggleChange(toggle, settingKey, isEnabled);\n    });\n  }\n\n  /**\n   * Handle toggle switch change\n   */\n  function handleToggleChange(toggle, settingKey, isEnabled) {\n    const statusLabel = toggle.parentElement.querySelector('[data-toggle-status]');\n    const iconElement = document.querySelector(`[data-setting-row][data-setting-key=\"${settingKey}\"] .c-setting-row__status-icon`);\n\n    // Show loading state\n    toggle.disabled = true;\n    if (statusLabel) {\n      statusLabel.textContent = 'Updating...';\n    }\n\n    // Send request to server\n    fetch('/admin_panel/toggle_setting', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n        'X-CSRFToken': csrfToken\n      },\n      body: JSON.stringify({\n        key: settingKey\n      })\n    })\n    .then(response => response.json())\n    .then(data => {\n      if (data.success) {\n        // Update toggle and status to match server state\n        toggle.checked = data.new_value;\n        if (statusLabel) {\n          statusLabel.textContent = data.new_value ? 'Enabled' : 'Disabled';\n        }\n\n        // Update the icon in the left column\n        if (iconElement) {\n          if (data.new_value) {\n            iconElement.classList.remove('ti-toggle-left', 'c-setting-row__status-icon--disabled');\n            iconElement.classList.add('ti-toggle-right', 'c-setting-row__status-icon--enabled');\n          } else {\n            iconElement.classList.remove('ti-toggle-right', 'c-setting-row__status-icon--enabled');\n            iconElement.classList.add('ti-toggle-left', 'c-setting-row__status-icon--disabled');\n          }\n        }\n\n        // Show success message\n        showToast('success', 'Setting Updated', data.message);\n      } else {\n        // Revert the toggle and status\n        toggle.checked = !isEnabled;\n        if (statusLabel) {\n          statusLabel.textContent = !isEnabled ? 'Enabled' : 'Disabled';\n        }\n\n        // Show error message\n        showToast('error', 'Error', data.message || 'Failed to update setting');\n      }\n    })\n    .catch(error => {\n      console.error('Error:', error);\n\n      // Revert the toggle and status\n      toggle.checked = !isEnabled;\n      if (statusLabel) {\n        statusLabel.textContent = !isEnabled ? 'Enabled' : 'Disabled';\n      }\n\n      showToast('error', 'Network Error', 'Failed to communicate with server');\n    })\n    .finally(() => {\n      toggle.disabled = false;\n    });\n  }\n\n  /**\n   * Initialize form submission handlers\n   */\n  function initializeFormHandlers() {\n    // Event delegation for form submissions\n    document.addEventListener('submit', function(e) {\n      const form = e.target.closest('[data-setting-form]');\n      if (!form) return;\n\n      const submitBtn = form.querySelector('.c-setting-form__submit');\n      if (!submitBtn) return;\n\n      const originalIcon = submitBtn.innerHTML;\n\n      // Show loading state\n      submitBtn.disabled = true;\n      submitBtn.innerHTML = '<div class=\"spinner-border spinner-border-sm\" role=\"status\"><span class=\"visually-hidden\">Loading...</span></div>';\n\n      // Note: Form will submit normally, this is just for UI feedback\n      // The backend will handle the actual update\n    });\n  }\n\n  /**\n   * Show toast notification\n   * Uses SweetAlert2 if available, falls back to alert\n   */\n  function showToast(icon, title, text) {\n    if (typeof Swal !== 'undefined') {\n      Swal.fire({\n        icon: icon,\n        title: title,\n        text: text,\n        timer: 2000,\n        showConfirmButton: false,\n        toast: true,\n        position: 'top-end'\n      });\n    } else {\n      // Fallback to alert if SweetAlert2 not available\n      alert(`${title}: ${text}`);\n    }\n  }\n\n})();\n","// Announcement Form - Live Preview and Character Counter\ndocument.addEventListener('DOMContentLoaded', function() {\n    // Page guard - only run on announcement form page\n    const titleInput = document.getElementById('title');\n    const contentInput = document.getElementById('content');\n    if (!titleInput || !contentInput) {\n        return; // Not on announcement form page\n    }\n\n    const prioritySelect = document.getElementById('priority');\n    const typeSelect = document.getElementById('announcement_type');\n\n    const previewTitle = document.getElementById('preview-title');\n    const previewBody = document.getElementById('preview-body');\n    const previewPriority = document.getElementById('preview-priority');\n    const previewType = document.getElementById('preview-type');\n\n    // Additional guard for preview elements\n    if (!previewTitle || !previewBody) {\n        return; // Preview elements not present\n    }\n\n    function updatePreview() {\n        previewTitle.textContent = titleInput.value || 'Announcement Title';\n        previewBody.textContent = contentInput.value || 'Announcement content will appear here...';\n        previewPriority.textContent = prioritySelect.value.charAt(0).toUpperCase() + prioritySelect.value.slice(1);\n        previewType.textContent = typeSelect.value.charAt(0).toUpperCase() + typeSelect.value.slice(1);\n\n        // Update priority badge color\n        previewPriority.className = 'badge ';\n        switch(prioritySelect.value) {\n            case 'high':\n                previewPriority.className += 'bg-danger';\n                break;\n            case 'medium':\n                previewPriority.className += 'bg-warning';\n                break;\n            case 'low':\n                previewPriority.className += 'bg-secondary';\n                break;\n            default:\n                previewPriority.className += 'bg-info';\n        }\n    }\n\n    titleInput.addEventListener('input', updatePreview);\n    contentInput.addEventListener('input', updatePreview);\n    prioritySelect.addEventListener('change', updatePreview);\n    typeSelect.addEventListener('change', updatePreview);\n\n    // Character count for content\n    const maxChars = 2000;\n    const charCount = document.createElement('div');\n    charCount.className = 'form-text';\n    charCount.innerHTML = `<small>Characters: <span id=\"char-count\">${contentInput.value.length}</span>/${maxChars}</small>`;\n    contentInput.parentNode.appendChild(charCount);\n\n    contentInput.addEventListener('input', function() {\n        document.getElementById('char-count').textContent = this.value.length;\n        if (this.value.length > maxChars * 0.9) {\n            charCount.className = 'form-text text-warning';\n        } else if (this.value.length > maxChars) {\n            charCount.className = 'form-text text-danger';\n        } else {\n            charCount.className = 'form-text';\n        }\n    });\n\n    // Delete announcement handler\n    document.querySelectorAll('[data-action=\"delete-announcement\"]').forEach(btn => {\n        btn.addEventListener('click', function() {\n            const announcementId = this.dataset.id;\n            if (confirm('Are you sure you want to delete this announcement? This action cannot be undone.')) {\n                const form = document.createElement('form');\n                form.method = 'POST';\n                form.action = btn.getAttribute('data-url') || `/admin-panel/communication/announcements/${announcementId}/delete`;\n\n                const csrfToken = document.createElement('input');\n                csrfToken.type = 'hidden';\n                csrfToken.name = 'csrf_token';\n                csrfToken.value = document.querySelector('input[name=\"csrf_token\"]').value;\n                form.appendChild(csrfToken);\n\n                document.body.appendChild(form);\n                form.submit();\n            }\n        });\n    });\n});\n","/**\n * Mobile Draft System Enhancement\n *\n * Optimizes the draft system for touch interactions on mobile devices.\n * Provides alternatives to drag-and-drop and improves touch target sizing.\n *\n * Features:\n * - Tap-to-select instead of drag-and-drop\n * - Long-press for player details\n * - Swipe navigation between teams\n * - Larger touch targets for player cards\n * - Mobile-optimized pitch view\n * - Quick draft mode for mobile\n *\n * REFACTORED: All inline style manipulations replaced with CSS classes\n * See /app/static/css/utilities/draft-system-utils.css for utility classes\n */\n\n(function (window) {\n  'use strict';\n\n  const MobileDraft = {\n    selectedPlayer: null,\n    selectedTeam: null,\n\n    /**\n     * Check if device is mobile\n     */\n    isMobile: function () {\n      return window.innerWidth < 768;\n    },\n\n    /**\n     * Replace drag-and-drop with tap-to-select on mobile\n     */\n    setupTapToSelect: function () {\n      if (!this.isMobile()) return;\n\n      document.querySelectorAll('[data-component=\"player-card\"], [data-component=\"player-item\"]').forEach(card => {\n        // Remove drag attributes on mobile\n        card.removeAttribute('draggable');\n        card.classList.add('cursor-pointer');\n\n        // Add touch-friendly selection\n        card.addEventListener('click', (e) => {\n          // Prevent if clicking a button inside\n          if (e.target.closest('button, a')) return;\n\n          const playerId = card.dataset.playerId || card.id;\n\n          // Toggle selection\n          if (card.classList.contains('mobile-selected')) {\n            card.classList.remove('mobile-selected');\n            this.selectedPlayer = null;\n\n            if (window.Haptics) window.Haptics.deselection();\n          } else {\n            // Deselect other cards\n            document.querySelectorAll('.mobile-selected').forEach(c => {\n              c.classList.remove('mobile-selected');\n            });\n\n            // Select this card\n            card.classList.add('mobile-selected');\n            this.selectedPlayer = playerId;\n\n            if (window.Haptics) window.Haptics.selection();\n\n            // Show quick draft panel\n            this.showQuickDraftPanel(card);\n          }\n        });\n\n        // Long-press for player details\n        if (window.Hammer) {\n          const hammer = new Hammer(card);\n          hammer.get('press').set({ time: 500 });\n\n          hammer.on('press', () => {\n            if (window.Haptics) window.Haptics.longPress();\n\n            // Find and click view profile button\n            const viewBtn = card.querySelector('[data-action=\"view-profile\"]');\n            if (viewBtn) {\n              viewBtn.click();\n            } else {\n              // Show player info modal\n              const playerId = card.dataset.playerId;\n              if (playerId && window.showPlayerInfo) {\n                window.showPlayerInfo(playerId);\n              }\n            }\n          });\n        }\n      });\n    },\n\n    /**\n     * Show quick draft panel when player is selected\n     * REFACTORED: Replaced style.zIndex with z-index-1060 utility class\n     */\n    showQuickDraftPanel: function (card) {\n      // Remove existing panel\n      const existing = document.querySelector('.mobile-quick-draft-panel');\n      if (existing) existing.remove();\n\n      // Create quick draft panel\n      const panel = document.createElement('div');\n      // REFACTORED: Added z-index-1060 class instead of inline style.zIndex\n      panel.className = 'mobile-quick-draft-panel position-fixed bottom-0 start-0 end-0 bg-body border-top border-primary border-2 p-3 translate-y-full transition-transform z-index-1060';\n\n      // Get player info from card\n      const playerName = card.querySelector('[data-component=\"player-name\"], .fw-semibold, h6')?.textContent || 'Player';\n      const playerId = card.dataset.playerId;\n\n      panel.innerHTML = `\n        <div class=\"d-flex align-items-center justify-content-between mb-3\">\n          <div class=\"d-flex align-items-center gap-2\">\n            <img src=\"${card.querySelector('img')?.src || ''}\"\n                 class=\"rounded-circle\"\n                 width=\"40\" height=\"40\"\n                 onerror=\"this.src='/static/assets/img/default-avatar.png'\">\n            <div>\n              <div class=\"fw-bold\">${playerName}</div>\n              <div class=\"small text-muted\">Select team to draft</div>\n            </div>\n          </div>\n          <button class=\"btn btn-sm btn-light\" onclick=\"this.closest('.mobile-quick-draft-panel').remove()\">\n            <i class=\"ti ti-x\"></i>\n          </button>\n        </div>\n        <div class=\"d-grid gap-2\">\n          <button class=\"btn btn-success btn-lg\" onclick=\"MobileDraft.quickDraft('${playerId}', 'default')\">\n            <i class=\"ti ti-check\"></i> Quick Draft\n          </button>\n          <button class=\"btn btn-outline-primary\" onclick=\"MobileDraft.showTeamSelector('${playerId}')\">\n            <i class=\"ti ti-users\"></i> Select Team\n          </button>\n        </div>\n      `;\n\n      document.body.appendChild(panel);\n\n      // Animate in\n      setTimeout(() => {\n        panel.classList.remove('translate-y-full');\n      }, 10);\n\n      if (window.Haptics) window.Haptics.light();\n    },\n\n    /**\n     * Quick draft to default team\n     */\n    quickDraft: function (playerId, teamId) {\n      // Find draft button and click it\n      const draftBtn = document.querySelector(`[data-player-id=\"${playerId}\"] [data-action=\"draft-player\"]`);\n      if (draftBtn) {\n        draftBtn.click();\n\n        if (window.Haptics) window.Haptics.drafted();\n\n        // Close panel\n        const panel = document.querySelector('.mobile-quick-draft-panel');\n        if (panel) panel.remove();\n      }\n    },\n\n    /**\n     * Show team selector modal\n     */\n    showTeamSelector: function (playerId) {\n      // Find and click team selection modal trigger\n      const selectBtn = document.querySelector(`[data-player-id=\"${playerId}\"] [data-bs-toggle=\"modal\"]`);\n      if (selectBtn) {\n        selectBtn.click();\n      }\n\n      // Close quick draft panel\n      const panel = document.querySelector('.mobile-quick-draft-panel');\n      if (panel) panel.remove();\n    },\n\n    /**\n     * Optimize pitch view for mobile\n     * REFACTORED: Replaced style.webkitOverflowScrolling with webkit-overflow-scrolling-touch class\n     * NOTE: Lines 217-218 and 228 kept dynamic for real-time pinch-to-zoom gesture tracking\n     */\n    optimizePitchView: function () {\n      if (!this.isMobile()) return;\n\n      const pitch = document.querySelector('.pitch-container, .pitch-view, #pitch');\n      if (!pitch) return;\n\n      // Make pitch scrollable horizontally on mobile\n      // REFACTORED: Added webkit-overflow-scrolling-touch class instead of inline style\n      pitch.classList.add('overflow-x-auto', 'webkit-overflow-scrolling-touch');\n\n      // Increase player marker sizes on mobile\n      pitch.querySelectorAll('.position-player, .player-marker').forEach(marker => {\n        marker.classList.add('mobile-touch-target', 'fs-6');\n      });\n\n      // Make position zones larger on mobile\n      pitch.querySelectorAll('.position-zone, .zone').forEach(zone => {\n        zone.classList.add('mobile-zone-enhanced', 'fs-7');\n      });\n\n      // Add pinch-to-zoom if Hammer.js is available\n      if (window.Hammer) {\n        const hammer = new Hammer(pitch);\n        hammer.get('pinch').set({ enable: true });\n\n        let lastScale = 1;\n\n        hammer.on('pinchstart', () => {\n          pitch.classList.remove('transition-transform');\n        });\n\n        hammer.on('pinchmove', (ev) => {\n          const scale = Math.max(1, Math.min(lastScale * ev.scale, 3));\n          // KEEP DYNAMIC: Real-time pinch gesture tracking requires inline styles\n          // These cannot be replaced with classes as they change continuously during gesture\n          pitch.style.transform = `scale(${scale})`;\n          pitch.style.transformOrigin = 'center center';\n        });\n\n        hammer.on('pinchend', (ev) => {\n          pitch.classList.add('transition-transform');\n          lastScale = Math.max(1, Math.min(lastScale * ev.scale, 3));\n\n          // Reset after 5 seconds\n          if (lastScale > 1.2) {\n            setTimeout(() => {\n              // KEEP DYNAMIC: Resetting transform after zoom timeout\n              pitch.style.transform = 'scale(1)';\n              lastScale = 1;\n            }, 5000);\n          }\n        });\n      }\n    },\n\n    /**\n     * Swipe navigation between teams\n     */\n    setupTeamSwipe: function () {\n      if (!this.isMobile() || !window.Hammer) return;\n\n      const teamsContainer = document.querySelector('.teams-container, .accordion');\n      if (!teamsContainer) return;\n\n      const hammer = new Hammer(teamsContainer);\n      hammer.get('swipe').set({ direction: Hammer.DIRECTION_HORIZONTAL });\n\n      const teams = Array.from(teamsContainer.querySelectorAll('.accordion-item, .team-card'));\n\n      hammer.on('swipeleft', () => {\n        // Go to next team\n        const activeIndex = teams.findIndex(team =>\n          team.querySelector('.accordion-collapse.show') || team.classList.contains('active')\n        );\n\n        if (activeIndex < teams.length - 1) {\n          const nextTeam = teams[activeIndex + 1];\n          const btn = nextTeam.querySelector('.accordion-button, .team-toggle');\n          if (btn) btn.click();\n\n          if (window.Haptics) window.Haptics.swipe();\n        }\n      });\n\n      hammer.on('swiperight', () => {\n        // Go to previous team\n        const activeIndex = teams.findIndex(team =>\n          team.querySelector('.accordion-collapse.show') || team.classList.contains('active')\n        );\n\n        if (activeIndex > 0) {\n          const prevTeam = teams[activeIndex - 1];\n          const btn = prevTeam.querySelector('.accordion-button, .team-toggle');\n          if (btn) btn.click();\n\n          if (window.Haptics) window.Haptics.swipe();\n        }\n      });\n    },\n\n    /**\n     * Optimize player remove buttons for touch\n     */\n    optimizeRemoveButtons: function () {\n      if (!this.isMobile()) return;\n\n      document.querySelectorAll('[data-action=\"remove-player\"]').forEach(btn => {\n        // Make buttons larger\n        btn.classList.add('mobile-touch-target', 'p-3');\n\n        // Add haptic feedback\n        btn.addEventListener('click', () => {\n          if (window.Haptics) window.Haptics.delete();\n        });\n\n        // Add confirmation for touch\n        const originalOnclick = btn.onclick;\n        btn.onclick = (e) => {\n          if (this.isMobile()) {\n            if (window.Swal) {\n              Swal.fire({\n                title: 'Remove Player?',\n                text: 'Are you sure you want to remove this player from the team?',\n                icon: 'warning',\n                showCancelButton: true,\n                confirmButtonText: 'Yes, remove',\n                cancelButtonText: 'Cancel',\n                confirmButtonColor: (typeof ECSTheme !== 'undefined') ? ECSTheme.getColor('danger') : '#dc3545'\n              }).then((result) => {\n                if (result.isConfirmed) {\n                  if (originalOnclick) originalOnclick.call(btn, e);\n                  if (window.Haptics) window.Haptics.delete();\n                }\n              });\n            } else {\n              if (confirm('Remove this player?')) {\n                if (originalOnclick) originalOnclick.call(btn, e);\n                if (window.Haptics) window.Haptics.delete();\n              }\n            }\n            return false;\n          } else {\n            if (originalOnclick) return originalOnclick.call(btn, e);\n          }\n        };\n      });\n    },\n\n    /**\n     * Optimize search and filters for mobile\n     * REFACTORED: Replaced inline style.top and style.zIndex with sticky-filter-mobile class\n     */\n    optimizeFilters: function () {\n      if (!this.isMobile()) return;\n\n      const searchInput = document.querySelector('[data-component=\"player-search\"], input#playerSearch');\n      if (searchInput) {\n        searchInput.classList.add('mobile-input-no-zoom', 'mobile-touch-target');\n      }\n\n      const filterSelects = document.querySelectorAll('[data-component=\"filter-select\"], select[data-filter]');\n      filterSelects.forEach(select => {\n        select.classList.add('mobile-input-no-zoom', 'mobile-touch-target');\n      });\n\n      // Make filter controls sticky on mobile\n      // REFACTORED: Replaced style.top and style.zIndex with sticky-filter-mobile utility class\n      const filterContainer = document.querySelector('[data-component=\"draft-controls\"], [data-component=\"filters\"]');\n      if (filterContainer) {\n        filterContainer.classList.add('sticky-filter-mobile', 'bg-body', 'pb-3', 'mb-3', 'border-bottom');\n      }\n    },\n\n    /**\n     * Add mobile-specific CSS\n     * NOTE: This method injects CSS for backwards compatibility and mobile-specific styling\n     * that doesn't fit into the main utility class system\n     */\n    addMobileDraftStyles: function () {\n      if (document.getElementById('mobile-draft-styles')) return;\n\n      const style = document.createElement('style');\n      style.id = 'mobile-draft-styles';\n      style.textContent = `\n        /* Mobile draft optimizations */\n        @media (max-width: 767.98px) {\n          /* Utility classes for mobile interactions */\n          .cursor-pointer { cursor: pointer; }\n          .translate-y-full { transform: translateY(100%); }\n          .transition-transform { transition: transform 0.3s ease; }\n          .overflow-x-auto { overflow-x: auto; }\n\n          .mobile-touch-target {\n            min-width: 44px;\n            min-height: 44px;\n          }\n\n          .mobile-zone-enhanced {\n            min-height: 60px;\n          }\n\n          .mobile-input-no-zoom {\n            font-size: 16px; /* Prevent iOS zoom on focus */\n          }\n\n          /* Selected player indicator */\n          .mobile-selected {\n            border: 3px solid var(--bs-primary) !important;\n            box-shadow: 0 0 0 4px rgba(13, 110, 253, 0.2) !important;\n            transform: scale(1.02);\n          }\n\n          /* Player cards */\n          [data-component=\"player-card\"],\n          [data-component=\"player-item\"] {\n            min-height: 80px;\n            margin-bottom: 12px;\n          }\n\n          [data-component=\"player-card\"] img,\n          [data-component=\"player-item\"] img {\n            width: 60px;\n            height: 60px;\n          }\n\n          /* Draft buttons */\n          [data-action=\"draft-player\"],\n          button[data-action*=\"draft\"] {\n            min-height: 48px;\n            font-size: 16px;\n            padding: 12px 20px;\n          }\n\n          /* Team accordion */\n          .accordion-button {\n            min-height: 56px;\n            font-size: 16px;\n            padding: 16px;\n          }\n\n          /* Position zones on pitch */\n          .position-zone,\n          .zone {\n            min-height: 60px;\n            padding: 8px;\n          }\n\n          /* Player markers on pitch */\n          .position-player,\n          .player-marker {\n            min-width: 44px;\n            min-height: 44px;\n            font-size: 14px;\n          }\n\n          /* Quick draft panel animation */\n          .mobile-quick-draft-panel {\n            animation: slideUp 0.3s ease;\n            box-shadow: 0 -4px 12px rgba(0,0,0,0.2);\n          }\n\n          @keyframes slideUp {\n            from { transform: translateY(100%); }\n            to { transform: translateY(0); }\n          }\n\n          /* Remove buttons */\n          [data-action=\"remove-player\"],\n          button[data-action*=\"remove\"] {\n            min-width: 44px !important;\n            min-height: 44px !important;\n          }\n\n          /* Filter controls */\n          [data-component=\"filters\"],\n          [data-component=\"draft-controls\"] {\n            flex-wrap: wrap;\n            gap: 8px;\n          }\n\n          [data-component=\"filters\"] > *,\n          [data-component=\"draft-controls\"] > * {\n            flex: 1 1 100%;\n          }\n\n          /* Hide drag handles on mobile */\n          [data-component=\"drag-handle\"],\n          [draggable=\"true\"]::before {\n            display: none;\n          }\n\n          /* Stack pitch and teams vertically */\n          .draft-layout {\n            flex-direction: column;\n          }\n\n          /* Full-width teams on mobile */\n          .teams-section {\n            width: 100%;\n            max-width: 100%;\n          }\n        }\n\n        /* Pitch container scroll hint */\n        .pitch-container::after {\n          content: 'Swipe to view full pitch';\n          position: absolute;\n          bottom: 8px;\n          right: 8px;\n          background: rgba(0,0,0,0.7);\n          color: white;\n          padding: 4px 8px;\n          border-radius: 4px;\n          font-size: 12px;\n          pointer-events: none;\n          opacity: 0;\n          transition: opacity 0.3s;\n        }\n\n        .pitch-container:hover::after {\n          opacity: 1;\n        }\n      `;\n      document.head.appendChild(style);\n    },\n\n    /**\n     * Initialize mobile draft enhancements\n     */\n    init: function () {\n      if (!this.isMobile()) {\n        console.log('MobileDraft: Not mobile, skipping initialization');\n        return;\n      }\n\n      // Add styles\n      this.addMobileDraftStyles();\n\n      // Setup all enhancements\n      this.setupTapToSelect();\n      this.optimizePitchView();\n      this.setupTeamSwipe();\n      this.optimizeRemoveButtons();\n      this.optimizeFilters();\n\n      // Re-run when new players are added to DOM\n      const observer = new MutationObserver((mutations) => {\n        let shouldUpdate = false;\n\n        mutations.forEach(mutation => {\n          mutation.addedNodes.forEach(node => {\n            if (node.nodeType === 1 &&\n                (node.getAttribute?.('data-component') === 'player-card' ||\n                 node.getAttribute?.('data-component') === 'player-item' ||\n                 node.querySelector?.('[data-component=\"player-card\"], [data-component=\"player-item\"]'))) {\n              shouldUpdate = true;\n            }\n          });\n        });\n\n        if (shouldUpdate) {\n          setTimeout(() => {\n            this.setupTapToSelect();\n            this.optimizeRemoveButtons();\n          }, 100);\n        }\n      });\n\n      observer.observe(document.body, {\n        childList: true,\n        subtree: true\n      });\n\n      console.log('MobileDraft: Initialized successfully');\n    }\n  };\n\n  // Auto-initialize on draft pages\n  if (document.readyState === 'loading') {\n    document.addEventListener('DOMContentLoaded', () => {\n      // Only init if on draft page\n      if (document.querySelector('[data-component=\"player-card\"], [data-component=\"draft-container\"]')) {\n        MobileDraft.init();\n      }\n    });\n  } else {\n    if (document.querySelector('[data-component=\"player-card\"], [data-component=\"draft-container\"]')) {\n      MobileDraft.init();\n    }\n  }\n\n  // Expose globally\n  window.MobileDraft = MobileDraft;\n\n})(window);\n","/**\n * Mobile Table Enhancer\n *\n * Adds data-title attributes to table cells for mobile view\n * Specifically targets complex tables like user management tables\n *\n * REFACTORED: All inline style manipulations replaced with CSS classes\n * - Uses utility classes from /app/static/css/layout/mobile-tables.css\n * - Uses utility classes from /app/static/css/utilities/display-utils.css\n * - Eliminates all .style.* inline manipulations for maintainability\n */\ndocument.addEventListener('DOMContentLoaded', function() {\n  // Find all tables that need mobile enhancement but aren't already card tables\n  const tables = document.querySelectorAll('[data-table]:not([data-mobile-view])');\n\n  tables.forEach(function(table) {\n    // Get header text for each column\n    const headers = [];\n    const headerCells = table.querySelectorAll('thead th');\n\n    headerCells.forEach(function(th) {\n      headers.push(th.textContent.trim());\n    });\n\n    // Apply data-title to each cell in the table body\n    const rows = table.querySelectorAll('tbody tr');\n\n    rows.forEach(function(row) {\n      const cells = row.querySelectorAll('td');\n\n      cells.forEach(function(cell, index) {\n        if (index < headers.length && !cell.hasAttribute('data-title')) {\n          cell.setAttribute('data-title', headers[index]);\n        }\n      });\n    });\n  });\n\n  // Fix dropdown opening behavior on mobile\n  const dropdownToggles = document.querySelectorAll('[data-dropdown-toggle]');\n\n  dropdownToggles.forEach(function(toggle) {\n    toggle.addEventListener('click', function(e) {\n      // On mobile, ensure the dropdown stays in view\n      if (window.innerWidth < 992) {\n        const dropdown = this.nextElementSibling;\n        if (dropdown && dropdown.hasAttribute('data-dropdown-menu')) {\n          // Briefly show the dropdown to calculate its height\n          // REPLACED: dropdown.style.display = 'block' + dropdown.style.visibility = 'hidden'\n          // WITH: .dropdown-measuring class\n          dropdown.classList.add('dropdown-measuring');\n\n          setTimeout(() => {\n            const dropdownHeight = dropdown.offsetHeight;\n            const windowHeight = window.innerHeight;\n            const toggleRect = this.getBoundingClientRect();\n            const toggleMiddle = toggleRect.top + (toggleRect.height / 2);\n\n            // Position the dropdown based on available space\n            if (toggleMiddle < windowHeight / 2) {\n              // More space below, show dropdown below\n              // REPLACED: dropdown.style.top/bottom/maxHeight\n              // WITH: .dropdown-position-below and .dropdown-constrained-below classes\n              dropdown.classList.add('dropdown-position-below', 'dropdown-constrained-below');\n              dropdown.classList.remove('dropdown-position-above', 'dropdown-constrained-above');\n\n              // Set CSS custom property for dynamic max-height calculation\n              const availableSpace = windowHeight - toggleRect.bottom - 10;\n              dropdown.style.setProperty('--dropdown-top-offset', `${windowHeight - availableSpace}px`);\n            } else {\n              // More space above, show dropdown above\n              // REPLACED: dropdown.style.top/bottom/maxHeight\n              // WITH: .dropdown-position-above and .dropdown-constrained-above classes\n              dropdown.classList.add('dropdown-position-above', 'dropdown-constrained-above');\n              dropdown.classList.remove('dropdown-position-below', 'dropdown-constrained-below');\n            }\n\n            // REPLACED: dropdown.style.display = '' + dropdown.style.visibility = ''\n            // WITH: Remove .dropdown-measuring class to restore normal display\n            dropdown.classList.remove('dropdown-measuring');\n          }, 10);\n        }\n      }\n    });\n  });\n\n  // Handle dropdown menu overflowing screen edges\n  function adjustDropdownPosition() {\n    const openDropdowns = document.querySelectorAll('[data-dropdown-menu].show');\n\n    openDropdowns.forEach(function(dropdown) {\n      const rect = dropdown.getBoundingClientRect();\n\n      // If dropdown extends beyond right edge, adjust position\n      if (rect.right > window.innerWidth) {\n        // REPLACED: dropdown.style.left = 'auto' + dropdown.style.right = '0'\n        // WITH: .dropdown-align-right class\n        dropdown.classList.add('dropdown-align-right');\n        dropdown.classList.remove('dropdown-align-left');\n      }\n\n      // If dropdown extends beyond bottom edge, adjust position\n      if (rect.bottom > window.innerHeight) {\n        // REPLACED: dropdown.style.top = 'auto' + dropdown.style.bottom = '100%'\n        // WITH: .dropdown-position-above class\n        dropdown.classList.add('dropdown-position-above');\n        dropdown.classList.remove('dropdown-position-below');\n      }\n    });\n  }\n\n  // Monitor dropdowns opening\n  const observer = new MutationObserver(function(mutations) {\n    mutations.forEach(function(mutation) {\n      if (mutation.type === 'attributes' &&\n          mutation.attributeName === 'class' &&\n          mutation.target.hasAttribute('data-dropdown-menu') &&\n          mutation.target.classList.contains('show')) {\n        adjustDropdownPosition();\n      }\n    });\n  });\n\n  // Observe all dropdown menus for class changes\n  document.querySelectorAll('[data-dropdown-menu]').forEach(function(dropdown) {\n    observer.observe(dropdown, { attributes: true });\n  });\n\n  // Fix pagination on mobile\n  const paginationContainers = document.querySelectorAll('[data-pagination]');\n\n  if (window.innerWidth < 768 && paginationContainers.length > 0) {\n    paginationContainers.forEach(function(pagination) {\n      // If there are many pages, create a condensed view\n      const pageItems = pagination.querySelectorAll('[data-page-item]:not([data-page-disabled]):not([data-page-active])');\n\n      if (pageItems.length > 7) {\n        let visiblePages = [];\n        const activePage = pagination.querySelector('[data-page-item][data-page-active]');\n\n        if (activePage) {\n          const activePageNum = parseInt(activePage.textContent.trim(), 10) || 1;\n\n          // Show first, last, and pages around active\n          const allPageItems = Array.from(pagination.querySelectorAll('[data-page-item]'));\n          const firstItem = allPageItems.find(item => !item.hasAttribute('data-page-disabled') && item.textContent.trim() !== '');\n          const lastItem = [...allPageItems].reverse().find(item => !item.hasAttribute('data-page-disabled') && item.textContent.trim() !== '');\n\n          // Hide all pages first\n          pageItems.forEach(item => {\n            if (item !== firstItem && item !== lastItem) {\n              // REPLACED: item.style.display = 'none'\n              // WITH: .d-none class\n              item.classList.add('d-none');\n            }\n          });\n\n          // Show pages around active\n          allPageItems.forEach(item => {\n            const pageNum = parseInt(item.textContent.trim(), 10) || 0;\n            if (!isNaN(pageNum) && (\n                pageNum === activePageNum ||\n                pageNum === activePageNum - 1 ||\n                pageNum === activePageNum + 1 ||\n                pageNum === 1 ||\n                pageNum === parseInt(lastItem.textContent.trim(), 10)\n              )) {\n              // REPLACED: item.style.display = ''\n              // WITH: Remove .d-none class to restore display\n              item.classList.remove('d-none');\n            }\n          });\n\n          // Add ellipsis if needed\n          if (activePageNum > 3) {\n            const ellipsisBefore = document.createElement('li');\n            ellipsisBefore.className = 'page-item disabled';\n            ellipsisBefore.innerHTML = '<span class=\"page-link\"></span>';\n            firstItem.after(ellipsisBefore);\n          }\n\n          if (activePageNum < parseInt(lastItem.textContent.trim(), 10) - 2) {\n            const ellipsisAfter = document.createElement('li');\n            ellipsisAfter.className = 'page-item disabled';\n            ellipsisAfter.innerHTML = '<span class=\"page-link\"></span>';\n\n            const activeIndex = allPageItems.findIndex(item => item === activePage);\n            if (activeIndex !== -1 && activeIndex < allPageItems.length - 1) {\n              allPageItems[activeIndex + 1].after(ellipsisAfter);\n            }\n          }\n        }\n      }\n    });\n  }\n});\n","/**\n * Message Management System JavaScript\n * Handles all interactive functionality for the message management interface\n */\n\n(function() {\n    'use strict';\n\n    // Initialize when DOM is ready\n    document.addEventListener('DOMContentLoaded', function() {\n        console.log('Message Management JS loaded');\n        \n        // Initialize tooltips\n        const tooltipTriggerList = [].slice.call(document.querySelectorAll('[data-bs-toggle=\"tooltip\"]'));\n        tooltipTriggerList.map(function (tooltipTriggerEl) {\n            return new bootstrap.Tooltip(tooltipTriggerEl);\n        });\n    });\n\n    // Preview message template\n    window.previewTemplate = function(templateId) {\n        ModalManager.show('previewModal');\n        \n        // Set loading state\n        const previewContent = document.getElementById('previewContent');\n        previewContent.innerHTML = `\n            <div class=\"text-center\">\n                <div class=\"spinner-border text-primary\" role=\"status\">\n                    <span class=\"visually-hidden\">Loading...</span>\n                </div>\n                <p class=\"mt-2\">Loading preview...</p>\n            </div>\n        `;\n        \n        // Fetch preview\n        fetch(`/admin/messages/api/preview/${templateId}`, {\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json',\n                'X-CSRFToken': document.querySelector('meta[name=\"csrf-token\"]').getAttribute('content')\n            },\n            body: JSON.stringify({})\n        })\n        .then(response => response.json())\n        .then(data => {\n            if (data.preview) {\n                previewContent.innerHTML = `\n                    <div class=\"mb-4\" data-role=\"preview-section\">\n                        <h6 class=\"text-muted mb-3\">Discord Message Preview:</h6>\n                        <div class=\"discord-preview p-4 rounded\" data-role=\"discord-preview\">\n                            <div style=\"white-space: pre-wrap; font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\">${escapeHtml(data.preview)}</div>\n                        </div>\n                    </div>\n                    ${data.variables_used ? `\n                    <div class=\"mt-4\" data-role=\"variables-section\">\n                        <h6 class=\"text-muted mb-2\">Sample Variables Used:</h6>\n                        <div class=\"bg-light p-3 rounded\" data-role=\"variables-display\">\n                            <pre class=\"mb-0 small\">${JSON.stringify(data.variables_used, null, 2)}</pre>\n                        </div>\n                    </div>\n                    ` : ''}\n                `;\n            } else {\n                previewContent.innerHTML = `\n                    <div class=\"alert alert-danger\">\n                        <i class=\"ti ti-alert-circle me-2\"></i>\n                        Failed to load preview\n                    </div>\n                `;\n            }\n        })\n        .catch(error => {\n            previewContent.innerHTML = `\n                <div class=\"alert alert-danger\">\n                    <i class=\"ti ti-alert-circle me-2\"></i>\n                    Error loading preview: ${error.message}\n                </div>\n            `;\n        });\n    };\n\n    // Copy template content to clipboard\n    window.copyTemplate = function(templateId) {\n        fetch(`/admin/messages/api/template/${templateId}`)\n        .then(response => response.json())\n        .then(data => {\n            if (data.message_content) {\n                navigator.clipboard.writeText(data.message_content).then(function() {\n                    // Show success toast\n                    showToast('Success', 'Message content copied to clipboard!', 'success');\n                }).catch(function(err) {\n                    showToast('Error', 'Failed to copy to clipboard', 'danger');\n                });\n            }\n        })\n        .catch(error => {\n            showToast('Error', 'Error copying template: ' + error.message, 'danger');\n        });\n    };\n\n    // Show preview for message editor\n    window.previewMessage = function() {\n        const messageContent = document.getElementById('message_content').value;\n        \n        if (!messageContent.trim()) {\n            showToast('Warning', 'Please enter message content to preview.', 'warning');\n            return;\n        }\n\n        ModalManager.show('previewModal');\n        \n        // Create a preview with sample data\n        const sampleData = {\n            username: 'SampleUser',\n            league_display_name: 'Pub League Premier',\n            league_welcome_message: 'Welcome to competitive soccer!',\n            league_contact_info: 'Contact us at admin@ecsfc.com',\n            team_name: 'Sample Team FC',\n            match_date: 'Saturday, July 20th',\n            match_time: '2:00 PM',\n            match_location: 'North Field'\n        };\n        \n        let preview = messageContent;\n        for (const [key, value] of Object.entries(sampleData)) {\n            const regex = new RegExp(`{${key}}`, 'g');\n            preview = preview.replace(regex, value);\n        }\n        \n        document.getElementById('previewContent').innerHTML = `\n            <div class=\"mb-4\" data-role=\"preview-section\">\n                <h6 class=\"text-muted mb-3\">Discord Message Preview:</h6>\n                <div class=\"discord-preview p-4 rounded\" data-role=\"discord-preview\">\n                    <div style=\"white-space: pre-wrap; font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\">${escapeHtml(preview)}</div>\n                </div>\n            </div>\n            <div class=\"mt-4\" data-role=\"variables-section\">\n                <h6 class=\"text-muted mb-2\">Sample variables used:</h6>\n                <div class=\"bg-light p-3 rounded\" data-role=\"variables-display\">\n                    <pre class=\"mb-0 small\">${JSON.stringify(sampleData, null, 2)}</pre>\n                </div>\n            </div>\n        `;\n    };\n\n    // Utility function to escape HTML\n    function escapeHtml(text) {\n        const div = document.createElement('div');\n        div.textContent = text;\n        return div.innerHTML;\n    }\n\n    // Show toast notification\n    function showToast(title, message, type = 'info') {\n        // Create container if it doesn't exist\n        let container = document.querySelector('[data-role=\"toast-container\"]');\n        if (!container) {\n            container = document.createElement('div');\n            container.className = 'toast-container position-fixed top-0 end-0 p-3';\n            container.setAttribute('data-role', 'toast-container');\n            document.body.appendChild(container);\n        }\n\n        // Create toast element\n        const toastElement = document.createElement('div');\n        toastElement.className = 'toast align-items-center text-white border-0';\n        toastElement.setAttribute('role', 'alert');\n        toastElement.setAttribute('aria-live', 'assertive');\n        toastElement.setAttribute('aria-atomic', 'true');\n        toastElement.setAttribute('data-toast-type', type);\n\n        // Map type to semantic class\n        const typeClasses = {\n            'success': 'bg-success',\n            'danger': 'bg-danger',\n            'warning': 'bg-warning',\n            'info': 'bg-info',\n            'primary': 'bg-primary',\n            'secondary': 'bg-secondary'\n        };\n        toastElement.classList.add(typeClasses[type] || 'bg-info');\n\n        toastElement.innerHTML = `\n            <div class=\"d-flex\">\n                <div class=\"toast-body\">\n                    <strong>${title}:</strong> ${message}\n                </div>\n                <button type=\"button\" class=\"btn-close btn-close-white me-2 m-auto\" data-bs-dismiss=\"toast\" aria-label=\"Close\"></button>\n            </div>\n        `;\n\n        // Add toast to container\n        container.appendChild(toastElement);\n        const toast = new bootstrap.Toast(toastElement);\n        toast.show();\n\n        // Remove element after it's hidden\n        toastElement.addEventListener('hidden.bs.toast', function() {\n            toastElement.remove();\n        });\n    }\n\n})();\n","/**\n * ============================================================================\n * MESSAGES INBOX\n * ============================================================================\n *\n * Full-page messaging interface with conversation list and chat view.\n *\n * Features:\n * - Load and display conversations\n * - Real-time message delivery via WebSocket\n * - Send messages with Enter key support\n * - Typing indicators\n * - User search for new conversations\n * - Mobile-responsive view switching\n *\n * ============================================================================\n */\n\n(function() {\n  'use strict';\n\n  // Configuration from server\n  const config = window.MessagesInboxConfig || {};\n  const API_BASE = config.apiBase || '/api/messages';\n  const CURRENT_USER_ID = config.currentUserId;\n  const SETTINGS = config.settings || {};\n\n  // State\n  let conversations = [];\n  let activeUserId = null;\n  let activeConversation = null;\n  let isLoadingMessages = false;\n  let socket = null;\n  let typingTimeout = null;\n  let searchTimeout = null;\n\n  // DOM Elements\n  const inbox = document.querySelector('[data-component=\"messages-inbox\"]');\n  if (!inbox) {\n    console.warn('[MessagesInbox] No messages-inbox component found. Skipping initialization.');\n    return;\n  }\n  console.log('[MessagesInbox] Initializing...');\n\n  const elements = {\n    inbox,\n    conversationList: inbox.querySelector('[data-list=\"conversations\"]'),\n    loadingState: inbox.querySelector('[data-state=\"loading\"]'),\n    emptyState: inbox.querySelector('[data-state=\"empty\"]'),\n    sidebarFooter: inbox.querySelector('[data-footer=\"sidebar\"]'),\n    welcomeState: inbox.querySelector('[data-state=\"welcome\"]'),\n    chatView: inbox.querySelector('[data-view=\"chat\"]'),\n    chatAvatar: inbox.querySelector('[data-chat-avatar]'),\n    chatStatus: inbox.querySelector('[data-chat-status]'),\n    chatName: inbox.querySelector('[data-chat-name]'),\n    chatOnlineText: inbox.querySelector('[data-chat-online-text]'),\n    chatProfileLink: inbox.querySelector('[data-chat-profile-link]'),\n    messagesContainer: inbox.querySelector('[data-messages]'),\n    messagesLoading: inbox.querySelector('[data-state=\"messages-loading\"]'),\n    typingIndicator: inbox.querySelector('[data-typing-indicator]'),\n    typingName: inbox.querySelector('[data-typing-name]'),\n    messageInput: inbox.querySelector('[data-input=\"message\"]'),\n    charCount: inbox.querySelector('[data-char-count]'),\n    sendButton: inbox.querySelector('[data-action=\"send-message\"]'),\n    searchInput: inbox.querySelector('[data-input=\"search-conversations\"]'),\n  };\n\n  // Modal elements\n  const modal = document.getElementById('newConversationModal');\n  const userSearchInput = document.getElementById('userSearchInput');\n  const userResultsList = document.querySelector('[data-list=\"user-results\"]');\n\n  /**\n   * Initialize the inbox\n   */\n  function init() {\n    loadConversations();\n    setupEventListeners();\n    setupWebSocket();\n\n    // Open initial user if specified\n    if (config.initialUser) {\n      openConversation(config.initialUser);\n    }\n  }\n\n  /**\n   * Set up event listeners\n   */\n  function setupEventListeners() {\n    // New conversation buttons\n    const newConversationBtns = document.querySelectorAll('[data-action=\"new-conversation\"]');\n    newConversationBtns.forEach((btn) => {\n      btn.addEventListener('click', function(e) {\n        openNewConversationModal(e);\n      });\n    });\n\n    // Mark all read button\n    const markAllReadBtn = inbox.querySelector('[data-action=\"mark-all-read\"]');\n    if (markAllReadBtn) {\n      markAllReadBtn.addEventListener('click', markAllAsRead);\n    }\n\n    // Back to list (mobile)\n    const backBtn = inbox.querySelector('[data-action=\"back-to-list\"]');\n    if (backBtn) {\n      backBtn.addEventListener('click', closeChat);\n    }\n\n    // Message input\n    if (elements.messageInput) {\n      elements.messageInput.addEventListener('input', handleInputChange);\n      elements.messageInput.addEventListener('keydown', handleKeyDown);\n    }\n\n    // Send button\n    if (elements.sendButton) {\n      elements.sendButton.addEventListener('click', sendMessage);\n    }\n\n    // Conversation search\n    if (elements.searchInput) {\n      elements.searchInput.addEventListener('input', handleConversationSearch);\n    }\n\n    // User search in modal\n    if (userSearchInput) {\n      userSearchInput.addEventListener('input', handleUserSearch);\n    }\n\n    // Modal reset on hide\n    if (modal) {\n      modal.addEventListener('hidden.bs.modal', () => {\n        if (userSearchInput) userSearchInput.value = '';\n        if (userResultsList) {\n          userResultsList.innerHTML = `\n            <div class=\"c-user-search-results__hint\">\n              <i class=\"ti ti-info-circle me-1\" aria-hidden=\"true\"></i>\n              Type at least 2 characters to search\n            </div>\n          `;\n        }\n      });\n    }\n  }\n\n  /**\n   * Set up WebSocket connection\n   */\n  function setupWebSocket() {\n    if (typeof io === 'undefined') return;\n\n    // Reuse existing global socket if available (from navbar presence)\n    // Check if socket EXISTS (not just connected) - it may still be connecting\n    if (window.socket) {\n      console.log('[MessagesInbox] Reusing existing socket (connected:', window.socket.connected, ')');\n      socket = window.socket;\n      setupSocketListeners();\n      return;\n    }\n\n    // Create new socket if none exists\n    console.log('[MessagesInbox] Creating new socket connection');\n    socket = io({\n      // Use polling first to establish sticky session cookie with multiple workers\n      transports: ['polling', 'websocket'],\n      upgrade: true,\n      withCredentials: true\n    });\n\n    // Store globally for other components to reuse\n    window.socket = socket;\n\n    setupSocketListeners();\n  }\n\n  /**\n   * Set up socket event listeners\n   */\n  function setupSocketListeners() {\n    if (!socket) return;\n\n    socket.on('connect', () => {\n      console.log('[MessagesInbox] WebSocket connected');\n    });\n\n    socket.on('new_message', handleNewMessage);\n    socket.on('typing_start', handleTypingStart);\n    socket.on('typing_stop', handleTypingStop);\n    socket.on('message_read', handleMessageRead);\n  }\n\n  /**\n   * Load conversations from API\n   */\n  async function loadConversations() {\n    try {\n      showLoading(true);\n\n      const response = await fetch(`${API_BASE}?limit=50`);\n      const data = await response.json();\n\n      if (data.success) {\n        conversations = data.conversations || [];\n        renderConversations();\n      }\n    } catch (error) {\n      console.error('[MessagesInbox] Error loading conversations:', error);\n    } finally {\n      showLoading(false);\n    }\n  }\n\n  /**\n   * Show/hide loading state\n   */\n  function showLoading(show) {\n    if (elements.loadingState) {\n      elements.loadingState.classList.toggle('u-hidden', !show);\n    }\n  }\n\n  /**\n   * Render conversations list\n   */\n  function renderConversations(filteredList = null) {\n    const list = filteredList || conversations;\n\n    // Show/hide empty state\n    if (elements.emptyState) {\n      elements.emptyState.classList.toggle('u-hidden', list.length > 0);\n    }\n\n    // Show/hide footer\n    if (elements.sidebarFooter) {\n      elements.sidebarFooter.classList.toggle('u-hidden', list.length === 0);\n    }\n\n    // Clear existing items (keep loading and empty states)\n    const existingItems = elements.conversationList.querySelectorAll('.c-messages-conversation');\n    existingItems.forEach(el => el.remove());\n\n    // Render conversations\n    list.forEach(conv => {\n      const element = createConversationElement(conv);\n      elements.conversationList.appendChild(element);\n    });\n  }\n\n  /**\n   * Create a conversation list item element\n   */\n  function createConversationElement(conv) {\n    const div = document.createElement('div');\n    div.className = 'c-messages-conversation';\n    div.dataset.userId = conv.user.id;\n\n    if (conv.user.id === activeUserId) {\n      div.classList.add('is-active');\n    }\n\n    const avatarUrl = conv.user.avatar_url || '/static/img/default-avatar.png';\n    const statusClass = conv.user.is_online ? 'is-online' : 'is-offline';\n    const previewClass = conv.last_message.sent_by_me ? 'is-sent' : '';\n    const roleBadges = renderRoleBadges(conv.user);\n\n    div.innerHTML = `\n      <div class=\"c-messages-conversation__avatar-wrapper\">\n        <img src=\"${avatarUrl}\" alt=\"${conv.user.name}\" class=\"c-messages-conversation__avatar\">\n        <span class=\"c-online-status c-online-status--sm ${statusClass}\"></span>\n      </div>\n      <div class=\"c-messages-conversation__info\">\n        <p class=\"c-messages-conversation__name\">${escapeHtml(conv.user.name)}${roleBadges}</p>\n        <p class=\"c-messages-conversation__preview ${previewClass}\">${escapeHtml(conv.last_message.content)}</p>\n      </div>\n      <div class=\"c-messages-conversation__meta\">\n        <span class=\"c-messages-conversation__time\">${conv.last_message.time_ago}</span>\n        ${conv.unread_count > 0 ? `<span class=\"c-messages-conversation__unread\">${conv.unread_count}</span>` : ''}\n      </div>\n    `;\n\n    div.addEventListener('click', () => openConversation(conv.user));\n\n    return div;\n  }\n\n  /**\n   * Open a conversation with a user\n   */\n  async function openConversation(user) {\n    activeUserId = user.id;\n    activeConversation = user;\n\n    // Update sidebar selection\n    document.querySelectorAll('.c-messages-conversation').forEach(el => {\n      el.classList.toggle('is-active', parseInt(el.dataset.userId) === user.id);\n    });\n\n    // Update chat header\n    updateChatHeader(user);\n\n    // Show chat view\n    showChatView(true);\n\n    // Load messages\n    await loadMessages(user.id);\n\n    // Close modal if open - use ModalManager if available, fallback to Bootstrap\n    if (modal) {\n      if (typeof ModalManager !== 'undefined') {\n        ModalManager.hide('newConversationModal');\n      } else {\n        const bsModal = bootstrap.Modal.getInstance(modal);\n        if (bsModal) bsModal.hide();\n      }\n    }\n\n    // Focus input\n    if (elements.messageInput) {\n      elements.messageInput.focus();\n    }\n  }\n\n  /**\n   * Update chat header with user info\n   */\n  function updateChatHeader(user) {\n    const avatarUrl = user.avatar_url || '/static/img/default-avatar.png';\n    const roleBadges = renderRoleBadges(user);\n\n    if (elements.chatAvatar) {\n      elements.chatAvatar.src = avatarUrl;\n      elements.chatAvatar.alt = user.name;\n    }\n\n    if (elements.chatStatus) {\n      elements.chatStatus.className = `c-online-status c-online-status--sm ${user.is_online ? 'is-online' : 'is-offline'}`;\n    }\n\n    if (elements.chatName) {\n      elements.chatName.innerHTML = escapeHtml(user.name) + roleBadges;\n      elements.chatName.href = user.profile_url || '#';\n    }\n\n    if (elements.chatOnlineText) {\n      elements.chatOnlineText.textContent = user.is_online ? 'Online' : 'Offline';\n      elements.chatOnlineText.className = `c-messages-chat__user-status ${user.is_online ? 'is-online' : ''}`;\n    }\n\n    if (elements.chatProfileLink) {\n      elements.chatProfileLink.href = user.profile_url || '#';\n      elements.chatProfileLink.style.display = user.profile_url ? '' : 'none';\n    }\n  }\n\n  /**\n   * Show/hide chat view\n   */\n  function showChatView(show) {\n    if (elements.welcomeState) {\n      elements.welcomeState.classList.toggle('u-hidden', show);\n    }\n    if (elements.chatView) {\n      elements.chatView.classList.toggle('u-hidden', !show);\n    }\n    // Mobile: toggle class on inbox\n    inbox.classList.toggle('is-chatting', show);\n  }\n\n  /**\n   * Close chat (mobile)\n   */\n  function closeChat() {\n    activeUserId = null;\n    activeConversation = null;\n    showChatView(false);\n\n    document.querySelectorAll('.c-messages-conversation').forEach(el => {\n      el.classList.remove('is-active');\n    });\n  }\n\n  /**\n   * Load messages for a conversation\n   */\n  async function loadMessages(userId) {\n    if (isLoadingMessages) return;\n    isLoadingMessages = true;\n\n    try {\n      if (elements.messagesLoading) {\n        elements.messagesLoading.classList.remove('u-hidden');\n      }\n      if (elements.messagesContainer) {\n        // Clear existing messages\n        const existingMessages = elements.messagesContainer.querySelectorAll('.c-messages-message, .c-messages-date-separator');\n        existingMessages.forEach(el => el.remove());\n      }\n\n      const response = await fetch(`${API_BASE}/${userId}?limit=100`);\n      const data = await response.json();\n\n      if (data.success) {\n        renderMessages(data.messages || []);\n\n        // Update user status\n        if (data.user && activeConversation) {\n          activeConversation.is_online = data.user.is_online;\n          updateChatHeader(activeConversation);\n        }\n\n        // Update unread count in sidebar\n        updateConversationUnread(userId, 0);\n      }\n    } catch (error) {\n      console.error('[MessagesInbox] Error loading messages:', error);\n    } finally {\n      isLoadingMessages = false;\n      if (elements.messagesLoading) {\n        elements.messagesLoading.classList.add('u-hidden');\n      }\n    }\n  }\n\n  /**\n   * Render messages in the chat view\n   */\n  function renderMessages(messages) {\n    let lastDate = null;\n\n    messages.forEach(msg => {\n      // Date separator\n      const msgDate = new Date(msg.created_at).toDateString();\n      if (msgDate !== lastDate) {\n        const separator = createDateSeparator(msg.created_at);\n        elements.messagesContainer.appendChild(separator);\n        lastDate = msgDate;\n      }\n\n      const element = createMessageElement(msg);\n      elements.messagesContainer.appendChild(element);\n    });\n\n    // Scroll to bottom\n    scrollToBottom();\n  }\n\n  /**\n   * Create date separator element\n   */\n  function createDateSeparator(dateStr) {\n    const div = document.createElement('div');\n    div.className = 'c-messages-date-separator';\n\n    const date = new Date(dateStr);\n    const today = new Date();\n    const yesterday = new Date(today);\n    yesterday.setDate(yesterday.getDate() - 1);\n\n    let label;\n    if (date.toDateString() === today.toDateString()) {\n      label = 'Today';\n    } else if (date.toDateString() === yesterday.toDateString()) {\n      label = 'Yesterday';\n    } else {\n      label = date.toLocaleDateString('en-US', { month: 'short', day: 'numeric', year: 'numeric' });\n    }\n\n    div.innerHTML = `<span class=\"c-messages-date-separator__text\">${label}</span>`;\n    return div;\n  }\n\n  /**\n   * Create message element\n   */\n  function createMessageElement(msg) {\n    const div = document.createElement('div');\n    const isSent = msg.sender_id === CURRENT_USER_ID;\n    div.className = `c-messages-message ${isSent ? 'c-messages-message--sent' : 'c-messages-message--received'}`;\n    div.dataset.messageId = msg.id;\n\n    const time = formatTime(msg.created_at);\n    const readIcon = isSent && msg.is_read && SETTINGS.read_receipts ?\n      '<i class=\"ti ti-checks c-messages-message__read\" aria-label=\"Read\"></i>' : '';\n\n    div.innerHTML = `\n      <div class=\"c-messages-message__bubble\">${escapeHtml(msg.content)}</div>\n      <div class=\"c-messages-message__time\">${time}${readIcon}</div>\n    `;\n\n    return div;\n  }\n\n  /**\n   * Handle input change\n   */\n  function handleInputChange() {\n    const value = elements.messageInput.value;\n    const length = value.length;\n    const maxLength = SETTINGS.max_message_length || 2000;\n\n    // Update character count\n    if (elements.charCount) {\n      elements.charCount.textContent = `${length}/${maxLength}`;\n      elements.charCount.classList.toggle('is-warning', length > maxLength * 0.8);\n      elements.charCount.classList.toggle('is-limit', length >= maxLength);\n    }\n\n    // Enable/disable send button\n    if (elements.sendButton) {\n      elements.sendButton.disabled = length === 0 || length > maxLength;\n    }\n\n    // Auto-resize textarea\n    elements.messageInput.style.height = 'auto';\n    elements.messageInput.style.height = Math.min(elements.messageInput.scrollHeight, 120) + 'px';\n\n    // Send typing indicator\n    if (SETTINGS.typing_indicators && activeUserId && socket) {\n      clearTimeout(typingTimeout);\n      socket.emit('typing_start', { recipient_id: activeUserId });\n\n      typingTimeout = setTimeout(() => {\n        socket.emit('typing_stop', { recipient_id: activeUserId });\n      }, 2000);\n    }\n  }\n\n  /**\n   * Handle keydown in message input\n   */\n  function handleKeyDown(e) {\n    if (e.key === 'Enter' && !e.shiftKey) {\n      e.preventDefault();\n      sendMessage();\n    }\n  }\n\n  /**\n   * Send a message\n   */\n  async function sendMessage() {\n    const content = elements.messageInput.value.trim();\n    if (!content || !activeUserId) return;\n\n    const maxLength = SETTINGS.max_message_length || 2000;\n    if (content.length > maxLength) return;\n\n    // Disable send button\n    if (elements.sendButton) {\n      elements.sendButton.disabled = true;\n    }\n\n    try {\n      const response = await fetch(`${API_BASE}/${activeUserId}`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          'X-CSRFToken': getCsrfToken()\n        },\n        body: JSON.stringify({ content })\n      });\n\n      const data = await response.json();\n\n      if (data.success && data.message) {\n        // Clear input\n        elements.messageInput.value = '';\n        elements.messageInput.style.height = 'auto';\n        if (elements.charCount) {\n          elements.charCount.textContent = `0/${maxLength}`;\n          elements.charCount.classList.remove('is-warning', 'is-limit');\n        }\n\n        // Add message to view\n        const element = createMessageElement(data.message);\n        elements.messagesContainer.appendChild(element);\n        scrollToBottom();\n\n        // Update conversation in sidebar\n        updateConversationPreview(activeUserId, content, true);\n\n        // Stop typing indicator\n        if (socket) {\n          socket.emit('typing_stop', { recipient_id: activeUserId });\n        }\n      } else {\n        showError(data.error || 'Failed to send message');\n      }\n    } catch (error) {\n      console.error('[MessagesInbox] Error sending message:', error);\n      showError('Failed to send message');\n    }\n\n    // Re-enable based on input\n    handleInputChange();\n  }\n\n  /**\n   * Handle incoming WebSocket message\n   */\n  function handleNewMessage(msg) {\n    // Only process if from someone we're chatting with\n    if (msg.sender_id === activeUserId) {\n      const element = createMessageElement(msg);\n      elements.messagesContainer.appendChild(element);\n      scrollToBottom();\n\n      // Mark as read\n      markMessageAsRead(msg.id);\n    }\n\n    // Update sidebar\n    if (msg.sender_id !== CURRENT_USER_ID) {\n      updateConversationPreview(msg.sender_id, msg.content, false);\n\n      // Increment unread if not active\n      if (msg.sender_id !== activeUserId) {\n        incrementConversationUnread(msg.sender_id);\n      }\n    }\n\n    // Reload conversations to update order\n    loadConversations();\n  }\n\n  /**\n   * Handle typing start event\n   */\n  function handleTypingStart(data) {\n    if (data.user_id === activeUserId && elements.typingIndicator) {\n      elements.typingIndicator.classList.remove('u-hidden');\n      if (elements.typingName) {\n        elements.typingName.textContent = activeConversation?.name + ' is typing';\n      }\n      scrollToBottom();\n    }\n  }\n\n  /**\n   * Handle typing stop event\n   */\n  function handleTypingStop(data) {\n    if (data.user_id === activeUserId && elements.typingIndicator) {\n      elements.typingIndicator.classList.add('u-hidden');\n    }\n  }\n\n  /**\n   * Handle message read event\n   */\n  function handleMessageRead(data) {\n    if (data.reader_id === activeUserId) {\n      // Update read status on messages\n      document.querySelectorAll('.c-messages-message--sent').forEach(el => {\n        const timeEl = el.querySelector('.c-messages-message__time');\n        if (timeEl && !timeEl.querySelector('.c-messages-message__read')) {\n          timeEl.innerHTML += '<i class=\"ti ti-checks c-messages-message__read\" aria-label=\"Read\"></i>';\n        }\n      });\n    }\n  }\n\n  /**\n   * Mark a message as read\n   */\n  async function markMessageAsRead(messageId) {\n    try {\n      await fetch(`${API_BASE}/${messageId}/read`, {\n        method: 'POST',\n        headers: {\n          'X-CSRFToken': getCsrfToken()\n        }\n      });\n    } catch (error) {\n      console.error('[MessagesInbox] Error marking message read:', error);\n    }\n  }\n\n  /**\n   * Mark all messages as read\n   */\n  async function markAllAsRead() {\n    try {\n      const response = await fetch(`${API_BASE}/mark-all-read`, {\n        method: 'POST',\n        headers: {\n          'X-CSRFToken': getCsrfToken()\n        }\n      });\n\n      const data = await response.json();\n      if (data.success) {\n        // Update all conversation unread counts\n        document.querySelectorAll('.c-messages-conversation__unread').forEach(el => el.remove());\n\n        // Update global badge\n        updateGlobalBadge(0);\n      }\n    } catch (error) {\n      console.error('[MessagesInbox] Error marking all read:', error);\n    }\n  }\n\n  /**\n   * Update conversation preview in sidebar\n   */\n  function updateConversationPreview(userId, content, sentByMe) {\n    const conv = document.querySelector(`.c-messages-conversation[data-user-id=\"${userId}\"]`);\n    if (conv) {\n      const preview = conv.querySelector('.c-messages-conversation__preview');\n      if (preview) {\n        preview.textContent = content.length > 50 ? content.substring(0, 50) + '...' : content;\n        preview.classList.toggle('is-sent', sentByMe);\n      }\n\n      const time = conv.querySelector('.c-messages-conversation__time');\n      if (time) {\n        time.textContent = 'Just now';\n      }\n    }\n  }\n\n  /**\n   * Update conversation unread count\n   */\n  function updateConversationUnread(userId, count) {\n    const conv = document.querySelector(`.c-messages-conversation[data-user-id=\"${userId}\"]`);\n    if (conv) {\n      let badge = conv.querySelector('.c-messages-conversation__unread');\n      if (count > 0) {\n        if (!badge) {\n          badge = document.createElement('span');\n          badge.className = 'c-messages-conversation__unread';\n          conv.querySelector('.c-messages-conversation__meta').appendChild(badge);\n        }\n        badge.textContent = count;\n      } else if (badge) {\n        badge.remove();\n      }\n    }\n  }\n\n  /**\n   * Increment conversation unread count\n   */\n  function incrementConversationUnread(userId) {\n    const conv = document.querySelector(`.c-messages-conversation[data-user-id=\"${userId}\"]`);\n    if (conv) {\n      let badge = conv.querySelector('.c-messages-conversation__unread');\n      if (badge) {\n        badge.textContent = parseInt(badge.textContent) + 1;\n      } else {\n        badge = document.createElement('span');\n        badge.className = 'c-messages-conversation__unread';\n        badge.textContent = '1';\n        conv.querySelector('.c-messages-conversation__meta').appendChild(badge);\n      }\n    }\n  }\n\n  /**\n   * Handle conversation search\n   */\n  function handleConversationSearch() {\n    const query = elements.searchInput.value.toLowerCase().trim();\n\n    if (!query) {\n      renderConversations();\n      return;\n    }\n\n    const filtered = conversations.filter(conv =>\n      conv.user.name.toLowerCase().includes(query) ||\n      conv.last_message.content.toLowerCase().includes(query)\n    );\n\n    renderConversations(filtered);\n  }\n\n  /**\n   * Open new conversation modal\n   */\n  function openNewConversationModal() {\n    if (modal) {\n      // Use ModalManager if available, fallback to Bootstrap\n      if (typeof ModalManager !== 'undefined') {\n        ModalManager.show('newConversationModal');\n      } else if (typeof bootstrap !== 'undefined' && bootstrap.Modal) {\n        const bsModal = new bootstrap.Modal(modal);\n        bsModal.show();\n      } else {\n        console.error('[MessagesInbox] Neither ModalManager nor Bootstrap available');\n      }\n    } else {\n      console.error('[MessagesInbox] Modal element not found');\n    }\n  }\n\n  /**\n   * Handle user search in modal\n   */\n  function handleUserSearch() {\n    const query = userSearchInput.value.trim();\n\n    clearTimeout(searchTimeout);\n\n    if (query.length < 2) {\n      userResultsList.innerHTML = `\n        <div class=\"c-user-search-results__hint\">\n          <i class=\"ti ti-info-circle me-1\" aria-hidden=\"true\"></i>\n          Type at least 2 characters to search\n        </div>\n      `;\n      return;\n    }\n\n    userResultsList.innerHTML = `\n      <div class=\"c-user-search-results__loading\">\n        <div class=\"c-messages-list__spinner\"></div>\n      </div>\n    `;\n\n    searchTimeout = setTimeout(async () => {\n      try {\n        const response = await fetch(`${API_BASE}/users/search?q=${encodeURIComponent(query)}&limit=10`);\n        const data = await response.json();\n\n        if (data.success && data.users.length > 0) {\n          userResultsList.innerHTML = '';\n          data.users.forEach(user => {\n            const div = document.createElement('div');\n            div.className = 'c-user-search-results__item';\n            const roleBadges = renderRoleBadges(user);\n            div.innerHTML = `\n              <img src=\"${user.avatar_url || '/static/img/default-avatar.png'}\" alt=\"${user.name}\" class=\"c-user-search-results__avatar\">\n              <span class=\"c-user-search-results__name\">${escapeHtml(user.name)}${roleBadges}</span>\n            `;\n            div.addEventListener('click', () => openConversation(user));\n            userResultsList.appendChild(div);\n          });\n        } else {\n          userResultsList.innerHTML = `\n            <div class=\"c-user-search-results__empty\">\n              <i class=\"ti ti-user-off\" style=\"font-size: 2rem; margin-bottom: 0.5rem; opacity: 0.5;\" aria-hidden=\"true\"></i>\n              <p>No users found</p>\n            </div>\n          `;\n        }\n      } catch (error) {\n        console.error('[MessagesInbox] Error searching users:', error);\n        userResultsList.innerHTML = `\n          <div class=\"c-user-search-results__empty\">\n            <p>Search failed. Please try again.</p>\n          </div>\n        `;\n      }\n    }, 300);\n  }\n\n  /**\n   * Scroll messages to bottom\n   */\n  function scrollToBottom() {\n    if (elements.messagesContainer) {\n      elements.messagesContainer.scrollTop = elements.messagesContainer.scrollHeight;\n    }\n  }\n\n  /**\n   * Format time for display\n   */\n  function formatTime(dateStr) {\n    const date = new Date(dateStr);\n    return date.toLocaleTimeString('en-US', {\n      hour: 'numeric',\n      minute: '2-digit',\n      hour12: true\n    });\n  }\n\n  /**\n   * Escape HTML to prevent XSS\n   */\n  function escapeHtml(text) {\n    const div = document.createElement('div');\n    div.textContent = text;\n    return div.innerHTML;\n  }\n\n  /**\n   * Generate role badge HTML for a user\n   * @param {Object} user - User object with role flags\n   * @returns {string} HTML string with badge icons\n   */\n  function renderRoleBadges(user) {\n    if (!user) return '';\n\n    const badges = [];\n\n    // Global Admin - Crown icon (highest priority)\n    if (user.is_global_admin) {\n      badges.push('<span class=\"c-role-badge c-role-badge--admin\" title=\"Global Admin\"><i class=\"ti ti-crown\"></i></span>');\n    }\n    // Pub League Admin - Shield icon\n    else if (user.is_admin) {\n      badges.push('<span class=\"c-role-badge c-role-badge--admin\" title=\"Admin\"><i class=\"ti ti-shield-check\"></i></span>');\n    }\n\n    // Coach - Whistle icon\n    if (user.is_coach) {\n      badges.push('<span class=\"c-role-badge c-role-badge--coach\" title=\"Coach\"><i class=\"ti ti-speakerphone\"></i></span>');\n    }\n\n    // Referee - Cards icon\n    if (user.is_ref) {\n      badges.push('<span class=\"c-role-badge c-role-badge--ref\" title=\"Referee\"><i class=\"ti ti-cards\"></i></span>');\n    }\n\n    return badges.length > 0 ? `<span class=\"c-role-badges\">${badges.join('')}</span>` : '';\n  }\n\n  /**\n   * Get CSRF token\n   */\n  function getCsrfToken() {\n    const meta = document.querySelector('meta[name=\"csrf-token\"]');\n    return meta ? meta.getAttribute('content') : '';\n  }\n\n  /**\n   * Update global unread badge (in navbar)\n   */\n  function updateGlobalBadge(count) {\n    const badge = document.querySelector('[data-badge=\"messages-count\"]');\n    if (badge) {\n      badge.textContent = count;\n      badge.classList.toggle('u-hidden', count === 0);\n    }\n  }\n\n  /**\n   * Show error toast\n   */\n  function showError(message) {\n    // Use your existing toast system\n    if (typeof window.showToast === 'function') {\n      window.showToast(message, 'error');\n    } else {\n      console.error('[MessagesInbox]', message);\n    }\n  }\n\n  // Initialize on DOM ready\n  if (document.readyState === 'loading') {\n    document.addEventListener('DOMContentLoaded', init);\n  } else {\n    init();\n  }\n\n})();\n","/**\n * ============================================================================\n * Pass Studio - Main JavaScript\n * ============================================================================\n *\n * Extracted from inline <script> tags in admin/pass_studio/studio.html\n * Manages pass configuration, live preview, and asset management\n *\n * EVENT DELEGATION CONVERSION (Phase 2.2 Sprint 3):\n * - All template actions now use centralized event delegation via event-delegation.js\n * - Registered actions: toggle-platform, update-pass-style, apply-color-preset,\n *   sync-color-input, update-preview-field, toggle-logo-visibility,\n *   open-asset-cropper, update-google-preview, update-barcode-preview,\n *   save-appearance, initialize-defaults, add-field, create-field,\n *   save-fields, reset-fields, insert-variable\n * - Template strings in FieldsManager use individual addEventListener calls\n *   (acceptable as they're dynamically created and not in initial HTML)\n * - CSRF token retrieval updated to vanilla JS (meta tag fallback pattern)\n *\n * ============================================================================\n */\n\n// Pass Studio JavaScript\nconst PassStudio = {\n    passTypeCode: '',\n    hasUnsavedChanges: false,\n    previewData: null,\n    currentPlatform: 'apple',\n    assets: {},\n\n    init(passTypeCode) {\n        this.passTypeCode = passTypeCode;\n        this.loadPreviewData();\n        this.loadAssets();\n        this.bindEvents();\n        this.initColorPickers();\n    },\n\n    bindEvents() {\n        // Platform toggle handled by event delegation in event-delegation.js\n\n        // Track changes\n        document.querySelectorAll('input, select, textarea').forEach(el => {\n            el.addEventListener('change', () => this.markUnsaved());\n        });\n\n        // Warn on page leave\n        window.addEventListener('beforeunload', (e) => {\n            if (this.hasUnsavedChanges) {\n                e.preventDefault();\n                e.returnValue = '';\n            }\n        });\n    },\n\n    markUnsaved() {\n        this.hasUnsavedChanges = true;\n        document.body.classList.add('has-unsaved-changes');\n    },\n\n    markSaved() {\n        this.hasUnsavedChanges = false;\n        document.body.classList.remove('has-unsaved-changes');\n    },\n\n    async loadPreviewData() {\n        try {\n            const response = await fetch(`/admin/wallet/studio/${this.passTypeCode}/preview`);\n            const data = await response.json();\n            if (data.success) {\n                this.previewData = data;\n                this.updatePreview();\n            }\n        } catch (error) {\n            console.error('Error loading preview data:', error);\n        }\n    },\n\n    async loadAssets() {\n        try {\n            const response = await fetch(`/admin/wallet/studio/${this.passTypeCode}/assets`);\n            const data = await response.json();\n            if (data.success) {\n                this.assets = data.assets || {};\n                this.updateAssetPreviews();\n            }\n        } catch (error) {\n            console.error('Error loading assets:', error);\n        }\n    },\n\n    updateAssetPreviews() {\n        // Update asset preview cards in Appearance tab\n        Object.entries(this.assets).forEach(([assetType, asset]) => {\n            const card = document.querySelector(`.asset-upload-card[data-asset-type=\"${assetType}\"]`);\n            if (card && asset && asset.url) {\n                const preview = card.querySelector('.asset-preview');\n                if (preview) {\n                    // Replace placeholder with actual image\n                    preview.innerHTML = `\n                        <img src=\"${asset.url}\" alt=\"${assetType}\" id=\"asset-preview-${assetType}\">\n                        <span class=\"badge bg-success position-absolute top-0 end-0 m-1\"><i class=\"ti ti-check\"></i></span>\n                    `;\n                }\n            }\n        });\n\n        // Update live preview card assets\n        this.updateLivePreviewAssets();\n    },\n\n    updateLivePreviewAssets() {\n        // Update Apple preview assets\n        // Logo is optional - hide if not uploaded, show if uploaded\n        const previewLogo = document.getElementById('preview-logo');\n        const previewStrip = document.getElementById('preview-strip');\n\n        if (previewLogo) {\n            if (this.assets.logo && this.assets.logo.url) {\n                previewLogo.classList.remove('d-none');\n                previewLogo.classList.add('d-flex');\n                previewLogo.innerHTML = `<img src=\"${this.assets.logo.url}\" alt=\"Logo\">`;\n            } else {\n                // No logo - hide the logo area entirely for cleaner look\n                previewLogo.classList.add('d-none');\n                previewLogo.classList.remove('d-flex');\n                previewLogo.innerHTML = '';\n            }\n        }\n\n        // Strip image is now positioned absolutely behind the primary field overlay\n        if (previewStrip) {\n            // Find or create the strip image element\n            let stripImg = previewStrip.querySelector('.pass-strip-image');\n            const primaryOverlay = previewStrip.querySelector('.pass-primary-field-overlay');\n\n            if (this.assets.strip && this.assets.strip.url) {\n                if (!stripImg) {\n                    stripImg = document.createElement('img');\n                    stripImg.className = 'pass-strip-image';\n                    stripImg.alt = 'Strip';\n                    // Insert before the overlay\n                    if (primaryOverlay) {\n                        previewStrip.insertBefore(stripImg, primaryOverlay);\n                    } else {\n                        previewStrip.appendChild(stripImg);\n                    }\n                }\n                stripImg.src = this.assets.strip.url;\n            } else if (stripImg) {\n                stripImg.remove();\n            }\n        }\n\n        // Update Google preview logo\n        const googleLogo = document.getElementById('preview-google-logo');\n        if (googleLogo) {\n            const googleLogoUrl = document.getElementById('google_logo_url')?.value;\n            if (googleLogoUrl) {\n                googleLogo.innerHTML = `<img src=\"${googleLogoUrl}\" alt=\"Logo\">`;\n            } else if (this.assets.logo && this.assets.logo.url) {\n                // Fall back to Apple logo\n                googleLogo.innerHTML = `<img src=\"${this.assets.logo.url}\" alt=\"Logo\">`;\n            }\n        }\n    },\n\n    setPreviewPlatform(platform) {\n        this.currentPlatform = platform;\n\n        // Update button states\n        document.querySelectorAll('[data-platform]').forEach(btn => {\n            btn.classList.toggle('active', btn.dataset.platform === platform);\n        });\n\n        // Show/hide preview containers\n        const applePreview = document.getElementById('apple-preview');\n        const googlePreview = document.getElementById('google-preview');\n\n        if (applePreview && googlePreview) {\n            if (platform === 'apple') {\n                applePreview.classList.remove('d-none');\n                googlePreview.classList.add('d-none');\n            } else {\n                applePreview.classList.add('d-none');\n                googlePreview.classList.remove('d-none');\n            }\n        }\n    },\n\n    /**\n     * Update UI when pass style is changed\n     * Shows/hides appropriate assets and updates preview layout\n     */\n    updatePassStylePreview() {\n        const passStyle = document.querySelector('input[name=\"apple_pass_style\"]:checked')?.value || 'generic';\n\n        // Update style descriptions\n        document.querySelectorAll('[id^=\"style-desc-\"]').forEach(el => el.classList.add('d-none'));\n        const descEl = document.getElementById(`style-desc-${passStyle}`);\n        if (descEl) descEl.classList.remove('d-none');\n\n        // Show/hide appropriate asset containers\n        const stripWrapper = document.getElementById('asset-strip-wrapper');\n        const thumbnailWrapper = document.getElementById('asset-thumbnail-wrapper');\n\n        if (passStyle === 'generic') {\n            // Generic uses thumbnail, not strip\n            if (stripWrapper) stripWrapper.classList.add('d-none');\n            if (thumbnailWrapper) thumbnailWrapper.classList.remove('d-none');\n        } else {\n            // storeCard and eventTicket use strip, not thumbnail\n            if (stripWrapper) stripWrapper.classList.remove('d-none');\n            if (thumbnailWrapper) thumbnailWrapper.classList.add('d-none');\n        }\n\n        // Update the preview card layout\n        this.updatePreviewForPassStyle(passStyle);\n    },\n\n    /**\n     * Update the preview card to reflect the selected pass style\n     *\n     * Layout differences:\n     * - generic: Thumbnail in header, primary fields in separate section, no strip\n     * - storeCard: Strip with primary field OVERLAID on it\n     * - eventTicket: Strip displayed CLEAN (no overlay), fields below, notch at top\n     */\n    updatePreviewForPassStyle(passStyle) {\n        const appleCard = document.getElementById('pass-preview');\n        if (!appleCard) return;\n\n        // Remove old style classes and add new one\n        appleCard.classList.remove('pass-style-generic', 'pass-style-storeCard', 'pass-style-eventTicket');\n        appleCard.classList.add(`pass-style-${passStyle}`);\n        appleCard.setAttribute('data-pass-style', passStyle);\n\n        // Get all the dynamic elements\n        const stripArea = appleCard.querySelector('.pass-strip-area');\n        const thumbnail = appleCard.querySelector('.pass-thumbnail');\n        const primarySection = appleCard.querySelector('.pass-primary-fields-section');\n        const primaryOverlay = appleCard.querySelector('.pass-primary-field-overlay');\n        const notch = appleCard.querySelector('.pass-notch');\n\n        if (passStyle === 'generic') {\n            // Generic: hide strip, show thumbnail in header, show primary section below\n            if (stripArea) stripArea.classList.add('d-none');\n            if (thumbnail) thumbnail.classList.remove('d-none');\n            if (primarySection) primarySection.classList.remove('d-none');\n            if (primaryOverlay) primaryOverlay.classList.add('d-none');\n            if (notch) notch.classList.add('d-none');\n        } else if (passStyle === 'eventTicket') {\n            // EventTicket: show strip CLEAN (no overlay), hide thumbnail, show notch\n            // Fields go in secondary/auxiliary below the strip\n            if (stripArea) {\n                stripArea.classList.remove('d-none');\n                stripArea.classList.add('d-flex');\n            }\n            if (thumbnail) thumbnail.classList.add('d-none');\n            if (primarySection) primarySection.classList.add('d-none');\n            if (primaryOverlay) primaryOverlay.classList.add('d-none'); // No overlay on eventTicket!\n            if (notch) notch.classList.remove('d-none');\n        } else {\n            // storeCard: show strip WITH primary overlay, hide thumbnail, hide notch\n            if (stripArea) {\n                stripArea.classList.remove('d-none');\n                stripArea.classList.add('d-flex');\n            }\n            if (thumbnail) thumbnail.classList.add('d-none');\n            if (primarySection) primarySection.classList.add('d-none');\n            if (primaryOverlay) primaryOverlay.classList.remove('d-none'); // Overlay visible for storeCard\n            if (notch) notch.classList.add('d-none');\n        }\n    },\n\n    openAssetCropper(assetType) {\n        if (typeof AssetCropper !== 'undefined') {\n            // Pass existing asset URL so cropper knows to show delete button\n            const existingUrl = this.assets[assetType]?.url || null;\n            AssetCropper.open(assetType, this.passTypeCode, existingUrl);\n        } else {\n            console.error('AssetCropper not loaded');\n            this.showToast('Asset cropper not available', 'error');\n        }\n    },\n\n    onAssetUploaded(assetType, assetData) {\n        // Update local assets cache\n        this.assets[assetType] = assetData;\n\n        // Update the preview cards\n        this.updateAssetPreviews();\n\n        // Refresh live preview\n        this.updateLivePreviewAssets();\n    },\n\n    onAssetDeleted(assetType) {\n        // Remove from local assets cache\n        delete this.assets[assetType];\n\n        // Update the preview cards to show placeholder\n        const previewCard = document.querySelector(`[data-asset-type=\"${assetType}\"]`);\n        if (previewCard) {\n            const previewArea = previewCard.querySelector('.asset-preview');\n            if (previewArea) {\n                previewArea.innerHTML = `\n                    <div class=\"asset-placeholder\">\n                        <i class=\"ti ti-photo fs-1\"></i>\n                    </div>\n                `;\n            }\n            // Remove the uploaded badge\n            const badge = previewCard.querySelector('.badge.bg-success');\n            if (badge) badge.remove();\n        }\n\n        // Refresh live preview\n        this.updateLivePreviewAssets();\n    },\n\n    updateGooglePreview() {\n        const heroUrl = document.getElementById('google_hero_image_url')?.value;\n        const logoUrl = document.getElementById('google_logo_url')?.value;\n\n        const heroPreview = document.getElementById('preview-google-hero');\n        const logoPreview = document.getElementById('preview-google-logo');\n\n        if (heroPreview) {\n            if (heroUrl) {\n                // Note: Dynamic background image URL, kept as inline style\n                heroPreview.style.backgroundImage = `url('${heroUrl}')`;\n                heroPreview.innerHTML = '';\n            } else {\n                heroPreview.style.backgroundImage = '';\n                heroPreview.innerHTML = `\n                    <div class=\"google-hero-placeholder\">\n                        <i class=\"ti ti-photo-plus\"></i>\n                        <span>Hero Image</span>\n                    </div>\n                `;\n            }\n        }\n\n        if (logoPreview) {\n            if (logoUrl) {\n                logoPreview.innerHTML = `<img src=\"${logoUrl}\" alt=\"Logo\">`;\n            } else if (this.assets.logo && this.assets.logo.url) {\n                logoPreview.innerHTML = `<img src=\"${this.assets.logo.url}\" alt=\"Logo\">`;\n            } else {\n                logoPreview.innerHTML = `\n                    <div class=\"google-logo-placeholder\">\n                        <i class=\"ti ti-building\"></i>\n                    </div>\n                `;\n            }\n        }\n    },\n\n    updatePreview() {\n        // Update Apple preview card\n        const appleCard = document.getElementById('pass-preview');\n        if (appleCard && this.previewData) {\n            const pt = this.previewData.pass_type;\n\n            // Note: Dynamic theme colors from database, kept as inline styles\n            appleCard.style.backgroundColor = pt.background_color;\n            appleCard.style.color = pt.foreground_color;\n\n            // Update label colors\n            appleCard.querySelectorAll('.pass-field-label').forEach(el => {\n                el.style.color = pt.label_color;\n            });\n\n            // Update logo text\n            const logoText = document.getElementById('preview-logo-text');\n            if (logoText) logoText.textContent = pt.logo_text;\n        }\n\n        // Update Google preview card\n        const googleContent = document.querySelector('.google-pass-content');\n        if (googleContent && this.previewData) {\n            const pt = this.previewData.pass_type;\n            // Note: Dynamic theme colors from database, kept as inline styles\n            googleContent.style.backgroundColor = pt.background_color;\n            googleContent.style.color = pt.foreground_color;\n\n            googleContent.querySelectorAll('.google-info-label, .google-card-subtitle').forEach(el => {\n                el.style.color = pt.label_color;\n            });\n        }\n\n        // Update assets in live preview\n        this.updateLivePreviewAssets();\n    },\n\n    /**\n     * Update preview fields from FieldsManager data\n     * Called when fields are added, removed, or modified\n     */\n    updatePreviewFields(frontFields, sampleData) {\n        if (!frontFields || !sampleData) return;\n\n        // Group fields by location\n        const fieldsByLocation = {\n            header: frontFields.filter(f => f.field_location === 'header' && f.is_visible !== false),\n            primary: frontFields.filter(f => f.field_location === 'primary' && f.is_visible !== false),\n            secondary: frontFields.filter(f => f.field_location === 'secondary' && f.is_visible !== false),\n            auxiliary: frontFields.filter(f => f.field_location === 'auxiliary' && f.is_visible !== false)\n        };\n\n        // Get current label color\n        const labelColor = document.getElementById('label_color')?.value ||\n                          this.previewData?.pass_type?.label_color ||\n                          (typeof ECSTheme !== 'undefined' ? ECSTheme.getColor('neutral-50') : '#999999');\n\n        // Helper to resolve template value\n        const resolveValue = (field) => {\n            if (!field.value_template) return field.default_value || '';\n            let value = field.value_template;\n            for (const [key, val] of Object.entries(sampleData)) {\n                value = value.replace(new RegExp('\\\\{\\\\{' + key + '\\\\}\\\\}', 'g'), val || '');\n            }\n            return value;\n        };\n\n        // Update Apple Preview\n        this.updateApplePreviewFields(fieldsByLocation, labelColor, resolveValue);\n\n        // Update Google Preview\n        this.updateGooglePreviewFields(fieldsByLocation, labelColor, resolveValue);\n    },\n\n    updateApplePreviewFields(fieldsByLocation, labelColor, resolveValue) {\n        const appleCard = document.getElementById('pass-preview');\n        if (!appleCard) return;\n\n        // Update Header Fields (right side of header row)\n        const headerRow = appleCard.querySelector('.pass-header');\n        let headerFieldsContainer = appleCard.querySelector('.pass-header-fields');\n\n        if (fieldsByLocation.header.length > 0) {\n            if (!headerFieldsContainer) {\n                // Create header fields container if it doesn't exist\n                headerFieldsContainer = document.createElement('div');\n                headerFieldsContainer.className = 'pass-header-fields';\n                headerFieldsContainer.id = 'preview-header-fields';\n                // Insert before thumbnail (if exists) or at end of header\n                const thumbnail = headerRow.querySelector('.pass-thumbnail');\n                if (thumbnail) {\n                    headerRow.insertBefore(headerFieldsContainer, thumbnail);\n                } else {\n                    headerRow.appendChild(headerFieldsContainer);\n                }\n            }\n            headerFieldsContainer.classList.remove('d-none');\n            headerFieldsContainer.classList.add('d-flex');\n            headerFieldsContainer.innerHTML = fieldsByLocation.header.map(field => `\n                <div class=\"pass-header-field\">\n                    <div class=\"pass-field-label pass-field-label--dynamic\" data-label-color=\"${labelColor}\">${field.label || ''}</div>\n                    <div class=\"pass-field-value\">${resolveValue(field)}</div>\n                </div>\n            `).join('');\n            // Note: Dynamic label colors from configuration, kept as inline styles\n            headerFieldsContainer.querySelectorAll('.pass-field-label--dynamic').forEach(el => {\n                el.style.color = el.dataset.labelColor;\n            });\n        } else if (headerFieldsContainer) {\n            headerFieldsContainer.classList.add('d-none');\n            headerFieldsContainer.classList.remove('d-flex');\n            headerFieldsContainer.innerHTML = '';\n        }\n\n        // Update Primary Field (overlaid on strip area for storeCard, or in primary section for generic)\n        const passStyle = appleCard.getAttribute('data-pass-style') || 'generic';\n        let primaryOverlay = appleCard.querySelector('.pass-primary-field-overlay');\n        let primarySection = appleCard.querySelector('.pass-primary-fields-section');\n\n        if (primaryOverlay) {\n            // For storeCard, show primary in overlay (eventTicket doesn't use primary overlay)\n            if (passStyle === 'storeCard' && fieldsByLocation.primary.length > 0) {\n                const field = fieldsByLocation.primary[0];\n                primaryOverlay.innerHTML = `\n                    <div class=\"pass-field-label pass-field-label--dynamic\" data-label-color=\"${labelColor}\">${field.label || ''}</div>\n                    <div class=\"pass-field-value\">${resolveValue(field)}</div>\n                `;\n                // Note: Dynamic label colors from configuration, kept as inline styles\n                const labelEl = primaryOverlay.querySelector('.pass-field-label--dynamic');\n                if (labelEl) labelEl.style.color = labelEl.dataset.labelColor;\n            } else if (passStyle === 'storeCard') {\n                primaryOverlay.innerHTML = `\n                    <div class=\"pass-field-label pass-field-label--dynamic pass-field-value--muted\" data-label-color=\"${labelColor}\">MEMBER</div>\n                    <div class=\"pass-field-value pass-field-value--muted\">No primary field</div>\n                `;\n                // Note: Dynamic label colors from configuration, kept as inline styles\n                const labelEl = primaryOverlay.querySelector('.pass-field-label--dynamic');\n                if (labelEl) labelEl.style.color = labelEl.dataset.labelColor;\n            }\n        }\n\n        if (primarySection) {\n            // For generic, show primary in separate section\n            if (passStyle === 'generic' && fieldsByLocation.primary.length > 0) {\n                primarySection.innerHTML = fieldsByLocation.primary.map(field => `\n                    <div class=\"pass-field primary-field\">\n                        <div class=\"pass-field-label pass-field-label--dynamic\" data-label-color=\"${labelColor}\">${field.label || ''}</div>\n                        <div class=\"pass-field-value\">${resolveValue(field)}</div>\n                    </div>\n                `).join('');\n                // Note: Dynamic label colors from configuration, kept as inline styles\n                primarySection.querySelectorAll('.pass-field-label--dynamic').forEach(el => {\n                    el.style.color = el.dataset.labelColor;\n                });\n            } else if (passStyle === 'generic') {\n                primarySection.innerHTML = `\n                    <div class=\"pass-field primary-field\">\n                        <div class=\"pass-field-label pass-field-label--dynamic pass-field-value--muted\" data-label-color=\"${labelColor}\">MEMBER</div>\n                        <div class=\"pass-field-value pass-field-value--muted\">No primary field</div>\n                    </div>\n                `;\n                // Note: Dynamic label colors from configuration, kept as inline styles\n                const labelEl = primarySection.querySelector('.pass-field-label--dynamic');\n                if (labelEl) labelEl.style.color = labelEl.dataset.labelColor;\n            }\n        }\n\n        // Update Secondary/Auxiliary Fields (below strip)\n        // For eventTicket, also include primary fields here since they don't go on strip\n        let secondaryContainer = appleCard.querySelector('.pass-secondary-fields');\n        let allSecondary = [...fieldsByLocation.secondary, ...fieldsByLocation.auxiliary];\n\n        // For eventTicket, primary fields move to secondary\n        if (passStyle === 'eventTicket') {\n            allSecondary = [...fieldsByLocation.primary, ...allSecondary];\n        }\n\n        if (allSecondary.length > 0) {\n            if (!secondaryContainer) {\n                secondaryContainer = document.createElement('div');\n                secondaryContainer.className = 'pass-secondary-fields';\n                const stripArea = appleCard.querySelector('.pass-strip-area');\n                const primarySec = appleCard.querySelector('.pass-primary-fields-section');\n                if (stripArea && !stripArea.classList.contains('d-none')) {\n                    stripArea.after(secondaryContainer);\n                } else if (primarySec) {\n                    primarySec.after(secondaryContainer);\n                }\n            }\n            secondaryContainer.innerHTML = allSecondary.map(field => `\n                <div class=\"pass-field\">\n                    <div class=\"pass-field-label pass-field-label--dynamic\" data-label-color=\"${labelColor}\">${field.label || ''}</div>\n                    <div class=\"pass-field-value\">${resolveValue(field)}</div>\n                </div>\n            `).join('');\n            // Note: Dynamic label colors from configuration, kept as inline styles\n            secondaryContainer.querySelectorAll('.pass-field-label--dynamic').forEach(el => {\n                el.style.color = el.dataset.labelColor;\n            });\n        } else if (secondaryContainer) {\n            secondaryContainer.remove();\n        }\n    },\n\n    updateGooglePreviewFields(fieldsByLocation, labelColor, resolveValue) {\n        const googleContent = document.querySelector('.google-pass-content');\n        if (!googleContent) return;\n\n        // Update Primary Value\n        let primaryValue = googleContent.querySelector('.google-primary-value');\n        if (fieldsByLocation.primary.length > 0) {\n            const field = fieldsByLocation.primary[0];\n            if (!primaryValue) {\n                primaryValue = document.createElement('div');\n                primaryValue.className = 'google-primary-value';\n                const header = googleContent.querySelector('.google-header');\n                if (header) header.after(primaryValue);\n            }\n            primaryValue.classList.remove('text-muted');\n            primaryValue.textContent = resolveValue(field);\n        } else if (primaryValue) {\n            primaryValue.classList.add('text-muted');\n            primaryValue.textContent = 'No primary field configured';\n        }\n\n        // Update Info Rows\n        let infoRows = googleContent.querySelector('.google-info-rows');\n        const allSecondary = [...fieldsByLocation.secondary, ...fieldsByLocation.auxiliary];\n\n        if (allSecondary.length > 0) {\n            if (!infoRows) {\n                infoRows = document.createElement('div');\n                infoRows.className = 'google-info-rows';\n                const primaryEl = googleContent.querySelector('.google-primary-value');\n                if (primaryEl) primaryEl.after(infoRows);\n            }\n            infoRows.innerHTML = allSecondary.map(field => `\n                <div class=\"google-info-row\">\n                    <span class=\"google-info-label pass-field-label--dynamic\" data-label-color=\"${labelColor}\">${field.label || ''}</span>\n                    <span class=\"google-info-value\">${resolveValue(field)}</span>\n                </div>\n            `).join('');\n            // Note: Dynamic label colors from configuration, kept as inline styles\n            infoRows.querySelectorAll('.pass-field-label--dynamic').forEach(el => {\n                el.style.color = el.dataset.labelColor;\n            });\n        } else if (infoRows) {\n            infoRows.remove();\n        }\n    },\n\n    updatePreviewFromForm() {\n        // Get form values\n        const bgColor = document.getElementById('background_color')?.value;\n        const fgColor = document.getElementById('foreground_color')?.value;\n        const lblColor = document.getElementById('label_color')?.value;\n        const logoText = document.getElementById('logo_text')?.value;\n\n        // Update Apple preview\n        const appleCard = document.getElementById('pass-preview');\n        if (appleCard) {\n            // Note: Dynamic theme colors from form inputs, kept as inline styles\n            if (bgColor) appleCard.style.backgroundColor = bgColor;\n            if (fgColor) appleCard.style.color = fgColor;\n            if (lblColor) {\n                appleCard.querySelectorAll('.pass-field-label').forEach(el => {\n                    el.style.color = lblColor;\n                });\n            }\n            if (logoText !== undefined) {\n                const logoEl = document.getElementById('preview-logo-text');\n                if (logoEl) logoEl.textContent = logoText;\n            }\n        }\n\n        // Update Google preview\n        const googleContent = document.querySelector('.google-pass-content');\n        if (googleContent) {\n            // Note: Dynamic theme colors from form inputs, kept as inline styles\n            if (bgColor) googleContent.style.backgroundColor = bgColor;\n            if (fgColor) googleContent.style.color = fgColor;\n            if (lblColor) {\n                googleContent.querySelectorAll('.google-info-label, .google-card-subtitle').forEach(el => {\n                    el.style.color = lblColor;\n                });\n            }\n        }\n    },\n\n    updateBarcodePreview() {\n        const suppressBarcode = document.getElementById('suppress_barcode')?.checked;\n\n        // Update Apple preview\n        const appleBarcodeArea = document.querySelector('#apple-preview .pass-barcode-area');\n        if (appleBarcodeArea) {\n            appleBarcodeArea.classList.toggle('d-none', suppressBarcode);\n        }\n\n        // Update Google preview\n        const googleBarcodeArea = document.querySelector('#google-preview .google-barcode-area');\n        if (googleBarcodeArea) {\n            googleBarcodeArea.classList.toggle('d-none', suppressBarcode);\n        }\n    },\n\n    initColorPickers() {\n        // Initialize color picker inputs\n        document.querySelectorAll('.color-input').forEach(input => {\n            input.addEventListener('input', () => {\n                this.updatePreviewFromForm();\n                this.markUnsaved();\n            });\n        });\n    },\n\n    /**\n     * Toggle logo visibility in the preview\n     */\n    toggleLogoVisibility() {\n        const showLogo = document.getElementById('show_logo')?.checked ?? true;\n        const previewLogo = document.getElementById('preview-logo');\n\n        if (previewLogo) {\n            if (showLogo && this.assets.logo && this.assets.logo.url) {\n                previewLogo.classList.remove('d-none');\n                previewLogo.classList.add('d-flex');\n            } else {\n                previewLogo.classList.add('d-none');\n                previewLogo.classList.remove('d-flex');\n            }\n        }\n    },\n\n    async saveAppearance() {\n        const form = document.getElementById('appearance-form');\n        const formData = new FormData(form);\n        const data = Object.fromEntries(formData);\n\n        // Include Google Wallet URLs\n        data.google_hero_image_url = document.getElementById('google_hero_image_url')?.value || '';\n        data.google_logo_url = document.getElementById('google_logo_url')?.value || '';\n\n        // Explicitly include checkbox values (checkboxes don't send value when unchecked)\n        data.suppress_barcode = document.getElementById('suppress_barcode')?.checked || false;\n        data.show_logo = document.getElementById('show_logo')?.checked ?? true;\n\n        // Include pass style\n        const passStyleRadio = document.querySelector('input[name=\"apple_pass_style\"]:checked');\n        data.apple_pass_style = passStyleRadio?.value || 'generic';\n\n        try {\n            const csrfToken = document.querySelector('meta[name=csrf-token]')?.getAttribute('content') ||\n                             document.querySelector('[name=csrf_token]')?.value || '';\n\n            const response = await fetch(`/admin/wallet/studio/${this.passTypeCode}/appearance`, {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json',\n                    'X-CSRFToken': csrfToken\n                },\n                body: JSON.stringify(data)\n            });\n\n            const result = await response.json();\n            if (result.success) {\n                this.showToast('Appearance saved successfully', 'success');\n                this.markSaved();\n            } else {\n                this.showToast(result.error || 'Error saving appearance', 'error');\n            }\n        } catch (error) {\n            console.error('Error saving appearance:', error);\n            this.showToast('Error saving appearance', 'error');\n        }\n    },\n\n    showToast(message, type = 'info') {\n        if (typeof Swal !== 'undefined') {\n            Swal.fire({\n                toast: true,\n                position: 'top-end',\n                icon: type,\n                title: message,\n                showConfirmButton: false,\n                timer: 3000\n            });\n        } else {\n            alert(message);\n        }\n    },\n\n    insertVariable(fieldId, variable) {\n        const input = document.getElementById(fieldId);\n        if (input) {\n            const start = input.selectionStart;\n            const end = input.selectionEnd;\n            const text = input.value;\n            const variableText = '{{' + variable + '}}';\n            input.value = text.substring(0, start) + variableText + text.substring(end);\n            input.focus();\n            input.selectionStart = input.selectionEnd = start + variableText.length;\n            this.markUnsaved();\n        }\n    }\n};\n\n// Initialize on DOM ready\ndocument.addEventListener('DOMContentLoaded', () => {\n    // Get pass type code from script tag data attribute\n    const initScript = document.querySelector('script[data-pass-type-code]');\n    if (initScript) {\n        const passTypeCode = initScript.dataset.passTypeCode;\n        PassStudio.init(passTypeCode);\n    }\n});\n","/**\n * Asset Cropper for Pass Studio\n *\n * Canvas-based image cropper with drag-to-position and scroll-to-zoom.\n * Crops images to exact dimensions required for Apple/Google Wallet passes.\n */\n\nconst AssetCropper = {\n    canvas: null,\n    ctx: null,\n    image: null,\n    scale: 1,\n    minScale: 0.1,\n    maxScale: 5,\n    offsetX: 0,\n    offsetY: 0,\n    isDragging: false,\n    lastX: 0,\n    lastY: 0,\n\n    // Current asset settings\n    currentAssetType: null,\n    targetWidth: 29,\n    targetHeight: 29,\n    passTypeCode: null,\n\n    // Asset dimension presets\n    DIMENSIONS: {\n        icon: { width: 29, height: 29, label: 'Icon' },\n        icon2x: { width: 58, height: 58, label: 'Icon @2x' },\n        logo: { width: 160, height: 50, label: 'Logo' },\n        logo2x: { width: 320, height: 100, label: 'Logo @2x' },\n        strip: { width: 375, height: 123, label: 'Strip Image' },\n        strip2x: { width: 750, height: 246, label: 'Strip @2x' },\n        thumbnail: { width: 90, height: 90, label: 'Thumbnail' },\n        thumbnail2x: { width: 180, height: 180, label: 'Thumbnail @2x' },\n        background: { width: 180, height: 220, label: 'Background' },\n        background2x: { width: 360, height: 440, label: 'Background @2x' }\n    },\n\n    // Track if current asset exists (for delete button visibility)\n    assetExists: false,\n\n    /**\n     * Open the cropper modal for a specific asset type\n     */\n    open(assetType, passTypeCode, existingAssetUrl = null) {\n        this.currentAssetType = assetType;\n        this.passTypeCode = passTypeCode;\n        this.assetExists = !!existingAssetUrl;\n\n        const dims = this.DIMENSIONS[assetType];\n        if (!dims) {\n            console.error('Unknown asset type:', assetType);\n            return;\n        }\n\n        this.targetWidth = dims.width;\n        this.targetHeight = dims.height;\n\n        // Update modal UI\n        document.getElementById('cropper-asset-name').textContent = dims.label;\n        document.getElementById('cropper-dimensions').textContent = `${this.targetWidth}x${this.targetHeight}`;\n\n        // Reset state\n        this.reset();\n\n        // Show upload area, hide canvas\n        document.getElementById('cropper-upload-area').classList.remove('d-none');\n        document.getElementById('cropper-canvas-area').classList.add('d-none');\n        document.getElementById('cropper-save-btn').disabled = true;\n        document.getElementById('cropper-change-btn').classList.add('d-none');\n\n        // Show/hide delete button based on whether asset exists\n        const deleteBtn = document.getElementById('cropper-delete-btn');\n        if (deleteBtn) {\n            if (this.assetExists) {\n                deleteBtn.classList.remove('d-none');\n            } else {\n                deleteBtn.classList.add('d-none');\n            }\n        }\n\n        // Open modal\n        ModalManager.show('assetCropperModal');\n    },\n\n    /**\n     * Initialize the canvas with correct dimensions\n     */\n    initCanvas() {\n        this.canvas = document.getElementById('asset-cropper-canvas');\n        this.ctx = this.canvas.getContext('2d');\n\n        // Set canvas size - scale up for better UX but maintain aspect ratio\n        const maxDisplaySize = 400;\n        const aspectRatio = this.targetWidth / this.targetHeight;\n\n        if (aspectRatio > 1) {\n            // Wider than tall\n            this.canvas.width = Math.min(maxDisplaySize, this.targetWidth * 2);\n            this.canvas.height = this.canvas.width / aspectRatio;\n        } else {\n            // Taller than wide or square\n            this.canvas.height = Math.min(maxDisplaySize, this.targetHeight * 2);\n            this.canvas.width = this.canvas.height * aspectRatio;\n        }\n\n        // Bind events\n        this.canvas.addEventListener('mousedown', this.handleMouseDown.bind(this));\n        this.canvas.addEventListener('mousemove', this.handleMouseMove.bind(this));\n        this.canvas.addEventListener('mouseup', this.handleMouseUp.bind(this));\n        this.canvas.addEventListener('mouseleave', this.handleMouseUp.bind(this));\n        this.canvas.addEventListener('wheel', this.handleWheel.bind(this), { passive: false });\n\n        // Touch events for mobile\n        this.canvas.addEventListener('touchstart', this.handleTouchStart.bind(this), { passive: false });\n        this.canvas.addEventListener('touchmove', this.handleTouchMove.bind(this), { passive: false });\n        this.canvas.addEventListener('touchend', this.handleTouchEnd.bind(this));\n\n        // Set default cursor for draggable canvas\n        this.canvas.classList.add('cursor-move');\n    },\n\n    /**\n     * Load an image from file input\n     */\n    loadImage(fileInput) {\n        const file = fileInput.files[0];\n        if (!file) return;\n\n        // Validate file type\n        if (!file.type.startsWith('image/')) {\n            Swal.fire({\n                icon: 'warning',\n                title: 'Invalid File',\n                text: 'Please select an image file (PNG, JPG, etc.)'\n            });\n            return;\n        }\n\n        const reader = new FileReader();\n        reader.onload = (e) => {\n            const img = new Image();\n            img.onload = () => {\n                this.image = img;\n                this.initCanvas();\n                this.fitImageToCanvas();\n                this.draw();\n\n                // Show canvas area\n                document.getElementById('cropper-upload-area').classList.add('d-none');\n                document.getElementById('cropper-canvas-area').classList.remove('d-none');\n                document.getElementById('cropper-save-btn').disabled = false;\n                document.getElementById('cropper-change-btn').classList.remove('d-none');\n            };\n            img.onerror = () => {\n                Swal.fire({\n                    icon: 'error',\n                    title: 'Load Error',\n                    text: 'Failed to load the image. Please try another file.'\n                });\n            };\n            img.src = e.target.result;\n        };\n        reader.readAsDataURL(file);\n    },\n\n    /**\n     * Fit the image to fill the canvas (cover mode)\n     */\n    fitImageToCanvas() {\n        if (!this.image) return;\n\n        // Scale to fill (cover) - image should fill entire canvas\n        const scaleX = this.canvas.width / this.image.width;\n        const scaleY = this.canvas.height / this.image.height;\n        this.scale = Math.max(scaleX, scaleY);\n\n        // Set min scale to ensure image always covers canvas\n        this.minScale = this.scale * 0.5;\n\n        // Center the image\n        this.offsetX = (this.canvas.width - this.image.width * this.scale) / 2;\n        this.offsetY = (this.canvas.height - this.image.height * this.scale) / 2;\n    },\n\n    /**\n     * Draw the image and overlay on the canvas\n     */\n    draw() {\n        if (!this.ctx || !this.image) return;\n\n        // Draw checkerboard pattern for transparency\n        this.drawCheckerboard();\n\n        // Draw image\n        this.ctx.drawImage(\n            this.image,\n            this.offsetX, this.offsetY,\n            this.image.width * this.scale,\n            this.image.height * this.scale\n        );\n\n        // Draw crop border\n        this.ctx.strokeStyle = (typeof ECSTheme !== 'undefined') ? ECSTheme.getColor('primary') : '#0d6efd';\n        this.ctx.lineWidth = 2;\n        this.ctx.strokeRect(1, 1, this.canvas.width - 2, this.canvas.height - 2);\n    },\n\n    /**\n     * Draw checkerboard pattern to show transparency\n     */\n    drawCheckerboard() {\n        const size = 10;\n        for (let x = 0; x < this.canvas.width; x += size) {\n            for (let y = 0; y < this.canvas.height; y += size) {\n                // Checkerboard pattern - neutral grays for transparency indication\n                const checkerLight = (typeof ECSTheme !== 'undefined') ? ECSTheme.getColor('neutral-10') : '#e0e0e0';\n                const checkerDark = (typeof ECSTheme !== 'undefined') ? ECSTheme.getColor('neutral-5') : '#f5f5f5';\n                this.ctx.fillStyle = ((Math.floor(x / size) + Math.floor(y / size)) % 2 === 0) ? checkerLight : checkerDark;\n                this.ctx.fillRect(x, y, size, size);\n            }\n        }\n    },\n\n    // Mouse event handlers\n    handleMouseDown(e) {\n        this.isDragging = true;\n        const rect = this.canvas.getBoundingClientRect();\n        this.lastX = e.clientX - rect.left;\n        this.lastY = e.clientY - rect.top;\n        // Change to grabbing cursor during drag\n        this.canvas.classList.remove('cursor-move');\n        this.canvas.classList.add('cursor-grabbing');\n    },\n\n    handleMouseMove(e) {\n        if (!this.isDragging || !this.image) return;\n\n        const rect = this.canvas.getBoundingClientRect();\n        const currentX = e.clientX - rect.left;\n        const currentY = e.clientY - rect.top;\n\n        this.offsetX += currentX - this.lastX;\n        this.offsetY += currentY - this.lastY;\n\n        this.lastX = currentX;\n        this.lastY = currentY;\n\n        this.draw();\n    },\n\n    handleMouseUp() {\n        this.isDragging = false;\n        if (this.canvas) {\n            // Restore move cursor after drag\n            this.canvas.classList.remove('cursor-grabbing');\n            this.canvas.classList.add('cursor-move');\n        }\n    },\n\n    handleWheel(e) {\n        e.preventDefault();\n        if (!this.image) return;\n\n        const delta = e.deltaY > 0 ? 0.9 : 1.1;\n        const newScale = this.scale * delta;\n\n        // Limit zoom\n        if (newScale < this.minScale || newScale > this.maxScale) return;\n\n        // Zoom toward mouse position\n        const rect = this.canvas.getBoundingClientRect();\n        const mouseX = e.clientX - rect.left;\n        const mouseY = e.clientY - rect.top;\n\n        this.offsetX = mouseX - (mouseX - this.offsetX) * (newScale / this.scale);\n        this.offsetY = mouseY - (mouseY - this.offsetY) * (newScale / this.scale);\n        this.scale = newScale;\n\n        this.draw();\n    },\n\n    // Touch event handlers\n    handleTouchStart(e) {\n        e.preventDefault();\n        if (e.touches.length === 1) {\n            const touch = e.touches[0];\n            const rect = this.canvas.getBoundingClientRect();\n            this.isDragging = true;\n            this.lastX = touch.clientX - rect.left;\n            this.lastY = touch.clientY - rect.top;\n        }\n    },\n\n    handleTouchMove(e) {\n        e.preventDefault();\n        if (e.touches.length === 1 && this.isDragging && this.image) {\n            const touch = e.touches[0];\n            const rect = this.canvas.getBoundingClientRect();\n            const currentX = touch.clientX - rect.left;\n            const currentY = touch.clientY - rect.top;\n\n            this.offsetX += currentX - this.lastX;\n            this.offsetY += currentY - this.lastY;\n\n            this.lastX = currentX;\n            this.lastY = currentY;\n\n            this.draw();\n        }\n    },\n\n    handleTouchEnd(e) {\n        e.preventDefault();\n        this.isDragging = false;\n    },\n\n    /**\n     * Zoom in by 20%\n     */\n    zoomIn() {\n        if (!this.image) return;\n        const centerX = this.canvas.width / 2;\n        const centerY = this.canvas.height / 2;\n        const newScale = this.scale * 1.2;\n\n        if (newScale > this.maxScale) return;\n\n        this.offsetX = centerX - (centerX - this.offsetX) * (newScale / this.scale);\n        this.offsetY = centerY - (centerY - this.offsetY) * (newScale / this.scale);\n        this.scale = newScale;\n        this.draw();\n    },\n\n    /**\n     * Zoom out by 20%\n     */\n    zoomOut() {\n        if (!this.image) return;\n        const centerX = this.canvas.width / 2;\n        const centerY = this.canvas.height / 2;\n        const newScale = this.scale * 0.8;\n\n        if (newScale < this.minScale) return;\n\n        this.offsetX = centerX - (centerX - this.offsetX) * (newScale / this.scale);\n        this.offsetY = centerY - (centerY - this.offsetY) * (newScale / this.scale);\n        this.scale = newScale;\n        this.draw();\n    },\n\n    /**\n     * Reset to fit image in canvas\n     */\n    resetPosition() {\n        if (!this.image) return;\n        this.fitImageToCanvas();\n        this.draw();\n    },\n\n    /**\n     * Reset completely\n     */\n    reset() {\n        this.image = null;\n        this.scale = 1;\n        this.offsetX = 0;\n        this.offsetY = 0;\n        this.isDragging = false;\n        const fileInput = document.getElementById('cropper-file-input');\n        if (fileInput) fileInput.value = '';\n    },\n\n    /**\n     * Choose a different image\n     */\n    changeImage() {\n        document.getElementById('cropper-file-input').click();\n    },\n\n    /**\n     * Get the cropped image as base64 PNG data\n     */\n    getCroppedImageData() {\n        if (!this.image) return null;\n\n        // Create output canvas at exact target dimensions\n        const outputCanvas = document.createElement('canvas');\n        outputCanvas.width = this.targetWidth;\n        outputCanvas.height = this.targetHeight;\n        const outputCtx = outputCanvas.getContext('2d');\n\n        // Calculate the portion of the image that's visible in the crop area\n        // Map from display canvas coordinates to image coordinates\n        const displayToImageX = (displayX) => (displayX - this.offsetX) / this.scale;\n        const displayToImageY = (displayY) => (displayY - this.offsetY) / this.scale;\n\n        // Source rectangle in image coordinates\n        const srcX = displayToImageX(0);\n        const srcY = displayToImageY(0);\n        const srcW = this.canvas.width / this.scale;\n        const srcH = this.canvas.height / this.scale;\n\n        // Draw the cropped portion at target size\n        outputCtx.drawImage(\n            this.image,\n            srcX, srcY, srcW, srcH,\n            0, 0, this.targetWidth, this.targetHeight\n        );\n\n        return outputCanvas.toDataURL('image/png');\n    },\n\n    /**\n     * Save the cropped image and upload to server\n     */\n    async saveAndUpload() {\n        const croppedData = this.getCroppedImageData();\n        if (!croppedData) {\n            Swal.fire({\n                icon: 'warning',\n                title: 'No Image',\n                text: 'Please select an image first.'\n            });\n            return;\n        }\n\n        // Show loading\n        Swal.fire({\n            title: 'Uploading...',\n            text: 'Saving your asset',\n            allowOutsideClick: false,\n            showConfirmButton: false,\n            didOpen: () => Swal.showLoading()\n        });\n\n        try {\n            // Get CSRF token\n            const csrfToken = document.querySelector('[name=csrf_token]')?.value ||\n                              document.querySelector('meta[name=\"csrf-token\"]')?.content;\n\n            const response = await fetch(`/admin/wallet/studio/${this.passTypeCode}/assets/upload`, {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json',\n                    ...(csrfToken && { 'X-CSRFToken': csrfToken })\n                },\n                body: JSON.stringify({\n                    asset_type: this.currentAssetType,\n                    cropped_image: croppedData\n                })\n            });\n\n            const result = await response.json();\n\n            if (result.success) {\n                Swal.fire({\n                    icon: 'success',\n                    title: 'Asset Saved!',\n                    text: result.message,\n                    timer: 2000,\n                    showConfirmButton: false\n                });\n\n                // Close modal\n                const modal = bootstrap.Modal.getInstance(document.getElementById('assetCropperModal'));\n                if (modal) modal.hide();\n\n                // Notify PassStudio to update preview\n                if (typeof PassStudio !== 'undefined' && PassStudio.onAssetUploaded) {\n                    PassStudio.onAssetUploaded(this.currentAssetType, result.asset);\n                }\n            } else {\n                throw new Error(result.error || 'Upload failed');\n            }\n        } catch (error) {\n            console.error('Upload error:', error);\n            Swal.fire({\n                icon: 'error',\n                title: 'Upload Failed',\n                text: error.message || 'An error occurred while uploading the asset.'\n            });\n        }\n    },\n\n    /**\n     * Delete the current asset\n     */\n    async deleteAsset() {\n        if (!this.currentAssetType || !this.passTypeCode) {\n            return;\n        }\n\n        // Confirm deletion\n        const result = await Swal.fire({\n            title: 'Remove Asset?',\n            text: `Are you sure you want to remove the ${this.DIMENSIONS[this.currentAssetType]?.label || this.currentAssetType} image?`,\n            icon: 'warning',\n            showCancelButton: true,\n            confirmButtonColor: (typeof ECSTheme !== 'undefined') ? ECSTheme.getColor('danger') : '#dc3545',\n            confirmButtonText: 'Yes, remove it',\n            cancelButtonText: 'Cancel'\n        });\n\n        if (!result.isConfirmed) {\n            return;\n        }\n\n        // Show loading\n        Swal.fire({\n            title: 'Removing...',\n            text: 'Deleting asset',\n            allowOutsideClick: false,\n            showConfirmButton: false,\n            didOpen: () => Swal.showLoading()\n        });\n\n        try {\n            // Get CSRF token\n            const csrfToken = document.querySelector('[name=csrf_token]')?.value ||\n                              document.querySelector('meta[name=\"csrf-token\"]')?.content;\n\n            const response = await fetch(`/admin/wallet/studio/${this.passTypeCode}/assets/${this.currentAssetType}`, {\n                method: 'DELETE',\n                headers: {\n                    'Content-Type': 'application/json',\n                    ...(csrfToken && { 'X-CSRFToken': csrfToken })\n                }\n            });\n\n            const responseData = await response.json();\n\n            if (responseData.success) {\n                Swal.fire({\n                    icon: 'success',\n                    title: 'Asset Removed!',\n                    text: responseData.message,\n                    timer: 2000,\n                    showConfirmButton: false\n                });\n\n                // Close modal\n                const modal = bootstrap.Modal.getInstance(document.getElementById('assetCropperModal'));\n                if (modal) modal.hide();\n\n                // Notify PassStudio to update preview\n                if (typeof PassStudio !== 'undefined' && PassStudio.onAssetDeleted) {\n                    PassStudio.onAssetDeleted(this.currentAssetType);\n                }\n            } else {\n                throw new Error(responseData.error || 'Delete failed');\n            }\n        } catch (error) {\n            console.error('Delete error:', error);\n            Swal.fire({\n                icon: 'error',\n                title: 'Delete Failed',\n                text: error.message || 'An error occurred while removing the asset.'\n            });\n        }\n    }\n};\n\n// Make globally available\nwindow.AssetCropper = AssetCropper;\n","/**\n * Security Dashboard JavaScript\n * Handles real-time updates, IP unbanning, and log viewing\n *\n * CONVERTED TO EVENT DELEGATION (Phase 2.2 Sprint 3)\n * - All addEventListener calls removed\n * - All actions registered in event-delegation.js\n * - Uses data-action attributes for all interactive elements\n *\n * @version 2.0.0 - Event Delegation\n * @date 2025-12-16\n */\n\nclass SecurityDashboard {\n    constructor() {\n        this.refreshInterval = null;\n        this.countdownInterval = null;\n        this.init();\n    }\n\n    init() {\n        // NOTE: bindEvents() removed - now using centralized event delegation\n        this.initTooltips();\n        this.loadSecurityEvents();\n        this.loadSecurityLogs();\n        this.startCountdowns();\n        this.startAutoRefresh();\n    }\n\n    // bindEvents() method removed - converted to event delegation system\n    // All event handlers now registered in event-delegation.js:\n    // - refresh-stats (refresh all data)\n    // - refresh-events (refresh security events)\n    // - refresh-logs (refresh security logs)\n    // - unban-ip (unban specific IP)\n    // - ban-ip-quick (quick ban from event list)\n    // - ban-ip-confirm (confirm ban from modal)\n    // - clear-all-bans (clear all IP bans)\n\n    initTooltips() {\n        // Initialize Bootstrap tooltips\n        const tooltipTriggerList = document.querySelectorAll('[data-bs-toggle=\"tooltip\"]');\n        const tooltipList = [...tooltipTriggerList].map(tooltipTriggerEl => new bootstrap.Tooltip(tooltipTriggerEl));\n    }\n\n    async refreshAll() {\n        const refreshBtn = document.getElementById('refreshBtn');\n        const refreshIndicator = document.getElementById('refreshIndicator');\n\n        if (refreshBtn && refreshIndicator) {\n            refreshBtn.disabled = true;\n            refreshIndicator.classList.add('is-active');\n        }\n\n        try {\n            await Promise.all([\n                this.loadSecurityEvents(),\n                this.loadSecurityLogs(),\n                this.refreshStats()\n            ]);\n\n            // Update last updated time\n            const lastUpdated = document.getElementById('lastUpdated');\n            if (lastUpdated) {\n                lastUpdated.textContent = new Date().toLocaleTimeString();\n            }\n        } catch (error) {\n            console.error('Error refreshing dashboard:', error);\n            this.showAlert('Error refreshing dashboard', 'error');\n        } finally {\n            if (refreshBtn && refreshIndicator) {\n                refreshBtn.disabled = false;\n                refreshIndicator.classList.remove('is-active');\n            }\n        }\n    }\n\n    async loadSecurityEvents() {\n        try {\n            console.log('Loading security events...');\n            const response = await fetch('/security/events');\n            console.log('Security events response:', response.status);\n            if (!response.ok) {\n                throw new Error(`Failed to load security events: ${response.status}`);\n            }\n            \n            const data = await response.json();\n            console.log('Security events data:', data);\n            this.renderSecurityEvents(data.events || []);\n        } catch (error) {\n            console.error('Error loading security events:', error);\n            this.renderSecurityEventsError();\n        }\n    }\n\n    async loadSecurityLogs() {\n        try {\n            console.log('Loading security logs...');\n            const response = await fetch('/security/logs');\n            console.log('Security logs response:', response.status);\n            if (!response.ok) {\n                throw new Error(`Failed to load security logs: ${response.status}`);\n            }\n            \n            const data = await response.json();\n            console.log('Security logs data:', data);\n            this.renderSecurityLogs(data.logs || []);\n        } catch (error) {\n            console.error('Error loading security logs:', error);\n            this.renderSecurityLogsError();\n        }\n    }\n\n    async refreshStats() {\n        try {\n            const response = await fetch('/security/status');\n            if (!response.ok) {\n                throw new Error('Failed to refresh stats');\n            }\n            \n            const data = await response.json();\n            \n            // Update monitored IPs count\n            const monitoredIps = document.getElementById('monitoredIps');\n            if (monitoredIps && data.attack_protection) {\n                monitoredIps.textContent = data.attack_protection.total_monitored_ips || 0;\n            }\n            \n            // Update blacklisted IPs count\n            const blacklistedIps = document.getElementById('blacklistedIps');\n            if (blacklistedIps && data.attack_protection) {\n                blacklistedIps.textContent = data.attack_protection.total_blacklisted_ips || 0;\n            }\n            \n            // Update attack attempts count\n            const attackAttempts = document.getElementById('attackAttempts');\n            if (attackAttempts && data.attack_protection) {\n                attackAttempts.textContent = data.attack_protection.total_attack_attempts || 0;\n            }\n        } catch (error) {\n            console.error('Error refreshing stats:', error);\n        }\n    }\n\n    renderSecurityEvents(events) {\n        const container = document.getElementById('securityEvents');\n        if (!container) return;\n\n        if (events.length === 0) {\n            container.innerHTML = `\n                <div class=\"u-text-center u-py-4\">\n                    <i class=\"ti ti-shield-check u-text-success u-mb-2 u-fs-1\"></i>\n                    <p class=\"u-text-muted u-mb-0\">No recent security events</p>\n                </div>\n            `;\n            return;\n        }\n\n        const eventsHTML = events.map(event => {\n            const severityClass = this.getSeverityClass(event.severity);\n            const iconClass = this.getEventIcon(event.type);\n            const timestamp = new Date(event.timestamp).toLocaleString();\n\n            return `\n                <div class=\"js-event-item\" data-severity=\"${event.severity}\">\n                    <div class=\"u-flex u-align-start\">\n                        <div class=\"u-avatar u-avatar-sm u-me-3\">\n                            <div class=\"u-avatar-initial u-bg-light-${severityClass} u-rounded-circle\">\n                                <i class=\"ti ${iconClass} u-text-${severityClass}\"></i>\n                            </div>\n                        </div>\n                        <div class=\"u-flex-grow\">\n                            <div class=\"u-flex u-justify-between u-align-start\">\n                                <div>\n                                    <h6 class=\"u-mb-1\">${this.formatEventTitle(event.type)}</h6>\n                                    <p class=\"u-mb-1 u-text-muted\">${event.description}</p>\n                                    <small class=\"u-text-muted\">\n                                        <i class=\"ti ti-clock u-me-1\"></i>\n                                        ${timestamp}\n                                    </small>\n                                </div>\n                                <div class=\"u-ms-2\">\n                                    ${this.shouldShowBanButton(event) ? `\n                                        <button class=\"u-btn u-btn-outline-danger u-btn-xs\" data-action=\"ban-ip-quick\" data-ip=\"${event.ip}\" data-reason=\"Security event: ${event.type}\">\n                                            <i class=\"ti ti-ban\"></i>\n                                            Ban\n                                        </button>\n                                    ` : ''}\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            `;\n        }).join('');\n\n        container.innerHTML = eventsHTML;\n    }\n\n    renderSecurityLogs(logs) {\n        const container = document.getElementById('securityLogs');\n        if (!container) return;\n\n        if (logs.length === 0) {\n            container.innerHTML = `\n                <div class=\"u-text-center u-py-4\">\n                    <i class=\"ti ti-file-text u-text-muted u-mb-2 u-fs-1\"></i>\n                    <p class=\"u-text-muted u-mb-0\">No recent logs</p>\n                </div>\n            `;\n            return;\n        }\n\n        const logsHTML = logs.map(log => {\n            const levelClass = this.getLogLevelClass(log.level);\n            const levelIcon = this.getLogLevelIcon(log.level);\n            const timestamp = new Date(log.timestamp);\n            const timeFormatted = timestamp.toLocaleDateString() + ' ' + timestamp.toLocaleTimeString();\n\n            return `\n                <div class=\"js-log-item u-flex u-align-start u-mb-3 u-p-3 u-border u-rounded\">\n                    <div class=\"u-avatar u-avatar-sm u-me-3\">\n                        <div class=\"u-avatar-initial u-bg-light-${levelClass} u-rounded-circle\">\n                            <i class=\"ti ${levelIcon} u-text-${levelClass}\"></i>\n                        </div>\n                    </div>\n                    <div class=\"u-flex-grow\">\n                        <div class=\"u-flex u-justify-between u-align-start u-mb-1\">\n                            <span class=\"u-badge u-bg-light-${levelClass} u-text-${levelClass}\">${log.level}</span>\n                            <small class=\"u-text-muted\">${log.source}</small>\n                        </div>\n                        <p class=\"u-mb-2 u-fw-medium\">${log.message}</p>\n                        <small class=\"u-text-muted\">\n                            <i class=\"ti ti-clock u-me-1\"></i>\n                            ${timeFormatted}\n                        </small>\n                    </div>\n                </div>\n            `;\n        }).join('');\n\n        container.innerHTML = logsHTML;\n    }\n\n    renderSecurityEventsError() {\n        const container = document.getElementById('securityEvents');\n        if (container) {\n            container.innerHTML = `\n                <div class=\"u-text-center u-py-4\">\n                    <i class=\"ti ti-alert-triangle u-text-warning u-mb-2 u-fs-1\"></i>\n                    <p class=\"u-text-muted u-mb-0\">Error loading security events</p>\n                </div>\n            `;\n        }\n    }\n\n    renderSecurityLogsError() {\n        const container = document.getElementById('securityLogs');\n        if (container) {\n            container.innerHTML = `\n                <div class=\"u-text-center u-py-4\">\n                    <i class=\"ti ti-alert-triangle u-text-warning u-mb-2 u-fs-1\"></i>\n                    <p class=\"u-text-muted u-mb-0\">Error loading security logs</p>\n                </div>\n            `;\n        }\n    }\n\n    async unbanIP(ip, button) {\n        if (!ip || !button) return;\n\n        const originalText = button.innerHTML;\n        button.disabled = true;\n        button.innerHTML = '<i class=\"ti ti-loader-2\"></i> Unbanning...';\n\n        try {\n            // Get CSRF token from meta tag (vanilla JS, no jQuery)\n            const csrfToken = document.querySelector('meta[name=csrf-token]')?.getAttribute('content') || '';\n\n            const requestData = {\n                ip_address: ip\n            };\n\n            const headers = {\n                'Content-Type': 'application/json'\n            };\n\n            // Add CSRF token if available\n            if (csrfToken) {\n                headers['X-CSRFToken'] = csrfToken;\n            }\n\n            const response = await fetch('/security/unban_ip', {\n                method: 'POST',\n                headers: headers,\n                body: JSON.stringify(requestData)\n            });\n\n            if (!response.ok) {\n                throw new Error('Failed to unban IP');\n            }\n\n            const data = await response.json();\n            \n            if (data.success) {\n                // Remove the IP from the list\n                const ipContainer = button.closest('[data-banned-ip]');\n                if (ipContainer) {\n                    ipContainer.remove();\n                }\n\n                this.showAlert(data.message, 'success');\n\n                // Update blacklisted count\n                this.refreshStats();\n            } else {\n                throw new Error(data.error || 'Unknown error');\n            }\n        } catch (error) {\n            console.error('Error unbanning IP:', error);\n            this.showAlert('Error unbanning IP: ' + error.message, 'error');\n            button.disabled = false;\n            button.innerHTML = originalText;\n        }\n    }\n\n    async banIP() {\n        const form = document.getElementById('banIpForm');\n        const formData = new FormData(form);\n        const ipAddress = formData.get('ip_address');\n        const duration = formData.get('duration');\n        const reason = formData.get('reason');\n\n        if (!ipAddress) {\n            this.showAlert('IP address is required', 'error');\n            return;\n        }\n\n        const confirmBanBtn = document.getElementById('confirmBanBtn');\n        const originalText = confirmBanBtn.innerHTML;\n        confirmBanBtn.disabled = true;\n        confirmBanBtn.innerHTML = '<i class=\"ti ti-loader-2\"></i> Banning...';\n\n        try {\n            const csrfToken = document.querySelector('meta[name=csrf-token]')?.getAttribute('content') || '';\n            \n            const requestData = {\n                ip_address: ipAddress,\n                duration_hours: duration ? parseInt(duration) : null,\n                reason: reason || null\n            };\n            \n            const headers = {\n                'Content-Type': 'application/json'\n            };\n            \n            if (csrfToken) {\n                headers['X-CSRFToken'] = csrfToken;\n            }\n\n            const response = await fetch('/security/ban_ip', {\n                method: 'POST',\n                headers: headers,\n                body: JSON.stringify(requestData)\n            });\n\n            if (!response.ok) {\n                throw new Error(`Failed to ban IP: ${response.status}`);\n            }\n\n            const data = await response.json();\n            \n            if (data.success) {\n                this.showAlert(data.message, 'success');\n                \n                // Close modal and reset form\n                const modal = bootstrap.Modal.getInstance(document.getElementById('banIpModal'));\n                modal.hide();\n                form.reset();\n                \n                // Refresh the page data\n                await this.refreshAll();\n            } else {\n                throw new Error(data.error || 'Unknown error');\n            }\n        } catch (error) {\n            console.error('Error banning IP:', error);\n            this.showAlert('Error banning IP: ' + error.message, 'error');\n        } finally {\n            confirmBanBtn.disabled = false;\n            confirmBanBtn.innerHTML = originalText;\n        }\n    }\n\n    async clearAllBans() {\n        if (!confirm('Are you sure you want to clear ALL IP bans? This action cannot be undone.')) {\n            return;\n        }\n\n        const clearAllBansBtn = document.getElementById('clearAllBansBtn');\n        const originalText = clearAllBansBtn.innerHTML;\n        clearAllBansBtn.disabled = true;\n        clearAllBansBtn.innerHTML = '<i class=\"ti ti-loader-2\"></i> Clearing...';\n\n        try {\n            const csrfToken = document.querySelector('meta[name=csrf-token]')?.getAttribute('content') || '';\n            \n            const headers = {\n                'Content-Type': 'application/json'\n            };\n            \n            if (csrfToken) {\n                headers['X-CSRFToken'] = csrfToken;\n            }\n\n            const response = await fetch('/security/clear_all_bans', {\n                method: 'POST',\n                headers: headers\n            });\n\n            if (!response.ok) {\n                throw new Error(`Failed to clear bans: ${response.status}`);\n            }\n\n            const data = await response.json();\n            \n            if (data.success) {\n                this.showAlert(data.message, 'success');\n                \n                // Refresh the page data\n                await this.refreshAll();\n            } else {\n                throw new Error(data.error || 'Unknown error');\n            }\n        } catch (error) {\n            console.error('Error clearing bans:', error);\n            this.showAlert('Error clearing bans: ' + error.message, 'error');\n        } finally {\n            clearAllBansBtn.disabled = false;\n            clearAllBansBtn.innerHTML = originalText;\n        }\n    }\n\n    startCountdowns() {\n        this.countdownInterval = setInterval(() => {\n            const countdownElements = document.querySelectorAll('.countdown');\n            \n            countdownElements.forEach(element => {\n                let remaining = parseInt(element.getAttribute('data-expiry'));\n                \n                if (remaining > 0) {\n                    remaining--;\n                    element.setAttribute('data-expiry', remaining);\n                    \n                    const minutes = Math.floor(remaining / 60);\n                    const seconds = remaining % 60;\n                    element.textContent = `${minutes}:${seconds.toString().padStart(2, '0')}`;\n                    \n                    if (remaining === 0) {\n                        // IP ban expired, remove from list\n                        const ipContainer = element.closest('[data-banned-ip]');\n                        if (ipContainer) {\n                            ipContainer.remove();\n                        }\n                        this.refreshStats();\n                    }\n                }\n            });\n        }, 1000);\n    }\n\n    startAutoRefresh() {\n        // Refresh data every 30 seconds\n        this.refreshInterval = setInterval(() => {\n            this.loadSecurityEvents();\n            this.loadSecurityLogs();\n            this.refreshStats();\n        }, 30000);\n    }\n\n    getSeverityClass(severity) {\n        switch (severity) {\n            case 'high': return 'danger';\n            case 'medium': return 'warning';\n            case 'low': return 'success';\n            default: return 'secondary';\n        }\n    }\n\n    getEventIcon(type) {\n        switch (type) {\n            case 'ip_blacklisted': return 'ti-ban';\n            case 'high_request_rate': return 'ti-activity';\n            case 'attack_detected': return 'ti-shield-x';\n            case 'suspicious_activity': return 'ti-eye-exclamation';\n            default: return 'ti-alert-triangle';\n        }\n    }\n\n    getLogLevelClass(level) {\n        switch (level) {\n            case 'ERROR': return 'danger';\n            case 'WARNING': return 'warning';\n            case 'INFO': return 'info';\n            case 'DEBUG': return 'secondary';\n            default: return 'secondary';\n        }\n    }\n\n    getLogLevelIcon(level) {\n        switch (level) {\n            case 'ERROR': return 'ti-circle-x';\n            case 'WARNING': return 'ti-alert-triangle';\n            case 'INFO': return 'ti-info-circle';\n            case 'DEBUG': return 'ti-bug';\n            default: return 'ti-file-text';\n        }\n    }\n\n    formatEventTitle(type) {\n        switch (type) {\n            case 'ip_blacklisted': return 'IP Blacklisted';\n            case 'high_request_rate': return 'High Request Rate';\n            case 'attack_detected': return 'Attack Detected';\n            case 'suspicious_activity': return 'Suspicious Activity';\n            default: return 'Security Event';\n        }\n    }\n\n    shouldShowBanButton(event) {\n        // Only show ban button for events that have an IP address and are not already from banned IPs\n        if (!event.ip) return false;\n        \n        // Don't show ban button if IP is already blacklisted\n        if (event.type === 'ip_blacklisted') return false;\n        \n        // Show ban button for high-severity events or repeated offenses\n        return event.severity === 'high' || \n               event.type === 'attack_detected' || \n               event.type === 'suspicious_activity' ||\n               event.type === 'high_request_rate';\n    }\n\n    async quickBanIP(ip, reason) {\n        if (!ip) return;\n\n        // Show confirmation dialog\n        const confirmed = confirm(`Ban IP address ${ip}?\\nReason: ${reason}`);\n        if (!confirmed) return;\n\n        try {\n            const csrfToken = document.querySelector('meta[name=csrf-token]')?.getAttribute('content') || '';\n            \n            const requestData = {\n                ip_address: ip,\n                duration_hours: 24, // Default 24-hour ban for quick bans\n                reason: reason\n            };\n            \n            const headers = {\n                'Content-Type': 'application/json'\n            };\n            \n            if (csrfToken) {\n                headers['X-CSRFToken'] = csrfToken;\n            }\n\n            const response = await fetch('/security/ban_ip', {\n                method: 'POST',\n                headers: headers,\n                body: JSON.stringify(requestData)\n            });\n\n            if (!response.ok) {\n                throw new Error(`Failed to ban IP: ${response.status}`);\n            }\n\n            const data = await response.json();\n            \n            if (data.success) {\n                this.showAlert(`IP ${ip} has been banned successfully`, 'success');\n                \n                // Refresh the page data to update stats and events\n                await this.refreshAll();\n            } else {\n                throw new Error(data.error || 'Unknown error');\n            }\n        } catch (error) {\n            console.error('Error banning IP:', error);\n            this.showAlert('Error banning IP: ' + error.message, 'error');\n        }\n    }\n\n    showAlert(message, type = 'info') {\n        // Use SweetAlert2 if available, otherwise fallback to browser alert\n        if (typeof Swal !== 'undefined') {\n            Swal.fire({\n                title: type === 'error' ? 'Error' : 'Success',\n                text: message,\n                icon: type === 'error' ? 'error' : 'success',\n                confirmButtonText: 'OK'\n            });\n        } else {\n            alert(message);\n        }\n    }\n\n    destroy() {\n        if (this.refreshInterval) {\n            clearInterval(this.refreshInterval);\n        }\n        if (this.countdownInterval) {\n            clearInterval(this.countdownInterval);\n        }\n    }\n}\n\n// Initialize dashboard when DOM is ready\ndocument.addEventListener('DOMContentLoaded', () => {\n    window.securityDashboard = new SecurityDashboard();\n});\n\n// Clean up on page unload\nwindow.addEventListener('beforeunload', () => {\n    if (window.securityDashboard) {\n        window.securityDashboard.destroy();\n    }\n});\n","/*! shepherd.js 11.2.0 */\n\n'use strict';(function(K,ra){\"object\"===typeof exports&&\"undefined\"!==typeof module?module.exports=ra():\"function\"===typeof define&&define.amd?define(ra):(K=\"undefined\"!==typeof globalThis?globalThis:K||self,K.Shepherd=ra())})(this,function(){function K(a,b){return!1!==b.clone&&b.isMergeableObject(a)?fa(Array.isArray(a)?[]:{},a,b):a}function ra(a,b,c){return a.concat(b).map(function(d){return K(d,c)})}function Bb(a){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(a).filter(function(b){return Object.propertyIsEnumerable.call(a,\nb)}):[]}function Ua(a){return Object.keys(a).concat(Bb(a))}function Va(a,b){try{return b in a}catch(c){return!1}}function Cb(a,b,c){var d={};c.isMergeableObject(a)&&Ua(a).forEach(function(e){d[e]=K(a[e],c)});Ua(b).forEach(function(e){if(!Va(a,e)||Object.hasOwnProperty.call(a,e)&&Object.propertyIsEnumerable.call(a,e))if(Va(a,e)&&c.isMergeableObject(b[e])){if(c.customMerge){var f=c.customMerge(e);f=\"function\"===typeof f?f:fa}else f=fa;d[e]=f(a[e],b[e],c)}else d[e]=K(b[e],c)});return d}function fa(a,\nb,c){c=c||{};c.arrayMerge=c.arrayMerge||ra;c.isMergeableObject=c.isMergeableObject||Db;c.cloneUnlessOtherwiseSpecified=K;var d=Array.isArray(b),e=Array.isArray(a);return d!==e?K(b,c):d?c.arrayMerge(a,b,c):Cb(a,b,c)}function X(a){return\"function\"===typeof a}function sa(a){return\"string\"===typeof a}function Wa(a){let b=Object.getOwnPropertyNames(a.constructor.prototype);for(let c=0;c<b.length;c++){let d=b[c],e=a[d];\"constructor\"!==d&&\"function\"===typeof e&&(a[d]=e.bind(a))}return a}function Eb(a,b){return c=>\n{if(b.isOpen()){let d=b.el&&c.currentTarget===b.el;(void 0!==a&&c.currentTarget.matches(a)||d)&&b.tour.next()}}}function Fb(a){let {event:b,selector:c}=a.options.advanceOn||{};if(b){let d=Eb(c,a),e;try{e=document.querySelector(c)}catch(f){}if(void 0===c||e)e?(e.addEventListener(b,d),a.on(\"destroy\",()=>e.removeEventListener(b,d))):(document.body.addEventListener(b,d,!0),a.on(\"destroy\",()=>document.body.removeEventListener(b,d,!0)));else return console.error(`No element was found for the selector supplied to advanceOn: ${c}`)}else return console.error(\"advanceOn was defined, but no event name was passed.\")}\nfunction Xa(a){return sa(a)&&\"\"!==a?\"-\"!==a.charAt(a.length-1)?`${a}-`:a:\"\"}function Ga(){let a=Date.now();return\"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx\".replace(/[xy]/g,b=>{let c=(a+16*Math.random())%16|0;a=Math.floor(a/16);return(\"x\"==b?c:c&3|8).toString(16)})}function D(){D=Object.assign?Object.assign.bind():function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b],d;for(d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a};return D.apply(this,arguments)}function Ya(a,\nb){if(null==a)return{};var c={},d=Object.keys(a),e;for(e=0;e<d.length;e++){var f=d[e];0<=b.indexOf(f)||(c[f]=a[f])}return c}function ha(a,b){return\"function\"===typeof a?a(b):a}function Y(a){return a.split(\"-\")[0]}function ta(a){return\"x\"===a?\"y\":\"x\"}function Ha(a){return\"y\"===a?\"height\":\"width\"}function ia(a){return[\"top\",\"bottom\"].includes(Y(a))?\"y\":\"x\"}function Gb(a,b,c){void 0===c&&(c=!1);let d=a.split(\"-\")[1],e=ta(ia(a));a=Ha(e);c=\"x\"===e?d===(c?\"end\":\"start\")?\"right\":\"left\":\"start\"===d?\"bottom\":\n\"top\";b.reference[a]>b.floating[a]&&(c=va(c));return[c,va(c)]}function Hb(a){let b=va(a);return[Ia(a),b,Ia(b)]}function Ia(a){return a.replace(/start|end/g,b=>Ib[b])}function Jb(a,b,c){let d=[\"left\",\"right\"],e=[\"right\",\"left\"],f=[\"top\",\"bottom\"],g=[\"bottom\",\"top\"];switch(a){case \"top\":case \"bottom\":return c?b?e:d:b?d:e;case \"left\":case \"right\":return b?f:g;default:return[]}}function Kb(a,b,c,d){let e=a.split(\"-\")[1];a=Jb(Y(a),\"start\"===c,d);e&&(a=a.map(f=>f+\"-\"+e),b&&(a=a.concat(a.map(Ia))));return a}\nfunction va(a){return a.replace(/left|right|bottom|top/g,b=>Lb[b])}function Za(a){return\"number\"!==typeof a?D({top:0,right:0,bottom:0,left:0},a):{top:a,right:a,bottom:a,left:a}}function wa(a){return D({},a,{top:a.y,left:a.x,right:a.x+a.width,bottom:a.y+a.height})}function $a(a,b,c){let {reference:d,floating:e}=a;var f=ia(b);a=ta(ia(b));var g=Ha(a),h=Y(b);f=\"y\"===f;let l=d.x+d.width/2-e.width/2,k=d.y+d.height/2-e.height/2;g=d[g]/2-e[g]/2;switch(h){case \"top\":h={x:l,y:d.y-e.height};break;case \"bottom\":h=\n{x:l,y:d.y+d.height};break;case \"right\":h={x:d.x+d.width,y:k};break;case \"left\":h={x:d.x-e.width,y:k};break;default:h={x:d.x,y:d.y}}switch(b.split(\"-\")[1]){case \"start\":h[a]-=g*(c&&f?-1:1);break;case \"end\":h[a]+=g*(c&&f?-1:1)}return h}async function ab(a,b){var c;void 0===b&&(b={});let {x:d,y:e,platform:f,rects:g,elements:h,strategy:l}=a,{boundary:k=\"clippingAncestors\",rootBoundary:m=\"viewport\",elementContext:q=\"floating\",altBoundary:p=!1,padding:u=0}=ha(b,a);a=Za(u);b=h[p?\"floating\"===q?\"reference\":\n\"floating\":q];b=wa(await f.getClippingRect({element:(null!=(c=await (null==f.isElement?void 0:f.isElement(b)))?c:1)?b:b.contextElement||await (null==f.getDocumentElement?void 0:f.getDocumentElement(h.floating)),boundary:k,rootBoundary:m,strategy:l}));var r=\"floating\"===q?D({},g.floating,{x:d,y:e}):g.reference;let n=await (null==f.getOffsetParent?void 0:f.getOffsetParent(h.floating));c=await (null==f.isElement?void 0:f.isElement(n))?await (null==f.getScale?void 0:f.getScale(n))||{x:1,y:1}:{x:1,y:1};\nr=wa(f.convertOffsetParentRelativeRectToViewportRelativeRect?await f.convertOffsetParentRelativeRectToViewportRelativeRect({rect:r,offsetParent:n,strategy:l}):r);return{top:(b.top-r.top+a.top)/c.y,bottom:(r.bottom-b.bottom+a.bottom)/c.y,left:(b.left-r.left+a.left)/c.x,right:(r.right-b.right+a.right)/c.x}}function T(a){return bb(a)?(a.nodeName||\"\").toLowerCase():\"#document\"}function E(a){var b;return(null==a?void 0:null==(b=a.ownerDocument)?void 0:b.defaultView)||window}function L(a){var b;return null==\n(b=(bb(a)?a.ownerDocument:a.document)||window.document)?void 0:b.documentElement}function bb(a){return a instanceof Node||a instanceof E(a).Node}function M(a){return a instanceof Element||a instanceof E(a).Element}function J(a){return a instanceof HTMLElement||a instanceof E(a).HTMLElement}function cb(a){return\"undefined\"===typeof ShadowRoot?!1:a instanceof ShadowRoot||a instanceof E(a).ShadowRoot}function ua(a){let {overflow:b,overflowX:c,overflowY:d,display:e}=G(a);return/auto|scroll|overlay|hidden|clip/.test(b+\nd+c)&&![\"inline\",\"contents\"].includes(e)}function Ja(a){let b=Ka(),c=G(a);return\"none\"!==c.transform||\"none\"!==c.perspective||(c.containerType?\"normal\"!==c.containerType:!1)||!b&&(c.backdropFilter?\"none\"!==c.backdropFilter:!1)||!b&&(c.filter?\"none\"!==c.filter:!1)||[\"transform\",\"perspective\",\"filter\"].some(d=>(c.willChange||\"\").includes(d))||[\"paint\",\"layout\",\"strict\",\"content\"].some(d=>(c.contain||\"\").includes(d))}function Ka(){return\"undefined\"!==typeof CSS&&CSS.supports?CSS.supports(\"-webkit-backdrop-filter\",\n\"none\"):!1}function xa(a){return[\"html\",\"body\",\"#document\"].includes(T(a))}function G(a){return E(a).getComputedStyle(a)}function ya(a){return M(a)?{scrollLeft:a.scrollLeft,scrollTop:a.scrollTop}:{scrollLeft:a.pageXOffset,scrollTop:a.pageYOffset}}function ja(a){if(\"html\"===T(a))return a;a=a.assignedSlot||a.parentNode||cb(a)&&a.host||L(a);return cb(a)?a.host:a}function db(a){let b=ja(a);return xa(b)?a.ownerDocument?a.ownerDocument.body:a.body:J(b)&&ua(b)?b:db(b)}function za(a,b){var c;void 0===b&&\n(b=[]);let d=db(a);a=d===(null==(c=a.ownerDocument)?void 0:c.body);c=E(d);return a?b.concat(c,c.visualViewport||[],ua(d)?d:[]):b.concat(d,za(d))}function eb(a){var b=G(a);let c=parseFloat(b.width)||0;b=parseFloat(b.height)||0;var d=J(a);let e=d?a.offsetWidth:c;a=d?a.offsetHeight:b;if(d=Aa(c)!==e||Aa(b)!==a)c=e,b=a;return{width:c,height:b,$:d}}function La(a){return M(a)?a:a.contextElement}function ka(a){var b=La(a);if(!J(b))return{x:1,y:1};a=b.getBoundingClientRect();let {width:c,height:d,$:e}=eb(b);\nb=(e?Aa(a.width):a.width)/c;a=(e?Aa(a.height):a.height)/d;b&&Number.isFinite(b)||(b=1);a&&Number.isFinite(a)||(a=1);return{x:b,y:a}}function fb(a){a=E(a);return Ka()&&a.visualViewport?{x:a.visualViewport.offsetLeft,y:a.visualViewport.offsetTop}:Mb}function Z(a,b,c,d){void 0===b&&(b=!1);void 0===c&&(c=!1);var e=a.getBoundingClientRect(),f=La(a),g={x:1,y:1};b&&(d?M(d)&&(g=ka(d)):g=ka(a));a=c;void 0===a&&(a=!1);a=!d||a&&d!==E(f)?!1:a;b=a?fb(f):{x:0,y:0};a=(e.left+b.x)/g.x;b=(e.top+b.y)/g.y;c=e.width/\ng.x;e=e.height/g.y;if(f){f=E(f);g=d&&M(d)?E(d):d;let l=f.frameElement;for(;l&&d&&g!==f;){let k=ka(l);var h=l.getBoundingClientRect();let m=G(l),q=h.left+(l.clientLeft+parseFloat(m.paddingLeft))*k.x;h=h.top+(l.clientTop+parseFloat(m.paddingTop))*k.y;a*=k.x;b*=k.y;c*=k.x;e*=k.y;a+=q;b+=h;l=E(l).frameElement}}return wa({width:c,height:e,x:a,y:b})}function gb(a){return Z(L(a)).left+ya(a).scrollLeft}function hb(a,b,c){if(\"viewport\"===b){b=E(a);var d=L(a);b=b.visualViewport;a=d.clientWidth;d=d.clientHeight;\nvar e=0,f=0;if(b){a=b.width;d=b.height;let g=Ka();if(!g||g&&\"fixed\"===c)e=b.offsetLeft,f=b.offsetTop}c={width:a,height:d,x:e,y:f}}else\"document\"===b?(f=L(a),c=L(f),e=ya(f),b=f.ownerDocument.body,a=N(c.scrollWidth,c.clientWidth,b.scrollWidth,b.clientWidth),d=N(c.scrollHeight,c.clientHeight,b.scrollHeight,b.clientHeight),f=-e.scrollLeft+gb(f),e=-e.scrollTop,\"rtl\"===G(b).direction&&(f+=N(c.clientWidth,b.clientWidth)-a),c={width:a,height:d,x:f,y:e}):M(b)?(a=Z(b,!0,\"fixed\"===c),c=a.top+b.clientTop,a=a.left+\nb.clientLeft,d=J(b)?ka(b):{x:1,y:1},c={width:b.clientWidth*d.x,height:b.clientHeight*d.y,x:a*d.x,y:c*d.y}):(c=fb(a),c=D({},b,{x:b.x-c.x,y:b.y-c.y}));return wa(c)}function ib(a,b){a=ja(a);return a===b||!M(a)||xa(a)?!1:\"fixed\"===G(a).position||ib(a,b)}function Nb(a,b){var c=b.get(a);if(c)return c;c=za(a).filter(g=>M(g)&&\"body\"!==T(g));let d=null,e=\"fixed\"===G(a).position,f=e?ja(a):a;for(;M(f)&&!xa(f);){let g=G(f),h=Ja(f);h||\"fixed\"!==g.position||(d=null);(e?!h&&!d:!h&&\"static\"===g.position&&d&&[\"absolute\",\n\"fixed\"].includes(d.position)||ua(f)&&!h&&ib(a,f))?c=c.filter(l=>l!==f):d=g;f=ja(f)}b.set(a,c);return c}function jb(a,b){return J(a)&&\"fixed\"!==G(a).position?b?b(a):a.offsetParent:null}function kb(a,b){let c=E(a);if(!J(a))return c;let d=jb(a,b);for(;d&&[\"table\",\"td\",\"th\"].includes(T(d))&&\"static\"===G(d).position;)d=jb(d,b);if(d&&(\"html\"===T(d)||\"body\"===T(d)&&\"static\"===G(d).position&&!Ja(d)))return c;if(!(b=d))a:{for(a=ja(a);J(a)&&!xa(a);)if(Ja(a)){b=a;break a}else a=ja(a);b=null}return b||c}function Ob(a,\nb){function c(){clearTimeout(f);e&&e.disconnect();e=null}function d(h,l){function k(x){x=x[0].intersectionRatio;if(x!==l){if(!t)return d();x?d(!1,x):f=setTimeout(()=>{d(!1,1E-7)},100)}t=!1}void 0===h&&(h=!1);void 0===l&&(l=1);c();let {left:m,top:q,width:p,height:u}=a.getBoundingClientRect();h||b();if(p&&u){h=Ba(q);var r=Ba(g.clientWidth-(m+p)),n=Ba(g.clientHeight-(q+u)),v=Ba(m);h={rootMargin:-h+\"px \"+-r+\"px \"+-n+\"px \"+-v+\"px\",threshold:N(0,U(1,l))||1};var t=!0;try{e=new IntersectionObserver(k,D({},\nh,{root:g.ownerDocument}))}catch(x){e=new IntersectionObserver(k,h)}e.observe(a)}}let e=null,f,g=L(a);d(!0);return c}function Pb(a,b,c,d){function e(){let t=Z(a);!v||t.x===v.x&&t.y===v.y&&t.width===v.width&&t.height===v.height||c();v=t;n=requestAnimationFrame(e)}void 0===d&&(d={});let {ancestorScroll:f=!0,ancestorResize:g=!0,elementResize:h=\"function\"===typeof ResizeObserver,layoutShift:l=\"function\"===typeof IntersectionObserver,animationFrame:k=!1}=d,m=La(a),q=f||g?[...(m?za(m):[]),...za(b)]:[];\nq.forEach(t=>{f&&t.addEventListener(\"scroll\",c,{passive:!0});g&&t.addEventListener(\"resize\",c)});let p=m&&l?Ob(m,c):null,u=-1,r=null;h&&(r=new ResizeObserver(t=>{[t]=t;t&&t.target===m&&r&&(r.unobserve(b),cancelAnimationFrame(u),u=requestAnimationFrame(()=>{r&&r.observe(b)}));c()}),m&&!k&&r.observe(m),r.observe(b));let n,v=k?Z(a):null;k&&e();c();return()=>{q.forEach(t=>{f&&t.removeEventListener(\"scroll\",c);g&&t.removeEventListener(\"resize\",c)});p&&p();r&&r.disconnect();r=null;k&&cancelAnimationFrame(n)}}\nfunction Qb(a){a.cleanup&&a.cleanup();let b=a._getResolvedAttachToOptions(),c=b.element,d=Rb(b,a),e=void 0===b||null===b?!0:!b.element||!b.on;e&&(c=document.body,a.shepherdElementComponent.getElement().classList.add(\"shepherd-centered\"));a.cleanup=Pb(c,a.el,()=>{a.el?Sb(c,a,d,e):a.cleanup()});a.target=b.element;return d}function Sb(a,b,c,d){return Tb(a,b.el,c).then(Ub(b,d)).then(e=>new Promise(f=>{setTimeout(()=>f(e),300)})).then(e=>{e&&e.el&&e.el.focus({preventScroll:!0})})}function Ub(a,b){return({x:c,\ny:d,placement:e,middlewareData:f})=>{if(!a.el)return a;b?Object.assign(a.el.style,{position:\"fixed\",left:\"50%\",top:\"50%\",transform:\"translate(-50%, -50%)\"}):Object.assign(a.el.style,{position:\"absolute\",left:`${c}px`,top:`${d}px`});a.el.dataset.popperPlacement=e;if((c=a.el.querySelector(\".shepherd-arrow\"))&&f.arrow){let {x:g,y:h}=f.arrow;Object.assign(c.style,{left:null!=g?`${g}px`:\"\",top:null!=h?`${h}px`:\"\"})}return a}}function Rb(a,b){let c={strategy:\"absolute\",middleware:[]};var d=b.options.arrow&&\nb.el?b.el.querySelector(\".shepherd-arrow\"):!1;void 0!==a&&null!==a&&a.element&&a.on&&(c.middleware.push(Vb(),Wb({limiter:Xb(),crossAxis:!0})),d&&c.middleware.push(Yb({element:d})),c.placement=a.on);return Ma(b.options.floatingUIOptions||{},c)}function F(){}function Zb(a,b){for(let c in b)a[c]=b[c];return a}function la(a){return a()}function Na(a){return\"function\"===typeof a}function O(a,b){return a!=a?b==b:a!==b||a&&\"object\"===typeof a||\"function\"===typeof a}function H(a){a.parentNode&&a.parentNode.removeChild(a)}\nfunction lb(a){return document.createElementNS(\"http://www.w3.org/2000/svg\",a)}function Ca(a,b,c,d){a.addEventListener(b,c,d);return()=>a.removeEventListener(b,c,d)}function z(a,b,c){null==c?a.removeAttribute(b):a.getAttribute(b)!==c&&a.setAttribute(b,c)}function mb(a,b){let c=Object.getOwnPropertyDescriptors(a.__proto__);for(let d in b)null==b[d]?a.removeAttribute(d):\"style\"===d?a.style.cssText=b[d]:\"__value\"===d?a.value=a[d]=b[d]:c[d]&&c[d].set&&-1===$b.indexOf(d)?a[d]=b[d]:z(a,d,b[d])}function ma(a,\nb,c){a.classList[c?\"add\":\"remove\"](b)}function Da(){if(!P)throw Error(\"Function called outside component initialization\");return P}function Oa(a){na.push(a)}function nb(){if(0===oa){var a=P;do{try{for(;oa<pa.length;){let c=pa[oa];oa++;P=c;var b=c.$$;if(null!==b.fragment){b.update();b.before_update.forEach(la);let d=b.dirty;b.dirty=[-1];b.fragment&&b.fragment.p(b.ctx,d);b.after_update.forEach(Oa)}}}catch(c){throw oa=pa.length=0,c;}P=null;for(oa=pa.length=0;qa.length;)qa.pop()();for(let c=0;c<na.length;c+=\n1){let d=na[c];Pa.has(d)||(Pa.add(d),d())}na.length=0}while(pa.length);for(;ob.length;)ob.pop()();Qa=!1;Pa.clear();P=a}}function ac(a){let b=[],c=[];na.forEach(d=>-1===a.indexOf(d)?b.push(d):c.push(d));c.forEach(d=>d());na=b}function aa(){ba={r:0,c:[],p:ba}}function ca(){ba.r||ba.c.forEach(la);ba=ba.p}function y(a,b){a&&a.i&&(Ea.delete(a),a.i(b))}function B(a,b,c,d){a&&a.o?Ea.has(a)||(Ea.add(a),ba.c.push(()=>{Ea.delete(a);d&&(c&&a.d(1),d())}),a.o(b)):d&&d()}function da(a){a&&a.c()}function V(a,b,\nc,d){let {fragment:e,after_update:f}=a.$$;e&&e.m(b,c);d||Oa(()=>{let g=a.$$.on_mount.map(la).filter(Na);a.$$.on_destroy?a.$$.on_destroy.push(...g):g.forEach(la);a.$$.on_mount=[]});f.forEach(Oa)}function W(a,b){a=a.$$;null!==a.fragment&&(ac(a.after_update),a.on_destroy.forEach(la),a.fragment&&a.fragment.d(b),a.on_destroy=a.fragment=null,a.ctx=[])}function Q(a,b,c,d,e,f,g,h=[-1]){let l=P;P=a;let k=a.$$={fragment:null,ctx:[],props:f,update:F,not_equal:e,bound:Object.create(null),on_mount:[],on_destroy:[],\non_disconnect:[],before_update:[],after_update:[],context:new Map(b.context||(l?l.$$.context:[])),callbacks:Object.create(null),dirty:h,skip_bound:!1,root:b.target||l.$$.root};g&&g(k.root);let m=!1;k.ctx=c?c(a,b.props||{},(q,p,...u)=>{u=u.length?u[0]:p;if(k.ctx&&e(k.ctx[q],k.ctx[q]=u)){if(!k.skip_bound&&k.bound[q])k.bound[q](u);m&&(-1===a.$$.dirty[0]&&(pa.push(a),Qa||(Qa=!0,bc.then(nb)),a.$$.dirty.fill(0)),a.$$.dirty[q/31|0]|=1<<q%31)}return p}):[];k.update();m=!0;k.before_update.forEach(la);k.fragment=\nd?d(k.ctx):!1;b.target&&(b.hydrate?(c=Array.from(b.target.childNodes),k.fragment&&k.fragment.l(c),c.forEach(H)):k.fragment&&k.fragment.c(),b.intro&&y(a.$$.fragment),V(a,b.target,b.anchor,b.customElement),nb());P=l}function cc(a){let b,c,d,e,f;return{c(){b=document.createElement(\"button\");z(b,\"aria-label\",c=a[3]?a[3]:null);z(b,\"class\",d=`${a[1]||\"\"} shepherd-button ${a[4]?\"shepherd-button-secondary\":\"\"}`);b.disabled=a[2];z(b,\"tabindex\",\"0\")},m(g,h){g.insertBefore(b,h||null);b.innerHTML=a[5];e||(f=\nCa(b,\"click\",function(){Na(a[0])&&a[0].apply(this,arguments)}),e=!0)},p(g,[h]){a=g;h&32&&(b.innerHTML=a[5]);h&8&&c!==(c=a[3]?a[3]:null)&&z(b,\"aria-label\",c);h&18&&d!==(d=`${a[1]||\"\"} shepherd-button ${a[4]?\"shepherd-button-secondary\":\"\"}`)&&z(b,\"class\",d);h&4&&(b.disabled=a[2])},i:F,o:F,d(g){g&&H(b);e=!1;f()}}}function dc(a,b,c){function d(p){return X(p)?p.call(f):p}let {config:e,step:f}=b,g,h,l,k,m,q;a.$$set=p=>{\"config\"in p&&c(6,e=p.config);\"step\"in p&&c(7,f=p.step)};a.$$.update=()=>{a.$$.dirty&\n192&&(c(0,g=e.action?e.action.bind(f.tour):null),c(1,h=e.classes),c(2,l=e.disabled?d(e.disabled):!1),c(3,k=e.label?d(e.label):null),c(4,m=e.secondary),c(5,q=e.text?d(e.text):null))};return[g,h,l,k,m,q,e,f]}function pb(a,b,c){a=a.slice();a[2]=b[c];return a}function qb(a){let b,c,d=a[1],e=[];for(let g=0;g<d.length;g+=1)e[g]=rb(pb(a,d,g));let f=g=>B(e[g],1,1,()=>{e[g]=null});return{c(){for(let g=0;g<e.length;g+=1)e[g].c();b=document.createTextNode(\"\")},m(g,h){for(let l=0;l<e.length;l+=1)e[l]&&e[l].m(g,\nh);g.insertBefore(b,h||null);c=!0},p(g,h){if(h&3){d=g[1];let l;for(l=0;l<d.length;l+=1){let k=pb(g,d,l);e[l]?(e[l].p(k,h),y(e[l],1)):(e[l]=rb(k),e[l].c(),y(e[l],1),e[l].m(b.parentNode,b))}aa();for(l=d.length;l<e.length;l+=1)f(l);ca()}},i(g){if(!c){for(g=0;g<d.length;g+=1)y(e[g]);c=!0}},o(g){e=e.filter(Boolean);for(g=0;g<e.length;g+=1)B(e[g]);c=!1},d(g){var h=e;for(let l=0;l<h.length;l+=1)h[l]&&h[l].d(g);g&&H(b)}}}function rb(a){let b,c;b=new ec({props:{config:a[2],step:a[0]}});return{c(){da(b.$$.fragment)},\nm(d,e){V(b,d,e);c=!0},p(d,e){let f={};e&2&&(f.config=d[2]);e&1&&(f.step=d[0]);b.$set(f)},i(d){c||(y(b.$$.fragment,d),c=!0)},o(d){B(b.$$.fragment,d);c=!1},d(d){W(b,d)}}}function fc(a){let b,c,d=a[1]&&qb(a);return{c(){b=document.createElement(\"footer\");d&&d.c();z(b,\"class\",\"shepherd-footer\")},m(e,f){e.insertBefore(b,f||null);d&&d.m(b,null);c=!0},p(e,[f]){e[1]?d?(d.p(e,f),f&2&&y(d,1)):(d=qb(e),d.c(),y(d,1),d.m(b,null)):d&&(aa(),B(d,1,1,()=>{d=null}),ca())},i(e){c||(y(d),c=!0)},o(e){B(d);c=!1},d(e){e&&\nH(b);d&&d.d()}}}function gc(a,b,c){let d,{step:e}=b;a.$$set=f=>{\"step\"in f&&c(0,e=f.step)};a.$$.update=()=>{a.$$.dirty&1&&c(1,d=e.options.buttons)};return[e,d]}function hc(a){let b,c,d,e,f;return{c(){b=document.createElement(\"button\");c=document.createElement(\"span\");c.textContent=\"\\u00d7\";z(c,\"aria-hidden\",\"true\");z(b,\"aria-label\",d=a[0].label?a[0].label:\"Close Tour\");z(b,\"class\",\"shepherd-cancel-icon\");z(b,\"type\",\"button\")},m(g,h){g.insertBefore(b,h||null);b.appendChild(c);e||(f=Ca(b,\"click\",a[1]),\ne=!0)},p(g,[h]){h&1&&d!==(d=g[0].label?g[0].label:\"Close Tour\")&&z(b,\"aria-label\",d)},i:F,o:F,d(g){g&&H(b);e=!1;f()}}}function ic(a,b,c){let {cancelIcon:d,step:e}=b;a.$$set=f=>{\"cancelIcon\"in f&&c(0,d=f.cancelIcon);\"step\"in f&&c(2,e=f.step)};return[d,f=>{f.preventDefault();e.cancel()},e]}function jc(a){let b;return{c(){b=document.createElement(\"h3\");z(b,\"id\",a[1]);z(b,\"class\",\"shepherd-title\")},m(c,d){c.insertBefore(b,d||null);a[3](b)},p(c,[d]){d&2&&z(b,\"id\",c[1])},i:F,o:F,d(c){c&&H(b);a[3](null)}}}\nfunction kc(a,b,c){let {labelId:d,element:e,title:f}=b;Da().$$.after_update.push(()=>{X(f)&&c(2,f=f());c(0,e.innerHTML=f,e)});a.$$set=g=>{\"labelId\"in g&&c(1,d=g.labelId);\"element\"in g&&c(0,e=g.element);\"title\"in g&&c(2,f=g.title)};return[e,d,f,function(g){qa[g?\"unshift\":\"push\"](()=>{e=g;c(0,e)})}]}function sb(a){let b,c;b=new lc({props:{labelId:a[0],title:a[2]}});return{c(){da(b.$$.fragment)},m(d,e){V(b,d,e);c=!0},p(d,e){let f={};e&1&&(f.labelId=d[0]);e&4&&(f.title=d[2]);b.$set(f)},i(d){c||(y(b.$$.fragment,\nd),c=!0)},o(d){B(b.$$.fragment,d);c=!1},d(d){W(b,d)}}}function tb(a){let b,c;b=new mc({props:{cancelIcon:a[3],step:a[1]}});return{c(){da(b.$$.fragment)},m(d,e){V(b,d,e);c=!0},p(d,e){let f={};e&8&&(f.cancelIcon=d[3]);e&2&&(f.step=d[1]);b.$set(f)},i(d){c||(y(b.$$.fragment,d),c=!0)},o(d){B(b.$$.fragment,d);c=!1},d(d){W(b,d)}}}function nc(a){let b,c,d,e=a[2]&&sb(a),f=a[3]&&a[3].enabled&&tb(a);return{c(){b=document.createElement(\"header\");e&&e.c();c=document.createTextNode(\" \");f&&f.c();z(b,\"class\",\"shepherd-header\")},\nm(g,h){g.insertBefore(b,h||null);e&&e.m(b,null);b.appendChild(c);f&&f.m(b,null);d=!0},p(g,[h]){g[2]?e?(e.p(g,h),h&4&&y(e,1)):(e=sb(g),e.c(),y(e,1),e.m(b,c)):e&&(aa(),B(e,1,1,()=>{e=null}),ca());g[3]&&g[3].enabled?f?(f.p(g,h),h&8&&y(f,1)):(f=tb(g),f.c(),y(f,1),f.m(b,null)):f&&(aa(),B(f,1,1,()=>{f=null}),ca())},i(g){d||(y(e),y(f),d=!0)},o(g){B(e);B(f);d=!1},d(g){g&&H(b);e&&e.d();f&&f.d()}}}function oc(a,b,c){let {labelId:d,step:e}=b,f,g;a.$$set=h=>{\"labelId\"in h&&c(0,d=h.labelId);\"step\"in h&&c(1,e=\nh.step)};a.$$.update=()=>{a.$$.dirty&2&&(c(2,f=e.options.title),c(3,g=e.options.cancelIcon))};return[d,e,f,g]}function pc(a){let b;return{c(){b=document.createElement(\"div\");z(b,\"class\",\"shepherd-text\");z(b,\"id\",a[1])},m(c,d){c.insertBefore(b,d||null);a[3](b)},p(c,[d]){d&2&&z(b,\"id\",c[1])},i:F,o:F,d(c){c&&H(b);a[3](null)}}}function qc(a,b,c){let {descriptionId:d,element:e,step:f}=b;Da().$$.after_update.push(()=>{let {text:g}=f.options;X(g)&&(g=g.call(f));g instanceof HTMLElement?e.appendChild(g):\nc(0,e.innerHTML=g,e)});a.$$set=g=>{\"descriptionId\"in g&&c(1,d=g.descriptionId);\"element\"in g&&c(0,e=g.element);\"step\"in g&&c(2,f=g.step)};return[e,d,f,function(g){qa[g?\"unshift\":\"push\"](()=>{e=g;c(0,e)})}]}function ub(a){let b,c;b=new rc({props:{labelId:a[1],step:a[2]}});return{c(){da(b.$$.fragment)},m(d,e){V(b,d,e);c=!0},p(d,e){let f={};e&2&&(f.labelId=d[1]);e&4&&(f.step=d[2]);b.$set(f)},i(d){c||(y(b.$$.fragment,d),c=!0)},o(d){B(b.$$.fragment,d);c=!1},d(d){W(b,d)}}}function vb(a){let b,c;b=new sc({props:{descriptionId:a[0],\nstep:a[2]}});return{c(){da(b.$$.fragment)},m(d,e){V(b,d,e);c=!0},p(d,e){let f={};e&1&&(f.descriptionId=d[0]);e&4&&(f.step=d[2]);b.$set(f)},i(d){c||(y(b.$$.fragment,d),c=!0)},o(d){B(b.$$.fragment,d);c=!1},d(d){W(b,d)}}}function wb(a){let b,c;b=new tc({props:{step:a[2]}});return{c(){da(b.$$.fragment)},m(d,e){V(b,d,e);c=!0},p(d,e){let f={};e&4&&(f.step=d[2]);b.$set(f)},i(d){c||(y(b.$$.fragment,d),c=!0)},o(d){B(b.$$.fragment,d);c=!1},d(d){W(b,d)}}}function uc(a){let b,c=void 0!==a[2].options.title||a[2].options.cancelIcon&&\na[2].options.cancelIcon.enabled,d,e=void 0!==a[2].options.text,f,g=Array.isArray(a[2].options.buttons)&&a[2].options.buttons.length,h,l=c&&ub(a),k=e&&vb(a),m=g&&wb(a);return{c(){b=document.createElement(\"div\");l&&l.c();d=document.createTextNode(\" \");k&&k.c();f=document.createTextNode(\" \");m&&m.c();z(b,\"class\",\"shepherd-content\")},m(q,p){q.insertBefore(b,p||null);l&&l.m(b,null);b.appendChild(d);k&&k.m(b,null);b.appendChild(f);m&&m.m(b,null);h=!0},p(q,[p]){p&4&&(c=void 0!==q[2].options.title||q[2].options.cancelIcon&&\nq[2].options.cancelIcon.enabled);c?l?(l.p(q,p),p&4&&y(l,1)):(l=ub(q),l.c(),y(l,1),l.m(b,d)):l&&(aa(),B(l,1,1,()=>{l=null}),ca());p&4&&(e=void 0!==q[2].options.text);e?k?(k.p(q,p),p&4&&y(k,1)):(k=vb(q),k.c(),y(k,1),k.m(b,f)):k&&(aa(),B(k,1,1,()=>{k=null}),ca());p&4&&(g=Array.isArray(q[2].options.buttons)&&q[2].options.buttons.length);g?m?(m.p(q,p),p&4&&y(m,1)):(m=wb(q),m.c(),y(m,1),m.m(b,null)):m&&(aa(),B(m,1,1,()=>{m=null}),ca())},i(q){h||(y(l),y(k),y(m),h=!0)},o(q){B(l);B(k);B(m);h=!1},d(q){q&&H(b);\nl&&l.d();k&&k.d();m&&m.d()}}}function vc(a,b,c){let {descriptionId:d,labelId:e,step:f}=b;a.$$set=g=>{\"descriptionId\"in g&&c(0,d=g.descriptionId);\"labelId\"in g&&c(1,e=g.labelId);\"step\"in g&&c(2,f=g.step)};return[d,e,f]}function xb(a){let b;return{c(){b=document.createElement(\"div\");z(b,\"class\",\"shepherd-arrow\");z(b,\"data-popper-arrow\",\"\")},m(c,d){c.insertBefore(b,d||null)},d(c){c&&H(b)}}}function wc(a){let b,c,d,e,f,g,h,l,k=a[4].options.arrow&&a[4].options.attachTo&&a[4].options.attachTo.element&&\na[4].options.attachTo.on&&xb();d=new xc({props:{descriptionId:a[2],labelId:a[3],step:a[4]}});let m=[{\"aria-describedby\":e=void 0!==a[4].options.text?a[2]:null},{\"aria-labelledby\":f=a[4].options.title?a[3]:null},a[1],{role:\"dialog\"},{tabindex:\"0\"}],q={};for(let p=0;p<m.length;p+=1)q=Zb(q,m[p]);return{c(){b=document.createElement(\"div\");k&&k.c();c=document.createTextNode(\" \");da(d.$$.fragment);mb(b,q);ma(b,\"shepherd-has-cancel-icon\",a[5]);ma(b,\"shepherd-has-title\",a[6]);ma(b,\"shepherd-element\",!0)},\nm(p,u){p.insertBefore(b,u||null);k&&k.m(b,null);b.appendChild(c);V(d,b,null);a[13](b);g=!0;h||(l=Ca(b,\"keydown\",a[7]),h=!0)},p(p,[u]){p[4].options.arrow&&p[4].options.attachTo&&p[4].options.attachTo.element&&p[4].options.attachTo.on?k||(k=xb(),k.c(),k.m(b,c)):k&&(k.d(1),k=null);var r={};u&4&&(r.descriptionId=p[2]);u&8&&(r.labelId=p[3]);u&16&&(r.step=p[4]);d.$set(r);r=b;u=[(!g||u&20&&e!==(e=void 0!==p[4].options.text?p[2]:null))&&{\"aria-describedby\":e},(!g||u&24&&f!==(f=p[4].options.title?p[3]:null))&&\n{\"aria-labelledby\":f},u&2&&p[1],{role:\"dialog\"},{tabindex:\"0\"}];let n={},v={},t={$$scope:1},x=m.length;for(;x--;){let A=m[x],w=u[x];if(w){for(let C in A)C in w||(v[C]=1);for(let C in w)t[C]||(n[C]=w[C],t[C]=1);m[x]=w}else for(let C in A)t[C]=1}for(let A in v)A in n||(n[A]=void 0);mb(r,q=n);ma(b,\"shepherd-has-cancel-icon\",p[5]);ma(b,\"shepherd-has-title\",p[6]);ma(b,\"shepherd-element\",!0)},i(p){g||(y(d.$$.fragment,p),g=!0)},o(p){B(d.$$.fragment,p);g=!1},d(p){p&&H(b);k&&k.d();W(d);a[13](null);h=!1;l()}}}\nfunction yb(a){return a.split(\" \").filter(b=>!!b.length)}function yc(a,b,c){let {classPrefix:d,element:e,descriptionId:f,firstFocusableElement:g,focusableElements:h,labelId:l,lastFocusableElement:k,step:m,dataStepId:q}=b,p,u,r;Da().$$.on_mount.push(()=>{c(1,q={[`data-${d}shepherd-step-id`]:m.id});c(9,h=e.querySelectorAll('a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), [tabindex=\"0\"]'));c(8,g=h[0]);c(10,k=h[h.length-1])});Da().$$.after_update.push(()=>\n{if(r!==m.options.classes){var n=r;sa(n)&&(n=yb(n),n.length&&e.classList.remove(...n));n=r=m.options.classes;sa(n)&&(n=yb(n),n.length&&e.classList.add(...n))}});a.$$set=n=>{\"classPrefix\"in n&&c(11,d=n.classPrefix);\"element\"in n&&c(0,e=n.element);\"descriptionId\"in n&&c(2,f=n.descriptionId);\"firstFocusableElement\"in n&&c(8,g=n.firstFocusableElement);\"focusableElements\"in n&&c(9,h=n.focusableElements);\"labelId\"in n&&c(3,l=n.labelId);\"lastFocusableElement\"in n&&c(10,k=n.lastFocusableElement);\"step\"in\nn&&c(4,m=n.step);\"dataStepId\"in n&&c(1,q=n.dataStepId)};a.$$.update=()=>{a.$$.dirty&16&&(c(5,p=m.options&&m.options.cancelIcon&&m.options.cancelIcon.enabled),c(6,u=m.options&&m.options.title))};return[e,q,f,l,m,p,u,n=>{const {tour:v}=m;switch(n.keyCode){case 9:if(0===h.length){n.preventDefault();break}if(n.shiftKey){if(document.activeElement===g||document.activeElement.classList.contains(\"shepherd-element\"))n.preventDefault(),k.focus()}else document.activeElement===k&&(n.preventDefault(),g.focus());\nbreak;case 27:v.options.exitOnEsc&&(n.stopPropagation(),m.cancel());break;case 37:v.options.keyboardNavigation&&(n.stopPropagation(),v.back());break;case 39:v.options.keyboardNavigation&&(n.stopPropagation(),v.next())}},g,h,k,d,()=>e,function(n){qa[n?\"unshift\":\"push\"](()=>{e=n;c(0,e)})}]}function zc(a){a&&({steps:a}=a,a.forEach(b=>{b.options&&!1===b.options.canClickTarget&&b.options.attachTo&&b.target instanceof HTMLElement&&b.target.classList.remove(\"shepherd-target-click-disabled\")}))}function Ac({width:a,\nheight:b,x:c=0,y:d=0,r:e=0}){let {innerWidth:f,innerHeight:g}=window,{topLeft:h=0,topRight:l=0,bottomRight:k=0,bottomLeft:m=0}=\"number\"===typeof e?{topLeft:e,topRight:e,bottomRight:e,bottomLeft:e}:e;return`M${f},${g}\\\nH0\\\nV0\\\nH${f}\\\nV${g}\\\nZ\\\nM${c+h},${d}\\\na${h},${h},0,0,0-${h},${h}\\\nV${b+d-m}\\\na${m},${m},0,0,0,${m},${m}\\\nH${a+c-k}\\\na${k},${k},0,0,0,${k}-${k}\\\nV${d+l}\\\na${l},${l},0,0,0-${l}-${l}\\\nZ`}function Bc(a){let b,c,d,e,f;return{c(){b=lb(\"svg\");c=lb(\"path\");z(c,\"d\",a[2]);z(b,\"class\",d=`${a[1]?\"shepherd-modal-is-visible\":\"\"} shepherd-modal-overlay-container`)},m(g,h){g.insertBefore(b,h||null);b.appendChild(c);a[11](b);e||(f=Ca(b,\"touchmove\",a[3]),e=!0)},p(g,[h]){h&4&&z(c,\"d\",g[2]);h&2&&d!==(d=`${g[1]?\"shepherd-modal-is-visible\":\"\"} shepherd-modal-overlay-container`)&&z(b,\"class\",d)},i:F,o:F,d(g){g&&H(b);a[11](null);e=!1;f()}}}function zb(a){if(!a)return null;let b=a instanceof HTMLElement&&\nwindow.getComputedStyle(a).overflowY;return\"hidden\"!==b&&\"visible\"!==b&&a.scrollHeight>=a.clientHeight?a:zb(a.parentElement)}function Cc(a,b,c){function d(){c(4,m={width:0,height:0,x:0,y:0,r:0})}function e(){c(1,q=!1);h()}function f(n=0,v=0,t,x){if(x){var A=x.getBoundingClientRect();let C=A.y||A.top;A=A.bottom||C+A.height;if(t){var w=t.getBoundingClientRect();t=w.y||w.top;w=w.bottom||t+w.height;C=Math.max(C,t);A=Math.min(A,w)}let {y:Fa,height:I}={y:C,height:Math.max(A-C,0)},{x:R,width:Ra,left:Dc}=\nx.getBoundingClientRect();c(4,m={width:Ra+2*n,height:I+2*n,x:(R||Dc)-n,y:Fa-n,r:v})}else d()}function g(){c(1,q=!0)}function h(){p&&(cancelAnimationFrame(p),p=void 0);window.removeEventListener(\"touchmove\",r,{passive:!1})}function l(n){let {modalOverlayOpeningPadding:v,modalOverlayOpeningRadius:t}=n.options,x=zb(n.target),A=()=>{p=void 0;f(v,t,x,n.target);p=requestAnimationFrame(A)};A();window.addEventListener(\"touchmove\",r,{passive:!1})}let {element:k,openingProperties:m}=b;Ga();let q=!1,p=void 0,\nu;d();let r=n=>{n.preventDefault()};a.$$set=n=>{\"element\"in n&&c(0,k=n.element);\"openingProperties\"in n&&c(4,m=n.openingProperties)};a.$$.update=()=>{a.$$.dirty&16&&c(2,u=Ac(m))};return[k,q,u,n=>{n.stopPropagation()},m,()=>k,d,e,f,function(n){h();n.tour.options.useModalOverlay?(l(n),g()):e()},g,function(n){qa[n?\"unshift\":\"push\"](()=>{k=n;c(0,k)})}]}var Db=function(a){var b;if(b=!!a&&\"object\"===typeof a)b=Object.prototype.toString.call(a),b=!(\"[object RegExp]\"===b||\"[object Date]\"===b||a.$$typeof===\nEc);return b},Ec=\"function\"===typeof Symbol&&Symbol.for?Symbol.for(\"react.element\"):60103;fa.all=function(a,b){if(!Array.isArray(a))throw Error(\"first argument should be an array\");return a.reduce(function(c,d){return fa(c,d,b)},{})};var Ma=fa;class Sa{on(a,b,c,d=!1){void 0===this.bindings&&(this.bindings={});void 0===this.bindings[a]&&(this.bindings[a]=[]);this.bindings[a].push({handler:b,ctx:c,once:d});return this}once(a,b,c){return this.on(a,b,c,!0)}off(a,b){if(void 0===this.bindings||void 0===\nthis.bindings[a])return this;void 0===b?delete this.bindings[a]:this.bindings[a].forEach((c,d)=>{c.handler===b&&this.bindings[a].splice(d,1)});return this}trigger(a,...b){void 0!==this.bindings&&this.bindings[a]&&this.bindings[a].forEach((c,d)=>{let {ctx:e,handler:f,once:g}=c;f.apply(e||this,b);g&&this.bindings[a].splice(d,1)});return this}}let U=Math.min,N=Math.max,Aa=Math.round,Ba=Math.floor,Lb={left:\"right\",right:\"left\",bottom:\"top\",top:\"bottom\"},Ib={start:\"end\",end:\"start\"},Fc=\"mainAxis crossAxis fallbackPlacements fallbackStrategy fallbackAxisSideDirection flipAlignment\".split(\" \"),\nGc=[\"mainAxis\",\"crossAxis\",\"limiter\"],Hc=async(a,b,c)=>{const {placement:d=\"bottom\",strategy:e=\"absolute\",middleware:f=[],platform:g}=c;c=f.filter(Boolean);const h=await (null==g.isRTL?void 0:g.isRTL(b));let l=await g.getElementRects({reference:a,floating:b,strategy:e}),{x:k,y:m}=$a(l,d,h),q=d,p={},u=0;for(let r=0;r<c.length;r++){const {name:n,fn:v}=c[r],{x:t,y:x,data:A,reset:w}=await v({x:k,y:m,initialPlacement:d,placement:q,strategy:e,middlewareData:p,rects:l,platform:g,elements:{reference:a,floating:b}});\nk=null!=t?t:k;m=null!=x?x:m;p=D({},p,{[n]:D({},p[n],A)});w&&50>=u&&(u++,\"object\"===typeof w&&(w.placement&&(q=w.placement),w.rects&&(l=!0===w.rects?await g.getElementRects({reference:a,floating:b,strategy:e}):w.rects),{x:k,y:m}=$a(l,q,h)),r=-1)}return{x:k,y:m,placement:q,strategy:e,middlewareData:p}},Yb=a=>({name:\"arrow\",options:a,async fn(b){const {x:c,y:d,placement:e,rects:f,platform:g,elements:h}=b,{element:l,padding:k=0}=ha(a,b)||{};if(null==l)return{};var m=Za(k);b={x:c,y:d};const q=ta(ia(e));\nvar p=Ha(q);const u=await g.getDimensions(l);var r=\"y\"===q,n=r?\"top\":\"left\",v=r?\"bottom\":\"right\",t=r?\"clientHeight\":\"clientWidth\",x=f.reference[p]+f.reference[q]-b[q]-f.floating[p];const A=b[q]-f.reference[q],w=await (null==g.getOffsetParent?void 0:g.getOffsetParent(l));(r=w?w[t]:0)&&await (null==g.isElement?void 0:g.isElement(w))||(r=h.floating[t]||f.floating[p]);t=x/2-A/2;x=r/2-u[p]/2-1;n=U(m[n],x);m=U(m[v],x);v=r-u[p]-m;r=r/2-u[p]/2+t;t=N(n,U(r,v));p=null!=e.split(\"-\")[1]&&r!=t&&0>f.reference[p]/\n2-(r<n?n:m)-u[p]/2?r<n?n-r:v-r:0;return{[q]:b[q]-p,data:{[q]:t,centerOffset:r-t+p}}}}),Vb=function(a){void 0===a&&(a={});return{name:\"flip\",options:a,async fn(b){var c;const {placement:d,middlewareData:e,rects:f,initialPlacement:g,platform:h,elements:l}=b;var k=ha(a,b);const {mainAxis:m=!0,crossAxis:q=!0,fallbackPlacements:p,fallbackStrategy:u=\"bestFit\",fallbackAxisSideDirection:r=\"none\",flipAlignment:n=!0}=k;var v=Ya(k,Fc);k=Y(d);var t=Y(g)===g;const x=await (null==h.isRTL?void 0:h.isRTL(l.floating));\nt=p||(t||!n?[va(g)]:Hb(g));p||\"none\"===r||t.push(...Kb(g,n,r,x));t=[g,...t];v=await ab(b,v);const A=[];b=(null==(c=e.flip)?void 0:c.overflows)||[];m&&A.push(v[k]);q&&(c=Gb(d,f,x),A.push(v[c[0]],v[c[1]]));b=[...b,{placement:d,overflows:A}];if(!A.every(I=>0>=I)){var w,C;c=((null==(w=e.flip)?void 0:w.index)||0)+1;if(w=t[c])return{data:{index:c,overflows:b},reset:{placement:w}};w=null==(C=b.filter(I=>0>=I.overflows[0]).sort((I,R)=>I.overflows[1]-R.overflows[1])[0])?void 0:C.placement;if(!w)switch(u){case \"bestFit\":var Fa;\n(C=null==(Fa=b.map(I=>[I.placement,I.overflows.filter(R=>0<R).reduce((R,Ra)=>R+Ra,0)]).sort((I,R)=>I[1]-R[1])[0])?void 0:Fa[0])&&(w=C);break;case \"initialPlacement\":w=g}if(d!==w)return{reset:{placement:w}}}return{}}}},Wb=function(a){void 0===a&&(a={});return{name:\"shift\",options:a,async fn(b){const {x:c,y:d,placement:e}=b;var f=ha(a,b);const {mainAxis:g=!0,crossAxis:h=!1,limiter:l={fn:u=>{let {x:r,y:n}=u;return{x:r,y:n}}}}=f;var k=Ya(f,Gc);f={x:c,y:d};k=await ab(b,k);const m=ia(Y(e)),q=ta(m);let p=\nf[q];f=f[m];g&&(p=N(p+k[\"y\"===q?\"top\":\"left\"],U(p,p-k[\"y\"===q?\"bottom\":\"right\"])));h&&(f=N(f+k[\"y\"===m?\"top\":\"left\"],U(f,f-k[\"y\"===m?\"bottom\":\"right\"])));b=l.fn(D({},b,{[q]:p,[m]:f}));return D({},b,{data:{x:b.x-c,y:b.y-d}})}}},Xb=function(a){void 0===a&&(a={});return{options:a,fn(b){const {x:c,y:d,placement:e,rects:f,middlewareData:g}=b,{offset:h=0,mainAxis:l=!0,crossAxis:k=!0}=ha(a,b);var m={x:c,y:d};const q=ia(e),p=ta(q);let u=m[p];m=m[q];b=ha(h,b);b=\"number\"===typeof b?{mainAxis:b,crossAxis:0}:\nD({mainAxis:0,crossAxis:0},b);if(l){var r=\"y\"===p?\"height\":\"width\",n=f.reference[p]-f.floating[r]+b.mainAxis;r=f.reference[p]+f.reference[r]-b.mainAxis;u<n?u=n:u>r&&(u=r)}if(k){var v,t;r=\"y\"===p?\"width\":\"height\";const x=[\"top\",\"left\"].includes(Y(e));n=f.reference[q]-f.floating[r]+(x?(null==(v=g.offset)?void 0:v[q])||0:0)+(x?0:b.crossAxis);v=f.reference[q]+f.reference[r]+(x?0:(null==(t=g.offset)?void 0:t[q])||0)-(x?b.crossAxis:0);m<n?m=n:m>v&&(m=v)}return{[p]:u,[q]:m}}}},Mb={x:0,y:0},Ic={convertOffsetParentRelativeRectToViewportRelativeRect:function(a){let {rect:b,\noffsetParent:c,strategy:d}=a;var e=J(c);let f=L(c);if(c===f)return b;a={scrollLeft:0,scrollTop:0};let g={x:1,y:1};var h=0,l=0;if(e||!e&&\"fixed\"!==d){if(\"body\"!==T(c)||ua(f))a=ya(c);J(c)&&(e=Z(c),g=ka(c),h=e.x+c.clientLeft,l=e.y+c.clientTop)}return{width:b.width*g.x,height:b.height*g.y,x:b.x*g.x-a.scrollLeft*g.x+h,y:b.y*g.y-a.scrollTop*g.y+l}},getDocumentElement:L,getClippingRect:function(a){let {element:b,boundary:c,rootBoundary:d,strategy:e}=a;a=[...(\"clippingAncestors\"===c?Nb(b,this._c):[].concat(c)),\nd];a=a.reduce((f,g)=>{g=hb(b,g,e);f.top=N(g.top,f.top);f.right=U(g.right,f.right);f.bottom=U(g.bottom,f.bottom);f.left=N(g.left,f.left);return f},hb(b,a[0],e));return{width:a.right-a.left,height:a.bottom-a.top,x:a.left,y:a.top}},getOffsetParent:kb,getElementRects:async function(a){let {reference:b,floating:c,strategy:d}=a;a=this.getDimensions;var e=await (this.getOffsetParent||kb)(c),f=J(e);let g=L(e),h=\"fixed\"===d,l=Z(b,!0,h,e),k={scrollLeft:0,scrollTop:0};var m=0,q=0;if(f||!f&&!h){if(\"body\"!==T(e)||\nua(g))k=ya(e);f?(f=Z(e,!0,h,e),m=f.x+e.clientLeft,q=f.y+e.clientTop):g&&(m=gb(g))}return{reference:{x:l.left+k.scrollLeft-m,y:l.top+k.scrollTop-q,width:l.width,height:l.height},floating:D({x:0,y:0},await a(c))}},getClientRects:function(a){return Array.from(a.getClientRects())},getDimensions:function(a){return eb(a)},getScale:ka,isElement:M,isRTL:function(a){return\"rtl\"===G(a).direction}},Tb=(a,b,c)=>{var d=new Map;c=D({platform:Ic},c);d=D({},c.platform,{_c:d});return Hc(a,b,D({},c,{platform:d}))},\n$b=[\"width\",\"height\"],P,pa=[],qa=[],na=[],ob=[],bc=Promise.resolve(),Qa=!1,Pa=new Set,oa=0,Ea=new Set,ba;class S{$destroy(){W(this,1);this.$destroy=F}$on(a,b){if(!Na(b))return F;let c=this.$$.callbacks[a]||(this.$$.callbacks[a]=[]);c.push(b);return()=>{let d=c.indexOf(b);-1!==d&&c.splice(d,1)}}$set(a){this.$$set&&0!==Object.keys(a).length&&(this.$$.skip_bound=!0,this.$$set(a),this.$$.skip_bound=!1)}}class ec extends S{constructor(a){super();Q(this,a,dc,cc,O,{config:6,step:7})}}class tc extends S{constructor(a){super();\nQ(this,a,gc,fc,O,{step:0})}}class mc extends S{constructor(a){super();Q(this,a,ic,hc,O,{cancelIcon:0,step:2})}}class lc extends S{constructor(a){super();Q(this,a,kc,jc,O,{labelId:1,element:0,title:2})}}class rc extends S{constructor(a){super();Q(this,a,oc,nc,O,{labelId:0,step:1})}}class sc extends S{constructor(a){super();Q(this,a,qc,pc,O,{descriptionId:1,element:0,step:2})}}class xc extends S{constructor(a){super();Q(this,a,vc,uc,O,{descriptionId:0,labelId:1,step:2})}}class Jc extends S{constructor(a){super();\nQ(this,a,yc,wc,O,{classPrefix:11,element:0,descriptionId:2,firstFocusableElement:8,focusableElements:9,labelId:3,lastFocusableElement:10,step:4,dataStepId:1,getElement:12})}get getElement(){return this.$$.ctx[12]}}class Ta extends Sa{constructor(a,b={}){super(a,b);this.tour=a;this.classPrefix=this.tour.options?Xa(this.tour.options.classPrefix):\"\";this.styles=a.styles;this._resolvedAttachTo=null;Wa(this);this._setOptions(b);return this}cancel(){this.tour.cancel();this.trigger(\"cancel\")}complete(){this.tour.complete();\nthis.trigger(\"complete\")}destroy(){this.cleanup&&this.cleanup();this.cleanup=null;this.el instanceof HTMLElement&&(this.el.remove(),this.el=null);this._updateStepTargetOnHide();this.trigger(\"destroy\")}getTour(){return this.tour}hide(){this.tour.modal.hide();this.trigger(\"before-hide\");this.el&&(this.el.hidden=!0);this._updateStepTargetOnHide();this.trigger(\"hide\")}_resolveAttachToOptions(){let a=this.options.attachTo||{},b=Object.assign({},a);X(b.element)&&(b.element=b.element.call(this));if(sa(b.element)){try{b.element=\ndocument.querySelector(b.element)}catch(c){}b.element||console.error(`The element for this Shepherd step was not found ${a.element}`)}return this._resolvedAttachTo=b}_getResolvedAttachToOptions(){return null===this._resolvedAttachTo?this._resolveAttachToOptions():this._resolvedAttachTo}isOpen(){return!(!this.el||this.el.hidden)}show(){return X(this.options.beforeShowPromise)?Promise.resolve(this.options.beforeShowPromise()).then(()=>this._show()):Promise.resolve(this._show())}updateStepOptions(a){Object.assign(this.options,\na);this.shepherdElementComponent&&this.shepherdElementComponent.$set({step:this})}getElement(){return this.el}getTarget(){return this.target}_createTooltipContent(){this.shepherdElementComponent=new Jc({target:this.tour.options.stepsContainer||document.body,props:{classPrefix:this.classPrefix,descriptionId:`${this.id}-description`,labelId:`${this.id}-label`,step:this,styles:this.styles}});return this.shepherdElementComponent.getElement()}_scrollTo(a){let {element:b}=this._getResolvedAttachToOptions();\nX(this.options.scrollToHandler)?this.options.scrollToHandler(b):b instanceof Element&&\"function\"===typeof b.scrollIntoView&&b.scrollIntoView(a)}_getClassOptions(a){var b=this.tour&&this.tour.options&&this.tour.options.defaultStepOptions;b=b&&b.classes?b.classes:\"\";a=[...(a.classes?a.classes:\"\").split(\" \"),...b.split(\" \")];a=new Set(a);return Array.from(a).join(\" \").trim()}_setOptions(a={}){let b=this.tour&&this.tour.options&&this.tour.options.defaultStepOptions;b=Ma({},b||{});this.options=Object.assign({arrow:!0},\nb,a,{floatingUIOptions:Ma(b.floatingUIOptions||{},a.floatingUIOptions||{})});let {when:c}=this.options;this.options.classes=this._getClassOptions(a);this.destroy();this.id=this.options.id||`step-${Ga()}`;c&&Object.keys(c).forEach(d=>{this.on(d,c[d],this)})}_setupElements(){void 0!==this.el&&this.destroy();this.el=this._createTooltipContent();this.options.advanceOn&&Fb(this);Qb(this)}_show(){this.trigger(\"before-show\");this._resolveAttachToOptions();this._setupElements();this.tour.modal||this.tour._setupModal();\nthis.tour.modal.setupForStep(this);this._styleTargetElementForStep(this);this.el.hidden=!1;this.options.scrollTo&&setTimeout(()=>{this._scrollTo(this.options.scrollTo)});this.el.hidden=!1;let a=this.shepherdElementComponent.getElement(),b=this.target||document.body;b.classList.add(`${this.classPrefix}shepherd-enabled`);b.classList.add(`${this.classPrefix}shepherd-target`);a.classList.add(\"shepherd-enabled\");this.trigger(\"show\")}_styleTargetElementForStep(a){let b=a.target;b&&(a.options.highlightClass&&\nb.classList.add(a.options.highlightClass),b.classList.remove(\"shepherd-target-click-disabled\"),!1===a.options.canClickTarget&&b.classList.add(\"shepherd-target-click-disabled\"))}_updateStepTargetOnHide(){let a=this.target||document.body;this.options.highlightClass&&a.classList.remove(this.options.highlightClass);a.classList.remove(\"shepherd-target-click-disabled\",`${this.classPrefix}shepherd-enabled`,`${this.classPrefix}shepherd-target`)}}class Kc extends S{constructor(a){super();Q(this,a,Cc,Bc,O,\n{element:0,openingProperties:4,getElement:5,closeModalOpening:6,hide:7,positionModal:8,setupForStep:9,show:10})}get getElement(){return this.$$.ctx[5]}get closeModalOpening(){return this.$$.ctx[6]}get hide(){return this.$$.ctx[7]}get positionModal(){return this.$$.ctx[8]}get setupForStep(){return this.$$.ctx[9]}get show(){return this.$$.ctx[10]}}let ea=new Sa;class Lc extends Sa{constructor(a={}){super(a);Wa(this);this.options=Object.assign({},{exitOnEsc:!0,keyboardNavigation:!0},a);this.classPrefix=\nXa(this.options.classPrefix);this.steps=[];this.addSteps(this.options.steps);\"active cancel complete inactive show start\".split(\" \").map(b=>{(c=>{this.on(c,d=>{d=d||{};d.tour=this;ea.trigger(c,d)})})(b)});this._setTourID();return this}addStep(a,b){a instanceof Ta?a.tour=this:a=new Ta(this,a);void 0!==b?this.steps.splice(b,0,a):this.steps.push(a);return a}addSteps(a){Array.isArray(a)&&a.forEach(b=>{this.addStep(b)});return this}back(){let a=this.steps.indexOf(this.currentStep);this.show(a-1,!1)}async cancel(){if(this.options.confirmCancel){let a=\nthis.options.confirmCancelMessage||\"Are you sure you want to stop the tour?\";(\"function\"===typeof this.options.confirmCancel?await this.options.confirmCancel():window.confirm(a))&&this._done(\"cancel\")}else this._done(\"cancel\")}complete(){this._done(\"complete\")}getById(a){return this.steps.find(b=>b.id===a)}getCurrentStep(){return this.currentStep}hide(){let a=this.getCurrentStep();if(a)return a.hide()}isActive(){return ea.activeTour===this}next(){let a=this.steps.indexOf(this.currentStep);a===this.steps.length-\n1?this.complete():this.show(a+1,!0)}removeStep(a){let b=this.getCurrentStep();this.steps.some((c,d)=>{if(c.id===a)return c.isOpen()&&c.hide(),c.destroy(),this.steps.splice(d,1),!0});b&&b.id===a&&(this.currentStep=void 0,this.steps.length?this.show(0):this.cancel())}show(a=0,b=!0){if(a=sa(a)?this.getById(a):this.steps[a])this._updateStateBeforeShow(),X(a.options.showOn)&&!a.options.showOn()?this._skipStep(a,b):(this.trigger(\"show\",{step:a,previous:this.currentStep}),this.currentStep=a,a.show())}start(){this.trigger(\"start\");\nthis.focusedElBeforeOpen=document.activeElement;this.currentStep=null;this._setupModal();this._setupActiveTour();this.next()}_done(a){let b=this.steps.indexOf(this.currentStep);Array.isArray(this.steps)&&this.steps.forEach(c=>c.destroy());zc(this);this.trigger(a,{index:b});ea.activeTour=null;this.trigger(\"inactive\",{tour:this});this.modal&&this.modal.hide();\"cancel\"!==a&&\"complete\"!==a||!this.modal||(a=document.querySelector(\".shepherd-modal-overlay-container\"))&&a.remove();this.focusedElBeforeOpen instanceof\nHTMLElement&&this.focusedElBeforeOpen.focus()}_setupActiveTour(){this.trigger(\"active\",{tour:this});ea.activeTour=this}_setupModal(){this.modal=new Kc({target:this.options.modalContainer||document.body,props:{classPrefix:this.classPrefix,styles:this.styles}})}_skipStep(a,b){a=this.steps.indexOf(a);a===this.steps.length-1?this.complete():this.show(b?a+1:a-1,b)}_updateStateBeforeShow(){this.currentStep&&this.currentStep.hide();this.isActive()||this._setupActiveTour()}_setTourID(){this.id=`${this.options.tourName||\n\"tour\"}--${Ga()}`}}class Ab{constructor(){}}\"undefined\"===typeof window?Object.assign(ea,{Tour:Ab,Step:Ab}):Object.assign(ea,{Tour:Lc,Step:Ta});return ea})\n//# sourceMappingURL=shepherd.min.js.map\n","/**\n * Main\n */\n\n'use strict';\n\nwindow.isRtl = window.Helpers.isRtl();\nwindow.isDarkStyle = window.Helpers.isDarkStyle();\nlet menu,\n  animate,\n  isHorizontalLayout = false;\n\nif (document.getElementById('layout-menu')) {\n  isHorizontalLayout = document.getElementById('layout-menu').classList.contains('menu-horizontal');\n}\n\n(function () {\n  setTimeout(function () {\n    window.Helpers.initCustomOptionCheck();\n  }, 1000);\n\n  if (typeof Waves !== 'undefined') {\n    Waves.init();\n    Waves.attach(\n      \".btn[class*='btn-']:not(.position-relative):not([class*='btn-outline-']):not([class*='btn-label-'])\",\n      ['waves-light']\n    );\n    Waves.attach(\"[class*='btn-outline-']:not(.position-relative)\");\n    Waves.attach(\"[class*='btn-label-']:not(.position-relative)\");\n    Waves.attach('.pagination .page-item .page-link');\n    Waves.attach('.dropdown-menu .dropdown-item');\n    Waves.attach('.light-style .list-group .list-group-item-action');\n    Waves.attach('.dark-style .list-group .list-group-item-action', ['waves-light']);\n    Waves.attach('.nav-tabs:not(.nav-tabs-widget) .nav-item .nav-link');\n    Waves.attach('.nav-pills .nav-item .nav-link', ['waves-light']);\n  }\n\n  // Initialize menu\n  //-----------------\n\n  let layoutMenuEl = document.querySelectorAll('#layout-menu');\n  layoutMenuEl.forEach(function (element) {\n    menu = new Menu(element, {\n      orientation: isHorizontalLayout ? 'horizontal' : 'vertical',\n      closeChildren: isHorizontalLayout ? true : false,\n      // ? This option only works with Horizontal menu\n      showDropdownOnHover: localStorage.getItem('templateCustomizer-' + templateName + '--ShowDropdownOnHover') // If value(showDropdownOnHover) is set in local storage\n        ? localStorage.getItem('templateCustomizer-' + templateName + '--ShowDropdownOnHover') === 'true' // Use the local storage value\n        : window.templateCustomizer !== undefined // If value is set in config.js\n          ? window.templateCustomizer.settings.defaultShowDropdownOnHover // Use the config.js value\n          : true // Use this if you are not using the config.js and want to set value directly from here\n    });\n    // Change parameter to true if you want scroll animation\n    window.Helpers.scrollToActive((animate = false));\n    window.Helpers.mainMenu = menu;\n  });\n\n  // Initialize menu togglers and bind click on each\n  let menuToggler = document.querySelectorAll('.layout-menu-toggle');\n  menuToggler.forEach(item => {\n    item.addEventListener('click', event => {\n      event.preventDefault();\n      window.Helpers.toggleCollapsed();\n      // Enable menu state with local storage support if enableMenuLocalStorage = true from config.js\n      if (config.enableMenuLocalStorage && !window.Helpers.isSmallScreen()) {\n        try {\n          localStorage.setItem(\n            'templateCustomizer-' + templateName + '--LayoutCollapsed',\n            String(window.Helpers.isCollapsed())\n          );\n          // Update customizer checkbox state on click of menu toggler\n          let layoutCollapsedCustomizerOptions = document.querySelector('.template-customizer-layouts-options');\n          if (layoutCollapsedCustomizerOptions) {\n            let layoutCollapsedVal = window.Helpers.isCollapsed() ? 'collapsed' : 'expanded';\n            layoutCollapsedCustomizerOptions.querySelector(`input[value=\"${layoutCollapsedVal}\"]`).click();\n          }\n        } catch (e) {}\n      }\n    });\n  });\n\n  // Menu swipe gesture\n\n  // Detect swipe gesture on the target element and call swipe In\n  window.Helpers.swipeIn('.drag-target', function (e) {\n    window.Helpers.setCollapsed(false);\n  });\n\n  // Detect swipe gesture on the target element and call swipe Out\n  window.Helpers.swipeOut('#layout-menu', function (e) {\n    if (window.Helpers.isSmallScreen()) window.Helpers.setCollapsed(true);\n  });\n\n  // Display in main menu when menu scrolls\n  let menuInnerContainer = document.getElementsByClassName('menu-inner'),\n    menuInnerShadow = document.getElementsByClassName('menu-inner-shadow')[0];\n  if (menuInnerContainer.length > 0 && menuInnerShadow) {\n    menuInnerContainer[0].addEventListener('ps-scroll-y', function () {\n      const shouldShow = this.querySelector('.ps__thumb-y').offsetTop;\n      menuInnerShadow.classList.toggle('d-none', !shouldShow);\n    });\n  }\n\n  // Update light/dark image based on current style\n  function switchImage(style) {\n    if (style === 'system') {\n      if (window.matchMedia('(prefers-color-scheme: dark)').matches) {\n        style = 'dark';\n      } else {\n        style = 'light';\n      }\n    }\n    const switchImagesList = [].slice.call(document.querySelectorAll('[data-app-' + style + '-img]'));\n    switchImagesList.map(function (imageEl) {\n      const setImage = imageEl.getAttribute('data-app-' + style + '-img');\n      imageEl.src = assetsPath + 'img/' + setImage; // Using window.assetsPath to get the exact relative path\n    });\n  }\n\n  //Style Switcher (Light/Dark/System Mode)\n  let styleSwitcher = document.querySelector('.dropdown-style-switcher');\n\n  // Active class on style switcher dropdown items\n  const activeStyle = document.documentElement.getAttribute('data-style');\n\n  // Get style from local storage or use 'system' as default\n  let storedStyle =\n    localStorage.getItem('templateCustomizer-' + templateName + '--Style') || //if no template style then use Customizer style\n    (window.templateCustomizer?.settings?.defaultStyle ?? 'light'); //!if there is no Customizer then use default style as light\n\n  // Set style on click of style switcher item if template customizer is enabled\n  if (window.templateCustomizer && styleSwitcher) {\n    let styleSwitcherItems = [].slice.call(styleSwitcher.children[1].querySelectorAll('.dropdown-item'));\n    styleSwitcherItems.forEach(function (item) {\n      item.classList.remove('active');\n      item.addEventListener('click', function () {\n        let currentStyle = this.getAttribute('data-theme');\n        if (currentStyle === 'light') {\n          window.templateCustomizer.setStyle('light');\n        } else if (currentStyle === 'dark') {\n          window.templateCustomizer.setStyle('dark');\n        } else {\n          window.templateCustomizer.setStyle('system');\n        }\n      });\n\n      if (item.getAttribute('data-theme') === activeStyle) {\n        // Add 'active' class to the item if it matches the activeStyle\n        item.classList.add('active');\n      }\n    });\n\n    // Update style switcher icon based on the stored style\n\n    const styleSwitcherIcon = styleSwitcher.querySelector('i');\n\n    if (storedStyle === 'light') {\n      styleSwitcherIcon.classList.add('ti-sun');\n      new bootstrap.Tooltip(styleSwitcherIcon, {\n        title: 'Light Mode',\n        fallbackPlacements: ['bottom']\n      });\n    } else if (storedStyle === 'dark') {\n      styleSwitcherIcon.classList.add('ti-moon-stars');\n      new bootstrap.Tooltip(styleSwitcherIcon, {\n        title: 'Dark Mode',\n        fallbackPlacements: ['bottom']\n      });\n    } else {\n      styleSwitcherIcon.classList.add('ti-device-desktop-analytics');\n      new bootstrap.Tooltip(styleSwitcherIcon, {\n        title: 'System Mode',\n        fallbackPlacements: ['bottom']\n      });\n    }\n  }\n\n  // Run switchImage function based on the stored style\n  switchImage(storedStyle);\n\n  // Internationalization (Language Dropdown)\n  // ---------------------------------------\n\n  if (typeof i18next !== 'undefined' && typeof i18NextHttpBackend !== 'undefined') {\n    i18next\n      .use(i18NextHttpBackend)\n      .init({\n        lng: window.templateCustomizer ? window.templateCustomizer.settings.lang : 'en',\n        debug: false,\n        fallbackLng: 'en',\n        backend: {\n          loadPath: assetsPath + 'json/locales/{{lng}}.json'\n        },\n        returnObjects: true\n      })\n      .then(function (t) {\n        localize();\n      });\n  }\n\n  let languageDropdown = document.getElementsByClassName('dropdown-language');\n\n  if (languageDropdown.length) {\n    let dropdownItems = languageDropdown[0].querySelectorAll('.dropdown-item');\n\n    for (let i = 0; i < dropdownItems.length; i++) {\n      dropdownItems[i].addEventListener('click', function () {\n        let currentLanguage = this.getAttribute('data-language');\n        let textDirection = this.getAttribute('data-text-direction');\n\n        for (let sibling of this.parentNode.children) {\n          var siblingEle = sibling.parentElement.parentNode.firstChild;\n\n          // Loop through each sibling and push to the array\n          while (siblingEle) {\n            if (siblingEle.nodeType === 1 && siblingEle !== siblingEle.parentElement) {\n              siblingEle.querySelector('.dropdown-item').classList.remove('active');\n            }\n            siblingEle = siblingEle.nextSibling;\n          }\n        }\n        this.classList.add('active');\n\n        i18next.changeLanguage(currentLanguage, (err, t) => {\n          window.templateCustomizer ? window.templateCustomizer.setLang(currentLanguage) : '';\n          directionChange(textDirection);\n          if (err) return console.log('something went wrong loading', err);\n          localize();\n        });\n      });\n    }\n    function directionChange(textDirection) {\n      if (textDirection === 'rtl') {\n        if (localStorage.getItem('templateCustomizer-' + templateName + '--Rtl') !== 'true')\n          window.templateCustomizer ? window.templateCustomizer.setRtl(true) : '';\n      } else {\n        if (localStorage.getItem('templateCustomizer-' + templateName + '--Rtl') === 'true')\n          window.templateCustomizer ? window.templateCustomizer.setRtl(false) : '';\n      }\n    }\n  }\n\n  function localize() {\n    let i18nList = document.querySelectorAll('[data-i18n]');\n    // Set the current language in dd\n    let currentLanguageEle = document.querySelector('.dropdown-item[data-language=\"' + i18next.language + '\"]');\n\n    if (currentLanguageEle) {\n      currentLanguageEle.click();\n    }\n\n    i18nList.forEach(function (item) {\n      item.innerHTML = i18next.t(item.dataset.i18n);\n    });\n  }\n\n  // Notification\n  // ------------\n  const notificationMarkAsReadAll = document.querySelector('.dropdown-notifications-all');\n  const notificationMarkAsReadList = document.querySelectorAll('.dropdown-notifications-read');\n\n  // Notification: Mark as all as read\n  if (notificationMarkAsReadAll) {\n    notificationMarkAsReadAll.addEventListener('click', event => {\n      notificationMarkAsReadList.forEach(item => {\n        item.closest('.dropdown-notifications-item').classList.add('marked-as-read');\n      });\n    });\n  }\n  // Notification: Mark as read/unread onclick of dot\n  if (notificationMarkAsReadList) {\n    notificationMarkAsReadList.forEach(item => {\n      item.addEventListener('click', event => {\n        item.closest('.dropdown-notifications-item').classList.toggle('marked-as-read');\n      });\n    });\n  }\n\n  // Notification: Mark as read/unread onclick of dot\n  const notificationArchiveMessageList = document.querySelectorAll('.dropdown-notifications-archive');\n  notificationArchiveMessageList.forEach(item => {\n    item.addEventListener('click', event => {\n      item.closest('.dropdown-notifications-item').remove();\n    });\n  });\n\n  // Init helpers & misc\n  // --------------------\n\n  // Init BS Tooltip\n  const tooltipTriggerList = [].slice.call(document.querySelectorAll('[data-bs-toggle=\"tooltip\"]'));\n  tooltipTriggerList.map(function (tooltipTriggerEl) {\n    return new bootstrap.Tooltip(tooltipTriggerEl);\n  });\n\n  // Accordion active class\n  const accordionActiveFunction = function (e) {\n    if (e.type == 'show.bs.collapse' || e.type == 'show.bs.collapse') {\n      e.target.closest('.accordion-item').classList.add('active');\n    } else {\n      e.target.closest('.accordion-item').classList.remove('active');\n    }\n  };\n\n  const accordionTriggerList = [].slice.call(document.querySelectorAll('.accordion'));\n  const accordionList = accordionTriggerList.map(function (accordionTriggerEl) {\n    accordionTriggerEl.addEventListener('show.bs.collapse', accordionActiveFunction);\n    accordionTriggerEl.addEventListener('hide.bs.collapse', accordionActiveFunction);\n  });\n\n  // If layout is RTL add .dropdown-menu-end class to .dropdown-menu\n  // if (isRtl) {\n  //   Helpers._addClass('dropdown-menu-end', document.querySelectorAll('#layout-navbar .dropdown-menu'));\n  // }\n\n  // Auto update layout based on screen size\n  window.Helpers.setAutoUpdate(true);\n\n  // Toggle Password Visibility\n  window.Helpers.initPasswordToggle();\n\n  // Speech To Text\n  window.Helpers.initSpeechToText();\n\n  // Init PerfectScrollbar in Navbar Dropdown (i.e notification)\n  window.Helpers.initNavbarDropdownScrollbar();\n\n  let horizontalMenuTemplate = document.querySelector(\"[data-template^='horizontal-menu']\");\n  if (horizontalMenuTemplate) {\n    // if screen size is small then set navbar fixed\n    if (window.innerWidth < window.Helpers.LAYOUT_BREAKPOINT) {\n      window.Helpers.setNavbarFixed('fixed');\n    } else {\n      window.Helpers.setNavbarFixed('');\n    }\n  }\n\n  // On window resize listener\n  // -------------------------\n  window.addEventListener(\n    'resize',\n    function (event) {\n      // Hide open search input and set value blank\n      if (window.innerWidth >= window.Helpers.LAYOUT_BREAKPOINT) {\n        if (document.querySelector('.search-input-wrapper')) {\n          document.querySelector('.search-input-wrapper').classList.add('d-none');\n          document.querySelector('.search-input').value = '';\n        }\n      }\n      // Horizontal Layout : Update menu based on window size\n      if (horizontalMenuTemplate) {\n        // if screen size is small then set navbar fixed\n        if (window.innerWidth < window.Helpers.LAYOUT_BREAKPOINT) {\n          window.Helpers.setNavbarFixed('fixed');\n        } else {\n          window.Helpers.setNavbarFixed('');\n        }\n        setTimeout(function () {\n          if (window.innerWidth < window.Helpers.LAYOUT_BREAKPOINT) {\n            if (document.getElementById('layout-menu')) {\n              if (document.getElementById('layout-menu').classList.contains('menu-horizontal')) {\n                menu.switchMenu('vertical');\n              }\n            }\n          } else {\n            if (document.getElementById('layout-menu')) {\n              if (document.getElementById('layout-menu').classList.contains('menu-vertical')) {\n                menu.switchMenu('horizontal');\n              }\n            }\n          }\n        }, 100);\n      }\n    },\n    true\n  );\n\n  // Manage menu expanded/collapsed with templateCustomizer & local storage\n  //------------------------------------------------------------------\n\n  // If current layout is horizontal OR current window screen is small (overlay menu) than return from here\n  if (isHorizontalLayout || window.Helpers.isSmallScreen()) {\n    return;\n  }\n\n  // If current layout is vertical and current window screen is > small\n\n  // Auto update menu collapsed/expanded based on the themeConfig\n  if (typeof TemplateCustomizer !== 'undefined') {\n    if (window.templateCustomizer.settings.defaultMenuCollapsed) {\n      window.Helpers.setCollapsed(true, false);\n    } else {\n      window.Helpers.setCollapsed(false, false);\n    }\n  }\n\n  // Manage menu expanded/collapsed state with local storage support If enableMenuLocalStorage = true in config.js\n  if (typeof config !== 'undefined') {\n    if (config.enableMenuLocalStorage) {\n      try {\n        if (localStorage.getItem('templateCustomizer-' + templateName + '--LayoutCollapsed') !== null)\n          window.Helpers.setCollapsed(\n            localStorage.getItem('templateCustomizer-' + templateName + '--LayoutCollapsed') === 'true',\n            false\n          );\n      } catch (e) {}\n    }\n  }\n})();\n\n// ! Removed following code if you do't wish to use jQuery. Remember that navbar search functionality will stop working on removal.\nif (typeof $ !== 'undefined') {\n  $(function () {\n    // ! TODO: Required to load after DOM is ready, did this now with jQuery ready.\n    window.Helpers.initSidebarToggle();\n    // Toggle Universal Sidebar\n\n    // Navbar Search with autosuggest (typeahead)\n    // ? You can remove the following JS if you don't want to use search functionality.\n    //----------------------------------------------------------------------------------\n\n    var searchToggler = $('.search-toggler'),\n      searchInputWrapper = $('.search-input-wrapper'),\n      searchInput = $('.search-input'),\n      contentBackdrop = $('.content-backdrop');\n\n    // Open search input on click of search icon\n    if (searchToggler.length) {\n      searchToggler.on('click', function () {\n        if (searchInputWrapper.length) {\n          searchInputWrapper.toggleClass('d-none');\n          searchInput.focus();\n        }\n      });\n    }\n    // Open search on 'CTRL+/'\n    $(document).on('keydown', function (event) {\n      let ctrlKey = event.ctrlKey,\n        slashKey = event.which === 191;\n\n      if (ctrlKey && slashKey) {\n        if (searchInputWrapper.length) {\n          searchInputWrapper.toggleClass('d-none');\n          searchInput.focus();\n        }\n      }\n    });\n    // Note: Following code is required to update container class of typeahead dropdown width on focus of search input. setTimeout is required to allow time to initiate Typeahead UI.\n    setTimeout(function () {\n      var twitterTypeahead = $('.twitter-typeahead');\n      searchInput.on('focus', function () {\n        if (searchInputWrapper.hasClass('container-xxl')) {\n          searchInputWrapper.find(twitterTypeahead).addClass('container-xxl');\n          twitterTypeahead.removeClass('container-fluid');\n        } else if (searchInputWrapper.hasClass('container-fluid')) {\n          searchInputWrapper.find(twitterTypeahead).addClass('container-fluid');\n          twitterTypeahead.removeClass('container-xxl');\n        }\n      });\n    }, 10);\n\n    if (searchInput.length) {\n      // Filter config\n      var filterConfig = function (data) {\n        return function findMatches(q, cb) {\n          let matches;\n          matches = [];\n          data.filter(function (i) {\n            if (i.name.toLowerCase().startsWith(q.toLowerCase())) {\n              matches.push(i);\n            } else if (\n              !i.name.toLowerCase().startsWith(q.toLowerCase()) &&\n              i.name.toLowerCase().includes(q.toLowerCase())\n            ) {\n              matches.push(i);\n              matches.sort(function (a, b) {\n                return b.name < a.name ? 1 : -1;\n              });\n            } else {\n              return [];\n            }\n          });\n          cb(matches);\n        };\n      };\n\n      // Search JSON\n      var searchJson = 'search-vertical.json'; // For vertical layout\n      if ($('#layout-menu').hasClass('menu-horizontal')) {\n        var searchJson = 'search-horizontal.json'; // For vertical layout\n      }\n      // Search API AJAX call\n      var searchData = $.ajax({\n        url: assetsPath + 'json/' + searchJson, //? Use your own search api instead\n        dataType: 'json',\n        async: false\n      }).responseJSON;\n      // Init typeahead on searchInput\n      searchInput.each(function () {\n        var $this = $(this);\n        searchInput\n          .typeahead(\n            {\n              hint: false,\n              classNames: {\n                menu: 'tt-menu navbar-search-suggestion',\n                cursor: 'active',\n                suggestion: 'suggestion d-flex justify-content-between px-4 py-2 w-100'\n              }\n            },\n            // ? Add/Update blocks as per need\n            // Pages\n            {\n              name: 'pages',\n              display: 'name',\n              limit: 5,\n              source: filterConfig(searchData.pages),\n              templates: {\n                header: '<h6 class=\"suggestions-header text-primary mb-0 mx-4 mt-3 pb-2\">Pages</h6>',\n                suggestion: function ({ url, icon, name }) {\n                  return (\n                    '<a href=\"' +\n                    url +\n                    '\">' +\n                    '<div>' +\n                    '<i class=\"ti ' +\n                    icon +\n                    ' me-2\"></i>' +\n                    '<span class=\"align-middle\">' +\n                    name +\n                    '</span>' +\n                    '</div>' +\n                    '</a>'\n                  );\n                },\n                notFound:\n                  '<div class=\"not-found px-4 py-2\">' +\n                  '<h6 class=\"suggestions-header text-primary mb-2\">Pages</h6>' +\n                  '<p class=\"py-2 mb-0\"><i class=\"ti ti-alert-circle ti-xs me-2\"></i> No Results Found</p>' +\n                  '</div>'\n              }\n            },\n            // Files\n            {\n              name: 'files',\n              display: 'name',\n              limit: 4,\n              source: filterConfig(searchData.files),\n              templates: {\n                header: '<h6 class=\"suggestions-header text-primary mb-0 mx-4 mt-3 pb-2\">Files</h6>',\n                suggestion: function ({ src, name, subtitle, meta }) {\n                  return (\n                    '<a href=\"javascript:;\">' +\n                    '<div class=\"d-flex w-50\">' +\n                    '<img class=\"me-3\" src=\"' +\n                    assetsPath +\n                    src +\n                    '\" alt=\"' +\n                    name +\n                    '\" height=\"32\">' +\n                    '<div class=\"w-75\">' +\n                    '<h6 class=\"mb-0\">' +\n                    name +\n                    '</h6>' +\n                    '<small class=\"text-muted\">' +\n                    subtitle +\n                    '</small>' +\n                    '</div>' +\n                    '</div>' +\n                    '<small class=\"text-muted\">' +\n                    meta +\n                    '</small>' +\n                    '</a>'\n                  );\n                },\n                notFound:\n                  '<div class=\"not-found px-4 py-2\">' +\n                  '<h6 class=\"suggestions-header text-primary mb-2\">Files</h6>' +\n                  '<p class=\"py-2 mb-0\"><i class=\"ti ti-alert-circle ti-xs me-2\"></i> No Results Found</p>' +\n                  '</div>'\n              }\n            },\n            // Members\n            {\n              name: 'members',\n              display: 'name',\n              limit: 4,\n              source: filterConfig(searchData.members),\n              templates: {\n                header: '<h6 class=\"suggestions-header text-primary mb-0 mx-4 mt-3 pb-2\">Members</h6>',\n                suggestion: function ({ name, src, subtitle }) {\n                  return (\n                    '<a href=\"app-user-view-account.html\">' +\n                    '<div class=\"d-flex align-items-center\">' +\n                    '<img class=\"rounded-circle me-3\" src=\"' +\n                    assetsPath +\n                    src +\n                    '\" alt=\"' +\n                    name +\n                    '\" height=\"32\">' +\n                    '<div class=\"user-info\">' +\n                    '<h6 class=\"mb-0\">' +\n                    name +\n                    '</h6>' +\n                    '<small class=\"text-muted\">' +\n                    subtitle +\n                    '</small>' +\n                    '</div>' +\n                    '</div>' +\n                    '</a>'\n                  );\n                },\n                notFound:\n                  '<div class=\"not-found px-4 py-2\">' +\n                  '<h6 class=\"suggestions-header text-primary mb-2\">Members</h6>' +\n                  '<p class=\"py-2 mb-0\"><i class=\"ti ti-alert-circle ti-xs me-2\"></i> No Results Found</p>' +\n                  '</div>'\n              }\n            }\n          )\n          //On typeahead result render.\n          .bind('typeahead:render', function () {\n            // Show content backdrop,\n            contentBackdrop.addClass('show').removeClass('fade');\n          })\n          // On typeahead select\n          .bind('typeahead:select', function (ev, suggestion) {\n            // Open selected page\n            if (suggestion.url) {\n              window.location = suggestion.url;\n            }\n          })\n          // On typeahead close\n          .bind('typeahead:close', function () {\n            // Clear search\n            searchInput.val('');\n            $this.typeahead('val', '');\n            // Hide search input wrapper\n            searchInputWrapper.addClass('d-none');\n            // Fade content backdrop\n            contentBackdrop.addClass('fade').removeClass('show');\n          });\n\n        // On searchInput keyup, Fade content backdrop if search input is blank\n        searchInput.on('keyup', function () {\n          if (searchInput.val() == '') {\n            contentBackdrop.addClass('fade').removeClass('show');\n          }\n        });\n      });\n\n      // Init PerfectScrollbar in search result\n      var psSearch;\n      $('.navbar-search-suggestion').each(function () {\n        psSearch = new PerfectScrollbar($(this)[0], {\n          wheelPropagation: false,\n          suppressScrollX: true\n        });\n      });\n\n      searchInput.on('keyup', function () {\n        psSearch.update();\n      });\n    }\n  });\n}\n","/**\n * ============================================================================\n * MAIN ENTRY POINT - Vite Build System\n * ============================================================================\n *\n * This is the single entry point for all JavaScript in the application.\n * Vite will bundle this and all its imports into optimized chunks.\n *\n * Architecture:\n * 1. Vendor libraries load first (jQuery, Bootstrap, etc.)\n * 2. Core systems initialize (EventDelegation, Helpers, etc.)\n * 3. Modules register their handlers with EventDelegation\n * 4. No duplicate event listeners - single source of truth\n *\n * ============================================================================\n */\n\n// ============================================================================\n// 0. VENDOR LIBRARIES - Must load first (order matters!)\n// ============================================================================\n\n// jQuery (required by many components)\nimport '../vendor/libs/jquery/jquery.js';\n\n// Popper.js (required by Bootstrap dropdowns/tooltips)\nimport '../vendor/libs/popper/popper.js';\n\n// Bootstrap bundle (includes Popper)\nimport '../vendor/js/bootstrap.bundle.js';\n\n// Node Waves (ripple effects)\nimport '../vendor/libs/node-waves/node-waves.js';\n\n// Perfect Scrollbar (sidebar scrolling)\nimport '../vendor/libs/perfect-scrollbar/perfect-scrollbar.js';\n\n// Hammer.js (touch gestures)\nimport '../vendor/libs/hammer/hammer.js';\n\n// Menu system (sidebar navigation)\nimport '../vendor/js/menu-refactored.js';\n\n// ============================================================================\n// 1. CORE SYSTEMS - Must load after vendors\n// ============================================================================\n\n// Event delegation system - the ONLY global click handler\nimport './event-delegation.js';\n\n// Core utilities\nimport './csrf-fetch.js';\nimport './helpers-minimal.js';\nimport './modal-manager.js';\nimport './config.js';\n\n// ============================================================================\n// 2. LAYOUT & NAVIGATION\n// ============================================================================\n\nimport './sidebar-interactions.js';\nimport './navbar-modern.js';\nimport './simple-theme-switcher.js';\nimport './admin-navigation.js';\nimport './theme-colors.js';\n\n// Socket and real-time features\nimport './socket-manager.js';\nimport './online-status.js';\n\n// ============================================================================\n// 3. UI COMPONENTS\n// ============================================================================\n\nimport './components-modern.js';\nimport './responsive-system.js';\nimport './ui-enhancements.js';\nimport './mobile-gestures.js';\nimport './mobile-keyboard.js';\nimport './mobile-forms.js';\nimport './mobile-haptics.js';\nimport './responsive-tables.js';\nimport './design-system.js';\nimport './swal-contextual.js';\n\n// ============================================================================\n// 4. FEATURE MODULES\n// ============================================================================\n\n// Chat and messaging\nimport './chat-widget.js';\nimport './messenger-widget.js';\n\n// Player features\n// import './player-profile.js';  // TODO: Create this file\n// import './profile-form.js';    // TODO: Create this file\nimport './profile-wizard.js';\nimport './profile-verification.js';\n\n// Match and draft\nimport './draft-system.js';\nimport './draft-history.js';\nimport './pitch-view.js';\n\n// Home page\n// import './home.js';  // TODO: Create this file\n\n// ============================================================================\n// 5. ADMIN MODULES\n// ============================================================================\n\nimport './admin-panel-base.js';\nimport './admin-panel-dashboard.js';\nimport './admin-panel-discord-bot.js';\nimport './admin-panel-performance.js';\n// import './admin-discord-management.js';  // TODO: Create this file\nimport './admin-utilities-init.js';\n\n// Admin submodules\nimport './admin/admin-dashboard.js';\nimport './admin/message-categories.js';\nimport './admin/message-template-detail.js';\nimport './admin/push-campaigns.js';\nimport './admin/scheduled-messages.js';\n\n// Match operations\nimport './match-operations/match-reports.js';\nimport './match-operations/seasons.js';\n\n// ============================================================================\n// 6. INITIALIZATION\n// ============================================================================\n\nimport './app-init-registration.js';\n\n// ============================================================================\n// 7. UTILITY MODULES\n// ============================================================================\n\nimport './utils/visibility.js';\nimport './components/tabs-controller.js';\nimport './init-system.js';\n\n// ============================================================================\n// 8. CUSTOM JS - Core\n// ============================================================================\n\nimport '../custom_js/tour.js';\nimport '../custom_js/report_match.js';\nimport '../custom_js/rsvp.js';\nimport '../custom_js/rsvp-unified.js';\nimport '../custom_js/discord-membership-check.js';\nimport '../custom_js/modal-helpers.js';\nimport '../custom_js/modals.js';\nimport '../custom_js/sms-verification.js';\nimport '../custom_js/mobile-menu-fix.js';\nimport '../custom_js/mobile-tables.js';\n\n// ============================================================================\n// 9. CUSTOM JS - Admin\n// ============================================================================\n\nimport '../custom_js/admin_actions.js';\nimport '../custom_js/admin-discord-management.js';\nimport '../custom_js/admin-manage-subs.js';\nimport '../custom_js/admin-match-detail.js';\nimport '../custom_js/admin-panel-match-list.js';\nimport '../custom_js/cache-stats.js';\nimport '../custom_js/clear-cache.js';\nimport '../custom_js/create-poll.js';\nimport '../custom_js/manage-polls.js';\nimport '../custom_js/manage-roles.js';\nimport '../custom_js/manage-teams.js';\nimport '../custom_js/redis-stats.js';\nimport '../custom_js/user-approval-management.js';\n\n// ============================================================================\n// 10. CUSTOM JS - Features\n// ============================================================================\n\nimport '../custom_js/calendar-subscription.js';\nimport '../custom_js/check-duplicate.js';\nimport '../custom_js/coach-dashboard.js';\nimport '../custom_js/cropper.js';\nimport '../custom_js/design-system-override.js';\nimport '../custom_js/draft-enhanced.js';\nimport '../custom_js/draft-predictions.js';\nimport '../custom_js/ecs-fc-schedule.js';\nimport '../custom_js/ecsfc-schedule.js';\nimport '../custom_js/handle_2fa.js';\nimport '../custom_js/home.js';\nimport '../custom_js/live_reporting.js';\nimport '../custom_js/match-management.js';\nimport '../custom_js/match_stats.js';\nimport '../custom_js/matches-management.js';\nimport '../custom_js/merge-profiles.js';\nimport '../custom_js/onboarding.js';\nimport '../custom_js/player-profile.js';\nimport '../custom_js/players-list.js';\nimport '../custom_js/playoff_bracket.js';\nimport '../custom_js/profile-form-handler.js';\nimport '../custom_js/profile-success.js';\nimport '../custom_js/schedule-management.js';\nimport '../custom_js/scheduled-message-validation.js';\nimport '../custom_js/settings-tabs.js';\nimport '../custom_js/settings.js';\nimport '../custom_js/simple-cropper.js';\nimport '../custom_js/substitute-pool-management.js';\nimport '../custom_js/substitute-request-management.js';\nimport '../custom_js/team-detail.js';\nimport '../custom_js/teams-overview.js';\nimport '../custom_js/verify-2fa.js';\nimport '../custom_js/verify-merge.js';\nimport '../custom_js/view-standings.js';\nimport '../custom_js/waitlist-login-register.js';\nimport '../custom_js/waitlist-register-authenticated.js';\nimport '../custom_js/waitlist-register.js';\n\n// ============================================================================\n// 11. ADDITIONAL JS MODULES\n// ============================================================================\n\nimport './admin-panel-feature-toggles.js';\nimport './admin/announcement-form.js';\nimport './auto_schedule_wizard.js';\nimport './mobile-draft.js';\nimport './mobile-table-enhancer.js';\nimport './message-management.js';\nimport './messages-inbox.js';\nimport './pass-studio.js';\nimport './pass-studio-cropper.js';\nimport './security-dashboard.js';\n\n// ============================================================================\n// 9. VENDOR - Shepherd.js (guided tours)\n// ============================================================================\n\nimport '../assets/vendor/libs/shepherd/shepherd.js';\n\n// ============================================================================\n// 10. MAIN APP INITIALIZATION\n// ============================================================================\n\n// Main.js - initializes Menu, Helpers, and other core functionality\nimport '../assets/js/main.js';\n\n// Log successful initialization\nconsole.log('[Main Entry] All modules loaded successfully');\n"],"names":["require_main_001","exports","module","_a","e","t","a","b","window","this","ie","oe","r","Object","getPrototypeOf","ae","slice","g","flat","call","concat","apply","s","push","se","indexOf","n","i","toString","ue","hasOwnProperty","o","le","v","nodeType","item","y","C","document","u","type","src","nonce","noModule","m","createElement","text","getAttribute","setAttribute","head","appendChild","parentNode","removeChild","x","l","ce","fn","init","c","length","fe","nodeName","toLowerCase","prototype","jquery","constructor","toArray","get","pushStack","merge","prevObject","each","map","arguments","first","eq","last","even","grep","odd","end","sort","splice","extend","isPlainObject","Array","isArray","expando","Math","random","replace","isReady","error","Error","noop","isEmptyObject","globalEval","textContent","documentElement","nodeValue","makeArray","inArray","isXMLDoc","namespaceURI","ownerDocument","test","guid","support","Symbol","iterator","split","pe","pop","de","he","ge","ve","RegExp","contains","compareDocumentPosition","f","p","charCodeAt","escapeSelector","ye","me","w","T","d","k","S","E","W","h","j","A","D","ID","CLASS","TAG","ATTR","PSEUDO","CHILD","bool","needsContext","N","q","L","H","O","P","String","fromCharCode","M","V","R","J","disabled","dir","next","childNodes","I","exec","getElementById","id","getElementsByTagName","getElementsByClassName","U","scope","Y","Q","join","querySelectorAll","removeAttribute","re","cacheLength","shift","F","$","B","_","z","isDisabled","X","matches","webkitMatchesSelector","msMatchesSelector","defaultView","top","addEventListener","getById","getElementsByName","disconnectedMatch","cssHas","querySelector","filter","find","getAttributeNode","value","innerHTML","sortDetached","matchesSelector","attr","attrHandle","uniqueSort","sortStable","expr","createPseudo","match","relative","preFilter","className","firstChild","lastChild","pseudos","setFilters","not","ne","has","lang","target","location","hash","root","focus","activeElement","hasFocus","href","tabIndex","enabled","checked","selected","selectedIndex","empty","nextSibling","parent","header","input","button","lt","gt","nth","radio","checkbox","file","password","image","submit","reset","G","K","Z","ee","te","selector","filters","unique","compile","select","setDocument","tokenize","escape","getText","isXML","selectors","is","parseHTML","ready","children","contents","prev","closest","index","prevAll","add","addBack","parents","parentsUntil","nextAll","nextUntil","prevUntil","siblings","contentDocument","content","reverse","promise","done","fail","then","Callbacks","once","stopOnFalse","memory","remove","disable","lock","locked","fireWith","fire","fired","Deferred","state","always","catch","pipe","progress","notify","resolve","reject","TypeError","notifyWith","resolveWith","exceptionHook","rejectWith","getErrorHook","getStackHook","setTimeout","when","console","warn","name","message","stack","readyException","removeEventListener","readyWait","readyState","doScroll","toUpperCase","uid","cache","defineProperty","configurable","set","access","hasData","JSON","parse","data","removeData","_data","_removeData","attributes","queue","dequeue","_queueHooks","unshift","stop","clearQueue","source","composed","getRootNode","style","display","css","cur","cssNumber","unit","start","body","show","hide","toggle","xe","be","we","Te","Ce","createDocumentFragment","checkClone","cloneNode","noCloneChecked","defaultValue","option","ke","thead","col","tr","td","_default","Se","Ee","tbody","tfoot","colgroup","caption","th","optgroup","je","Ae","htmlPrefilter","createTextNode","De","Ne","qe","Le","off","event","He","namespace","handler","isTrigger","special","delegateType","stopPropagation","stopImmediatePropagation","preventDefault","trigger","isImmediatePropagationStopped","global","events","create","handle","triggered","dispatch","bindType","origType","delegateCount","setup","teardown","removeEvent","fix","delegateTarget","preDispatch","handlers","isPropagationStopped","currentTarget","elem","rnamespace","handleObj","result","postDispatch","addProp","Event","enumerable","originalEvent","writable","load","noBubble","click","beforeunload","returnValue","isDefaultPrevented","defaultPrevented","relatedTarget","timeStamp","Date","now","isSimulated","altKey","bubbles","cancelable","changedTouches","ctrlKey","detail","eventPhase","metaKey","pageX","pageY","shiftKey","view","char","code","charCode","key","keyCode","buttons","clientX","clientY","offsetX","offsetY","pointerId","pointerType","screenX","screenY","targetTouches","toElement","touches","which","blur","documentMode","simulate","mouseenter","mouseleave","pointerenter","pointerleave","on","one","Oe","Pe","Me","Re","Ie","We","Fe","$e","html","clone","_evalUrl","Be","cleanData","detach","append","prepend","insertBefore","before","after","replaceWith","replaceChild","appendTo","prependTo","insertAfter","replaceAll","_e","ze","Xe","opener","getComputedStyle","Ue","Ve","Ge","getPropertyValue","pixelBoxStyles","width","minWidth","maxWidth","Ye","cssText","marginLeft","right","position","offsetWidth","round","parseFloat","backgroundClip","clearCloneStyle","boxSizingReliable","pixelPosition","reliableMarginLeft","scrollboxSize","reliableTrDimensions","height","parseInt","borderTopWidth","borderBottomWidth","offsetHeight","Qe","Je","Ke","Ze","cssProps","et","tt","visibility","nt","letterSpacing","fontWeight","rt","max","it","ceil","ot","getClientRects","at","cssHooks","opacity","animationIterationCount","aspectRatio","borderImageSlice","columnCount","flexGrow","flexShrink","gridArea","gridColumn","gridColumnEnd","gridColumnStart","gridRow","gridRowEnd","gridRowStart","lineHeight","order","orphans","scale","widows","zIndex","zoom","fillOpacity","floodOpacity","stopOpacity","strokeMiterlimit","strokeOpacity","setProperty","isFinite","getBoundingClientRect","left","margin","padding","border","expand","Tween","prop","easing","options","propHooks","run","duration","pos","step","fx","scrollTop","scrollLeft","linear","swing","cos","PI","st","ut","ct","ft","pt","dt","hidden","requestAnimationFrame","interval","tick","ht","vt","yt","tweeners","prefilters","startTime","tweens","props","opts","specialEasing","originalProperties","originalOptions","createTween","bind","complete","timer","anim","Animation","tweener","unqueued","overflow","overflowX","overflowY","prefilter","speed","speeds","old","fadeTo","animate","finish","timers","slideDown","slideUp","slideToggle","fadeIn","fadeOut","fadeToggle","slow","fast","delay","clearTimeout","checkOn","optSelected","radioValue","mt","xt","removeAttr","attrHooks","bt","wt","Tt","Ct","kt","removeProp","propFix","for","class","addClass","removeClass","toggleClass","hasClass","St","val","valHooks","Et","jt","At","parseXML","DOMParser","parseFromString","Dt","Nt","parentWindow","triggerHandler","qt","Lt","Ht","Ot","Pt","param","encodeURIComponent","serialize","serializeArray","Mt","Rt","It","Wt","Ft","$t","Bt","_t","zt","Xt","Ut","Vt","dataTypes","Gt","ajaxSettings","flatOptions","active","lastModified","etag","url","isLocal","protocol","processData","async","contentType","accepts","xml","json","responseFields","converters","context","ajaxSetup","ajaxPrefilter","ajaxTransport","ajax","statusCode","getResponseHeader","getAllResponseHeaders","setRequestHeader","overrideMimeType","mimeType","status","abort","method","dataType","crossDomain","host","traditional","hasContent","ifModified","headers","beforeSend","success","timeout","send","dataFilter","statusText","getJSON","getScript","wrapAll","firstElementChild","wrapInner","wrap","unwrap","visible","xhr","XMLHttpRequest","Yt","Qt","cors","open","username","xhrFields","onload","onerror","onabort","ontimeout","onreadystatechange","responseType","responseText","binary","response","script","scriptAttrs","charset","scriptCharset","Jt","Kt","Zt","jsonp","jsonpCallback","createHTMLDocument","implementation","animated","offset","setOffset","using","pageYOffset","pageXOffset","offsetParent","scrollTo","Height","Width","unbind","delegate","undelegate","hover","en","proxy","holdReady","parseJSON","isFunction","isWindow","camelCase","isNumeric","isNaN","trim","define","amd","tn","jQuery","nn","noConflict","globalThis","self","Popper","Element","HTMLElement","ShadowRoot","min","navigator","userAgentData","brands","brand","version","userAgent","visualViewport","offsetLeft","offsetTop","bottom","clientLeft","clientTop","abs","assignedSlot","transform","perspective","contain","willChange","reduce","Map","Set","requires","requiresIfExists","forEach","isSameNode","assign","clientWidth","clientHeight","scrollWidth","scrollHeight","direction","reference","element","placement","strategy","boundary","rootBoundary","elementContext","altBoundary","rects","popper","elements","contextElement","modifiersData","keys","modifiers","some","defaultModifiers","defaultOptions","orderedModifiers","styles","setOptions","scrollParents","phase","effect","instance","update","forceUpdate","Promise","destroy","onFirstUpdate","passive","scroll","resize","popperRect","variation","offsets","gpuAcceleration","adaptive","roundOffsets","isFixed","devicePixelRatio","popperOffsets","arrow","_skip","mainAxis","altAxis","fallbackPlacements","flipVariations","allowedAutoPlacements","every","tether","tetherOffset","centerOffset","preventOverflow","referenceClippingOffsets","popperEscapeOffsets","isReferenceHidden","hasPopperEscaped","applyStyles","computeStyles","createPopper","createPopperLite","detectOverflow","eventListeners","flip","popperGenerator","bootstrap","size","from","delete","CSS","dispatchEvent","Node","ELEMENT_NODE","classList","hasAttribute","attachShadow","NAME","jQueryInterface","Constructor","transitionDuration","transitionDelay","Number","uidEvent","values","callable","delegationSelector","oneOff","Boolean","entries","includes","startsWith","decodeURIComponent","setDataAttribute","removeDataAttribute","getDataAttributes","dataset","charAt","getDataAttribute","Default","DefaultType","_getConfig","_mergeConfigObj","_configAfterMerge","_typeCheckConfig","super","_element","_config","DATA_KEY","dispose","EVENT_KEY","getOwnPropertyNames","_queueCallback","getInstance","getOrCreateInstance","VERSION","eventName","findOne","previousElementSibling","nextElementSibling","focusableChildren","getSelectorFromElement","getElementFromSelector","getMultipleElementsFromSelector","tagName","close","_destroyElement","endCallback","leftCallback","rightCallback","isSupported","_deltaX","_supportPointerEvents","PointerEvent","_initEvents","_start","_eventIsPointerPenTouch","_end","_handleSwipe","_move","maxTouchPoints","ArrowLeft","ArrowRight","keyboard","pause","ride","touch","_interval","_activeElement","_isSliding","touchTimeout","_swipeHelper","_indicatorsElement","_addEventListeners","cycle","_slide","nextWhenVisible","_clearInterval","_updateInterval","setInterval","_maybeEnableCycle","to","_getItems","_getItemIndex","_getActive","defaultInterval","_keydown","_addTouchEventListeners","_directionToOrder","_setActiveIndicatorElement","_orderToDirection","_isAnimated","clearInterval","_isTransitioning","_triggerArray","_initializeChildren","_addAriaAndCollapsedClass","_isShown","_getFirstLevelChildren","_getDimension","freeze","__proto__","afterMain","afterRead","afterWrite","auto","basePlacements","beforeMain","beforeRead","beforeWrite","clippingParents","createPopperBase","main","modifierPhases","placements","read","variationPlacements","viewport","write","toStringTag","ti","ei","ii","ni","si","oi","ri","ai","autoClose","popperConfig","li","ci","_popper","_parent","_menu","_inNavbar","_detectNavbar","_createPopper","_completeHide","_getPopperConfig","_getPlacement","_getOffset","_selectMenuItem","clearMenus","composedPath","clickEvent","dataApiKeydownHandler","hi","di","ui","clickCallback","isAnimated","isVisible","rootElement","fi","pi","_isAppended","_append","_getElement","_emulateAnimation","mi","gi","_i","autofocus","trapElement","bi","vi","_isActive","_lastTabNavDirection","activate","_handleFocusin","_handleKeydown","deactivate","yi","wi","Ai","Ei","Ti","getWidth","innerWidth","_disableOverFlow","_setElementAttributes","_resetElementAttributes","isOverflowing","_saveInitialAttribute","_applyManipulationCallback","removeProperty","Ci","Oi","xi","ki","Li","Si","Di","backdrop","Ii","Ni","_dialog","_backdrop","_initializeBackDrop","_focustrap","_initializeFocusTrap","_scrollBar","_adjustDialog","_showElement","_hideModal","handleUpdate","_triggerBackdropTransition","_resetAdjustments","paddingLeft","paddingRight","Pi","Mi","ji","Fi","Hi","$i","Wi","Bi","zi","Ri","area","br","div","em","hr","h1","h2","h3","h4","h5","h6","img","ol","pre","small","span","sub","sup","strong","ul","qi","Vi","Ki","Qi","allowList","extraClass","sanitize","sanitizeFn","template","Xi","Yi","entry","Ui","getContent","_resolvePossibleFunction","changeContent","_checkContent","toHtml","_maybeSanitize","_setContent","_putElementInTemplate","Gi","Ji","Zi","sn","AUTO","TOP","RIGHT","BOTTOM","LEFT","rn","animation","container","customClass","title","an","ln","_isEnabled","_timeout","_isHovered","_activeTrigger","_templateFactory","_newContent","tip","_setListeners","_fixTitle","enable","toggleEnabled","_leave","_enter","_hideModalHandler","_disposePopper","_isWithContent","_getTipElement","_isWithActiveTrigger","_getTitle","_createTipElement","_getContentForTemplate","_getTemplateFactory","floor","setContent","_initializeOnDelegatedTarget","_getDelegateConfig","_setTimeout","cn","hn","dn","_getContent","un","pn","mn","rootMargin","smoothScroll","threshold","gn","_n","_targetLinks","_observableSections","_rootElement","_activeTarget","_observer","_previousScrollData","visibleEntryTop","parentScrollTop","refresh","_initializeTargetsAndObservables","_maybeEnableSmoothScroll","disconnect","_getNewObserver","observe","behavior","IntersectionObserver","_observerCallback","_process","isIntersecting","_clearActiveClass","decodeURI","_activateParents","bn","vn","yn","wn","An","En","Tn","Cn","On","xn","_setInitialAttributes","_getChildren","_elemIsActive","_getActiveElem","_deactivate","_activate","_toggleDropDown","preventScroll","_setAttributeIfNotExists","_setInitialAttributesOnChild","_getInnerElement","_getOuterElement","_setInitialAttributesOnTargetPanel","kn","Ln","Sn","Dn","autohide","In","Nn","_hasMouseInteraction","_hasKeyboardInteraction","_clearTimeout","_maybeScheduleHide","isShown","_onInteraction","Alert","Button","Carousel","Collapse","Dropdown","Modal","Offcanvas","Popover","ScrollSpy","Tab","Toast","Tooltip","Waves","allowEvent","srcElement","parentElement","SVGElement","registerEvent","color","backgroundColor","attach","ripple","wait","calm","displayEffect","scrolling","isAlive","settings","scrollingThreshold","CustomEvent","createEvent","initCustomEvent","reach","containerWidth","containerHeight","contentWidth","contentHeight","scrollbarXRail","rail","scrollbarYRail","suppressScrollX","scrollXMarginOffset","scrollbarXActive","railXWidth","railXMarginWidth","railXRatio","scrollbarXWidth","scrollbarXLeft","negativeScrollAdjustment","suppressScrollY","scrollYMarginOffset","scrollbarYActive","railYHeight","railYMarginHeight","railYRatio","scrollbarYHeight","scrollbarYTop","isRtl","isScrollbarXUsingBottom","scrollbarXBottom","scrollbarXTop","isScrollbarYUsingRight","scrollbarYRight","scrollbarYOuterWidth","scrollbarYLeft","scrollbarX","railBorderXWidth","scrollbarY","railBorderYWidth","minScrollbarLength","maxScrollbarLength","clicking","mozMatchesSelector","rtl","thumb","consuming","isEmpty","unbindAll","defineProperties","eventElements","eventElement","isWebKit","supportsTouch","DocumentTouch","supportsIePointer","msMaxTouchPoints","isChrome","shadowRoot","wheelPropagation","wheel","deltaX","deltaY","wheelDeltaX","wheelDeltaY","deltaMode","wheelDelta","useBothWheelAxes","wheelSpeed","onwheel","onmousewheel","MSPOINTER_TYPE_MOUSE","getTime","scrollY","swipeEasing","isInitialized","MSPointerEvent","isNegativeScroll","borderLeftWidth","borderRightWidth","marginRight","marginTop","marginBottom","lastScrollTop","lastScrollLeft","onScroll","removePsClasses","PerfectScrollbar","log","_super","la","oa","ma","manager","callback","inputTarget","domHandler","pointers","changedPointers","Ea","Ga","Ha","isFirst","isFinal","session","eventType","firstInput","firstMultiple","center","ra","deltaTime","angle","distance","offsetDelta","prevDelta","prevInput","offsetDirection","overallVelocityX","overallVelocityY","overallVelocity","qa","Ra","rotation","maxPointers","lastInterval","Da","velocity","velocityX","velocityY","srcEvent","emit","recognize","pa","Ia","Ja","Ka","La","Ma","Qa","sqrt","atan2","evEl","Ta","evWin","Ua","pressed","Xa","Ya","store","pointerEvents","evTarget","$a","started","bb","targetIds","Fa","identifier","mouse","primaryTouch","lastTouches","cb","db","defaults","ua","nb","simultaneous","requireFail","sb","qb","pb","ob","aa","ba","pX","pY","ca","da","_timer","_input","ea","fa","ga","pTime","pCenter","count","ha","recognizers","preset","ia","oldCssProps","inputClass","xa","ya","wa","touchAction","ja","recognizeWith","requireFailure","na","sa","ta","za","Ba","Na","Oa","Pa","Sa","mousedown","mousemove","mouseup","Va","pointerdown","pointermove","pointerup","pointercancel","pointerout","Wa","Za","touchstart","touchmove","touchend","touchcancel","ab","sourceCapabilities","firesTouchEvents","eb","fb","gb","hb","ib","jb","kb","lb","mb","supports","compute","actions","getTouchAction","preventDefaults","prevented","preventSrc","rb","tb","dropRecognizeWith","dropRequireFailure","hasRequireFailures","canRecognizeWith","additionalEvent","tryEmit","canEmit","process","attrTest","directionTest","time","taps","posThreshold","failTimeout","tapCount","domEvents","userSelect","touchSelect","touchCallout","contentZooming","userDrag","tapHighlightColor","stopped","curRecognizer","initEvent","gesture","ka","INPUT_START","INPUT_MOVE","INPUT_END","INPUT_CANCEL","STATE_POSSIBLE","STATE_BEGAN","STATE_CHANGED","STATE_ENDED","STATE_RECOGNIZED","STATE_CANCELLED","STATE_FAILED","DIRECTION_NONE","DIRECTION_LEFT","DIRECTION_RIGHT","DIRECTION_UP","DIRECTION_DOWN","DIRECTION_HORIZONTAL","DIRECTION_VERTICAL","DIRECTION_ALL","Manager","Input","TouchAction","TouchInput","MouseInput","PointerEventInput","TouchMouseInput","SingleTouchInput","Recognizer","AttrRecognizer","Tap","Pan","Swipe","Pinch","Rotate","Press","inherit","bindFn","prefixed","Hammer","TRANSITION_EVENTS","Menu","el","config","_PS","_el","_horizontal","orientation","_animate","_accordion","accordion","_showDropdownOnHover","showDropdownOnHover","_closeChildren","closeChildren","_rtl","_onOpen","onOpen","_onOpened","onOpened","_onClose","onClose","_onClosed","onClosed","_psScroll","_topParent","_menuBgClass","_inner","_prevBtn","_wrapper","_nextBtn","_innerPosition","PerfectScrollbarLib","_scrollbar","_hasClass","Helpers","menuPsScroll","menuClassList","LAYOUT_BREAKPOINT","switchMenu","_bindEvents","menuInstance","_evntElClick","menuItem","_findParent","toggleLink","isMobileDevice","_evntWindowResize","_lastWidth","horizontalMenuTemplate","manageScroll","_evntPrevBtnClick","_evntNextBtnClick","_evntBodyClick","closeAll","_evntElMouseOver","screen","_evntElMouseOut","mainEl","mouseOutEl","mouseOverEl","childOf","_toggleLink","_unbindEvents","_evntInnerMousemove","_evntInnerMouseleave","_findUnopenedParent","_getItem","_getLink","_promisify","_findMenu","_isRoot","_toggleDropdown","_toggleAnimation","_closeOther","_autoClose","opened","_findChild","menu","actualItem","subMenuItem","wrapperWidth","itemOffset","_getItemOffset","itemWidth","menuWidth","marginValue","_updateSlider","_innerWidth","newPosition","_getSlideNextPos","_getSlidePrevPos","curItem","curItemWidth","tree","parentItem","openedItems","openedChildren","_unbindAnimationEndEvent","linkHeight","clearItemStyle","_bindAnimationEndEvent","totalHeight","_wrapperWidth","_position","items","menuInner","menuScroll","navbar","navbarCollapse","asideMenuWrapper","asideMenu","horzMenuClasses","vertMenuClasses","horzMenuWrapper","menuToggler","activeMenuItems","cls","menus","i2","l2","throwError","found","passed","curEl","ROOT_EL","_menuAnimationEndEventCb","ev","_menuAnimationEndEventTimeout","args","setDisabled","isActive","isOpened","EventDelegation","debug","stats","handlersRegistered","eventsProcessed","errorsEncountered","register","action","unregister","isRegistered","getRegisteredActions","handleClick","handleChange","handleInput","handleSubmit","handleKeydown","actionElement","handleError","onChange","onInput","form","onSubmit","FormData","onKeydown","showNotification","enableDebug","disableDebug","getStats","registeredActions","resetStats","updateRSVPStatus","playerId","matchId","Swal","icon","showCancelButton","confirmButtonText","cancelButtonText","confirmButtonColor","ECSTheme","getColor","confirmButton","cancelButton","buttonsStyling","isConfirmed","formData","csrfToken","allowOutsideClick","didOpen","showLoading","fetch","ok","showConfirmButton","reload","showCalendarToast","showToast","Toastify","bgColors","warning","info","gravity","background","setCalendarLoading","loading","loadingIndicator","taskId","taskType","taskDataStr","taskData","err","showTaskInfo","revokeTask","rescheduleTask","loadAllTaskDetails","refreshStatuses","targetId","scheduleMatch","verifyMatch","verifyUrl","editMatch","playerName","confirmDraftPlayer","draftSystemInstance","showDraftModal","teamId","teamName","confirmRemovePlayer","openPlayerModal","searchTerm","handleSearch","card","shouldShow","handleFilter","playerPosition","handleSort","handleEditButtonClick","onclickAttr","containerId","addEvent","updatePlayerRSVP","submitRSVP","withdrawRSVP","phone","formatPhoneNumber","smsModal","ModalManager","showByElement","playerNameEl","playerIdEl","playerPhoneEl","messageEl","charCountEl","discordId","discordModal","discordIdEl","urlInput","clipboard","writeText","originalHtml","execCommand","confirm","CalendarSubscription","loadSubscription","webcalUrl","feedUrl","googleUrl","_b","_c","preferences","include_team_matches","include_league_events","include_ref_assignments","stringify","ProfileVerification","handleCheckboxChange","verifyDataEl","areAllSectionsReviewed","Haptics","uncheckedSections","getUncheckedSections","showIncompleteWarning","perPage","URL","searchParams","btn","cancelButtonColor","originalText","success_count","finally","dmDiscordIdInput","modalTitle","dmMessageTextarea","defaultMessage","discord_id","modalElement","modalInstance","refId","assignReferee","removeReferee","loadCalendarEvents","fetchAvailableReferees","calendarInstance","getDate","refreshCalendar","refereeId","viewRefereeProfile","profileUrl","updateRefereeStatus","league","approvePlayer","removePlayer","openEditPreferencesModal","openPlayerDetailsModal","section","listView","gridView","filterText","filterPlayerCards","searchText","openLeagueManagementModal","savePreferences","page","paginationState","currentPage","updatePagination","addToPool","rejectPlayer","removeFromPool","loadStatistics","showAddPlayerModal","formActionInput","carouselElement","OnboardingWizard","croppedImageHiddenInput","bootstrapCarousel","totalSteps","getFormElements","getCurrentStep","cropper","canvas","getCroppedCanvas","toDataURL","checkValidity","firstInvalid","scrollIntoView","block","activeItem","requiredFields","isValid","field","feedback","validationMessage","handleSmsToggle","securityDashboard","refreshAll","loadSecurityEvents","loadSecurityLogs","ip","unbanIP","reason","quickBanIP","banIP","clearAllBans","showBanIpModal","banIp","startSeasonWizard","showExistingSeasons","showMainView","nextStep","previousStep","createSeason","updateSeasonStructure","templateType","applyWizardTemplate","addWizardField","removeWizardField","seasonId","seasonType","setActiveSeason","seasonName","confirmDeleteSeason","recreateDiscordResources","toggleScheduleSettings","deleteSchedule","commitSchedule","matchDesc","selectForSwap","executeSwap","swapIndex","removeFromSwap","removeField","addField","applyTemplate","addWeekConfig","generateDefaultWeeks","clearWeeks","updateWeekCard","removeWeekCard","platform","PassStudio","setPreviewPlatform","updatePassStylePreview","bg","fg","label","bgColorInput","fgColorInput","labelColorInput","bgColorText","fgColorText","labelColorText","updatePreviewFromForm","markUnsaved","textInput","toggleLogoVisibility","assetType","openAssetCropper","updateGooglePreview","updateBarcodePreview","saveAppearance","FieldsManager","initializeDefaults","fieldType","openAddFieldModal","createField","saveFields","resetFields","variableName","insertVariableInAdd","refreshStats","userId","showPlayerDetails","showApprovalModal","showDenialModal","submitApproval","submitDenial","originalFetch","CSRF_METHODS","meta","getCSRFToken","Headers","fetchWithCSRF","RESIZE_DELAY","_initialized","_listeners","_resizeCallback","_resizeTimeout","mainMenu","isSmallScreen","isDarkStyle","isLightStyle","isCollapsed","isOffcanvas","isNavbarFixed","isFooterFixed","isLayoutNavbarFull","getLayoutMenu","getMenu","layoutMenu","getLayoutNavbar","getLayoutFooter","_addClass","_removeClass","setCollapsed","collapsed","_triggerEvent","toggleCollapsed","setNavbarFixed","fixed","setFooterFixed","scrollToActive","activeEl","activeTop","swipeIn","targetEl","swipeOut","hammer","initPasswordToggle","initCustomOptionCheck","updateCustomOptionCheck","opt","initSpeechToText","SpeechRecognition","webkitSpeechRecognition","listening","recognition","onspeechstart","onresult","results","transcript","onspeechend","initNavbarDropdownScrollbar","initSidebarToggle","overlay","appOverlay","tel","namespaceParts","setAutoUpdate","ModalManager$1","discoverModals","setupEventDelegation","setupMutationObserver","modalInstances","modalEl","modalId","parseOptionsFromElement","closestModal","MutationObserver","mutations","mutation","removedNodes","node","cleanup","childList","subtree","modal","cleanupAll","clear","reinit","DEBUG","__publicField","getCSSVariable","fallback","InitSystem","priority","safeGetModal","safeShowModal","colors","primary","danger","secondary","light","dark","colors_label","colors_dark","assetsPath","templateName","rtlSupport","cardBg","bodyBg","headerBg","CONFIG","sidebar","sidebarToggle","submenuToggle","expandableItem","collapsedKey","desktop","State","isDesktop","isSidebarOpen","collapsedState","localStorage","getItem","handleOutsideClick","handleKeyDown","resizeTimeout","handleResize","setupResizeHandler","isOpen","handleSidebarToggle","closeSidebar","handleSubmenuToggle","alert","toggleCollapsedState","openSidebar","setItem","focusableElements","getFocusableElements","firstFocusableElement","lastFocusableElement","focusTrapActive","handleFocusTrap","trapFocus","currentElement","focusable","currentIndex","previousIndex","focusPreviousItem","nextIndex","focusNextItem","focusFirstItem","focusLastItem","wasDesktop","SidebarInteractions","collapse","description","reinitializable","ModernNavbarController","activeDropdown","scrollThreshold","csrfMeta","csrfInput","cookies","cookie","registerEventHandlers","attachEventListeners","initScrollTracking","initSearch","initNotifications","initRoleImpersonation","initTheme","initPresence","toggleMobileMenu","dropdownId","dropdown","toggleDropdown","theme","switchTheme","startRoleImpersonation","stopRoleImpersonation","notificationId","markNotificationRead","markAllNotificationsRead","clearAllNotifications","dismissNotification","toggleNotificationExpand","handleLogout","handleKeyboard","navigateDropdown","closeDropdown","openDropdown","staggerDropdownItems","transition","findIndex","ticking","searchInput","searchTimeout","query","performSearch","initializePlayerSearch","actualTheme","matchMedia","iconClass","system","checkboxes","selectedRoles","roles","badge","normalStatus","activeStatus","activeRolesList","role","notification","updateNotificationBadge","unread_count","loadNotifications","refreshNotificationCount","loadingEl","emptyEl","notifications","notifEl","createNotificationElement","emptyText","is_read","colorClass","icon_color","truncatedMessage","substring","hasMore","escapeHtml","time_ago","created_at","expandedContent","deleted_count","loadImpersonationStatus","refreshBtn","loadAvailableRoles","validateRoleSelection","clearBtn","clearRoleSelection","updateImpersonationStatus","current_impersonation","startBtn","countDisplay","selectedCount","savedTheme","applyTheme","save","io","initPresenceSocket","checkPresence","refreshPresence","visibilityState","presenceSocket","connected","connect","SocketManager","isOptimisticallyConnected","updateOnlineStatus","getSocket","onConnect","socket","onDisconnect","attachSocketListenersDirect","transports","upgrade","reconnection","reconnectionAttempts","reconnectionDelay","reconnectionDelayMax","autoConnect","withCredentials","online","isOnline","statusIndicator","initNavbar","navbarController","SimpleThemeSwitcher","themes","variants","currentTheme","currentVariant","setupEventListeners","setupSystemThemeDetection","loadSavedVariant","savedVariant","loadSavedTheme","setTheme","effectiveTheme","resolveSystemTheme","updateThemeIcon","updateActiveMenuItem","saveThemeToServer","dropdownInstance","cycleTheme","getCurrentTheme","getEffectiveTheme","setVariant","variant","saveVariantToServer","notifyAndReload","timerProgressBar","getCurrentVariant","isModern","toggleVariant","themeSwitcher","_themeNeedsSync","_variantNeedsSync","AdminNavigationController","nav","handleEscapeKey","registerActions","handleToggleDropdown","handleNavigation","handleCloseDropdown","closeAllDropdowns","dropdownItem","firstItem","initAdminNavigation","pathname","navElements","altNav","adminNavController","colorCache","cacheValid","colorMap","accent","white","muted","fallbacks","getCSSVar","varName","invalidateCache","observer","attributeName","getAllColors","getChartColors","palette","getSwalColors","denyButtonColor","connection","randomizationFactor","optimisticDisconnectDelay","isConnected","connectionAttempts","disconnectTimeout","OPTIMISTIC_KEY","connectCallbacks","disconnectCallbacks","attachInternalListeners","fireConnectCallbacks","handleConnect","handleDisconnect","handleConnectError","sessionStorage","component","fireDisconnectCallbacks","lastConnected","wasRecentlyConnected","componentName","componentListeners","removeListeners","reconnect","OnlineStatusManager","updateInterval","intervalId","onlineUserIds","initialized","fetchOnlineUsers","setupWebSocketListeners","online_user_ids","updateAllIndicators","isUserOnline","indicator","updateIndicator","setUserStatus","userIdStr","checkSocket","attachSocketListeners","user_id","getOnlineCount","getOnlineUserIds","ModalController","activeModals","modalTrigger","openModal","topModal","firstElement","lastElement","ToastController","toasts","idCounter","toastId","dismiss","dismissible","toast","icons","TooltipController","activeTooltip","tooltips","getElement","tooltip","tooltipPosition","tooltipVariant","DropdownController","dropdownTrigger","TableController","paginationBtn","tableId","paginate","table","column","sortColumn","currentDirection","sortDirection","newDirection","FormController","validateField","validateForm","clearError","showError","inputs","ModernComponents","Table","Form","ResponsiveSystem","device","isMobile","isTablet","isIOS","isAndroid","hasTouch","hasMouse","detectDevice","applyDeviceClasses","fixIOSViewportHeight","setupTouchFeedback","enhanceModals","enhanceFormControls","enhanceTables","enhanceNavigation","improveScrolling","monitorNetworkStatus","screenWidth","setVh","vh","innerHeight","modalDialog","setupModalSwipeDismiss","modalOpen","modalBody","modalContent","handleModalKeyboard","modalClose","cleanupModalBackdrops","modalHeader","startY","currentY","isDragging","bsModal","control","select2","selectElement","dropdownParent","placeholder","scrollHint","tabs","isOnMobile","hasMultipleTabs","hasOverflow","existingHint","sidebarMenu","link","anchor","targetElement","showNetworkStatus","statusDiv","resizeTimer","openModals","modalBackdrops","shouldEnhance","addedNodes","enhanceNewElements","feather","hasNewFeatherIcons","group","MobileGestures","isTouchDevice","isHammerLoaded","bootstrapModal","setupSidebarSwipe","menuOpen","menuClose","setupPullToRefresh","isPulling","refreshIndicator","borderRadius","refreshThreshold","refreshEvent","setupLongPress","longPress","longPressEvent","setupDoubleTap","isZoomed","doubleTap","setupSwipeActions","row","actionsRevealed","actionsContainer","deleteBtn","onclick","deleteEvent","swipe","setupPinchZoom","lastScale","setupSwipeNavigation","activeTab","tab","activeIndex","addGestureStyles","MobileKeyboard","keyboardHeight","activeInput","originalViewportHeight","detectKeyboard","currentHeight","heightDiff","onKeyboardShow","onKeyboardHide","adjustModalsForKeyboard","adjustDropdownsForKeyboard","resetModalAdjustments","availableHeight","inputRect","keyboardTop","rect","scrollInputIntoView","inputBottom","scrollAmount","inline","optimizeInputType","autocomplete","inputMode","pattern","fontSize","setupInputHandlers","setupIOSFixes","setVH","setupAndroidFixes","metaViewport","originalContent","setupFormValidation","validationError","validity","valid","addKeyboardStyles","MobileForms","optimizeModals","optimizeInputGroups","setupSwipeToDelete","deleteIndicator","hideTimeout","removeBtn","optimizeSelect2","$select","dropdownAutoWidth","dropdownCssClass","containerCssClass","minimumResultsForSearch","makeCollapsible","inputGroups","sectionTitle","optimizeDataTables","DataTable","$table","isDataTable","responsive","columns","len","draw","pageLength","dom","language","search","lengthMenu","infoEmpty","infoFiltered","addQuickActions","optimizeTextareas","textarea","maxLength","counter","updateCounter","remaining","convertToFloatingLabels","setupMobileValidation","invalidFields","addMobileFormStyles","_vibrate","vibrate","mozVibrate","webkitVibrate","removeItem","medium","heavy","selection","deselection","drafted","invalidSelection","timeWarning","inputFocus","formSubmit","archive","custom","ResponsiveTables","processAllTables","setupScrollTracking","setupDataTables","processTable","headerCells","headerTexts","cell","isCellWithOnlyActions","isCellWithAvatar","innerText","child","tableWrapper","dataTable","drawCallback","shouldProcess","ECSDesignSystem","ensureStylesheetLoaded","enhanceButtons","enhanceCards","enhanceForms","enhanceNavs","setupResponsive","setupDarkMode","setupCustomBehaviors","btnClassMap","excludeSelector","bootstrapClass","ecsClass","cardClassMap","headerColorMap","cardHeader","adjustForScreenSize","htmlElement","isDarkBsTheme","isDark","applyDarkModeToContent","addDarkModeToggle","addRippleEffect","improveKeyboardNavigation","setupTransitions","ACTION_CONFIGS","titlePrefix","approve","deny","sync","cancel","unlink","revoke","retry","resend","duplicate","schedule","detectAction","lowerText","SwalContextual","actionConfig","reverseButtons","buildConfig","conversations","messages","unreadCount","searchUsers","markRead","msgId","animationDuration","typingDebounce","searchDebounce","maxMessageLength","currentView","activeConversation","onlineUsers","isTyping","typingTimeout","searchQuery","searchResults","typingIndicators","readReceipts","fetchJSON","loadConversations","conversationList","emptyState","defaultAvatar","conv","user","isUnread","is_online","avatarUrl","avatar_url","roleBadges","renderRoleBadges","is_coach","is_admin","is_global_admin","is_ref","last_message","sent_by_me","renderConversations","loadUnreadCount","updateBadge","badges","renderMessages","messagesContainer","currentUserId","getCurrentUserId","msg","isSent","sender_id","is_deleted","formatMessageTime","contentWithEmojis","shortcode","emoji","EMOJI_MAP","escaped","convertEmojiShortcodes","handleDeleteMenuClick","messageId","popup","showDenyButton","denyButtonText","deleteMessage","isDenied","showDeleteConfirmation","senderId","deleteFor","msgIndex","scrollToBottom","xD","XD","renderSearchResults","navbarBadge","updateSendButton","sendBtn","composerInput","openWidget","widget","chatScrollY","joinMessagingRoom","closeWidget","clearSearch","toggleWidget","openConversation","userName","roleInfo","avatar","chatAvatar","chatName","chatStatus","chatAvatarContainer","loadMessages","closeConversation","handleTriggerClick","handleConversationClick","conversation","isCoach","isAdmin","isGlobalAdmin","isRef","handleBackClick","handleSendClick","sendMessage","handleComposerKeydown","recipient_id","handleComposerInput","searchDebounceTimer","handleSearchInput","users","handleSearchFocus","handleSearchBlur","handleClickOutside","initWebSocket","connectedSocket","handleNewMessage","handleMessageSent","handleMessageError","handleUnreadUpdate","handleMessageDeleted","handleUserTyping","handleMessagesRead","handleUserOnline","handleUserOffline","handleOnlineUsers","message_id","deletedFor","deleted_for","sender_name","Notification","permission","tag","typing","typingIndicator","reader_id","updateUserOnlineStatus","onlineList","onlineSection","renderOnlineUsers","isoString","date","diff","toLocaleTimeString","hour","minute","toLocaleDateString","weekday","month","day","sessionData","updatePosition","mobileNav","navHeight","panel","chatView","backBtn","newChatBtn","openInboxBtn","closeBtns","ChatWidget","getUnreadCount","MessengerWidget","currentUserName","refreshIntervals","bindEvents","setupWebSocket","loadOnlineUsers","unread","handleAction","conversationId","onlineUser","onlineUserId","msgInput","handleTyping","showList","focusSearch","handleTypingIndicator","appendMessage","online_users","updateOnlineCount","list","countEl","onlineClass","preview","headerTitle","bubble","timeStr","msgEl","markAsRead","typingEl","navBadge","ProfileWizard","autoSaveUrl","autoSaveDelay","currentStep","autoSaveTimeout","lastSavedData","progressBar","currentStepInput","prevBtn","nextBtn","confirmBtn","saveIndicator","swipeHint","steps","stepIndicators","editButtons","confirmCheckbox","updateUI","initSwipeGestures","stepNum","stepIndicator","goToStep","gotoStep","scheduleAutoSave","populateReview","validateFinalStep","updateConfirmButton","validateCurrentStep","shakeInvalidFields","updateNavigationButtons","currentStepEl","emailField","fieldName","review","displayValue","multiple","selectedOptions","checkedBoxes","autoSave","fromEntries","dataString","showSaveIndicator","touchStartX","touchEndX","swipeDistance","formatPosition","isVerificationPage","setupSectionCheckboxes","setupConfirmButton","setupProgressIndicator","setupHapticFeedback","trackUserInteraction","createSectionCheckboxes","attachCheckboxListeners","cardTitle","sectionName","shouldSkipSection","checkboxContainer","isChecked","updateProgress","animateCardCheck","progressContainer","createProgressIndicator","progressText","helpText","firstCard","checkedCount","totalCount","updateProgressBar","progressBarContainer","percentage","sectionList","DraftSystemV2","leagueName","currentPlayerId","setupImageHandling","initializeSocket","setupSearch","setupTeamTabHighlighting","testImg","Image","player","smartCropImage","naturalWidth","naturalHeight","positionClass","closeModals","updateConnectionStatus","league_name","setupSocketListenersViaManager","setupSocketListeners","tryFallbackConnection","room","hideDraftingIndicator","handlePlayerDrafted","handlePlayerRemoved","player_name","showUserActivity","team_name","hideLoading","handlePlayerDetails","SM","forceNew","setupSocketEventListeners","statusElement","updatePlayerCounts","playerColumns","visibleCount","playerCard","toggleEmptyState","updateAvailableCount","sortBy","players","cardA","cardB","aValue","bValue","localeCompare","teams","playerCount","inputOptions","obj","team","inputPlaceholder","inputValidator","confirmDraft","prompt","showDraftingIndicator","player_id","team_id","activity","fallbackDraftPlayer","availableContainer","playerColumn","maxHeight","addPlayerToTeam","teamSection","profilePictureUrl","profile_picture_url","favorite_position","career_goals","career_assists","career_yellow_cards","career_red_cards","updateTeamCount","teamCountBadge","addPlayerToAvailable","experienceLevel","experience_level","league_experience_seasons","mediumPictureUrl","profile_picture_medium","profile_picture_webp","experienceSeasons","attendanceEstimate","attendance_estimate","expectedAvailability","expected_weeks_available","experienceBadgeColor","attendanceColor","attendanceDisplay","sortSelect","positionFilter","filterPosition","removePlayerFromTeam","profileHtml","season_goals","season_assists","season_yellow_cards","season_red_cards","reliability_score","rsvp_response_rate","player_notes","admin_notes","match_history","goals","assists","yellow_cards","red_cards","availableCount","countElement","playersContainer","iconMap","refreshDraft","viewPlayerProfile","handleDragStart","dataTransfer","setData","effectAllowed","draggedPlayerId","handleDragEnd","handleDragOver","dropEffect","dropZone","handleDragLeave","handleDrop","getData","teamNameElement","teamAccordion","handleDropToAvailable","currentPlayerCard","fetchPositionAnalysis","updatePositionHighlighting","activeTeamId","analysis","player_fit_scores","existingBadge","fitData","fit_category","openAccordion","DraftHistoryManager","getCsrfToken","initDragAndDrop","metaToken","editForm","handleEditSubmit","draggableCard","currentPos","pickId","dragImage","setDragImage","draggedPickId","targetPosition","showAlert","handleDragDrop","mode","reloadPage","clearFilters","currentUrl","editDraftPick","notes","deleteDraftPick","normalizeDraftPositions","leagueId","season_id","league_id","clearSeasonLeague","alertClass","alertHtml","insertAdjacentHTML","initTooltips","tooltipTriggerEl","draftHistoryManager","PitchViewSystem","draftedPlayersByTeam","currentDraggedPlayer","setupSocket","populateExistingPlayers","updateAllStats","handlePlayerPositionUpdated","handlePositionFilter","onTeamTabSwitch","setupDragAndDropEvents","handlePositionDrop","updateAvailablePlayerCount","playerItems","selectedPosition","current_position","addPlayerToPosition","emitEvent","positionContainer","removePlayerFromAllPositions","playerElement","createPositionedPlayerElement","removePlayerFromAvailable","updatePositionStats","updateTeamCounts","handlePositionedPlayerDragStart","handlePositionedPlayerDragEnd","getPlayerInitials","part","removePlayerFromPosition","isPlayerInTeam","addPlayerBackToAvailable","playerItem","handlePlayerDragStart","handlePlayerDragEnd","handlePositionDragOver","handlePositionDragLeave","zone","isPositioned","currentPlayers","recommended","getRecommendedMax","showPositionWarning","movePlayerBetweenPositions","draftPlayerToPosition","updatePositionCapacity","gk","lwb","rwb","cdm","cm","cam","lw","rw","bench","currentCount","recommendedMax","positionName","slot","currentSpan","positions","playerData","addPlayerToAvailableList","availableList","def","mid","fwd","category","countSpan","totalPlayers","getTotalPlayersInTeam","total","getContainerId","collectRemovedStatIds","baseName","removedIds","formBaseName","statId","getFinalEvents","uniqueId","stat_id","unique_id","eventExists","eventsArray","ownGoalExists","ownGoal","ownGoalList","og","fixDropdownsAndOverflow","dropdowns","containers","bindEventHandlers","charCount","toastr","submitBtn","removeDataTablesArrows","beforeStyle","afterStyle","AdminPanelBase","MOBILE_BREAKPOINT","TABLET_BREAKPOINT","TOAST_DURATION_MOBILE","TOAST_DURATION_DESKTOP","FETCH_TIMEOUT_MOBILE","FETCH_TIMEOUT_DESKTOP","DEBOUNCE_WAIT","_autoRefreshInterval","initMobileNavigation","initAdminNavToggle","initTouchGestures","initProgressiveLoading","initResponsiveTables","initNetworkMonitoring","initAutoRefreshManagement","initPerformanceMonitoring","initDoubleTapPrevention","initSmoothScrolling","initIOSBouncePrevent","navLinks","navEnhanced","bsCollapse","toggleBtn","navContainer","adminNavToggleEnhanced","gesturesEnhanced","touchStartY","touchEndY","loaded","unobserve","handleResponsiveTables","mobileStack","debounce","_networkMonitoringSetup","updateNetworkStatus","onLine","showMobileToast","_autoRefreshSetup","manageAutoRefresh","_performanceMonitoringSetup","PerformanceObserver","getEntries","entryType","loadTime","loadEventEnd","loadEventStart","entryTypes","doubleTapPrevented","smoothScrollEnhanced","_iosBouncePreventSetup","func","confirmAction","messageLower","defaultConfirm","defaultIcon","defaultTitle","defaultColor","confirmText","cancelText","confirmColor","controller","AbortController","timeoutId","signal","registerServiceWorker","serviceWorker","registration","AdminPanel","handleNavigate","openNavigationSettings","openRegistrationSettings","openTaskMonitor","openDatabaseMonitor","openMatchReports","generateReport","currentPath","highlightActiveNav","cursor","createToggle","teams_navigation_enabled","store_navigation_enabled","matches_navigation_enabled","leagues_navigation_enabled","drafts_navigation_enabled","players_navigation_enabled","messaging_navigation_enabled","mobile_features_navigation_enabled","showLoaderOnConfirm","preConfirm","saveNavigationSettings","isLoading","showNavigationSettingsModal","roleOptions","default_user_role","registration_enabled","waitlist_registration_enabled","admin_approval_required","require_real_name","require_email","require_phone","require_location","require_jersey_size","require_position_preferences","require_availability","require_referee_willingness","discord_only_login","saveRegistrationSettings","showRegistrationSettingsModal","available_roles","tasksHtml","tasks","task","statusClass","worker","active_count","scheduled_count","worker_count","showTaskMonitorModal","cpu_percent","memory_percent","services","database","response_time_ms","redis","timestamp","toLocaleString","showDatabaseMonitorModal","formToken","botApiUrl","recentLogs","commands","commandUsage","guildInfo","restartBot","checkBotHealth","healthInfo","guild_count","latency","memory_usage_mb","details","viewBotLogs","logsHtml","logs","level","syncCommands","commands_synced","viewCommands","commandsHtml","categories","cmd","permissionColor","permission_level","commandPermissions","usage","commands_today","commands_this_week","most_used_command","avg_response_time","customCommands","manageGuild","guildId","guild","guildStats","member_count","channel_count","role_count","addGuild","showCloseButton","saveBotConfig","_d","_f","_g","prefix","default_role","activity_type","activity_text","auto_moderation","command_logging","welcome_messages","resetBotConfig","prefixEl","roleEl","activityTypeEl","activityTextEl","autoModEl","cmdLogEl","welcomeEl","__BOT_RECENT_LOGS__","__BOT_COMMANDS__","__BOT_COMMAND_USAGE__","__BOT_GUILD_INFO__","loadBotConfig","refreshInterval","queryPerformanceChart","cacheUsageChart","autoRefresh","perfData","avgQueryTime","dbAvgQueryTime","cacheActive","cacheExpired","queryCtx","Chart","getContext","labels","datasets","borderColor","tension","fill","maintainAspectRatio","scales","beginAtZero","plugins","legend","cacheCtx","borderWidth","initializeCharts","handleToggleAutoRefresh","handleClearCache","startAutoRefresh","statusSpan","updateMetrics","report","updateLiveValue","avg_query_time","toFixed","slow_queries","active_entries","cache_size_mb","timestampEl","slowQueriesEl","cacheSizeEl","updateMetricColors","newValue","updateQueryChart","expired","expired_entries","metric","dockerStatusContainer","taskManagementContainer","toastContainer","roleSelect","permissionsSelect","currentPermissionsList","dockerLogsContent","dockerLogsModalLabel","refreshContainers","openTaskManagement","refreshTaskList","cleanupOldTasks","loadTaskManagement","showLogs","containerAction","viewTaskDetails","removeTask","closeModal","dockerStatus","dockerLogs","dockerAction","taskManagement","taskDetails","cleanupTasks","rolePermissions","AdminDashboard","initEventDelegation","initPermissionsTab","initDockerStatus","handleRefreshContainers","containerName","containerActionType","fetchDockerStatus","allowClear","roleId","fetchRolePermissions","updateCurrentPermissionsList","permissions","currentPermissionIds","listElement","permissionsHTML","renderContainers","containersHTML","cont","statusIcon","uptime","cpu_usage","memory_usage","showComponentToast","errorData","fetchTaskList","renderTaskManagement","statistics","activeTasks","active_tasks","total_active","by_status","SUCCESS","FAILURE","PENDING","renderTaskRow","statusColor","getStatusColor","celery_state","task_id","task_type","stage","STARTED","PROGRESS","REVOKED","getThemeColor","detailsHtml","registry_cleaned","metadata_cleaned","total_cleaned","colorName","toastHTML","toastElement","editCategory","idInput","nameInput","descInput","deleteCategory","deleteUrl","categoryIdInput","handleEditCategory","categoryId","categoryName","categoryDescription","handleDeleteCategory","MessageCategories","viewTemplate","titleEl","contentEl","editTemplate","channelType","usageContext","contentInput","channelSelect","contextInput","activeCheckbox","toggleTemplate","currentStatus","toggleUrl","newStatus","templateIdInput","deleteTemplate","insertVariable","variable","selectionStart","selectionEnd","newPos","setSelectionRange","handleGoBack","history","back","handleViewTemplate","templateId","viewId","templateContent","handleEditTemplate","templateDescription","templateChannel","templateContext","templateActive","handleToggleTemplate","handleDeleteTemplate","varBtn","var","actualTarget","editModal","createModal","MessageTemplateDetail","CampaignsConfig","baseUrl","CAMPAIGNS_BASE_URL","CAMPAIGNS_CSRF_TOKEN","viewCampaign","campaignId","campaign","target_type","editCampaign","sendCampaign","campaignName","scheduleCampaign","scheduleTime","showValidationMessage","scheduled_send_time","deleteCampaign","cancelCampaign","duplicateCampaign","toggleCampaignTargetOptions","targetType","selectedSelector","pool","toggleCampaignSchedule","sendType","scheduleContainer","handleViewCampaign","handleEditCampaign","handleSendCampaign","handleScheduleCampaign","handleDeleteCampaign","handleCancelCampaign","handleDuplicateCampaign","targetTypeSelect","PushCampaigns","ENDPOINTS","MESSAGE_DETAILS","MESSAGE_UPDATE","previewMessage","channel","scheduleDate","previewTitle","previewContent","previewType","previewChannel","previewSchedule","viewScheduledMessage","messageTitle","editScheduledMessage","scheduledTime","message_type","match_id","scheduled_time","updateUrl","cancelScheduledMessage","cancelUrl","messageIdInput","retryScheduledMessage","retryUrl","handlePreviewMessage","handleViewScheduledMessage","handleEditScheduledMessage","handleCancelScheduledMessage","handleRetryScheduledMessage","recurringCheckbox","recurrenceOptions","recurrencePattern","required","initRecurringToggle","filterValue","scheduleDateInput","minDateTime","getFullYear","getMonth","padStart","getHours","getMinutes","initMinDateTime","ScheduledMessages","matchStatusCtx","matchesPerWeekCtx","completed","pending","live","cancelled","generateMatchReport","generateTeamReport","viewMatchReport","viewTeamReport","start_date","end_date","is_current","createUrl","createSeasonUrl","origin","submitCreateSeason","editSeason","season","submitUpdateSeason","submitDeleteSeason","deleteSeason","showEditSeasonModal","setCurrentSeason","setCurrentUrl","setCurrentSeasonUrl","submitSetCurrentSeason","viewSeason","loader","bar","themeColor","originalSetupCustomBehaviors","e2","closeIcon","layoutOverlay","overlayDiv","closeMenu","toggleMenu","discordBtn","DiscordMembershipChecker","membershipStatus","discordMembershipStatus","showJoinPrompt","urgency","showUrgentPopup","Visibility","HIDDEN_CLASS","LEGACY_CLASSES","_resolveElement","force","isHidden","showOnly","toShow","toHide","migrate","wasHidden","TabsController","SELECTORS","TABS_CONTAINER","TAB_TRIGGER","TAB_PANE","CLASSES","ACTIVE_TRIGGER","ACTIVE_PANE","ACTIVE_PANE_ALT","initContainer","handleInitialHash","tabsInitialized","tabId","tabTrigger","activateTab","allTriggers","newIndex","triggers","panes","targetTrigger","targetPane","replaceState","InitSystemDebug","showTab","getActiveTab","activeTrigger","initializing","endTime","components","failures","logging","throwOnError","initTimeout","componentTimeout","autoInit","initFn","_error","_warn","dependencies","initTime","initDuration","existingIndex","_log","_getStatus","performance","timeoutPromise","initPromise","_initializeQueue","race","successCount","failureCount","_dispatchEvent","_initComponent","depName","dep","componentNames","failed","skipped","getComponent","getAllComponents","getInitOrder","configure","printOrder","printStatus","testReinit","Shepherd","tourVar","Tour","defaultStepOptions","cancelIcon","useModalOverlay","addStep","attachTo","showTour","csrftoken","playerChoices","setupEditMatchButtons","newInputGroup","containerSelector","eventIndicator","inputGroupClass","currentMatchData","homeTeamId","home_team","awayTeamId","away_team","homeTeamName","home_team_name","awayTeamName","away_team_name","createTeamOptions","createPlayerOptions","eventEntry","jQueryEntry","$button","initialEvents","yellowCards","redCards","ownGoals","finalGoals","finalAssists","finalYellowCards","finalRedCards","finalOwnGoals","initialGoals","initialAssists","initialYellowCards","initialRedCards","initialOwnGoals","removedGoalIds","removedAssistIds","removedYellowCardIds","removedRedCardIds","removedOwnGoalIds","collectRemovedOwnGoalIds","goalsToAdd","goal","assistsToAdd","assist","yellowCardsToAdd","redCardsToAdd","ownGoalsToAdd","goalsToRemove","assistsToRemove","yellowCardsToRemove","redCardsToRemove","ownGoalsToRemove","homeTeamScore","awayTeamScore","verifyHomeTeam","verifyAwayTeam","homeTeamCheckbox","awayTeamCheckbox","missingVerifications","home_team_score","away_team_score","goals_to_add","goals_to_remove","assists_to_add","assists_to_remove","yellow_cards_to_add","yellow_cards_to_remove","red_cards_to_add","red_cards_to_remove","own_goals_to_add","own_goals_to_remove","verify_home_team","verify_away_team","successMessage","home_team_verified","away_team_verified","modalElem","errorMessage","errorTitle","showRefreshOption","error_type","responseJSON","swalOptions","reportMatchUpdateStats","addOwnGoalEvent","modalSelector","vsMatch","removeOwnGoalEvent","rsvpDataElement","retryCount","operationId","currentOperationId","substr","availability","operation_id","pow","lastSelected","parts","radioButton","setInitialRSVPs","subPlayerSelect","matchType","matchIdValue","substitutes","has_responses","Option","response_status","assignModal","loadAvailableSubs","requestSubModal","teamSelect","matchInfoText","matchParts","homeOption","awayOption","userRoles","subTeamSelect","newOption","matchIdInput","tempDiv","teamOptions","fixTeamOptions","syncDiscordButton","closeButton","newestOnTop","timeOut","tooltipElements","tableOptions","searchPlaceholder","tables","api","adjust","bindTabHandlers","DiscordMembershipChecker$1","discordInviteUrl","checkOnLoad","handleMembershipStatus","discordError","showDiscordJoinPrompt","in_server","updateDiscordElements","showSuccessMessage","lastPromptShown","isUrgent","handleDiscordJoin","showReminderMessage","isInServer","footer","setSuccessState","setWarningState","discordStyles","toggleSelectAll","selectAll","autoRefreshInterval","redisUpdateStats","healthIndicator","health","overall","healthText","decoded_client","raw_client","pool_stats","max_connections","utilization_percent","created_connections","available_connections","in_use_connections","server_metrics","connected_clients","used_memory_human","total_commands_processed","instantaneous_ops_per_sec","testConnection","testButton","resultsDiv","testName","tests","badgeClass","cleanupConnections","cleanupButton","discordChecker","CSS_CLASSES","ModalHelpers","initMobileViewportFix","registerModalEventHandlers","ensureModalInitialized","loadModalsIfNotFound","cleanupModalBackdrop","disableIOSScrolling","scrollPosition","enableIOSScrolling","updateMobileViewportHeight","_viewportFixSetup","applyButtonTransformFix","transformFixed","adminSetVerificationCode","phoneInput","verificationCodeInput","smsToggle","smsConsent","smsOptInSection","toggleSmsConsent","smsVerificationSection","toggleSmsVerification","addTableLabels","labeled","spinner","updateButtonIcon","assignments","formattedDate","match_date","renderAssignments","handleLoadAssignments","handleAssignSub","assignmentId","subsPageData","URLSearchParams","handleRemoveAssignment","upcomingMatches","home_team_id","away_team_id","handleMatchSelection","handleAssignSubFormSubmit","pageLoader","initPageLoader","zeroRecords","columnDefs","orderable","targets","handleScheduleMatch","handleStopSession","sessionId","matchDetailData","setButtonLoading","showSuccessNotification","showErrorNotification","handleRefreshSession","handleForceSync","metaTag","cookieValue","MatchDetail","stopSession","forceSync","matchName","rsvp_data","status_breakdown","team_history","viewMatchDetails","adminPanelDeleteMatch","selectedMatches","getSelectedMatches","update_status","export","matchIds","match_ids","scheduled","postponed","bulkUpdateStatus","exportSelectedMatches","bulkActions","csv","xlsx","selectAllCheckbox","refreshButton","refreshUrl","testUrl","testCache","updatePreview","question","ManageRoles","initializeSelect2","setupRoleChangeHandler","closeOnSelect","loadRolePermissions","credentials","alertsContainer","ManageTeams","setupModalHandlers","handleOpenAddTeamModal","handleOpenEditTeamModal","handleDeleteTeam","addTeamModal","modalLeagueNameInput","modalSeasonIdInput","editTeamModal","modalTeamNameInput","modalTeamIdInput","deleteTeam","teamIdInput","initializeRedisStats","approvalModal","denialModal","playerDetailsModal","showErrorAlert","submitButton","showSuccessAlert","removeUserFromTable","userApprovalUpdateStats","rowUserId","showEmptyTableMessage","pendingCard","approvedCard","deniedCard","totalCard","numberEl","approved","denied","pendingBadge","approvalModalElement","denialModalElement","playerDetailsModalElement","initializeModals","approvalForm","denialForm","initializeFormSubmitListeners","email","pronouns","jersey_size","approval_status","is_current_player","is_sub","profileLink","subscription","setLoading","feed_url","webcal_url","webcalBtn","googleBtn","includeMatches","includeLeagueEvents","includeRefAssignments","lastAccessed","last_accessed","accessCount","access_count","renderSubscription","errorContainer","getCardHTML","isReferee","setupImageErrorHandlers","filterPlayers","availablePlayersContainer","playerCards","filteredPlayers","experience","attendance","sortPlayers","availablePlayersCount","selectedTeamId","leagueNameScript","draftEnhancedSocket","playerIdField","actionField","playerEmail","createNewBtn","requestSub","leagueType","substitutes_needed","positions_needed","endpoint","handleMatchReportSubmit","CoachDashboard","imageInput","onClickUpload","imageSmoothingQuality","toBlob","blob","reader","FileReader","readAsDataURL","onloadend","base64data","ratio","files","imgsrc","createObjectURL","imageElement","imgContainer","Cropper","viewMode","dragMode","autoCropArea","restore","guides","highlight","movable","zoomable","rotatable","scalable","cropBoxMovable","cropBoxResizable","toggleDragModeOnDblclick","checkOrientation","croppingimg","HTMLImageElement","setupLiveSearch","profileLoading","other_positions","positions_to_avoid","goal_frequency","expected_availability","draftButton","displayPlayerProfile","_draggedPlayerId","dropTarget","handleDropOnTeam","emitData","setupDraftEnhancedSocket","DraftPredictionsManager","pendingSaves","saveTimeouts","showAutoSaveStatus","submitFilterForm","handleFieldChange","handleNotesChange","showPlayerImageModal","autoSavePrediction","getPlayerCurrentValues","predicted_round","updateRowAppearance","submitPrediction","getPlayerName","roundInput","confidenceInput","notesInput","confidence_level","nameElement","savedSpan","savingSpan","requestData","draft_season_id","filterForm","tokenMeta","token","tokenInput","imgElement","fullImageUrl","fullImage","modalImg","modalName","modalLabel","alt","DraftPredictions","setPrediction","confidence","bulkSetRounds","roundMappings","draftPredictionsManager","matchState","currentTeamId","calendar","currentMatches","loadTeamMatches","upcomingOnly","matchesHtml","matchDate","match_time","isUpcoming","statusBadge","getStatusBadge","homeAwayBadge","is_home_match","opponent_name","dateString","year","timeString","hours","minutes","setHours","hour12","formatTime","field_name","createMatchCard","loadRsvpSummary","renderMatchesList","ecsFcShowAlert","summary","yes","no","maybe","no_response","responseRate","renderRsvpSummary","rsvp_summary","showCreateMatchModal","selectedDate","dateInput","toISOString","handleMatchFormSubmit","matchData","refetchEvents","ecsFcEditMatch","ecsFcDeleteMatch","sendRsvpReminder","showImportMatchesModal","handleImportFormSubmit","csvText","lines","line","startIndex","fields","parseMatchesCsv","handleRsvpUpdate","match_type","handleMatchUpdate","alertDiv","teamData","calendarEl","FullCalendar","Calendar","initialView","headerToolbar","fetchInfo","successCallback","failureCallback","startDate","endDate","eventClick","showMatchDetails","selectable","selectInfo","eventDisplay","dayMaxEvents","render","initializeCalendar","createMatchBtn","importMatchesBtn","matchForm","importForm","handleRsvpResponse","ecsFcInitializeEventHandlers","initializeEcsFcSchedule","EcsFcSchedule","deleteMatch","leagues","setupModals","handleGenerateForm","handleEditMatch","addWeekModal","populateTeamSelects","totalWeeks","matchesPerWeek","funWeek","tstWeek","startTimeStr","detailedForm","generateDetailedInputForm","formHTML","week","generateMatchInput","teamsOptions","teamA","teamB","loadMatchData","formattedTime","convertTo24Hour","populateTeamSelectsWithSelection","period","selectIds","selectId","selectedTeam","enable2FABtn","verify2FAForm","disable2FAForm","qr_code","secret","setViewportHeight","initializeSwipeNavigation","tabContentId","tabPanes","tabContainer","handleSwipe","initializeTabAutoScroll","tabRect","containerRect","initializeDiscordMembershipCheck","rsvpData","playerDiscordId","discordInServer","discordLastChecked","inServerStatus","lastChecked","triggerMembershipCheck","lastCheckDate","showDiscordMembershipPrompt","authUrl","discordAuthUrl","showEvent","hideEvent","HomePage","timerInterval","activeReporters","playerShifts","isTimerRunning","joinMatch","updateScore","homeScore","awayScore","home_score","away_score","updateTimer","elapsedSeconds","isRunning","elapsed_seconds","is_running","toggleTimer","shouldRun","updateTimerDisplay","updateScoreUI","updateTimerUI","seconds","updateEventsUI","$eventsList","eventText","event_type","eventClass","updateMatchStatusUI","updateReportersUI","reporters","$reportersList","reporter","timeSince","lastActive","diffMs","diffSec","timeSinceLastActive","last_active","updateShiftsUI","shifts","$shiftsContainer","activeShifts","is_active","inactiveShifts","$activeList","$inactiveList","updatePlayerDropdown","$playerSelect","disableReportingControls","liveReportingShowNotification","$notifications","$notification","lastUpdatedEl","statuses","status_color","status_icon","status_display","loadMatchTaskDetails","updateMatchRow","showTaskError","thread","createTaskCard","createNoTaskCard","reporting","updateMatchTaskDetails","RETRY","RUNNING","FINISHED","MISSING","Completed","Scheduled","Active","Issue","getStatusIcon","typeName","typeIcon","displayMessage","isFallback","countdown","ttl","formatDuration","eta","etaTime","statusDisplay","fallbackIndicator","taskDataJson","taskName","historicalSection","formatScheduledTimes","isoTime","formatScheduledTime","filterMatchStats","selectedMatchId","updateMergePreview","updatesList","updates","LiveReporting","socketUrl","timer_running","report_submitted","updateMatchUI","updated_by_name","eventMessage","existingShiftIndex","last_updated","report_submitted_by","submitted_by","submitted_by_name","newScore","newPeriod","eventTeamId","eventPlayerId","eventMinute","eventData","togglePlayerShift","report_data","submitFinalReport","leave","initializeCSRFToken","historicalToggle","historicalToggleIcon","matchStatsEditMatch","removeMatchStat","competitionMappings","MLS","Concacaf","inverseCompetitionMappings","handleMatchActions","flatpickr","enableTime","dateFormat","time_24hr","updateAllMatchStatuses","dateCell","competitionCell","actionsCell","selectHtml","friendlyName","actualValue","removeMatch","clearUrl","startButton","updateMatchStatus","startLiveReporting","stopButton","stopLiveReporting","dateValue","competitionValue","competition","newFormattedDate","dateObj","formatDate","newCompetitionText","resetActionButtons","saveMatch","cancelEdit","nextOrSaveButton","previousButton","carouselControls","progressIndicator","SimpleCropperInstance","initializeSimpleCropper","loadImageIntoCropper","updateNavButtons","stepAttr","stepDisplay","phoneNumberInput","smsConsentInput","showVerificationDialog","showDiscordLinkDialog","discordUrl","initEditModeToggles","editBtn","editing","profileSection","enterEditMode","cancelBtn","exitEditMode","initProfileImageActions","imageAction","fileInput","removeUrl","performImageRemove","handleImageRemove","fileInputChange","initMatchStatActions","eventLabel","currentMinute","saveStatMinute","newMinute","openEditStatModal","performRemoveStat","confirmRemoveStat","tooltipList","verifyData","verified","initProfileVerification","discordData","isLinked","linked","initDiscordPrompt","filterSelect","selectedSeason","itemSeason","matchSeason","initMatchFilter","contactModal","messageField","submitUrl","initContactModal","flashContainer","flashMessages","initFlashMessages","initTabSync","PlayerProfile","submitDeleteForm","handleClearSearch","focusCancel","handleDeletePlayer","syncForm","allowEscapeKey","progressInterval","checkProgress","messageDiv","checkCompletion","statusData","newPlayers","new_players","potentialInactive","potential_inactive","processNew","processInactive","process_new","process_inactive","confirmSync","showSyncResults","startSyncProcess","initializeSyncHandler","PlayoffBracket","autoRefreshEnabled","autoRefreshDelay","groupA","standings","groupB","placementMatches","initialize","fetchBracketData","renderBracket","handleMatchReport","updateStatusBadge","renderGroup","renderPlacementFinals","not_started","group_stage","week2_morning","placement_finals","groupName","groupData","matchesContainer","standingsContainer","matchesByRound","groupMatchesByRound","roundDiv","roundLabel","getRoundLabel","tableContainer","standing","createStandingRow","sampleMatch","roundNum","grouped","playoff_round","isReported","homeWinner","awayWinner","teamsHTML","infoHTML","buttonHTML","points","goal_difference","goals_for","renderTBDPlacementMatch","renderPlacementMatch","matchup","matchCard","existingModal","stopAutoRefresh","updateCountdowns","newHours","formatCountdown","formChanged","formSubmitting","markFormChanged","markFormSaved","selects","initSelect2","forms","initFormChangeTracking","autoSubmitForms","autoSubmitDelay","initAutoSubmitForms","initFormValidation","phoneInputs","initPhoneFormatting","textareas","counterId","initCharacterCounters","resetBtn","formId","ProfileForm","doneBtn","getPlayerId","initDoneButton","celebrationEl","playSound","audioContext","AudioContext","webkitAudioContext","oscillator","createOscillator","gainNode","createGain","destination","frequency","gain","setValueAtTime","currentTime","exponentialRampToValueAtTime","playSuccessSound","initCelebration","editMatchModal","isAddOperation","currentMatchId","evt","setupSingleWeekModal","setupEditButtons","setupDeleteButtons","setupAddMatchButtons","addSingleWeekTimeSlot","addTimeSlotBtn","singleWeekForm","handleSingleWeekSubmit","leagueTeams","optionsHtml","resp","openAddMatchModal","team_a_id","teamAId","team_b_id","teamBId","openEditMatchModal","toISODate","toISOTime","hh","mm","ampm","overdueElement","originalTitle","updatePageTitle","setupAutoRefresh","SettingsTabs","CONTAINER","TRIGGER","PANE","handleHash","accountInfoForm","passwordChangeForm","notificationForm","unlinkDiscordForm","smsOptOutBtn","smsOptInForm","smsVerificationForm","resendCodeBtn","smsConsentStep","smsVerificationStep","smsConfirmationStep","phoneNumber","consentGiven","phone_number","consent_given","verificationCode","confirmation_code","SimpleCropper","canvasId","ctx","lastX","lastY","defaultBg","defaultBorder","cropSize","handleMouseDown","handleMouseMove","handleMouseUp","handleWheel","handleTouchStart","handleTouchMove","handleTouchEnd","drawBackground","fillStyle","fillRect","font","textAlign","fillText","loadImage","resetTransform","scaleX","scaleY","clearRect","drawImage","drawCropOverlay","globalCompositeOperation","beginPath","arc","strokeStyle","lineWidth","stroke","currentX","delta","newScale","mouseX","mouseY","getCroppedImageData","format","quality","cropCanvas","cropCtx","outputSize","centerX","centerY","radius","subPoolShowAlert","initializeSearch","leagueFilter","league_type","resultsContainer","can_add_to","displaySearchResults","getTimeSince","diffMins","diffHours","diffDays","formatDateTime","subRequestShowNotification","loadRecentActivity","displayRecentActivity","activities","performed_at","performer_name","loadSubstituteRequests","requests","displaySubstituteRequests","request","assignedCount","assigned_count","substitutesNeeded","assignments_remaining","timeSinceCreated","canResend","canCancel","canDelete","response_rate","available_responses","resendSubstituteRequest","requestId","createdAt","created","confirmMessage","performResendRequest","errorResponse","requires_confirmation","resendSubstituteRequestForce","loadMatchSubstituteRequests","displayMatchSubstituteRequests","performMatchResendRequest","performDeleteRequest","viewRequestDetails","available","responses","is_available","unavailable","noResponse","total_responses","responsesHtml","canAssign","responded_at","response_method","player_phone","assignmentsHtml","assignment","position_assigned","assigned_at","modalHtml","gender_preference","displayRequestDetailsModal","assignSubstitute","switchToCropMode","profilePreview","uploadInstructions","cropperInterface","cropperControls","resetImageSelection","switchToUploadMode","getCroppedImage","cropAndSaveProfileImage","croppedData","hiddenInput","csrfTokenInput","uploadUrl","profilePic","targetStatus","targetLeague","sms_notifications","discord_notifications","email_notifications","cancelSubstituteRequest","resendMatchSubstituteRequest","cancelMatchSubstituteRequest","deleteSubstituteRequest","pendingCount","pendingCards","playerIds","bulkApproveAllPending","activeCount","maxMatches","autoApproval","defaultMaxMatches","inputLabel","imagePositionData","xPos","yPos","originalImage","imageWidth","imageHeight","dragStartX","dragStartY","startXPos","startYPos","startDrag","drag","xPercent","yPercent","xPosSlider","yPosSlider","dragHint","endDrag","previewWrapper","zoomValue","bgSize","backgroundImage","backgroundSize","backgroundPosition","resetImagePosition","zoomSlider","assignDiscordRolesToTeam","processed_count","refreshDiscordStatusForTeam","updateScheduleControlsState","weeks","expandBtn","collapseBtn","allClosed","allOpen","targetName","handleTriggerFileInput","handleTriggerBackgroundInput","slider","handleAdjustZoom","res","getTeamIdFromUrl","positionData","uploadBtn","originalHTML","uploadCroppedImage","handleAssignDiscordRoles","handleRefreshDiscordStatus","badgeElement","status_change","refreshSinglePlayerDiscordStatus","handleRefreshPlayerDiscord","backgroundInput","firstInteraction","hideDragHint","initializeImagePositioning","loadImageForCropping","setupFileInputHandlers","backgroundUrl","today","closestUpcoming","closestDate","lastWeek","lastDate","dateStr","weekDate","weekToOpen","initializeScheduleAccordion","TeamsOverview","restoreActiveTab","setupTabPersistence","optimizeForMobile","activeTabId","verifyMergeData","hasToken","resendBtn","oldEmail","resendUrl","old_email","merge_data","mergeData","ViewStandings","initializeBootstrapComponents","popoverTriggerEl","tabElement","isEditing","breakdown","specialWeeksCount","getEnabledSpecialWeeksCount","premierRegular","classicRegular","premierRegularInput","classicRegularInput","initAutoScheduleWizard","fieldItems","updateWizardFieldRemoveButtons","weekCount","premierWeeks","classicWeeks","updateWizardPracticeWeekOptions","joinButton","toggleEdit","profileData","verifyProfile","settingKey","isEnabled","statusLabel","iconElement","new_value","handleToggleChange","titleInput","prioritySelect","typeSelect","previewBody","previewPriority","maxChars","announcementId","addSpinnerCSS","MobileDraft","selectedPlayer","setupTapToSelect","showQuickDraftPanel","viewBtn","showPlayerInfo","existing","quickDraft","draftBtn","showTeamSelector","selectBtn","optimizePitchView","pitch","marker","transformOrigin","setupTeamSwipe","teamsContainer","optimizeRemoveButtons","originalOnclick","optimizeFilters","filterContainer","addMobileDraftStyles","shouldUpdate","windowHeight","toggleRect","availableSpace","paginationContainers","pagination","pageItems","activePage","activePageNum","allPageItems","lastItem","pageNum","ellipsisBefore","ellipsisAfter","previewTemplate","variables_used","copyTemplate","message_content","messageContent","sampleData","league_display_name","league_welcome_message","league_contact_info","match_location","regex","MessagesInboxConfig","API_BASE","apiBase","CURRENT_USER_ID","SETTINGS","activeUserId","isLoadingMessages","inbox","loadingState","sidebarFooter","welcomeState","chatOnlineText","chatProfileLink","messagesLoading","typingName","messageInput","sendButton","userSearchInput","userResultsList","markAllReadBtn","markAllAsRead","closeChat","handleInputChange","handleConversationSearch","handleUserSearch","initialUser","handleTypingStart","handleTypingStop","handleMessageRead","filteredList","previewClass","createConversationElement","updateChatHeader","showChatView","msgDate","toDateString","separator","yesterday","setDate","createDateSeparator","createMessageElement","updateConversationUnread","profile_url","readIcon","read_receipts","max_message_length","typing_indicators","updateConversationPreview","markMessageAsRead","incrementConversationUnread","timeEl","updateGlobalBadge","sentByMe","passTypeCode","hasUnsavedChanges","previewData","currentPlatform","assets","loadPreviewData","loadAssets","initColorPickers","markSaved","updateAssetPreviews","asset","updateLivePreviewAssets","previewLogo","previewStrip","logo","stripImg","primaryOverlay","strip","googleLogo","googleLogoUrl","applePreview","googlePreview","passStyle","descEl","stripWrapper","thumbnailWrapper","updatePreviewForPassStyle","appleCard","stripArea","thumbnail","primarySection","notch","AssetCropper","existingUrl","onAssetUploaded","assetData","onAssetDeleted","previewCard","previewArea","heroUrl","logoUrl","heroPreview","logoPreview","pass_type","background_color","foreground_color","label_color","logoText","logo_text","googleContent","updatePreviewFields","frontFields","fieldsByLocation","field_location","is_visible","auxiliary","labelColor","resolveValue","value_template","default_value","updateApplePreviewFields","updateGooglePreviewFields","headerRow","headerFieldsContainer","labelEl","secondaryContainer","allSecondary","primarySec","primaryValue","infoRows","primaryEl","bgColor","fgColor","lblColor","logoEl","suppressBarcode","appleBarcodeArea","googleBarcodeArea","showLogo","google_hero_image_url","google_logo_url","suppress_barcode","show_logo","passStyleRadio","apple_pass_style","fieldId","variableText","initScript","minScale","maxScale","currentAssetType","targetWidth","targetHeight","DIMENSIONS","icon2x","logo2x","strip2x","thumbnail2x","background2x","assetExists","existingAssetUrl","dims","initCanvas","fitImageToCanvas","drawCheckerboard","strokeRect","checkerLight","checkerDark","zoomIn","zoomOut","resetPosition","changeImage","outputCanvas","outputCtx","srcX","displayX","displayToImageX","srcY","displayY","displayToImageY","srcW","srcH","saveAndUpload","asset_type","cropped_image","deleteAsset","responseData","SecurityDashboard","countdownInterval","startCountdowns","all","lastUpdated","renderSecurityEvents","renderSecurityEventsError","renderSecurityLogs","renderSecurityLogsError","monitoredIps","attack_protection","total_monitored_ips","blacklistedIps","total_blacklisted_ips","attackAttempts","total_attack_attempts","eventsHTML","severityClass","getSeverityClass","severity","getEventIcon","formatEventTitle","shouldShowBanButton","logsHTML","levelClass","getLogLevelClass","levelIcon","getLogLevelIcon","timeFormatted","ip_address","ipContainer","ipAddress","confirmBanBtn","duration_hours","clearAllBansBtn","isMergeableObject","getOwnPropertySymbols","propertyIsEnumerable","Bb","arrayMerge","Db","cloneUnlessOtherwiseSpecified","customMerge","Cb","Ib","va","Lb","floating","getClippingRect","isElement","getDocumentElement","getOffsetParent","getScale","convertOffsetParentRelativeRectToViewportRelativeRect","containerType","backdropFilter","Aa","Mb","frameElement","paddingTop","Nb","Pb","ancestorScroll","ancestorResize","elementResize","ResizeObserver","layoutShift","animationFrame","intersectionRatio","Ob","cancelAnimationFrame","Qb","_getResolvedAttachToOptions","middleware","Vb","Wb","limiter","Xb","crossAxis","Yb","floatingUIOptions","Rb","shepherdElementComponent","Tb","middlewareData","popperPlacement","Ub","Sb","Zb","createElementNS","Ca","getOwnPropertyDescriptors","$b","$$","fragment","before_update","dirty","after_update","on_mount","on_destroy","ac","not_equal","bound","on_disconnect","callbacks","skip_bound","bc","hydrate","intro","customElement","cc","dc","$$set","tour","classes","ec","$set","fc","gc","hc","ic","jc","kc","labelId","lc","mc","nc","oc","pc","qc","descriptionId","ub","rc","vb","sc","wb","tc","uc","vc","xb","wc","xc","tabindex","$$scope","yb","yc","classPrefix","dataStepId","exitOnEsc","keyboardNavigation","Bc","zb","Cc","Dc","modalOverlayOpeningPadding","modalOverlayOpeningRadius","openingProperties","topLeft","topRight","bottomRight","bottomLeft","Ac","$$typeof","Ec","bindings","Fc","Gc","getDimensions","initialPlacement","fallbackStrategy","fallbackAxisSideDirection","flipAlignment","isRTL","Hb","Jb","Kb","overflows","Gb","Ic","getElementRects","Hc","$destroy","$on","Jc","_resolvedAttachTo","_setOptions","_updateStepTargetOnHide","getTour","_resolveAttachToOptions","beforeShowPromise","_show","updateStepOptions","getTarget","_createTooltipContent","stepsContainer","_scrollTo","scrollToHandler","_getClassOptions","_setupElements","advanceOn","Eb","Fb","_setupModal","setupForStep","_styleTargetElementForStep","highlightClass","canClickTarget","Kc","closeModalOpening","positionModal","Ab","Step","addSteps","_setTourID","confirmCancel","confirmCancelMessage","_done","activeTour","removeStep","_updateStateBeforeShow","showOn","_skipStep","previous","focusedElBeforeOpen","_setupActiveTour","zc","modalContainer","tourName","isHorizontalLayout","templateCustomizer","defaultShowDropdownOnHover","enableMenuLocalStorage","layoutCollapsedCustomizerOptions","layoutCollapsedVal","menuInnerContainer","menuInnerShadow","styleSwitcher","activeStyle","storedStyle","defaultStyle","currentStyle","setStyle","styleSwitcherIcon","imageEl","setImage","i18next","i18NextHttpBackend","use","lng","fallbackLng","backend","loadPath","returnObjects","localize","languageDropdown","directionChange","textDirection","setRtl","dropdownItems","currentLanguage","sibling","siblingEle","changeLanguage","setLang","i18nList","currentLanguageEle","i18n","notificationMarkAsReadAll","notificationMarkAsReadList","accordionActiveFunction","accordionTriggerEl","TemplateCustomizer","defaultMenuCollapsed","searchToggler","searchInputWrapper","contentBackdrop","slashKey","twitterTypeahead","filterConfig","searchJson","psSearch","searchData","$this","typeahead","hint","classNames","suggestion","limit","pages","templates","notFound","subtitle","members"],"mappings":"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"}