{"version":3,"file":"main-Be8WOjoU.js","sources":["../../vendor/libs/jquery/jquery.js","../../vendor/libs/popper/popper.js","../../vendor/js/bootstrap.bundle.js","../../vendor/libs/node-waves/node-waves.js","../../vendor/libs/perfect-scrollbar/perfect-scrollbar.js","../../vendor/libs/hammer/hammer.js","../../vendor/js/menu-refactored.js","../../js/vendor-globals.js","../../js/event-delegation.js","../../js/csrf-fetch.js","../../js/helpers-minimal.js","../../js/modal-manager.js","../../js/config.js","../../js/sidebar-interactions.js","../../js/navbar-modern.js","../../js/simple-theme-switcher.js","../../js/admin-navigation.js","../../js/theme-colors.js","../../js/socket-manager.js","../../js/online-status.js","../../js/components-modern.js","../../js/responsive-system.js","../../js/ui-enhancements.js","../../js/mobile-gestures.js","../../js/mobile-keyboard.js","../../js/mobile-forms.js","../../js/mobile-haptics.js","../../js/responsive-tables.js","../../js/design-system.js","../../js/swal-contextual.js","../../js/chat-widget.js","../../js/messenger-widget.js","../../js/profile-wizard.js","../../js/draft-system.js","../../js/profile-verification.js","../../js/draft-history.js","../../js/pitch-view.js","../../js/app-init-registration.js","../../custom_js/report_match.js","../../custom_js/rsvp-unified.js","../../js/admin-panel-base.js","../../js/admin-panel-dashboard.js","../../js/admin-panel-discord-bot.js","../../js/admin-panel-performance.js","../../js/admin/admin-dashboard.js","../../js/admin/message-categories.js","../../js/admin/message-template-detail.js","../../js/admin/push-campaigns.js","../../js/admin/scheduled-messages.js","../../js/match-operations/match-reports.js","../../js/match-operations/seasons.js","../../js/utils/visibility.js","../../js/components/tabs-controller.js","../../js/init-system.js","../../custom_js/tour.js","../../custom_js/rsvp.js","../../custom_js/discord-membership-check.js","../../custom_js/admin-panel-match-list.js","../../custom_js/redis-stats.js","../../custom_js/modal-helpers.js","../../custom_js/modals.js","../../custom_js/sms-verification.js","../../custom_js/mobile-tables.js","../../custom_js/admin-discord-management.js","../../custom_js/admin-manage-subs.js","../../custom_js/admin-match-detail.js","../../custom_js/cache-stats.js","../../custom_js/create-poll.js","../../custom_js/manage-polls.js","../../custom_js/manage-roles.js","../../custom_js/manage-teams.js","../../custom_js/user-approval-management.js","../../custom_js/calendar-subscription.js","../../custom_js/draft-enhanced.js","../../custom_js/check-duplicate.js","../../custom_js/coach-dashboard.js","../../custom_js/cropper.js","../../custom_js/draft-predictions.js","../../custom_js/ecs-fc-schedule.js","../../custom_js/live_reporting.js","../../custom_js/ecsfc-schedule.js","../../custom_js/handle_2fa.js","../../custom_js/home.js","../../custom_js/match-management.js","../../custom_js/match_stats.js","../../custom_js/merge-profiles.js","../../custom_js/matches-management.js","../../custom_js/onboarding.js","../../custom_js/player-profile.js","../../custom_js/players-list.js","../../custom_js/playoff_bracket.js","../../custom_js/scheduled-message-validation.js","../../custom_js/profile-form-handler.js","../../custom_js/profile-success.js","../../custom_js/schedule-management.js","../../custom_js/settings-tabs.js","../../custom_js/settings.js","../../custom_js/simple-cropper.js","../../custom_js/substitute-pool-management.js","../../custom_js/substitute-request-management.js","../../custom_js/team-detail.js","../../custom_js/teams-overview.js","../../custom_js/verify-2fa.js","../../custom_js/verify-merge.js","../../custom_js/view-standings.js","../../custom_js/waitlist-login-register.js","../../custom_js/waitlist-register-authenticated.js","../../js/auto_schedule_wizard.js","../../js/admin-panel-feature-toggles.js","../../js/admin/announcement-form.js","../../js/mobile-draft.js","../../js/mobile-table-enhancer.js","../../js/message-management.js","../../js/messages-inbox.js","../../js/pass-studio.js","../../js/pass-studio-cropper.js","../../js/security-dashboard.js","../../assets/vendor/libs/shepherd/shepherd.js","../../assets/js/main.js","../../js/main-entry.js"],"sourcesContent":["/*! jQuery v3.7.1 | (c) OpenJS Foundation and other contributors | jquery.org/license */\n!function(e,t){\"use strict\";\"object\"==typeof module&&\"object\"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error(\"jQuery requires a window with a document\");return t(e)}:t(e)}(\"undefined\"!=typeof window?window:this,function(ie,e){\"use strict\";var oe=[],r=Object.getPrototypeOf,ae=oe.slice,g=oe.flat?function(e){return oe.flat.call(e)}:function(e){return oe.concat.apply([],e)},s=oe.push,se=oe.indexOf,n={},i=n.toString,ue=n.hasOwnProperty,o=ue.toString,a=o.call(Object),le={},v=function(e){return\"function\"==typeof e&&\"number\"!=typeof e.nodeType&&\"function\"!=typeof e.item},y=function(e){return null!=e&&e===e.window},C=ie.document,u={type:!0,src:!0,nonce:!0,noModule:!0};function m(e,t,n){var r,i,o=(n=n||C).createElement(\"script\");if(o.text=e,t)for(r in u)(i=t[r]||t.getAttribute&&t.getAttribute(r))&&o.setAttribute(r,i);n.head.appendChild(o).parentNode.removeChild(o)}function x(e){return null==e?e+\"\":\"object\"==typeof e||\"function\"==typeof e?n[i.call(e)]||\"object\":typeof e}var t=\"3.7.1\",l=/HTML$/i,ce=function(e,t){return new ce.fn.init(e,t)};function c(e){var t=!!e&&\"length\"in e&&e.length,n=x(e);return!v(e)&&!y(e)&&(\"array\"===n||0===t||\"number\"==typeof t&&0<t&&t-1 in e)}function fe(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}ce.fn=ce.prototype={jquery:t,constructor:ce,length:0,toArray:function(){return ae.call(this)},get:function(e){return null==e?ae.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){var t=ce.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return ce.each(this,e)},map:function(n){return this.pushStack(ce.map(this,function(e,t){return n.call(e,t,e)}))},slice:function(){return this.pushStack(ae.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(ce.grep(this,function(e,t){return(t+1)%2}))},odd:function(){return this.pushStack(ce.grep(this,function(e,t){return t%2}))},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(0<=n&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:s,sort:oe.sort,splice:oe.splice},ce.extend=ce.fn.extend=function(){var e,t,n,r,i,o,a=arguments[0]||{},s=1,u=arguments.length,l=!1;for(\"boolean\"==typeof a&&(l=a,a=arguments[s]||{},s++),\"object\"==typeof a||v(a)||(a={}),s===u&&(a=this,s--);s<u;s++)if(null!=(e=arguments[s]))for(t in e)r=e[t],\"__proto__\"!==t&&a!==r&&(l&&r&&(ce.isPlainObject(r)||(i=Array.isArray(r)))?(n=a[t],o=i&&!Array.isArray(n)?[]:i||ce.isPlainObject(n)?n:{},i=!1,a[t]=ce.extend(l,o,r)):void 0!==r&&(a[t]=r));return a},ce.extend({expando:\"jQuery\"+(t+Math.random()).replace(/\\D/g,\"\"),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isPlainObject:function(e){var t,n;return!(!e||\"[object Object]\"!==i.call(e))&&(!(t=r(e))||\"function\"==typeof(n=ue.call(t,\"constructor\")&&t.constructor)&&o.call(n)===a)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},globalEval:function(e,t,n){m(e,{nonce:t&&t.nonce},n)},each:function(e,t){var n,r=0;if(c(e)){for(n=e.length;r<n;r++)if(!1===t.call(e[r],r,e[r]))break}else for(r in e)if(!1===t.call(e[r],r,e[r]))break;return e},text:function(e){var t,n=\"\",r=0,i=e.nodeType;if(!i)while(t=e[r++])n+=ce.text(t);return 1===i||11===i?e.textContent:9===i?e.documentElement.textContent:3===i||4===i?e.nodeValue:n},makeArray:function(e,t){var n=t||[];return null!=e&&(c(Object(e))?ce.merge(n,\"string\"==typeof e?[e]:e):s.call(n,e)),n},inArray:function(e,t,n){return null==t?-1:se.call(t,e,n)},isXMLDoc:function(e){var t=e&&e.namespaceURI,n=e&&(e.ownerDocument||e).documentElement;return!l.test(t||n&&n.nodeName||\"HTML\")},merge:function(e,t){for(var n=+t.length,r=0,i=e.length;r<n;r++)e[i++]=t[r];return e.length=i,e},grep:function(e,t,n){for(var r=[],i=0,o=e.length,a=!n;i<o;i++)!t(e[i],i)!==a&&r.push(e[i]);return r},map:function(e,t,n){var r,i,o=0,a=[];if(c(e))for(r=e.length;o<r;o++)null!=(i=t(e[o],o,n))&&a.push(i);else for(o in e)null!=(i=t(e[o],o,n))&&a.push(i);return g(a)},guid:1,support:le}),\"function\"==typeof Symbol&&(ce.fn[Symbol.iterator]=oe[Symbol.iterator]),ce.each(\"Boolean Number String Function Array Date RegExp Object Error Symbol\".split(\" \"),function(e,t){n[\"[object \"+t+\"]\"]=t.toLowerCase()});var pe=oe.pop,de=oe.sort,he=oe.splice,ge=\"[\\\\x20\\\\t\\\\r\\\\n\\\\f]\",ve=new RegExp(\"^\"+ge+\"+|((?:^|[^\\\\\\\\])(?:\\\\\\\\.)*)\"+ge+\"+$\",\"g\");ce.contains=function(e,t){var n=t&&t.parentNode;return e===n||!(!n||1!==n.nodeType||!(e.contains?e.contains(n):e.compareDocumentPosition&&16&e.compareDocumentPosition(n)))};var f=/([\\0-\\x1f\\x7f]|^-?\\d)|^-$|[^\\x80-\\uFFFF\\w-]/g;function p(e,t){return t?\"\\0\"===e?\"\\ufffd\":e.slice(0,-1)+\"\\\\\"+e.charCodeAt(e.length-1).toString(16)+\" \":\"\\\\\"+e}ce.escapeSelector=function(e){return(e+\"\").replace(f,p)};var ye=C,me=s;!function(){var e,b,w,o,a,T,r,C,d,i,k=me,S=ce.expando,E=0,n=0,s=W(),c=W(),u=W(),h=W(),l=function(e,t){return e===t&&(a=!0),0},f=\"checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped\",t=\"(?:\\\\\\\\[\\\\da-fA-F]{1,6}\"+ge+\"?|\\\\\\\\[^\\\\r\\\\n\\\\f]|[\\\\w-]|[^\\0-\\\\x7f])+\",p=\"\\\\[\"+ge+\"*(\"+t+\")(?:\"+ge+\"*([*^$|!~]?=)\"+ge+\"*(?:'((?:\\\\\\\\.|[^\\\\\\\\'])*)'|\\\"((?:\\\\\\\\.|[^\\\\\\\\\\\"])*)\\\"|(\"+t+\"))|)\"+ge+\"*\\\\]\",g=\":(\"+t+\")(?:\\\\((('((?:\\\\\\\\.|[^\\\\\\\\'])*)'|\\\"((?:\\\\\\\\.|[^\\\\\\\\\\\"])*)\\\")|((?:\\\\\\\\.|[^\\\\\\\\()[\\\\]]|\"+p+\")*)|.*)\\\\)|)\",v=new RegExp(ge+\"+\",\"g\"),y=new RegExp(\"^\"+ge+\"*,\"+ge+\"*\"),m=new RegExp(\"^\"+ge+\"*([>+~]|\"+ge+\")\"+ge+\"*\"),x=new RegExp(ge+\"|>\"),j=new RegExp(g),A=new RegExp(\"^\"+t+\"$\"),D={ID:new RegExp(\"^#(\"+t+\")\"),CLASS:new RegExp(\"^\\\\.(\"+t+\")\"),TAG:new RegExp(\"^(\"+t+\"|[*])\"),ATTR:new RegExp(\"^\"+p),PSEUDO:new RegExp(\"^\"+g),CHILD:new RegExp(\"^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\\\(\"+ge+\"*(even|odd|(([+-]|)(\\\\d*)n|)\"+ge+\"*(?:([+-]|)\"+ge+\"*(\\\\d+)|))\"+ge+\"*\\\\)|)\",\"i\"),bool:new RegExp(\"^(?:\"+f+\")$\",\"i\"),needsContext:new RegExp(\"^\"+ge+\"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\\\(\"+ge+\"*((?:-\\\\d)?\\\\d*)\"+ge+\"*\\\\)|)(?=[^-]|$)\",\"i\")},N=/^(?:input|select|textarea|button)$/i,q=/^h\\d$/i,L=/^(?:#([\\w-]+)|(\\w+)|\\.([\\w-]+))$/,H=/[+~]/,O=new RegExp(\"\\\\\\\\[\\\\da-fA-F]{1,6}\"+ge+\"?|\\\\\\\\([^\\\\r\\\\n\\\\f])\",\"g\"),P=function(e,t){var n=\"0x\"+e.slice(1)-65536;return t||(n<0?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320))},M=function(){V()},R=J(function(e){return!0===e.disabled&&fe(e,\"fieldset\")},{dir:\"parentNode\",next:\"legend\"});try{k.apply(oe=ae.call(ye.childNodes),ye.childNodes),oe[ye.childNodes.length].nodeType}catch(e){k={apply:function(e,t){me.apply(e,ae.call(t))},call:function(e){me.apply(e,ae.call(arguments,1))}}}function I(t,e,n,r){var i,o,a,s,u,l,c,f=e&&e.ownerDocument,p=e?e.nodeType:9;if(n=n||[],\"string\"!=typeof t||!t||1!==p&&9!==p&&11!==p)return n;if(!r&&(V(e),e=e||T,C)){if(11!==p&&(u=L.exec(t)))if(i=u[1]){if(9===p){if(!(a=e.getElementById(i)))return n;if(a.id===i)return k.call(n,a),n}else if(f&&(a=f.getElementById(i))&&I.contains(e,a)&&a.id===i)return k.call(n,a),n}else{if(u[2])return k.apply(n,e.getElementsByTagName(t)),n;if((i=u[3])&&e.getElementsByClassName)return k.apply(n,e.getElementsByClassName(i)),n}if(!(h[t+\" \"]||d&&d.test(t))){if(c=t,f=e,1===p&&(x.test(t)||m.test(t))){(f=H.test(t)&&U(e.parentNode)||e)==e&&le.scope||((s=e.getAttribute(\"id\"))?s=ce.escapeSelector(s):e.setAttribute(\"id\",s=S)),o=(l=Y(t)).length;while(o--)l[o]=(s?\"#\"+s:\":scope\")+\" \"+Q(l[o]);c=l.join(\",\")}try{return k.apply(n,f.querySelectorAll(c)),n}catch(e){h(t,!0)}finally{s===S&&e.removeAttribute(\"id\")}}}return re(t.replace(ve,\"$1\"),e,n,r)}function W(){var r=[];return function e(t,n){return r.push(t+\" \")>b.cacheLength&&delete e[r.shift()],e[t+\" \"]=n}}function F(e){return e[S]=!0,e}function $(e){var t=T.createElement(\"fieldset\");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function B(t){return function(e){return fe(e,\"input\")&&e.type===t}}function _(t){return function(e){return(fe(e,\"input\")||fe(e,\"button\"))&&e.type===t}}function z(t){return function(e){return\"form\"in e?e.parentNode&&!1===e.disabled?\"label\"in e?\"label\"in e.parentNode?e.parentNode.disabled===t:e.disabled===t:e.isDisabled===t||e.isDisabled!==!t&&R(e)===t:e.disabled===t:\"label\"in e&&e.disabled===t}}function X(a){return F(function(o){return o=+o,F(function(e,t){var n,r=a([],e.length,o),i=r.length;while(i--)e[n=r[i]]&&(e[n]=!(t[n]=e[n]))})})}function U(e){return e&&\"undefined\"!=typeof e.getElementsByTagName&&e}function V(e){var t,n=e?e.ownerDocument||e:ye;return n!=T&&9===n.nodeType&&n.documentElement&&(r=(T=n).documentElement,C=!ce.isXMLDoc(T),i=r.matches||r.webkitMatchesSelector||r.msMatchesSelector,r.msMatchesSelector&&ye!=T&&(t=T.defaultView)&&t.top!==t&&t.addEventListener(\"unload\",M),le.getById=$(function(e){return r.appendChild(e).id=ce.expando,!T.getElementsByName||!T.getElementsByName(ce.expando).length}),le.disconnectedMatch=$(function(e){return i.call(e,\"*\")}),le.scope=$(function(){return T.querySelectorAll(\":scope\")}),le.cssHas=$(function(){try{return T.querySelector(\":has(*,:jqfake)\"),!1}catch(e){return!0}}),le.getById?(b.filter.ID=function(e){var t=e.replace(O,P);return function(e){return e.getAttribute(\"id\")===t}},b.find.ID=function(e,t){if(\"undefined\"!=typeof t.getElementById&&C){var n=t.getElementById(e);return n?[n]:[]}}):(b.filter.ID=function(e){var n=e.replace(O,P);return function(e){var t=\"undefined\"!=typeof e.getAttributeNode&&e.getAttributeNode(\"id\");return t&&t.value===n}},b.find.ID=function(e,t){if(\"undefined\"!=typeof t.getElementById&&C){var n,r,i,o=t.getElementById(e);if(o){if((n=o.getAttributeNode(\"id\"))&&n.value===e)return[o];i=t.getElementsByName(e),r=0;while(o=i[r++])if((n=o.getAttributeNode(\"id\"))&&n.value===e)return[o]}return[]}}),b.find.TAG=function(e,t){return\"undefined\"!=typeof t.getElementsByTagName?t.getElementsByTagName(e):t.querySelectorAll(e)},b.find.CLASS=function(e,t){if(\"undefined\"!=typeof t.getElementsByClassName&&C)return t.getElementsByClassName(e)},d=[],$(function(e){var t;r.appendChild(e).innerHTML=\"<a id='\"+S+\"' href='' disabled='disabled'></a><select id='\"+S+\"-\\r\\\\' disabled='disabled'><option selected=''></option></select>\",e.querySelectorAll(\"[selected]\").length||d.push(\"\\\\[\"+ge+\"*(?:value|\"+f+\")\"),e.querySelectorAll(\"[id~=\"+S+\"-]\").length||d.push(\"~=\"),e.querySelectorAll(\"a#\"+S+\"+*\").length||d.push(\".#.+[+~]\"),e.querySelectorAll(\":checked\").length||d.push(\":checked\"),(t=T.createElement(\"input\")).setAttribute(\"type\",\"hidden\"),e.appendChild(t).setAttribute(\"name\",\"D\"),r.appendChild(e).disabled=!0,2!==e.querySelectorAll(\":disabled\").length&&d.push(\":enabled\",\":disabled\"),(t=T.createElement(\"input\")).setAttribute(\"name\",\"\"),e.appendChild(t),e.querySelectorAll(\"[name='']\").length||d.push(\"\\\\[\"+ge+\"*name\"+ge+\"*=\"+ge+\"*(?:''|\\\"\\\")\")}),le.cssHas||d.push(\":has\"),d=d.length&&new RegExp(d.join(\"|\")),l=function(e,t){if(e===t)return a=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n||(1&(n=(e.ownerDocument||e)==(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!le.sortDetached&&t.compareDocumentPosition(e)===n?e===T||e.ownerDocument==ye&&I.contains(ye,e)?-1:t===T||t.ownerDocument==ye&&I.contains(ye,t)?1:o?se.call(o,e)-se.call(o,t):0:4&n?-1:1)}),T}for(e in I.matches=function(e,t){return I(e,null,null,t)},I.matchesSelector=function(e,t){if(V(e),C&&!h[t+\" \"]&&(!d||!d.test(t)))try{var n=i.call(e,t);if(n||le.disconnectedMatch||e.document&&11!==e.document.nodeType)return n}catch(e){h(t,!0)}return 0<I(t,T,null,[e]).length},I.contains=function(e,t){return(e.ownerDocument||e)!=T&&V(e),ce.contains(e,t)},I.attr=function(e,t){(e.ownerDocument||e)!=T&&V(e);var n=b.attrHandle[t.toLowerCase()],r=n&&ue.call(b.attrHandle,t.toLowerCase())?n(e,t,!C):void 0;return void 0!==r?r:e.getAttribute(t)},I.error=function(e){throw new Error(\"Syntax error, unrecognized expression: \"+e)},ce.uniqueSort=function(e){var t,n=[],r=0,i=0;if(a=!le.sortStable,o=!le.sortStable&&ae.call(e,0),de.call(e,l),a){while(t=e[i++])t===e[i]&&(r=n.push(i));while(r--)he.call(e,n[r],1)}return o=null,e},ce.fn.uniqueSort=function(){return this.pushStack(ce.uniqueSort(ae.apply(this)))},(b=ce.expr={cacheLength:50,createPseudo:F,match:D,attrHandle:{},find:{},relative:{\">\":{dir:\"parentNode\",first:!0},\" \":{dir:\"parentNode\"},\"+\":{dir:\"previousSibling\",first:!0},\"~\":{dir:\"previousSibling\"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(O,P),e[3]=(e[3]||e[4]||e[5]||\"\").replace(O,P),\"~=\"===e[2]&&(e[3]=\" \"+e[3]+\" \"),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),\"nth\"===e[1].slice(0,3)?(e[3]||I.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*(\"even\"===e[3]||\"odd\"===e[3])),e[5]=+(e[7]+e[8]||\"odd\"===e[3])):e[3]&&I.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return D.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||\"\":n&&j.test(n)&&(t=Y(n,!0))&&(t=n.indexOf(\")\",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(O,P).toLowerCase();return\"*\"===e?function(){return!0}:function(e){return fe(e,t)}},CLASS:function(e){var t=s[e+\" \"];return t||(t=new RegExp(\"(^|\"+ge+\")\"+e+\"(\"+ge+\"|$)\"))&&s(e,function(e){return t.test(\"string\"==typeof e.className&&e.className||\"undefined\"!=typeof e.getAttribute&&e.getAttribute(\"class\")||\"\")})},ATTR:function(n,r,i){return function(e){var t=I.attr(e,n);return null==t?\"!=\"===r:!r||(t+=\"\",\"=\"===r?t===i:\"!=\"===r?t!==i:\"^=\"===r?i&&0===t.indexOf(i):\"*=\"===r?i&&-1<t.indexOf(i):\"$=\"===r?i&&t.slice(-i.length)===i:\"~=\"===r?-1<(\" \"+t.replace(v,\" \")+\" \").indexOf(i):\"|=\"===r&&(t===i||t.slice(0,i.length+1)===i+\"-\"))}},CHILD:function(d,e,t,h,g){var v=\"nth\"!==d.slice(0,3),y=\"last\"!==d.slice(-4),m=\"of-type\"===e;return 1===h&&0===g?function(e){return!!e.parentNode}:function(e,t,n){var r,i,o,a,s,u=v!==y?\"nextSibling\":\"previousSibling\",l=e.parentNode,c=m&&e.nodeName.toLowerCase(),f=!n&&!m,p=!1;if(l){if(v){while(u){o=e;while(o=o[u])if(m?fe(o,c):1===o.nodeType)return!1;s=u=\"only\"===d&&!s&&\"nextSibling\"}return!0}if(s=[y?l.firstChild:l.lastChild],y&&f){p=(a=(r=(i=l[S]||(l[S]={}))[d]||[])[0]===E&&r[1])&&r[2],o=a&&l.childNodes[a];while(o=++a&&o&&o[u]||(p=a=0)||s.pop())if(1===o.nodeType&&++p&&o===e){i[d]=[E,a,p];break}}else if(f&&(p=a=(r=(i=e[S]||(e[S]={}))[d]||[])[0]===E&&r[1]),!1===p)while(o=++a&&o&&o[u]||(p=a=0)||s.pop())if((m?fe(o,c):1===o.nodeType)&&++p&&(f&&((i=o[S]||(o[S]={}))[d]=[E,p]),o===e))break;return(p-=g)===h||p%h==0&&0<=p/h}}},PSEUDO:function(e,o){var t,a=b.pseudos[e]||b.setFilters[e.toLowerCase()]||I.error(\"unsupported pseudo: \"+e);return a[S]?a(o):1<a.length?(t=[e,e,\"\",o],b.setFilters.hasOwnProperty(e.toLowerCase())?F(function(e,t){var n,r=a(e,o),i=r.length;while(i--)e[n=se.call(e,r[i])]=!(t[n]=r[i])}):function(e){return a(e,0,t)}):a}},pseudos:{not:F(function(e){var r=[],i=[],s=ne(e.replace(ve,\"$1\"));return s[S]?F(function(e,t,n,r){var i,o=s(e,null,r,[]),a=e.length;while(a--)(i=o[a])&&(e[a]=!(t[a]=i))}):function(e,t,n){return r[0]=e,s(r,null,n,i),r[0]=null,!i.pop()}}),has:F(function(t){return function(e){return 0<I(t,e).length}}),contains:F(function(t){return t=t.replace(O,P),function(e){return-1<(e.textContent||ce.text(e)).indexOf(t)}}),lang:F(function(n){return A.test(n||\"\")||I.error(\"unsupported lang: \"+n),n=n.replace(O,P).toLowerCase(),function(e){var t;do{if(t=C?e.lang:e.getAttribute(\"xml:lang\")||e.getAttribute(\"lang\"))return(t=t.toLowerCase())===n||0===t.indexOf(n+\"-\")}while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var t=ie.location&&ie.location.hash;return t&&t.slice(1)===e.id},root:function(e){return e===r},focus:function(e){return e===function(){try{return T.activeElement}catch(e){}}()&&T.hasFocus()&&!!(e.type||e.href||~e.tabIndex)},enabled:z(!1),disabled:z(!0),checked:function(e){return fe(e,\"input\")&&!!e.checked||fe(e,\"option\")&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!b.pseudos.empty(e)},header:function(e){return q.test(e.nodeName)},input:function(e){return N.test(e.nodeName)},button:function(e){return fe(e,\"input\")&&\"button\"===e.type||fe(e,\"button\")},text:function(e){var t;return fe(e,\"input\")&&\"text\"===e.type&&(null==(t=e.getAttribute(\"type\"))||\"text\"===t.toLowerCase())},first:X(function(){return[0]}),last:X(function(e,t){return[t-1]}),eq:X(function(e,t,n){return[n<0?n+t:n]}),even:X(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:X(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:X(function(e,t,n){var r;for(r=n<0?n+t:t<n?t:n;0<=--r;)e.push(r);return e}),gt:X(function(e,t,n){for(var r=n<0?n+t:n;++r<t;)e.push(r);return e})}}).pseudos.nth=b.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})b.pseudos[e]=B(e);for(e in{submit:!0,reset:!0})b.pseudos[e]=_(e);function G(){}function Y(e,t){var n,r,i,o,a,s,u,l=c[e+\" \"];if(l)return t?0:l.slice(0);a=e,s=[],u=b.preFilter;while(a){for(o in n&&!(r=y.exec(a))||(r&&(a=a.slice(r[0].length)||a),s.push(i=[])),n=!1,(r=m.exec(a))&&(n=r.shift(),i.push({value:n,type:r[0].replace(ve,\" \")}),a=a.slice(n.length)),b.filter)!(r=D[o].exec(a))||u[o]&&!(r=u[o](r))||(n=r.shift(),i.push({value:n,type:o,matches:r}),a=a.slice(n.length));if(!n)break}return t?a.length:a?I.error(e):c(e,s).slice(0)}function Q(e){for(var t=0,n=e.length,r=\"\";t<n;t++)r+=e[t].value;return r}function J(a,e,t){var s=e.dir,u=e.next,l=u||s,c=t&&\"parentNode\"===l,f=n++;return e.first?function(e,t,n){while(e=e[s])if(1===e.nodeType||c)return a(e,t,n);return!1}:function(e,t,n){var r,i,o=[E,f];if(n){while(e=e[s])if((1===e.nodeType||c)&&a(e,t,n))return!0}else while(e=e[s])if(1===e.nodeType||c)if(i=e[S]||(e[S]={}),u&&fe(e,u))e=e[s]||e;else{if((r=i[l])&&r[0]===E&&r[1]===f)return o[2]=r[2];if((i[l]=o)[2]=a(e,t,n))return!0}return!1}}function K(i){return 1<i.length?function(e,t,n){var r=i.length;while(r--)if(!i[r](e,t,n))return!1;return!0}:i[0]}function Z(e,t,n,r,i){for(var o,a=[],s=0,u=e.length,l=null!=t;s<u;s++)(o=e[s])&&(n&&!n(o,r,i)||(a.push(o),l&&t.push(s)));return a}function ee(d,h,g,v,y,e){return v&&!v[S]&&(v=ee(v)),y&&!y[S]&&(y=ee(y,e)),F(function(e,t,n,r){var i,o,a,s,u=[],l=[],c=t.length,f=e||function(e,t,n){for(var r=0,i=t.length;r<i;r++)I(e,t[r],n);return n}(h||\"*\",n.nodeType?[n]:n,[]),p=!d||!e&&h?f:Z(f,u,d,n,r);if(g?g(p,s=y||(e?d:c||v)?[]:t,n,r):s=p,v){i=Z(s,l),v(i,[],n,r),o=i.length;while(o--)(a=i[o])&&(s[l[o]]=!(p[l[o]]=a))}if(e){if(y||d){if(y){i=[],o=s.length;while(o--)(a=s[o])&&i.push(p[o]=a);y(null,s=[],i,r)}o=s.length;while(o--)(a=s[o])&&-1<(i=y?se.call(e,a):u[o])&&(e[i]=!(t[i]=a))}}else s=Z(s===t?s.splice(c,s.length):s),y?y(null,t,s,r):k.apply(t,s)})}function te(e){for(var i,t,n,r=e.length,o=b.relative[e[0].type],a=o||b.relative[\" \"],s=o?1:0,u=J(function(e){return e===i},a,!0),l=J(function(e){return-1<se.call(i,e)},a,!0),c=[function(e,t,n){var r=!o&&(n||t!=w)||((i=t).nodeType?u(e,t,n):l(e,t,n));return i=null,r}];s<r;s++)if(t=b.relative[e[s].type])c=[J(K(c),t)];else{if((t=b.filter[e[s].type].apply(null,e[s].matches))[S]){for(n=++s;n<r;n++)if(b.relative[e[n].type])break;return ee(1<s&&K(c),1<s&&Q(e.slice(0,s-1).concat({value:\" \"===e[s-2].type?\"*\":\"\"})).replace(ve,\"$1\"),t,s<n&&te(e.slice(s,n)),n<r&&te(e=e.slice(n)),n<r&&Q(e))}c.push(t)}return K(c)}function ne(e,t){var n,v,y,m,x,r,i=[],o=[],a=u[e+\" \"];if(!a){t||(t=Y(e)),n=t.length;while(n--)(a=te(t[n]))[S]?i.push(a):o.push(a);(a=u(e,(v=o,m=0<(y=i).length,x=0<v.length,r=function(e,t,n,r,i){var o,a,s,u=0,l=\"0\",c=e&&[],f=[],p=w,d=e||x&&b.find.TAG(\"*\",i),h=E+=null==p?1:Math.random()||.1,g=d.length;for(i&&(w=t==T||t||i);l!==g&&null!=(o=d[l]);l++){if(x&&o){a=0,t||o.ownerDocument==T||(V(o),n=!C);while(s=v[a++])if(s(o,t||T,n)){k.call(r,o);break}i&&(E=h)}m&&((o=!s&&o)&&u--,e&&c.push(o))}if(u+=l,m&&l!==u){a=0;while(s=y[a++])s(c,f,t,n);if(e){if(0<u)while(l--)c[l]||f[l]||(f[l]=pe.call(r));f=Z(f)}k.apply(r,f),i&&!e&&0<f.length&&1<u+y.length&&ce.uniqueSort(r)}return i&&(E=h,w=p),c},m?F(r):r))).selector=e}return a}function re(e,t,n,r){var i,o,a,s,u,l=\"function\"==typeof e&&e,c=!r&&Y(e=l.selector||e);if(n=n||[],1===c.length){if(2<(o=c[0]=c[0].slice(0)).length&&\"ID\"===(a=o[0]).type&&9===t.nodeType&&C&&b.relative[o[1].type]){if(!(t=(b.find.ID(a.matches[0].replace(O,P),t)||[])[0]))return n;l&&(t=t.parentNode),e=e.slice(o.shift().value.length)}i=D.needsContext.test(e)?0:o.length;while(i--){if(a=o[i],b.relative[s=a.type])break;if((u=b.find[s])&&(r=u(a.matches[0].replace(O,P),H.test(o[0].type)&&U(t.parentNode)||t))){if(o.splice(i,1),!(e=r.length&&Q(o)))return k.apply(n,r),n;break}}}return(l||ne(e,c))(r,t,!C,n,!t||H.test(e)&&U(t.parentNode)||t),n}G.prototype=b.filters=b.pseudos,b.setFilters=new G,le.sortStable=S.split(\"\").sort(l).join(\"\")===S,V(),le.sortDetached=$(function(e){return 1&e.compareDocumentPosition(T.createElement(\"fieldset\"))}),ce.find=I,ce.expr[\":\"]=ce.expr.pseudos,ce.unique=ce.uniqueSort,I.compile=ne,I.select=re,I.setDocument=V,I.tokenize=Y,I.escape=ce.escapeSelector,I.getText=ce.text,I.isXML=ce.isXMLDoc,I.selectors=ce.expr,I.support=ce.support,I.uniqueSort=ce.uniqueSort}();var d=function(e,t,n){var r=[],i=void 0!==n;while((e=e[t])&&9!==e.nodeType)if(1===e.nodeType){if(i&&ce(e).is(n))break;r.push(e)}return r},h=function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n},b=ce.expr.match.needsContext,w=/^<([a-z][^\\/\\0>:\\x20\\t\\r\\n\\f]*)[\\x20\\t\\r\\n\\f]*\\/?>(?:<\\/\\1>|)$/i;function T(e,n,r){return v(n)?ce.grep(e,function(e,t){return!!n.call(e,t,e)!==r}):n.nodeType?ce.grep(e,function(e){return e===n!==r}):\"string\"!=typeof n?ce.grep(e,function(e){return-1<se.call(n,e)!==r}):ce.filter(n,e,r)}ce.filter=function(e,t,n){var r=t[0];return n&&(e=\":not(\"+e+\")\"),1===t.length&&1===r.nodeType?ce.find.matchesSelector(r,e)?[r]:[]:ce.find.matches(e,ce.grep(t,function(e){return 1===e.nodeType}))},ce.fn.extend({find:function(e){var t,n,r=this.length,i=this;if(\"string\"!=typeof e)return this.pushStack(ce(e).filter(function(){for(t=0;t<r;t++)if(ce.contains(i[t],this))return!0}));for(n=this.pushStack([]),t=0;t<r;t++)ce.find(e,i[t],n);return 1<r?ce.uniqueSort(n):n},filter:function(e){return this.pushStack(T(this,e||[],!1))},not:function(e){return this.pushStack(T(this,e||[],!0))},is:function(e){return!!T(this,\"string\"==typeof e&&b.test(e)?ce(e):e||[],!1).length}});var k,S=/^(?:\\s*(<[\\w\\W]+>)[^>]*|#([\\w-]+))$/;(ce.fn.init=function(e,t,n){var r,i;if(!e)return this;if(n=n||k,\"string\"==typeof e){if(!(r=\"<\"===e[0]&&\">\"===e[e.length-1]&&3<=e.length?[null,e,null]:S.exec(e))||!r[1]&&t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(r[1]){if(t=t instanceof ce?t[0]:t,ce.merge(this,ce.parseHTML(r[1],t&&t.nodeType?t.ownerDocument||t:C,!0)),w.test(r[1])&&ce.isPlainObject(t))for(r in t)v(this[r])?this[r](t[r]):this.attr(r,t[r]);return this}return(i=C.getElementById(r[2]))&&(this[0]=i,this.length=1),this}return e.nodeType?(this[0]=e,this.length=1,this):v(e)?void 0!==n.ready?n.ready(e):e(ce):ce.makeArray(e,this)}).prototype=ce.fn,k=ce(C);var E=/^(?:parents|prev(?:Until|All))/,j={children:!0,contents:!0,next:!0,prev:!0};function A(e,t){while((e=e[t])&&1!==e.nodeType);return e}ce.fn.extend({has:function(e){var t=ce(e,this),n=t.length;return this.filter(function(){for(var e=0;e<n;e++)if(ce.contains(this,t[e]))return!0})},closest:function(e,t){var n,r=0,i=this.length,o=[],a=\"string\"!=typeof e&&ce(e);if(!b.test(e))for(;r<i;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(a?-1<a.index(n):1===n.nodeType&&ce.find.matchesSelector(n,e))){o.push(n);break}return this.pushStack(1<o.length?ce.uniqueSort(o):o)},index:function(e){return e?\"string\"==typeof e?se.call(ce(e),this[0]):se.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(ce.uniqueSort(ce.merge(this.get(),ce(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),ce.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return d(e,\"parentNode\")},parentsUntil:function(e,t,n){return d(e,\"parentNode\",n)},next:function(e){return A(e,\"nextSibling\")},prev:function(e){return A(e,\"previousSibling\")},nextAll:function(e){return d(e,\"nextSibling\")},prevAll:function(e){return d(e,\"previousSibling\")},nextUntil:function(e,t,n){return d(e,\"nextSibling\",n)},prevUntil:function(e,t,n){return d(e,\"previousSibling\",n)},siblings:function(e){return h((e.parentNode||{}).firstChild,e)},children:function(e){return h(e.firstChild)},contents:function(e){return null!=e.contentDocument&&r(e.contentDocument)?e.contentDocument:(fe(e,\"template\")&&(e=e.content||e),ce.merge([],e.childNodes))}},function(r,i){ce.fn[r]=function(e,t){var n=ce.map(this,i,e);return\"Until\"!==r.slice(-5)&&(t=e),t&&\"string\"==typeof t&&(n=ce.filter(t,n)),1<this.length&&(j[r]||ce.uniqueSort(n),E.test(r)&&n.reverse()),this.pushStack(n)}});var D=/[^\\x20\\t\\r\\n\\f]+/g;function N(e){return e}function q(e){throw e}function L(e,t,n,r){var i;try{e&&v(i=e.promise)?i.call(e).done(t).fail(n):e&&v(i=e.then)?i.call(e,t,n):t.apply(void 0,[e].slice(r))}catch(e){n.apply(void 0,[e])}}ce.Callbacks=function(r){var e,n;r=\"string\"==typeof r?(e=r,n={},ce.each(e.match(D)||[],function(e,t){n[t]=!0}),n):ce.extend({},r);var i,t,o,a,s=[],u=[],l=-1,c=function(){for(a=a||r.once,o=i=!0;u.length;l=-1){t=u.shift();while(++l<s.length)!1===s[l].apply(t[0],t[1])&&r.stopOnFalse&&(l=s.length,t=!1)}r.memory||(t=!1),i=!1,a&&(s=t?[]:\"\")},f={add:function(){return s&&(t&&!i&&(l=s.length-1,u.push(t)),function n(e){ce.each(e,function(e,t){v(t)?r.unique&&f.has(t)||s.push(t):t&&t.length&&\"string\"!==x(t)&&n(t)})}(arguments),t&&!i&&c()),this},remove:function(){return ce.each(arguments,function(e,t){var n;while(-1<(n=ce.inArray(t,s,n)))s.splice(n,1),n<=l&&l--}),this},has:function(e){return e?-1<ce.inArray(e,s):0<s.length},empty:function(){return s&&(s=[]),this},disable:function(){return a=u=[],s=t=\"\",this},disabled:function(){return!s},lock:function(){return a=u=[],t||i||(s=t=\"\"),this},locked:function(){return!!a},fireWith:function(e,t){return a||(t=[e,(t=t||[]).slice?t.slice():t],u.push(t),i||c()),this},fire:function(){return f.fireWith(this,arguments),this},fired:function(){return!!o}};return f},ce.extend({Deferred:function(e){var o=[[\"notify\",\"progress\",ce.Callbacks(\"memory\"),ce.Callbacks(\"memory\"),2],[\"resolve\",\"done\",ce.Callbacks(\"once memory\"),ce.Callbacks(\"once memory\"),0,\"resolved\"],[\"reject\",\"fail\",ce.Callbacks(\"once memory\"),ce.Callbacks(\"once memory\"),1,\"rejected\"]],i=\"pending\",a={state:function(){return i},always:function(){return s.done(arguments).fail(arguments),this},\"catch\":function(e){return a.then(null,e)},pipe:function(){var i=arguments;return ce.Deferred(function(r){ce.each(o,function(e,t){var n=v(i[t[4]])&&i[t[4]];s[t[1]](function(){var e=n&&n.apply(this,arguments);e&&v(e.promise)?e.promise().progress(r.notify).done(r.resolve).fail(r.reject):r[t[0]+\"With\"](this,n?[e]:arguments)})}),i=null}).promise()},then:function(t,n,r){var u=0;function l(i,o,a,s){return function(){var n=this,r=arguments,e=function(){var e,t;if(!(i<u)){if((e=a.apply(n,r))===o.promise())throw new TypeError(\"Thenable self-resolution\");t=e&&(\"object\"==typeof e||\"function\"==typeof e)&&e.then,v(t)?s?t.call(e,l(u,o,N,s),l(u,o,q,s)):(u++,t.call(e,l(u,o,N,s),l(u,o,q,s),l(u,o,N,o.notifyWith))):(a!==N&&(n=void 0,r=[e]),(s||o.resolveWith)(n,r))}},t=s?e:function(){try{e()}catch(e){ce.Deferred.exceptionHook&&ce.Deferred.exceptionHook(e,t.error),u<=i+1&&(a!==q&&(n=void 0,r=[e]),o.rejectWith(n,r))}};i?t():(ce.Deferred.getErrorHook?t.error=ce.Deferred.getErrorHook():ce.Deferred.getStackHook&&(t.error=ce.Deferred.getStackHook()),ie.setTimeout(t))}}return ce.Deferred(function(e){o[0][3].add(l(0,e,v(r)?r:N,e.notifyWith)),o[1][3].add(l(0,e,v(t)?t:N)),o[2][3].add(l(0,e,v(n)?n:q))}).promise()},promise:function(e){return null!=e?ce.extend(e,a):a}},s={};return ce.each(o,function(e,t){var n=t[2],r=t[5];a[t[1]]=n.add,r&&n.add(function(){i=r},o[3-e][2].disable,o[3-e][3].disable,o[0][2].lock,o[0][3].lock),n.add(t[3].fire),s[t[0]]=function(){return s[t[0]+\"With\"](this===s?void 0:this,arguments),this},s[t[0]+\"With\"]=n.fireWith}),a.promise(s),e&&e.call(s,s),s},when:function(e){var n=arguments.length,t=n,r=Array(t),i=ae.call(arguments),o=ce.Deferred(),a=function(t){return function(e){r[t]=this,i[t]=1<arguments.length?ae.call(arguments):e,--n||o.resolveWith(r,i)}};if(n<=1&&(L(e,o.done(a(t)).resolve,o.reject,!n),\"pending\"===o.state()||v(i[t]&&i[t].then)))return o.then();while(t--)L(i[t],a(t),o.reject);return o.promise()}});var H=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;ce.Deferred.exceptionHook=function(e,t){ie.console&&ie.console.warn&&e&&H.test(e.name)&&ie.console.warn(\"jQuery.Deferred exception: \"+e.message,e.stack,t)},ce.readyException=function(e){ie.setTimeout(function(){throw e})};var O=ce.Deferred();function P(){C.removeEventListener(\"DOMContentLoaded\",P),ie.removeEventListener(\"load\",P),ce.ready()}ce.fn.ready=function(e){return O.then(e)[\"catch\"](function(e){ce.readyException(e)}),this},ce.extend({isReady:!1,readyWait:1,ready:function(e){(!0===e?--ce.readyWait:ce.isReady)||(ce.isReady=!0)!==e&&0<--ce.readyWait||O.resolveWith(C,[ce])}}),ce.ready.then=O.then,\"complete\"===C.readyState||\"loading\"!==C.readyState&&!C.documentElement.doScroll?ie.setTimeout(ce.ready):(C.addEventListener(\"DOMContentLoaded\",P),ie.addEventListener(\"load\",P));var M=function(e,t,n,r,i,o,a){var s=0,u=e.length,l=null==n;if(\"object\"===x(n))for(s in i=!0,n)M(e,t,s,n[s],!0,o,a);else if(void 0!==r&&(i=!0,v(r)||(a=!0),l&&(a?(t.call(e,r),t=null):(l=t,t=function(e,t,n){return l.call(ce(e),n)})),t))for(;s<u;s++)t(e[s],n,a?r:r.call(e[s],s,t(e[s],n)));return i?e:l?t.call(e):u?t(e[0],n):o},R=/^-ms-/,I=/-([a-z])/g;function W(e,t){return t.toUpperCase()}function F(e){return e.replace(R,\"ms-\").replace(I,W)}var $=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};function B(){this.expando=ce.expando+B.uid++}B.uid=1,B.prototype={cache:function(e){var t=e[this.expando];return t||(t={},$(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var r,i=this.cache(e);if(\"string\"==typeof t)i[F(t)]=n;else for(r in t)i[F(r)]=t[r];return i},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][F(t)]},access:function(e,t,n){return void 0===t||t&&\"string\"==typeof t&&void 0===n?this.get(e,t):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,r=e[this.expando];if(void 0!==r){if(void 0!==t){n=(t=Array.isArray(t)?t.map(F):(t=F(t))in r?[t]:t.match(D)||[]).length;while(n--)delete r[t[n]]}(void 0===t||ce.isEmptyObject(r))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!ce.isEmptyObject(t)}};var _=new B,z=new B,X=/^(?:\\{[\\w\\W]*\\}|\\[[\\w\\W]*\\])$/,U=/[A-Z]/g;function V(e,t,n){var r,i;if(void 0===n&&1===e.nodeType)if(r=\"data-\"+t.replace(U,\"-$&\").toLowerCase(),\"string\"==typeof(n=e.getAttribute(r))){try{n=\"true\"===(i=n)||\"false\"!==i&&(\"null\"===i?null:i===+i+\"\"?+i:X.test(i)?JSON.parse(i):i)}catch(e){}z.set(e,t,n)}else n=void 0;return n}ce.extend({hasData:function(e){return z.hasData(e)||_.hasData(e)},data:function(e,t,n){return z.access(e,t,n)},removeData:function(e,t){z.remove(e,t)},_data:function(e,t,n){return _.access(e,t,n)},_removeData:function(e,t){_.remove(e,t)}}),ce.fn.extend({data:function(n,e){var t,r,i,o=this[0],a=o&&o.attributes;if(void 0===n){if(this.length&&(i=z.get(o),1===o.nodeType&&!_.get(o,\"hasDataAttrs\"))){t=a.length;while(t--)a[t]&&0===(r=a[t].name).indexOf(\"data-\")&&(r=F(r.slice(5)),V(o,r,i[r]));_.set(o,\"hasDataAttrs\",!0)}return i}return\"object\"==typeof n?this.each(function(){z.set(this,n)}):M(this,function(e){var t;if(o&&void 0===e)return void 0!==(t=z.get(o,n))?t:void 0!==(t=V(o,n))?t:void 0;this.each(function(){z.set(this,n,e)})},null,e,1<arguments.length,null,!0)},removeData:function(e){return this.each(function(){z.remove(this,e)})}}),ce.extend({queue:function(e,t,n){var r;if(e)return t=(t||\"fx\")+\"queue\",r=_.get(e,t),n&&(!r||Array.isArray(n)?r=_.access(e,t,ce.makeArray(n)):r.push(n)),r||[]},dequeue:function(e,t){t=t||\"fx\";var n=ce.queue(e,t),r=n.length,i=n.shift(),o=ce._queueHooks(e,t);\"inprogress\"===i&&(i=n.shift(),r--),i&&(\"fx\"===t&&n.unshift(\"inprogress\"),delete o.stop,i.call(e,function(){ce.dequeue(e,t)},o)),!r&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+\"queueHooks\";return _.get(e,n)||_.access(e,n,{empty:ce.Callbacks(\"once memory\").add(function(){_.remove(e,[t+\"queue\",n])})})}}),ce.fn.extend({queue:function(t,n){var e=2;return\"string\"!=typeof t&&(n=t,t=\"fx\",e--),arguments.length<e?ce.queue(this[0],t):void 0===n?this:this.each(function(){var e=ce.queue(this,t,n);ce._queueHooks(this,t),\"fx\"===t&&\"inprogress\"!==e[0]&&ce.dequeue(this,t)})},dequeue:function(e){return this.each(function(){ce.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||\"fx\",[])},promise:function(e,t){var n,r=1,i=ce.Deferred(),o=this,a=this.length,s=function(){--r||i.resolveWith(o,[o])};\"string\"!=typeof e&&(t=e,e=void 0),e=e||\"fx\";while(a--)(n=_.get(o[a],e+\"queueHooks\"))&&n.empty&&(r++,n.empty.add(s));return s(),i.promise(t)}});var G=/[+-]?(?:\\d*\\.|)\\d+(?:[eE][+-]?\\d+|)/.source,Y=new RegExp(\"^(?:([+-])=|)(\"+G+\")([a-z%]*)$\",\"i\"),Q=[\"Top\",\"Right\",\"Bottom\",\"Left\"],J=C.documentElement,K=function(e){return ce.contains(e.ownerDocument,e)},Z={composed:!0};J.getRootNode&&(K=function(e){return ce.contains(e.ownerDocument,e)||e.getRootNode(Z)===e.ownerDocument});var ee=function(e,t){return\"none\"===(e=t||e).style.display||\"\"===e.style.display&&K(e)&&\"none\"===ce.css(e,\"display\")};function te(e,t,n,r){var i,o,a=20,s=r?function(){return r.cur()}:function(){return ce.css(e,t,\"\")},u=s(),l=n&&n[3]||(ce.cssNumber[t]?\"\":\"px\"),c=e.nodeType&&(ce.cssNumber[t]||\"px\"!==l&&+u)&&Y.exec(ce.css(e,t));if(c&&c[3]!==l){u/=2,l=l||c[3],c=+u||1;while(a--)ce.style(e,t,c+l),(1-o)*(1-(o=s()/u||.5))<=0&&(a=0),c/=o;c*=2,ce.style(e,t,c+l),n=n||[]}return n&&(c=+c||+u||0,i=n[1]?c+(n[1]+1)*n[2]:+n[2],r&&(r.unit=l,r.start=c,r.end=i)),i}var ne={};function re(e,t){for(var n,r,i,o,a,s,u,l=[],c=0,f=e.length;c<f;c++)(r=e[c]).style&&(n=r.style.display,t?(\"none\"===n&&(l[c]=_.get(r,\"display\")||null,l[c]||(r.style.display=\"\")),\"\"===r.style.display&&ee(r)&&(l[c]=(u=a=o=void 0,a=(i=r).ownerDocument,s=i.nodeName,(u=ne[s])||(o=a.body.appendChild(a.createElement(s)),u=ce.css(o,\"display\"),o.parentNode.removeChild(o),\"none\"===u&&(u=\"block\"),ne[s]=u)))):\"none\"!==n&&(l[c]=\"none\",_.set(r,\"display\",n)));for(c=0;c<f;c++)null!=l[c]&&(e[c].style.display=l[c]);return e}ce.fn.extend({show:function(){return re(this,!0)},hide:function(){return re(this)},toggle:function(e){return\"boolean\"==typeof e?e?this.show():this.hide():this.each(function(){ee(this)?ce(this).show():ce(this).hide()})}});var xe,be,we=/^(?:checkbox|radio)$/i,Te=/<([a-z][^\\/\\0>\\x20\\t\\r\\n\\f]*)/i,Ce=/^$|^module$|\\/(?:java|ecma)script/i;xe=C.createDocumentFragment().appendChild(C.createElement(\"div\")),(be=C.createElement(\"input\")).setAttribute(\"type\",\"radio\"),be.setAttribute(\"checked\",\"checked\"),be.setAttribute(\"name\",\"t\"),xe.appendChild(be),le.checkClone=xe.cloneNode(!0).cloneNode(!0).lastChild.checked,xe.innerHTML=\"<textarea>x</textarea>\",le.noCloneChecked=!!xe.cloneNode(!0).lastChild.defaultValue,xe.innerHTML=\"<option></option>\",le.option=!!xe.lastChild;var ke={thead:[1,\"<table>\",\"</table>\"],col:[2,\"<table><colgroup>\",\"</colgroup></table>\"],tr:[2,\"<table><tbody>\",\"</tbody></table>\"],td:[3,\"<table><tbody><tr>\",\"</tr></tbody></table>\"],_default:[0,\"\",\"\"]};function Se(e,t){var n;return n=\"undefined\"!=typeof e.getElementsByTagName?e.getElementsByTagName(t||\"*\"):\"undefined\"!=typeof e.querySelectorAll?e.querySelectorAll(t||\"*\"):[],void 0===t||t&&fe(e,t)?ce.merge([e],n):n}function Ee(e,t){for(var n=0,r=e.length;n<r;n++)_.set(e[n],\"globalEval\",!t||_.get(t[n],\"globalEval\"))}ke.tbody=ke.tfoot=ke.colgroup=ke.caption=ke.thead,ke.th=ke.td,le.option||(ke.optgroup=ke.option=[1,\"<select multiple='multiple'>\",\"</select>\"]);var je=/<|&#?\\w+;/;function Ae(e,t,n,r,i){for(var o,a,s,u,l,c,f=t.createDocumentFragment(),p=[],d=0,h=e.length;d<h;d++)if((o=e[d])||0===o)if(\"object\"===x(o))ce.merge(p,o.nodeType?[o]:o);else if(je.test(o)){a=a||f.appendChild(t.createElement(\"div\")),s=(Te.exec(o)||[\"\",\"\"])[1].toLowerCase(),u=ke[s]||ke._default,a.innerHTML=u[1]+ce.htmlPrefilter(o)+u[2],c=u[0];while(c--)a=a.lastChild;ce.merge(p,a.childNodes),(a=f.firstChild).textContent=\"\"}else p.push(t.createTextNode(o));f.textContent=\"\",d=0;while(o=p[d++])if(r&&-1<ce.inArray(o,r))i&&i.push(o);else if(l=K(o),a=Se(f.appendChild(o),\"script\"),l&&Ee(a),n){c=0;while(o=a[c++])Ce.test(o.type||\"\")&&n.push(o)}return f}var De=/^([^.]*)(?:\\.(.+)|)/;function Ne(){return!0}function qe(){return!1}function Le(e,t,n,r,i,o){var a,s;if(\"object\"==typeof t){for(s in\"string\"!=typeof n&&(r=r||n,n=void 0),t)Le(e,s,n,r,t[s],o);return e}if(null==r&&null==i?(i=n,r=n=void 0):null==i&&(\"string\"==typeof n?(i=r,r=void 0):(i=r,r=n,n=void 0)),!1===i)i=qe;else if(!i)return e;return 1===o&&(a=i,(i=function(e){return ce().off(e),a.apply(this,arguments)}).guid=a.guid||(a.guid=ce.guid++)),e.each(function(){ce.event.add(this,t,i,r,n)})}function He(e,r,t){t?(_.set(e,r,!1),ce.event.add(e,r,{namespace:!1,handler:function(e){var t,n=_.get(this,r);if(1&e.isTrigger&&this[r]){if(n)(ce.event.special[r]||{}).delegateType&&e.stopPropagation();else if(n=ae.call(arguments),_.set(this,r,n),this[r](),t=_.get(this,r),_.set(this,r,!1),n!==t)return e.stopImmediatePropagation(),e.preventDefault(),t}else n&&(_.set(this,r,ce.event.trigger(n[0],n.slice(1),this)),e.stopPropagation(),e.isImmediatePropagationStopped=Ne)}})):void 0===_.get(e,r)&&ce.event.add(e,r,Ne)}ce.event={global:{},add:function(t,e,n,r,i){var o,a,s,u,l,c,f,p,d,h,g,v=_.get(t);if($(t)){n.handler&&(n=(o=n).handler,i=o.selector),i&&ce.find.matchesSelector(J,i),n.guid||(n.guid=ce.guid++),(u=v.events)||(u=v.events=Object.create(null)),(a=v.handle)||(a=v.handle=function(e){return\"undefined\"!=typeof ce&&ce.event.triggered!==e.type?ce.event.dispatch.apply(t,arguments):void 0}),l=(e=(e||\"\").match(D)||[\"\"]).length;while(l--)d=g=(s=De.exec(e[l])||[])[1],h=(s[2]||\"\").split(\".\").sort(),d&&(f=ce.event.special[d]||{},d=(i?f.delegateType:f.bindType)||d,f=ce.event.special[d]||{},c=ce.extend({type:d,origType:g,data:r,handler:n,guid:n.guid,selector:i,needsContext:i&&ce.expr.match.needsContext.test(i),namespace:h.join(\".\")},o),(p=u[d])||((p=u[d]=[]).delegateCount=0,f.setup&&!1!==f.setup.call(t,r,h,a)||t.addEventListener&&t.addEventListener(d,a)),f.add&&(f.add.call(t,c),c.handler.guid||(c.handler.guid=n.guid)),i?p.splice(p.delegateCount++,0,c):p.push(c),ce.event.global[d]=!0)}},remove:function(e,t,n,r,i){var o,a,s,u,l,c,f,p,d,h,g,v=_.hasData(e)&&_.get(e);if(v&&(u=v.events)){l=(t=(t||\"\").match(D)||[\"\"]).length;while(l--)if(d=g=(s=De.exec(t[l])||[])[1],h=(s[2]||\"\").split(\".\").sort(),d){f=ce.event.special[d]||{},p=u[d=(r?f.delegateType:f.bindType)||d]||[],s=s[2]&&new RegExp(\"(^|\\\\.)\"+h.join(\"\\\\.(?:.*\\\\.|)\")+\"(\\\\.|$)\"),a=o=p.length;while(o--)c=p[o],!i&&g!==c.origType||n&&n.guid!==c.guid||s&&!s.test(c.namespace)||r&&r!==c.selector&&(\"**\"!==r||!c.selector)||(p.splice(o,1),c.selector&&p.delegateCount--,f.remove&&f.remove.call(e,c));a&&!p.length&&(f.teardown&&!1!==f.teardown.call(e,h,v.handle)||ce.removeEvent(e,d,v.handle),delete u[d])}else for(d in u)ce.event.remove(e,d+t[l],n,r,!0);ce.isEmptyObject(u)&&_.remove(e,\"handle events\")}},dispatch:function(e){var t,n,r,i,o,a,s=new Array(arguments.length),u=ce.event.fix(e),l=(_.get(this,\"events\")||Object.create(null))[u.type]||[],c=ce.event.special[u.type]||{};for(s[0]=u,t=1;t<arguments.length;t++)s[t]=arguments[t];if(u.delegateTarget=this,!c.preDispatch||!1!==c.preDispatch.call(this,u)){a=ce.event.handlers.call(this,u,l),t=0;while((i=a[t++])&&!u.isPropagationStopped()){u.currentTarget=i.elem,n=0;while((o=i.handlers[n++])&&!u.isImmediatePropagationStopped())u.rnamespace&&!1!==o.namespace&&!u.rnamespace.test(o.namespace)||(u.handleObj=o,u.data=o.data,void 0!==(r=((ce.event.special[o.origType]||{}).handle||o.handler).apply(i.elem,s))&&!1===(u.result=r)&&(u.preventDefault(),u.stopPropagation()))}return c.postDispatch&&c.postDispatch.call(this,u),u.result}},handlers:function(e,t){var n,r,i,o,a,s=[],u=t.delegateCount,l=e.target;if(u&&l.nodeType&&!(\"click\"===e.type&&1<=e.button))for(;l!==this;l=l.parentNode||this)if(1===l.nodeType&&(\"click\"!==e.type||!0!==l.disabled)){for(o=[],a={},n=0;n<u;n++)void 0===a[i=(r=t[n]).selector+\" \"]&&(a[i]=r.needsContext?-1<ce(i,this).index(l):ce.find(i,this,null,[l]).length),a[i]&&o.push(r);o.length&&s.push({elem:l,handlers:o})}return l=this,u<t.length&&s.push({elem:l,handlers:t.slice(u)}),s},addProp:function(t,e){Object.defineProperty(ce.Event.prototype,t,{enumerable:!0,configurable:!0,get:v(e)?function(){if(this.originalEvent)return e(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[t]},set:function(e){Object.defineProperty(this,t,{enumerable:!0,configurable:!0,writable:!0,value:e})}})},fix:function(e){return e[ce.expando]?e:new ce.Event(e)},special:{load:{noBubble:!0},click:{setup:function(e){var t=this||e;return we.test(t.type)&&t.click&&fe(t,\"input\")&&He(t,\"click\",!0),!1},trigger:function(e){var t=this||e;return we.test(t.type)&&t.click&&fe(t,\"input\")&&He(t,\"click\"),!0},_default:function(e){var t=e.target;return we.test(t.type)&&t.click&&fe(t,\"input\")&&_.get(t,\"click\")||fe(t,\"a\")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},ce.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},ce.Event=function(e,t){if(!(this instanceof ce.Event))return new ce.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?Ne:qe,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&ce.extend(this,t),this.timeStamp=e&&e.timeStamp||Date.now(),this[ce.expando]=!0},ce.Event.prototype={constructor:ce.Event,isDefaultPrevented:qe,isPropagationStopped:qe,isImmediatePropagationStopped:qe,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=Ne,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=Ne,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=Ne,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},ce.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,\"char\":!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},ce.event.addProp),ce.each({focus:\"focusin\",blur:\"focusout\"},function(r,i){function o(e){if(C.documentMode){var t=_.get(this,\"handle\"),n=ce.event.fix(e);n.type=\"focusin\"===e.type?\"focus\":\"blur\",n.isSimulated=!0,t(e),n.target===n.currentTarget&&t(n)}else ce.event.simulate(i,e.target,ce.event.fix(e))}ce.event.special[r]={setup:function(){var e;if(He(this,r,!0),!C.documentMode)return!1;(e=_.get(this,i))||this.addEventListener(i,o),_.set(this,i,(e||0)+1)},trigger:function(){return He(this,r),!0},teardown:function(){var e;if(!C.documentMode)return!1;(e=_.get(this,i)-1)?_.set(this,i,e):(this.removeEventListener(i,o),_.remove(this,i))},_default:function(e){return _.get(e.target,r)},delegateType:i},ce.event.special[i]={setup:function(){var e=this.ownerDocument||this.document||this,t=C.documentMode?this:e,n=_.get(t,i);n||(C.documentMode?this.addEventListener(i,o):e.addEventListener(r,o,!0)),_.set(t,i,(n||0)+1)},teardown:function(){var e=this.ownerDocument||this.document||this,t=C.documentMode?this:e,n=_.get(t,i)-1;n?_.set(t,i,n):(C.documentMode?this.removeEventListener(i,o):e.removeEventListener(r,o,!0),_.remove(t,i))}}}),ce.each({mouseenter:\"mouseover\",mouseleave:\"mouseout\",pointerenter:\"pointerover\",pointerleave:\"pointerout\"},function(e,i){ce.event.special[e]={delegateType:i,bindType:i,handle:function(e){var t,n=e.relatedTarget,r=e.handleObj;return n&&(n===this||ce.contains(this,n))||(e.type=r.origType,t=r.handler.apply(this,arguments),e.type=i),t}}}),ce.fn.extend({on:function(e,t,n,r){return Le(this,e,t,n,r)},one:function(e,t,n,r){return Le(this,e,t,n,r,1)},off:function(e,t,n){var r,i;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,ce(e.delegateTarget).off(r.namespace?r.origType+\".\"+r.namespace:r.origType,r.selector,r.handler),this;if(\"object\"==typeof e){for(i in e)this.off(i,t,e[i]);return this}return!1!==t&&\"function\"!=typeof t||(n=t,t=void 0),!1===n&&(n=qe),this.each(function(){ce.event.remove(this,e,n,t)})}});var Oe=/<script|<style|<link/i,Pe=/checked\\s*(?:[^=]|=\\s*.checked.)/i,Me=/^\\s*<!\\[CDATA\\[|\\]\\]>\\s*$/g;function Re(e,t){return fe(e,\"table\")&&fe(11!==t.nodeType?t:t.firstChild,\"tr\")&&ce(e).children(\"tbody\")[0]||e}function Ie(e){return e.type=(null!==e.getAttribute(\"type\"))+\"/\"+e.type,e}function We(e){return\"true/\"===(e.type||\"\").slice(0,5)?e.type=e.type.slice(5):e.removeAttribute(\"type\"),e}function Fe(e,t){var n,r,i,o,a,s;if(1===t.nodeType){if(_.hasData(e)&&(s=_.get(e).events))for(i in _.remove(t,\"handle events\"),s)for(n=0,r=s[i].length;n<r;n++)ce.event.add(t,i,s[i][n]);z.hasData(e)&&(o=z.access(e),a=ce.extend({},o),z.set(t,a))}}function $e(n,r,i,o){r=g(r);var e,t,a,s,u,l,c=0,f=n.length,p=f-1,d=r[0],h=v(d);if(h||1<f&&\"string\"==typeof d&&!le.checkClone&&Pe.test(d))return n.each(function(e){var t=n.eq(e);h&&(r[0]=d.call(this,e,t.html())),$e(t,r,i,o)});if(f&&(t=(e=Ae(r,n[0].ownerDocument,!1,n,o)).firstChild,1===e.childNodes.length&&(e=t),t||o)){for(s=(a=ce.map(Se(e,\"script\"),Ie)).length;c<f;c++)u=e,c!==p&&(u=ce.clone(u,!0,!0),s&&ce.merge(a,Se(u,\"script\"))),i.call(n[c],u,c);if(s)for(l=a[a.length-1].ownerDocument,ce.map(a,We),c=0;c<s;c++)u=a[c],Ce.test(u.type||\"\")&&!_.access(u,\"globalEval\")&&ce.contains(l,u)&&(u.src&&\"module\"!==(u.type||\"\").toLowerCase()?ce._evalUrl&&!u.noModule&&ce._evalUrl(u.src,{nonce:u.nonce||u.getAttribute(\"nonce\")},l):m(u.textContent.replace(Me,\"\"),u,l))}return n}function Be(e,t,n){for(var r,i=t?ce.filter(t,e):e,o=0;null!=(r=i[o]);o++)n||1!==r.nodeType||ce.cleanData(Se(r)),r.parentNode&&(n&&K(r)&&Ee(Se(r,\"script\")),r.parentNode.removeChild(r));return e}ce.extend({htmlPrefilter:function(e){return e},clone:function(e,t,n){var r,i,o,a,s,u,l,c=e.cloneNode(!0),f=K(e);if(!(le.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||ce.isXMLDoc(e)))for(a=Se(c),r=0,i=(o=Se(e)).length;r<i;r++)s=o[r],u=a[r],void 0,\"input\"===(l=u.nodeName.toLowerCase())&&we.test(s.type)?u.checked=s.checked:\"input\"!==l&&\"textarea\"!==l||(u.defaultValue=s.defaultValue);if(t)if(n)for(o=o||Se(e),a=a||Se(c),r=0,i=o.length;r<i;r++)Fe(o[r],a[r]);else Fe(e,c);return 0<(a=Se(c,\"script\")).length&&Ee(a,!f&&Se(e,\"script\")),c},cleanData:function(e){for(var t,n,r,i=ce.event.special,o=0;void 0!==(n=e[o]);o++)if($(n)){if(t=n[_.expando]){if(t.events)for(r in t.events)i[r]?ce.event.remove(n,r):ce.removeEvent(n,r,t.handle);n[_.expando]=void 0}n[z.expando]&&(n[z.expando]=void 0)}}}),ce.fn.extend({detach:function(e){return Be(this,e,!0)},remove:function(e){return Be(this,e)},text:function(e){return M(this,function(e){return void 0===e?ce.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)})},null,e,arguments.length)},append:function(){return $e(this,arguments,function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||Re(this,e).appendChild(e)})},prepend:function(){return $e(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=Re(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return $e(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return $e(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(ce.cleanData(Se(e,!1)),e.textContent=\"\");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return ce.clone(this,e,t)})},html:function(e){return M(this,function(e){var t=this[0]||{},n=0,r=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if(\"string\"==typeof e&&!Oe.test(e)&&!ke[(Te.exec(e)||[\"\",\"\"])[1].toLowerCase()]){e=ce.htmlPrefilter(e);try{for(;n<r;n++)1===(t=this[n]||{}).nodeType&&(ce.cleanData(Se(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var n=[];return $e(this,arguments,function(e){var t=this.parentNode;ce.inArray(this,n)<0&&(ce.cleanData(Se(this)),t&&t.replaceChild(e,this))},n)}}),ce.each({appendTo:\"append\",prependTo:\"prepend\",insertBefore:\"before\",insertAfter:\"after\",replaceAll:\"replaceWith\"},function(e,a){ce.fn[e]=function(e){for(var t,n=[],r=ce(e),i=r.length-1,o=0;o<=i;o++)t=o===i?this:this.clone(!0),ce(r[o])[a](t),s.apply(n,t.get());return this.pushStack(n)}});var _e=new RegExp(\"^(\"+G+\")(?!px)[a-z%]+$\",\"i\"),ze=/^--/,Xe=function(e){var t=e.ownerDocument.defaultView;return t&&t.opener||(t=ie),t.getComputedStyle(e)},Ue=function(e,t,n){var r,i,o={};for(i in t)o[i]=e.style[i],e.style[i]=t[i];for(i in r=n.call(e),t)e.style[i]=o[i];return r},Ve=new RegExp(Q.join(\"|\"),\"i\");function Ge(e,t,n){var r,i,o,a,s=ze.test(t),u=e.style;return(n=n||Xe(e))&&(a=n.getPropertyValue(t)||n[t],s&&a&&(a=a.replace(ve,\"$1\")||void 0),\"\"!==a||K(e)||(a=ce.style(e,t)),!le.pixelBoxStyles()&&_e.test(a)&&Ve.test(t)&&(r=u.width,i=u.minWidth,o=u.maxWidth,u.minWidth=u.maxWidth=u.width=a,a=n.width,u.width=r,u.minWidth=i,u.maxWidth=o)),void 0!==a?a+\"\":a}function Ye(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments);delete this.get}}}!function(){function e(){if(l){u.style.cssText=\"position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0\",l.style.cssText=\"position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%\",J.appendChild(u).appendChild(l);var e=ie.getComputedStyle(l);n=\"1%\"!==e.top,s=12===t(e.marginLeft),l.style.right=\"60%\",o=36===t(e.right),r=36===t(e.width),l.style.position=\"absolute\",i=12===t(l.offsetWidth/3),J.removeChild(u),l=null}}function t(e){return Math.round(parseFloat(e))}var n,r,i,o,a,s,u=C.createElement(\"div\"),l=C.createElement(\"div\");l.style&&(l.style.backgroundClip=\"content-box\",l.cloneNode(!0).style.backgroundClip=\"\",le.clearCloneStyle=\"content-box\"===l.style.backgroundClip,ce.extend(le,{boxSizingReliable:function(){return e(),r},pixelBoxStyles:function(){return e(),o},pixelPosition:function(){return e(),n},reliableMarginLeft:function(){return e(),s},scrollboxSize:function(){return e(),i},reliableTrDimensions:function(){var e,t,n,r;return null==a&&(e=C.createElement(\"table\"),t=C.createElement(\"tr\"),n=C.createElement(\"div\"),e.style.cssText=\"position:absolute;left:-11111px;border-collapse:separate\",t.style.cssText=\"box-sizing:content-box;border:1px solid\",t.style.height=\"1px\",n.style.height=\"9px\",n.style.display=\"block\",J.appendChild(e).appendChild(t).appendChild(n),r=ie.getComputedStyle(t),a=parseInt(r.height,10)+parseInt(r.borderTopWidth,10)+parseInt(r.borderBottomWidth,10)===t.offsetHeight,J.removeChild(e)),a}}))}();var Qe=[\"Webkit\",\"Moz\",\"ms\"],Je=C.createElement(\"div\").style,Ke={};function Ze(e){var t=ce.cssProps[e]||Ke[e];return t||(e in Je?e:Ke[e]=function(e){var t=e[0].toUpperCase()+e.slice(1),n=Qe.length;while(n--)if((e=Qe[n]+t)in Je)return e}(e)||e)}var et=/^(none|table(?!-c[ea]).+)/,tt={position:\"absolute\",visibility:\"hidden\",display:\"block\"},nt={letterSpacing:\"0\",fontWeight:\"400\"};function rt(e,t,n){var r=Y.exec(t);return r?Math.max(0,r[2]-(n||0))+(r[3]||\"px\"):t}function it(e,t,n,r,i,o){var a=\"width\"===t?1:0,s=0,u=0,l=0;if(n===(r?\"border\":\"content\"))return 0;for(;a<4;a+=2)\"margin\"===n&&(l+=ce.css(e,n+Q[a],!0,i)),r?(\"content\"===n&&(u-=ce.css(e,\"padding\"+Q[a],!0,i)),\"margin\"!==n&&(u-=ce.css(e,\"border\"+Q[a]+\"Width\",!0,i))):(u+=ce.css(e,\"padding\"+Q[a],!0,i),\"padding\"!==n?u+=ce.css(e,\"border\"+Q[a]+\"Width\",!0,i):s+=ce.css(e,\"border\"+Q[a]+\"Width\",!0,i));return!r&&0<=o&&(u+=Math.max(0,Math.ceil(e[\"offset\"+t[0].toUpperCase()+t.slice(1)]-o-u-s-.5))||0),u+l}function ot(e,t,n){var r=Xe(e),i=(!le.boxSizingReliable()||n)&&\"border-box\"===ce.css(e,\"boxSizing\",!1,r),o=i,a=Ge(e,t,r),s=\"offset\"+t[0].toUpperCase()+t.slice(1);if(_e.test(a)){if(!n)return a;a=\"auto\"}return(!le.boxSizingReliable()&&i||!le.reliableTrDimensions()&&fe(e,\"tr\")||\"auto\"===a||!parseFloat(a)&&\"inline\"===ce.css(e,\"display\",!1,r))&&e.getClientRects().length&&(i=\"border-box\"===ce.css(e,\"boxSizing\",!1,r),(o=s in e)&&(a=e[s])),(a=parseFloat(a)||0)+it(e,t,n||(i?\"border\":\"content\"),o,r,a)+\"px\"}function at(e,t,n,r,i){return new at.prototype.init(e,t,n,r,i)}ce.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=Ge(e,\"opacity\");return\"\"===n?\"1\":n}}}},cssNumber:{animationIterationCount:!0,aspectRatio:!0,borderImageSlice:!0,columnCount:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,scale:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeMiterlimit:!0,strokeOpacity:!0},cssProps:{},style:function(e,t,n,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var i,o,a,s=F(t),u=ze.test(t),l=e.style;if(u||(t=Ze(s)),a=ce.cssHooks[t]||ce.cssHooks[s],void 0===n)return a&&\"get\"in a&&void 0!==(i=a.get(e,!1,r))?i:l[t];\"string\"===(o=typeof n)&&(i=Y.exec(n))&&i[1]&&(n=te(e,t,i),o=\"number\"),null!=n&&n==n&&(\"number\"!==o||u||(n+=i&&i[3]||(ce.cssNumber[s]?\"\":\"px\")),le.clearCloneStyle||\"\"!==n||0!==t.indexOf(\"background\")||(l[t]=\"inherit\"),a&&\"set\"in a&&void 0===(n=a.set(e,n,r))||(u?l.setProperty(t,n):l[t]=n))}},css:function(e,t,n,r){var i,o,a,s=F(t);return ze.test(t)||(t=Ze(s)),(a=ce.cssHooks[t]||ce.cssHooks[s])&&\"get\"in a&&(i=a.get(e,!0,n)),void 0===i&&(i=Ge(e,t,r)),\"normal\"===i&&t in nt&&(i=nt[t]),\"\"===n||n?(o=parseFloat(i),!0===n||isFinite(o)?o||0:i):i}}),ce.each([\"height\",\"width\"],function(e,u){ce.cssHooks[u]={get:function(e,t,n){if(t)return!et.test(ce.css(e,\"display\"))||e.getClientRects().length&&e.getBoundingClientRect().width?ot(e,u,n):Ue(e,tt,function(){return ot(e,u,n)})},set:function(e,t,n){var r,i=Xe(e),o=!le.scrollboxSize()&&\"absolute\"===i.position,a=(o||n)&&\"border-box\"===ce.css(e,\"boxSizing\",!1,i),s=n?it(e,u,n,a,i):0;return a&&o&&(s-=Math.ceil(e[\"offset\"+u[0].toUpperCase()+u.slice(1)]-parseFloat(i[u])-it(e,u,\"border\",!1,i)-.5)),s&&(r=Y.exec(t))&&\"px\"!==(r[3]||\"px\")&&(e.style[u]=t,t=ce.css(e,u)),rt(0,t,s)}}}),ce.cssHooks.marginLeft=Ye(le.reliableMarginLeft,function(e,t){if(t)return(parseFloat(Ge(e,\"marginLeft\"))||e.getBoundingClientRect().left-Ue(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}))+\"px\"}),ce.each({margin:\"\",padding:\"\",border:\"Width\"},function(i,o){ce.cssHooks[i+o]={expand:function(e){for(var t=0,n={},r=\"string\"==typeof e?e.split(\" \"):[e];t<4;t++)n[i+Q[t]+o]=r[t]||r[t-2]||r[0];return n}},\"margin\"!==i&&(ce.cssHooks[i+o].set=rt)}),ce.fn.extend({css:function(e,t){return M(this,function(e,t,n){var r,i,o={},a=0;if(Array.isArray(t)){for(r=Xe(e),i=t.length;a<i;a++)o[t[a]]=ce.css(e,t[a],!1,r);return o}return void 0!==n?ce.style(e,t,n):ce.css(e,t)},e,t,1<arguments.length)}}),((ce.Tween=at).prototype={constructor:at,init:function(e,t,n,r,i,o){this.elem=e,this.prop=n,this.easing=i||ce.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=o||(ce.cssNumber[n]?\"\":\"px\")},cur:function(){var e=at.propHooks[this.prop];return e&&e.get?e.get(this):at.propHooks._default.get(this)},run:function(e){var t,n=at.propHooks[this.prop];return this.options.duration?this.pos=t=ce.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):at.propHooks._default.set(this),this}}).init.prototype=at.prototype,(at.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=ce.css(e.elem,e.prop,\"\"))&&\"auto\"!==t?t:0},set:function(e){ce.fx.step[e.prop]?ce.fx.step[e.prop](e):1!==e.elem.nodeType||!ce.cssHooks[e.prop]&&null==e.elem.style[Ze(e.prop)]?e.elem[e.prop]=e.now:ce.style(e.elem,e.prop,e.now+e.unit)}}}).scrollTop=at.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},ce.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:\"swing\"},ce.fx=at.prototype.init,ce.fx.step={};var st,ut,lt,ct,ft=/^(?:toggle|show|hide)$/,pt=/queueHooks$/;function dt(){ut&&(!1===C.hidden&&ie.requestAnimationFrame?ie.requestAnimationFrame(dt):ie.setTimeout(dt,ce.fx.interval),ce.fx.tick())}function ht(){return ie.setTimeout(function(){st=void 0}),st=Date.now()}function gt(e,t){var n,r=0,i={height:e};for(t=t?1:0;r<4;r+=2-t)i[\"margin\"+(n=Q[r])]=i[\"padding\"+n]=e;return t&&(i.opacity=i.width=e),i}function vt(e,t,n){for(var r,i=(yt.tweeners[t]||[]).concat(yt.tweeners[\"*\"]),o=0,a=i.length;o<a;o++)if(r=i[o].call(n,t,e))return r}function yt(o,e,t){var n,a,r=0,i=yt.prefilters.length,s=ce.Deferred().always(function(){delete u.elem}),u=function(){if(a)return!1;for(var e=st||ht(),t=Math.max(0,l.startTime+l.duration-e),n=1-(t/l.duration||0),r=0,i=l.tweens.length;r<i;r++)l.tweens[r].run(n);return s.notifyWith(o,[l,n,t]),n<1&&i?t:(i||s.notifyWith(o,[l,1,0]),s.resolveWith(o,[l]),!1)},l=s.promise({elem:o,props:ce.extend({},e),opts:ce.extend(!0,{specialEasing:{},easing:ce.easing._default},t),originalProperties:e,originalOptions:t,startTime:st||ht(),duration:t.duration,tweens:[],createTween:function(e,t){var n=ce.Tween(o,l.opts,e,t,l.opts.specialEasing[e]||l.opts.easing);return l.tweens.push(n),n},stop:function(e){var t=0,n=e?l.tweens.length:0;if(a)return this;for(a=!0;t<n;t++)l.tweens[t].run(1);return e?(s.notifyWith(o,[l,1,0]),s.resolveWith(o,[l,e])):s.rejectWith(o,[l,e]),this}}),c=l.props;for(!function(e,t){var n,r,i,o,a;for(n in e)if(i=t[r=F(n)],o=e[n],Array.isArray(o)&&(i=o[1],o=e[n]=o[0]),n!==r&&(e[r]=o,delete e[n]),(a=ce.cssHooks[r])&&\"expand\"in a)for(n in o=a.expand(o),delete e[r],o)n in e||(e[n]=o[n],t[n]=i);else t[r]=i}(c,l.opts.specialEasing);r<i;r++)if(n=yt.prefilters[r].call(l,o,c,l.opts))return v(n.stop)&&(ce._queueHooks(l.elem,l.opts.queue).stop=n.stop.bind(n)),n;return ce.map(c,vt,l),v(l.opts.start)&&l.opts.start.call(o,l),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always),ce.fx.timer(ce.extend(u,{elem:o,anim:l,queue:l.opts.queue})),l}ce.Animation=ce.extend(yt,{tweeners:{\"*\":[function(e,t){var n=this.createTween(e,t);return te(n.elem,e,Y.exec(t),n),n}]},tweener:function(e,t){v(e)?(t=e,e=[\"*\"]):e=e.match(D);for(var n,r=0,i=e.length;r<i;r++)n=e[r],yt.tweeners[n]=yt.tweeners[n]||[],yt.tweeners[n].unshift(t)},prefilters:[function(e,t,n){var r,i,o,a,s,u,l,c,f=\"width\"in t||\"height\"in t,p=this,d={},h=e.style,g=e.nodeType&&ee(e),v=_.get(e,\"fxshow\");for(r in n.queue||(null==(a=ce._queueHooks(e,\"fx\")).unqueued&&(a.unqueued=0,s=a.empty.fire,a.empty.fire=function(){a.unqueued||s()}),a.unqueued++,p.always(function(){p.always(function(){a.unqueued--,ce.queue(e,\"fx\").length||a.empty.fire()})})),t)if(i=t[r],ft.test(i)){if(delete t[r],o=o||\"toggle\"===i,i===(g?\"hide\":\"show\")){if(\"show\"!==i||!v||void 0===v[r])continue;g=!0}d[r]=v&&v[r]||ce.style(e,r)}if((u=!ce.isEmptyObject(t))||!ce.isEmptyObject(d))for(r in f&&1===e.nodeType&&(n.overflow=[h.overflow,h.overflowX,h.overflowY],null==(l=v&&v.display)&&(l=_.get(e,\"display\")),\"none\"===(c=ce.css(e,\"display\"))&&(l?c=l:(re([e],!0),l=e.style.display||l,c=ce.css(e,\"display\"),re([e]))),(\"inline\"===c||\"inline-block\"===c&&null!=l)&&\"none\"===ce.css(e,\"float\")&&(u||(p.done(function(){h.display=l}),null==l&&(c=h.display,l=\"none\"===c?\"\":c)),h.display=\"inline-block\")),n.overflow&&(h.overflow=\"hidden\",p.always(function(){h.overflow=n.overflow[0],h.overflowX=n.overflow[1],h.overflowY=n.overflow[2]})),u=!1,d)u||(v?\"hidden\"in v&&(g=v.hidden):v=_.access(e,\"fxshow\",{display:l}),o&&(v.hidden=!g),g&&re([e],!0),p.done(function(){for(r in g||re([e]),_.remove(e,\"fxshow\"),d)ce.style(e,r,d[r])})),u=vt(g?v[r]:0,r,p),r in v||(v[r]=u.start,g&&(u.end=u.start,u.start=0))}],prefilter:function(e,t){t?yt.prefilters.unshift(e):yt.prefilters.push(e)}}),ce.speed=function(e,t,n){var r=e&&\"object\"==typeof e?ce.extend({},e):{complete:n||!n&&t||v(e)&&e,duration:e,easing:n&&t||t&&!v(t)&&t};return ce.fx.off?r.duration=0:\"number\"!=typeof r.duration&&(r.duration in ce.fx.speeds?r.duration=ce.fx.speeds[r.duration]:r.duration=ce.fx.speeds._default),null!=r.queue&&!0!==r.queue||(r.queue=\"fx\"),r.old=r.complete,r.complete=function(){v(r.old)&&r.old.call(this),r.queue&&ce.dequeue(this,r.queue)},r},ce.fn.extend({fadeTo:function(e,t,n,r){return this.filter(ee).css(\"opacity\",0).show().end().animate({opacity:t},e,n,r)},animate:function(t,e,n,r){var i=ce.isEmptyObject(t),o=ce.speed(e,n,r),a=function(){var e=yt(this,ce.extend({},t),o);(i||_.get(this,\"finish\"))&&e.stop(!0)};return a.finish=a,i||!1===o.queue?this.each(a):this.queue(o.queue,a)},stop:function(i,e,o){var a=function(e){var t=e.stop;delete e.stop,t(o)};return\"string\"!=typeof i&&(o=e,e=i,i=void 0),e&&this.queue(i||\"fx\",[]),this.each(function(){var e=!0,t=null!=i&&i+\"queueHooks\",n=ce.timers,r=_.get(this);if(t)r[t]&&r[t].stop&&a(r[t]);else for(t in r)r[t]&&r[t].stop&&pt.test(t)&&a(r[t]);for(t=n.length;t--;)n[t].elem!==this||null!=i&&n[t].queue!==i||(n[t].anim.stop(o),e=!1,n.splice(t,1));!e&&o||ce.dequeue(this,i)})},finish:function(a){return!1!==a&&(a=a||\"fx\"),this.each(function(){var e,t=_.get(this),n=t[a+\"queue\"],r=t[a+\"queueHooks\"],i=ce.timers,o=n?n.length:0;for(t.finish=!0,ce.queue(this,a,[]),r&&r.stop&&r.stop.call(this,!0),e=i.length;e--;)i[e].elem===this&&i[e].queue===a&&(i[e].anim.stop(!0),i.splice(e,1));for(e=0;e<o;e++)n[e]&&n[e].finish&&n[e].finish.call(this);delete t.finish})}}),ce.each([\"toggle\",\"show\",\"hide\"],function(e,r){var i=ce.fn[r];ce.fn[r]=function(e,t,n){return null==e||\"boolean\"==typeof e?i.apply(this,arguments):this.animate(gt(r,!0),e,t,n)}}),ce.each({slideDown:gt(\"show\"),slideUp:gt(\"hide\"),slideToggle:gt(\"toggle\"),fadeIn:{opacity:\"show\"},fadeOut:{opacity:\"hide\"},fadeToggle:{opacity:\"toggle\"}},function(e,r){ce.fn[e]=function(e,t,n){return this.animate(r,e,t,n)}}),ce.timers=[],ce.fx.tick=function(){var e,t=0,n=ce.timers;for(st=Date.now();t<n.length;t++)(e=n[t])()||n[t]!==e||n.splice(t--,1);n.length||ce.fx.stop(),st=void 0},ce.fx.timer=function(e){ce.timers.push(e),ce.fx.start()},ce.fx.interval=13,ce.fx.start=function(){ut||(ut=!0,dt())},ce.fx.stop=function(){ut=null},ce.fx.speeds={slow:600,fast:200,_default:400},ce.fn.delay=function(r,e){return r=ce.fx&&ce.fx.speeds[r]||r,e=e||\"fx\",this.queue(e,function(e,t){var n=ie.setTimeout(e,r);t.stop=function(){ie.clearTimeout(n)}})},lt=C.createElement(\"input\"),ct=C.createElement(\"select\").appendChild(C.createElement(\"option\")),lt.type=\"checkbox\",le.checkOn=\"\"!==lt.value,le.optSelected=ct.selected,(lt=C.createElement(\"input\")).value=\"t\",lt.type=\"radio\",le.radioValue=\"t\"===lt.value;var mt,xt=ce.expr.attrHandle;ce.fn.extend({attr:function(e,t){return M(this,ce.attr,e,t,1<arguments.length)},removeAttr:function(e){return this.each(function(){ce.removeAttr(this,e)})}}),ce.extend({attr:function(e,t,n){var r,i,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return\"undefined\"==typeof e.getAttribute?ce.prop(e,t,n):(1===o&&ce.isXMLDoc(e)||(i=ce.attrHooks[t.toLowerCase()]||(ce.expr.match.bool.test(t)?mt:void 0)),void 0!==n?null===n?void ce.removeAttr(e,t):i&&\"set\"in i&&void 0!==(r=i.set(e,n,t))?r:(e.setAttribute(t,n+\"\"),n):i&&\"get\"in i&&null!==(r=i.get(e,t))?r:null==(r=ce.find.attr(e,t))?void 0:r)},attrHooks:{type:{set:function(e,t){if(!le.radioValue&&\"radio\"===t&&fe(e,\"input\")){var n=e.value;return e.setAttribute(\"type\",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,r=0,i=t&&t.match(D);if(i&&1===e.nodeType)while(n=i[r++])e.removeAttribute(n)}}),mt={set:function(e,t,n){return!1===t?ce.removeAttr(e,n):e.setAttribute(n,n),n}},ce.each(ce.expr.match.bool.source.match(/\\w+/g),function(e,t){var a=xt[t]||ce.find.attr;xt[t]=function(e,t,n){var r,i,o=t.toLowerCase();return n||(i=xt[o],xt[o]=r,r=null!=a(e,t,n)?o:null,xt[o]=i),r}});var bt=/^(?:input|select|textarea|button)$/i,wt=/^(?:a|area)$/i;function Tt(e){return(e.match(D)||[]).join(\" \")}function Ct(e){return e.getAttribute&&e.getAttribute(\"class\")||\"\"}function kt(e){return Array.isArray(e)?e:\"string\"==typeof e&&e.match(D)||[]}ce.fn.extend({prop:function(e,t){return M(this,ce.prop,e,t,1<arguments.length)},removeProp:function(e){return this.each(function(){delete this[ce.propFix[e]||e]})}}),ce.extend({prop:function(e,t,n){var r,i,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&ce.isXMLDoc(e)||(t=ce.propFix[t]||t,i=ce.propHooks[t]),void 0!==n?i&&\"set\"in i&&void 0!==(r=i.set(e,n,t))?r:e[t]=n:i&&\"get\"in i&&null!==(r=i.get(e,t))?r:e[t]},propHooks:{tabIndex:{get:function(e){var t=ce.find.attr(e,\"tabindex\");return t?parseInt(t,10):bt.test(e.nodeName)||wt.test(e.nodeName)&&e.href?0:-1}}},propFix:{\"for\":\"htmlFor\",\"class\":\"className\"}}),le.optSelected||(ce.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),ce.each([\"tabIndex\",\"readOnly\",\"maxLength\",\"cellSpacing\",\"cellPadding\",\"rowSpan\",\"colSpan\",\"useMap\",\"frameBorder\",\"contentEditable\"],function(){ce.propFix[this.toLowerCase()]=this}),ce.fn.extend({addClass:function(t){var e,n,r,i,o,a;return v(t)?this.each(function(e){ce(this).addClass(t.call(this,e,Ct(this)))}):(e=kt(t)).length?this.each(function(){if(r=Ct(this),n=1===this.nodeType&&\" \"+Tt(r)+\" \"){for(o=0;o<e.length;o++)i=e[o],n.indexOf(\" \"+i+\" \")<0&&(n+=i+\" \");a=Tt(n),r!==a&&this.setAttribute(\"class\",a)}}):this},removeClass:function(t){var e,n,r,i,o,a;return v(t)?this.each(function(e){ce(this).removeClass(t.call(this,e,Ct(this)))}):arguments.length?(e=kt(t)).length?this.each(function(){if(r=Ct(this),n=1===this.nodeType&&\" \"+Tt(r)+\" \"){for(o=0;o<e.length;o++){i=e[o];while(-1<n.indexOf(\" \"+i+\" \"))n=n.replace(\" \"+i+\" \",\" \")}a=Tt(n),r!==a&&this.setAttribute(\"class\",a)}}):this:this.attr(\"class\",\"\")},toggleClass:function(t,n){var e,r,i,o,a=typeof t,s=\"string\"===a||Array.isArray(t);return v(t)?this.each(function(e){ce(this).toggleClass(t.call(this,e,Ct(this),n),n)}):\"boolean\"==typeof n&&s?n?this.addClass(t):this.removeClass(t):(e=kt(t),this.each(function(){if(s)for(o=ce(this),i=0;i<e.length;i++)r=e[i],o.hasClass(r)?o.removeClass(r):o.addClass(r);else void 0!==t&&\"boolean\"!==a||((r=Ct(this))&&_.set(this,\"__className__\",r),this.setAttribute&&this.setAttribute(\"class\",r||!1===t?\"\":_.get(this,\"__className__\")||\"\"))}))},hasClass:function(e){var t,n,r=0;t=\" \"+e+\" \";while(n=this[r++])if(1===n.nodeType&&-1<(\" \"+Tt(Ct(n))+\" \").indexOf(t))return!0;return!1}});var St=/\\r/g;ce.fn.extend({val:function(n){var r,e,i,t=this[0];return arguments.length?(i=v(n),this.each(function(e){var t;1===this.nodeType&&(null==(t=i?n.call(this,e,ce(this).val()):n)?t=\"\":\"number\"==typeof t?t+=\"\":Array.isArray(t)&&(t=ce.map(t,function(e){return null==e?\"\":e+\"\"})),(r=ce.valHooks[this.type]||ce.valHooks[this.nodeName.toLowerCase()])&&\"set\"in r&&void 0!==r.set(this,t,\"value\")||(this.value=t))})):t?(r=ce.valHooks[t.type]||ce.valHooks[t.nodeName.toLowerCase()])&&\"get\"in r&&void 0!==(e=r.get(t,\"value\"))?e:\"string\"==typeof(e=t.value)?e.replace(St,\"\"):null==e?\"\":e:void 0}}),ce.extend({valHooks:{option:{get:function(e){var t=ce.find.attr(e,\"value\");return null!=t?t:Tt(ce.text(e))}},select:{get:function(e){var t,n,r,i=e.options,o=e.selectedIndex,a=\"select-one\"===e.type,s=a?null:[],u=a?o+1:i.length;for(r=o<0?u:a?o:0;r<u;r++)if(((n=i[r]).selected||r===o)&&!n.disabled&&(!n.parentNode.disabled||!fe(n.parentNode,\"optgroup\"))){if(t=ce(n).val(),a)return t;s.push(t)}return s},set:function(e,t){var n,r,i=e.options,o=ce.makeArray(t),a=i.length;while(a--)((r=i[a]).selected=-1<ce.inArray(ce.valHooks.option.get(r),o))&&(n=!0);return n||(e.selectedIndex=-1),o}}}}),ce.each([\"radio\",\"checkbox\"],function(){ce.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=-1<ce.inArray(ce(e).val(),t)}},le.checkOn||(ce.valHooks[this].get=function(e){return null===e.getAttribute(\"value\")?\"on\":e.value})});var Et=ie.location,jt={guid:Date.now()},At=/\\?/;ce.parseXML=function(e){var t,n;if(!e||\"string\"!=typeof e)return null;try{t=(new ie.DOMParser).parseFromString(e,\"text/xml\")}catch(e){}return n=t&&t.getElementsByTagName(\"parsererror\")[0],t&&!n||ce.error(\"Invalid XML: \"+(n?ce.map(n.childNodes,function(e){return e.textContent}).join(\"\\n\"):e)),t};var Dt=/^(?:focusinfocus|focusoutblur)$/,Nt=function(e){e.stopPropagation()};ce.extend(ce.event,{trigger:function(e,t,n,r){var i,o,a,s,u,l,c,f,p=[n||C],d=ue.call(e,\"type\")?e.type:e,h=ue.call(e,\"namespace\")?e.namespace.split(\".\"):[];if(o=f=a=n=n||C,3!==n.nodeType&&8!==n.nodeType&&!Dt.test(d+ce.event.triggered)&&(-1<d.indexOf(\".\")&&(d=(h=d.split(\".\")).shift(),h.sort()),u=d.indexOf(\":\")<0&&\"on\"+d,(e=e[ce.expando]?e:new ce.Event(d,\"object\"==typeof e&&e)).isTrigger=r?2:3,e.namespace=h.join(\".\"),e.rnamespace=e.namespace?new RegExp(\"(^|\\\\.)\"+h.join(\"\\\\.(?:.*\\\\.|)\")+\"(\\\\.|$)\"):null,e.result=void 0,e.target||(e.target=n),t=null==t?[e]:ce.makeArray(t,[e]),c=ce.event.special[d]||{},r||!c.trigger||!1!==c.trigger.apply(n,t))){if(!r&&!c.noBubble&&!y(n)){for(s=c.delegateType||d,Dt.test(s+d)||(o=o.parentNode);o;o=o.parentNode)p.push(o),a=o;a===(n.ownerDocument||C)&&p.push(a.defaultView||a.parentWindow||ie)}i=0;while((o=p[i++])&&!e.isPropagationStopped())f=o,e.type=1<i?s:c.bindType||d,(l=(_.get(o,\"events\")||Object.create(null))[e.type]&&_.get(o,\"handle\"))&&l.apply(o,t),(l=u&&o[u])&&l.apply&&$(o)&&(e.result=l.apply(o,t),!1===e.result&&e.preventDefault());return e.type=d,r||e.isDefaultPrevented()||c._default&&!1!==c._default.apply(p.pop(),t)||!$(n)||u&&v(n[d])&&!y(n)&&((a=n[u])&&(n[u]=null),ce.event.triggered=d,e.isPropagationStopped()&&f.addEventListener(d,Nt),n[d](),e.isPropagationStopped()&&f.removeEventListener(d,Nt),ce.event.triggered=void 0,a&&(n[u]=a)),e.result}},simulate:function(e,t,n){var r=ce.extend(new ce.Event,n,{type:e,isSimulated:!0});ce.event.trigger(r,null,t)}}),ce.fn.extend({trigger:function(e,t){return this.each(function(){ce.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];if(n)return ce.event.trigger(e,t,n,!0)}});var qt=/\\[\\]$/,Lt=/\\r?\\n/g,Ht=/^(?:submit|button|image|reset|file)$/i,Ot=/^(?:input|select|textarea|keygen)/i;function Pt(n,e,r,i){var t;if(Array.isArray(e))ce.each(e,function(e,t){r||qt.test(n)?i(n,t):Pt(n+\"[\"+(\"object\"==typeof t&&null!=t?e:\"\")+\"]\",t,r,i)});else if(r||\"object\"!==x(e))i(n,e);else for(t in e)Pt(n+\"[\"+t+\"]\",e[t],r,i)}ce.param=function(e,t){var n,r=[],i=function(e,t){var n=v(t)?t():t;r[r.length]=encodeURIComponent(e)+\"=\"+encodeURIComponent(null==n?\"\":n)};if(null==e)return\"\";if(Array.isArray(e)||e.jquery&&!ce.isPlainObject(e))ce.each(e,function(){i(this.name,this.value)});else for(n in e)Pt(n,e[n],t,i);return r.join(\"&\")},ce.fn.extend({serialize:function(){return ce.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=ce.prop(this,\"elements\");return e?ce.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!ce(this).is(\":disabled\")&&Ot.test(this.nodeName)&&!Ht.test(e)&&(this.checked||!we.test(e))}).map(function(e,t){var n=ce(this).val();return null==n?null:Array.isArray(n)?ce.map(n,function(e){return{name:t.name,value:e.replace(Lt,\"\\r\\n\")}}):{name:t.name,value:n.replace(Lt,\"\\r\\n\")}}).get()}});var Mt=/%20/g,Rt=/#.*$/,It=/([?&])_=[^&]*/,Wt=/^(.*?):[ \\t]*([^\\r\\n]*)$/gm,Ft=/^(?:GET|HEAD)$/,$t=/^\\/\\//,Bt={},_t={},zt=\"*/\".concat(\"*\"),Xt=C.createElement(\"a\");function Ut(o){return function(e,t){\"string\"!=typeof e&&(t=e,e=\"*\");var n,r=0,i=e.toLowerCase().match(D)||[];if(v(t))while(n=i[r++])\"+\"===n[0]?(n=n.slice(1)||\"*\",(o[n]=o[n]||[]).unshift(t)):(o[n]=o[n]||[]).push(t)}}function Vt(t,i,o,a){var s={},u=t===_t;function l(e){var r;return s[e]=!0,ce.each(t[e]||[],function(e,t){var n=t(i,o,a);return\"string\"!=typeof n||u||s[n]?u?!(r=n):void 0:(i.dataTypes.unshift(n),l(n),!1)}),r}return l(i.dataTypes[0])||!s[\"*\"]&&l(\"*\")}function Gt(e,t){var n,r,i=ce.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((i[n]?e:r||(r={}))[n]=t[n]);return r&&ce.extend(!0,e,r),e}Xt.href=Et.href,ce.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Et.href,type:\"GET\",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(Et.protocol),global:!0,processData:!0,async:!0,contentType:\"application/x-www-form-urlencoded; charset=UTF-8\",accepts:{\"*\":zt,text:\"text/plain\",html:\"text/html\",xml:\"application/xml, text/xml\",json:\"application/json, text/javascript\"},contents:{xml:/\\bxml\\b/,html:/\\bhtml/,json:/\\bjson\\b/},responseFields:{xml:\"responseXML\",text:\"responseText\",json:\"responseJSON\"},converters:{\"* text\":String,\"text html\":!0,\"text json\":JSON.parse,\"text xml\":ce.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?Gt(Gt(e,ce.ajaxSettings),t):Gt(ce.ajaxSettings,e)},ajaxPrefilter:Ut(Bt),ajaxTransport:Ut(_t),ajax:function(e,t){\"object\"==typeof e&&(t=e,e=void 0),t=t||{};var c,f,p,n,d,r,h,g,i,o,v=ce.ajaxSetup({},t),y=v.context||v,m=v.context&&(y.nodeType||y.jquery)?ce(y):ce.event,x=ce.Deferred(),b=ce.Callbacks(\"once memory\"),w=v.statusCode||{},a={},s={},u=\"canceled\",T={readyState:0,getResponseHeader:function(e){var t;if(h){if(!n){n={};while(t=Wt.exec(p))n[t[1].toLowerCase()+\" \"]=(n[t[1].toLowerCase()+\" \"]||[]).concat(t[2])}t=n[e.toLowerCase()+\" \"]}return null==t?null:t.join(\", \")},getAllResponseHeaders:function(){return h?p:null},setRequestHeader:function(e,t){return null==h&&(e=s[e.toLowerCase()]=s[e.toLowerCase()]||e,a[e]=t),this},overrideMimeType:function(e){return null==h&&(v.mimeType=e),this},statusCode:function(e){var t;if(e)if(h)T.always(e[T.status]);else for(t in e)w[t]=[w[t],e[t]];return this},abort:function(e){var t=e||u;return c&&c.abort(t),l(0,t),this}};if(x.promise(T),v.url=((e||v.url||Et.href)+\"\").replace($t,Et.protocol+\"//\"),v.type=t.method||t.type||v.method||v.type,v.dataTypes=(v.dataType||\"*\").toLowerCase().match(D)||[\"\"],null==v.crossDomain){r=C.createElement(\"a\");try{r.href=v.url,r.href=r.href,v.crossDomain=Xt.protocol+\"//\"+Xt.host!=r.protocol+\"//\"+r.host}catch(e){v.crossDomain=!0}}if(v.data&&v.processData&&\"string\"!=typeof v.data&&(v.data=ce.param(v.data,v.traditional)),Vt(Bt,v,t,T),h)return T;for(i in(g=ce.event&&v.global)&&0==ce.active++&&ce.event.trigger(\"ajaxStart\"),v.type=v.type.toUpperCase(),v.hasContent=!Ft.test(v.type),f=v.url.replace(Rt,\"\"),v.hasContent?v.data&&v.processData&&0===(v.contentType||\"\").indexOf(\"application/x-www-form-urlencoded\")&&(v.data=v.data.replace(Mt,\"+\")):(o=v.url.slice(f.length),v.data&&(v.processData||\"string\"==typeof v.data)&&(f+=(At.test(f)?\"&\":\"?\")+v.data,delete v.data),!1===v.cache&&(f=f.replace(It,\"$1\"),o=(At.test(f)?\"&\":\"?\")+\"_=\"+jt.guid+++o),v.url=f+o),v.ifModified&&(ce.lastModified[f]&&T.setRequestHeader(\"If-Modified-Since\",ce.lastModified[f]),ce.etag[f]&&T.setRequestHeader(\"If-None-Match\",ce.etag[f])),(v.data&&v.hasContent&&!1!==v.contentType||t.contentType)&&T.setRequestHeader(\"Content-Type\",v.contentType),T.setRequestHeader(\"Accept\",v.dataTypes[0]&&v.accepts[v.dataTypes[0]]?v.accepts[v.dataTypes[0]]+(\"*\"!==v.dataTypes[0]?\", \"+zt+\"; q=0.01\":\"\"):v.accepts[\"*\"]),v.headers)T.setRequestHeader(i,v.headers[i]);if(v.beforeSend&&(!1===v.beforeSend.call(y,T,v)||h))return T.abort();if(u=\"abort\",b.add(v.complete),T.done(v.success),T.fail(v.error),c=Vt(_t,v,t,T)){if(T.readyState=1,g&&m.trigger(\"ajaxSend\",[T,v]),h)return T;v.async&&0<v.timeout&&(d=ie.setTimeout(function(){T.abort(\"timeout\")},v.timeout));try{h=!1,c.send(a,l)}catch(e){if(h)throw e;l(-1,e)}}else l(-1,\"No Transport\");function l(e,t,n,r){var i,o,a,s,u,l=t;h||(h=!0,d&&ie.clearTimeout(d),c=void 0,p=r||\"\",T.readyState=0<e?4:0,i=200<=e&&e<300||304===e,n&&(s=function(e,t,n){var r,i,o,a,s=e.contents,u=e.dataTypes;while(\"*\"===u[0])u.shift(),void 0===r&&(r=e.mimeType||t.getResponseHeader(\"Content-Type\"));if(r)for(i in s)if(s[i]&&s[i].test(r)){u.unshift(i);break}if(u[0]in n)o=u[0];else{for(i in n){if(!u[0]||e.converters[i+\" \"+u[0]]){o=i;break}a||(a=i)}o=o||a}if(o)return o!==u[0]&&u.unshift(o),n[o]}(v,T,n)),!i&&-1<ce.inArray(\"script\",v.dataTypes)&&ce.inArray(\"json\",v.dataTypes)<0&&(v.converters[\"text script\"]=function(){}),s=function(e,t,n,r){var i,o,a,s,u,l={},c=e.dataTypes.slice();if(c[1])for(a in e.converters)l[a.toLowerCase()]=e.converters[a];o=c.shift();while(o)if(e.responseFields[o]&&(n[e.responseFields[o]]=t),!u&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),u=o,o=c.shift())if(\"*\"===o)o=u;else if(\"*\"!==u&&u!==o){if(!(a=l[u+\" \"+o]||l[\"* \"+o]))for(i in l)if((s=i.split(\" \"))[1]===o&&(a=l[u+\" \"+s[0]]||l[\"* \"+s[0]])){!0===a?a=l[i]:!0!==l[i]&&(o=s[0],c.unshift(s[1]));break}if(!0!==a)if(a&&e[\"throws\"])t=a(t);else try{t=a(t)}catch(e){return{state:\"parsererror\",error:a?e:\"No conversion from \"+u+\" to \"+o}}}return{state:\"success\",data:t}}(v,s,T,i),i?(v.ifModified&&((u=T.getResponseHeader(\"Last-Modified\"))&&(ce.lastModified[f]=u),(u=T.getResponseHeader(\"etag\"))&&(ce.etag[f]=u)),204===e||\"HEAD\"===v.type?l=\"nocontent\":304===e?l=\"notmodified\":(l=s.state,o=s.data,i=!(a=s.error))):(a=l,!e&&l||(l=\"error\",e<0&&(e=0))),T.status=e,T.statusText=(t||l)+\"\",i?x.resolveWith(y,[o,l,T]):x.rejectWith(y,[T,l,a]),T.statusCode(w),w=void 0,g&&m.trigger(i?\"ajaxSuccess\":\"ajaxError\",[T,v,i?o:a]),b.fireWith(y,[T,l]),g&&(m.trigger(\"ajaxComplete\",[T,v]),--ce.active||ce.event.trigger(\"ajaxStop\")))}return T},getJSON:function(e,t,n){return ce.get(e,t,n,\"json\")},getScript:function(e,t){return ce.get(e,void 0,t,\"script\")}}),ce.each([\"get\",\"post\"],function(e,i){ce[i]=function(e,t,n,r){return v(t)&&(r=r||n,n=t,t=void 0),ce.ajax(ce.extend({url:e,type:i,dataType:r,data:t,success:n},ce.isPlainObject(e)&&e))}}),ce.ajaxPrefilter(function(e){var t;for(t in e.headers)\"content-type\"===t.toLowerCase()&&(e.contentType=e.headers[t]||\"\")}),ce._evalUrl=function(e,t,n){return ce.ajax({url:e,type:\"GET\",dataType:\"script\",cache:!0,async:!1,global:!1,converters:{\"text script\":function(){}},dataFilter:function(e){ce.globalEval(e,t,n)}})},ce.fn.extend({wrapAll:function(e){var t;return this[0]&&(v(e)&&(e=e.call(this[0])),t=ce(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){var e=this;while(e.firstElementChild)e=e.firstElementChild;return e}).append(this)),this},wrapInner:function(n){return v(n)?this.each(function(e){ce(this).wrapInner(n.call(this,e))}):this.each(function(){var e=ce(this),t=e.contents();t.length?t.wrapAll(n):e.append(n)})},wrap:function(t){var n=v(t);return this.each(function(e){ce(this).wrapAll(n?t.call(this,e):t)})},unwrap:function(e){return this.parent(e).not(\"body\").each(function(){ce(this).replaceWith(this.childNodes)}),this}}),ce.expr.pseudos.hidden=function(e){return!ce.expr.pseudos.visible(e)},ce.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},ce.ajaxSettings.xhr=function(){try{return new ie.XMLHttpRequest}catch(e){}};var Yt={0:200,1223:204},Qt=ce.ajaxSettings.xhr();le.cors=!!Qt&&\"withCredentials\"in Qt,le.ajax=Qt=!!Qt,ce.ajaxTransport(function(i){var o,a;if(le.cors||Qt&&!i.crossDomain)return{send:function(e,t){var n,r=i.xhr();if(r.open(i.type,i.url,i.async,i.username,i.password),i.xhrFields)for(n in i.xhrFields)r[n]=i.xhrFields[n];for(n in i.mimeType&&r.overrideMimeType&&r.overrideMimeType(i.mimeType),i.crossDomain||e[\"X-Requested-With\"]||(e[\"X-Requested-With\"]=\"XMLHttpRequest\"),e)r.setRequestHeader(n,e[n]);o=function(e){return function(){o&&(o=a=r.onload=r.onerror=r.onabort=r.ontimeout=r.onreadystatechange=null,\"abort\"===e?r.abort():\"error\"===e?\"number\"!=typeof r.status?t(0,\"error\"):t(r.status,r.statusText):t(Yt[r.status]||r.status,r.statusText,\"text\"!==(r.responseType||\"text\")||\"string\"!=typeof r.responseText?{binary:r.response}:{text:r.responseText},r.getAllResponseHeaders()))}},r.onload=o(),a=r.onerror=r.ontimeout=o(\"error\"),void 0!==r.onabort?r.onabort=a:r.onreadystatechange=function(){4===r.readyState&&ie.setTimeout(function(){o&&a()})},o=o(\"abort\");try{r.send(i.hasContent&&i.data||null)}catch(e){if(o)throw e}},abort:function(){o&&o()}}}),ce.ajaxPrefilter(function(e){e.crossDomain&&(e.contents.script=!1)}),ce.ajaxSetup({accepts:{script:\"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript\"},contents:{script:/\\b(?:java|ecma)script\\b/},converters:{\"text script\":function(e){return ce.globalEval(e),e}}}),ce.ajaxPrefilter(\"script\",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type=\"GET\")}),ce.ajaxTransport(\"script\",function(n){var r,i;if(n.crossDomain||n.scriptAttrs)return{send:function(e,t){r=ce(\"<script>\").attr(n.scriptAttrs||{}).prop({charset:n.scriptCharset,src:n.url}).on(\"load error\",i=function(e){r.remove(),i=null,e&&t(\"error\"===e.type?404:200,e.type)}),C.head.appendChild(r[0])},abort:function(){i&&i()}}});var Jt,Kt=[],Zt=/(=)\\?(?=&|$)|\\?\\?/;ce.ajaxSetup({jsonp:\"callback\",jsonpCallback:function(){var e=Kt.pop()||ce.expando+\"_\"+jt.guid++;return this[e]=!0,e}}),ce.ajaxPrefilter(\"json jsonp\",function(e,t,n){var r,i,o,a=!1!==e.jsonp&&(Zt.test(e.url)?\"url\":\"string\"==typeof e.data&&0===(e.contentType||\"\").indexOf(\"application/x-www-form-urlencoded\")&&Zt.test(e.data)&&\"data\");if(a||\"jsonp\"===e.dataTypes[0])return r=e.jsonpCallback=v(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,a?e[a]=e[a].replace(Zt,\"$1\"+r):!1!==e.jsonp&&(e.url+=(At.test(e.url)?\"&\":\"?\")+e.jsonp+\"=\"+r),e.converters[\"script json\"]=function(){return o||ce.error(r+\" was not called\"),o[0]},e.dataTypes[0]=\"json\",i=ie[r],ie[r]=function(){o=arguments},n.always(function(){void 0===i?ce(ie).removeProp(r):ie[r]=i,e[r]&&(e.jsonpCallback=t.jsonpCallback,Kt.push(r)),o&&v(i)&&i(o[0]),o=i=void 0}),\"script\"}),le.createHTMLDocument=((Jt=C.implementation.createHTMLDocument(\"\").body).innerHTML=\"<form></form><form></form>\",2===Jt.childNodes.length),ce.parseHTML=function(e,t,n){return\"string\"!=typeof e?[]:(\"boolean\"==typeof t&&(n=t,t=!1),t||(le.createHTMLDocument?((r=(t=C.implementation.createHTMLDocument(\"\")).createElement(\"base\")).href=C.location.href,t.head.appendChild(r)):t=C),o=!n&&[],(i=w.exec(e))?[t.createElement(i[1])]:(i=Ae([e],t,o),o&&o.length&&ce(o).remove(),ce.merge([],i.childNodes)));var r,i,o},ce.fn.load=function(e,t,n){var r,i,o,a=this,s=e.indexOf(\" \");return-1<s&&(r=Tt(e.slice(s)),e=e.slice(0,s)),v(t)?(n=t,t=void 0):t&&\"object\"==typeof t&&(i=\"POST\"),0<a.length&&ce.ajax({url:e,type:i||\"GET\",dataType:\"html\",data:t}).done(function(e){o=arguments,a.html(r?ce(\"<div>\").append(ce.parseHTML(e)).find(r):e)}).always(n&&function(e,t){a.each(function(){n.apply(this,o||[e.responseText,t,e])})}),this},ce.expr.pseudos.animated=function(t){return ce.grep(ce.timers,function(e){return t===e.elem}).length},ce.offset={setOffset:function(e,t,n){var r,i,o,a,s,u,l=ce.css(e,\"position\"),c=ce(e),f={};\"static\"===l&&(e.style.position=\"relative\"),s=c.offset(),o=ce.css(e,\"top\"),u=ce.css(e,\"left\"),(\"absolute\"===l||\"fixed\"===l)&&-1<(o+u).indexOf(\"auto\")?(a=(r=c.position()).top,i=r.left):(a=parseFloat(o)||0,i=parseFloat(u)||0),v(t)&&(t=t.call(e,n,ce.extend({},s))),null!=t.top&&(f.top=t.top-s.top+a),null!=t.left&&(f.left=t.left-s.left+i),\"using\"in t?t.using.call(e,f):c.css(f)}},ce.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each(function(e){ce.offset.setOffset(this,t,e)});var e,n,r=this[0];return r?r.getClientRects().length?(e=r.getBoundingClientRect(),n=r.ownerDocument.defaultView,{top:e.top+n.pageYOffset,left:e.left+n.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var e,t,n,r=this[0],i={top:0,left:0};if(\"fixed\"===ce.css(r,\"position\"))t=r.getBoundingClientRect();else{t=this.offset(),n=r.ownerDocument,e=r.offsetParent||n.documentElement;while(e&&(e===n.body||e===n.documentElement)&&\"static\"===ce.css(e,\"position\"))e=e.parentNode;e&&e!==r&&1===e.nodeType&&((i=ce(e).offset()).top+=ce.css(e,\"borderTopWidth\",!0),i.left+=ce.css(e,\"borderLeftWidth\",!0))}return{top:t.top-i.top-ce.css(r,\"marginTop\",!0),left:t.left-i.left-ce.css(r,\"marginLeft\",!0)}}},offsetParent:function(){return this.map(function(){var e=this.offsetParent;while(e&&\"static\"===ce.css(e,\"position\"))e=e.offsetParent;return e||J})}}),ce.each({scrollLeft:\"pageXOffset\",scrollTop:\"pageYOffset\"},function(t,i){var o=\"pageYOffset\"===i;ce.fn[t]=function(e){return M(this,function(e,t,n){var r;if(y(e)?r=e:9===e.nodeType&&(r=e.defaultView),void 0===n)return r?r[i]:e[t];r?r.scrollTo(o?r.pageXOffset:n,o?n:r.pageYOffset):e[t]=n},t,e,arguments.length)}}),ce.each([\"top\",\"left\"],function(e,n){ce.cssHooks[n]=Ye(le.pixelPosition,function(e,t){if(t)return t=Ge(e,n),_e.test(t)?ce(e).position()[n]+\"px\":t})}),ce.each({Height:\"height\",Width:\"width\"},function(a,s){ce.each({padding:\"inner\"+a,content:s,\"\":\"outer\"+a},function(r,o){ce.fn[o]=function(e,t){var n=arguments.length&&(r||\"boolean\"!=typeof e),i=r||(!0===e||!0===t?\"margin\":\"border\");return M(this,function(e,t,n){var r;return y(e)?0===o.indexOf(\"outer\")?e[\"inner\"+a]:e.document.documentElement[\"client\"+a]:9===e.nodeType?(r=e.documentElement,Math.max(e.body[\"scroll\"+a],r[\"scroll\"+a],e.body[\"offset\"+a],r[\"offset\"+a],r[\"client\"+a])):void 0===n?ce.css(e,t,i):ce.style(e,t,n,i)},s,n?e:void 0,n)}})}),ce.each([\"ajaxStart\",\"ajaxStop\",\"ajaxComplete\",\"ajaxError\",\"ajaxSuccess\",\"ajaxSend\"],function(e,t){ce.fn[t]=function(e){return this.on(t,e)}}),ce.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,\"**\"):this.off(t,e||\"**\",n)},hover:function(e,t){return this.on(\"mouseenter\",e).on(\"mouseleave\",t||e)}}),ce.each(\"blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu\".split(\" \"),function(e,n){ce.fn[n]=function(e,t){return 0<arguments.length?this.on(n,null,e,t):this.trigger(n)}});var en=/^[\\s\\uFEFF\\xA0]+|([^\\s\\uFEFF\\xA0])[\\s\\uFEFF\\xA0]+$/g;ce.proxy=function(e,t){var n,r,i;if(\"string\"==typeof t&&(n=e[t],t=e,e=n),v(e))return r=ae.call(arguments,2),(i=function(){return e.apply(t||this,r.concat(ae.call(arguments)))}).guid=e.guid=e.guid||ce.guid++,i},ce.holdReady=function(e){e?ce.readyWait++:ce.ready(!0)},ce.isArray=Array.isArray,ce.parseJSON=JSON.parse,ce.nodeName=fe,ce.isFunction=v,ce.isWindow=y,ce.camelCase=F,ce.type=x,ce.now=Date.now,ce.isNumeric=function(e){var t=ce.type(e);return(\"number\"===t||\"string\"===t)&&!isNaN(e-parseFloat(e))},ce.trim=function(e){return null==e?\"\":(e+\"\").replace(en,\"$1\")},\"function\"==typeof define&&define.amd&&define(\"jquery\",[],function(){return ce});var tn=ie.jQuery,nn=ie.$;return ce.noConflict=function(e){return ie.$===ce&&(ie.$=nn),e&&ie.jQuery===ce&&(ie.jQuery=tn),ce},\"undefined\"==typeof e&&(ie.jQuery=ie.$=ce),ce});\n","/**\n * @popperjs/core v2.11.8 - MIT License\n */\n\n!function(e,t){\"object\"==typeof exports&&\"undefined\"!=typeof module?t(exports):\"function\"==typeof define&&define.amd?define([\"exports\"],t):t((e=\"undefined\"!=typeof globalThis?globalThis:e||self).Popper={})}(this,(function(e){\"use strict\";function t(e){if(null==e)return window;if(\"[object Window]\"!==e.toString()){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function n(e){return e instanceof t(e).Element||e instanceof Element}function r(e){return e instanceof t(e).HTMLElement||e instanceof HTMLElement}function o(e){return\"undefined\"!=typeof ShadowRoot&&(e instanceof t(e).ShadowRoot||e instanceof ShadowRoot)}var i=Math.max,a=Math.min,s=Math.round;function f(){var e=navigator.userAgentData;return null!=e&&e.brands&&Array.isArray(e.brands)?e.brands.map((function(e){return e.brand+\"/\"+e.version})).join(\" \"):navigator.userAgent}function c(){return!/^((?!chrome|android).)*safari/i.test(f())}function p(e,o,i){void 0===o&&(o=!1),void 0===i&&(i=!1);var a=e.getBoundingClientRect(),f=1,p=1;o&&r(e)&&(f=e.offsetWidth>0&&s(a.width)/e.offsetWidth||1,p=e.offsetHeight>0&&s(a.height)/e.offsetHeight||1);var u=(n(e)?t(e):window).visualViewport,l=!c()&&i,d=(a.left+(l&&u?u.offsetLeft:0))/f,h=(a.top+(l&&u?u.offsetTop:0))/p,m=a.width/f,v=a.height/p;return{width:m,height:v,top:h,right:d+m,bottom:h+v,left:d,x:d,y:h}}function u(e){var n=t(e);return{scrollLeft:n.pageXOffset,scrollTop:n.pageYOffset}}function l(e){return e?(e.nodeName||\"\").toLowerCase():null}function d(e){return((n(e)?e.ownerDocument:e.document)||window.document).documentElement}function h(e){return p(d(e)).left+u(e).scrollLeft}function m(e){return t(e).getComputedStyle(e)}function v(e){var t=m(e),n=t.overflow,r=t.overflowX,o=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+o+r)}function y(e,n,o){void 0===o&&(o=!1);var i,a,f=r(n),c=r(n)&&function(e){var t=e.getBoundingClientRect(),n=s(t.width)/e.offsetWidth||1,r=s(t.height)/e.offsetHeight||1;return 1!==n||1!==r}(n),m=d(n),y=p(e,c,o),g={scrollLeft:0,scrollTop:0},b={x:0,y:0};return(f||!f&&!o)&&((\"body\"!==l(n)||v(m))&&(g=(i=n)!==t(i)&&r(i)?{scrollLeft:(a=i).scrollLeft,scrollTop:a.scrollTop}:u(i)),r(n)?((b=p(n,!0)).x+=n.clientLeft,b.y+=n.clientTop):m&&(b.x=h(m))),{x:y.left+g.scrollLeft-b.x,y:y.top+g.scrollTop-b.y,width:y.width,height:y.height}}function g(e){var t=p(e),n=e.offsetWidth,r=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:r}}function b(e){return\"html\"===l(e)?e:e.assignedSlot||e.parentNode||(o(e)?e.host:null)||d(e)}function x(e){return[\"html\",\"body\",\"#document\"].indexOf(l(e))>=0?e.ownerDocument.body:r(e)&&v(e)?e:x(b(e))}function w(e,n){var r;void 0===n&&(n=[]);var o=x(e),i=o===(null==(r=e.ownerDocument)?void 0:r.body),a=t(o),s=i?[a].concat(a.visualViewport||[],v(o)?o:[]):o,f=n.concat(s);return i?f:f.concat(w(b(s)))}function O(e){return[\"table\",\"td\",\"th\"].indexOf(l(e))>=0}function j(e){return r(e)&&\"fixed\"!==m(e).position?e.offsetParent:null}function E(e){for(var n=t(e),i=j(e);i&&O(i)&&\"static\"===m(i).position;)i=j(i);return i&&(\"html\"===l(i)||\"body\"===l(i)&&\"static\"===m(i).position)?n:i||function(e){var t=/firefox/i.test(f());if(/Trident/i.test(f())&&r(e)&&\"fixed\"===m(e).position)return null;var n=b(e);for(o(n)&&(n=n.host);r(n)&&[\"html\",\"body\"].indexOf(l(n))<0;){var i=m(n);if(\"none\"!==i.transform||\"none\"!==i.perspective||\"paint\"===i.contain||-1!==[\"transform\",\"perspective\"].indexOf(i.willChange)||t&&\"filter\"===i.willChange||t&&i.filter&&\"none\"!==i.filter)return n;n=n.parentNode}return null}(e)||n}var D=\"top\",A=\"bottom\",L=\"right\",P=\"left\",M=\"auto\",k=[D,A,L,P],W=\"start\",B=\"end\",H=\"viewport\",T=\"popper\",R=k.reduce((function(e,t){return e.concat([t+\"-\"+W,t+\"-\"+B])}),[]),S=[].concat(k,[M]).reduce((function(e,t){return e.concat([t,t+\"-\"+W,t+\"-\"+B])}),[]),V=[\"beforeRead\",\"read\",\"afterRead\",\"beforeMain\",\"main\",\"afterMain\",\"beforeWrite\",\"write\",\"afterWrite\"];function q(e){var t=new Map,n=new Set,r=[];function o(e){n.add(e.name),[].concat(e.requires||[],e.requiresIfExists||[]).forEach((function(e){if(!n.has(e)){var r=t.get(e);r&&o(r)}})),r.push(e)}return e.forEach((function(e){t.set(e.name,e)})),e.forEach((function(e){n.has(e.name)||o(e)})),r}function C(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&o(n)){var r=t;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function N(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function I(e,r,o){return r===H?N(function(e,n){var r=t(e),o=d(e),i=r.visualViewport,a=o.clientWidth,s=o.clientHeight,f=0,p=0;if(i){a=i.width,s=i.height;var u=c();(u||!u&&\"fixed\"===n)&&(f=i.offsetLeft,p=i.offsetTop)}return{width:a,height:s,x:f+h(e),y:p}}(e,o)):n(r)?function(e,t){var n=p(e,!1,\"fixed\"===t);return n.top=n.top+e.clientTop,n.left=n.left+e.clientLeft,n.bottom=n.top+e.clientHeight,n.right=n.left+e.clientWidth,n.width=e.clientWidth,n.height=e.clientHeight,n.x=n.left,n.y=n.top,n}(r,o):N(function(e){var t,n=d(e),r=u(e),o=null==(t=e.ownerDocument)?void 0:t.body,a=i(n.scrollWidth,n.clientWidth,o?o.scrollWidth:0,o?o.clientWidth:0),s=i(n.scrollHeight,n.clientHeight,o?o.scrollHeight:0,o?o.clientHeight:0),f=-r.scrollLeft+h(e),c=-r.scrollTop;return\"rtl\"===m(o||n).direction&&(f+=i(n.clientWidth,o?o.clientWidth:0)-a),{width:a,height:s,x:f,y:c}}(d(e)))}function _(e,t,o,s){var f=\"clippingParents\"===t?function(e){var t=w(b(e)),o=[\"absolute\",\"fixed\"].indexOf(m(e).position)>=0&&r(e)?E(e):e;return n(o)?t.filter((function(e){return n(e)&&C(e,o)&&\"body\"!==l(e)})):[]}(e):[].concat(t),c=[].concat(f,[o]),p=c[0],u=c.reduce((function(t,n){var r=I(e,n,s);return t.top=i(r.top,t.top),t.right=a(r.right,t.right),t.bottom=a(r.bottom,t.bottom),t.left=i(r.left,t.left),t}),I(e,p,s));return u.width=u.right-u.left,u.height=u.bottom-u.top,u.x=u.left,u.y=u.top,u}function F(e){return e.split(\"-\")[0]}function U(e){return e.split(\"-\")[1]}function z(e){return[\"top\",\"bottom\"].indexOf(e)>=0?\"x\":\"y\"}function X(e){var t,n=e.reference,r=e.element,o=e.placement,i=o?F(o):null,a=o?U(o):null,s=n.x+n.width/2-r.width/2,f=n.y+n.height/2-r.height/2;switch(i){case D:t={x:s,y:n.y-r.height};break;case A:t={x:s,y:n.y+n.height};break;case L:t={x:n.x+n.width,y:f};break;case P:t={x:n.x-r.width,y:f};break;default:t={x:n.x,y:n.y}}var c=i?z(i):null;if(null!=c){var p=\"y\"===c?\"height\":\"width\";switch(a){case W:t[c]=t[c]-(n[p]/2-r[p]/2);break;case B:t[c]=t[c]+(n[p]/2-r[p]/2)}}return t}function Y(e){return Object.assign({},{top:0,right:0,bottom:0,left:0},e)}function G(e,t){return t.reduce((function(t,n){return t[n]=e,t}),{})}function J(e,t){void 0===t&&(t={});var r=t,o=r.placement,i=void 0===o?e.placement:o,a=r.strategy,s=void 0===a?e.strategy:a,f=r.boundary,c=void 0===f?\"clippingParents\":f,u=r.rootBoundary,l=void 0===u?H:u,h=r.elementContext,m=void 0===h?T:h,v=r.altBoundary,y=void 0!==v&&v,g=r.padding,b=void 0===g?0:g,x=Y(\"number\"!=typeof b?b:G(b,k)),w=m===T?\"reference\":T,O=e.rects.popper,j=e.elements[y?w:m],E=_(n(j)?j:j.contextElement||d(e.elements.popper),c,l,s),P=p(e.elements.reference),M=X({reference:P,element:O,strategy:\"absolute\",placement:i}),W=N(Object.assign({},O,M)),B=m===T?W:P,R={top:E.top-B.top+x.top,bottom:B.bottom-E.bottom+x.bottom,left:E.left-B.left+x.left,right:B.right-E.right+x.right},S=e.modifiersData.offset;if(m===T&&S){var V=S[i];Object.keys(R).forEach((function(e){var t=[L,A].indexOf(e)>=0?1:-1,n=[D,A].indexOf(e)>=0?\"y\":\"x\";R[e]+=V[n]*t}))}return R}var K={placement:\"bottom\",modifiers:[],strategy:\"absolute\"};function Q(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some((function(e){return!(e&&\"function\"==typeof e.getBoundingClientRect)}))}function Z(e){void 0===e&&(e={});var t=e,r=t.defaultModifiers,o=void 0===r?[]:r,i=t.defaultOptions,a=void 0===i?K:i;return function(e,t,r){void 0===r&&(r=a);var i,s,f={placement:\"bottom\",orderedModifiers:[],options:Object.assign({},K,a),modifiersData:{},elements:{reference:e,popper:t},attributes:{},styles:{}},c=[],p=!1,u={state:f,setOptions:function(r){var i=\"function\"==typeof r?r(f.options):r;l(),f.options=Object.assign({},a,f.options,i),f.scrollParents={reference:n(e)?w(e):e.contextElement?w(e.contextElement):[],popper:w(t)};var s,p,d=function(e){var t=q(e);return V.reduce((function(e,n){return e.concat(t.filter((function(e){return e.phase===n})))}),[])}((s=[].concat(o,f.options.modifiers),p=s.reduce((function(e,t){var n=e[t.name];return e[t.name]=n?Object.assign({},n,t,{options:Object.assign({},n.options,t.options),data:Object.assign({},n.data,t.data)}):t,e}),{}),Object.keys(p).map((function(e){return p[e]}))));return f.orderedModifiers=d.filter((function(e){return e.enabled})),f.orderedModifiers.forEach((function(e){var t=e.name,n=e.options,r=void 0===n?{}:n,o=e.effect;if(\"function\"==typeof o){var i=o({state:f,name:t,instance:u,options:r}),a=function(){};c.push(i||a)}})),u.update()},forceUpdate:function(){if(!p){var e=f.elements,t=e.reference,n=e.popper;if(Q(t,n)){f.rects={reference:y(t,E(n),\"fixed\"===f.options.strategy),popper:g(n)},f.reset=!1,f.placement=f.options.placement,f.orderedModifiers.forEach((function(e){return f.modifiersData[e.name]=Object.assign({},e.data)}));for(var r=0;r<f.orderedModifiers.length;r++)if(!0!==f.reset){var o=f.orderedModifiers[r],i=o.fn,a=o.options,s=void 0===a?{}:a,c=o.name;\"function\"==typeof i&&(f=i({state:f,options:s,name:c,instance:u})||f)}else f.reset=!1,r=-1}}},update:(i=function(){return new Promise((function(e){u.forceUpdate(),e(f)}))},function(){return s||(s=new Promise((function(e){Promise.resolve().then((function(){s=void 0,e(i())}))}))),s}),destroy:function(){l(),p=!0}};if(!Q(e,t))return u;function l(){c.forEach((function(e){return e()})),c=[]}return u.setOptions(r).then((function(e){!p&&r.onFirstUpdate&&r.onFirstUpdate(e)})),u}}var $={passive:!0};var ee={name:\"eventListeners\",enabled:!0,phase:\"write\",fn:function(){},effect:function(e){var n=e.state,r=e.instance,o=e.options,i=o.scroll,a=void 0===i||i,s=o.resize,f=void 0===s||s,c=t(n.elements.popper),p=[].concat(n.scrollParents.reference,n.scrollParents.popper);return a&&p.forEach((function(e){e.addEventListener(\"scroll\",r.update,$)})),f&&c.addEventListener(\"resize\",r.update,$),function(){a&&p.forEach((function(e){e.removeEventListener(\"scroll\",r.update,$)})),f&&c.removeEventListener(\"resize\",r.update,$)}},data:{}};var te={name:\"popperOffsets\",enabled:!0,phase:\"read\",fn:function(e){var t=e.state,n=e.name;t.modifiersData[n]=X({reference:t.rects.reference,element:t.rects.popper,strategy:\"absolute\",placement:t.placement})},data:{}},ne={top:\"auto\",right:\"auto\",bottom:\"auto\",left:\"auto\"};function re(e){var n,r=e.popper,o=e.popperRect,i=e.placement,a=e.variation,f=e.offsets,c=e.position,p=e.gpuAcceleration,u=e.adaptive,l=e.roundOffsets,h=e.isFixed,v=f.x,y=void 0===v?0:v,g=f.y,b=void 0===g?0:g,x=\"function\"==typeof l?l({x:y,y:b}):{x:y,y:b};y=x.x,b=x.y;var w=f.hasOwnProperty(\"x\"),O=f.hasOwnProperty(\"y\"),j=P,M=D,k=window;if(u){var W=E(r),H=\"clientHeight\",T=\"clientWidth\";if(W===t(r)&&\"static\"!==m(W=d(r)).position&&\"absolute\"===c&&(H=\"scrollHeight\",T=\"scrollWidth\"),W=W,i===D||(i===P||i===L)&&a===B)M=A,b-=(h&&W===k&&k.visualViewport?k.visualViewport.height:W[H])-o.height,b*=p?1:-1;if(i===P||(i===D||i===A)&&a===B)j=L,y-=(h&&W===k&&k.visualViewport?k.visualViewport.width:W[T])-o.width,y*=p?1:-1}var R,S=Object.assign({position:c},u&&ne),V=!0===l?function(e,t){var n=e.x,r=e.y,o=t.devicePixelRatio||1;return{x:s(n*o)/o||0,y:s(r*o)/o||0}}({x:y,y:b},t(r)):{x:y,y:b};return y=V.x,b=V.y,p?Object.assign({},S,((R={})[M]=O?\"0\":\"\",R[j]=w?\"0\":\"\",R.transform=(k.devicePixelRatio||1)<=1?\"translate(\"+y+\"px, \"+b+\"px)\":\"translate3d(\"+y+\"px, \"+b+\"px, 0)\",R)):Object.assign({},S,((n={})[M]=O?b+\"px\":\"\",n[j]=w?y+\"px\":\"\",n.transform=\"\",n))}var oe={name:\"computeStyles\",enabled:!0,phase:\"beforeWrite\",fn:function(e){var t=e.state,n=e.options,r=n.gpuAcceleration,o=void 0===r||r,i=n.adaptive,a=void 0===i||i,s=n.roundOffsets,f=void 0===s||s,c={placement:F(t.placement),variation:U(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:o,isFixed:\"fixed\"===t.options.strategy};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,re(Object.assign({},c,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:a,roundOffsets:f})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,re(Object.assign({},c,{offsets:t.modifiersData.arrow,position:\"absolute\",adaptive:!1,roundOffsets:f})))),t.attributes.popper=Object.assign({},t.attributes.popper,{\"data-popper-placement\":t.placement})},data:{}};var ie={name:\"applyStyles\",enabled:!0,phase:\"write\",fn:function(e){var t=e.state;Object.keys(t.elements).forEach((function(e){var n=t.styles[e]||{},o=t.attributes[e]||{},i=t.elements[e];r(i)&&l(i)&&(Object.assign(i.style,n),Object.keys(o).forEach((function(e){var t=o[e];!1===t?i.removeAttribute(e):i.setAttribute(e,!0===t?\"\":t)})))}))},effect:function(e){var t=e.state,n={popper:{position:t.options.strategy,left:\"0\",top:\"0\",margin:\"0\"},arrow:{position:\"absolute\"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach((function(e){var o=t.elements[e],i=t.attributes[e]||{},a=Object.keys(t.styles.hasOwnProperty(e)?t.styles[e]:n[e]).reduce((function(e,t){return e[t]=\"\",e}),{});r(o)&&l(o)&&(Object.assign(o.style,a),Object.keys(i).forEach((function(e){o.removeAttribute(e)})))}))}},requires:[\"computeStyles\"]};var ae={name:\"offset\",enabled:!0,phase:\"main\",requires:[\"popperOffsets\"],fn:function(e){var t=e.state,n=e.options,r=e.name,o=n.offset,i=void 0===o?[0,0]:o,a=S.reduce((function(e,n){return e[n]=function(e,t,n){var r=F(e),o=[P,D].indexOf(r)>=0?-1:1,i=\"function\"==typeof n?n(Object.assign({},t,{placement:e})):n,a=i[0],s=i[1];return a=a||0,s=(s||0)*o,[P,L].indexOf(r)>=0?{x:s,y:a}:{x:a,y:s}}(n,t.rects,i),e}),{}),s=a[t.placement],f=s.x,c=s.y;null!=t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x+=f,t.modifiersData.popperOffsets.y+=c),t.modifiersData[r]=a}},se={left:\"right\",right:\"left\",bottom:\"top\",top:\"bottom\"};function fe(e){return e.replace(/left|right|bottom|top/g,(function(e){return se[e]}))}var ce={start:\"end\",end:\"start\"};function pe(e){return e.replace(/start|end/g,(function(e){return ce[e]}))}function ue(e,t){void 0===t&&(t={});var n=t,r=n.placement,o=n.boundary,i=n.rootBoundary,a=n.padding,s=n.flipVariations,f=n.allowedAutoPlacements,c=void 0===f?S:f,p=U(r),u=p?s?R:R.filter((function(e){return U(e)===p})):k,l=u.filter((function(e){return c.indexOf(e)>=0}));0===l.length&&(l=u);var d=l.reduce((function(t,n){return t[n]=J(e,{placement:n,boundary:o,rootBoundary:i,padding:a})[F(n)],t}),{});return Object.keys(d).sort((function(e,t){return d[e]-d[t]}))}var le={name:\"flip\",enabled:!0,phase:\"main\",fn:function(e){var t=e.state,n=e.options,r=e.name;if(!t.modifiersData[r]._skip){for(var o=n.mainAxis,i=void 0===o||o,a=n.altAxis,s=void 0===a||a,f=n.fallbackPlacements,c=n.padding,p=n.boundary,u=n.rootBoundary,l=n.altBoundary,d=n.flipVariations,h=void 0===d||d,m=n.allowedAutoPlacements,v=t.options.placement,y=F(v),g=f||(y===v||!h?[fe(v)]:function(e){if(F(e)===M)return[];var t=fe(e);return[pe(e),t,pe(t)]}(v)),b=[v].concat(g).reduce((function(e,n){return e.concat(F(n)===M?ue(t,{placement:n,boundary:p,rootBoundary:u,padding:c,flipVariations:h,allowedAutoPlacements:m}):n)}),[]),x=t.rects.reference,w=t.rects.popper,O=new Map,j=!0,E=b[0],k=0;k<b.length;k++){var B=b[k],H=F(B),T=U(B)===W,R=[D,A].indexOf(H)>=0,S=R?\"width\":\"height\",V=J(t,{placement:B,boundary:p,rootBoundary:u,altBoundary:l,padding:c}),q=R?T?L:P:T?A:D;x[S]>w[S]&&(q=fe(q));var C=fe(q),N=[];if(i&&N.push(V[H]<=0),s&&N.push(V[q]<=0,V[C]<=0),N.every((function(e){return e}))){E=B,j=!1;break}O.set(B,N)}if(j)for(var I=function(e){var t=b.find((function(t){var n=O.get(t);if(n)return n.slice(0,e).every((function(e){return e}))}));if(t)return E=t,\"break\"},_=h?3:1;_>0;_--){if(\"break\"===I(_))break}t.placement!==E&&(t.modifiersData[r]._skip=!0,t.placement=E,t.reset=!0)}},requiresIfExists:[\"offset\"],data:{_skip:!1}};function de(e,t,n){return i(e,a(t,n))}var he={name:\"preventOverflow\",enabled:!0,phase:\"main\",fn:function(e){var t=e.state,n=e.options,r=e.name,o=n.mainAxis,s=void 0===o||o,f=n.altAxis,c=void 0!==f&&f,p=n.boundary,u=n.rootBoundary,l=n.altBoundary,d=n.padding,h=n.tether,m=void 0===h||h,v=n.tetherOffset,y=void 0===v?0:v,b=J(t,{boundary:p,rootBoundary:u,padding:d,altBoundary:l}),x=F(t.placement),w=U(t.placement),O=!w,j=z(x),M=\"x\"===j?\"y\":\"x\",k=t.modifiersData.popperOffsets,B=t.rects.reference,H=t.rects.popper,T=\"function\"==typeof y?y(Object.assign({},t.rects,{placement:t.placement})):y,R=\"number\"==typeof T?{mainAxis:T,altAxis:T}:Object.assign({mainAxis:0,altAxis:0},T),S=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,V={x:0,y:0};if(k){if(s){var q,C=\"y\"===j?D:P,N=\"y\"===j?A:L,I=\"y\"===j?\"height\":\"width\",_=k[j],X=_+b[C],Y=_-b[N],G=m?-H[I]/2:0,K=w===W?B[I]:H[I],Q=w===W?-H[I]:-B[I],Z=t.elements.arrow,$=m&&Z?g(Z):{width:0,height:0},ee=t.modifiersData[\"arrow#persistent\"]?t.modifiersData[\"arrow#persistent\"].padding:{top:0,right:0,bottom:0,left:0},te=ee[C],ne=ee[N],re=de(0,B[I],$[I]),oe=O?B[I]/2-G-re-te-R.mainAxis:K-re-te-R.mainAxis,ie=O?-B[I]/2+G+re+ne+R.mainAxis:Q+re+ne+R.mainAxis,ae=t.elements.arrow&&E(t.elements.arrow),se=ae?\"y\"===j?ae.clientTop||0:ae.clientLeft||0:0,fe=null!=(q=null==S?void 0:S[j])?q:0,ce=_+ie-fe,pe=de(m?a(X,_+oe-fe-se):X,_,m?i(Y,ce):Y);k[j]=pe,V[j]=pe-_}if(c){var ue,le=\"x\"===j?D:P,he=\"x\"===j?A:L,me=k[M],ve=\"y\"===M?\"height\":\"width\",ye=me+b[le],ge=me-b[he],be=-1!==[D,P].indexOf(x),xe=null!=(ue=null==S?void 0:S[M])?ue:0,we=be?ye:me-B[ve]-H[ve]-xe+R.altAxis,Oe=be?me+B[ve]+H[ve]-xe-R.altAxis:ge,je=m&&be?function(e,t,n){var r=de(e,t,n);return r>n?n:r}(we,me,Oe):de(m?we:ye,me,m?Oe:ge);k[M]=je,V[M]=je-me}t.modifiersData[r]=V}},requiresIfExists:[\"offset\"]};var me={name:\"arrow\",enabled:!0,phase:\"main\",fn:function(e){var t,n=e.state,r=e.name,o=e.options,i=n.elements.arrow,a=n.modifiersData.popperOffsets,s=F(n.placement),f=z(s),c=[P,L].indexOf(s)>=0?\"height\":\"width\";if(i&&a){var p=function(e,t){return Y(\"number\"!=typeof(e=\"function\"==typeof e?e(Object.assign({},t.rects,{placement:t.placement})):e)?e:G(e,k))}(o.padding,n),u=g(i),l=\"y\"===f?D:P,d=\"y\"===f?A:L,h=n.rects.reference[c]+n.rects.reference[f]-a[f]-n.rects.popper[c],m=a[f]-n.rects.reference[f],v=E(i),y=v?\"y\"===f?v.clientHeight||0:v.clientWidth||0:0,b=h/2-m/2,x=p[l],w=y-u[c]-p[d],O=y/2-u[c]/2+b,j=de(x,O,w),M=f;n.modifiersData[r]=((t={})[M]=j,t.centerOffset=j-O,t)}},effect:function(e){var t=e.state,n=e.options.element,r=void 0===n?\"[data-popper-arrow]\":n;null!=r&&(\"string\"!=typeof r||(r=t.elements.popper.querySelector(r)))&&C(t.elements.popper,r)&&(t.elements.arrow=r)},requires:[\"popperOffsets\"],requiresIfExists:[\"preventOverflow\"]};function ve(e,t,n){return void 0===n&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function ye(e){return[D,L,A,P].some((function(t){return e[t]>=0}))}var ge={name:\"hide\",enabled:!0,phase:\"main\",requiresIfExists:[\"preventOverflow\"],fn:function(e){var t=e.state,n=e.name,r=t.rects.reference,o=t.rects.popper,i=t.modifiersData.preventOverflow,a=J(t,{elementContext:\"reference\"}),s=J(t,{altBoundary:!0}),f=ve(a,r),c=ve(s,o,i),p=ye(f),u=ye(c);t.modifiersData[n]={referenceClippingOffsets:f,popperEscapeOffsets:c,isReferenceHidden:p,hasPopperEscaped:u},t.attributes.popper=Object.assign({},t.attributes.popper,{\"data-popper-reference-hidden\":p,\"data-popper-escaped\":u})}},be=Z({defaultModifiers:[ee,te,oe,ie]}),xe=[ee,te,oe,ie,ae,le,he,me,ge],we=Z({defaultModifiers:xe});e.applyStyles=ie,e.arrow=me,e.computeStyles=oe,e.createPopper=we,e.createPopperLite=be,e.defaultModifiers=xe,e.detectOverflow=J,e.eventListeners=ee,e.flip=le,e.hide=ge,e.offset=ae,e.popperGenerator=Z,e.popperOffsets=te,e.preventOverflow=he,Object.defineProperty(e,\"__esModule\",{value:!0})}));\n//# sourceMappingURL=popper.min.js.map\n","/*!\n  * Bootstrap v5.3.0 (https://getbootstrap.com/)\n  * Copyright 2011-2023 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)\n  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)\n  */\n!function(t,e){\"object\"==typeof exports&&\"undefined\"!=typeof module?module.exports=e():\"function\"==typeof define&&define.amd?define(e):(t=\"undefined\"!=typeof globalThis?globalThis:t||self).bootstrap=e()}(this,(function(){\"use strict\";const t=new Map,e={set(e,i,n){t.has(e)||t.set(e,new Map);const s=t.get(e);s.has(i)||0===s.size?s.set(i,n):console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(s.keys())[0]}.`)},get:(e,i)=>t.has(e)&&t.get(e).get(i)||null,remove(e,i){if(!t.has(e))return;const n=t.get(e);n.delete(i),0===n.size&&t.delete(e)}},i=\"transitionend\",n=t=>(t&&window.CSS&&window.CSS.escape&&(t=t.replace(/#([^\\s\"#']+)/g,((t,e)=>`#${CSS.escape(e)}`))),t),s=t=>{t.dispatchEvent(new Event(i))},o=t=>!(!t||\"object\"!=typeof t)&&(void 0!==t.jquery&&(t=t[0]),void 0!==t.nodeType),r=t=>o(t)?t.jquery?t[0]:t:\"string\"==typeof t&&t.length>0?document.querySelector(n(t)):null,a=t=>{if(!o(t)||0===t.getClientRects().length)return!1;const e=\"visible\"===getComputedStyle(t).getPropertyValue(\"visibility\"),i=t.closest(\"details:not([open])\");if(!i)return e;if(i!==t){const e=t.closest(\"summary\");if(e&&e.parentNode!==i)return!1;if(null===e)return!1}return e},l=t=>!t||t.nodeType!==Node.ELEMENT_NODE||!!t.classList.contains(\"disabled\")||(void 0!==t.disabled?t.disabled:t.hasAttribute(\"disabled\")&&\"false\"!==t.getAttribute(\"disabled\")),c=t=>{if(!document.documentElement.attachShadow)return null;if(\"function\"==typeof t.getRootNode){const e=t.getRootNode();return e instanceof ShadowRoot?e:null}return t instanceof ShadowRoot?t:t.parentNode?c(t.parentNode):null},h=()=>{},d=t=>{t.offsetHeight},u=()=>window.jQuery&&!document.body.hasAttribute(\"data-bs-no-jquery\")?window.jQuery:null,f=[],p=()=>\"rtl\"===document.documentElement.dir,m=t=>{var e;e=()=>{const e=u();if(e){const i=t.NAME,n=e.fn[i];e.fn[i]=t.jQueryInterface,e.fn[i].Constructor=t,e.fn[i].noConflict=()=>(e.fn[i]=n,t.jQueryInterface)}},\"loading\"===document.readyState?(f.length||document.addEventListener(\"DOMContentLoaded\",(()=>{for(const t of f)t()})),f.push(e)):e()},g=(t,e=[],i=t)=>\"function\"==typeof t?t(...e):i,_=(t,e,n=!0)=>{if(!n)return void g(t);const o=(t=>{if(!t)return 0;let{transitionDuration:e,transitionDelay:i}=window.getComputedStyle(t);const n=Number.parseFloat(e),s=Number.parseFloat(i);return n||s?(e=e.split(\",\")[0],i=i.split(\",\")[0],1e3*(Number.parseFloat(e)+Number.parseFloat(i))):0})(e)+5;let r=!1;const a=({target:n})=>{n===e&&(r=!0,e.removeEventListener(i,a),g(t))};e.addEventListener(i,a),setTimeout((()=>{r||s(e)}),o)},b=(t,e,i,n)=>{const s=t.length;let o=t.indexOf(e);return-1===o?!i&&n?t[s-1]:t[0]:(o+=i?1:-1,n&&(o=(o+s)%s),t[Math.max(0,Math.min(o,s-1))])},v=/[^.]*(?=\\..*)\\.|.*/,y=/\\..*/,w=/::\\d+$/,A={};let E=1;const T={mouseenter:\"mouseover\",mouseleave:\"mouseout\"},C=new Set([\"click\",\"dblclick\",\"mouseup\",\"mousedown\",\"contextmenu\",\"mousewheel\",\"DOMMouseScroll\",\"mouseover\",\"mouseout\",\"mousemove\",\"selectstart\",\"selectend\",\"keydown\",\"keypress\",\"keyup\",\"orientationchange\",\"touchstart\",\"touchmove\",\"touchend\",\"touchcancel\",\"pointerdown\",\"pointermove\",\"pointerup\",\"pointerleave\",\"pointercancel\",\"gesturestart\",\"gesturechange\",\"gestureend\",\"focus\",\"blur\",\"change\",\"reset\",\"select\",\"submit\",\"focusin\",\"focusout\",\"load\",\"unload\",\"beforeunload\",\"resize\",\"move\",\"DOMContentLoaded\",\"readystatechange\",\"error\",\"abort\",\"scroll\"]);function O(t,e){return e&&`${e}::${E++}`||t.uidEvent||E++}function x(t){const e=O(t);return t.uidEvent=e,A[e]=A[e]||{},A[e]}function k(t,e,i=null){return Object.values(t).find((t=>t.callable===e&&t.delegationSelector===i))}function L(t,e,i){const n=\"string\"==typeof e,s=n?i:e||i;let o=N(t);return C.has(o)||(o=t),[n,s,o]}function S(t,e,i,n,s){if(\"string\"!=typeof e||!t)return;let[o,r,a]=L(e,i,n);if(e in T){const t=t=>function(e){if(!e.relatedTarget||e.relatedTarget!==e.delegateTarget&&!e.delegateTarget.contains(e.relatedTarget))return t.call(this,e)};r=t(r)}const l=x(t),c=l[a]||(l[a]={}),h=k(c,r,o?i:null);if(h)return void(h.oneOff=h.oneOff&&s);const d=O(r,e.replace(v,\"\")),u=o?function(t,e,i){return function n(s){const o=t.querySelectorAll(e);for(let{target:r}=s;r&&r!==this;r=r.parentNode)for(const a of o)if(a===r)return M(s,{delegateTarget:r}),n.oneOff&&P.off(t,s.type,e,i),i.apply(r,[s])}}(t,i,r):function(t,e){return function i(n){return M(n,{delegateTarget:t}),i.oneOff&&P.off(t,n.type,e),e.apply(t,[n])}}(t,r);u.delegationSelector=o?i:null,u.callable=r,u.oneOff=s,u.uidEvent=d,c[d]=u,t.addEventListener(a,u,o)}function D(t,e,i,n,s){const o=k(e[i],n,s);o&&(t.removeEventListener(i,o,Boolean(s)),delete e[i][o.uidEvent])}function I(t,e,i,n){const s=e[i]||{};for(const[o,r]of Object.entries(s))o.includes(n)&&D(t,e,i,r.callable,r.delegationSelector)}function N(t){return t=t.replace(y,\"\"),T[t]||t}const P={on(t,e,i,n){S(t,e,i,n,!1)},one(t,e,i,n){S(t,e,i,n,!0)},off(t,e,i,n){if(\"string\"!=typeof e||!t)return;const[s,o,r]=L(e,i,n),a=r!==e,l=x(t),c=l[r]||{},h=e.startsWith(\".\");if(void 0===o){if(h)for(const i of Object.keys(l))I(t,l,i,e.slice(1));for(const[i,n]of Object.entries(c)){const s=i.replace(w,\"\");a&&!e.includes(s)||D(t,l,r,n.callable,n.delegationSelector)}}else{if(!Object.keys(c).length)return;D(t,l,r,o,s?i:null)}},trigger(t,e,i){if(\"string\"!=typeof e||!t)return null;const n=u();let s=null,o=!0,r=!0,a=!1;e!==N(e)&&n&&(s=n.Event(e,i),n(t).trigger(s),o=!s.isPropagationStopped(),r=!s.isImmediatePropagationStopped(),a=s.isDefaultPrevented());const l=M(new Event(e,{bubbles:o,cancelable:!0}),i);return a&&l.preventDefault(),r&&t.dispatchEvent(l),l.defaultPrevented&&s&&s.preventDefault(),l}};function M(t,e={}){for(const[i,n]of Object.entries(e))try{t[i]=n}catch(e){Object.defineProperty(t,i,{configurable:!0,get:()=>n})}return t}function j(t){if(\"true\"===t)return!0;if(\"false\"===t)return!1;if(t===Number(t).toString())return Number(t);if(\"\"===t||\"null\"===t)return null;if(\"string\"!=typeof t)return t;try{return JSON.parse(decodeURIComponent(t))}catch(e){return t}}function F(t){return t.replace(/[A-Z]/g,(t=>`-${t.toLowerCase()}`))}const H={setDataAttribute(t,e,i){t.setAttribute(`data-bs-${F(e)}`,i)},removeDataAttribute(t,e){t.removeAttribute(`data-bs-${F(e)}`)},getDataAttributes(t){if(!t)return{};const e={},i=Object.keys(t.dataset).filter((t=>t.startsWith(\"bs\")&&!t.startsWith(\"bsConfig\")));for(const n of i){let i=n.replace(/^bs/,\"\");i=i.charAt(0).toLowerCase()+i.slice(1,i.length),e[i]=j(t.dataset[n])}return e},getDataAttribute:(t,e)=>j(t.getAttribute(`data-bs-${F(e)}`))};class ${static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method \"NAME\", for each component!')}_getConfig(t){return t=this._mergeConfigObj(t),t=this._configAfterMerge(t),this._typeCheckConfig(t),t}_configAfterMerge(t){return t}_mergeConfigObj(t,e){const i=o(e)?H.getDataAttribute(e,\"config\"):{};return{...this.constructor.Default,...\"object\"==typeof i?i:{},...o(e)?H.getDataAttributes(e):{},...\"object\"==typeof t?t:{}}}_typeCheckConfig(t,e=this.constructor.DefaultType){for(const[n,s]of Object.entries(e)){const e=t[n],r=o(e)?\"element\":null==(i=e)?`${i}`:Object.prototype.toString.call(i).match(/\\s([a-z]+)/i)[1].toLowerCase();if(!new RegExp(s).test(r))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option \"${n}\" provided type \"${r}\" but expected type \"${s}\".`)}var i}}class W extends ${constructor(t,i){super(),(t=r(t))&&(this._element=t,this._config=this._getConfig(i),e.set(this._element,this.constructor.DATA_KEY,this))}dispose(){e.remove(this._element,this.constructor.DATA_KEY),P.off(this._element,this.constructor.EVENT_KEY);for(const t of Object.getOwnPropertyNames(this))this[t]=null}_queueCallback(t,e,i=!0){_(t,e,i)}_getConfig(t){return t=this._mergeConfigObj(t,this._element),t=this._configAfterMerge(t),this._typeCheckConfig(t),t}static getInstance(t){return e.get(r(t),this.DATA_KEY)}static getOrCreateInstance(t,e={}){return this.getInstance(t)||new this(t,\"object\"==typeof e?e:null)}static get VERSION(){return\"5.3.0\"}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(t){return`${t}${this.EVENT_KEY}`}}const B=t=>{let e=t.getAttribute(\"data-bs-target\");if(!e||\"#\"===e){let i=t.getAttribute(\"href\");if(!i||!i.includes(\"#\")&&!i.startsWith(\".\"))return null;i.includes(\"#\")&&!i.startsWith(\"#\")&&(i=`#${i.split(\"#\")[1]}`),e=i&&\"#\"!==i?i.trim():null}return n(e)},z={find:(t,e=document.documentElement)=>[].concat(...Element.prototype.querySelectorAll.call(e,t)),findOne:(t,e=document.documentElement)=>Element.prototype.querySelector.call(e,t),children:(t,e)=>[].concat(...t.children).filter((t=>t.matches(e))),parents(t,e){const i=[];let n=t.parentNode.closest(e);for(;n;)i.push(n),n=n.parentNode.closest(e);return i},prev(t,e){let i=t.previousElementSibling;for(;i;){if(i.matches(e))return[i];i=i.previousElementSibling}return[]},next(t,e){let i=t.nextElementSibling;for(;i;){if(i.matches(e))return[i];i=i.nextElementSibling}return[]},focusableChildren(t){const e=[\"a\",\"button\",\"input\",\"textarea\",\"select\",\"details\",\"[tabindex]\",'[contenteditable=\"true\"]'].map((t=>`${t}:not([tabindex^=\"-\"])`)).join(\",\");return this.find(e,t).filter((t=>!l(t)&&a(t)))},getSelectorFromElement(t){const e=B(t);return e&&z.findOne(e)?e:null},getElementFromSelector(t){const e=B(t);return e?z.findOne(e):null},getMultipleElementsFromSelector(t){const e=B(t);return e?z.find(e):[]}},R=(t,e=\"hide\")=>{const i=`click.dismiss${t.EVENT_KEY}`,n=t.NAME;P.on(document,i,`[data-bs-dismiss=\"${n}\"]`,(function(i){if([\"A\",\"AREA\"].includes(this.tagName)&&i.preventDefault(),l(this))return;const s=z.getElementFromSelector(this)||this.closest(`.${n}`);t.getOrCreateInstance(s)[e]()}))};class q extends W{static get NAME(){return\"alert\"}close(){if(P.trigger(this._element,\"close.bs.alert\").defaultPrevented)return;this._element.classList.remove(\"show\");const t=this._element.classList.contains(\"fade\");this._queueCallback((()=>this._destroyElement()),this._element,t)}_destroyElement(){this._element.remove(),P.trigger(this._element,\"closed.bs.alert\"),this.dispose()}static jQueryInterface(t){return this.each((function(){const e=q.getOrCreateInstance(this);if(\"string\"==typeof t){if(void 0===e[t]||t.startsWith(\"_\")||\"constructor\"===t)throw new TypeError(`No method named \"${t}\"`);e[t](this)}}))}}R(q,\"close\"),m(q);const V='[data-bs-toggle=\"button\"]';class K extends W{static get NAME(){return\"button\"}toggle(){this._element.setAttribute(\"aria-pressed\",this._element.classList.toggle(\"active\"))}static jQueryInterface(t){return this.each((function(){const e=K.getOrCreateInstance(this);\"toggle\"===t&&e[t]()}))}}P.on(document,\"click.bs.button.data-api\",V,(t=>{t.preventDefault();const e=t.target.closest(V);K.getOrCreateInstance(e).toggle()})),m(K);const Q={endCallback:null,leftCallback:null,rightCallback:null},X={endCallback:\"(function|null)\",leftCallback:\"(function|null)\",rightCallback:\"(function|null)\"};class Y extends ${constructor(t,e){super(),this._element=t,t&&Y.isSupported()&&(this._config=this._getConfig(e),this._deltaX=0,this._supportPointerEvents=Boolean(window.PointerEvent),this._initEvents())}static get Default(){return Q}static get DefaultType(){return X}static get NAME(){return\"swipe\"}dispose(){P.off(this._element,\".bs.swipe\")}_start(t){this._supportPointerEvents?this._eventIsPointerPenTouch(t)&&(this._deltaX=t.clientX):this._deltaX=t.touches[0].clientX}_end(t){this._eventIsPointerPenTouch(t)&&(this._deltaX=t.clientX-this._deltaX),this._handleSwipe(),g(this._config.endCallback)}_move(t){this._deltaX=t.touches&&t.touches.length>1?0:t.touches[0].clientX-this._deltaX}_handleSwipe(){const t=Math.abs(this._deltaX);if(t<=40)return;const e=t/this._deltaX;this._deltaX=0,e&&g(e>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(P.on(this._element,\"pointerdown.bs.swipe\",(t=>this._start(t))),P.on(this._element,\"pointerup.bs.swipe\",(t=>this._end(t))),this._element.classList.add(\"pointer-event\")):(P.on(this._element,\"touchstart.bs.swipe\",(t=>this._start(t))),P.on(this._element,\"touchmove.bs.swipe\",(t=>this._move(t))),P.on(this._element,\"touchend.bs.swipe\",(t=>this._end(t))))}_eventIsPointerPenTouch(t){return this._supportPointerEvents&&(\"pen\"===t.pointerType||\"touch\"===t.pointerType)}static isSupported(){return\"ontouchstart\"in document.documentElement||navigator.maxTouchPoints>0}}const U=\"next\",G=\"prev\",J=\"left\",Z=\"right\",tt=\"slid.bs.carousel\",et=\"carousel\",it=\"active\",nt={ArrowLeft:Z,ArrowRight:J},st={interval:5e3,keyboard:!0,pause:\"hover\",ride:!1,touch:!0,wrap:!0},ot={interval:\"(number|boolean)\",keyboard:\"boolean\",pause:\"(string|boolean)\",ride:\"(boolean|string)\",touch:\"boolean\",wrap:\"boolean\"};class rt extends W{constructor(t,e){super(t,e),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=z.findOne(\".carousel-indicators\",this._element),this._addEventListeners(),this._config.ride===et&&this.cycle()}static get Default(){return st}static get DefaultType(){return ot}static get NAME(){return\"carousel\"}next(){this._slide(U)}nextWhenVisible(){!document.hidden&&a(this._element)&&this.next()}prev(){this._slide(G)}pause(){this._isSliding&&s(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval((()=>this.nextWhenVisible()),this._config.interval)}_maybeEnableCycle(){this._config.ride&&(this._isSliding?P.one(this._element,tt,(()=>this.cycle())):this.cycle())}to(t){const e=this._getItems();if(t>e.length-1||t<0)return;if(this._isSliding)return void P.one(this._element,tt,(()=>this.to(t)));const i=this._getItemIndex(this._getActive());if(i===t)return;const n=t>i?U:G;this._slide(n,e[t])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(t){return t.defaultInterval=t.interval,t}_addEventListeners(){this._config.keyboard&&P.on(this._element,\"keydown.bs.carousel\",(t=>this._keydown(t))),\"hover\"===this._config.pause&&(P.on(this._element,\"mouseenter.bs.carousel\",(()=>this.pause())),P.on(this._element,\"mouseleave.bs.carousel\",(()=>this._maybeEnableCycle()))),this._config.touch&&Y.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const t of z.find(\".carousel-item img\",this._element))P.on(t,\"dragstart.bs.carousel\",(t=>t.preventDefault()));const t={leftCallback:()=>this._slide(this._directionToOrder(J)),rightCallback:()=>this._slide(this._directionToOrder(Z)),endCallback:()=>{\"hover\"===this._config.pause&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout((()=>this._maybeEnableCycle()),500+this._config.interval))}};this._swipeHelper=new Y(this._element,t)}_keydown(t){if(/input|textarea/i.test(t.target.tagName))return;const e=nt[t.key];e&&(t.preventDefault(),this._slide(this._directionToOrder(e)))}_getItemIndex(t){return this._getItems().indexOf(t)}_setActiveIndicatorElement(t){if(!this._indicatorsElement)return;const e=z.findOne(\".active\",this._indicatorsElement);e.classList.remove(it),e.removeAttribute(\"aria-current\");const i=z.findOne(`[data-bs-slide-to=\"${t}\"]`,this._indicatorsElement);i&&(i.classList.add(it),i.setAttribute(\"aria-current\",\"true\"))}_updateInterval(){const t=this._activeElement||this._getActive();if(!t)return;const e=Number.parseInt(t.getAttribute(\"data-bs-interval\"),10);this._config.interval=e||this._config.defaultInterval}_slide(t,e=null){if(this._isSliding)return;const i=this._getActive(),n=t===U,s=e||b(this._getItems(),i,n,this._config.wrap);if(s===i)return;const o=this._getItemIndex(s),r=e=>P.trigger(this._element,e,{relatedTarget:s,direction:this._orderToDirection(t),from:this._getItemIndex(i),to:o});if(r(\"slide.bs.carousel\").defaultPrevented)return;if(!i||!s)return;const a=Boolean(this._interval);this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(o),this._activeElement=s;const l=n?\"carousel-item-start\":\"carousel-item-end\",c=n?\"carousel-item-next\":\"carousel-item-prev\";s.classList.add(c),d(s),i.classList.add(l),s.classList.add(l),this._queueCallback((()=>{s.classList.remove(l,c),s.classList.add(it),i.classList.remove(it,c,l),this._isSliding=!1,r(tt)}),i,this._isAnimated()),a&&this.cycle()}_isAnimated(){return this._element.classList.contains(\"slide\")}_getActive(){return z.findOne(\".active.carousel-item\",this._element)}_getItems(){return z.find(\".carousel-item\",this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(t){return p()?t===J?G:U:t===J?U:G}_orderToDirection(t){return p()?t===G?J:Z:t===G?Z:J}static jQueryInterface(t){return this.each((function(){const e=rt.getOrCreateInstance(this,t);if(\"number\"!=typeof t){if(\"string\"==typeof t){if(void 0===e[t]||t.startsWith(\"_\")||\"constructor\"===t)throw new TypeError(`No method named \"${t}\"`);e[t]()}}else e.to(t)}))}}P.on(document,\"click.bs.carousel.data-api\",\"[data-bs-slide], [data-bs-slide-to]\",(function(t){const e=z.getElementFromSelector(this);if(!e||!e.classList.contains(et))return;t.preventDefault();const i=rt.getOrCreateInstance(e),n=this.getAttribute(\"data-bs-slide-to\");return n?(i.to(n),void i._maybeEnableCycle()):\"next\"===H.getDataAttribute(this,\"slide\")?(i.next(),void i._maybeEnableCycle()):(i.prev(),void i._maybeEnableCycle())})),P.on(window,\"load.bs.carousel.data-api\",(()=>{const t=z.find('[data-bs-ride=\"carousel\"]');for(const e of t)rt.getOrCreateInstance(e)})),m(rt);const at=\"show\",lt=\"collapse\",ct=\"collapsing\",ht='[data-bs-toggle=\"collapse\"]',dt={parent:null,toggle:!0},ut={parent:\"(null|element)\",toggle:\"boolean\"};class ft extends W{constructor(t,e){super(t,e),this._isTransitioning=!1,this._triggerArray=[];const i=z.find(ht);for(const t of i){const e=z.getSelectorFromElement(t),i=z.find(e).filter((t=>t===this._element));null!==e&&i.length&&this._triggerArray.push(t)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return dt}static get DefaultType(){return ut}static get NAME(){return\"collapse\"}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let t=[];if(this._config.parent&&(t=this._getFirstLevelChildren(\".collapse.show, .collapse.collapsing\").filter((t=>t!==this._element)).map((t=>ft.getOrCreateInstance(t,{toggle:!1})))),t.length&&t[0]._isTransitioning)return;if(P.trigger(this._element,\"show.bs.collapse\").defaultPrevented)return;for(const e of t)e.hide();const e=this._getDimension();this._element.classList.remove(lt),this._element.classList.add(ct),this._element.style[e]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const i=`scroll${e[0].toUpperCase()+e.slice(1)}`;this._queueCallback((()=>{this._isTransitioning=!1,this._element.classList.remove(ct),this._element.classList.add(lt,at),this._element.style[e]=\"\",P.trigger(this._element,\"shown.bs.collapse\")}),this._element,!0),this._element.style[e]=`${this._element[i]}px`}hide(){if(this._isTransitioning||!this._isShown())return;if(P.trigger(this._element,\"hide.bs.collapse\").defaultPrevented)return;const t=this._getDimension();this._element.style[t]=`${this._element.getBoundingClientRect()[t]}px`,d(this._element),this._element.classList.add(ct),this._element.classList.remove(lt,at);for(const t of this._triggerArray){const e=z.getElementFromSelector(t);e&&!this._isShown(e)&&this._addAriaAndCollapsedClass([t],!1)}this._isTransitioning=!0,this._element.style[t]=\"\",this._queueCallback((()=>{this._isTransitioning=!1,this._element.classList.remove(ct),this._element.classList.add(lt),P.trigger(this._element,\"hidden.bs.collapse\")}),this._element,!0)}_isShown(t=this._element){return t.classList.contains(at)}_configAfterMerge(t){return t.toggle=Boolean(t.toggle),t.parent=r(t.parent),t}_getDimension(){return this._element.classList.contains(\"collapse-horizontal\")?\"width\":\"height\"}_initializeChildren(){if(!this._config.parent)return;const t=this._getFirstLevelChildren(ht);for(const e of t){const t=z.getElementFromSelector(e);t&&this._addAriaAndCollapsedClass([e],this._isShown(t))}}_getFirstLevelChildren(t){const e=z.find(\":scope .collapse .collapse\",this._config.parent);return z.find(t,this._config.parent).filter((t=>!e.includes(t)))}_addAriaAndCollapsedClass(t,e){if(t.length)for(const i of t)i.classList.toggle(\"collapsed\",!e),i.setAttribute(\"aria-expanded\",e)}static jQueryInterface(t){const e={};return\"string\"==typeof t&&/show|hide/.test(t)&&(e.toggle=!1),this.each((function(){const i=ft.getOrCreateInstance(this,e);if(\"string\"==typeof t){if(void 0===i[t])throw new TypeError(`No method named \"${t}\"`);i[t]()}}))}}P.on(document,\"click.bs.collapse.data-api\",ht,(function(t){(\"A\"===t.target.tagName||t.delegateTarget&&\"A\"===t.delegateTarget.tagName)&&t.preventDefault();for(const t of z.getMultipleElementsFromSelector(this))ft.getOrCreateInstance(t,{toggle:!1}).toggle()})),m(ft);var pt=\"top\",mt=\"bottom\",gt=\"right\",_t=\"left\",bt=\"auto\",vt=[pt,mt,gt,_t],yt=\"start\",wt=\"end\",At=\"clippingParents\",Et=\"viewport\",Tt=\"popper\",Ct=\"reference\",Ot=vt.reduce((function(t,e){return t.concat([e+\"-\"+yt,e+\"-\"+wt])}),[]),xt=[].concat(vt,[bt]).reduce((function(t,e){return t.concat([e,e+\"-\"+yt,e+\"-\"+wt])}),[]),kt=\"beforeRead\",Lt=\"read\",St=\"afterRead\",Dt=\"beforeMain\",It=\"main\",Nt=\"afterMain\",Pt=\"beforeWrite\",Mt=\"write\",jt=\"afterWrite\",Ft=[kt,Lt,St,Dt,It,Nt,Pt,Mt,jt];function Ht(t){return t?(t.nodeName||\"\").toLowerCase():null}function $t(t){if(null==t)return window;if(\"[object Window]\"!==t.toString()){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function Wt(t){return t instanceof $t(t).Element||t instanceof Element}function Bt(t){return t instanceof $t(t).HTMLElement||t instanceof HTMLElement}function zt(t){return\"undefined\"!=typeof ShadowRoot&&(t instanceof $t(t).ShadowRoot||t instanceof ShadowRoot)}const Rt={name:\"applyStyles\",enabled:!0,phase:\"write\",fn:function(t){var e=t.state;Object.keys(e.elements).forEach((function(t){var i=e.styles[t]||{},n=e.attributes[t]||{},s=e.elements[t];Bt(s)&&Ht(s)&&(Object.assign(s.style,i),Object.keys(n).forEach((function(t){var e=n[t];!1===e?s.removeAttribute(t):s.setAttribute(t,!0===e?\"\":e)})))}))},effect:function(t){var e=t.state,i={popper:{position:e.options.strategy,left:\"0\",top:\"0\",margin:\"0\"},arrow:{position:\"absolute\"},reference:{}};return Object.assign(e.elements.popper.style,i.popper),e.styles=i,e.elements.arrow&&Object.assign(e.elements.arrow.style,i.arrow),function(){Object.keys(e.elements).forEach((function(t){var n=e.elements[t],s=e.attributes[t]||{},o=Object.keys(e.styles.hasOwnProperty(t)?e.styles[t]:i[t]).reduce((function(t,e){return t[e]=\"\",t}),{});Bt(n)&&Ht(n)&&(Object.assign(n.style,o),Object.keys(s).forEach((function(t){n.removeAttribute(t)})))}))}},requires:[\"computeStyles\"]};function qt(t){return t.split(\"-\")[0]}var Vt=Math.max,Kt=Math.min,Qt=Math.round;function Xt(){var t=navigator.userAgentData;return null!=t&&t.brands&&Array.isArray(t.brands)?t.brands.map((function(t){return t.brand+\"/\"+t.version})).join(\" \"):navigator.userAgent}function Yt(){return!/^((?!chrome|android).)*safari/i.test(Xt())}function Ut(t,e,i){void 0===e&&(e=!1),void 0===i&&(i=!1);var n=t.getBoundingClientRect(),s=1,o=1;e&&Bt(t)&&(s=t.offsetWidth>0&&Qt(n.width)/t.offsetWidth||1,o=t.offsetHeight>0&&Qt(n.height)/t.offsetHeight||1);var r=(Wt(t)?$t(t):window).visualViewport,a=!Yt()&&i,l=(n.left+(a&&r?r.offsetLeft:0))/s,c=(n.top+(a&&r?r.offsetTop:0))/o,h=n.width/s,d=n.height/o;return{width:h,height:d,top:c,right:l+h,bottom:c+d,left:l,x:l,y:c}}function Gt(t){var e=Ut(t),i=t.offsetWidth,n=t.offsetHeight;return Math.abs(e.width-i)<=1&&(i=e.width),Math.abs(e.height-n)<=1&&(n=e.height),{x:t.offsetLeft,y:t.offsetTop,width:i,height:n}}function Jt(t,e){var i=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(i&&zt(i)){var n=e;do{if(n&&t.isSameNode(n))return!0;n=n.parentNode||n.host}while(n)}return!1}function Zt(t){return $t(t).getComputedStyle(t)}function te(t){return[\"table\",\"td\",\"th\"].indexOf(Ht(t))>=0}function ee(t){return((Wt(t)?t.ownerDocument:t.document)||window.document).documentElement}function ie(t){return\"html\"===Ht(t)?t:t.assignedSlot||t.parentNode||(zt(t)?t.host:null)||ee(t)}function ne(t){return Bt(t)&&\"fixed\"!==Zt(t).position?t.offsetParent:null}function se(t){for(var e=$t(t),i=ne(t);i&&te(i)&&\"static\"===Zt(i).position;)i=ne(i);return i&&(\"html\"===Ht(i)||\"body\"===Ht(i)&&\"static\"===Zt(i).position)?e:i||function(t){var e=/firefox/i.test(Xt());if(/Trident/i.test(Xt())&&Bt(t)&&\"fixed\"===Zt(t).position)return null;var i=ie(t);for(zt(i)&&(i=i.host);Bt(i)&&[\"html\",\"body\"].indexOf(Ht(i))<0;){var n=Zt(i);if(\"none\"!==n.transform||\"none\"!==n.perspective||\"paint\"===n.contain||-1!==[\"transform\",\"perspective\"].indexOf(n.willChange)||e&&\"filter\"===n.willChange||e&&n.filter&&\"none\"!==n.filter)return i;i=i.parentNode}return null}(t)||e}function oe(t){return[\"top\",\"bottom\"].indexOf(t)>=0?\"x\":\"y\"}function re(t,e,i){return Vt(t,Kt(e,i))}function ae(t){return Object.assign({},{top:0,right:0,bottom:0,left:0},t)}function le(t,e){return e.reduce((function(e,i){return e[i]=t,e}),{})}const ce={name:\"arrow\",enabled:!0,phase:\"main\",fn:function(t){var e,i=t.state,n=t.name,s=t.options,o=i.elements.arrow,r=i.modifiersData.popperOffsets,a=qt(i.placement),l=oe(a),c=[_t,gt].indexOf(a)>=0?\"height\":\"width\";if(o&&r){var h=function(t,e){return ae(\"number\"!=typeof(t=\"function\"==typeof t?t(Object.assign({},e.rects,{placement:e.placement})):t)?t:le(t,vt))}(s.padding,i),d=Gt(o),u=\"y\"===l?pt:_t,f=\"y\"===l?mt:gt,p=i.rects.reference[c]+i.rects.reference[l]-r[l]-i.rects.popper[c],m=r[l]-i.rects.reference[l],g=se(o),_=g?\"y\"===l?g.clientHeight||0:g.clientWidth||0:0,b=p/2-m/2,v=h[u],y=_-d[c]-h[f],w=_/2-d[c]/2+b,A=re(v,w,y),E=l;i.modifiersData[n]=((e={})[E]=A,e.centerOffset=A-w,e)}},effect:function(t){var e=t.state,i=t.options.element,n=void 0===i?\"[data-popper-arrow]\":i;null!=n&&(\"string\"!=typeof n||(n=e.elements.popper.querySelector(n)))&&Jt(e.elements.popper,n)&&(e.elements.arrow=n)},requires:[\"popperOffsets\"],requiresIfExists:[\"preventOverflow\"]};function he(t){return t.split(\"-\")[1]}var de={top:\"auto\",right:\"auto\",bottom:\"auto\",left:\"auto\"};function ue(t){var e,i=t.popper,n=t.popperRect,s=t.placement,o=t.variation,r=t.offsets,a=t.position,l=t.gpuAcceleration,c=t.adaptive,h=t.roundOffsets,d=t.isFixed,u=r.x,f=void 0===u?0:u,p=r.y,m=void 0===p?0:p,g=\"function\"==typeof h?h({x:f,y:m}):{x:f,y:m};f=g.x,m=g.y;var _=r.hasOwnProperty(\"x\"),b=r.hasOwnProperty(\"y\"),v=_t,y=pt,w=window;if(c){var A=se(i),E=\"clientHeight\",T=\"clientWidth\";A===$t(i)&&\"static\"!==Zt(A=ee(i)).position&&\"absolute\"===a&&(E=\"scrollHeight\",T=\"scrollWidth\"),(s===pt||(s===_t||s===gt)&&o===wt)&&(y=mt,m-=(d&&A===w&&w.visualViewport?w.visualViewport.height:A[E])-n.height,m*=l?1:-1),s!==_t&&(s!==pt&&s!==mt||o!==wt)||(v=gt,f-=(d&&A===w&&w.visualViewport?w.visualViewport.width:A[T])-n.width,f*=l?1:-1)}var C,O=Object.assign({position:a},c&&de),x=!0===h?function(t,e){var i=t.x,n=t.y,s=e.devicePixelRatio||1;return{x:Qt(i*s)/s||0,y:Qt(n*s)/s||0}}({x:f,y:m},$t(i)):{x:f,y:m};return f=x.x,m=x.y,l?Object.assign({},O,((C={})[y]=b?\"0\":\"\",C[v]=_?\"0\":\"\",C.transform=(w.devicePixelRatio||1)<=1?\"translate(\"+f+\"px, \"+m+\"px)\":\"translate3d(\"+f+\"px, \"+m+\"px, 0)\",C)):Object.assign({},O,((e={})[y]=b?m+\"px\":\"\",e[v]=_?f+\"px\":\"\",e.transform=\"\",e))}const fe={name:\"computeStyles\",enabled:!0,phase:\"beforeWrite\",fn:function(t){var e=t.state,i=t.options,n=i.gpuAcceleration,s=void 0===n||n,o=i.adaptive,r=void 0===o||o,a=i.roundOffsets,l=void 0===a||a,c={placement:qt(e.placement),variation:he(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:s,isFixed:\"fixed\"===e.options.strategy};null!=e.modifiersData.popperOffsets&&(e.styles.popper=Object.assign({},e.styles.popper,ue(Object.assign({},c,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:r,roundOffsets:l})))),null!=e.modifiersData.arrow&&(e.styles.arrow=Object.assign({},e.styles.arrow,ue(Object.assign({},c,{offsets:e.modifiersData.arrow,position:\"absolute\",adaptive:!1,roundOffsets:l})))),e.attributes.popper=Object.assign({},e.attributes.popper,{\"data-popper-placement\":e.placement})},data:{}};var pe={passive:!0};const me={name:\"eventListeners\",enabled:!0,phase:\"write\",fn:function(){},effect:function(t){var e=t.state,i=t.instance,n=t.options,s=n.scroll,o=void 0===s||s,r=n.resize,a=void 0===r||r,l=$t(e.elements.popper),c=[].concat(e.scrollParents.reference,e.scrollParents.popper);return o&&c.forEach((function(t){t.addEventListener(\"scroll\",i.update,pe)})),a&&l.addEventListener(\"resize\",i.update,pe),function(){o&&c.forEach((function(t){t.removeEventListener(\"scroll\",i.update,pe)})),a&&l.removeEventListener(\"resize\",i.update,pe)}},data:{}};var ge={left:\"right\",right:\"left\",bottom:\"top\",top:\"bottom\"};function _e(t){return t.replace(/left|right|bottom|top/g,(function(t){return ge[t]}))}var be={start:\"end\",end:\"start\"};function ve(t){return t.replace(/start|end/g,(function(t){return be[t]}))}function ye(t){var e=$t(t);return{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}}function we(t){return Ut(ee(t)).left+ye(t).scrollLeft}function Ae(t){var e=Zt(t),i=e.overflow,n=e.overflowX,s=e.overflowY;return/auto|scroll|overlay|hidden/.test(i+s+n)}function Ee(t){return[\"html\",\"body\",\"#document\"].indexOf(Ht(t))>=0?t.ownerDocument.body:Bt(t)&&Ae(t)?t:Ee(ie(t))}function Te(t,e){var i;void 0===e&&(e=[]);var n=Ee(t),s=n===(null==(i=t.ownerDocument)?void 0:i.body),o=$t(n),r=s?[o].concat(o.visualViewport||[],Ae(n)?n:[]):n,a=e.concat(r);return s?a:a.concat(Te(ie(r)))}function Ce(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function Oe(t,e,i){return e===Et?Ce(function(t,e){var i=$t(t),n=ee(t),s=i.visualViewport,o=n.clientWidth,r=n.clientHeight,a=0,l=0;if(s){o=s.width,r=s.height;var c=Yt();(c||!c&&\"fixed\"===e)&&(a=s.offsetLeft,l=s.offsetTop)}return{width:o,height:r,x:a+we(t),y:l}}(t,i)):Wt(e)?function(t,e){var i=Ut(t,!1,\"fixed\"===e);return i.top=i.top+t.clientTop,i.left=i.left+t.clientLeft,i.bottom=i.top+t.clientHeight,i.right=i.left+t.clientWidth,i.width=t.clientWidth,i.height=t.clientHeight,i.x=i.left,i.y=i.top,i}(e,i):Ce(function(t){var e,i=ee(t),n=ye(t),s=null==(e=t.ownerDocument)?void 0:e.body,o=Vt(i.scrollWidth,i.clientWidth,s?s.scrollWidth:0,s?s.clientWidth:0),r=Vt(i.scrollHeight,i.clientHeight,s?s.scrollHeight:0,s?s.clientHeight:0),a=-n.scrollLeft+we(t),l=-n.scrollTop;return\"rtl\"===Zt(s||i).direction&&(a+=Vt(i.clientWidth,s?s.clientWidth:0)-o),{width:o,height:r,x:a,y:l}}(ee(t)))}function xe(t){var e,i=t.reference,n=t.element,s=t.placement,o=s?qt(s):null,r=s?he(s):null,a=i.x+i.width/2-n.width/2,l=i.y+i.height/2-n.height/2;switch(o){case pt:e={x:a,y:i.y-n.height};break;case mt:e={x:a,y:i.y+i.height};break;case gt:e={x:i.x+i.width,y:l};break;case _t:e={x:i.x-n.width,y:l};break;default:e={x:i.x,y:i.y}}var c=o?oe(o):null;if(null!=c){var h=\"y\"===c?\"height\":\"width\";switch(r){case yt:e[c]=e[c]-(i[h]/2-n[h]/2);break;case wt:e[c]=e[c]+(i[h]/2-n[h]/2)}}return e}function ke(t,e){void 0===e&&(e={});var i=e,n=i.placement,s=void 0===n?t.placement:n,o=i.strategy,r=void 0===o?t.strategy:o,a=i.boundary,l=void 0===a?At:a,c=i.rootBoundary,h=void 0===c?Et:c,d=i.elementContext,u=void 0===d?Tt:d,f=i.altBoundary,p=void 0!==f&&f,m=i.padding,g=void 0===m?0:m,_=ae(\"number\"!=typeof g?g:le(g,vt)),b=u===Tt?Ct:Tt,v=t.rects.popper,y=t.elements[p?b:u],w=function(t,e,i,n){var s=\"clippingParents\"===e?function(t){var e=Te(ie(t)),i=[\"absolute\",\"fixed\"].indexOf(Zt(t).position)>=0&&Bt(t)?se(t):t;return Wt(i)?e.filter((function(t){return Wt(t)&&Jt(t,i)&&\"body\"!==Ht(t)})):[]}(t):[].concat(e),o=[].concat(s,[i]),r=o[0],a=o.reduce((function(e,i){var s=Oe(t,i,n);return e.top=Vt(s.top,e.top),e.right=Kt(s.right,e.right),e.bottom=Kt(s.bottom,e.bottom),e.left=Vt(s.left,e.left),e}),Oe(t,r,n));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}(Wt(y)?y:y.contextElement||ee(t.elements.popper),l,h,r),A=Ut(t.elements.reference),E=xe({reference:A,element:v,strategy:\"absolute\",placement:s}),T=Ce(Object.assign({},v,E)),C=u===Tt?T:A,O={top:w.top-C.top+_.top,bottom:C.bottom-w.bottom+_.bottom,left:w.left-C.left+_.left,right:C.right-w.right+_.right},x=t.modifiersData.offset;if(u===Tt&&x){var k=x[s];Object.keys(O).forEach((function(t){var e=[gt,mt].indexOf(t)>=0?1:-1,i=[pt,mt].indexOf(t)>=0?\"y\":\"x\";O[t]+=k[i]*e}))}return O}function Le(t,e){void 0===e&&(e={});var i=e,n=i.placement,s=i.boundary,o=i.rootBoundary,r=i.padding,a=i.flipVariations,l=i.allowedAutoPlacements,c=void 0===l?xt:l,h=he(n),d=h?a?Ot:Ot.filter((function(t){return he(t)===h})):vt,u=d.filter((function(t){return c.indexOf(t)>=0}));0===u.length&&(u=d);var f=u.reduce((function(e,i){return e[i]=ke(t,{placement:i,boundary:s,rootBoundary:o,padding:r})[qt(i)],e}),{});return Object.keys(f).sort((function(t,e){return f[t]-f[e]}))}const Se={name:\"flip\",enabled:!0,phase:\"main\",fn:function(t){var e=t.state,i=t.options,n=t.name;if(!e.modifiersData[n]._skip){for(var s=i.mainAxis,o=void 0===s||s,r=i.altAxis,a=void 0===r||r,l=i.fallbackPlacements,c=i.padding,h=i.boundary,d=i.rootBoundary,u=i.altBoundary,f=i.flipVariations,p=void 0===f||f,m=i.allowedAutoPlacements,g=e.options.placement,_=qt(g),b=l||(_!==g&&p?function(t){if(qt(t)===bt)return[];var e=_e(t);return[ve(t),e,ve(e)]}(g):[_e(g)]),v=[g].concat(b).reduce((function(t,i){return t.concat(qt(i)===bt?Le(e,{placement:i,boundary:h,rootBoundary:d,padding:c,flipVariations:p,allowedAutoPlacements:m}):i)}),[]),y=e.rects.reference,w=e.rects.popper,A=new Map,E=!0,T=v[0],C=0;C<v.length;C++){var O=v[C],x=qt(O),k=he(O)===yt,L=[pt,mt].indexOf(x)>=0,S=L?\"width\":\"height\",D=ke(e,{placement:O,boundary:h,rootBoundary:d,altBoundary:u,padding:c}),I=L?k?gt:_t:k?mt:pt;y[S]>w[S]&&(I=_e(I));var N=_e(I),P=[];if(o&&P.push(D[x]<=0),a&&P.push(D[I]<=0,D[N]<=0),P.every((function(t){return t}))){T=O,E=!1;break}A.set(O,P)}if(E)for(var M=function(t){var e=v.find((function(e){var i=A.get(e);if(i)return i.slice(0,t).every((function(t){return t}))}));if(e)return T=e,\"break\"},j=p?3:1;j>0&&\"break\"!==M(j);j--);e.placement!==T&&(e.modifiersData[n]._skip=!0,e.placement=T,e.reset=!0)}},requiresIfExists:[\"offset\"],data:{_skip:!1}};function De(t,e,i){return void 0===i&&(i={x:0,y:0}),{top:t.top-e.height-i.y,right:t.right-e.width+i.x,bottom:t.bottom-e.height+i.y,left:t.left-e.width-i.x}}function Ie(t){return[pt,gt,mt,_t].some((function(e){return t[e]>=0}))}const Ne={name:\"hide\",enabled:!0,phase:\"main\",requiresIfExists:[\"preventOverflow\"],fn:function(t){var e=t.state,i=t.name,n=e.rects.reference,s=e.rects.popper,o=e.modifiersData.preventOverflow,r=ke(e,{elementContext:\"reference\"}),a=ke(e,{altBoundary:!0}),l=De(r,n),c=De(a,s,o),h=Ie(l),d=Ie(c);e.modifiersData[i]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:h,hasPopperEscaped:d},e.attributes.popper=Object.assign({},e.attributes.popper,{\"data-popper-reference-hidden\":h,\"data-popper-escaped\":d})}},Pe={name:\"offset\",enabled:!0,phase:\"main\",requires:[\"popperOffsets\"],fn:function(t){var e=t.state,i=t.options,n=t.name,s=i.offset,o=void 0===s?[0,0]:s,r=xt.reduce((function(t,i){return t[i]=function(t,e,i){var n=qt(t),s=[_t,pt].indexOf(n)>=0?-1:1,o=\"function\"==typeof i?i(Object.assign({},e,{placement:t})):i,r=o[0],a=o[1];return r=r||0,a=(a||0)*s,[_t,gt].indexOf(n)>=0?{x:a,y:r}:{x:r,y:a}}(i,e.rects,o),t}),{}),a=r[e.placement],l=a.x,c=a.y;null!=e.modifiersData.popperOffsets&&(e.modifiersData.popperOffsets.x+=l,e.modifiersData.popperOffsets.y+=c),e.modifiersData[n]=r}},Me={name:\"popperOffsets\",enabled:!0,phase:\"read\",fn:function(t){var e=t.state,i=t.name;e.modifiersData[i]=xe({reference:e.rects.reference,element:e.rects.popper,strategy:\"absolute\",placement:e.placement})},data:{}},je={name:\"preventOverflow\",enabled:!0,phase:\"main\",fn:function(t){var e=t.state,i=t.options,n=t.name,s=i.mainAxis,o=void 0===s||s,r=i.altAxis,a=void 0!==r&&r,l=i.boundary,c=i.rootBoundary,h=i.altBoundary,d=i.padding,u=i.tether,f=void 0===u||u,p=i.tetherOffset,m=void 0===p?0:p,g=ke(e,{boundary:l,rootBoundary:c,padding:d,altBoundary:h}),_=qt(e.placement),b=he(e.placement),v=!b,y=oe(_),w=\"x\"===y?\"y\":\"x\",A=e.modifiersData.popperOffsets,E=e.rects.reference,T=e.rects.popper,C=\"function\"==typeof m?m(Object.assign({},e.rects,{placement:e.placement})):m,O=\"number\"==typeof C?{mainAxis:C,altAxis:C}:Object.assign({mainAxis:0,altAxis:0},C),x=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,k={x:0,y:0};if(A){if(o){var L,S=\"y\"===y?pt:_t,D=\"y\"===y?mt:gt,I=\"y\"===y?\"height\":\"width\",N=A[y],P=N+g[S],M=N-g[D],j=f?-T[I]/2:0,F=b===yt?E[I]:T[I],H=b===yt?-T[I]:-E[I],$=e.elements.arrow,W=f&&$?Gt($):{width:0,height:0},B=e.modifiersData[\"arrow#persistent\"]?e.modifiersData[\"arrow#persistent\"].padding:{top:0,right:0,bottom:0,left:0},z=B[S],R=B[D],q=re(0,E[I],W[I]),V=v?E[I]/2-j-q-z-O.mainAxis:F-q-z-O.mainAxis,K=v?-E[I]/2+j+q+R+O.mainAxis:H+q+R+O.mainAxis,Q=e.elements.arrow&&se(e.elements.arrow),X=Q?\"y\"===y?Q.clientTop||0:Q.clientLeft||0:0,Y=null!=(L=null==x?void 0:x[y])?L:0,U=N+K-Y,G=re(f?Kt(P,N+V-Y-X):P,N,f?Vt(M,U):M);A[y]=G,k[y]=G-N}if(a){var J,Z=\"x\"===y?pt:_t,tt=\"x\"===y?mt:gt,et=A[w],it=\"y\"===w?\"height\":\"width\",nt=et+g[Z],st=et-g[tt],ot=-1!==[pt,_t].indexOf(_),rt=null!=(J=null==x?void 0:x[w])?J:0,at=ot?nt:et-E[it]-T[it]-rt+O.altAxis,lt=ot?et+E[it]+T[it]-rt-O.altAxis:st,ct=f&&ot?function(t,e,i){var n=re(t,e,i);return n>i?i:n}(at,et,lt):re(f?at:nt,et,f?lt:st);A[w]=ct,k[w]=ct-et}e.modifiersData[n]=k}},requiresIfExists:[\"offset\"]};function Fe(t,e,i){void 0===i&&(i=!1);var n,s,o=Bt(e),r=Bt(e)&&function(t){var e=t.getBoundingClientRect(),i=Qt(e.width)/t.offsetWidth||1,n=Qt(e.height)/t.offsetHeight||1;return 1!==i||1!==n}(e),a=ee(e),l=Ut(t,r,i),c={scrollLeft:0,scrollTop:0},h={x:0,y:0};return(o||!o&&!i)&&((\"body\"!==Ht(e)||Ae(a))&&(c=(n=e)!==$t(n)&&Bt(n)?{scrollLeft:(s=n).scrollLeft,scrollTop:s.scrollTop}:ye(n)),Bt(e)?((h=Ut(e,!0)).x+=e.clientLeft,h.y+=e.clientTop):a&&(h.x=we(a))),{x:l.left+c.scrollLeft-h.x,y:l.top+c.scrollTop-h.y,width:l.width,height:l.height}}function He(t){var e=new Map,i=new Set,n=[];function s(t){i.add(t.name),[].concat(t.requires||[],t.requiresIfExists||[]).forEach((function(t){if(!i.has(t)){var n=e.get(t);n&&s(n)}})),n.push(t)}return t.forEach((function(t){e.set(t.name,t)})),t.forEach((function(t){i.has(t.name)||s(t)})),n}var $e={placement:\"bottom\",modifiers:[],strategy:\"absolute\"};function We(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return!e.some((function(t){return!(t&&\"function\"==typeof t.getBoundingClientRect)}))}function Be(t){void 0===t&&(t={});var e=t,i=e.defaultModifiers,n=void 0===i?[]:i,s=e.defaultOptions,o=void 0===s?$e:s;return function(t,e,i){void 0===i&&(i=o);var s,r,a={placement:\"bottom\",orderedModifiers:[],options:Object.assign({},$e,o),modifiersData:{},elements:{reference:t,popper:e},attributes:{},styles:{}},l=[],c=!1,h={state:a,setOptions:function(i){var s=\"function\"==typeof i?i(a.options):i;d(),a.options=Object.assign({},o,a.options,s),a.scrollParents={reference:Wt(t)?Te(t):t.contextElement?Te(t.contextElement):[],popper:Te(e)};var r,c,u=function(t){var e=He(t);return Ft.reduce((function(t,i){return t.concat(e.filter((function(t){return t.phase===i})))}),[])}((r=[].concat(n,a.options.modifiers),c=r.reduce((function(t,e){var i=t[e.name];return t[e.name]=i?Object.assign({},i,e,{options:Object.assign({},i.options,e.options),data:Object.assign({},i.data,e.data)}):e,t}),{}),Object.keys(c).map((function(t){return c[t]}))));return a.orderedModifiers=u.filter((function(t){return t.enabled})),a.orderedModifiers.forEach((function(t){var e=t.name,i=t.options,n=void 0===i?{}:i,s=t.effect;if(\"function\"==typeof s){var o=s({state:a,name:e,instance:h,options:n});l.push(o||function(){})}})),h.update()},forceUpdate:function(){if(!c){var t=a.elements,e=t.reference,i=t.popper;if(We(e,i)){a.rects={reference:Fe(e,se(i),\"fixed\"===a.options.strategy),popper:Gt(i)},a.reset=!1,a.placement=a.options.placement,a.orderedModifiers.forEach((function(t){return a.modifiersData[t.name]=Object.assign({},t.data)}));for(var n=0;n<a.orderedModifiers.length;n++)if(!0!==a.reset){var s=a.orderedModifiers[n],o=s.fn,r=s.options,l=void 0===r?{}:r,d=s.name;\"function\"==typeof o&&(a=o({state:a,options:l,name:d,instance:h})||a)}else a.reset=!1,n=-1}}},update:(s=function(){return new Promise((function(t){h.forceUpdate(),t(a)}))},function(){return r||(r=new Promise((function(t){Promise.resolve().then((function(){r=void 0,t(s())}))}))),r}),destroy:function(){d(),c=!0}};if(!We(t,e))return h;function d(){l.forEach((function(t){return t()})),l=[]}return h.setOptions(i).then((function(t){!c&&i.onFirstUpdate&&i.onFirstUpdate(t)})),h}}var ze=Be(),Re=Be({defaultModifiers:[me,Me,fe,Rt]}),qe=Be({defaultModifiers:[me,Me,fe,Rt,Pe,Se,je,ce,Ne]});const Ve=Object.freeze(Object.defineProperty({__proto__:null,afterMain:Nt,afterRead:St,afterWrite:jt,applyStyles:Rt,arrow:ce,auto:bt,basePlacements:vt,beforeMain:Dt,beforeRead:kt,beforeWrite:Pt,bottom:mt,clippingParents:At,computeStyles:fe,createPopper:qe,createPopperBase:ze,createPopperLite:Re,detectOverflow:ke,end:wt,eventListeners:me,flip:Se,hide:Ne,left:_t,main:It,modifierPhases:Ft,offset:Pe,placements:xt,popper:Tt,popperGenerator:Be,popperOffsets:Me,preventOverflow:je,read:Lt,reference:Ct,right:gt,start:yt,top:pt,variationPlacements:Ot,viewport:Et,write:Mt},Symbol.toStringTag,{value:\"Module\"})),Ke=\"dropdown\",Qe=\"ArrowUp\",Xe=\"ArrowDown\",Ye=\"click.bs.dropdown.data-api\",Ue=\"keydown.bs.dropdown.data-api\",Ge=\"show\",Je='[data-bs-toggle=\"dropdown\"]:not(.disabled):not(:disabled)',Ze=`${Je}.show`,ti=\".dropdown-menu\",ei=p()?\"top-end\":\"top-start\",ii=p()?\"top-start\":\"top-end\",ni=p()?\"bottom-end\":\"bottom-start\",si=p()?\"bottom-start\":\"bottom-end\",oi=p()?\"left-start\":\"right-start\",ri=p()?\"right-start\":\"left-start\",ai={autoClose:!0,boundary:\"clippingParents\",display:\"dynamic\",offset:[0,2],popperConfig:null,reference:\"toggle\"},li={autoClose:\"(boolean|string)\",boundary:\"(string|element)\",display:\"string\",offset:\"(array|string|function)\",popperConfig:\"(null|object|function)\",reference:\"(string|element|object)\"};class ci extends W{constructor(t,e){super(t,e),this._popper=null,this._parent=this._element.parentNode,this._menu=z.next(this._element,ti)[0]||z.prev(this._element,ti)[0]||z.findOne(ti,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return ai}static get DefaultType(){return li}static get NAME(){return Ke}toggle(){return this._isShown()?this.hide():this.show()}show(){if(l(this._element)||this._isShown())return;const t={relatedTarget:this._element};if(!P.trigger(this._element,\"show.bs.dropdown\",t).defaultPrevented){if(this._createPopper(),\"ontouchstart\"in document.documentElement&&!this._parent.closest(\".navbar-nav\"))for(const t of[].concat(...document.body.children))P.on(t,\"mouseover\",h);this._element.focus(),this._element.setAttribute(\"aria-expanded\",!0),this._menu.classList.add(Ge),this._element.classList.add(Ge),P.trigger(this._element,\"shown.bs.dropdown\",t)}}hide(){if(l(this._element)||!this._isShown())return;const t={relatedTarget:this._element};this._completeHide(t)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(t){if(!P.trigger(this._element,\"hide.bs.dropdown\",t).defaultPrevented){if(\"ontouchstart\"in document.documentElement)for(const t of[].concat(...document.body.children))P.off(t,\"mouseover\",h);this._popper&&this._popper.destroy(),this._menu.classList.remove(Ge),this._element.classList.remove(Ge),this._element.setAttribute(\"aria-expanded\",\"false\"),H.removeDataAttribute(this._menu,\"popper\"),P.trigger(this._element,\"hidden.bs.dropdown\",t)}}_getConfig(t){if(\"object\"==typeof(t=super._getConfig(t)).reference&&!o(t.reference)&&\"function\"!=typeof t.reference.getBoundingClientRect)throw new TypeError(`${Ke.toUpperCase()}: Option \"reference\" provided type \"object\" without a required \"getBoundingClientRect\" method.`);return t}_createPopper(){if(void 0===Ve)throw new TypeError(\"Bootstrap's dropdowns require Popper (https://popper.js.org)\");let t=this._element;\"parent\"===this._config.reference?t=this._parent:o(this._config.reference)?t=r(this._config.reference):\"object\"==typeof this._config.reference&&(t=this._config.reference);const e=this._getPopperConfig();this._popper=qe(t,this._menu,e)}_isShown(){return this._menu.classList.contains(Ge)}_getPlacement(){const t=this._parent;if(t.classList.contains(\"dropend\"))return oi;if(t.classList.contains(\"dropstart\"))return ri;if(t.classList.contains(\"dropup-center\"))return\"top\";if(t.classList.contains(\"dropdown-center\"))return\"bottom\";const e=\"end\"===getComputedStyle(this._menu).getPropertyValue(\"--bs-position\").trim();return t.classList.contains(\"dropup\")?e?ii:ei:e?si:ni}_detectNavbar(){return null!==this._element.closest(\".navbar\")}_getOffset(){const{offset:t}=this._config;return\"string\"==typeof t?t.split(\",\").map((t=>Number.parseInt(t,10))):\"function\"==typeof t?e=>t(e,this._element):t}_getPopperConfig(){const t={placement:this._getPlacement(),modifiers:[{name:\"preventOverflow\",options:{boundary:this._config.boundary}},{name:\"offset\",options:{offset:this._getOffset()}}]};return(this._inNavbar||\"static\"===this._config.display)&&(H.setDataAttribute(this._menu,\"popper\",\"static\"),t.modifiers=[{name:\"applyStyles\",enabled:!1}]),{...t,...g(this._config.popperConfig,[t])}}_selectMenuItem({key:t,target:e}){const i=z.find(\".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)\",this._menu).filter((t=>a(t)));i.length&&b(i,e,t===Xe,!i.includes(e)).focus()}static jQueryInterface(t){return this.each((function(){const e=ci.getOrCreateInstance(this,t);if(\"string\"==typeof t){if(void 0===e[t])throw new TypeError(`No method named \"${t}\"`);e[t]()}}))}static clearMenus(t){if(2===t.button||\"keyup\"===t.type&&\"Tab\"!==t.key)return;const e=z.find(Ze);for(const i of e){const e=ci.getInstance(i);if(!e||!1===e._config.autoClose)continue;const n=t.composedPath(),s=n.includes(e._menu);if(n.includes(e._element)||\"inside\"===e._config.autoClose&&!s||\"outside\"===e._config.autoClose&&s)continue;if(e._menu.contains(t.target)&&(\"keyup\"===t.type&&\"Tab\"===t.key||/input|select|option|textarea|form/i.test(t.target.tagName)))continue;const o={relatedTarget:e._element};\"click\"===t.type&&(o.clickEvent=t),e._completeHide(o)}}static dataApiKeydownHandler(t){const e=/input|textarea/i.test(t.target.tagName),i=\"Escape\"===t.key,n=[Qe,Xe].includes(t.key);if(!n&&!i)return;if(e&&!i)return;t.preventDefault();const s=this.matches(Je)?this:z.prev(this,Je)[0]||z.next(this,Je)[0]||z.findOne(Je,t.delegateTarget.parentNode),o=ci.getOrCreateInstance(s);if(n)return t.stopPropagation(),o.show(),void o._selectMenuItem(t);o._isShown()&&(t.stopPropagation(),o.hide(),s.focus())}}P.on(document,Ue,Je,ci.dataApiKeydownHandler),P.on(document,Ue,ti,ci.dataApiKeydownHandler),P.on(document,Ye,ci.clearMenus),P.on(document,\"keyup.bs.dropdown.data-api\",ci.clearMenus),P.on(document,Ye,Je,(function(t){t.preventDefault(),ci.getOrCreateInstance(this).toggle()})),m(ci);const hi=\"show\",di=\"mousedown.bs.backdrop\",ui={className:\"modal-backdrop\",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:\"body\"},fi={className:\"string\",clickCallback:\"(function|null)\",isAnimated:\"boolean\",isVisible:\"boolean\",rootElement:\"(element|string)\"};class pi extends ${constructor(t){super(),this._config=this._getConfig(t),this._isAppended=!1,this._element=null}static get Default(){return ui}static get DefaultType(){return fi}static get NAME(){return\"backdrop\"}show(t){if(!this._config.isVisible)return void g(t);this._append();const e=this._getElement();this._config.isAnimated&&d(e),e.classList.add(hi),this._emulateAnimation((()=>{g(t)}))}hide(t){this._config.isVisible?(this._getElement().classList.remove(hi),this._emulateAnimation((()=>{this.dispose(),g(t)}))):g(t)}dispose(){this._isAppended&&(P.off(this._element,di),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const t=document.createElement(\"div\");t.className=this._config.className,this._config.isAnimated&&t.classList.add(\"fade\"),this._element=t}return this._element}_configAfterMerge(t){return t.rootElement=r(t.rootElement),t}_append(){if(this._isAppended)return;const t=this._getElement();this._config.rootElement.append(t),P.on(t,di,(()=>{g(this._config.clickCallback)})),this._isAppended=!0}_emulateAnimation(t){_(t,this._getElement(),this._config.isAnimated)}}const mi=\".bs.focustrap\",gi=\"backward\",_i={autofocus:!0,trapElement:null},bi={autofocus:\"boolean\",trapElement:\"element\"};class vi extends ${constructor(t){super(),this._config=this._getConfig(t),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return _i}static get DefaultType(){return bi}static get NAME(){return\"focustrap\"}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),P.off(document,mi),P.on(document,\"focusin.bs.focustrap\",(t=>this._handleFocusin(t))),P.on(document,\"keydown.tab.bs.focustrap\",(t=>this._handleKeydown(t))),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,P.off(document,mi))}_handleFocusin(t){const{trapElement:e}=this._config;if(t.target===document||t.target===e||e.contains(t.target))return;const i=z.focusableChildren(e);0===i.length?e.focus():this._lastTabNavDirection===gi?i[i.length-1].focus():i[0].focus()}_handleKeydown(t){\"Tab\"===t.key&&(this._lastTabNavDirection=t.shiftKey?gi:\"forward\")}}const yi=\".fixed-top, .fixed-bottom, .is-fixed, .sticky-top\",wi=\".sticky-top\",Ai=\"padding-right\",Ei=\"margin-right\";class Ti{constructor(){this._element=document.body}getWidth(){const t=document.documentElement.clientWidth;return Math.abs(window.innerWidth-t)}hide(){const t=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,Ai,(e=>e+t)),this._setElementAttributes(yi,Ai,(e=>e+t)),this._setElementAttributes(wi,Ei,(e=>e-t))}reset(){this._resetElementAttributes(this._element,\"overflow\"),this._resetElementAttributes(this._element,Ai),this._resetElementAttributes(yi,Ai),this._resetElementAttributes(wi,Ei)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,\"overflow\"),this._element.style.overflow=\"hidden\"}_setElementAttributes(t,e,i){const n=this.getWidth();this._applyManipulationCallback(t,(t=>{if(t!==this._element&&window.innerWidth>t.clientWidth+n)return;this._saveInitialAttribute(t,e);const s=window.getComputedStyle(t).getPropertyValue(e);t.style.setProperty(e,`${i(Number.parseFloat(s))}px`)}))}_saveInitialAttribute(t,e){const i=t.style.getPropertyValue(e);i&&H.setDataAttribute(t,e,i)}_resetElementAttributes(t,e){this._applyManipulationCallback(t,(t=>{const i=H.getDataAttribute(t,e);null!==i?(H.removeDataAttribute(t,e),t.style.setProperty(e,i)):t.style.removeProperty(e)}))}_applyManipulationCallback(t,e){if(o(t))e(t);else for(const i of z.find(t,this._element))e(i)}}const Ci=\".bs.modal\",Oi=\"hidden.bs.modal\",xi=\"show.bs.modal\",ki=\"modal-open\",Li=\"show\",Si=\"modal-static\",Di={backdrop:!0,focus:!0,keyboard:!0},Ii={backdrop:\"(boolean|string)\",focus:\"boolean\",keyboard:\"boolean\"};class Ni extends W{constructor(t,e){super(t,e),this._dialog=z.findOne(\".modal-dialog\",this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new Ti,this._addEventListeners()}static get Default(){return Di}static get DefaultType(){return Ii}static get NAME(){return\"modal\"}toggle(t){return this._isShown?this.hide():this.show(t)}show(t){this._isShown||this._isTransitioning||P.trigger(this._element,xi,{relatedTarget:t}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(ki),this._adjustDialog(),this._backdrop.show((()=>this._showElement(t))))}hide(){this._isShown&&!this._isTransitioning&&(P.trigger(this._element,\"hide.bs.modal\").defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(Li),this._queueCallback((()=>this._hideModal()),this._element,this._isAnimated())))}dispose(){P.off(window,Ci),P.off(this._dialog,Ci),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new pi({isVisible:Boolean(this._config.backdrop),isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new vi({trapElement:this._element})}_showElement(t){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display=\"block\",this._element.removeAttribute(\"aria-hidden\"),this._element.setAttribute(\"aria-modal\",!0),this._element.setAttribute(\"role\",\"dialog\"),this._element.scrollTop=0;const e=z.findOne(\".modal-body\",this._dialog);e&&(e.scrollTop=0),d(this._element),this._element.classList.add(Li),this._queueCallback((()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,P.trigger(this._element,\"shown.bs.modal\",{relatedTarget:t})}),this._dialog,this._isAnimated())}_addEventListeners(){P.on(this._element,\"keydown.dismiss.bs.modal\",(t=>{\"Escape\"===t.key&&(this._config.keyboard?this.hide():this._triggerBackdropTransition())})),P.on(window,\"resize.bs.modal\",(()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()})),P.on(this._element,\"mousedown.dismiss.bs.modal\",(t=>{P.one(this._element,\"click.dismiss.bs.modal\",(e=>{this._element===t.target&&this._element===e.target&&(\"static\"!==this._config.backdrop?this._config.backdrop&&this.hide():this._triggerBackdropTransition())}))}))}_hideModal(){this._element.style.display=\"none\",this._element.setAttribute(\"aria-hidden\",!0),this._element.removeAttribute(\"aria-modal\"),this._element.removeAttribute(\"role\"),this._isTransitioning=!1,this._backdrop.hide((()=>{document.body.classList.remove(ki),this._resetAdjustments(),this._scrollBar.reset(),P.trigger(this._element,Oi)}))}_isAnimated(){return this._element.classList.contains(\"fade\")}_triggerBackdropTransition(){if(P.trigger(this._element,\"hidePrevented.bs.modal\").defaultPrevented)return;const t=this._element.scrollHeight>document.documentElement.clientHeight,e=this._element.style.overflowY;\"hidden\"===e||this._element.classList.contains(Si)||(t||(this._element.style.overflowY=\"hidden\"),this._element.classList.add(Si),this._queueCallback((()=>{this._element.classList.remove(Si),this._queueCallback((()=>{this._element.style.overflowY=e}),this._dialog)}),this._dialog),this._element.focus())}_adjustDialog(){const t=this._element.scrollHeight>document.documentElement.clientHeight,e=this._scrollBar.getWidth(),i=e>0;if(i&&!t){const t=p()?\"paddingLeft\":\"paddingRight\";this._element.style[t]=`${e}px`}if(!i&&t){const t=p()?\"paddingRight\":\"paddingLeft\";this._element.style[t]=`${e}px`}}_resetAdjustments(){this._element.style.paddingLeft=\"\",this._element.style.paddingRight=\"\"}static jQueryInterface(t,e){return this.each((function(){const i=Ni.getOrCreateInstance(this,t);if(\"string\"==typeof t){if(void 0===i[t])throw new TypeError(`No method named \"${t}\"`);i[t](e)}}))}}P.on(document,\"click.bs.modal.data-api\",'[data-bs-toggle=\"modal\"]',(function(t){const e=z.getElementFromSelector(this);[\"A\",\"AREA\"].includes(this.tagName)&&t.preventDefault(),P.one(e,xi,(t=>{t.defaultPrevented||P.one(e,Oi,(()=>{a(this)&&this.focus()}))}));const i=z.findOne(\".modal.show\");i&&Ni.getInstance(i).hide(),Ni.getOrCreateInstance(e).toggle(this)})),R(Ni),m(Ni);const Pi=\"show\",Mi=\"showing\",ji=\"hiding\",Fi=\".offcanvas.show\",Hi=\"hidePrevented.bs.offcanvas\",$i=\"hidden.bs.offcanvas\",Wi={backdrop:!0,keyboard:!0,scroll:!1},Bi={backdrop:\"(boolean|string)\",keyboard:\"boolean\",scroll:\"boolean\"};class zi extends W{constructor(t,e){super(t,e),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return Wi}static get DefaultType(){return Bi}static get NAME(){return\"offcanvas\"}toggle(t){return this._isShown?this.hide():this.show(t)}show(t){this._isShown||P.trigger(this._element,\"show.bs.offcanvas\",{relatedTarget:t}).defaultPrevented||(this._isShown=!0,this._backdrop.show(),this._config.scroll||(new Ti).hide(),this._element.setAttribute(\"aria-modal\",!0),this._element.setAttribute(\"role\",\"dialog\"),this._element.classList.add(Mi),this._queueCallback((()=>{this._config.scroll&&!this._config.backdrop||this._focustrap.activate(),this._element.classList.add(Pi),this._element.classList.remove(Mi),P.trigger(this._element,\"shown.bs.offcanvas\",{relatedTarget:t})}),this._element,!0))}hide(){this._isShown&&(P.trigger(this._element,\"hide.bs.offcanvas\").defaultPrevented||(this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(ji),this._backdrop.hide(),this._queueCallback((()=>{this._element.classList.remove(Pi,ji),this._element.removeAttribute(\"aria-modal\"),this._element.removeAttribute(\"role\"),this._config.scroll||(new Ti).reset(),P.trigger(this._element,$i)}),this._element,!0)))}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const t=Boolean(this._config.backdrop);return new pi({className:\"offcanvas-backdrop\",isVisible:t,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:t?()=>{\"static\"!==this._config.backdrop?this.hide():P.trigger(this._element,Hi)}:null})}_initializeFocusTrap(){return new vi({trapElement:this._element})}_addEventListeners(){P.on(this._element,\"keydown.dismiss.bs.offcanvas\",(t=>{\"Escape\"===t.key&&(this._config.keyboard?this.hide():P.trigger(this._element,Hi))}))}static jQueryInterface(t){return this.each((function(){const e=zi.getOrCreateInstance(this,t);if(\"string\"==typeof t){if(void 0===e[t]||t.startsWith(\"_\")||\"constructor\"===t)throw new TypeError(`No method named \"${t}\"`);e[t](this)}}))}}P.on(document,\"click.bs.offcanvas.data-api\",'[data-bs-toggle=\"offcanvas\"]',(function(t){const e=z.getElementFromSelector(this);if([\"A\",\"AREA\"].includes(this.tagName)&&t.preventDefault(),l(this))return;P.one(e,$i,(()=>{a(this)&&this.focus()}));const i=z.findOne(Fi);i&&i!==e&&zi.getInstance(i).hide(),zi.getOrCreateInstance(e).toggle(this)})),P.on(window,\"load.bs.offcanvas.data-api\",(()=>{for(const t of z.find(Fi))zi.getOrCreateInstance(t).show()})),P.on(window,\"resize.bs.offcanvas\",(()=>{for(const t of z.find(\"[aria-modal][class*=show][class*=offcanvas-]\"))\"fixed\"!==getComputedStyle(t).position&&zi.getOrCreateInstance(t).hide()})),R(zi),m(zi);const Ri={\"*\":[\"class\",\"dir\",\"id\",\"lang\",\"role\",/^aria-[\\w-]*$/i],a:[\"target\",\"href\",\"title\",\"rel\"],area:[],b:[],br:[],col:[],code:[],div:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:[\"src\",\"srcset\",\"alt\",\"title\",\"width\",\"height\"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},qi=new Set([\"background\",\"cite\",\"href\",\"itemtype\",\"longdesc\",\"poster\",\"src\",\"xlink:href\"]),Vi=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,Ki=(t,e)=>{const i=t.nodeName.toLowerCase();return e.includes(i)?!qi.has(i)||Boolean(Vi.test(t.nodeValue)):e.filter((t=>t instanceof RegExp)).some((t=>t.test(i)))},Qi={allowList:Ri,content:{},extraClass:\"\",html:!1,sanitize:!0,sanitizeFn:null,template:\"<div></div>\"},Xi={allowList:\"object\",content:\"object\",extraClass:\"(string|function)\",html:\"boolean\",sanitize:\"boolean\",sanitizeFn:\"(null|function)\",template:\"string\"},Yi={entry:\"(string|element|function|null)\",selector:\"(string|element)\"};class Ui extends ${constructor(t){super(),this._config=this._getConfig(t)}static get Default(){return Qi}static get DefaultType(){return Xi}static get NAME(){return\"TemplateFactory\"}getContent(){return Object.values(this._config.content).map((t=>this._resolvePossibleFunction(t))).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(t){return this._checkContent(t),this._config.content={...this._config.content,...t},this}toHtml(){const t=document.createElement(\"div\");t.innerHTML=this._maybeSanitize(this._config.template);for(const[e,i]of Object.entries(this._config.content))this._setContent(t,i,e);const e=t.children[0],i=this._resolvePossibleFunction(this._config.extraClass);return i&&e.classList.add(...i.split(\" \")),e}_typeCheckConfig(t){super._typeCheckConfig(t),this._checkContent(t.content)}_checkContent(t){for(const[e,i]of Object.entries(t))super._typeCheckConfig({selector:e,entry:i},Yi)}_setContent(t,e,i){const n=z.findOne(i,t);n&&((e=this._resolvePossibleFunction(e))?o(e)?this._putElementInTemplate(r(e),n):this._config.html?n.innerHTML=this._maybeSanitize(e):n.textContent=e:n.remove())}_maybeSanitize(t){return this._config.sanitize?function(t,e,i){if(!t.length)return t;if(i&&\"function\"==typeof i)return i(t);const n=(new window.DOMParser).parseFromString(t,\"text/html\"),s=[].concat(...n.body.querySelectorAll(\"*\"));for(const t of s){const i=t.nodeName.toLowerCase();if(!Object.keys(e).includes(i)){t.remove();continue}const n=[].concat(...t.attributes),s=[].concat(e[\"*\"]||[],e[i]||[]);for(const e of n)Ki(e,s)||t.removeAttribute(e.nodeName)}return n.body.innerHTML}(t,this._config.allowList,this._config.sanitizeFn):t}_resolvePossibleFunction(t){return g(t,[this])}_putElementInTemplate(t,e){if(this._config.html)return e.innerHTML=\"\",void e.append(t);e.textContent=t.textContent}}const Gi=new Set([\"sanitize\",\"allowList\",\"sanitizeFn\"]),Ji=\"fade\",Zi=\"show\",tn=\".modal\",en=\"hide.bs.modal\",nn=\"hover\",sn=\"focus\",on={AUTO:\"auto\",TOP:\"top\",RIGHT:p()?\"left\":\"right\",BOTTOM:\"bottom\",LEFT:p()?\"right\":\"left\"},rn={allowList:Ri,animation:!0,boundary:\"clippingParents\",container:!1,customClass:\"\",delay:0,fallbackPlacements:[\"top\",\"right\",\"bottom\",\"left\"],html:!1,offset:[0,6],placement:\"top\",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class=\"tooltip\" role=\"tooltip\"><div class=\"tooltip-arrow\"></div><div class=\"tooltip-inner\"></div></div>',title:\"\",trigger:\"hover focus\"},an={allowList:\"object\",animation:\"boolean\",boundary:\"(string|element)\",container:\"(string|element|boolean)\",customClass:\"(string|function)\",delay:\"(number|object)\",fallbackPlacements:\"array\",html:\"boolean\",offset:\"(array|string|function)\",placement:\"(string|function)\",popperConfig:\"(null|object|function)\",sanitize:\"boolean\",sanitizeFn:\"(null|function)\",selector:\"(string|boolean)\",template:\"string\",title:\"(string|element|function)\",trigger:\"string\"};class ln extends W{constructor(t,e){if(void 0===Ve)throw new TypeError(\"Bootstrap's tooltips require Popper (https://popper.js.org)\");super(t,e),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return rn}static get DefaultType(){return an}static get NAME(){return\"tooltip\"}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){this._isEnabled&&(this._activeTrigger.click=!this._activeTrigger.click,this._isShown()?this._leave():this._enter())}dispose(){clearTimeout(this._timeout),P.off(this._element.closest(tn),en,this._hideModalHandler),this._element.getAttribute(\"data-bs-original-title\")&&this._element.setAttribute(\"title\",this._element.getAttribute(\"data-bs-original-title\")),this._disposePopper(),super.dispose()}show(){if(\"none\"===this._element.style.display)throw new Error(\"Please use show on visible elements\");if(!this._isWithContent()||!this._isEnabled)return;const t=P.trigger(this._element,this.constructor.eventName(\"show\")),e=(c(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(t.defaultPrevented||!e)return;this._disposePopper();const i=this._getTipElement();this._element.setAttribute(\"aria-describedby\",i.getAttribute(\"id\"));const{container:n}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(n.append(i),P.trigger(this._element,this.constructor.eventName(\"inserted\"))),this._popper=this._createPopper(i),i.classList.add(Zi),\"ontouchstart\"in document.documentElement)for(const t of[].concat(...document.body.children))P.on(t,\"mouseover\",h);this._queueCallback((()=>{P.trigger(this._element,this.constructor.eventName(\"shown\")),!1===this._isHovered&&this._leave(),this._isHovered=!1}),this.tip,this._isAnimated())}hide(){if(this._isShown()&&!P.trigger(this._element,this.constructor.eventName(\"hide\")).defaultPrevented){if(this._getTipElement().classList.remove(Zi),\"ontouchstart\"in document.documentElement)for(const t of[].concat(...document.body.children))P.off(t,\"mouseover\",h);this._activeTrigger.click=!1,this._activeTrigger.focus=!1,this._activeTrigger.hover=!1,this._isHovered=null,this._queueCallback((()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute(\"aria-describedby\"),P.trigger(this._element,this.constructor.eventName(\"hidden\")))}),this.tip,this._isAnimated())}}update(){this._popper&&this._popper.update()}_isWithContent(){return Boolean(this._getTitle())}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(t){const e=this._getTemplateFactory(t).toHtml();if(!e)return null;e.classList.remove(Ji,Zi),e.classList.add(`bs-${this.constructor.NAME}-auto`);const i=(t=>{do{t+=Math.floor(1e6*Math.random())}while(document.getElementById(t));return t})(this.constructor.NAME).toString();return e.setAttribute(\"id\",i),this._isAnimated()&&e.classList.add(Ji),e}setContent(t){this._newContent=t,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(t){return this._templateFactory?this._templateFactory.changeContent(t):this._templateFactory=new Ui({...this._config,content:t,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{\".tooltip-inner\":this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute(\"data-bs-original-title\")}_initializeOnDelegatedTarget(t){return this.constructor.getOrCreateInstance(t.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(Ji)}_isShown(){return this.tip&&this.tip.classList.contains(Zi)}_createPopper(t){const e=g(this._config.placement,[this,t,this._element]),i=on[e.toUpperCase()];return qe(this._element,t,this._getPopperConfig(i))}_getOffset(){const{offset:t}=this._config;return\"string\"==typeof t?t.split(\",\").map((t=>Number.parseInt(t,10))):\"function\"==typeof t?e=>t(e,this._element):t}_resolvePossibleFunction(t){return g(t,[this._element])}_getPopperConfig(t){const e={placement:t,modifiers:[{name:\"flip\",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:\"offset\",options:{offset:this._getOffset()}},{name:\"preventOverflow\",options:{boundary:this._config.boundary}},{name:\"arrow\",options:{element:`.${this.constructor.NAME}-arrow`}},{name:\"preSetPlacement\",enabled:!0,phase:\"beforeMain\",fn:t=>{this._getTipElement().setAttribute(\"data-popper-placement\",t.state.placement)}}]};return{...e,...g(this._config.popperConfig,[e])}}_setListeners(){const t=this._config.trigger.split(\" \");for(const e of t)if(\"click\"===e)P.on(this._element,this.constructor.eventName(\"click\"),this._config.selector,(t=>{this._initializeOnDelegatedTarget(t).toggle()}));else if(\"manual\"!==e){const t=e===nn?this.constructor.eventName(\"mouseenter\"):this.constructor.eventName(\"focusin\"),i=e===nn?this.constructor.eventName(\"mouseleave\"):this.constructor.eventName(\"focusout\");P.on(this._element,t,this._config.selector,(t=>{const e=this._initializeOnDelegatedTarget(t);e._activeTrigger[\"focusin\"===t.type?sn:nn]=!0,e._enter()})),P.on(this._element,i,this._config.selector,(t=>{const e=this._initializeOnDelegatedTarget(t);e._activeTrigger[\"focusout\"===t.type?sn:nn]=e._element.contains(t.relatedTarget),e._leave()}))}this._hideModalHandler=()=>{this._element&&this.hide()},P.on(this._element.closest(tn),en,this._hideModalHandler)}_fixTitle(){const t=this._element.getAttribute(\"title\");t&&(this._element.getAttribute(\"aria-label\")||this._element.textContent.trim()||this._element.setAttribute(\"aria-label\",t),this._element.setAttribute(\"data-bs-original-title\",t),this._element.removeAttribute(\"title\"))}_enter(){this._isShown()||this._isHovered?this._isHovered=!0:(this._isHovered=!0,this._setTimeout((()=>{this._isHovered&&this.show()}),this._config.delay.show))}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout((()=>{this._isHovered||this.hide()}),this._config.delay.hide))}_setTimeout(t,e){clearTimeout(this._timeout),this._timeout=setTimeout(t,e)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(t){const e=H.getDataAttributes(this._element);for(const t of Object.keys(e))Gi.has(t)&&delete e[t];return t={...e,...\"object\"==typeof t&&t?t:{}},t=this._mergeConfigObj(t),t=this._configAfterMerge(t),this._typeCheckConfig(t),t}_configAfterMerge(t){return t.container=!1===t.container?document.body:r(t.container),\"number\"==typeof t.delay&&(t.delay={show:t.delay,hide:t.delay}),\"number\"==typeof t.title&&(t.title=t.title.toString()),\"number\"==typeof t.content&&(t.content=t.content.toString()),t}_getDelegateConfig(){const t={};for(const[e,i]of Object.entries(this._config))this.constructor.Default[e]!==i&&(t[e]=i);return t.selector=!1,t.trigger=\"manual\",t}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(t){return this.each((function(){const e=ln.getOrCreateInstance(this,t);if(\"string\"==typeof t){if(void 0===e[t])throw new TypeError(`No method named \"${t}\"`);e[t]()}}))}}m(ln);const cn={...ln.Default,content:\"\",offset:[0,8],placement:\"right\",template:'<div class=\"popover\" role=\"tooltip\"><div class=\"popover-arrow\"></div><h3 class=\"popover-header\"></h3><div class=\"popover-body\"></div></div>',trigger:\"click\"},hn={...ln.DefaultType,content:\"(null|string|element|function)\"};class dn extends ln{static get Default(){return cn}static get DefaultType(){return hn}static get NAME(){return\"popover\"}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{\".popover-header\":this._getTitle(),\".popover-body\":this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(t){return this.each((function(){const e=dn.getOrCreateInstance(this,t);if(\"string\"==typeof t){if(void 0===e[t])throw new TypeError(`No method named \"${t}\"`);e[t]()}}))}}m(dn);const un=\"click.bs.scrollspy\",fn=\"active\",pn=\"[href]\",mn={offset:null,rootMargin:\"0px 0px -25%\",smoothScroll:!1,target:null,threshold:[.1,.5,1]},gn={offset:\"(number|null)\",rootMargin:\"string\",smoothScroll:\"boolean\",target:\"element\",threshold:\"array\"};class _n extends W{constructor(t,e){super(t,e),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement=\"visible\"===getComputedStyle(this._element).overflowY?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return mn}static get DefaultType(){return gn}static get NAME(){return\"scrollspy\"}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const t of this._observableSections.values())this._observer.observe(t)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(t){return t.target=r(t.target)||document.body,t.rootMargin=t.offset?`${t.offset}px 0px -30%`:t.rootMargin,\"string\"==typeof t.threshold&&(t.threshold=t.threshold.split(\",\").map((t=>Number.parseFloat(t)))),t}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(P.off(this._config.target,un),P.on(this._config.target,un,pn,(t=>{const e=this._observableSections.get(t.target.hash);if(e){t.preventDefault();const i=this._rootElement||window,n=e.offsetTop-this._element.offsetTop;if(i.scrollTo)return void i.scrollTo({top:n,behavior:\"smooth\"});i.scrollTop=n}})))}_getNewObserver(){const t={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver((t=>this._observerCallback(t)),t)}_observerCallback(t){const e=t=>this._targetLinks.get(`#${t.target.id}`),i=t=>{this._previousScrollData.visibleEntryTop=t.target.offsetTop,this._process(e(t))},n=(this._rootElement||document.documentElement).scrollTop,s=n>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=n;for(const o of t){if(!o.isIntersecting){this._activeTarget=null,this._clearActiveClass(e(o));continue}const t=o.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(s&&t){if(i(o),!n)return}else s||t||i(o)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const t=z.find(pn,this._config.target);for(const e of t){if(!e.hash||l(e))continue;const t=z.findOne(decodeURI(e.hash),this._element);a(t)&&(this._targetLinks.set(decodeURI(e.hash),e),this._observableSections.set(e.hash,t))}}_process(t){this._activeTarget!==t&&(this._clearActiveClass(this._config.target),this._activeTarget=t,t.classList.add(fn),this._activateParents(t),P.trigger(this._element,\"activate.bs.scrollspy\",{relatedTarget:t}))}_activateParents(t){if(t.classList.contains(\"dropdown-item\"))z.findOne(\".dropdown-toggle\",t.closest(\".dropdown\")).classList.add(fn);else for(const e of z.parents(t,\".nav, .list-group\"))for(const t of z.prev(e,\".nav-link, .nav-item > .nav-link, .list-group-item\"))t.classList.add(fn)}_clearActiveClass(t){t.classList.remove(fn);const e=z.find(\"[href].active\",t);for(const t of e)t.classList.remove(fn)}static jQueryInterface(t){return this.each((function(){const e=_n.getOrCreateInstance(this,t);if(\"string\"==typeof t){if(void 0===e[t]||t.startsWith(\"_\")||\"constructor\"===t)throw new TypeError(`No method named \"${t}\"`);e[t]()}}))}}P.on(window,\"load.bs.scrollspy.data-api\",(()=>{for(const t of z.find('[data-bs-spy=\"scroll\"]'))_n.getOrCreateInstance(t)})),m(_n);const bn=\"ArrowLeft\",vn=\"ArrowRight\",yn=\"ArrowUp\",wn=\"ArrowDown\",An=\"active\",En=\"fade\",Tn=\"show\",Cn='[data-bs-toggle=\"tab\"], [data-bs-toggle=\"pill\"], [data-bs-toggle=\"list\"]',On=`.nav-link:not(.dropdown-toggle), .list-group-item:not(.dropdown-toggle), [role=\"tab\"]:not(.dropdown-toggle), ${Cn}`;class xn extends W{constructor(t){super(t),this._parent=this._element.closest('.list-group, .nav, [role=\"tablist\"]'),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),P.on(this._element,\"keydown.bs.tab\",(t=>this._keydown(t))))}static get NAME(){return\"tab\"}show(){const t=this._element;if(this._elemIsActive(t))return;const e=this._getActiveElem(),i=e?P.trigger(e,\"hide.bs.tab\",{relatedTarget:t}):null;P.trigger(t,\"show.bs.tab\",{relatedTarget:e}).defaultPrevented||i&&i.defaultPrevented||(this._deactivate(e,t),this._activate(t,e))}_activate(t,e){t&&(t.classList.add(An),this._activate(z.getElementFromSelector(t)),this._queueCallback((()=>{\"tab\"===t.getAttribute(\"role\")?(t.removeAttribute(\"tabindex\"),t.setAttribute(\"aria-selected\",!0),this._toggleDropDown(t,!0),P.trigger(t,\"shown.bs.tab\",{relatedTarget:e})):t.classList.add(Tn)}),t,t.classList.contains(En)))}_deactivate(t,e){t&&(t.classList.remove(An),t.blur(),this._deactivate(z.getElementFromSelector(t)),this._queueCallback((()=>{\"tab\"===t.getAttribute(\"role\")?(t.setAttribute(\"aria-selected\",!1),t.setAttribute(\"tabindex\",\"-1\"),this._toggleDropDown(t,!1),P.trigger(t,\"hidden.bs.tab\",{relatedTarget:e})):t.classList.remove(Tn)}),t,t.classList.contains(En)))}_keydown(t){if(![bn,vn,yn,wn].includes(t.key))return;t.stopPropagation(),t.preventDefault();const e=[vn,wn].includes(t.key),i=b(this._getChildren().filter((t=>!l(t))),t.target,e,!0);i&&(i.focus({preventScroll:!0}),xn.getOrCreateInstance(i).show())}_getChildren(){return z.find(On,this._parent)}_getActiveElem(){return this._getChildren().find((t=>this._elemIsActive(t)))||null}_setInitialAttributes(t,e){this._setAttributeIfNotExists(t,\"role\",\"tablist\");for(const t of e)this._setInitialAttributesOnChild(t)}_setInitialAttributesOnChild(t){t=this._getInnerElement(t);const e=this._elemIsActive(t),i=this._getOuterElement(t);t.setAttribute(\"aria-selected\",e),i!==t&&this._setAttributeIfNotExists(i,\"role\",\"presentation\"),e||t.setAttribute(\"tabindex\",\"-1\"),this._setAttributeIfNotExists(t,\"role\",\"tab\"),this._setInitialAttributesOnTargetPanel(t)}_setInitialAttributesOnTargetPanel(t){const e=z.getElementFromSelector(t);e&&(this._setAttributeIfNotExists(e,\"role\",\"tabpanel\"),t.id&&this._setAttributeIfNotExists(e,\"aria-labelledby\",`${t.id}`))}_toggleDropDown(t,e){const i=this._getOuterElement(t);if(!i.classList.contains(\"dropdown\"))return;const n=(t,n)=>{const s=z.findOne(t,i);s&&s.classList.toggle(n,e)};n(\".dropdown-toggle\",An),n(\".dropdown-menu\",Tn),i.setAttribute(\"aria-expanded\",e)}_setAttributeIfNotExists(t,e,i){t.hasAttribute(e)||t.setAttribute(e,i)}_elemIsActive(t){return t.classList.contains(An)}_getInnerElement(t){return t.matches(On)?t:z.findOne(On,t)}_getOuterElement(t){return t.closest(\".nav-item, .list-group-item\")||t}static jQueryInterface(t){return this.each((function(){const e=xn.getOrCreateInstance(this);if(\"string\"==typeof t){if(void 0===e[t]||t.startsWith(\"_\")||\"constructor\"===t)throw new TypeError(`No method named \"${t}\"`);e[t]()}}))}}P.on(document,\"click.bs.tab\",Cn,(function(t){[\"A\",\"AREA\"].includes(this.tagName)&&t.preventDefault(),l(this)||xn.getOrCreateInstance(this).show()})),P.on(window,\"load.bs.tab\",(()=>{for(const t of z.find('.active[data-bs-toggle=\"tab\"], .active[data-bs-toggle=\"pill\"], .active[data-bs-toggle=\"list\"]'))xn.getOrCreateInstance(t)})),m(xn);const kn=\"hide\",Ln=\"show\",Sn=\"showing\",Dn={animation:\"boolean\",autohide:\"boolean\",delay:\"number\"},In={animation:!0,autohide:!0,delay:5e3};class Nn extends W{constructor(t,e){super(t,e),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return In}static get DefaultType(){return Dn}static get NAME(){return\"toast\"}show(){P.trigger(this._element,\"show.bs.toast\").defaultPrevented||(this._clearTimeout(),this._config.animation&&this._element.classList.add(\"fade\"),this._element.classList.remove(kn),d(this._element),this._element.classList.add(Ln,Sn),this._queueCallback((()=>{this._element.classList.remove(Sn),P.trigger(this._element,\"shown.bs.toast\"),this._maybeScheduleHide()}),this._element,this._config.animation))}hide(){this.isShown()&&(P.trigger(this._element,\"hide.bs.toast\").defaultPrevented||(this._element.classList.add(Sn),this._queueCallback((()=>{this._element.classList.add(kn),this._element.classList.remove(Sn,Ln),P.trigger(this._element,\"hidden.bs.toast\")}),this._element,this._config.animation)))}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(Ln),super.dispose()}isShown(){return this._element.classList.contains(Ln)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout((()=>{this.hide()}),this._config.delay)))}_onInteraction(t,e){switch(t.type){case\"mouseover\":case\"mouseout\":this._hasMouseInteraction=e;break;case\"focusin\":case\"focusout\":this._hasKeyboardInteraction=e}if(e)return void this._clearTimeout();const i=t.relatedTarget;this._element===i||this._element.contains(i)||this._maybeScheduleHide()}_setListeners(){P.on(this._element,\"mouseover.bs.toast\",(t=>this._onInteraction(t,!0))),P.on(this._element,\"mouseout.bs.toast\",(t=>this._onInteraction(t,!1))),P.on(this._element,\"focusin.bs.toast\",(t=>this._onInteraction(t,!0))),P.on(this._element,\"focusout.bs.toast\",(t=>this._onInteraction(t,!1)))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(t){return this.each((function(){const e=Nn.getOrCreateInstance(this,t);if(\"string\"==typeof t){if(void 0===e[t])throw new TypeError(`No method named \"${t}\"`);e[t](this)}}))}}return R(Nn),m(Nn),{Alert:q,Button:K,Carousel:rt,Collapse:ft,Dropdown:ci,Modal:Ni,Offcanvas:zi,Popover:dn,ScrollSpy:_n,Tab:xn,Toast:Nn,Tooltip:ln}}));\n//# sourceMappingURL=bootstrap.bundle.min.js.map\n","!function(t,e){\"use strict\";\"function\"==typeof define&&define.amd?define([],function(){return t.Waves=e.call(t),t.Waves}):\"object\"==typeof exports?module.exports=e.call(t):t.Waves=e.call(t)}(\"object\"==typeof global?global:this,function(){\"use strict\";function t(t){return null!==t&&t===t.window}function e(e){return t(e)?e:9===e.nodeType&&e.defaultView}function n(t){var e=typeof t;return\"function\"===e||\"object\"===e&&!!t}function o(t){return n(t)&&t.nodeType>0}function a(t){var e=f.call(t);return\"[object String]\"===e?d(t):n(t)&&/^\\[object (Array|HTMLCollection|NodeList|Object)\\]$/.test(e)&&t.hasOwnProperty(\"length\")?t:o(t)?[t]:[]}function i(t){var n,o,a={top:0,left:0},i=t&&t.ownerDocument;return n=i.documentElement,void 0!==t.getBoundingClientRect&&(a=t.getBoundingClientRect()),o=e(i),{top:a.top+o.pageYOffset-n.clientTop,left:a.left+o.pageXOffset-n.clientLeft}}function r(t){var e=\"\";for(var n in t)t.hasOwnProperty(n)&&(e+=n+\":\"+t[n]+\";\");return e}function s(t,e,n){if(n){n.classList.remove(\"waves-rippling\");var o=n.getAttribute(\"data-x\"),a=n.getAttribute(\"data-y\"),i=n.getAttribute(\"data-scale\"),s=n.getAttribute(\"data-translate\"),u=350-(Date.now()-Number(n.getAttribute(\"data-hold\")));u<0&&(u=0),\"mousemove\"===t.type&&(u=150);var c=\"mousemove\"===t.type?2500:v.duration;setTimeout(function(){var t={top:a+\"px\",left:o+\"px\",opacity:\"0\",\"-webkit-transition-duration\":c+\"ms\",\"-moz-transition-duration\":c+\"ms\",\"-o-transition-duration\":c+\"ms\",\"transition-duration\":c+\"ms\",\"-webkit-transform\":i+\" \"+s,\"-moz-transform\":i+\" \"+s,\"-ms-transform\":i+\" \"+s,\"-o-transform\":i+\" \"+s,transform:i+\" \"+s};n.setAttribute(\"style\",r(t)),setTimeout(function(){try{e.removeChild(n)}catch(t){return!1}},c)},u)}}function u(t){if(!1===h.allowEvent(t))return null;for(var e=null,n=t.target||t.srcElement;n.parentElement;){if(!(n instanceof SVGElement)&&n.classList.contains(\"waves-effect\")){e=n;break}n=n.parentElement}return e}function c(t){var e=u(t);if(null!==e){if(e.disabled||e.getAttribute(\"disabled\")||e.classList.contains(\"disabled\"))return;if(h.registerEvent(t),\"touchstart\"===t.type&&v.delay){var n=!1,o=setTimeout(function(){o=null,v.show(t,e)},v.delay),a=function(a){o&&(clearTimeout(o),o=null,v.show(t,e)),n||(n=!0,v.hide(a,e)),r()},i=function(t){o&&(clearTimeout(o),o=null),a(t),r()};e.addEventListener(\"touchmove\",i,!1),e.addEventListener(\"touchend\",a,!1),e.addEventListener(\"touchcancel\",a,!1);var r=function(){e.removeEventListener(\"touchmove\",i),e.removeEventListener(\"touchend\",a),e.removeEventListener(\"touchcancel\",a)}}else v.show(t,e),m&&(e.addEventListener(\"touchend\",v.hide,!1),e.addEventListener(\"touchcancel\",v.hide,!1)),e.addEventListener(\"mouseup\",v.hide,!1),e.addEventListener(\"mouseleave\",v.hide,!1)}}var l=l||{},d=document.querySelectorAll.bind(document),f=Object.prototype.toString,m=\"ontouchstart\"in window,v={duration:750,delay:200,show:function(t,e,n){if(2===t.button)return!1;e=e||this;var o=document.createElement(\"div\");o.className=\"waves-ripple waves-rippling\",e.appendChild(o);var a=i(e),s=0,u=0;\"touches\"in t&&t.touches.length?(s=t.touches[0].pageY-a.top,u=t.touches[0].pageX-a.left):(s=t.pageY-a.top,u=t.pageX-a.left),u=u>=0?u:0,s=s>=0?s:0;var c=\"scale(\"+e.clientWidth/100*3+\")\",l=\"translate(0,0)\";n&&(l=\"translate(\"+n.x+\"px, \"+n.y+\"px)\"),o.setAttribute(\"data-hold\",Date.now()),o.setAttribute(\"data-x\",u),o.setAttribute(\"data-y\",s),o.setAttribute(\"data-scale\",c),o.setAttribute(\"data-translate\",l);var d={top:s+\"px\",left:u+\"px\"};o.classList.add(\"waves-notransition\"),o.setAttribute(\"style\",r(d)),o.classList.remove(\"waves-notransition\"),d[\"-webkit-transform\"]=c+\" \"+l,d[\"-moz-transform\"]=c+\" \"+l,d[\"-ms-transform\"]=c+\" \"+l,d[\"-o-transform\"]=c+\" \"+l,d.transform=c+\" \"+l,d.opacity=\"1\";var f=\"mousemove\"===t.type?2500:v.duration;d[\"-webkit-transition-duration\"]=f+\"ms\",d[\"-moz-transition-duration\"]=f+\"ms\",d[\"-o-transition-duration\"]=f+\"ms\",d[\"transition-duration\"]=f+\"ms\",o.setAttribute(\"style\",r(d))},hide:function(t,e){for(var n=(e=e||this).getElementsByClassName(\"waves-rippling\"),o=0,a=n.length;o<a;o++)s(t,e,n[o]);m&&(e.removeEventListener(\"touchend\",v.hide),e.removeEventListener(\"touchcancel\",v.hide)),e.removeEventListener(\"mouseup\",v.hide),e.removeEventListener(\"mouseleave\",v.hide)}},p={input:function(t){var e=t.parentNode;if(\"i\"!==e.tagName.toLowerCase()||!e.classList.contains(\"waves-effect\")){var n=document.createElement(\"i\");n.className=t.className+\" waves-input-wrapper\",t.className=\"waves-button-input\",e.replaceChild(n,t),n.appendChild(t);var o=window.getComputedStyle(t,null),a=o.color,i=o.backgroundColor;n.setAttribute(\"style\",\"color:\"+a+\";background:\"+i),t.setAttribute(\"style\",\"background-color:rgba(0,0,0,0);\")}},img:function(t){var e=t.parentNode;if(\"i\"!==e.tagName.toLowerCase()||!e.classList.contains(\"waves-effect\")){var n=document.createElement(\"i\");e.replaceChild(n,t),n.appendChild(t)}}},h={touches:0,allowEvent:function(t){var e=!0;return/^(mousedown|mousemove)$/.test(t.type)&&h.touches&&(e=!1),e},registerEvent:function(t){var e=t.type;\"touchstart\"===e?h.touches+=1:/^(touchend|touchcancel)$/.test(e)&&setTimeout(function(){h.touches&&(h.touches-=1)},500)}};return l.init=function(t){var e=document.body;\"duration\"in(t=t||{})&&(v.duration=t.duration),\"delay\"in t&&(v.delay=t.delay),m&&(e.addEventListener(\"touchstart\",c,!1),e.addEventListener(\"touchcancel\",h.registerEvent,!1),e.addEventListener(\"touchend\",h.registerEvent,!1)),e.addEventListener(\"mousedown\",c,!1)},l.attach=function(t,e){t=a(t),\"[object Array]\"===f.call(e)&&(e=e.join(\" \")),e=e?\" \"+e:\"\";for(var n,o,i=0,r=t.length;i<r;i++)o=(n=t[i]).tagName.toLowerCase(),-1!==[\"input\",\"img\"].indexOf(o)&&(p[o](n),n=n.parentElement),-1===n.className.indexOf(\"waves-effect\")&&(n.className+=\" waves-effect\"+e)},l.ripple=function(t,e){var n=(t=a(t)).length;if(e=e||{},e.wait=e.wait||0,e.position=e.position||null,n)for(var o,r,s,u={},c=0,l={type:\"mousedown\",button:1};c<n;c++)if(o=t[c],r=e.position||{x:o.clientWidth/2,y:o.clientHeight/2},s=i(o),u.x=s.left+r.x,u.y=s.top+r.y,l.pageX=u.x,l.pageY=u.y,v.show(l,o),e.wait>=0&&null!==e.wait){var d={type:\"mouseup\",button:1};setTimeout(function(t,e){return function(){v.hide(t,e)}}(d,o),e.wait)}},l.calm=function(t){for(var e={type:\"mouseup\",button:1},n=0,o=(t=a(t)).length;n<o;n++)v.hide(e,t[n])},l.displayEffect=function(t){l.init(t)},l});\n//# sourceMappingURL=waves.min.js.map\n","/*!\n * perfect-scrollbar v1.5.3\n * Copyright 2021 Hyunje Jun, MDBootstrap and Contributors\n * Licensed under MIT\n */(function(a,b){\"object\"==typeof exports&&\"undefined\"!=typeof module?module.exports=b():\"function\"==typeof define&&define.amd?define(b):(a=a||self,a.PerfectScrollbar=b())})(this,function(){'use strict';var u=Math.abs,v=Math.floor;function a(a){return getComputedStyle(a)}function b(a,b){for(var c in b){var d=b[c];\"number\"==typeof d&&(d+=\"px\"),a.style[c]=d}return a}function c(a){var b=document.createElement(\"div\");return b.className=a,b}function d(a,b){if(!w)throw new Error(\"No element matching method supported\");return w.call(a,b)}function e(a){a.remove?a.remove():a.parentNode&&a.parentNode.removeChild(a)}function f(a,b){return Array.prototype.filter.call(a.children,function(a){return d(a,b)})}function g(a,b){var c=a.element.classList,d=z.state.scrolling(b);c.contains(d)?clearTimeout(A[b]):c.add(d)}function h(a,b){A[b]=setTimeout(function(){return a.isAlive&&a.element.classList.remove(z.state.scrolling(b))},a.settings.scrollingThreshold)}function j(a,b){g(a,b),h(a,b)}function k(a){if(\"function\"==typeof window.CustomEvent)return new CustomEvent(a);var b=document.createEvent(\"CustomEvent\");return b.initCustomEvent(a,!1,!1,void 0),b}function l(a,b,c,d,e){void 0===d&&(d=!0),void 0===e&&(e=!1);var f;if(\"top\"===b)f=[\"contentHeight\",\"containerHeight\",\"scrollTop\",\"y\",\"up\",\"down\"];else if(\"left\"===b)f=[\"contentWidth\",\"containerWidth\",\"scrollLeft\",\"x\",\"left\",\"right\"];else throw new Error(\"A proper axis should be provided\");m(a,c,f,d,e)}function m(a,b,c,d,e){var f=c[0],g=c[1],h=c[2],i=c[3],l=c[4],m=c[5];void 0===d&&(d=!0),void 0===e&&(e=!1);var n=a.element;// reset reach\na.reach[i]=null,1>n[h]&&(a.reach[i]=\"start\"),n[h]>a[f]-a[g]-1&&(a.reach[i]=\"end\"),b&&(n.dispatchEvent(k(\"ps-scroll-\"+i)),0>b?n.dispatchEvent(k(\"ps-scroll-\"+l)):0<b&&n.dispatchEvent(k(\"ps-scroll-\"+m)),d&&j(a,i)),a.reach[i]&&(b||e)&&n.dispatchEvent(k(\"ps-\"+i+\"-reach-\"+a.reach[i]))}function n(a){return parseInt(a,10)||0}function o(a){return d(a,\"input,[contenteditable]\")||d(a,\"select,[contenteditable]\")||d(a,\"textarea,[contenteditable]\")||d(a,\"button,[contenteditable]\")}function p(b){var c=a(b);return n(c.width)+n(c.paddingLeft)+n(c.paddingRight)+n(c.borderLeftWidth)+n(c.borderRightWidth)}function q(a){var b=Math.round,c=a.element,d=v(c.scrollTop),g=c.getBoundingClientRect();a.containerWidth=b(g.width),a.containerHeight=b(g.height),a.contentWidth=c.scrollWidth,a.contentHeight=c.scrollHeight,c.contains(a.scrollbarXRail)||(f(c,z.element.rail(\"x\")).forEach(function(a){return e(a)}),c.appendChild(a.scrollbarXRail)),c.contains(a.scrollbarYRail)||(f(c,z.element.rail(\"y\")).forEach(function(a){return e(a)}),c.appendChild(a.scrollbarYRail)),!a.settings.suppressScrollX&&a.containerWidth+a.settings.scrollXMarginOffset<a.contentWidth?(a.scrollbarXActive=!0,a.railXWidth=a.containerWidth-a.railXMarginWidth,a.railXRatio=a.containerWidth/a.railXWidth,a.scrollbarXWidth=r(a,n(a.railXWidth*a.containerWidth/a.contentWidth)),a.scrollbarXLeft=n((a.negativeScrollAdjustment+c.scrollLeft)*(a.railXWidth-a.scrollbarXWidth)/(a.contentWidth-a.containerWidth))):a.scrollbarXActive=!1,!a.settings.suppressScrollY&&a.containerHeight+a.settings.scrollYMarginOffset<a.contentHeight?(a.scrollbarYActive=!0,a.railYHeight=a.containerHeight-a.railYMarginHeight,a.railYRatio=a.containerHeight/a.railYHeight,a.scrollbarYHeight=r(a,n(a.railYHeight*a.containerHeight/a.contentHeight)),a.scrollbarYTop=n(d*(a.railYHeight-a.scrollbarYHeight)/(a.contentHeight-a.containerHeight))):a.scrollbarYActive=!1,a.scrollbarXLeft>=a.railXWidth-a.scrollbarXWidth&&(a.scrollbarXLeft=a.railXWidth-a.scrollbarXWidth),a.scrollbarYTop>=a.railYHeight-a.scrollbarYHeight&&(a.scrollbarYTop=a.railYHeight-a.scrollbarYHeight),s(c,a),a.scrollbarXActive?c.classList.add(z.state.active(\"x\")):(c.classList.remove(z.state.active(\"x\")),a.scrollbarXWidth=0,a.scrollbarXLeft=0,c.scrollLeft=!0===a.isRtl?a.contentWidth:0),a.scrollbarYActive?c.classList.add(z.state.active(\"y\")):(c.classList.remove(z.state.active(\"y\")),a.scrollbarYHeight=0,a.scrollbarYTop=0,c.scrollTop=0)}function r(a,b){var c=Math.min,d=Math.max;return a.settings.minScrollbarLength&&(b=d(b,a.settings.minScrollbarLength)),a.settings.maxScrollbarLength&&(b=c(b,a.settings.maxScrollbarLength)),b}function s(a,c){var d={width:c.railXWidth},e=v(a.scrollTop);d.left=c.isRtl?c.negativeScrollAdjustment+a.scrollLeft+c.containerWidth-c.contentWidth:a.scrollLeft,c.isScrollbarXUsingBottom?d.bottom=c.scrollbarXBottom-e:d.top=c.scrollbarXTop+e,b(c.scrollbarXRail,d);var f={top:e,height:c.railYHeight};c.isScrollbarYUsingRight?c.isRtl?f.right=c.contentWidth-(c.negativeScrollAdjustment+a.scrollLeft)-c.scrollbarYRight-c.scrollbarYOuterWidth-9:f.right=c.scrollbarYRight-a.scrollLeft:c.isRtl?f.left=c.negativeScrollAdjustment+a.scrollLeft+2*c.containerWidth-c.contentWidth-c.scrollbarYLeft-c.scrollbarYOuterWidth:f.left=c.scrollbarYLeft+a.scrollLeft,b(c.scrollbarYRail,f),b(c.scrollbarX,{left:c.scrollbarXLeft,width:c.scrollbarXWidth-c.railBorderXWidth}),b(c.scrollbarY,{top:c.scrollbarYTop,height:c.scrollbarYHeight-c.railBorderYWidth})}function t(a,b){function c(b){b.touches&&b.touches[0]&&(b[k]=b.touches[0].pageY),s[o]=t+v*(b[k]-u),g(a,p),q(a),b.stopPropagation(),b.type.startsWith(\"touch\")&&1<b.changedTouches.length&&b.preventDefault()}function d(){h(a,p),a[r].classList.remove(z.state.clicking),a.event.unbind(a.ownerDocument,\"mousemove\",c)}function f(b,e){t=s[o],e&&b.touches&&(b[k]=b.touches[0].pageY),u=b[k],v=(a[j]-a[i])/(a[l]-a[n]),e?a.event.bind(a.ownerDocument,\"touchmove\",c):(a.event.bind(a.ownerDocument,\"mousemove\",c),a.event.once(a.ownerDocument,\"mouseup\",d),b.preventDefault()),a[r].classList.add(z.state.clicking),b.stopPropagation()}var i=b[0],j=b[1],k=b[2],l=b[3],m=b[4],n=b[5],o=b[6],p=b[7],r=b[8],s=a.element,t=null,u=null,v=null;a.event.bind(a[m],\"mousedown\",function(a){f(a)}),a.event.bind(a[m],\"touchstart\",function(a){f(a,!0)})}var w=\"undefined\"!=typeof Element&&(Element.prototype.matches||Element.prototype.webkitMatchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector),z={main:\"ps\",rtl:\"ps__rtl\",element:{thumb:function(a){return\"ps__thumb-\"+a},rail:function(a){return\"ps__rail-\"+a},consuming:\"ps__child--consume\"},state:{focus:\"ps--focus\",clicking:\"ps--clicking\",active:function(a){return\"ps--active-\"+a},scrolling:function(a){return\"ps--scrolling-\"+a}}},A={x:null,y:null},B=function(a){this.element=a,this.handlers={}},C={isEmpty:{configurable:!0}};B.prototype.bind=function(a,b){\"undefined\"==typeof this.handlers[a]&&(this.handlers[a]=[]),this.handlers[a].push(b),this.element.addEventListener(a,b,!1)},B.prototype.unbind=function(a,b){var c=this;this.handlers[a]=this.handlers[a].filter(function(d){return!!(b&&d!==b)||(c.element.removeEventListener(a,d,!1),!1)})},B.prototype.unbindAll=function(){for(var a in this.handlers)this.unbind(a)},C.isEmpty.get=function(){var a=this;return Object.keys(this.handlers).every(function(b){return 0===a.handlers[b].length})},Object.defineProperties(B.prototype,C);var D=function(){this.eventElements=[]};D.prototype.eventElement=function(a){var b=this.eventElements.filter(function(b){return b.element===a})[0];return b||(b=new B(a),this.eventElements.push(b)),b},D.prototype.bind=function(a,b,c){this.eventElement(a).bind(b,c)},D.prototype.unbind=function(a,b,c){var d=this.eventElement(a);d.unbind(b,c),d.isEmpty&&this.eventElements.splice(this.eventElements.indexOf(d),1)},D.prototype.unbindAll=function(){this.eventElements.forEach(function(a){return a.unbindAll()}),this.eventElements=[]},D.prototype.once=function(a,b,c){var d=this.eventElement(a),e=function(a){d.unbind(b,e),c(a)};d.bind(b,e)};var E={isWebKit:\"undefined\"!=typeof document&&\"WebkitAppearance\"in document.documentElement.style,supportsTouch:\"undefined\"!=typeof window&&(\"ontouchstart\"in window||\"maxTouchPoints\"in window.navigator&&0<window.navigator.maxTouchPoints||window.DocumentTouch&&document instanceof window.DocumentTouch),supportsIePointer:\"undefined\"!=typeof navigator&&navigator.msMaxTouchPoints,isChrome:\"undefined\"!=typeof navigator&&/Chrome/i.test(navigator&&navigator.userAgent)},F=function(){return{handlers:[\"click-rail\",\"drag-thumb\",\"keyboard\",\"wheel\",\"touch\"],maxScrollbarLength:null,minScrollbarLength:null,scrollingThreshold:1e3,scrollXMarginOffset:0,scrollYMarginOffset:0,suppressScrollX:!1,suppressScrollY:!1,swipeEasing:!0,useBothWheelAxes:!1,wheelPropagation:!0,wheelSpeed:1}},G={\"click-rail\":function(a){a.element;a.event.bind(a.scrollbarY,\"mousedown\",function(a){return a.stopPropagation()}),a.event.bind(a.scrollbarYRail,\"mousedown\",function(b){var c=b.pageY-window.pageYOffset-a.scrollbarYRail.getBoundingClientRect().top,d=c>a.scrollbarYTop?1:-1;a.element.scrollTop+=d*a.containerHeight,q(a),b.stopPropagation()}),a.event.bind(a.scrollbarX,\"mousedown\",function(a){return a.stopPropagation()}),a.event.bind(a.scrollbarXRail,\"mousedown\",function(b){var c=b.pageX-window.pageXOffset-a.scrollbarXRail.getBoundingClientRect().left,d=c>a.scrollbarXLeft?1:-1;a.element.scrollLeft+=d*a.containerWidth,q(a),b.stopPropagation()})},\"drag-thumb\":function(a){t(a,[\"containerWidth\",\"contentWidth\",\"pageX\",\"railXWidth\",\"scrollbarX\",\"scrollbarXWidth\",\"scrollLeft\",\"x\",\"scrollbarXRail\"]),t(a,[\"containerHeight\",\"contentHeight\",\"pageY\",\"railYHeight\",\"scrollbarY\",\"scrollbarYHeight\",\"scrollTop\",\"y\",\"scrollbarYRail\"])},keyboard:function(a){function b(b,d){var e=v(c.scrollTop);if(0===b){if(!a.scrollbarYActive)return!1;if(0===e&&0<d||e>=a.contentHeight-a.containerHeight&&0>d)return!a.settings.wheelPropagation}var f=c.scrollLeft;if(0===d){if(!a.scrollbarXActive)return!1;if(0===f&&0>b||f>=a.contentWidth-a.containerWidth&&0<b)return!a.settings.wheelPropagation}return!0}var c=a.element,f=function(){return d(c,\":hover\")},g=function(){return d(a.scrollbarX,\":focus\")||d(a.scrollbarY,\":focus\")};a.event.bind(a.ownerDocument,\"keydown\",function(d){if(!(d.isDefaultPrevented&&d.isDefaultPrevented()||d.defaultPrevented)&&(f()||g())){var e=document.activeElement?document.activeElement:a.ownerDocument.activeElement;if(e){if(\"IFRAME\"===e.tagName)e=e.contentDocument.activeElement;else// go deeper if element is a webcomponent\nfor(;e.shadowRoot;)e=e.shadowRoot.activeElement;if(o(e))return}var h=0,i=0;switch(d.which){case 37:h=d.metaKey?-a.contentWidth:d.altKey?-a.containerWidth:-30;break;case 38:i=d.metaKey?a.contentHeight:d.altKey?a.containerHeight:30;break;case 39:h=d.metaKey?a.contentWidth:d.altKey?a.containerWidth:30;break;case 40:i=d.metaKey?-a.contentHeight:d.altKey?-a.containerHeight:-30;break;case 32:i=d.shiftKey?a.containerHeight:-a.containerHeight;break;case 33:i=a.containerHeight;break;case 34:i=-a.containerHeight;break;case 36:i=a.contentHeight;break;case 35:i=-a.contentHeight;break;default:return;}a.settings.suppressScrollX&&0!==h||a.settings.suppressScrollY&&0!==i||(c.scrollTop-=i,c.scrollLeft+=h,q(a),b(h,i)&&d.preventDefault())}})},wheel:function(b){function c(a,c){var d,e=v(h.scrollTop),f=0===h.scrollTop,g=e+h.offsetHeight===h.scrollHeight,i=0===h.scrollLeft,j=h.scrollLeft+h.offsetWidth===h.scrollWidth;return d=u(c)>u(a)?f||g:i||j,!d||!b.settings.wheelPropagation}function d(a){var b=a.deltaX,c=-1*a.deltaY;return(\"undefined\"==typeof b||\"undefined\"==typeof c)&&(b=-1*a.wheelDeltaX/6,c=a.wheelDeltaY/6),a.deltaMode&&1===a.deltaMode&&(b*=10,c*=10),b!==b&&c!==c/* NaN checks */&&(b=0,c=a.wheelDelta),a.shiftKey?[-c,-b]:[b,c]}function f(b,c,d){// FIXME: this is a workaround for <select> issue in FF and IE #571\nif(!E.isWebKit&&h.querySelector(\"select:focus\"))return!0;if(!h.contains(b))return!1;for(var e=b;e&&e!==h;){if(e.classList.contains(z.element.consuming))return!0;var f=a(e);// if deltaY && vertical scrollable\nif(d&&f.overflowY.match(/(scroll|auto)/)){var g=e.scrollHeight-e.clientHeight;if(0<g&&(0<e.scrollTop&&0>d||e.scrollTop<g&&0<d))return!0}// if deltaX && horizontal scrollable\nif(c&&f.overflowX.match(/(scroll|auto)/)){var i=e.scrollWidth-e.clientWidth;if(0<i&&(0<e.scrollLeft&&0>c||e.scrollLeft<i&&0<c))return!0}e=e.parentNode}return!1}function g(a){var e=d(a),g=e[0],i=e[1];if(!f(a.target,g,i)){var j=!1;b.settings.useBothWheelAxes?b.scrollbarYActive&&!b.scrollbarXActive?(i?h.scrollTop-=i*b.settings.wheelSpeed:h.scrollTop+=g*b.settings.wheelSpeed,j=!0):b.scrollbarXActive&&!b.scrollbarYActive&&(g?h.scrollLeft+=g*b.settings.wheelSpeed:h.scrollLeft-=i*b.settings.wheelSpeed,j=!0):(h.scrollTop-=i*b.settings.wheelSpeed,h.scrollLeft+=g*b.settings.wheelSpeed),q(b),j=j||c(g,i),j&&!a.ctrlKey&&(a.stopPropagation(),a.preventDefault())}}var h=b.element;\"undefined\"==typeof window.onwheel?\"undefined\"!=typeof window.onmousewheel&&b.event.bind(h,\"mousewheel\",g):b.event.bind(h,\"wheel\",g)},touch:function(b){function c(a,c){var d=v(l.scrollTop),e=l.scrollLeft,f=u(a),g=u(c);if(g>f){// user is perhaps trying to swipe up/down the page\nif(0>c&&d===b.contentHeight-b.containerHeight||0<c&&0===d)// set prevent for mobile Chrome refresh\nreturn 0===window.scrollY&&0<c&&E.isChrome;}else if(f>g&&(0>a&&e===b.contentWidth-b.containerWidth||0<a&&0===e))// user is perhaps trying to swipe left/right across the page\nreturn!0;return!0}function d(a,c){l.scrollTop-=c,l.scrollLeft-=a,q(b)}function f(a){return a.targetTouches?a.targetTouches[0]:a}function g(a){return!(a.pointerType&&\"pen\"===a.pointerType&&0===a.buttons)&&(!!(a.targetTouches&&1===a.targetTouches.length)||!!(a.pointerType&&\"mouse\"!==a.pointerType&&a.pointerType!==a.MSPOINTER_TYPE_MOUSE))}function h(a){if(g(a)){var b=f(a);m.pageX=b.pageX,m.pageY=b.pageY,n=new Date().getTime(),null!==p&&clearInterval(p)}}function i(b,c,d){if(!l.contains(b))return!1;for(var e=b;e&&e!==l;){if(e.classList.contains(z.element.consuming))return!0;var f=a(e);// if deltaY && vertical scrollable\nif(d&&f.overflowY.match(/(scroll|auto)/)){var g=e.scrollHeight-e.clientHeight;if(0<g&&(0<e.scrollTop&&0>d||e.scrollTop<g&&0<d))return!0}// if deltaX && horizontal scrollable\nif(c&&f.overflowX.match(/(scroll|auto)/)){var h=e.scrollWidth-e.clientWidth;if(0<h&&(0<e.scrollLeft&&0>c||e.scrollLeft<h&&0<c))return!0}e=e.parentNode}return!1}function j(a){if(g(a)){var b=f(a),e={pageX:b.pageX,pageY:b.pageY},h=e.pageX-m.pageX,j=e.pageY-m.pageY;if(i(a.target,h,j))return;d(h,j),m=e;var k=new Date().getTime(),l=k-n;0<l&&(o.x=h/l,o.y=j/l,n=k),c(h,j)&&a.preventDefault()}}function k(){b.settings.swipeEasing&&(clearInterval(p),p=setInterval(function(){return b.isInitialized?void clearInterval(p):o.x||o.y?.01>u(o.x)&&.01>u(o.y)?void clearInterval(p):b.element?void(d(30*o.x,30*o.y),o.x*=.8,o.y*=.8):void clearInterval(p):void clearInterval(p)},10))}if(E.supportsTouch||E.supportsIePointer){var l=b.element,m={},n=0,o={},p=null;E.supportsTouch?(b.event.bind(l,\"touchstart\",h),b.event.bind(l,\"touchmove\",j),b.event.bind(l,\"touchend\",k)):E.supportsIePointer&&(window.PointerEvent?(b.event.bind(l,\"pointerdown\",h),b.event.bind(l,\"pointermove\",j),b.event.bind(l,\"pointerup\",k)):window.MSPointerEvent&&(b.event.bind(l,\"MSPointerDown\",h),b.event.bind(l,\"MSPointerMove\",j),b.event.bind(l,\"MSPointerUp\",k)))}}},H=function(d,e){var f=this;if(void 0===e&&(e={}),\"string\"==typeof d&&(d=document.querySelector(d)),!d||!d.nodeName)throw new Error(\"no element is specified to initialize PerfectScrollbar\");for(var g in this.element=d,d.classList.add(z.main),this.settings=F(),e)this.settings[g]=e[g];this.containerWidth=null,this.containerHeight=null,this.contentWidth=null,this.contentHeight=null;var h=function(){return d.classList.add(z.state.focus)},i=function(){return d.classList.remove(z.state.focus)};this.isRtl=\"rtl\"===a(d).direction,!0===this.isRtl&&d.classList.add(z.rtl),this.isNegativeScroll=function(){var a=d.scrollLeft,b=null;return d.scrollLeft=-1,b=0>d.scrollLeft,d.scrollLeft=a,b}(),this.negativeScrollAdjustment=this.isNegativeScroll?d.scrollWidth-d.clientWidth:0,this.event=new D,this.ownerDocument=d.ownerDocument||document,this.scrollbarXRail=c(z.element.rail(\"x\")),d.appendChild(this.scrollbarXRail),this.scrollbarX=c(z.element.thumb(\"x\")),this.scrollbarXRail.appendChild(this.scrollbarX),this.scrollbarX.setAttribute(\"tabindex\",0),this.event.bind(this.scrollbarX,\"focus\",h),this.event.bind(this.scrollbarX,\"blur\",i),this.scrollbarXActive=null,this.scrollbarXWidth=null,this.scrollbarXLeft=null;var j=a(this.scrollbarXRail);this.scrollbarXBottom=parseInt(j.bottom,10),isNaN(this.scrollbarXBottom)?(this.isScrollbarXUsingBottom=!1,this.scrollbarXTop=n(j.top)):this.isScrollbarXUsingBottom=!0,this.railBorderXWidth=n(j.borderLeftWidth)+n(j.borderRightWidth),b(this.scrollbarXRail,{display:\"block\"}),this.railXMarginWidth=n(j.marginLeft)+n(j.marginRight),b(this.scrollbarXRail,{display:\"\"}),this.railXWidth=null,this.railXRatio=null,this.scrollbarYRail=c(z.element.rail(\"y\")),d.appendChild(this.scrollbarYRail),this.scrollbarY=c(z.element.thumb(\"y\")),this.scrollbarYRail.appendChild(this.scrollbarY),this.scrollbarY.setAttribute(\"tabindex\",0),this.event.bind(this.scrollbarY,\"focus\",h),this.event.bind(this.scrollbarY,\"blur\",i),this.scrollbarYActive=null,this.scrollbarYHeight=null,this.scrollbarYTop=null;var k=a(this.scrollbarYRail);this.scrollbarYRight=parseInt(k.right,10),isNaN(this.scrollbarYRight)?(this.isScrollbarYUsingRight=!1,this.scrollbarYLeft=n(k.left)):this.isScrollbarYUsingRight=!0,this.scrollbarYOuterWidth=this.isRtl?p(this.scrollbarY):null,this.railBorderYWidth=n(k.borderTopWidth)+n(k.borderBottomWidth),b(this.scrollbarYRail,{display:\"block\"}),this.railYMarginHeight=n(k.marginTop)+n(k.marginBottom),b(this.scrollbarYRail,{display:\"\"}),this.railYHeight=null,this.railYRatio=null,this.reach={x:0>=d.scrollLeft?\"start\":d.scrollLeft>=this.contentWidth-this.containerWidth?\"end\":null,y:0>=d.scrollTop?\"start\":d.scrollTop>=this.contentHeight-this.containerHeight?\"end\":null},this.isAlive=!0,this.settings.handlers.forEach(function(a){return G[a](f)}),this.lastScrollTop=v(d.scrollTop),this.lastScrollLeft=d.scrollLeft,this.event.bind(this.element,\"scroll\",function(a){return f.onScroll(a)}),q(this)};return H.prototype.update=function(){this.isAlive&&(// Recalcuate negative scrollLeft adjustment\n// Recalculate rail margins\n// Hide scrollbars not to affect scrollWidth and scrollHeight\nthis.negativeScrollAdjustment=this.isNegativeScroll?this.element.scrollWidth-this.element.clientWidth:0,b(this.scrollbarXRail,{display:\"block\"}),b(this.scrollbarYRail,{display:\"block\"}),this.railXMarginWidth=n(a(this.scrollbarXRail).marginLeft)+n(a(this.scrollbarXRail).marginRight),this.railYMarginHeight=n(a(this.scrollbarYRail).marginTop)+n(a(this.scrollbarYRail).marginBottom),b(this.scrollbarXRail,{display:\"none\"}),b(this.scrollbarYRail,{display:\"none\"}),q(this),l(this,\"top\",0,!1,!0),l(this,\"left\",0,!1,!0),b(this.scrollbarXRail,{display:\"\"}),b(this.scrollbarYRail,{display:\"\"}))},H.prototype.onScroll=function(){this.isAlive&&(q(this),l(this,\"top\",this.element.scrollTop-this.lastScrollTop),l(this,\"left\",this.element.scrollLeft-this.lastScrollLeft),this.lastScrollTop=v(this.element.scrollTop),this.lastScrollLeft=this.element.scrollLeft)},H.prototype.destroy=function(){this.isAlive&&(// unset elements\nthis.event.unbindAll(),e(this.scrollbarX),e(this.scrollbarY),e(this.scrollbarXRail),e(this.scrollbarYRail),this.removePsClasses(),this.element=null,this.scrollbarX=null,this.scrollbarY=null,this.scrollbarXRail=null,this.scrollbarYRail=null,this.isAlive=!1)},H.prototype.removePsClasses=function(){this.element.className=this.element.className.split(\" \").filter(function(a){return!a.match(/^ps([-_].+|)$/)}).join(\" \")},H});\n//# sourceMappingURL=perfect-scrollbar.min.js.map\n","/*! Hammer.JS - v2.0.7 - 2016-04-22\n * http://hammerjs.github.io/\n *\n * Copyright (c) 2016 Jorik Tangelder;\n * Licensed under the MIT license */\n!function(a,b,c,d){\"use strict\";function e(a,b,c){return setTimeout(j(a,c),b)}function f(a,b,c){return Array.isArray(a)?(g(a,c[b],c),!0):!1}function g(a,b,c){var e;if(a)if(a.forEach)a.forEach(b,c);else if(a.length!==d)for(e=0;e<a.length;)b.call(c,a[e],e,a),e++;else for(e in a)a.hasOwnProperty(e)&&b.call(c,a[e],e,a)}function h(b,c,d){var e=\"DEPRECATED METHOD: \"+c+\"\\n\"+d+\" AT \\n\";return function(){var c=new Error(\"get-stack-trace\"),d=c&&c.stack?c.stack.replace(/^[^\\(]+?[\\n$]/gm,\"\").replace(/^\\s+at\\s+/gm,\"\").replace(/^Object.<anonymous>\\s*\\(/gm,\"{anonymous}()@\"):\"Unknown Stack Trace\",f=a.console&&(a.console.warn||a.console.log);return f&&f.call(a.console,e,d),b.apply(this,arguments)}}function i(a,b,c){var d,e=b.prototype;d=a.prototype=Object.create(e),d.constructor=a,d._super=e,c&&la(d,c)}function j(a,b){return function(){return a.apply(b,arguments)}}function k(a,b){return typeof a==oa?a.apply(b?b[0]||d:d,b):a}function l(a,b){return a===d?b:a}function m(a,b,c){g(q(b),function(b){a.addEventListener(b,c,!1)})}function n(a,b,c){g(q(b),function(b){a.removeEventListener(b,c,!1)})}function o(a,b){for(;a;){if(a==b)return!0;a=a.parentNode}return!1}function p(a,b){return a.indexOf(b)>-1}function q(a){return a.trim().split(/\\s+/g)}function r(a,b,c){if(a.indexOf&&!c)return a.indexOf(b);for(var d=0;d<a.length;){if(c&&a[d][c]==b||!c&&a[d]===b)return d;d++}return-1}function s(a){return Array.prototype.slice.call(a,0)}function t(a,b,c){for(var d=[],e=[],f=0;f<a.length;){var g=b?a[f][b]:a[f];r(e,g)<0&&d.push(a[f]),e[f]=g,f++}return c&&(d=b?d.sort(function(a,c){return a[b]>c[b]}):d.sort()),d}function u(a,b){for(var c,e,f=b[0].toUpperCase()+b.slice(1),g=0;g<ma.length;){if(c=ma[g],e=c?c+f:b,e in a)return e;g++}return d}function v(){return ua++}function w(b){var c=b.ownerDocument||b;return c.defaultView||c.parentWindow||a}function x(a,b){var c=this;this.manager=a,this.callback=b,this.element=a.element,this.target=a.options.inputTarget,this.domHandler=function(b){k(a.options.enable,[a])&&c.handler(b)},this.init()}function y(a){var b,c=a.options.inputClass;return new(b=c?c:xa?M:ya?P:wa?R:L)(a,z)}function z(a,b,c){var d=c.pointers.length,e=c.changedPointers.length,f=b&Ea&&d-e===0,g=b&(Ga|Ha)&&d-e===0;c.isFirst=!!f,c.isFinal=!!g,f&&(a.session={}),c.eventType=b,A(a,c),a.emit(\"hammer.input\",c),a.recognize(c),a.session.prevInput=c}function A(a,b){var c=a.session,d=b.pointers,e=d.length;c.firstInput||(c.firstInput=D(b)),e>1&&!c.firstMultiple?c.firstMultiple=D(b):1===e&&(c.firstMultiple=!1);var f=c.firstInput,g=c.firstMultiple,h=g?g.center:f.center,i=b.center=E(d);b.timeStamp=ra(),b.deltaTime=b.timeStamp-f.timeStamp,b.angle=I(h,i),b.distance=H(h,i),B(c,b),b.offsetDirection=G(b.deltaX,b.deltaY);var j=F(b.deltaTime,b.deltaX,b.deltaY);b.overallVelocityX=j.x,b.overallVelocityY=j.y,b.overallVelocity=qa(j.x)>qa(j.y)?j.x:j.y,b.scale=g?K(g.pointers,d):1,b.rotation=g?J(g.pointers,d):0,b.maxPointers=c.prevInput?b.pointers.length>c.prevInput.maxPointers?b.pointers.length:c.prevInput.maxPointers:b.pointers.length,C(c,b);var k=a.element;o(b.srcEvent.target,k)&&(k=b.srcEvent.target),b.target=k}function B(a,b){var c=b.center,d=a.offsetDelta||{},e=a.prevDelta||{},f=a.prevInput||{};b.eventType!==Ea&&f.eventType!==Ga||(e=a.prevDelta={x:f.deltaX||0,y:f.deltaY||0},d=a.offsetDelta={x:c.x,y:c.y}),b.deltaX=e.x+(c.x-d.x),b.deltaY=e.y+(c.y-d.y)}function C(a,b){var c,e,f,g,h=a.lastInterval||b,i=b.timeStamp-h.timeStamp;if(b.eventType!=Ha&&(i>Da||h.velocity===d)){var j=b.deltaX-h.deltaX,k=b.deltaY-h.deltaY,l=F(i,j,k);e=l.x,f=l.y,c=qa(l.x)>qa(l.y)?l.x:l.y,g=G(j,k),a.lastInterval=b}else c=h.velocity,e=h.velocityX,f=h.velocityY,g=h.direction;b.velocity=c,b.velocityX=e,b.velocityY=f,b.direction=g}function D(a){for(var b=[],c=0;c<a.pointers.length;)b[c]={clientX:pa(a.pointers[c].clientX),clientY:pa(a.pointers[c].clientY)},c++;return{timeStamp:ra(),pointers:b,center:E(b),deltaX:a.deltaX,deltaY:a.deltaY}}function E(a){var b=a.length;if(1===b)return{x:pa(a[0].clientX),y:pa(a[0].clientY)};for(var c=0,d=0,e=0;b>e;)c+=a[e].clientX,d+=a[e].clientY,e++;return{x:pa(c/b),y:pa(d/b)}}function F(a,b,c){return{x:b/a||0,y:c/a||0}}function G(a,b){return a===b?Ia:qa(a)>=qa(b)?0>a?Ja:Ka:0>b?La:Ma}function H(a,b,c){c||(c=Qa);var d=b[c[0]]-a[c[0]],e=b[c[1]]-a[c[1]];return Math.sqrt(d*d+e*e)}function I(a,b,c){c||(c=Qa);var d=b[c[0]]-a[c[0]],e=b[c[1]]-a[c[1]];return 180*Math.atan2(e,d)/Math.PI}function J(a,b){return I(b[1],b[0],Ra)+I(a[1],a[0],Ra)}function K(a,b){return H(b[0],b[1],Ra)/H(a[0],a[1],Ra)}function L(){this.evEl=Ta,this.evWin=Ua,this.pressed=!1,x.apply(this,arguments)}function M(){this.evEl=Xa,this.evWin=Ya,x.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}function N(){this.evTarget=$a,this.evWin=_a,this.started=!1,x.apply(this,arguments)}function O(a,b){var c=s(a.touches),d=s(a.changedTouches);return b&(Ga|Ha)&&(c=t(c.concat(d),\"identifier\",!0)),[c,d]}function P(){this.evTarget=bb,this.targetIds={},x.apply(this,arguments)}function Q(a,b){var c=s(a.touches),d=this.targetIds;if(b&(Ea|Fa)&&1===c.length)return d[c[0].identifier]=!0,[c,c];var e,f,g=s(a.changedTouches),h=[],i=this.target;if(f=c.filter(function(a){return o(a.target,i)}),b===Ea)for(e=0;e<f.length;)d[f[e].identifier]=!0,e++;for(e=0;e<g.length;)d[g[e].identifier]&&h.push(g[e]),b&(Ga|Ha)&&delete d[g[e].identifier],e++;return h.length?[t(f.concat(h),\"identifier\",!0),h]:void 0}function R(){x.apply(this,arguments);var a=j(this.handler,this);this.touch=new P(this.manager,a),this.mouse=new L(this.manager,a),this.primaryTouch=null,this.lastTouches=[]}function S(a,b){a&Ea?(this.primaryTouch=b.changedPointers[0].identifier,T.call(this,b)):a&(Ga|Ha)&&T.call(this,b)}function T(a){var b=a.changedPointers[0];if(b.identifier===this.primaryTouch){var c={x:b.clientX,y:b.clientY};this.lastTouches.push(c);var d=this.lastTouches,e=function(){var a=d.indexOf(c);a>-1&&d.splice(a,1)};setTimeout(e,cb)}}function U(a){for(var b=a.srcEvent.clientX,c=a.srcEvent.clientY,d=0;d<this.lastTouches.length;d++){var e=this.lastTouches[d],f=Math.abs(b-e.x),g=Math.abs(c-e.y);if(db>=f&&db>=g)return!0}return!1}function V(a,b){this.manager=a,this.set(b)}function W(a){if(p(a,jb))return jb;var b=p(a,kb),c=p(a,lb);return b&&c?jb:b||c?b?kb:lb:p(a,ib)?ib:hb}function X(){if(!fb)return!1;var b={},c=a.CSS&&a.CSS.supports;return[\"auto\",\"manipulation\",\"pan-y\",\"pan-x\",\"pan-x pan-y\",\"none\"].forEach(function(d){b[d]=c?a.CSS.supports(\"touch-action\",d):!0}),b}function Y(a){this.options=la({},this.defaults,a||{}),this.id=v(),this.manager=null,this.options.enable=l(this.options.enable,!0),this.state=nb,this.simultaneous={},this.requireFail=[]}function Z(a){return a&sb?\"cancel\":a&qb?\"end\":a&pb?\"move\":a&ob?\"start\":\"\"}function $(a){return a==Ma?\"down\":a==La?\"up\":a==Ja?\"left\":a==Ka?\"right\":\"\"}function _(a,b){var c=b.manager;return c?c.get(a):a}function aa(){Y.apply(this,arguments)}function ba(){aa.apply(this,arguments),this.pX=null,this.pY=null}function ca(){aa.apply(this,arguments)}function da(){Y.apply(this,arguments),this._timer=null,this._input=null}function ea(){aa.apply(this,arguments)}function fa(){aa.apply(this,arguments)}function ga(){Y.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function ha(a,b){return b=b||{},b.recognizers=l(b.recognizers,ha.defaults.preset),new ia(a,b)}function ia(a,b){this.options=la({},ha.defaults,b||{}),this.options.inputTarget=this.options.inputTarget||a,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=a,this.input=y(this),this.touchAction=new V(this,this.options.touchAction),ja(this,!0),g(this.options.recognizers,function(a){var b=this.add(new a[0](a[1]));a[2]&&b.recognizeWith(a[2]),a[3]&&b.requireFailure(a[3])},this)}function ja(a,b){var c=a.element;if(c.style){var d;g(a.options.cssProps,function(e,f){d=u(c.style,f),b?(a.oldCssProps[d]=c.style[d],c.style[d]=e):c.style[d]=a.oldCssProps[d]||\"\"}),b||(a.oldCssProps={})}}function ka(a,c){var d=b.createEvent(\"Event\");d.initEvent(a,!0,!0),d.gesture=c,c.target.dispatchEvent(d)}var la,ma=[\"\",\"webkit\",\"Moz\",\"MS\",\"ms\",\"o\"],na=b.createElement(\"div\"),oa=\"function\",pa=Math.round,qa=Math.abs,ra=Date.now;la=\"function\"!=typeof Object.assign?function(a){if(a===d||null===a)throw new TypeError(\"Cannot convert undefined or null to object\");for(var b=Object(a),c=1;c<arguments.length;c++){var e=arguments[c];if(e!==d&&null!==e)for(var f in e)e.hasOwnProperty(f)&&(b[f]=e[f])}return b}:Object.assign;var sa=h(function(a,b,c){for(var e=Object.keys(b),f=0;f<e.length;)(!c||c&&a[e[f]]===d)&&(a[e[f]]=b[e[f]]),f++;return a},\"extend\",\"Use `assign`.\"),ta=h(function(a,b){return sa(a,b,!0)},\"merge\",\"Use `assign`.\"),ua=1,va=/mobile|tablet|ip(ad|hone|od)|android/i,wa=\"ontouchstart\"in a,xa=u(a,\"PointerEvent\")!==d,ya=wa&&va.test(navigator.userAgent),za=\"touch\",Aa=\"pen\",Ba=\"mouse\",Ca=\"kinect\",Da=25,Ea=1,Fa=2,Ga=4,Ha=8,Ia=1,Ja=2,Ka=4,La=8,Ma=16,Na=Ja|Ka,Oa=La|Ma,Pa=Na|Oa,Qa=[\"x\",\"y\"],Ra=[\"clientX\",\"clientY\"];x.prototype={handler:function(){},init:function(){this.evEl&&m(this.element,this.evEl,this.domHandler),this.evTarget&&m(this.target,this.evTarget,this.domHandler),this.evWin&&m(w(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&n(this.element,this.evEl,this.domHandler),this.evTarget&&n(this.target,this.evTarget,this.domHandler),this.evWin&&n(w(this.element),this.evWin,this.domHandler)}};var Sa={mousedown:Ea,mousemove:Fa,mouseup:Ga},Ta=\"mousedown\",Ua=\"mousemove mouseup\";i(L,x,{handler:function(a){var b=Sa[a.type];b&Ea&&0===a.button&&(this.pressed=!0),b&Fa&&1!==a.which&&(b=Ga),this.pressed&&(b&Ga&&(this.pressed=!1),this.callback(this.manager,b,{pointers:[a],changedPointers:[a],pointerType:Ba,srcEvent:a}))}});var Va={pointerdown:Ea,pointermove:Fa,pointerup:Ga,pointercancel:Ha,pointerout:Ha},Wa={2:za,3:Aa,4:Ba,5:Ca},Xa=\"pointerdown\",Ya=\"pointermove pointerup pointercancel\";a.MSPointerEvent&&!a.PointerEvent&&(Xa=\"MSPointerDown\",Ya=\"MSPointerMove MSPointerUp MSPointerCancel\"),i(M,x,{handler:function(a){var b=this.store,c=!1,d=a.type.toLowerCase().replace(\"ms\",\"\"),e=Va[d],f=Wa[a.pointerType]||a.pointerType,g=f==za,h=r(b,a.pointerId,\"pointerId\");e&Ea&&(0===a.button||g)?0>h&&(b.push(a),h=b.length-1):e&(Ga|Ha)&&(c=!0),0>h||(b[h]=a,this.callback(this.manager,e,{pointers:b,changedPointers:[a],pointerType:f,srcEvent:a}),c&&b.splice(h,1))}});var Za={touchstart:Ea,touchmove:Fa,touchend:Ga,touchcancel:Ha},$a=\"touchstart\",_a=\"touchstart touchmove touchend touchcancel\";i(N,x,{handler:function(a){var b=Za[a.type];if(b===Ea&&(this.started=!0),this.started){var c=O.call(this,a,b);b&(Ga|Ha)&&c[0].length-c[1].length===0&&(this.started=!1),this.callback(this.manager,b,{pointers:c[0],changedPointers:c[1],pointerType:za,srcEvent:a})}}});var ab={touchstart:Ea,touchmove:Fa,touchend:Ga,touchcancel:Ha},bb=\"touchstart touchmove touchend touchcancel\";i(P,x,{handler:function(a){var b=ab[a.type],c=Q.call(this,a,b);c&&this.callback(this.manager,b,{pointers:c[0],changedPointers:c[1],pointerType:za,srcEvent:a})}});var cb=2500,db=25;i(R,x,{handler:function(a,b,c){var d=c.pointerType==za,e=c.pointerType==Ba;if(!(e&&c.sourceCapabilities&&c.sourceCapabilities.firesTouchEvents)){if(d)S.call(this,b,c);else if(e&&U.call(this,c))return;this.callback(a,b,c)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var eb=u(na.style,\"touchAction\"),fb=eb!==d,gb=\"compute\",hb=\"auto\",ib=\"manipulation\",jb=\"none\",kb=\"pan-x\",lb=\"pan-y\",mb=X();V.prototype={set:function(a){a==gb&&(a=this.compute()),fb&&this.manager.element.style&&mb[a]&&(this.manager.element.style[eb]=a),this.actions=a.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var a=[];return g(this.manager.recognizers,function(b){k(b.options.enable,[b])&&(a=a.concat(b.getTouchAction()))}),W(a.join(\" \"))},preventDefaults:function(a){var b=a.srcEvent,c=a.offsetDirection;if(this.manager.session.prevented)return void b.preventDefault();var d=this.actions,e=p(d,jb)&&!mb[jb],f=p(d,lb)&&!mb[lb],g=p(d,kb)&&!mb[kb];if(e){var h=1===a.pointers.length,i=a.distance<2,j=a.deltaTime<250;if(h&&i&&j)return}return g&&f?void 0:e||f&&c&Na||g&&c&Oa?this.preventSrc(b):void 0},preventSrc:function(a){this.manager.session.prevented=!0,a.preventDefault()}};var nb=1,ob=2,pb=4,qb=8,rb=qb,sb=16,tb=32;Y.prototype={defaults:{},set:function(a){return la(this.options,a),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(a){if(f(a,\"recognizeWith\",this))return this;var b=this.simultaneous;return a=_(a,this),b[a.id]||(b[a.id]=a,a.recognizeWith(this)),this},dropRecognizeWith:function(a){return f(a,\"dropRecognizeWith\",this)?this:(a=_(a,this),delete this.simultaneous[a.id],this)},requireFailure:function(a){if(f(a,\"requireFailure\",this))return this;var b=this.requireFail;return a=_(a,this),-1===r(b,a)&&(b.push(a),a.requireFailure(this)),this},dropRequireFailure:function(a){if(f(a,\"dropRequireFailure\",this))return this;a=_(a,this);var b=r(this.requireFail,a);return b>-1&&this.requireFail.splice(b,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(a){return!!this.simultaneous[a.id]},emit:function(a){function b(b){c.manager.emit(b,a)}var c=this,d=this.state;qb>d&&b(c.options.event+Z(d)),b(c.options.event),a.additionalEvent&&b(a.additionalEvent),d>=qb&&b(c.options.event+Z(d))},tryEmit:function(a){return this.canEmit()?this.emit(a):void(this.state=tb)},canEmit:function(){for(var a=0;a<this.requireFail.length;){if(!(this.requireFail[a].state&(tb|nb)))return!1;a++}return!0},recognize:function(a){var b=la({},a);return k(this.options.enable,[this,b])?(this.state&(rb|sb|tb)&&(this.state=nb),this.state=this.process(b),void(this.state&(ob|pb|qb|sb)&&this.tryEmit(b))):(this.reset(),void(this.state=tb))},process:function(a){},getTouchAction:function(){},reset:function(){}},i(aa,Y,{defaults:{pointers:1},attrTest:function(a){var b=this.options.pointers;return 0===b||a.pointers.length===b},process:function(a){var b=this.state,c=a.eventType,d=b&(ob|pb),e=this.attrTest(a);return d&&(c&Ha||!e)?b|sb:d||e?c&Ga?b|qb:b&ob?b|pb:ob:tb}}),i(ba,aa,{defaults:{event:\"pan\",threshold:10,pointers:1,direction:Pa},getTouchAction:function(){var a=this.options.direction,b=[];return a&Na&&b.push(lb),a&Oa&&b.push(kb),b},directionTest:function(a){var b=this.options,c=!0,d=a.distance,e=a.direction,f=a.deltaX,g=a.deltaY;return e&b.direction||(b.direction&Na?(e=0===f?Ia:0>f?Ja:Ka,c=f!=this.pX,d=Math.abs(a.deltaX)):(e=0===g?Ia:0>g?La:Ma,c=g!=this.pY,d=Math.abs(a.deltaY))),a.direction=e,c&&d>b.threshold&&e&b.direction},attrTest:function(a){return aa.prototype.attrTest.call(this,a)&&(this.state&ob||!(this.state&ob)&&this.directionTest(a))},emit:function(a){this.pX=a.deltaX,this.pY=a.deltaY;var b=$(a.direction);b&&(a.additionalEvent=this.options.event+b),this._super.emit.call(this,a)}}),i(ca,aa,{defaults:{event:\"pinch\",threshold:0,pointers:2},getTouchAction:function(){return[jb]},attrTest:function(a){return this._super.attrTest.call(this,a)&&(Math.abs(a.scale-1)>this.options.threshold||this.state&ob)},emit:function(a){if(1!==a.scale){var b=a.scale<1?\"in\":\"out\";a.additionalEvent=this.options.event+b}this._super.emit.call(this,a)}}),i(da,Y,{defaults:{event:\"press\",pointers:1,time:251,threshold:9},getTouchAction:function(){return[hb]},process:function(a){var b=this.options,c=a.pointers.length===b.pointers,d=a.distance<b.threshold,f=a.deltaTime>b.time;if(this._input=a,!d||!c||a.eventType&(Ga|Ha)&&!f)this.reset();else if(a.eventType&Ea)this.reset(),this._timer=e(function(){this.state=rb,this.tryEmit()},b.time,this);else if(a.eventType&Ga)return rb;return tb},reset:function(){clearTimeout(this._timer)},emit:function(a){this.state===rb&&(a&&a.eventType&Ga?this.manager.emit(this.options.event+\"up\",a):(this._input.timeStamp=ra(),this.manager.emit(this.options.event,this._input)))}}),i(ea,aa,{defaults:{event:\"rotate\",threshold:0,pointers:2},getTouchAction:function(){return[jb]},attrTest:function(a){return this._super.attrTest.call(this,a)&&(Math.abs(a.rotation)>this.options.threshold||this.state&ob)}}),i(fa,aa,{defaults:{event:\"swipe\",threshold:10,velocity:.3,direction:Na|Oa,pointers:1},getTouchAction:function(){return ba.prototype.getTouchAction.call(this)},attrTest:function(a){var b,c=this.options.direction;return c&(Na|Oa)?b=a.overallVelocity:c&Na?b=a.overallVelocityX:c&Oa&&(b=a.overallVelocityY),this._super.attrTest.call(this,a)&&c&a.offsetDirection&&a.distance>this.options.threshold&&a.maxPointers==this.options.pointers&&qa(b)>this.options.velocity&&a.eventType&Ga},emit:function(a){var b=$(a.offsetDirection);b&&this.manager.emit(this.options.event+b,a),this.manager.emit(this.options.event,a)}}),i(ga,Y,{defaults:{event:\"tap\",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[ib]},process:function(a){var b=this.options,c=a.pointers.length===b.pointers,d=a.distance<b.threshold,f=a.deltaTime<b.time;if(this.reset(),a.eventType&Ea&&0===this.count)return this.failTimeout();if(d&&f&&c){if(a.eventType!=Ga)return this.failTimeout();var g=this.pTime?a.timeStamp-this.pTime<b.interval:!0,h=!this.pCenter||H(this.pCenter,a.center)<b.posThreshold;this.pTime=a.timeStamp,this.pCenter=a.center,h&&g?this.count+=1:this.count=1,this._input=a;var i=this.count%b.taps;if(0===i)return this.hasRequireFailures()?(this._timer=e(function(){this.state=rb,this.tryEmit()},b.interval,this),ob):rb}return tb},failTimeout:function(){return this._timer=e(function(){this.state=tb},this.options.interval,this),tb},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==rb&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),ha.VERSION=\"2.0.7\",ha.defaults={domEvents:!1,touchAction:gb,enable:!0,inputTarget:null,inputClass:null,preset:[[ea,{enable:!1}],[ca,{enable:!1},[\"rotate\"]],[fa,{direction:Na}],[ba,{direction:Na},[\"swipe\"]],[ga],[ga,{event:\"doubletap\",taps:2},[\"tap\"]],[da]],cssProps:{userSelect:\"none\",touchSelect:\"none\",touchCallout:\"none\",contentZooming:\"none\",userDrag:\"none\",tapHighlightColor:\"rgba(0,0,0,0)\"}};var ub=1,vb=2;ia.prototype={set:function(a){return la(this.options,a),a.touchAction&&this.touchAction.update(),a.inputTarget&&(this.input.destroy(),this.input.target=a.inputTarget,this.input.init()),this},stop:function(a){this.session.stopped=a?vb:ub},recognize:function(a){var b=this.session;if(!b.stopped){this.touchAction.preventDefaults(a);var c,d=this.recognizers,e=b.curRecognizer;(!e||e&&e.state&rb)&&(e=b.curRecognizer=null);for(var f=0;f<d.length;)c=d[f],b.stopped===vb||e&&c!=e&&!c.canRecognizeWith(e)?c.reset():c.recognize(a),!e&&c.state&(ob|pb|qb)&&(e=b.curRecognizer=c),f++}},get:function(a){if(a instanceof Y)return a;for(var b=this.recognizers,c=0;c<b.length;c++)if(b[c].options.event==a)return b[c];return null},add:function(a){if(f(a,\"add\",this))return this;var b=this.get(a.options.event);return b&&this.remove(b),this.recognizers.push(a),a.manager=this,this.touchAction.update(),a},remove:function(a){if(f(a,\"remove\",this))return this;if(a=this.get(a)){var b=this.recognizers,c=r(b,a);-1!==c&&(b.splice(c,1),this.touchAction.update())}return this},on:function(a,b){if(a!==d&&b!==d){var c=this.handlers;return g(q(a),function(a){c[a]=c[a]||[],c[a].push(b)}),this}},off:function(a,b){if(a!==d){var c=this.handlers;return g(q(a),function(a){b?c[a]&&c[a].splice(r(c[a],b),1):delete c[a]}),this}},emit:function(a,b){this.options.domEvents&&ka(a,b);var c=this.handlers[a]&&this.handlers[a].slice();if(c&&c.length){b.type=a,b.preventDefault=function(){b.srcEvent.preventDefault()};for(var d=0;d<c.length;)c[d](b),d++}},destroy:function(){this.element&&ja(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},la(ha,{INPUT_START:Ea,INPUT_MOVE:Fa,INPUT_END:Ga,INPUT_CANCEL:Ha,STATE_POSSIBLE:nb,STATE_BEGAN:ob,STATE_CHANGED:pb,STATE_ENDED:qb,STATE_RECOGNIZED:rb,STATE_CANCELLED:sb,STATE_FAILED:tb,DIRECTION_NONE:Ia,DIRECTION_LEFT:Ja,DIRECTION_RIGHT:Ka,DIRECTION_UP:La,DIRECTION_DOWN:Ma,DIRECTION_HORIZONTAL:Na,DIRECTION_VERTICAL:Oa,DIRECTION_ALL:Pa,Manager:ia,Input:x,TouchAction:V,TouchInput:P,MouseInput:L,PointerEventInput:M,TouchMouseInput:R,SingleTouchInput:N,Recognizer:Y,AttrRecognizer:aa,Tap:ga,Pan:ba,Swipe:fa,Pinch:ca,Rotate:ea,Press:da,on:m,off:n,each:g,merge:ta,extend:sa,assign:la,inherit:i,bindFn:j,prefixed:u});var wb=\"undefined\"!=typeof a?a:\"undefined\"!=typeof self?self:{};wb.Hammer=ha,\"function\"==typeof define&&define.amd?define(function(){return ha}):\"undefined\"!=typeof module&&module.exports?module.exports=ha:a[c]=ha}(window,document,\"Hammer\");\n//# sourceMappingURL=hammer.min.js.map\n","/**\n * Menu.js - Refactored to use CSS classes instead of inline styles\n * Removed all .style.* manipulations and replaced with .classList operations\n */\n\nconst TRANSITION_EVENTS = ['transitionend', 'webkitTransitionEnd', 'oTransitionEnd'];\nconst DELTA = 5;\n\nclass Menu {\n  constructor(el, config = {}, _PS = null) {\n    this._el = el;\n    this._horizontal = config.orientation === 'horizontal';\n    this._animate = config.animate !== false;\n    this._accordion = config.accordion !== false;\n    this._showDropdownOnHover = Boolean(config.showDropdownOnHover);\n    this._closeChildren = Boolean(config.closeChildren);\n    this._rtl = document.documentElement.getAttribute('dir') === 'rtl' || document.body.getAttribute('dir') === 'rtl';\n    this._onOpen = config.onOpen || function () {};\n    this._onOpened = config.onOpened || function () {};\n    this._onClose = config.onClose || function () {};\n    this._onClosed = config.onClosed || function () {};\n    this._psScroll = null;\n    this._topParent = null;\n    this._menuBgClass = null;\n\n    el.classList.add('menu');\n    el.classList[this._animate ? 'remove' : 'add']('menu-no-animation');\n\n    if (!this._horizontal) {\n      el.classList.add('menu-vertical');\n      el.classList.remove('menu-horizontal');\n\n      const PerfectScrollbarLib = _PS || window.PerfectScrollbar;\n      if (PerfectScrollbarLib) {\n        this._scrollbar = new PerfectScrollbarLib(el.querySelector('.menu-inner'), {\n          suppressScrollX: true,\n          wheelPropagation: !Menu._hasClass('layout-menu-fixed layout-menu-fixed-offcanvas')\n        });\n        window.Helpers.menuPsScroll = this._scrollbar;\n      } else {\n        el.querySelector('.menu-inner').classList.add('overflow-auto');\n      }\n    } else {\n      el.classList.add('menu-horizontal');\n      el.classList.remove('menu-vertical');\n      this._inner = el.querySelector('.menu-inner');\n      const container = this._inner.parentNode;\n\n      this._prevBtn = el.querySelector('.menu-horizontal-prev');\n      if (!this._prevBtn) {\n        this._prevBtn = document.createElement('a');\n        this._prevBtn.href = '#';\n        this._prevBtn.className = 'menu-horizontal-prev';\n        container.appendChild(this._prevBtn);\n      }\n\n      this._wrapper = el.querySelector('.menu-horizontal-wrapper');\n      if (!this._wrapper) {\n        this._wrapper = document.createElement('div');\n        this._wrapper.className = 'menu-horizontal-wrapper';\n        this._wrapper.appendChild(this._inner);\n        container.appendChild(this._wrapper);\n      }\n\n      this._nextBtn = el.querySelector('.menu-horizontal-next');\n      if (!this._nextBtn) {\n        this._nextBtn = document.createElement('a');\n        this._nextBtn.href = '#';\n        this._nextBtn.className = 'menu-horizontal-next';\n        container.appendChild(this._nextBtn);\n      }\n\n      this._innerPosition = 0;\n      this.update();\n    }\n\n    // Add data attribute for bg color class of menu\n    const menuClassList = el.classList;\n    for (let i = 0; i < menuClassList.length; i++) {\n      if (menuClassList[i].startsWith('bg-')) {\n        this._menuBgClass = menuClassList[i];\n      }\n    }\n    el.setAttribute('data-bg-class', this._menuBgClass);\n\n    // Switch to vertical menu on small screen for horizontal menu layout on page load\n    if (this._horizontal && window.innerWidth < window.Helpers.LAYOUT_BREAKPOINT) {\n      this.switchMenu('vertical');\n    } else {\n      this._bindEvents();\n    }\n\n    // Link menu instance to element\n    el.menuInstance = this;\n  }\n\n  _bindEvents() {\n    // Click Event\n    this._evntElClick = (e) => {\n      // Find top parent element\n      if (e.target.closest('ul') && e.target.closest('ul').classList.contains('menu-inner')) {\n        const menuItem = Menu._findParent(e.target, 'menu-item', false);\n        if (menuItem) this._topParent = menuItem.childNodes[0];\n      }\n\n      const toggleLink = e.target.classList.contains('menu-toggle')\n        ? e.target\n        : Menu._findParent(e.target, 'menu-toggle', false);\n\n      if (toggleLink) {\n        e.preventDefault();\n        if (toggleLink.getAttribute('data-hover') !== 'true') {\n          this.toggle(toggleLink);\n        }\n      }\n    };\n\n    if ((!this._showDropdownOnHover && this._horizontal) || !this._horizontal || window.Helpers.isMobileDevice) {\n      this._el.addEventListener('click', this._evntElClick);\n    }\n\n    this._evntWindowResize = () => {\n      this.update();\n      if (this._lastWidth !== window.innerWidth) {\n        this._lastWidth = window.innerWidth;\n        this.update();\n      }\n      const horizontalMenuTemplate = document.querySelector(\"[data-template^='horizontal-menu']\");\n      if (!this._horizontal && !horizontalMenuTemplate) this.manageScroll();\n    };\n    window.addEventListener('resize', this._evntWindowResize);\n\n    if (this._horizontal) {\n      this._evntPrevBtnClick = (e) => {\n        e.preventDefault();\n        if (this._prevBtn.classList.contains('disabled')) return;\n        this._slide('prev');\n      };\n      this._prevBtn.addEventListener('click', this._evntPrevBtnClick);\n\n      this._evntNextBtnClick = (e) => {\n        e.preventDefault();\n        if (this._nextBtn.classList.contains('disabled')) return;\n        this._slide('next');\n      };\n      this._nextBtn.addEventListener('click', this._evntNextBtnClick);\n\n      this._evntBodyClick = (e) => {\n        if (!this._inner.contains(e.target) && this._el.querySelectorAll('.menu-inner > .menu-item.open').length) {\n          this.closeAll();\n        }\n      };\n      document.body.addEventListener('click', this._evntBodyClick);\n\n      if (this._showDropdownOnHover) {\n        this._evntElMouseOver = (e) => {\n          if (e.target !== e.currentTarget && !e.target.parentNode.classList.contains('open')) {\n            const toggleLink = e.target.classList.contains('menu-toggle') ? e.target : null;\n            if (toggleLink) {\n              e.preventDefault();\n              if (toggleLink.getAttribute('data-hover') !== 'true') {\n                this.toggle(toggleLink);\n              }\n            }\n          }\n          e.stopPropagation();\n        };\n\n        if (this._horizontal && window.screen.width > window.Helpers.LAYOUT_BREAKPOINT) {\n          this._el.addEventListener('mouseover', this._evntElMouseOver);\n        }\n\n        this._evntElMouseOut = (e) => {\n          const mainEl = e.currentTarget;\n          const mouseOutEl = e.target;\n          const mouseOverEl = e.toElement || e.relatedTarget;\n\n          // Find absolute parent of any menu item from which mouseout event triggered\n          if (mouseOutEl.closest('ul') && mouseOutEl.closest('ul').classList.contains('menu-inner')) {\n            this._topParent = mouseOutEl;\n          }\n\n          if (\n            mouseOutEl !== mainEl &&\n            (mouseOutEl.parentNode.classList.contains('open') || !mouseOutEl.classList.contains('menu-toggle')) &&\n            mouseOverEl &&\n            mouseOverEl.parentNode &&\n            !mouseOverEl.parentNode.classList.contains('menu-link')\n          ) {\n            // When mouse goes totally out of menu items, check mouse over element to confirm it's not the child of menu\n            if (this._topParent && !Menu.childOf(mouseOverEl, this._topParent.parentNode)) {\n              const _toggleLink = this._topParent.classList.contains('menu-toggle') ? this._topParent : null;\n              if (_toggleLink) {\n                e.preventDefault();\n                if (_toggleLink.getAttribute('data-hover') !== 'true') {\n                  this.toggle(_toggleLink);\n                  this._topParent = null;\n                }\n              }\n            }\n\n            // When mouse enter the sub menu, check if it's child of the initially mouse overed menu item\n            if (Menu.childOf(mouseOverEl, mouseOutEl.parentNode)) {\n              return;\n            }\n\n            const toggleLink = mouseOutEl.classList.contains('menu-toggle') ? mouseOutEl : null;\n            if (toggleLink) {\n              e.preventDefault();\n              if (toggleLink.getAttribute('data-hover') !== 'true') {\n                this.toggle(toggleLink);\n              }\n            }\n          }\n          e.stopPropagation();\n        };\n\n        if (this._horizontal && window.screen.width > window.Helpers.LAYOUT_BREAKPOINT) {\n          this._el.addEventListener('mouseout', this._evntElMouseOut);\n        }\n      }\n    }\n  }\n\n  _unbindEvents() {\n    if (this._evntElClick) {\n      this._el.removeEventListener('click', this._evntElClick);\n      this._evntElClick = null;\n    }\n    if (this._evntElMouseOver) {\n      this._el.removeEventListener('mouseover', this._evntElMouseOver);\n      this._evntElMouseOver = null;\n    }\n    if (this._evntElMouseOut) {\n      this._el.removeEventListener('mouseout', this._evntElMouseOut);\n      this._evntElMouseOut = null;\n    }\n    if (this._evntWindowResize) {\n      window.removeEventListener('resize', this._evntWindowResize);\n      this._evntWindowResize = null;\n    }\n    if (this._evntBodyClick) {\n      document.body.removeEventListener('click', this._evntBodyClick);\n      this._evntBodyClick = null;\n    }\n    if (this._evntInnerMousemove) {\n      this._inner.removeEventListener('mousemove', this._evntInnerMousemove);\n      this._evntInnerMousemove = null;\n    }\n    if (this._evntInnerMouseleave) {\n      this._inner.removeEventListener('mouseleave', this._evntInnerMouseleave);\n      this._evntInnerMouseleave = null;\n    }\n  }\n\n  open(el, closeChildren = this._closeChildren) {\n    const item = this._findUnopenedParent(Menu._getItem(el, true), closeChildren);\n    if (!item) return;\n\n    const toggleLink = Menu._getLink(item, true);\n    Menu._promisify(this._onOpen, this, item, toggleLink, Menu._findMenu(item)).then(() => {\n      if (!this._horizontal || !Menu._isRoot(item)) {\n        if (this._animate && !this._horizontal) {\n          window.requestAnimationFrame(() => this._toggleAnimation(true, item, false));\n          if (this._accordion) this._closeOther(item, closeChildren);\n        } else if (this._animate) {\n          this._toggleDropdown(true, item, closeChildren);\n          this._onOpened && this._onOpened(this, item, toggleLink, Menu._findMenu(item));\n        } else {\n          item.classList.add('open');\n          this._onOpened && this._onOpened(this, item, toggleLink, Menu._findMenu(item));\n          if (this._accordion) this._closeOther(item, closeChildren);\n        }\n      } else {\n        this._toggleDropdown(true, item, closeChildren);\n        this._onOpened && this._onOpened(this, item, toggleLink, Menu._findMenu(item));\n      }\n    }).catch(() => {});\n  }\n\n  close(el, closeChildren = this._closeChildren, _autoClose = false) {\n    const item = Menu._getItem(el, true);\n    const toggleLink = Menu._getLink(el, true);\n\n    if (!item.classList.contains('open') || item.classList.contains('disabled')) return;\n\n    Menu._promisify(this._onClose, this, item, toggleLink, Menu._findMenu(item), _autoClose).then(() => {\n      if (!this._horizontal || !Menu._isRoot(item)) {\n        if (this._animate && !this._horizontal) {\n          window.requestAnimationFrame(() => this._toggleAnimation(false, item, closeChildren));\n        } else {\n          item.classList.remove('open');\n          if (closeChildren) {\n            const opened = item.querySelectorAll('.menu-item.open');\n            for (let i = 0, l = opened.length; i < l; i++) {\n              opened[i].classList.remove('open');\n            }\n          }\n          this._onClosed && this._onClosed(this, item, toggleLink, Menu._findMenu(item));\n        }\n      } else {\n        this._toggleDropdown(false, item, closeChildren);\n        this._onClosed && this._onClosed(this, item, toggleLink, Menu._findMenu(item));\n      }\n    }).catch(() => {});\n  }\n\n  _closeOther(item, closeChildren) {\n    const opened = Menu._findChild(item.parentNode, ['menu-item', 'open']);\n    for (let i = 0, l = opened.length; i < l; i++) {\n      if (opened[i] !== item) this.close(opened[i], closeChildren);\n    }\n  }\n\n  toggle(el, closeChildren = this._closeChildren) {\n    const item = Menu._getItem(el, true);\n    if (item.classList.contains('open')) {\n      this.close(item, closeChildren);\n    } else {\n      this.open(item, closeChildren);\n    }\n  }\n\n  _toggleDropdown(show, item, closeChildren) {\n    const menu = Menu._findMenu(item);\n    let actualItem = item;\n    let subMenuItem = false;\n\n    if (show) {\n      if (Menu._findParent(item, 'menu-sub', false)) {\n        subMenuItem = true;\n        item = this._topParent ? this._topParent.parentNode : item;\n      }\n\n      const wrapperWidth = Math.round(this._wrapper.getBoundingClientRect().width);\n      let position = this._innerPosition;\n      const itemOffset = this._getItemOffset(item);\n      const itemWidth = Math.round(item.getBoundingClientRect().width);\n\n      if (itemOffset - DELTA <= -1 * position) {\n        this._innerPosition = -1 * itemOffset;\n      } else if (itemOffset + position + itemWidth + DELTA >= wrapperWidth) {\n        if (itemWidth > wrapperWidth) {\n          this._innerPosition = -1 * itemOffset;\n        } else {\n          this._innerPosition = -1 * (itemOffset + itemWidth - wrapperWidth);\n        }\n      }\n\n      actualItem.classList.add('open');\n      const menuWidth = Math.round(menu.getBoundingClientRect().width);\n\n      if (subMenuItem) {\n        if (itemOffset + this._innerPosition + menuWidth * 2 > wrapperWidth &&\n            menuWidth < wrapperWidth &&\n            menuWidth >= itemWidth) {\n          // Use class instead of inline style\n          if (this._rtl) {\n            menu.classList.add('menu-position-right-100');\n          } else {\n            menu.classList.add('menu-position-left-100');\n          }\n        }\n      } else if (itemOffset + this._innerPosition + menuWidth > wrapperWidth &&\n                 menuWidth < wrapperWidth &&\n                 menuWidth > itemWidth) {\n        // Store margin value in data attribute and apply via CSS class\n        const marginValue = menuWidth - itemWidth;\n        menu.setAttribute('data-menu-margin', marginValue);\n        if (this._rtl) {\n          menu.classList.add('menu-margin-right');\n        } else {\n          menu.classList.add('menu-margin-left');\n        }\n      }\n\n      this._closeOther(actualItem, closeChildren);\n      this._updateSlider();\n    } else {\n      const toggle = Menu._findChild(item, ['menu-toggle']);\n      if (toggle.length) toggle[0].removeAttribute('data-hover', 'true');\n\n      item.classList.remove('open');\n      // Remove margin classes instead of setting style to null\n      menu.classList.remove('menu-margin-left', 'menu-margin-right', 'menu-position-left-100', 'menu-position-right-100');\n      menu.removeAttribute('data-menu-margin');\n\n      if (closeChildren) {\n        const opened = menu.querySelectorAll('.menu-item.open');\n        for (let i = 0, l = opened.length; i < l; i++) {\n          opened[i].classList.remove('open');\n        }\n      }\n    }\n  }\n\n  _slide(direction) {\n    const wrapperWidth = Math.round(this._wrapper.getBoundingClientRect().width);\n    const innerWidth = this._innerWidth;\n    let newPosition;\n\n    if (direction === 'next') {\n      newPosition = this._getSlideNextPos();\n      if (innerWidth + newPosition < wrapperWidth) {\n        newPosition = wrapperWidth - innerWidth;\n      }\n    } else {\n      newPosition = this._getSlidePrevPos();\n      if (newPosition > 0) newPosition = 0;\n    }\n\n    this._innerPosition = newPosition;\n    this.update();\n  }\n\n  _getSlideNextPos() {\n    const wrapperWidth = Math.round(this._wrapper.getBoundingClientRect().width);\n    const position = this._innerPosition;\n    let curItem = this._inner.childNodes[0];\n    let left = 0;\n\n    while (curItem) {\n      if (curItem.tagName) {\n        const curItemWidth = Math.round(curItem.getBoundingClientRect().width);\n        if (left + position - DELTA <= wrapperWidth && left + position + curItemWidth + DELTA >= wrapperWidth) {\n          if (curItemWidth > wrapperWidth && left === -1 * position) left += curItemWidth;\n          break;\n        }\n        left += curItemWidth;\n      }\n      curItem = curItem.nextSibling;\n    }\n    return -1 * left;\n  }\n\n  _getSlidePrevPos() {\n    const wrapperWidth = Math.round(this._wrapper.getBoundingClientRect().width);\n    const position = this._innerPosition;\n    let curItem = this._inner.childNodes[0];\n    let left = 0;\n\n    while (curItem) {\n      if (curItem.tagName) {\n        const curItemWidth = Math.round(curItem.getBoundingClientRect().width);\n        if (left - DELTA <= -1 * position && left + curItemWidth + DELTA >= -1 * position) {\n          if (curItemWidth <= wrapperWidth) left = left + curItemWidth - wrapperWidth;\n          break;\n        }\n        left += curItemWidth;\n      }\n      curItem = curItem.nextSibling;\n    }\n    return -1 * left;\n  }\n\n  _findUnopenedParent(item, closeChildren) {\n    let tree = [];\n    let parentItem = null;\n\n    while (item) {\n      if (item.classList.contains('disabled')) {\n        parentItem = null;\n        tree = [];\n      } else {\n        if (!item.classList.contains('open')) parentItem = item;\n        tree.push(item);\n      }\n      item = Menu._findParent(item, 'menu-item', false);\n    }\n\n    if (!parentItem) return null;\n    if (tree.length === 1) return parentItem;\n\n    tree = tree.slice(0, tree.indexOf(parentItem));\n    for (let i = 0, l = tree.length; i < l; i++) {\n      tree[i].classList.add('open');\n\n      if (this._accordion) {\n        const openedItems = Menu._findChild(tree[i].parentNode, ['menu-item', 'open']);\n        for (let j = 0, k = openedItems.length; j < k; j++) {\n          if (openedItems[j] !== tree[i]) {\n            openedItems[j].classList.remove('open');\n            if (closeChildren) {\n              const openedChildren = openedItems[j].querySelectorAll('.menu-item.open');\n              for (let x = 0, z = openedChildren.length; x < z; x++) {\n                openedChildren[x].classList.remove('open');\n              }\n            }\n          }\n        }\n      }\n    }\n    return parentItem;\n  }\n\n  _toggleAnimation(open, item, closeChildren) {\n    const toggleLink = Menu._getLink(item, true);\n    const menu = Menu._findMenu(item);\n    Menu._unbindAnimationEndEvent(item);\n\n    const linkHeight = Math.round(toggleLink.getBoundingClientRect().height);\n\n    // Use CSS class instead of inline style\n    item.classList.add('menu-item-overflow-hidden');\n\n    const clearItemStyle = () => {\n      item.classList.remove('menu-item-animating');\n      item.classList.remove('menu-item-closing');\n      item.classList.remove('menu-item-overflow-hidden');\n      // Remove height data attribute\n      item.removeAttribute('data-menu-height');\n      if (!this._horizontal) this.update();\n    };\n\n    if (open) {\n      // Set height via data attribute\n      item.setAttribute('data-menu-height', `${linkHeight}px`);\n      item.classList.add('menu-item-animating');\n      item.classList.add('open');\n\n      Menu._bindAnimationEndEvent(item, () => {\n        clearItemStyle();\n        this._onOpened(this, item, toggleLink, menu);\n      });\n\n      setTimeout(() => {\n        const totalHeight = linkHeight + Math.round(menu.getBoundingClientRect().height);\n        item.setAttribute('data-menu-height', `${totalHeight}px`);\n      }, 50);\n    } else {\n      // Set initial height\n      const totalHeight = linkHeight + Math.round(menu.getBoundingClientRect().height);\n      item.setAttribute('data-menu-height', `${totalHeight}px`);\n      item.classList.add('menu-item-animating');\n      item.classList.add('menu-item-closing');\n\n      Menu._bindAnimationEndEvent(item, () => {\n        item.classList.remove('open');\n        clearItemStyle();\n\n        if (closeChildren) {\n          const opened = item.querySelectorAll('.menu-item.open');\n          for (let i = 0, l = opened.length; i < l; i++) {\n            opened[i].classList.remove('open');\n          }\n        }\n        this._onClosed(this, item, toggleLink, menu);\n      });\n\n      setTimeout(() => {\n        item.setAttribute('data-menu-height', `${linkHeight}px`);\n      }, 50);\n    }\n  }\n\n  _getItemOffset(item) {\n    let curItem = this._inner.childNodes[0];\n    let left = 0;\n\n    while (curItem !== item) {\n      if (curItem.tagName) {\n        left += Math.round(curItem.getBoundingClientRect().width);\n      }\n      curItem = curItem.nextSibling;\n    }\n    return left;\n  }\n\n  _updateSlider(wrapperWidth = null, innerWidth = null, position = null) {\n    const _wrapperWidth = wrapperWidth !== null ? wrapperWidth : Math.round(this._wrapper.getBoundingClientRect().width);\n    const _innerWidth = innerWidth !== null ? innerWidth : this._innerWidth;\n    const _position = position !== null ? position : this._innerPosition;\n\n    if (_innerWidth < _wrapperWidth || window.innerWidth < window.Helpers.LAYOUT_BREAKPOINT) {\n      this._prevBtn.classList.add('d-none');\n      this._nextBtn.classList.add('d-none');\n    } else {\n      this._prevBtn.classList.remove('d-none');\n      this._nextBtn.classList.remove('d-none');\n    }\n\n    if (_innerWidth > _wrapperWidth && window.innerWidth > window.Helpers.LAYOUT_BREAKPOINT) {\n      if (_position === 0) {\n        this._prevBtn.classList.add('disabled');\n      } else {\n        this._prevBtn.classList.remove('disabled');\n      }\n\n      if (_innerWidth + _position <= _wrapperWidth) {\n        this._nextBtn.classList.add('disabled');\n      } else {\n        this._nextBtn.classList.remove('disabled');\n      }\n    }\n  }\n\n  get _innerWidth() {\n    const items = this._inner.childNodes;\n    let width = 0;\n\n    for (let i = 0, l = items.length; i < l; i++) {\n      if (items[i].tagName) {\n        width += Math.round(items[i].getBoundingClientRect().width);\n      }\n    }\n    return width;\n  }\n\n  get _innerPosition() {\n    return parseInt(this._inner.getAttribute('data-inner-position') || '0', 10);\n  }\n\n  set _innerPosition(value) {\n    this._inner.setAttribute('data-inner-position', value);\n    // Apply margin via custom property or class\n    const marginValue = `${value}px`;\n    if (this._rtl) {\n      this._inner.style.setProperty('--menu-margin-right', marginValue);\n    } else {\n      this._inner.style.setProperty('--menu-margin-left', marginValue);\n    }\n    return value;\n  }\n\n  closeAll(closeChildren = this._closeChildren) {\n    const opened = this._el.querySelectorAll('.menu-inner > .menu-item.open');\n    for (let i = 0, l = opened.length; i < l; i++) {\n      this.close(opened[i], closeChildren);\n    }\n  }\n\n  update() {\n    if (!this._horizontal) {\n      if (this._scrollbar) {\n        this._scrollbar.update();\n      }\n    } else {\n      this.closeAll();\n      const wrapperWidth = Math.round(this._wrapper.getBoundingClientRect().width);\n      const innerWidth = this._innerWidth;\n      let position = this._innerPosition;\n\n      if (wrapperWidth - position > innerWidth) {\n        position = wrapperWidth - innerWidth;\n        if (position > 0) position = 0;\n        this._innerPosition = position;\n      }\n      this._updateSlider(wrapperWidth, innerWidth, position);\n    }\n  }\n\n  manageScroll() {\n    const { PerfectScrollbar } = window;\n    const menuInner = document.querySelector('.menu-inner');\n\n    if (window.innerWidth < window.Helpers.LAYOUT_BREAKPOINT) {\n      if (this._scrollbar !== null) {\n        this._scrollbar.destroy();\n        this._scrollbar = null;\n      }\n      menuInner.classList.add('overflow-auto');\n    } else {\n      if (this._scrollbar === null) {\n        const menuScroll = new PerfectScrollbar(document.querySelector('.menu-inner'), {\n          suppressScrollX: true,\n          wheelPropagation: false\n        });\n        this._scrollbar = menuScroll;\n      }\n      menuInner.classList.remove('overflow-auto');\n    }\n  }\n\n  switchMenu(menu) {\n    // Unbind Events\n    this._unbindEvents();\n\n    const navbar = document.querySelector('nav.layout-navbar');\n    const navbarCollapse = document.querySelector('#navbar-collapse');\n    const asideMenuWrapper = document.querySelector('#layout-menu div');\n    const asideMenu = document.querySelector('#layout-menu');\n    const horzMenuClasses = ['layout-menu-horizontal', 'menu', 'menu-horizontal', 'container-fluid', 'flex-grow-0'];\n    const vertMenuClasses = ['layout-menu', 'menu', 'menu-vertical'];\n    const horzMenuWrapper = document.querySelector('.menu-horizontal-wrapper');\n    const menuInner = document.querySelector('.menu-inner');\n    const brand = document.querySelector('.app-brand');\n    const menuToggler = document.querySelector('.layout-menu-toggle');\n    const activeMenuItems = document.querySelectorAll('.menu-inner .active');\n\n    if (menu === 'vertical') {\n      this._horizontal = false;\n      asideMenuWrapper.insertBefore(brand, horzMenuWrapper);\n      asideMenuWrapper.insertBefore(menuInner, horzMenuWrapper);\n      asideMenuWrapper.classList.add('flex-column', 'p-0');\n\n      [...asideMenu.classList].forEach(cls => asideMenu.classList.remove(cls));\n      asideMenu.classList.add(...vertMenuClasses, this._menuBgClass);\n\n      brand.classList.remove('d-none', 'd-lg-flex');\n      menuToggler.classList.remove('d-none');\n      menuInner.classList.add('overflow-auto');\n\n      // Add open class to active items\n      for (let i = 0; i < activeMenuItems.length - 1; ++i) {\n        activeMenuItems[i].classList.add('open');\n      }\n    } else {\n      this._horizontal = true;\n      navbar.children[0].insertBefore(brand, navbarCollapse);\n      brand.classList.add('d-none', 'd-lg-flex');\n      horzMenuWrapper.appendChild(menuInner);\n      asideMenuWrapper.classList.remove('flex-column', 'p-0');\n\n      [...asideMenu.classList].forEach(cls => asideMenu.classList.remove(cls));\n      asideMenu.classList.add(...horzMenuClasses, this._menuBgClass);\n\n      menuToggler.classList.add('d-none');\n      menuInner.classList.remove('overflow-auto');\n\n      // Remove open class from active items\n      for (let i = 0; i < activeMenuItems.length; ++i) {\n        activeMenuItems[i].classList.remove('open');\n      }\n    }\n\n    this._bindEvents();\n  }\n\n  destroy() {\n    if (!this._el) return;\n\n    this._unbindEvents();\n\n    const items = this._el.querySelectorAll('.menu-item');\n    for (let i = 0, l = items.length; i < l; i++) {\n      Menu._unbindAnimationEndEvent(items[i]);\n      items[i].classList.remove('menu-item-animating');\n      items[i].classList.remove('open');\n      items[i].classList.remove('menu-item-overflow-hidden');\n      items[i].removeAttribute('data-menu-height');\n    }\n\n    const menus = this._el.querySelectorAll('.menu-menu');\n    for (let i2 = 0, l2 = menus.length; i2 < l2; i2++) {\n      menus[i2].classList.remove('menu-margin-left', 'menu-margin-right', 'menu-position-left-100', 'menu-position-right-100');\n      menus[i2].removeAttribute('data-menu-margin');\n    }\n\n    this._el.classList.remove('menu-no-animation');\n\n    if (this._wrapper) {\n      this._prevBtn.parentNode.removeChild(this._prevBtn);\n      this._nextBtn.parentNode.removeChild(this._nextBtn);\n      this._wrapper.parentNode.insertBefore(this._inner, this._wrapper);\n      this._wrapper.parentNode.removeChild(this._wrapper);\n      this._inner.removeAttribute('data-inner-position');\n      this._inner.style.removeProperty('--menu-margin-left');\n      this._inner.style.removeProperty('--menu-margin-right');\n    }\n\n    this._el.menuInstance = null;\n    delete this._el.menuInstance;\n    this._el = null;\n    this._horizontal = null;\n    this._animate = null;\n    this._accordion = null;\n    this._showDropdownOnHover = null;\n    this._closeChildren = null;\n    this._rtl = null;\n    this._onOpen = null;\n    this._onOpened = null;\n    this._onClose = null;\n    this._onClosed = null;\n\n    if (this._scrollbar) {\n      this._scrollbar.destroy();\n      this._scrollbar = null;\n    }\n\n    this._inner = null;\n    this._prevBtn = null;\n    this._wrapper = null;\n    this._nextBtn = null;\n  }\n\n  static childOf(c, p) {\n    if (c.parentNode) {\n      while ((c = c.parentNode) && c !== p);\n      return !!c;\n    }\n    return false;\n  }\n\n  static _isRoot(item) {\n    return !Menu._findParent(item, 'menu-item', false);\n  }\n\n  static _findParent(el, cls, throwError = true) {\n    if (el.tagName.toUpperCase() === 'BODY') return null;\n\n    el = el.parentNode;\n    while (el.tagName.toUpperCase() !== 'BODY' && !el.classList.contains(cls)) {\n      el = el.parentNode;\n    }\n\n    el = el.tagName.toUpperCase() !== 'BODY' ? el : null;\n\n    if (!el && throwError) {\n      throw new Error(`Cannot find .${cls} parent element`);\n    }\n    return el;\n  }\n\n  static _findChild(el, cls) {\n    const items = el.childNodes;\n    const found = [];\n\n    for (let i = 0, l = items.length; i < l; i++) {\n      if (items[i].classList) {\n        let passed = 0;\n        for (let j = 0; j < cls.length; j++) {\n          if (items[i].classList.contains(cls[j])) passed += 1;\n        }\n        if (cls.length === passed) found.push(items[i]);\n      }\n    }\n    return found;\n  }\n\n  static _findMenu(item) {\n    let curEl = item.childNodes[0];\n    let menu = null;\n\n    while (curEl && !menu) {\n      if (curEl.classList && curEl.classList.contains('menu-sub')) menu = curEl;\n      curEl = curEl.nextSibling;\n    }\n\n    if (!menu) throw new Error('Cannot find `.menu-sub` element for the current `.menu-toggle`');\n    return menu;\n  }\n\n  static _hasClass(cls, el = window.Helpers.ROOT_EL) {\n    let result = false;\n    cls.split(' ').forEach((c) => {\n      if (el.classList.contains(c)) result = true;\n    });\n    return result;\n  }\n\n  static _getItem(el, toggle) {\n    let item = null;\n    const selector = toggle ? 'menu-toggle' : 'menu-link';\n\n    if (el.classList.contains('menu-item')) {\n      if (Menu._findChild(el, [selector]).length) item = el;\n    } else if (el.classList.contains(selector)) {\n      item = el.parentNode.classList.contains('menu-item') ? el.parentNode : null;\n    }\n\n    if (!item) {\n      throw new Error(`${toggle ? 'Toggable ' : ''}.menu-item element not found.`);\n    }\n    return item;\n  }\n\n  static _getLink(el, toggle) {\n    let found = [];\n    const selector = toggle ? 'menu-toggle' : 'menu-link';\n\n    if (el.classList.contains(selector)) {\n      found = [el];\n    } else if (el.classList.contains('menu-item')) {\n      found = Menu._findChild(el, [selector]);\n    }\n\n    if (!found.length) throw new Error(`${selector} element not found.`);\n    return found[0];\n  }\n\n  static _bindAnimationEndEvent(el, handler) {\n    const cb = (e) => {\n      if (e.target !== el) return;\n      Menu._unbindAnimationEndEvent(el);\n      handler(e);\n    };\n\n    let duration = window.getComputedStyle(el).transitionDuration;\n    duration = parseFloat(duration) * (duration.indexOf('ms') !== -1 ? 1 : 1000);\n\n    el._menuAnimationEndEventCb = cb;\n    TRANSITION_EVENTS.forEach((ev) => el.addEventListener(ev, el._menuAnimationEndEventCb, false));\n    el._menuAnimationEndEventTimeout = setTimeout(() => {\n      cb({ target: el });\n    }, duration + 50);\n  }\n\n  static _promisify(fn, ...args) {\n    const result = fn.apply(void 0, args);\n\n    if (result instanceof Promise) {\n      return result;\n    }\n    if (result === false) {\n      return Promise.reject();\n    }\n    return Promise.resolve();\n  }\n\n  static _unbindAnimationEndEvent(el) {\n    const cb = el._menuAnimationEndEventCb;\n\n    if (el._menuAnimationEndEventTimeout) {\n      clearTimeout(el._menuAnimationEndEventTimeout);\n      el._menuAnimationEndEventTimeout = null;\n    }\n    if (!cb) return;\n\n    TRANSITION_EVENTS.forEach((ev) => el.removeEventListener(ev, cb, false));\n    el._menuAnimationEndEventCb = null;\n  }\n\n  setDisabled(el, disabled) {\n    Menu._getItem(el, false).classList[disabled ? 'add' : 'remove']('disabled');\n  }\n\n  isActive(el) {\n    return Menu._getItem(el, false).classList.contains('active');\n  }\n\n  isOpened(el) {\n    return Menu._getItem(el, false).classList.contains('open');\n  }\n\n  isDisabled(el) {\n    return Menu._getItem(el, false).classList.contains('disabled');\n  }\n}\n\nwindow.Menu = Menu;\n\n// NOTE: Removed \"export { Menu };\" - ES6 exports break when concatenated into non-module bundles\n// The window.Menu assignment above makes Menu globally available\n","/**\n * Vendor Globals Shim\n *\n * This file ensures that vendor libraries like jQuery and Bootstrap\n * are properly exposed as globals when bundled by Vite.\n *\n * UMD libraries detect CommonJS/AMD environments and export instead of\n * attaching to window. This shim re-exports them to window after import.\n */\n\n// ============================================================================\n// 1. JQUERY - Must be first (many libs depend on it)\n// ============================================================================\nimport * as jQueryExports from '../vendor/libs/jquery/jquery.js';\nconst jQuery = jQueryExports.default || jQueryExports.jQuery || jQueryExports;\nif (typeof window !== 'undefined') {\n  window.jQuery = jQuery;\n  window.$ = jQuery;\n}\n\n// ============================================================================\n// 2. POPPER - Required by Bootstrap tooltips/dropdowns\n// ============================================================================\nimport * as Popper from '../vendor/libs/popper/popper.js';\nif (typeof window !== 'undefined') {\n  window.Popper = Popper.default || Popper.createPopper || Popper;\n}\n\n// ============================================================================\n// 3. BOOTSTRAP - Needs jQuery and Popper first\n// ============================================================================\nimport * as Bootstrap from '../vendor/js/bootstrap.bundle.js';\nif (typeof window !== 'undefined') {\n  window.bootstrap = Bootstrap.default || Bootstrap;\n}\n\n// ============================================================================\n// 4. NODE WAVES - Ripple effects (checks typeof Waves)\n// ============================================================================\nimport * as WavesExports from '../vendor/libs/node-waves/node-waves.js';\nconst Waves = WavesExports.default || WavesExports.Waves || WavesExports;\nif (typeof window !== 'undefined') {\n  window.Waves = Waves;\n}\n\n// ============================================================================\n// 5. PERFECT SCROLLBAR - Sidebar scrolling\n// ============================================================================\nimport * as PerfectScrollbarExports from '../vendor/libs/perfect-scrollbar/perfect-scrollbar.js';\nconst PerfectScrollbar = PerfectScrollbarExports.default || PerfectScrollbarExports.PerfectScrollbar || PerfectScrollbarExports;\nif (typeof window !== 'undefined') {\n  window.PerfectScrollbar = PerfectScrollbar;\n}\n\n// ============================================================================\n// 6. HAMMER.JS - Touch gestures (used by Helpers via window.Hammer)\n// ============================================================================\nimport * as HammerExports from '../vendor/libs/hammer/hammer.js';\nconst Hammer = HammerExports.default || HammerExports.Hammer || HammerExports;\nif (typeof window !== 'undefined') {\n  window.Hammer = Hammer;\n}\n\n// ============================================================================\n// 7. MENU - Sidebar navigation system\n// ============================================================================\nimport * as MenuExports from '../vendor/js/menu-refactored.js';\nconst Menu = MenuExports.default || MenuExports.Menu || MenuExports;\nif (typeof window !== 'undefined') {\n  window.Menu = Menu;\n}\n\n// ============================================================================\n// LOG - Confirm globals are set up\n// ============================================================================\nif (typeof window !== 'undefined') {\n  console.log('[Vendor Globals] jQuery:', typeof window.$, 'Bootstrap:', typeof window.bootstrap, 'Waves:', typeof window.Waves, 'Hammer:', typeof window.Hammer, 'Menu:', typeof window.Menu);\n}\n","/**\n * Centralized Event Delegation System\n *\n * Handles all interactive events for dynamic content across the application.\n * Uses event delegation to ensure event handlers work for elements added after page load\n * (via AJAX, HTMX, innerHTML, appendChild, etc.)\n *\n * @version 1.0.0\n * @author ECS Development Team\n * @date 2025-12-16\n *\n * USAGE:\n *\n * 1. In HTML, use data-action attributes:\n *    <button data-action=\"delete-match\" data-match-id=\"123\">Delete</button>\n *\n * 2. Register handler in JavaScript:\n *    EventDelegation.register('delete-match', function(element, event) {\n *        const matchId = element.dataset.matchId;\n *        // Handle delete\n *    });\n *\n * 3. Initialize (already done in this file):\n *    EventDelegation.init();\n */\n\nconst EventDelegation = {\n    // Handler registry - maps action names to handler functions\n    handlers: new Map(),\n\n    // Debug mode - set to true for verbose logging\n    debug: false,\n\n    // Statistics for monitoring\n    stats: {\n        handlersRegistered: 0,\n        eventsProcessed: 0,\n        errorsEncountered: 0\n    },\n\n    /**\n     * Register an action handler\n     *\n     * @param {string} action - Action name (from data-action attribute)\n     * @param {Function} handler - Handler function(element, event)\n     * @param {Object} options - Optional configuration\n     *   @param {boolean} options.preventDefault - Auto preventDefault (default: false)\n     *   @param {boolean} options.stopPropagation - Auto stopPropagation (default: false)\n     *\n     * @example\n     * EventDelegation.register('delete-item', function(element, e) {\n     *     const itemId = element.dataset.itemId;\n     *     deleteItem(itemId);\n     * });\n     */\n    register(action, handler, options = {}) {\n        if (typeof handler !== 'function') {\n            console.error(`[EventDelegation] Handler for action \"${action}\" must be a function`);\n            return;\n        }\n\n        // Wrap handler with options\n        const wrappedHandler = (element, event) => {\n            if (options.preventDefault) event.preventDefault();\n            if (options.stopPropagation) event.stopPropagation();\n            return handler(element, event);\n        };\n\n        this.handlers.set(action, wrappedHandler);\n        this.stats.handlersRegistered++;\n\n        if (this.debug) {\n            console.log(`[EventDelegation] Registered handler: ${action}`);\n        }\n    },\n\n    /**\n     * Unregister an action handler\n     *\n     * @param {string} action - Action name to unregister\n     */\n    unregister(action) {\n        if (this.handlers.has(action)) {\n            this.handlers.delete(action);\n            this.stats.handlersRegistered--;\n            if (this.debug) {\n                console.log(`[EventDelegation] Unregistered handler: ${action}`);\n            }\n        }\n    },\n\n    /**\n     * Check if an action is registered\n     *\n     * @param {string} action - Action name to check\n     * @returns {boolean}\n     */\n    isRegistered(action) {\n        return this.handlers.has(action);\n    },\n\n    /**\n     * Get all registered action names\n     *\n     * @returns {string[]} Array of action names\n     */\n    getRegisteredActions() {\n        return Array.from(this.handlers.keys());\n    },\n\n    /**\n     * Initialize event delegation system\n     * Sets up global event listeners on document\n     */\n    init() {\n        // Click events (most common)\n        // NOTE: Using bubble phase (false) to allow other handlers to also process events\n        document.addEventListener('click', this.handleClick.bind(this), false);\n\n        // Change events (for form inputs)\n        document.addEventListener('change', this.handleChange.bind(this), false);\n\n        // Input events (for real-time validation/search)\n        document.addEventListener('input', this.handleInput.bind(this), false);\n\n        // Submit events (for forms)\n        document.addEventListener('submit', this.handleSubmit.bind(this), false);\n\n        // Keydown events (for keyboard shortcuts)\n        document.addEventListener('keydown', this.handleKeydown.bind(this), false);\n\n        console.log('[EventDelegation] System initialized');\n        console.log(`[EventDelegation] Registered ${this.stats.handlersRegistered} handlers`);\n    },\n\n    /**\n     * Handle click events\n     * Delegates to registered action handlers based on data-action attribute\n     *\n     * @param {Event} e - Click event\n     */\n    handleClick(e) {\n        // Find element with data-action (check target and parents)\n        const actionElement = e.target.closest('[data-action]');\n        if (!actionElement) return;\n\n        const action = actionElement.dataset.action;\n        const handler = this.handlers.get(action);\n\n        if (handler) {\n            this.stats.eventsProcessed++;\n\n            if (this.debug) {\n                console.log(`[EventDelegation] Handling click action: ${action}`, {\n                    element: actionElement,\n                    data: actionElement.dataset\n                });\n            }\n\n            try {\n                handler(actionElement, e);\n            } catch (error) {\n                this.stats.errorsEncountered++;\n                console.error(`[EventDelegation] Error in handler \"${action}\":`, error);\n                this.handleError(action, error, actionElement);\n            }\n        } else {\n            if (this.debug) {\n                console.warn(`[EventDelegation] No handler registered for action: ${action}`);\n            }\n        }\n    },\n\n    /**\n     * Handle change events (for form inputs with data-on-change)\n     *\n     * @param {Event} e - Change event\n     */\n    handleChange(e) {\n        const target = e.target.closest('[data-on-change]');\n        if (!target) return;\n\n        const action = target.dataset.onChange;\n        const handler = this.handlers.get(action);\n\n        if (handler) {\n            this.stats.eventsProcessed++;\n\n            if (this.debug) {\n                console.log(`[EventDelegation] Handling change action: ${action}`, {\n                    element: target,\n                    value: target.value\n                });\n            }\n\n            try {\n                handler(target, e);\n            } catch (error) {\n                this.stats.errorsEncountered++;\n                console.error(`[EventDelegation] Error in handler \"${action}\":`, error);\n                this.handleError(action, error, target);\n            }\n        }\n    },\n\n    /**\n     * Handle input events (for real-time validation/search with data-on-input)\n     *\n     * @param {Event} e - Input event\n     */\n    handleInput(e) {\n        const target = e.target.closest('[data-on-input]');\n        if (!target) return;\n\n        const action = target.dataset.onInput;\n        const handler = this.handlers.get(action);\n\n        if (handler) {\n            this.stats.eventsProcessed++;\n\n            if (this.debug) {\n                console.log(`[EventDelegation] Handling input action: ${action}`, {\n                    element: target,\n                    value: target.value\n                });\n            }\n\n            try {\n                handler(target, e);\n            } catch (error) {\n                this.stats.errorsEncountered++;\n                console.error(`[EventDelegation] Error in handler \"${action}\":`, error);\n                this.handleError(action, error, target);\n            }\n        }\n    },\n\n    /**\n     * Handle submit events (for forms with data-on-submit)\n     *\n     * @param {Event} e - Submit event\n     */\n    handleSubmit(e) {\n        const form = e.target.closest('[data-on-submit]');\n        if (!form) return;\n\n        const action = form.dataset.onSubmit;\n        const handler = this.handlers.get(action);\n\n        if (handler) {\n            this.stats.eventsProcessed++;\n\n            if (this.debug) {\n                console.log(`[EventDelegation] Handling submit action: ${action}`, {\n                    form: form,\n                    data: new FormData(form)\n                });\n            }\n\n            try {\n                handler(form, e);\n            } catch (error) {\n                this.stats.errorsEncountered++;\n                console.error(`[EventDelegation] Error in handler \"${action}\":`, error);\n                this.handleError(action, error, form);\n            }\n        }\n    },\n\n    /**\n     * Handle keydown events (for keyboard shortcuts with data-on-keydown)\n     *\n     * @param {Event} e - Keydown event\n     */\n    handleKeydown(e) {\n        const target = e.target.closest('[data-on-keydown]');\n        if (!target) return;\n\n        const action = target.dataset.onKeydown;\n        const handler = this.handlers.get(action);\n\n        if (handler) {\n            this.stats.eventsProcessed++;\n\n            if (this.debug) {\n                console.log(`[EventDelegation] Handling keydown action: ${action}`, {\n                    element: target,\n                    key: e.key,\n                    code: e.code\n                });\n            }\n\n            try {\n                handler(target, e);\n            } catch (error) {\n                this.stats.errorsEncountered++;\n                console.error(`[EventDelegation] Error in handler \"${action}\":`, error);\n                this.handleError(action, error, target);\n            }\n        }\n    },\n\n    /**\n     * Handle errors in action handlers\n     * Can be overridden to customize error handling\n     *\n     * @param {string} action - Action name that errored\n     * @param {Error} error - The error object\n     * @param {HTMLElement} element - The element that triggered the action\n     */\n    handleError(action, error, element) {\n        // Default error handling - can be customized\n        console.error(`[EventDelegation] Action \"${action}\" failed:`, error);\n\n        // Optionally show user-facing error message\n        if (typeof showNotification === 'function') {\n            showNotification('Error', `Action failed: ${action}`, 'error');\n        }\n    },\n\n    /**\n     * Enable debug mode\n     */\n    enableDebug() {\n        this.debug = true;\n        console.log('[EventDelegation] Debug mode enabled');\n    },\n\n    /**\n     * Disable debug mode\n     */\n    disableDebug() {\n        this.debug = false;\n        console.log('[EventDelegation] Debug mode disabled');\n    },\n\n    /**\n     * Get system statistics\n     *\n     * @returns {Object} Statistics object\n     */\n    getStats() {\n        return {\n            ...this.stats,\n            registeredActions: this.handlers.size\n        };\n    },\n\n    /**\n     * Reset statistics\n     */\n    resetStats() {\n        this.stats.eventsProcessed = 0;\n        this.stats.errorsEncountered = 0;\n    }\n};\n\n// Initialize the system when DOM is ready\nif (document.readyState === 'loading') {\n    document.addEventListener('DOMContentLoaded', function() {\n        EventDelegation.init();\n    });\n} else {\n    // DOM already loaded\n    EventDelegation.init();\n}\n\n// ============================================================================\n// MATCH MANAGEMENT ACTIONS\n// ============================================================================\n\n/**\n * Show Task Info Action\n * Displays detailed information about a scheduled task\n */\nEventDelegation.register('show-task-info', function(element, e) {\n    e.preventDefault();\n\n    const taskId = element.dataset.taskId;\n    const taskType = element.dataset.taskType;\n    const taskDataStr = element.dataset.taskData;\n\n    if (!taskId || !taskType) {\n        console.error('[show-task-info] Missing required data attributes');\n        return;\n    }\n\n    let taskData;\n    try {\n        taskData = taskDataStr ? JSON.parse(taskDataStr) : {};\n    } catch (err) {\n        console.error('[show-task-info] Failed to parse task data:', err);\n        taskData = {};\n    }\n\n    if (typeof showTaskInfo === 'function') {\n        showTaskInfo(taskId, taskType, taskData);\n    } else {\n        console.error('[show-task-info] Function not found');\n    }\n});\n\n/**\n * Revoke Task Action\n * Cancels a scheduled task (thread creation, reporting, etc.)\n */\nEventDelegation.register('revoke-task', function(element, e) {\n    e.preventDefault();\n\n    const taskId = element.dataset.taskId;\n    const matchId = element.dataset.matchId;\n    const taskType = element.dataset.taskType;\n\n    if (!taskId || !matchId || !taskType) {\n        console.error('[revoke-task] Missing required data attributes');\n        return;\n    }\n\n    if (typeof revokeTask === 'function') {\n        revokeTask(taskId, matchId, taskType);\n    } else {\n        console.error('[revoke-task] Function not found');\n    }\n});\n\n/**\n * Reschedule Task Action\n * Re-schedules a task to run at a different time\n */\nEventDelegation.register('reschedule-task', function(element, e) {\n    e.preventDefault();\n\n    const matchId = element.dataset.matchId;\n    const taskType = element.dataset.taskType;\n\n    if (!matchId || !taskType) {\n        console.error('[reschedule-task] Missing required data attributes');\n        return;\n    }\n\n    if (typeof rescheduleTask === 'function') {\n        rescheduleTask(matchId, taskType);\n    } else {\n        console.error('[reschedule-task] Function not found');\n    }\n});\n\n/**\n * Refresh Tasks Action\n * Manually refreshes task status for all matches\n */\nEventDelegation.register('refresh-tasks', function(element, e) {\n    e.preventDefault();\n\n    if (typeof loadAllTaskDetails === 'function') {\n        loadAllTaskDetails();\n    } else if (typeof refreshStatuses === 'function') {\n        refreshStatuses();\n    } else {\n        console.error('[refresh-tasks] No refresh function found');\n    }\n});\n\n/**\n * Toggle Historical Matches Action\n * Shows/hides historical matches section\n */\nEventDelegation.register('toggle-historical', function(element, e) {\n    e.preventDefault();\n\n    const targetId = element.dataset.target;\n    if (!targetId) {\n        console.error('[toggle-historical] Missing target ID');\n        return;\n    }\n\n    const target = document.querySelector(targetId);\n    if (target && window.bootstrap) {\n        const collapse = bootstrap.Collapse.getOrCreateInstance(target);\n        collapse.toggle();\n    }\n});\n\n/**\n * Schedule Match Action\n * Schedules all tasks for a match (thread + reporting)\n */\nEventDelegation.register('schedule-match', function(element, e) {\n    e.preventDefault();\n\n    const matchId = element.dataset.matchId;\n\n    if (!matchId) {\n        console.error('[schedule-match] Missing match ID');\n        return;\n    }\n\n    if (typeof scheduleMatch === 'function') {\n        scheduleMatch(matchId);\n    } else {\n        console.error('[schedule-match] Function not found');\n    }\n});\n\n/**\n * Verify Match Action\n * Opens match verification modal/page\n */\nEventDelegation.register('verify-match', function(element, e) {\n    e.preventDefault();\n\n    const matchId = element.dataset.matchId;\n\n    if (!matchId) {\n        console.error('[verify-match] Missing match ID');\n        return;\n    }\n\n    // Navigate to verification page or open modal\n    if (typeof verifyMatch === 'function') {\n        verifyMatch(matchId);\n    } else {\n        // Fallback: navigate to verification page\n        const verifyUrl = element.dataset.verifyUrl || `/admin/match_verification/${matchId}`;\n        window.location.href = verifyUrl;\n    }\n});\n\n/**\n * Edit Match Action\n * Opens match editing modal/page\n */\nEventDelegation.register('edit-match', function(element, e) {\n    e.preventDefault();\n\n    const matchId = element.dataset.matchId;\n\n    if (!matchId) {\n        console.error('[edit-match] Missing match ID');\n        return;\n    }\n\n    if (typeof editMatch === 'function') {\n        editMatch(matchId);\n    } else {\n        console.error('[edit-match] Function not found');\n    }\n});\n\n// ============================================================================\n// DRAFT SYSTEM ACTIONS\n// ============================================================================\n\n/**\n * Draft Player Action\n * Shows modal to select team and draft player\n */\nEventDelegation.register('draft-player', function(element, e) {\n    e.preventDefault();\n\n    const playerId = element.dataset.playerId;\n    const playerName = element.dataset.playerName;\n\n    if (!playerId || !playerName) {\n        console.error('[draft-player] Missing required data attributes');\n        return;\n    }\n\n    // Call global function\n    if (typeof confirmDraftPlayer === 'function') {\n        confirmDraftPlayer(playerId, playerName);\n    } else if (window.draftSystemInstance && typeof window.draftSystemInstance.showDraftModal === 'function') {\n        window.draftSystemInstance.showDraftModal(playerId, playerName);\n    } else {\n        console.error('[draft-player] No draft function available');\n    }\n});\n\n/**\n * Remove Player Action\n * Removes player from team and returns to available pool\n */\nEventDelegation.register('remove-player', function(element, e) {\n    e.preventDefault();\n\n    const playerId = element.dataset.playerId;\n    const teamId = element.dataset.teamId;\n    const playerName = element.dataset.playerName;\n    const teamName = element.dataset.teamName;\n\n    if (!playerId || !teamId) {\n        console.error('[remove-player] Missing required data attributes');\n        return;\n    }\n\n    // Call global function\n    if (typeof confirmRemovePlayer === 'function') {\n        confirmRemovePlayer(playerId, teamId, playerName, teamName);\n    } else {\n        console.error('[remove-player] Function not found');\n    }\n});\n\n/**\n * View Player Profile Action\n * Opens modal with player details\n */\nEventDelegation.register('view-player-profile', function(element, e) {\n    e.preventDefault();\n\n    const playerId = element.dataset.playerId;\n\n    if (!playerId) {\n        console.error('[view-player-profile] Missing player ID');\n        return;\n    }\n\n    // Check for instance method first, then global\n    if (window.draftSystemInstance && typeof window.draftSystemInstance.openPlayerModal === 'function') {\n        window.draftSystemInstance.openPlayerModal(playerId);\n    } else if (typeof openPlayerModal === 'function') {\n        openPlayerModal(playerId);\n    } else {\n        console.error('[view-player-profile] No modal function available');\n    }\n});\n\n/**\n * Search Players Action (triggered by input event)\n * Filters available players by name\n */\nEventDelegation.register('search-players', function(element, e) {\n    const searchTerm = element.value.toLowerCase().trim();\n\n    if (window.draftSystemInstance && typeof window.draftSystemInstance.handleSearch === 'function') {\n        window.draftSystemInstance.handleSearch(e);\n    } else {\n        // Fallback: basic search implementation\n        const playerCards = document.querySelectorAll('[data-component=\"player-card\"]');\n        playerCards.forEach(card => {\n            const playerName = (card.dataset.playerName || '').toLowerCase();\n            const shouldShow = !searchTerm || playerName.includes(searchTerm);\n            card.closest('[data-component=\"player-column\"]')?.classList.toggle('d-none', !shouldShow);\n        });\n    }\n});\n\n/**\n * Filter Players by Position (triggered by change event)\n */\nEventDelegation.register('filter-position', function(element, e) {\n    if (window.draftSystemInstance && typeof window.draftSystemInstance.handleFilter === 'function') {\n        window.draftSystemInstance.handleFilter(e);\n    } else {\n        const position = element.value.toLowerCase();\n        const playerCards = document.querySelectorAll('[data-component=\"player-card\"]');\n        playerCards.forEach(card => {\n            const playerPosition = (card.dataset.position || '').toLowerCase();\n            const shouldShow = !position || playerPosition === position;\n            card.closest('[data-component=\"player-column\"]')?.classList.toggle('d-none', !shouldShow);\n        });\n    }\n});\n\n/**\n * Sort Players (triggered by change event)\n */\nEventDelegation.register('sort-players', function(element, e) {\n    if (window.draftSystemInstance && typeof window.draftSystemInstance.handleSort === 'function') {\n        window.draftSystemInstance.handleSort(e);\n    } else {\n        console.warn('[sort-players] Sort function not available');\n    }\n});\n\n// ============================================================================\n// MATCH REPORTING ACTIONS\n// ============================================================================\n\n/**\n * Edit Match Report Action\n * Opens modal to edit/create match report\n */\nEventDelegation.register('edit-match-report', function(element, e) {\n    e.preventDefault();\n\n    const matchId = element.dataset.matchId;\n\n    if (!matchId) {\n        console.error('[edit-match-report] Missing match ID');\n        return;\n    }\n\n    // Call the global function that handles the edit button click\n    if (typeof handleEditButtonClick === 'function') {\n        handleEditButtonClick(matchId);\n    } else {\n        console.error('[edit-match-report] handleEditButtonClick function not found');\n    }\n});\n\n/**\n * Add Goal Action\n * Adds goal scorer to match report\n */\nEventDelegation.register('add-goal', function(element, e) {\n    e.preventDefault();\n\n    // Extract matchId from onclick attribute or data attribute\n    let matchId = element.dataset.matchId;\n    if (!matchId) {\n        const onclickAttr = element.getAttribute('onclick');\n        if (onclickAttr) {\n            const match = onclickAttr.match(/'([^']+)'/);\n            if (match) matchId = match[1];\n        }\n    }\n\n    if (!matchId) {\n        console.error('[add-goal] Missing match ID');\n        return;\n    }\n\n    const containerId = `goalScorersContainer-${matchId}`;\n\n    if (typeof window.addEvent === 'function') {\n        window.addEvent(matchId, containerId);\n    } else {\n        console.error('[add-goal] addEvent function not found');\n    }\n});\n\n/**\n * Add Assist Action\n * Adds assist provider to match report\n */\nEventDelegation.register('add-assist', function(element, e) {\n    e.preventDefault();\n\n    // Extract matchId from onclick attribute or data attribute\n    let matchId = element.dataset.matchId;\n    if (!matchId) {\n        const onclickAttr = element.getAttribute('onclick');\n        if (onclickAttr) {\n            const match = onclickAttr.match(/'([^']+)'/);\n            if (match) matchId = match[1];\n        }\n    }\n\n    if (!matchId) {\n        console.error('[add-assist] Missing match ID');\n        return;\n    }\n\n    const containerId = `assistProvidersContainer-${matchId}`;\n\n    if (typeof window.addEvent === 'function') {\n        window.addEvent(matchId, containerId);\n    } else {\n        console.error('[add-assist] addEvent function not found');\n    }\n});\n\n/**\n * Add Yellow Card Action\n * Adds yellow card to match report\n */\nEventDelegation.register('add-yellow-card', function(element, e) {\n    e.preventDefault();\n\n    // Extract matchId from onclick attribute or data attribute\n    let matchId = element.dataset.matchId;\n    if (!matchId) {\n        const onclickAttr = element.getAttribute('onclick');\n        if (onclickAttr) {\n            const match = onclickAttr.match(/'([^']+)'/);\n            if (match) matchId = match[1];\n        }\n    }\n\n    if (!matchId) {\n        console.error('[add-yellow-card] Missing match ID');\n        return;\n    }\n\n    const containerId = `yellowCardsContainer-${matchId}`;\n\n    if (typeof window.addEvent === 'function') {\n        window.addEvent(matchId, containerId);\n    } else {\n        console.error('[add-yellow-card] addEvent function not found');\n    }\n});\n\n/**\n * Add Red Card Action\n * Adds red card to match report\n */\nEventDelegation.register('add-red-card', function(element, e) {\n    e.preventDefault();\n\n    // Extract matchId from onclick attribute or data attribute\n    let matchId = element.dataset.matchId;\n    if (!matchId) {\n        const onclickAttr = element.getAttribute('onclick');\n        if (onclickAttr) {\n            const match = onclickAttr.match(/'([^']+)'/);\n            if (match) matchId = match[1];\n        }\n    }\n\n    if (!matchId) {\n        console.error('[add-red-card] Missing match ID');\n        return;\n    }\n\n    const containerId = `redCardsContainer-${matchId}`;\n\n    if (typeof window.addEvent === 'function') {\n        window.addEvent(matchId, containerId);\n    } else {\n        console.error('[add-red-card] addEvent function not found');\n    }\n});\n\n/**\n * Remove Event Action (Generic)\n * Removes any event entry (goal, assist, card) from match report\n */\nEventDelegation.register('remove-event', function(element, e) {\n    e.preventDefault();\n\n    if (typeof window.removeEvent === 'function') {\n        window.removeEvent(element);\n    } else {\n        console.error('[remove-event] removeEvent function not found');\n    }\n});\n\n/**\n * Remove Own Goal Action\n * Removes own goal from match report\n */\nEventDelegation.register('remove-own-goal', function(element, e) {\n    e.preventDefault();\n\n    if (typeof window.removeEvent === 'function') {\n        window.removeEvent(element);\n    } else {\n        console.error('[remove-own-goal] removeEvent function not found');\n    }\n});\n\n// ============================================================================\n// RSVP ACTIONS\n// ============================================================================\n\n/**\n * RSVP Yes Action\n * Player confirms attendance (admin can set for players)\n */\nEventDelegation.register('rsvp-yes', function(element, e) {\n    e.preventDefault();\n\n    const matchId = element.dataset.matchId;\n    const playerId = element.dataset.playerId;\n\n    if (!matchId) {\n        console.error('[rsvp-yes] Missing match ID');\n        return;\n    }\n\n    // Admin update mode (has playerId) vs player self-RSVP\n    if (playerId) {\n        // Admin updating player RSVP\n        if (typeof updatePlayerRSVP === 'function') {\n            updatePlayerRSVP(playerId, matchId, 'yes');\n        } else {\n            // Fallback: trigger the update-rsvp-btn logic\n            const response = 'yes';\n            updateRSVPStatus(playerId, matchId, response);\n        }\n    } else {\n        // Player self-RSVP\n        if (typeof submitRSVP === 'function') {\n            submitRSVP(matchId, 'yes');\n        } else {\n            console.error('[rsvp-yes] submitRSVP function not found');\n        }\n    }\n});\n\n/**\n * RSVP No Action\n * Player confirms they cannot attend\n */\nEventDelegation.register('rsvp-no', function(element, e) {\n    e.preventDefault();\n\n    const matchId = element.dataset.matchId;\n    const playerId = element.dataset.playerId;\n\n    if (!matchId) {\n        console.error('[rsvp-no] Missing match ID');\n        return;\n    }\n\n    if (playerId) {\n        if (typeof updatePlayerRSVP === 'function') {\n            updatePlayerRSVP(playerId, matchId, 'no');\n        } else {\n            updateRSVPStatus(playerId, matchId, 'no');\n        }\n    } else {\n        if (typeof submitRSVP === 'function') {\n            submitRSVP(matchId, 'no');\n        } else {\n            console.error('[rsvp-no] submitRSVP function not found');\n        }\n    }\n});\n\n/**\n * RSVP Maybe Action\n * Player is unsure about attendance\n */\nEventDelegation.register('rsvp-maybe', function(element, e) {\n    e.preventDefault();\n\n    const matchId = element.dataset.matchId;\n    const playerId = element.dataset.playerId;\n\n    if (!matchId) {\n        console.error('[rsvp-maybe] Missing match ID');\n        return;\n    }\n\n    if (playerId) {\n        if (typeof updatePlayerRSVP === 'function') {\n            updatePlayerRSVP(playerId, matchId, 'maybe');\n        } else {\n            updateRSVPStatus(playerId, matchId, 'maybe');\n        }\n    } else {\n        if (typeof submitRSVP === 'function') {\n            submitRSVP(matchId, 'maybe');\n        } else {\n            console.error('[rsvp-maybe] submitRSVP function not found');\n        }\n    }\n});\n\n/**\n * Withdraw RSVP Action\n * Player cancels their RSVP\n */\nEventDelegation.register('rsvp-withdraw', function(element, e) {\n    e.preventDefault();\n\n    const matchId = element.dataset.matchId;\n    const playerId = element.dataset.playerId;\n\n    if (!matchId) {\n        console.error('[rsvp-withdraw] Missing match ID');\n        return;\n    }\n\n    if (playerId) {\n        // Admin clearing player RSVP\n        if (typeof updatePlayerRSVP === 'function') {\n            updatePlayerRSVP(playerId, matchId, 'no_response');\n        } else {\n            updateRSVPStatus(playerId, matchId, 'no_response');\n        }\n    } else {\n        // Player withdrawing own RSVP\n        if (typeof withdrawRSVP === 'function') {\n            withdrawRSVP(matchId);\n        } else {\n            console.error('[rsvp-withdraw] withdrawRSVP function not found');\n        }\n    }\n});\n\n/**\n * Send SMS Action\n * Opens modal to send SMS to player\n */\nEventDelegation.register('rsvp-request-sms', function(element, e) {\n    e.preventDefault();\n\n    const playerId = element.dataset.playerId;\n    const playerName = element.dataset.playerName;\n    const phone = element.dataset.phone;\n\n    if (!playerId) {\n        console.error('[rsvp-request-sms] Missing player ID');\n        return;\n    }\n\n    // Use jQuery if available (legacy code uses it)\n    if (window.jQuery) {\n        const $ = window.jQuery;\n\n        try {\n            // Populate modal fields\n            $('#smsPlayerName').text(playerName || 'Player');\n            $('#smsPlayerId').val(playerId);\n            $('#smsPlayerPhone').val(phone || '');\n\n            // Format phone number for display\n            if (phone && typeof formatPhoneNumber === 'function') {\n                $('#smsPlayerPhoneDisplay').text(formatPhoneNumber(phone));\n            } else {\n                $('#smsPlayerPhoneDisplay').text(phone || '');\n            }\n\n            $('#smsMessage').val('');\n            $('#smsCharCount').text('0');\n\n            // Show modal\n            const smsModal = document.querySelector('[data-modal=\"send-sms\"]');\n            if (smsModal) {\n                ModalManager.showByElement(smsModal);\n            }\n        } catch (err) {\n            console.error('[rsvp-request-sms] Error opening modal:', err);\n        }\n    } else {\n        // Vanilla JS fallback\n        const smsModal = document.querySelector('[data-modal=\"send-sms\"]');\n        if (smsModal && window.bootstrap) {\n            // Set values directly\n            const playerNameEl = document.getElementById('smsPlayerName');\n            const playerIdEl = document.getElementById('smsPlayerId');\n            const playerPhoneEl = document.getElementById('smsPlayerPhone');\n            const messageEl = document.getElementById('smsMessage');\n            const charCountEl = document.getElementById('smsCharCount');\n\n            if (playerNameEl) playerNameEl.textContent = playerName || 'Player';\n            if (playerIdEl) playerIdEl.value = playerId;\n            if (playerPhoneEl) playerPhoneEl.value = phone || '';\n            if (messageEl) messageEl.value = '';\n            if (charCountEl) charCountEl.textContent = '0';\n\n            ModalManager.showByElement(smsModal);\n        }\n    }\n});\n\n/**\n * Send Discord DM Action\n * Opens modal to send Discord direct message\n */\nEventDelegation.register('rsvp-request-discord-dm', function(element, e) {\n    e.preventDefault();\n\n    const playerId = element.dataset.playerId;\n    const playerName = element.dataset.playerName;\n    const discordId = element.dataset.discordId;\n\n    if (!playerId) {\n        console.error('[rsvp-request-discord-dm] Missing player ID');\n        return;\n    }\n\n    // Use jQuery if available (legacy code uses it)\n    if (window.jQuery) {\n        const $ = window.jQuery;\n\n        try {\n            $('#discordPlayerName').text(playerName || 'Player');\n            $('#discordPlayerId').val(playerId);\n            $('#discordId').val(discordId || '');\n            $('#discordMessage').val('');\n            $('#discordCharCount').text('0');\n\n            const discordModal = document.querySelector('[data-modal=\"send-discord-dm\"]');\n            if (discordModal) {\n                ModalManager.showByElement(discordModal);\n            }\n        } catch (err) {\n            console.error('[rsvp-request-discord-dm] Error opening modal:', err);\n        }\n    } else {\n        // Vanilla JS fallback\n        const discordModal = document.querySelector('[data-modal=\"send-discord-dm\"]');\n        if (discordModal && window.bootstrap) {\n            const playerNameEl = document.getElementById('discordPlayerName');\n            const playerIdEl = document.getElementById('discordPlayerId');\n            const discordIdEl = document.getElementById('discordId');\n            const messageEl = document.getElementById('discordMessage');\n            const charCountEl = document.getElementById('discordCharCount');\n\n            if (playerNameEl) playerNameEl.textContent = playerName || 'Player';\n            if (playerIdEl) playerIdEl.value = playerId;\n            if (discordIdEl) discordIdEl.value = discordId || '';\n            if (messageEl) messageEl.value = '';\n            if (charCountEl) charCountEl.textContent = '0';\n\n            ModalManager.showByElement(discordModal);\n        }\n    }\n});\n\n/**\n * Update RSVP Status Action (Admin)\n * Admin manually updates player RSVP status\n * This is the main handler that triggers the update via AJAX\n */\nEventDelegation.register('rsvp-update-status', function(element, e) {\n    e.preventDefault();\n\n    const playerId = element.dataset.playerId;\n    const matchId = element.dataset.matchId;\n    const response = element.dataset.response;\n\n    if (!playerId || !matchId || !response) {\n        console.error('[rsvp-update-status] Missing required data attributes');\n        return;\n    }\n\n    updateRSVPStatus(playerId, matchId, response);\n});\n\n/**\n * Helper function to update RSVP status via AJAX\n * This replaces the inline logic from the jQuery handler\n */\nfunction updateRSVPStatus(playerId, matchId, response) {\n    // Use SweetAlert2 for confirmation\n    if (typeof Swal === 'undefined') {\n        console.error('[updateRSVPStatus] SweetAlert2 not available');\n        return;\n    }\n\n    Swal.fire({\n        title: 'Update RSVP Status?',\n        text: 'Are you sure you want to update this player\\'s RSVP status?',\n        icon: 'question',\n        showCancelButton: true,\n        confirmButtonText: 'Yes, update it',\n        cancelButtonText: 'Cancel',\n        confirmButtonColor: (typeof ECSTheme !== 'undefined') ? ECSTheme.getColor('primary') : '#0d6efd',\n        customClass: {\n            confirmButton: 'swal-btn-confirm',\n            cancelButton: 'swal-btn-cancel'\n        },\n        buttonsStyling: false\n    }).then((result) => {\n        if (result.isConfirmed) {\n            const formData = new FormData();\n\n            // Get CSRF token\n            const csrfToken = document.querySelector('input[name=\"csrf_token\"]')?.value || '';\n\n            formData.append('csrf_token', csrfToken);\n            formData.append('player_id', playerId);\n            formData.append('match_id', matchId);\n            formData.append('response', response);\n\n            // Show loading state\n            Swal.fire({\n                title: 'Updating...',\n                allowOutsideClick: false,\n                didOpen: () => {\n                    Swal.showLoading();\n                }\n            });\n\n            // Make the AJAX request\n            fetch('/admin/update_rsvp', {\n                method: 'POST',\n                body: formData,\n                headers: {\n                    'X-Requested-With': 'XMLHttpRequest'\n                }\n            })\n            .then(function(response) {\n                if (!response.ok) {\n                    throw new Error('Network response was not ok');\n                }\n                return response.json();\n            })\n            .then(function(data) {\n                if (data.success) {\n                    Swal.fire({\n                        title: 'Success!',\n                        text: 'RSVP updated successfully.',\n                        icon: 'success',\n                        timer: 1500,\n                        showConfirmButton: false\n                    }).then(() => {\n                        window.location.reload();\n                    });\n                } else {\n                    Swal.fire({\n                        title: 'Error',\n                        text: data.message || 'Error updating RSVP.',\n                        icon: 'error'\n                    });\n                }\n            })\n            .catch(function(error) {\n                console.error('[updateRSVPStatus] Error:', error);\n                Swal.fire({\n                    title: 'Error',\n                    text: 'An error occurred while updating RSVP. Please try again.',\n                    icon: 'error'\n                });\n            });\n        }\n    });\n}\n\n// ============================================================================\n// CALENDAR SUBSCRIPTION ACTIONS\n// ============================================================================\n\n/**\n * Copy Subscription URL Action\n * Copies the calendar subscription URL to clipboard\n */\nEventDelegation.register('copy-subscription-url', async function(element, e) {\n    e.preventDefault();\n\n    const urlInput = document.getElementById('subscriptionUrl');\n    if (!urlInput || !urlInput.value) {\n        showCalendarToast('warning', 'No subscription URL available');\n        return;\n    }\n\n    try {\n        await navigator.clipboard.writeText(urlInput.value);\n        showCalendarToast('success', 'URL copied to clipboard');\n\n        // Visual feedback\n        const originalHtml = element.innerHTML;\n        element.innerHTML = '<i class=\"ti ti-check me-1\"></i>Copied!';\n        setTimeout(() => {\n            element.innerHTML = originalHtml;\n        }, 2000);\n    } catch (error) {\n        // Fallback for older browsers\n        urlInput.select();\n        document.execCommand('copy');\n        showCalendarToast('success', 'URL copied to clipboard');\n    }\n});\n\n/**\n * Regenerate Subscription Token Action\n * Regenerates the calendar subscription URL/token\n */\nEventDelegation.register('regenerate-subscription-token', async function(element, e) {\n    e.preventDefault();\n\n    if (!confirm('Are you sure you want to regenerate your subscription URL?\\n\\nYour existing calendar subscriptions will stop working and you will need to re-subscribe with the new URL.')) {\n        return;\n    }\n\n    setCalendarLoading(true);\n\n    try {\n        const response = await fetch('/api/calendar/subscription/regenerate', {\n            method: 'POST',\n            headers: {\n                'X-Requested-With': 'XMLHttpRequest',\n                'Content-Type': 'application/json'\n            }\n        });\n\n        if (!response.ok) {\n            throw new Error('Failed to regenerate token');\n        }\n\n        const data = await response.json();\n\n        // Update the calendar subscription state if CalendarSubscription module is available\n        if (typeof CalendarSubscription !== 'undefined' && CalendarSubscription.loadSubscription) {\n            await CalendarSubscription.loadSubscription();\n        }\n\n        showCalendarToast('success', 'Subscription URL regenerated successfully');\n\n    } catch (error) {\n        console.error('[regenerate-subscription-token] Error:', error);\n        showCalendarToast('error', 'Failed to regenerate subscription URL');\n    } finally {\n        setCalendarLoading(false);\n    }\n});\n\n/**\n * Subscribe via Webcal Action\n * Opens subscription in iOS/macOS Calendar app via webcal:// protocol\n */\nEventDelegation.register('subscribe-webcal', function(element, e) {\n    e.preventDefault();\n\n    const webcalUrl = element.dataset.webcalUrl;\n\n    if (webcalUrl) {\n        window.location.href = webcalUrl;\n    } else {\n        showCalendarToast('warning', 'Subscription URL not available');\n    }\n});\n\n/**\n * Subscribe via Google Calendar Action\n * Opens Google Calendar subscription page in new tab\n */\nEventDelegation.register('subscribe-google', function(element, e) {\n    e.preventDefault();\n\n    const feedUrl = element.dataset.feedUrl;\n\n    if (!feedUrl) {\n        showCalendarToast('warning', 'Subscription URL not available');\n        return;\n    }\n\n    // Google Calendar subscription URL\n    const googleUrl = 'https://calendar.google.com/calendar/r?cid=' + encodeURIComponent(feedUrl);\n    window.open(googleUrl, '_blank');\n});\n\n/**\n * Update Calendar Preferences Action\n * Updates subscription preferences (which events to include)\n * Triggered by change events on preference checkboxes\n */\nEventDelegation.register('update-calendar-preferences', async function(element, e) {\n    const preferences = {\n        include_team_matches: document.getElementById('subIncludeMatches')?.checked ?? true,\n        include_league_events: document.getElementById('subIncludeLeagueEvents')?.checked ?? true,\n        include_ref_assignments: document.getElementById('subIncludeRefAssignments')?.checked ?? true\n    };\n\n    try {\n        const response = await fetch('/api/calendar/subscription/preferences', {\n            method: 'PUT',\n            headers: {\n                'X-Requested-With': 'XMLHttpRequest',\n                'Content-Type': 'application/json'\n            },\n            body: JSON.stringify(preferences)\n        });\n\n        if (!response.ok) {\n            throw new Error('Failed to update preferences');\n        }\n\n        await response.json();\n        showCalendarToast('success', 'Preferences updated');\n\n    } catch (error) {\n        console.error('[update-calendar-preferences] Error:', error);\n        showCalendarToast('error', 'Failed to update preferences');\n\n        // Revert checkbox state\n        element.checked = !element.checked;\n    }\n});\n\n/**\n * Helper: Show calendar-specific toast notification\n * Uses existing toast system if available\n */\nfunction showCalendarToast(type, message) {\n    // Use existing toast system if available\n    if (typeof window.showToast === 'function') {\n        window.showToast(type, message);\n        return;\n    }\n\n    // Fallback to Toastify\n    if (typeof Toastify !== 'undefined') {\n        // Use ECSTheme colors with gradient variations for toast backgrounds\n        const successColor = (typeof ECSTheme !== 'undefined') ? ECSTheme.getColor('success') : '#198754';\n        const successLight = (typeof ECSTheme !== 'undefined') ? ECSTheme.getColor('success-light') : '#198754';\n        const dangerColor = (typeof ECSTheme !== 'undefined') ? ECSTheme.getColor('danger') : '#dc3545';\n        const dangerLight = (typeof ECSTheme !== 'undefined') ? ECSTheme.getColor('danger-light') : '#dc3545';\n        const warningColor = (typeof ECSTheme !== 'undefined') ? ECSTheme.getColor('warning') : '#ffc107';\n        const warningLight = (typeof ECSTheme !== 'undefined') ? ECSTheme.getColor('warning-light') : '#ffc107';\n        const infoColor = (typeof ECSTheme !== 'undefined') ? ECSTheme.getColor('info') : '#0dcaf0';\n        const infoLight = (typeof ECSTheme !== 'undefined') ? ECSTheme.getColor('info-light') : '#0dcaf0';\n        const bgColors = {\n            success: `linear-gradient(to right, ${successColor}, ${successLight})`,\n            error: `linear-gradient(to right, ${dangerColor}, ${dangerLight})`,\n            warning: `linear-gradient(to right, ${warningColor}, ${warningLight})`,\n            info: `linear-gradient(to right, ${infoColor}, ${infoLight})`\n        };\n\n        Toastify({\n            text: message,\n            duration: 3000,\n            gravity: 'top',\n            position: 'right',\n            style: { background: bgColors[type] || bgColors.info }\n        }).showToast();\n        return;\n    }\n\n    // Final fallback\n    console.log(`[${type}] ${message}`);\n}\n\n/**\n * Helper: Set loading state for calendar subscription\n */\nfunction setCalendarLoading(loading) {\n    const loadingIndicator = document.getElementById('subscriptionLoading');\n    const content = document.getElementById('subscriptionContent');\n\n    if (loadingIndicator) {\n        loadingIndicator.classList.toggle('is-hidden', !loading);\n    }\n    if (content) {\n        content.classList.toggle('is-hidden', loading);\n    }\n}\n\n// ============================================================================\n// PROFILE VERIFICATION ACTIONS\n// ============================================================================\n\n/**\n * Toggle Section Reviewed Checkbox Action\n * Handles when user checks/unchecks a profile section as reviewed\n * Updates progress indicator and confirm button state\n */\nEventDelegation.register('verify-section-reviewed', function(element, e) {\n    // This handler is triggered by the change event via data-on-change\n    // The ProfileVerification module will handle the actual logic\n    if (window.ProfileVerification && typeof window.ProfileVerification.handleCheckboxChange === 'function') {\n        window.ProfileVerification.handleCheckboxChange(element);\n    } else {\n        console.error('[verify-section-reviewed] ProfileVerification not available');\n    }\n});\n\n/**\n * Verify Profile Action\n * Navigates to the profile verification page where users review sections.\n * Used on the main profile page to start the verification flow.\n * The /verify route auto-detects mobile vs desktop and redirects appropriately.\n */\nEventDelegation.register('verify-profile', function(element, e) {\n    e.preventDefault();\n\n    const playerId = element.dataset.playerId;\n\n    if (!playerId) {\n        console.error('[verify-profile] Missing player ID');\n        return;\n    }\n\n    // Get verify URL from data element or construct it\n    // The /verify GET route handles mobile vs desktop detection\n    const verifyDataEl = document.querySelector('[data-profile-verify]');\n    const verifyUrl = verifyDataEl?.dataset.verifyUrl || `/players/profile/${playerId}/verify`;\n\n    // Navigate to verification page\n    window.location.href = verifyUrl;\n});\n\n/**\n * Verify Profile Submit Action (Form-based)\n * Submits the profile verification form\n * Validates that all sections have been reviewed before allowing submission\n */\nEventDelegation.register('verify-profile-submit', function(element, e) {\n    // Check if all sections are reviewed before allowing submission\n    if (window.ProfileVerification && typeof window.ProfileVerification.areAllSectionsReviewed === 'function') {\n        const allReviewed = window.ProfileVerification.areAllSectionsReviewed();\n\n        if (!allReviewed) {\n            e.preventDefault();\n\n            const uncheckedSections = window.ProfileVerification.getUncheckedSections();\n\n            // Haptic feedback for error\n            if (window.Haptics) {\n                window.Haptics.error();\n            }\n\n            // Show warning\n            window.ProfileVerification.showIncompleteWarning(uncheckedSections);\n        } else {\n            // All reviewed - allow form submission with success feedback\n            if (window.Haptics) {\n                window.Haptics.success();\n            }\n            // Form will submit naturally\n        }\n    } else {\n        // ProfileVerification not available - allow submission (backward compatibility)\n        console.warn('[verify-profile-submit] ProfileVerification not available, allowing submission');\n    }\n});\n\n// ============================================================================\n// DISCORD MANAGEMENT ACTIONS\n// ============================================================================\n\n/**\n * Change Per Page Action (triggered by change event)\n * Updates the number of items displayed per page\n */\nEventDelegation.register('change-per-page', function(element, e) {\n    const perPage = element.value;\n    const url = new URL(window.location);\n    url.searchParams.set('per_page', perPage);\n    url.searchParams.set('page', '1'); // Reset to first page\n    window.location.href = url.toString();\n});\n\n/**\n * Refresh All Discord Status Action\n * Refreshes Discord status for all players\n */\nEventDelegation.register('refresh-all-discord-status', function(element, e) {\n    e.preventDefault();\n\n    const btn = element;\n\n    if (typeof Swal === 'undefined') {\n        console.error('[refresh-all-discord-status] SweetAlert2 not available');\n        return;\n    }\n\n    Swal.fire({\n        title: 'Refresh All Discord Status',\n        text: 'This will refresh Discord status for all players. This may take a moment. Continue?',\n        icon: 'question',\n        showCancelButton: true,\n        confirmButtonText: 'Yes, refresh all',\n        cancelButtonText: 'Cancel',\n        confirmButtonColor: (typeof ECSTheme !== 'undefined') ? ECSTheme.getColor('success') : '#28c76f',\n        cancelButtonColor: (typeof ECSTheme !== 'undefined') ? ECSTheme.getColor('danger') : '#ea5455'\n    }).then((result) => {\n        if (result.isConfirmed) {\n            // Show loading state\n            const originalText = btn.innerHTML;\n            btn.innerHTML = '<i class=\"ti ti-loader ti-spin me-1\"></i>Refreshing...';\n            btn.disabled = true;\n\n            // Get CSRF token\n            const csrfToken = document.querySelector('meta[name=csrf-token]')?.getAttribute('content') || '';\n\n            // Refresh all Discord status\n            fetch('/admin/refresh_all_discord_status', {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json',\n                    'X-CSRFToken': csrfToken\n                }\n            }).then(response => response.json())\n            .then(data => {\n                if (data.success) {\n                    Swal.fire({\n                        icon: 'success',\n                        title: 'Status Updated',\n                        text: `Refreshed Discord status for ${data.success_count} players`,\n                        timer: 2000,\n                        showConfirmButton: false\n                    }).then(() => {\n                        location.reload();\n                    });\n                } else {\n                    throw new Error(data.message || 'Failed to refresh status');\n                }\n            }).catch(error => {\n                Swal.fire({\n                    icon: 'error',\n                    title: 'Error',\n                    text: 'Failed to refresh status: ' + error.message,\n                    confirmButtonColor: (typeof ECSTheme !== 'undefined') ? ECSTheme.getColor('danger') : '#ea5455'\n                });\n            }).finally(() => {\n                btn.innerHTML = originalText;\n                btn.disabled = false;\n            });\n        }\n    });\n});\n\n/**\n * Refresh Unknown Discord Status Action\n * Checks Discord status for all players with unknown status\n */\nEventDelegation.register('refresh-unknown-discord-status', function(element, e) {\n    e.preventDefault();\n\n    const btn = element;\n\n    if (typeof Swal === 'undefined') {\n        console.error('[refresh-unknown-discord-status] SweetAlert2 not available');\n        return;\n    }\n\n    Swal.fire({\n        title: 'Check Unknown Discord Status',\n        text: 'This will check Discord status for all players with unknown status. Continue?',\n        icon: 'question',\n        showCancelButton: true,\n        confirmButtonText: 'Yes, check unknown',\n        cancelButtonText: 'Cancel',\n        confirmButtonColor: (typeof ECSTheme !== 'undefined') ? ECSTheme.getColor('warning') : '#ffab00',\n        cancelButtonColor: (typeof ECSTheme !== 'undefined') ? ECSTheme.getColor('danger') : '#ea5455'\n    }).then((result) => {\n        if (result.isConfirmed) {\n            // Show loading state\n            const originalText = btn.innerHTML;\n            btn.innerHTML = '<i class=\"ti ti-loader ti-spin me-1\"></i>Checking...';\n            btn.disabled = true;\n\n            // Get CSRF token\n            const csrfToken = document.querySelector('meta[name=csrf-token]')?.getAttribute('content') || '';\n\n            // Check unknown Discord status\n            fetch('/admin/refresh_unknown_discord_status', {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json',\n                    'X-CSRFToken': csrfToken\n                }\n            }).then(response => response.json())\n            .then(data => {\n                if (data.success) {\n                    Swal.fire({\n                        icon: 'success',\n                        title: 'Status Checked',\n                        text: `Checked Discord status for ${data.success_count} players with unknown status`,\n                        timer: 2000,\n                        showConfirmButton: false\n                    }).then(() => {\n                        location.reload();\n                    });\n                } else {\n                    throw new Error(data.message || 'Failed to check unknown status');\n                }\n            }).catch(error => {\n                Swal.fire({\n                    icon: 'error',\n                    title: 'Error',\n                    text: 'Failed to check unknown status: ' + error.message,\n                    confirmButtonColor: (typeof ECSTheme !== 'undefined') ? ECSTheme.getColor('danger') : '#ea5455'\n                });\n            }).finally(() => {\n                btn.innerHTML = originalText;\n                btn.disabled = false;\n            });\n        }\n    });\n});\n\n/**\n * Refresh Player Status Action\n * Refreshes Discord status for individual player\n */\nEventDelegation.register('refresh-player-status', function(element, e) {\n    e.preventDefault();\n\n    const playerId = element.dataset.playerId;\n    const playerName = element.dataset.playerName;\n\n    if (!playerId) {\n        console.error('[refresh-player-status] Missing player ID');\n        return;\n    }\n\n    const originalText = element.innerHTML;\n    element.innerHTML = '<i class=\"ti ti-loader ti-spin me-1\"></i><span>Checking...</span>';\n    element.disabled = true;\n\n    // Get CSRF token\n    const csrfToken = document.querySelector('meta[name=csrf-token]')?.getAttribute('content') || '';\n\n    fetch(`/teams/player/${playerId}/refresh-discord-status`, {\n        method: 'POST',\n        headers: {\n            'Content-Type': 'application/json',\n            'X-CSRFToken': csrfToken\n        }\n    }).then(response => response.json())\n    .then(data => {\n        if (data.success) {\n            // Show success message and reload\n            if (typeof Swal !== 'undefined') {\n                Swal.fire({\n                    icon: 'success',\n                    title: 'Status Updated',\n                    text: `Discord status refreshed for ${playerName}`,\n                    timer: 2000,\n                    showConfirmButton: false\n                }).then(() => {\n                    location.reload();\n                });\n            } else {\n                location.reload();\n            }\n        } else {\n            throw new Error(data.message || 'Failed to refresh status');\n        }\n    }).catch(error => {\n        if (typeof Swal !== 'undefined') {\n            Swal.fire({\n                icon: 'error',\n                title: 'Error',\n                text: 'Failed to refresh status: ' + error.message,\n                confirmButtonColor: (typeof ECSTheme !== 'undefined') ? ECSTheme.getColor('danger') : '#ea5455'\n            });\n        } else {\n            console.error('[refresh-player-status] Error:', error);\n        }\n    }).finally(() => {\n        element.innerHTML = originalText;\n        element.disabled = false;\n    });\n});\n\n/**\n * Send Discord DM Action\n * Opens modal to send Discord direct message\n */\nEventDelegation.register('send-discord-dm', function(element, e) {\n    e.preventDefault();\n\n    const discordId = element.dataset.discordId;\n    const playerName = element.dataset.playerName;\n\n    if (!discordId) {\n        console.error('[send-discord-dm] Missing Discord ID');\n        return;\n    }\n\n    const dmDiscordIdInput = document.getElementById('dmDiscordId');\n    const modalTitle = document.querySelector('#discordDMModal .modal-title');\n    const dmMessageTextarea = document.getElementById('dmMessage');\n\n    if (dmDiscordIdInput) dmDiscordIdInput.value = discordId;\n    if (modalTitle) modalTitle.textContent = `Send Discord DM to ${playerName}`;\n\n    // Set default message\n    const defaultMessage = `Hi ${playerName}! \n\nWe noticed you haven't joined our ECS FC Discord server yet.\n\nJoin us to:\n Get match updates and announcements\n Connect with your teammates\n Participate in league discussions\n\nJoin here: https://discord.gg/weareecs\n\nSee you there!\n- ECS FC Admin Team`;\n\n    if (dmMessageTextarea) dmMessageTextarea.value = defaultMessage;\n\n    // Show modal\n    const modalElement = document.getElementById('discordDMModal');\n    if (modalElement) {\n        ModalManager.show('discordDMModal');\n    }\n});\n\n/**\n * Submit Discord DM Action\n * Sends the Discord direct message\n */\nEventDelegation.register('submit-discord-dm', function(element, e) {\n    e.preventDefault();\n\n    const discordId = document.getElementById('dmDiscordId')?.value;\n    const message = document.getElementById('dmMessage')?.value;\n\n    if (!message || !message.trim()) {\n        if (typeof Swal !== 'undefined') {\n            Swal.fire({\n                icon: 'warning',\n                title: 'Message Required',\n                text: 'Please enter a message before sending',\n                confirmButtonColor: (typeof ECSTheme !== 'undefined') ? ECSTheme.getColor('warning') : '#ffab00'\n            });\n        }\n        return;\n    }\n\n    const originalText = element.innerHTML;\n    element.innerHTML = '<i class=\"ti ti-loader ti-spin me-1\"></i>Sending...';\n    element.disabled = true;\n\n    // Get CSRF token\n    const csrfToken = document.querySelector('meta[name=csrf-token]')?.getAttribute('content') || '';\n\n    fetch('/admin/send_discord_dm', {\n        method: 'POST',\n        headers: {\n            'Content-Type': 'application/json',\n            'X-CSRFToken': csrfToken\n        },\n        body: JSON.stringify({\n            discord_id: discordId,\n            message: message\n        })\n    }).then(response => response.json())\n    .then(data => {\n        if (data.success) {\n            const modalElement = document.getElementById('discordDMModal');\n            if (modalElement && window.bootstrap) {\n                const modalInstance = bootstrap.Modal.getInstance(modalElement);\n                if (modalInstance) modalInstance.hide();\n            }\n\n            if (typeof Swal !== 'undefined') {\n                Swal.fire({\n                    icon: 'success',\n                    title: 'Message Sent',\n                    text: 'Discord message sent successfully!',\n                    timer: 2000,\n                    showConfirmButton: false\n                });\n            }\n        } else {\n            throw new Error(data.message || 'Failed to send message');\n        }\n    }).catch(error => {\n        if (typeof Swal !== 'undefined') {\n            Swal.fire({\n                icon: 'error',\n                title: 'Error',\n                text: 'Failed to send Discord message: ' + error.message,\n                confirmButtonColor: (typeof ECSTheme !== 'undefined') ? ECSTheme.getColor('danger') : '#ea5455'\n            });\n        } else {\n            console.error('[submit-discord-dm] Error:', error);\n        }\n    }).finally(() => {\n        element.innerHTML = originalText;\n        element.disabled = false;\n    });\n});\n\n// ============================================================================\n// REFEREE MANAGEMENT ACTIONS\n// ============================================================================\n\n/**\n * Assign Referee Action\n * Assigns a referee to a match via form submission\n */\nEventDelegation.register('assign-referee', function(element, e) {\n    e.preventDefault();\n\n    const matchId = document.getElementById('matchId')?.value;\n    const refId = document.getElementById('refSelect')?.value;\n\n    if (!matchId || !refId) {\n        console.error('[assign-referee] Missing match ID or referee ID');\n        return;\n    }\n\n    // Call global function if exists\n    if (typeof assignReferee === 'function') {\n        assignReferee(e);\n    } else {\n        console.error('[assign-referee] assignReferee function not found');\n    }\n});\n\n/**\n * Remove Referee Action\n * Removes a referee from a match\n */\nEventDelegation.register('remove-referee', function(element, e) {\n    e.preventDefault();\n\n    const matchId = element.dataset.matchId || document.getElementById('matchId')?.value;\n\n    if (!matchId) {\n        console.error('[remove-referee] Missing match ID');\n        return;\n    }\n\n    // Call global function if exists\n    if (typeof removeReferee === 'function') {\n        removeReferee();\n    } else {\n        console.error('[remove-referee] removeReferee function not found');\n    }\n});\n\n/**\n * Refresh Calendar Action\n * Reloads calendar events and available referees list\n */\nEventDelegation.register('refresh-calendar', function(element, e) {\n    e.preventDefault();\n\n    // Check for calendar-specific refresh function\n    if (typeof loadCalendarEvents === 'function' && typeof fetchAvailableReferees === 'function') {\n        loadCalendarEvents();\n        // Get calendar instance if available\n        if (window.calendarInstance) {\n            fetchAvailableReferees(window.calendarInstance.getDate());\n        } else {\n            fetchAvailableReferees(new Date());\n        }\n    } else if (typeof window.refreshCalendar === 'function') {\n        window.refreshCalendar();\n    } else {\n        console.error('[refresh-calendar] No refresh function available');\n    }\n});\n\n/**\n * View Referee Profile Action\n * Opens modal or page with referee details\n */\nEventDelegation.register('view-referee-profile', function(element, e) {\n    e.preventDefault();\n\n    const refereeId = element.dataset.refereeId;\n\n    if (!refereeId) {\n        console.error('[view-referee-profile] Missing referee ID');\n        return;\n    }\n\n    if (typeof viewRefereeProfile === 'function') {\n        viewRefereeProfile(refereeId);\n    } else {\n        // Fallback: navigate to referee profile page\n        const profileUrl = element.dataset.profileUrl || `/admin/referee/${refereeId}`;\n        window.location.href = profileUrl;\n    }\n});\n\n/**\n * Update Referee Status Action\n * Updates referee availability status\n */\nEventDelegation.register('update-referee-status', function(element, e) {\n    e.preventDefault();\n\n    const refereeId = element.dataset.refereeId;\n    const status = element.dataset.status;\n\n    if (!refereeId || !status) {\n        console.error('[update-referee-status] Missing referee ID or status');\n        return;\n    }\n\n    if (typeof updateRefereeStatus === 'function') {\n        updateRefereeStatus(refereeId, status);\n    } else {\n        console.error('[update-referee-status] updateRefereeStatus function not found');\n    }\n});\n\n// ============================================================================\n// SUBSTITUTE POOL MANAGEMENT ACTIONS\n// ============================================================================\n\n/**\n * Approve Pool Player Action\n * Adds a pending player to the active substitute pool\n */\nEventDelegation.register('approve-pool-player', function(element, e) {\n    e.preventDefault();\n\n    const playerId = element.dataset.playerId;\n    const league = element.dataset.league;\n\n    if (!playerId || !league) {\n        console.error('[approve-pool-player] Missing required data attributes');\n        return;\n    }\n\n    if (typeof approvePlayer === 'function') {\n        approvePlayer(playerId, league);\n    } else {\n        console.error('[approve-pool-player] approvePlayer function not found');\n    }\n});\n\n/**\n * Remove Pool Player Action\n * Removes a player from the active substitute pool\n */\nEventDelegation.register('remove-pool-player', function(element, e) {\n    e.preventDefault();\n\n    const playerId = element.dataset.playerId;\n    const league = element.dataset.league;\n\n    if (!playerId || !league) {\n        console.error('[remove-pool-player] Missing required data attributes');\n        return;\n    }\n\n    if (typeof removePlayer === 'function') {\n        removePlayer(playerId, league);\n    } else {\n        console.error('[remove-pool-player] removePlayer function not found');\n    }\n});\n\n/**\n * Edit Pool Preferences Action\n * Opens modal to edit player's substitute pool preferences\n */\nEventDelegation.register('edit-pool-preferences', function(element, e) {\n    e.preventDefault();\n\n    const playerId = element.dataset.playerId;\n    const league = element.dataset.league;\n\n    if (!playerId || !league) {\n        console.error('[edit-pool-preferences] Missing required data attributes');\n        return;\n    }\n\n    if (typeof openEditPreferencesModal === 'function') {\n        openEditPreferencesModal(playerId, league);\n    } else {\n        console.error('[edit-pool-preferences] openEditPreferencesModal function not found');\n    }\n});\n\n/**\n * View Pool Player Details Action\n * Opens modal with detailed player information\n */\nEventDelegation.register('view-pool-player-details', function(element, e) {\n    e.preventDefault();\n\n    const playerId = element.dataset.playerId;\n\n    if (!playerId) {\n        console.error('[view-pool-player-details] Missing player ID');\n        return;\n    }\n\n    if (typeof openPlayerDetailsModal === 'function') {\n        openPlayerDetailsModal(playerId);\n    } else {\n        console.error('[view-pool-player-details] openPlayerDetailsModal function not found');\n    }\n});\n\n/**\n * Add Player to League Action\n * Adds a player to a specific league's substitute pool (from search results)\n */\nEventDelegation.register('add-player-to-league', function(element, e) {\n    e.preventDefault();\n\n    const playerId = element.dataset.playerId;\n    const league = element.dataset.league;\n\n    if (!playerId || !league) {\n        console.error('[add-player-to-league] Missing required data attributes');\n        return;\n    }\n\n    if (typeof approvePlayer === 'function') {\n        approvePlayer(playerId, league);\n    } else {\n        console.error('[add-player-to-league] approvePlayer function not found');\n    }\n});\n\n/**\n * Toggle Pool View Action\n * Switches between grid and list view for substitute pool\n */\nEventDelegation.register('toggle-pool-view', function(element, e) {\n    e.preventDefault();\n\n    const view = element.dataset.view;\n    const league = element.dataset.league;\n    const section = element.dataset.section;\n\n    if (!view || !league || !section) {\n        console.error('[toggle-pool-view] Missing required data attributes');\n        return;\n    }\n\n    // Update button states\n    const siblings = element.parentElement.querySelectorAll('.view-toggle');\n    siblings.forEach(btn => btn.classList.remove('active'));\n    element.classList.add('active');\n\n    // Show/hide views\n    const listView = document.getElementById(`${section}-list-${league}`);\n    const gridView = document.getElementById(`${section}-grid-${league}`);\n\n    if (view === 'list') {\n        if (listView) listView.classList.remove('u-hidden');\n        if (gridView) gridView.classList.add('u-hidden');\n    } else {\n        if (listView) listView.classList.add('u-hidden');\n        if (gridView) gridView.classList.remove('u-hidden');\n    }\n});\n\n/**\n * Filter Pool Action (triggered by input event)\n * Filters player cards by search text\n */\nEventDelegation.register('filter-pool', function(element, e) {\n    const filterText = element.value.toLowerCase().trim();\n    const league = element.dataset.league;\n    const section = element.dataset.section;\n\n    if (!league || !section) {\n        console.error('[filter-pool] Missing required data attributes');\n        return;\n    }\n\n    if (typeof filterPlayerCards === 'function') {\n        filterPlayerCards(league, section, filterText);\n    } else {\n        // Fallback implementation\n        const cards = document.querySelectorAll(\n            `.player-card[data-league=\"${league}\"][data-status=\"${section}\"], ` +\n            `.player-list-item[data-league=\"${league}\"][data-status=\"${section}\"]`\n        );\n\n        cards.forEach(card => {\n            const searchText = (card.dataset.searchText || '').toLowerCase();\n            const shouldShow = !filterText || searchText.includes(filterText);\n            card.classList.toggle('u-hidden', !shouldShow);\n        });\n    }\n});\n\n/**\n * Manage League Pool Action\n * Opens modal for league-specific pool management\n */\nEventDelegation.register('manage-league-pool', function(element, e) {\n    e.preventDefault();\n\n    const league = element.dataset.league;\n\n    if (!league) {\n        console.error('[manage-league-pool] Missing league identifier');\n        return;\n    }\n\n    if (typeof openLeagueManagementModal === 'function') {\n        openLeagueManagementModal(league);\n    } else {\n        console.error('[manage-league-pool] openLeagueManagementModal function not found');\n    }\n});\n\n/**\n * Save Pool Preferences Action\n * Saves edited preferences for a substitute pool player\n */\nEventDelegation.register('save-pool-preferences', function(element, e) {\n    e.preventDefault();\n\n    if (typeof savePreferences === 'function') {\n        savePreferences();\n    } else {\n        console.error('[save-pool-preferences] savePreferences function not found');\n    }\n});\n\n/**\n * Pagination Click Handler for Pool Pages\n * Handles page navigation for substitute pool pagination\n */\nEventDelegation.register('pool-pagination', function(element, e) {\n    e.preventDefault();\n\n    const page = parseInt(element.dataset.page);\n    const league = element.dataset.league;\n    const section = element.dataset.section;\n\n    if (!page || !league || !section) {\n        console.error('[pool-pagination] Missing required data attributes');\n        return;\n    }\n\n    const key = `${league}-${section}`;\n\n    if (typeof paginationState !== 'undefined' && paginationState[key]) {\n        if (page !== paginationState[key].currentPage) {\n            paginationState[key].currentPage = page;\n            if (typeof updatePagination === 'function') {\n                updatePagination(league, section);\n            }\n        }\n    }\n});\n\n/**\n * Add to Pool Action (Admin Panel variant)\n * Adds a player to substitute pool (admin panel version)\n */\nEventDelegation.register('add-to-pool', async function(element, e) {\n    e.preventDefault();\n\n    const playerId = element.dataset.playerId;\n\n    if (!playerId) {\n        console.error('[add-to-pool] Missing player ID');\n        return;\n    }\n\n    // Check if addToPool function exists (from substitute_pool_detail.html)\n    if (typeof addToPool === 'function') {\n        addToPool(playerId);\n    } else {\n        console.error('[add-to-pool] addToPool function not found');\n    }\n});\n\n/**\n * Reject Player Action (Admin Panel)\n * Rejects a player from being added to substitute pool\n */\nEventDelegation.register('reject-player', async function(element, e) {\n    e.preventDefault();\n\n    const playerId = element.dataset.playerId;\n    const playerName = element.dataset.playerName;\n\n    if (!playerId) {\n        console.error('[reject-player] Missing player ID');\n        return;\n    }\n\n    // Check if rejectPlayer function exists (from substitute_pool_detail.html)\n    if (typeof rejectPlayer === 'function') {\n        rejectPlayer(playerId, playerName);\n    } else {\n        console.error('[reject-player] rejectPlayer function not found');\n    }\n});\n\n/**\n * Remove Player Action (Admin Panel variant)\n * Removes player from pool (maps to remove-pool-player for compatibility)\n */\nEventDelegation.register('remove-player', async function(element, e) {\n    e.preventDefault();\n\n    const playerId = element.dataset.playerId;\n    const playerName = element.dataset.playerName;\n\n    if (!playerId) {\n        console.error('[remove-player] Missing player ID');\n        return;\n    }\n\n    // Check if removeFromPool function exists (from substitute_pool_detail.html)\n    if (typeof removeFromPool === 'function') {\n        removeFromPool(playerId, playerName);\n    } else {\n        console.error('[remove-player] removeFromPool function not found');\n    }\n});\n\n/**\n * Load Stats Action (Admin Panel)\n * Opens statistics modal for substitute pool\n */\nEventDelegation.register('load-stats', async function(element, e) {\n    e.preventDefault();\n\n    if (typeof loadStatistics === 'function') {\n        loadStatistics();\n    } else {\n        console.error('[load-stats] loadStatistics function not found');\n    }\n});\n\n/**\n * Add Player Action (Admin Panel)\n * Opens modal to add player to substitute pool\n */\nEventDelegation.register('add-player', function(element, e) {\n    e.preventDefault();\n\n    if (typeof showAddPlayerModal === 'function') {\n        showAddPlayerModal();\n    } else {\n        console.error('[add-player] showAddPlayerModal function not found');\n    }\n});\n\n// ============================================================================\n// ONBOARDING WIZARD ACTIONS\n// ============================================================================\n\n/**\n * Create Profile Action\n * User clicks \"Create Profile\" button on intro screen\n * Advances carousel to first step and sets form action\n */\nEventDelegation.register('onboarding-create-profile', function(element, e) {\n    e.preventDefault();\n\n    const formActionInput = document.getElementById('form_action');\n    if (formActionInput) formActionInput.value = 'create_profile';\n\n    // Get bootstrap carousel instance and advance to next slide\n    const carouselElement = document.getElementById('modalCarouselControls');\n    if (carouselElement && window.bootstrap) {\n        const bootstrapCarousel = bootstrap.Carousel.getInstance(carouselElement) ||\n                                 new bootstrap.Carousel(carouselElement);\n        bootstrapCarousel.next();\n    }\n});\n\n/**\n * Skip Profile Action\n * User clicks \"Skip for now\" button on intro screen\n * Submits form with skip_profile action\n */\nEventDelegation.register('onboarding-skip-profile', function(element, e) {\n    e.preventDefault();\n\n    const formActionInput = document.getElementById('form_action');\n    const modalElement = document.getElementById('onboardingSlideModal');\n    const form = modalElement ? modalElement.querySelector('form.needs-validation') : null;\n\n    if (formActionInput) formActionInput.value = 'skip_profile';\n    if (form) form.submit();\n});\n\n/**\n * Next/Save Button Action\n * Handles \"Next\" button clicks (validation + navigation) and \"Save and Finish\" on final step\n * Validates current step before advancing, or submits form on final step\n */\nEventDelegation.register('onboarding-next', function(element, e) {\n    e.preventDefault();\n    e.stopPropagation();\n\n    if (!window.OnboardingWizard) {\n        console.error('[onboarding-next] OnboardingWizard not initialized');\n        return;\n    }\n\n    const { form, formActionInput, croppedImageHiddenInput, carouselElement, bootstrapCarousel, totalSteps } =\n        window.OnboardingWizard.getFormElements();\n\n    const step = window.OnboardingWizard.getCurrentStep();\n\n    // Final step - save and finish\n    if (step === totalSteps) {\n        if (formActionInput) formActionInput.value = 'update_profile';\n\n        // Final check for any cropping\n        if (window.cropper) {\n            try {\n                const canvas = window.cropper.getCroppedCanvas();\n                if (canvas) {\n                    croppedImageHiddenInput.value = canvas.toDataURL('image/png');\n                }\n            } catch (err) {\n                console.error('[onboarding-next] Error getting cropped image:', err);\n            }\n        }\n\n        // Validate form\n        if (form && form.checkValidity()) {\n            form.submit();\n        } else {\n            form.classList.add('was-validated');\n\n            // Find first invalid input and focus it\n            const firstInvalid = form.querySelector(':invalid');\n            if (firstInvalid) {\n                firstInvalid.focus();\n                firstInvalid.scrollIntoView({\n                    behavior: 'smooth',\n                    block: 'center'\n                });\n            }\n        }\n    } else {\n        // Validate current step's required fields before moving to next\n        const activeItem = carouselElement ? carouselElement.querySelector('.carousel-item.active') : null;\n        const requiredFields = activeItem ? activeItem.querySelectorAll('input[required], select[required], textarea[required]') : [];\n        let isValid = true;\n\n        // Check if all required fields in current step are filled\n        requiredFields.forEach(field => {\n            // Skip hidden fields or fields that are part of hidden sections\n            if (field.offsetParent === null) return;\n\n            if (!field.checkValidity()) {\n                isValid = false;\n                field.classList.add('is-invalid');\n\n                // Add validation feedback if it doesn't exist\n                if (!field.nextElementSibling || !field.nextElementSibling.classList.contains('invalid-feedback')) {\n                    const feedback = document.createElement('div');\n                    feedback.className = 'invalid-feedback';\n                    feedback.textContent = field.validationMessage || 'This field is required.';\n                    field.parentNode.insertBefore(feedback, field.nextSibling);\n                }\n            } else {\n                field.classList.remove('is-invalid');\n            }\n        });\n\n        if (isValid) {\n            // Clear form action and manually move to next step\n            if (formActionInput) formActionInput.value = '';\n            if (bootstrapCarousel) {\n                bootstrapCarousel.next();\n            }\n        } else {\n            // Focus first invalid field\n            const firstInvalid = activeItem ? activeItem.querySelector('.is-invalid') : null;\n            if (firstInvalid) {\n                firstInvalid.focus();\n                firstInvalid.scrollIntoView({\n                    behavior: 'smooth',\n                    block: 'center'\n                });\n            }\n        }\n    }\n});\n\n/**\n * Previous Button Action\n * Navigates to previous step in onboarding carousel\n */\nEventDelegation.register('onboarding-previous', function(element, e) {\n    e.preventDefault();\n\n    const carouselElement = document.getElementById('modalCarouselControls');\n    if (carouselElement && window.bootstrap) {\n        const bootstrapCarousel = bootstrap.Carousel.getInstance(carouselElement);\n        if (bootstrapCarousel) bootstrapCarousel.prev();\n    }\n});\n\n/**\n * Toggle SMS Notifications Section\n * Shows/hides SMS opt-in section with animation when checkbox changes\n * Triggered by data-on-change attribute on SMS toggle checkbox\n */\nEventDelegation.register('onboarding-toggle-sms', function(element, e) {\n    // Element is the checkbox that was changed\n    if (window.OnboardingWizard && typeof window.OnboardingWizard.handleSmsToggle === 'function') {\n        window.OnboardingWizard.handleSmsToggle(element);\n    } else {\n        console.error('[onboarding-toggle-sms] SMS toggle handler not available');\n    }\n});\n\n// ============================================================================\n// SECURITY DASHBOARD ACTIONS\n// ============================================================================\n\n/**\n * Refresh Security Stats Action\n * Refreshes all security dashboard data (stats, events, logs)\n */\nEventDelegation.register('refresh-stats', async function(element, e) {\n    e.preventDefault();\n\n    if (window.securityDashboard && typeof window.securityDashboard.refreshAll === 'function') {\n        await window.securityDashboard.refreshAll();\n    } else {\n        console.error('[refresh-stats] SecurityDashboard instance not available');\n    }\n});\n\n/**\n * Refresh Security Events Action\n * Reloads recent security events list\n */\nEventDelegation.register('refresh-events', async function(element, e) {\n    e.preventDefault();\n\n    if (window.securityDashboard && typeof window.securityDashboard.loadSecurityEvents === 'function') {\n        await window.securityDashboard.loadSecurityEvents();\n    } else {\n        console.error('[refresh-events] SecurityDashboard instance not available');\n    }\n});\n\n/**\n * Refresh Security Logs Action\n * Reloads security logs display\n */\nEventDelegation.register('refresh-logs', async function(element, e) {\n    e.preventDefault();\n\n    if (window.securityDashboard && typeof window.securityDashboard.loadSecurityLogs === 'function') {\n        await window.securityDashboard.loadSecurityLogs();\n    } else {\n        console.error('[refresh-logs] SecurityDashboard instance not available');\n    }\n});\n\n/**\n * Unban IP Action\n * Removes an IP address from the blacklist\n */\nEventDelegation.register('unban-ip', async function(element, e) {\n    e.preventDefault();\n\n    const ip = element.dataset.ip;\n\n    if (!ip) {\n        console.error('[unban-ip] Missing IP address');\n        return;\n    }\n\n    if (window.securityDashboard && typeof window.securityDashboard.unbanIP === 'function') {\n        await window.securityDashboard.unbanIP(ip, element);\n    } else {\n        console.error('[unban-ip] SecurityDashboard instance not available');\n    }\n});\n\n/**\n * Quick Ban IP Action\n * Quickly bans an IP from the security events list\n */\nEventDelegation.register('ban-ip-quick', async function(element, e) {\n    e.preventDefault();\n\n    const ip = element.dataset.ip;\n    const reason = element.dataset.reason || 'Security event';\n\n    if (!ip) {\n        console.error('[ban-ip-quick] Missing IP address');\n        return;\n    }\n\n    if (window.securityDashboard && typeof window.securityDashboard.quickBanIP === 'function') {\n        await window.securityDashboard.quickBanIP(ip, reason);\n    } else {\n        console.error('[ban-ip-quick] SecurityDashboard instance not available');\n    }\n});\n\n/**\n * Ban IP Confirm Action\n * Confirms and submits the ban IP form from the modal\n */\nEventDelegation.register('ban-ip-confirm', async function(element, e) {\n    e.preventDefault();\n\n    if (window.securityDashboard && typeof window.securityDashboard.banIP === 'function') {\n        await window.securityDashboard.banIP();\n    } else {\n        console.error('[ban-ip-confirm] SecurityDashboard instance not available');\n    }\n});\n\n/**\n * Clear All Bans Action\n * Removes all IP addresses from the blacklist\n */\nEventDelegation.register('clear-all-bans', async function(element, e) {\n    e.preventDefault();\n\n    if (window.securityDashboard && typeof window.securityDashboard.clearAllBans === 'function') {\n        await window.securityDashboard.clearAllBans();\n    } else if (typeof clearAllBans === 'function') {\n        // Admin panel version\n        await clearAllBans();\n    } else {\n        console.error('[clear-all-bans] No clearAllBans function available');\n    }\n});\n\n/**\n * Show Ban IP Modal Action (Admin Panel)\n * Opens the modal to manually ban an IP address\n */\nEventDelegation.register('show-ban-ip-modal', function(element, e) {\n    e.preventDefault();\n\n    if (typeof showBanIpModal === 'function') {\n        showBanIpModal();\n    } else if (window.bootstrap) {\n        // Fallback: directly show the modal\n        const modalElement = document.getElementById('banIpModal');\n        if (modalElement) {\n            ModalManager.show('banIpModal');\n        }\n    } else {\n        console.error('[show-ban-ip-modal] No showBanIpModal function available');\n    }\n});\n\n/**\n * Ban IP Action (Admin Panel)\n * Submits the ban IP form from the admin panel modal\n */\nEventDelegation.register('ban-ip', async function(element, e) {\n    e.preventDefault();\n\n    if (typeof banIp === 'function') {\n        await banIp();\n    } else if (window.securityDashboard && typeof window.securityDashboard.banIP === 'function') {\n        await window.securityDashboard.banIP();\n    } else {\n        console.error('[ban-ip] No banIp function available');\n    }\n});\n\n// ============================================================================\n// AUTO SCHEDULE WIZARD ACTIONS\n// ============================================================================\n\n/**\n * Start Season Wizard Action\n * Opens the season builder wizard modal\n */\nEventDelegation.register('start-season-wizard', function(element, e) {\n    e.preventDefault();\n\n    if (typeof startSeasonWizard === 'function') {\n        startSeasonWizard();\n    } else {\n        console.error('[start-season-wizard] startSeasonWizard function not found');\n    }\n});\n\n/**\n * Show Existing Seasons Action\n * Displays the list of existing seasons\n */\nEventDelegation.register('show-existing-seasons', function(element, e) {\n    e.preventDefault();\n\n    if (typeof showExistingSeasons === 'function') {\n        showExistingSeasons();\n    } else {\n        console.error('[show-existing-seasons] showExistingSeasons function not found');\n    }\n});\n\n/**\n * Show Main View Action\n * Returns to main season builder view\n */\nEventDelegation.register('show-main-view', function(element, e) {\n    e.preventDefault();\n\n    if (typeof showMainView === 'function') {\n        showMainView();\n    } else {\n        console.error('[show-main-view] showMainView function not found');\n    }\n});\n\n/**\n * Next Step Action (Wizard Navigation)\n * Advances to the next step in the wizard\n */\nEventDelegation.register('next-step', function(element, e) {\n    e.preventDefault();\n\n    if (typeof nextStep === 'function') {\n        nextStep();\n    } else {\n        console.error('[next-step] nextStep function not found');\n    }\n});\n\n/**\n * Previous Step Action (Wizard Navigation)\n * Goes back to the previous step in the wizard\n */\nEventDelegation.register('previous-step', function(element, e) {\n    e.preventDefault();\n\n    if (typeof previousStep === 'function') {\n        previousStep();\n    } else {\n        console.error('[previous-step] previousStep function not found');\n    }\n});\n\n/**\n * Create Season Action\n * Submits the wizard and creates the season\n */\nEventDelegation.register('create-season', function(element, e) {\n    e.preventDefault();\n\n    if (typeof createSeason === 'function') {\n        createSeason();\n    } else {\n        console.error('[create-season] createSeason function not found');\n    }\n});\n\n/**\n * Update Season Structure Action\n * Updates season breakdown based on total weeks selection\n */\nEventDelegation.register('update-season-structure', function(element, e) {\n    if (typeof updateSeasonStructure === 'function') {\n        updateSeasonStructure();\n    } else {\n        console.error('[update-season-structure] updateSeasonStructure function not found');\n    }\n});\n\n/**\n * Apply Wizard Template Action\n * Applies a configuration template (standard, classic-practice, custom)\n */\nEventDelegation.register('apply-wizard-template', function(element, e) {\n    e.preventDefault();\n\n    const templateType = element.dataset.templateType;\n\n    if (!templateType) {\n        console.error('[apply-wizard-template] Missing template type');\n        return;\n    }\n\n    if (typeof applyWizardTemplate === 'function') {\n        applyWizardTemplate(templateType);\n    } else {\n        console.error('[apply-wizard-template] applyWizardTemplate function not found');\n    }\n});\n\n/**\n * Add Wizard Field Action\n * Adds a new field configuration row in the wizard\n */\nEventDelegation.register('add-wizard-field', function(element, e) {\n    e.preventDefault();\n\n    if (typeof addWizardField === 'function') {\n        addWizardField();\n    } else {\n        console.error('[add-wizard-field] addWizardField function not found');\n    }\n});\n\n/**\n * Remove Wizard Field Action\n * Removes a field configuration row from the wizard\n */\nEventDelegation.register('remove-wizard-field', function(element, e) {\n    e.preventDefault();\n\n    if (typeof removeWizardField === 'function') {\n        removeWizardField(element);\n    } else {\n        console.error('[remove-wizard-field] removeWizardField function not found');\n    }\n});\n\n/**\n * Set Active Season Action\n * Sets a season as the current active season\n */\nEventDelegation.register('set-active-season', function(element, e) {\n    e.preventDefault();\n\n    const seasonId = element.dataset.seasonId;\n    const seasonType = element.dataset.seasonType;\n\n    if (!seasonId || !seasonType) {\n        console.error('[set-active-season] Missing season ID or type');\n        return;\n    }\n\n    if (typeof setActiveSeason === 'function') {\n        setActiveSeason(seasonId, seasonType);\n    } else {\n        console.error('[set-active-season] setActiveSeason function not found');\n    }\n});\n\n/**\n * Confirm Delete Season Action\n * Shows confirmation dialog before deleting a season\n */\nEventDelegation.register('confirm-delete-season', function(element, e) {\n    e.preventDefault();\n\n    const seasonId = element.dataset.seasonId;\n    const seasonName = element.dataset.seasonName;\n\n    if (!seasonId || !seasonName) {\n        console.error('[confirm-delete-season] Missing season ID or name');\n        return;\n    }\n\n    if (typeof confirmDeleteSeason === 'function') {\n        confirmDeleteSeason(seasonId, seasonName);\n    } else {\n        console.error('[confirm-delete-season] confirmDeleteSeason function not found');\n    }\n});\n\n/**\n * Recreate Discord Resources Action\n * Recreates Discord channels and roles for a season\n */\nEventDelegation.register('recreate-discord-resources', function(element, e) {\n    e.preventDefault();\n\n    const seasonId = element.dataset.seasonId;\n    const seasonName = element.dataset.seasonName;\n\n    if (!seasonId || !seasonName) {\n        console.error('[recreate-discord-resources] Missing season ID or name');\n        return;\n    }\n\n    if (typeof recreateDiscordResources === 'function') {\n        recreateDiscordResources(seasonId, seasonName);\n    } else {\n        console.error('[recreate-discord-resources] recreateDiscordResources function not found');\n    }\n});\n\n/**\n * Toggle Settings Action (Schedule Preview)\n * Toggles visibility of schedule settings panel\n */\nEventDelegation.register('toggle-settings', function(element, e) {\n    e.preventDefault();\n\n    if (typeof toggleScheduleSettings === 'function') {\n        toggleScheduleSettings();\n    } else {\n        console.error('[toggle-settings] toggleScheduleSettings function not found');\n    }\n});\n\n/**\n * Delete Schedule Action (Schedule Preview)\n * Deletes the generated schedule\n */\nEventDelegation.register('delete-schedule', function(element, e) {\n    e.preventDefault();\n\n    if (typeof deleteSchedule === 'function') {\n        deleteSchedule();\n    } else {\n        console.error('[delete-schedule] deleteSchedule function not found');\n    }\n});\n\n/**\n * Commit Schedule Action (Schedule Preview)\n * Commits the schedule and creates matches\n */\nEventDelegation.register('commit-schedule', function(element, e) {\n    e.preventDefault();\n\n    if (typeof commitSchedule === 'function') {\n        commitSchedule();\n    } else {\n        console.error('[commit-schedule] commitSchedule function not found');\n    }\n});\n\n/**\n * Select for Swap Action (Schedule Preview)\n * Selects a match for team swapping\n */\nEventDelegation.register('select-for-swap', function(element, e) {\n    e.preventDefault();\n\n    const matchId = parseInt(element.dataset.matchId);\n    const matchDesc = element.dataset.matchDesc;\n\n    if (!matchId || !matchDesc) {\n        console.error('[select-for-swap] Missing match ID or description');\n        return;\n    }\n\n    if (typeof selectForSwap === 'function') {\n        selectForSwap(matchId, matchDesc);\n    } else {\n        console.error('[select-for-swap] selectForSwap function not found');\n    }\n});\n\n/**\n * Execute Swap Action (Schedule Preview)\n * Executes the team swap\n */\nEventDelegation.register('execute-swap', function(element, e) {\n    e.preventDefault();\n\n    if (typeof executeSwap === 'function') {\n        executeSwap();\n    } else {\n        console.error('[execute-swap] executeSwap function not found');\n    }\n});\n\n/**\n * Remove from Swap Action (Schedule Preview)\n * Removes a match from swap selection\n */\nEventDelegation.register('remove-from-swap', function(element, e) {\n    e.preventDefault();\n\n    const swapIndex = parseInt(element.dataset.swapIndex);\n\n    if (swapIndex === undefined || swapIndex === null) {\n        console.error('[remove-from-swap] Missing swap index');\n        return;\n    }\n\n    if (typeof removeFromSwap === 'function') {\n        removeFromSwap(swapIndex);\n    } else {\n        console.error('[remove-from-swap] removeFromSwap function not found');\n    }\n});\n\n/**\n * Remove Field Action (Config Page)\n * Removes a field from the configuration\n */\nEventDelegation.register('remove-field', function(element, e) {\n    e.preventDefault();\n\n    if (typeof removeField === 'function') {\n        removeField(element);\n    } else {\n        console.error('[remove-field] removeField function not found');\n    }\n});\n\n/**\n * Add Field Action (Config Page)\n * Adds a new field to the configuration\n */\nEventDelegation.register('add-field', function(element, e) {\n    e.preventDefault();\n\n    if (typeof addField === 'function') {\n        addField();\n    } else {\n        console.error('[add-field] addField function not found');\n    }\n});\n\n/**\n * Apply Template Action (Config Page)\n * Applies a configuration template\n */\nEventDelegation.register('apply-template', function(element, e) {\n    e.preventDefault();\n\n    const template = element.dataset.template;\n\n    if (!template) {\n        console.error('[apply-template] Missing template type');\n        return;\n    }\n\n    if (typeof applyTemplate === 'function') {\n        applyTemplate(template);\n    } else {\n        console.error('[apply-template] applyTemplate function not found');\n    }\n});\n\n/**\n * Add Week Config Action (Config Page)\n * Adds a new week configuration\n */\nEventDelegation.register('add-week-config', function(element, e) {\n    e.preventDefault();\n\n    if (typeof addWeekConfig === 'function') {\n        addWeekConfig();\n    } else {\n        console.error('[add-week-config] addWeekConfig function not found');\n    }\n});\n\n/**\n * Generate Default Weeks Action (Config Page)\n * Auto-generates default week configuration\n */\nEventDelegation.register('generate-default-weeks', function(element, e) {\n    e.preventDefault();\n\n    if (typeof generateDefaultWeeks === 'function') {\n        generateDefaultWeeks();\n    } else {\n        console.error('[generate-default-weeks] generateDefaultWeeks function not found');\n    }\n});\n\n/**\n * Clear Weeks Action (Config Page)\n * Clears all week configurations\n */\nEventDelegation.register('clear-weeks', function(element, e) {\n    e.preventDefault();\n\n    if (typeof clearWeeks === 'function') {\n        clearWeeks();\n    } else {\n        console.error('[clear-weeks] clearWeeks function not found');\n    }\n});\n\n/**\n * Update Week Card Action (Config Page)\n * Updates week type when dropdown changes\n */\nEventDelegation.register('update-week-card', function(element, e) {\n    if (typeof updateWeekCard === 'function') {\n        updateWeekCard(element);\n    } else {\n        console.error('[update-week-card] updateWeekCard function not found');\n    }\n});\n\n/**\n * Remove Week Card Action (Config Page)\n * Removes a week configuration\n */\nEventDelegation.register('remove-week-card', function(element, e) {\n    e.preventDefault();\n\n    if (typeof removeWeekCard === 'function') {\n        removeWeekCard(element);\n    } else {\n        console.error('[remove-week-card] removeWeekCard function not found');\n    }\n});\n\n/**\n * Close Toast Action\n * Closes/removes a toast notification\n */\nEventDelegation.register('close-toast', function(element, e) {\n    e.preventDefault();\n\n    // Remove the toast (parent element)\n    if (element.parentElement) {\n        element.parentElement.remove();\n    }\n});\n\n// ============================================================================\n// PASS STUDIO ACTIONS\n// ============================================================================\n\n/**\n * Platform Toggle Action\n * Switches between Apple and Google wallet preview\n */\nEventDelegation.register('toggle-platform', function(element, e) {\n    e.preventDefault();\n\n    const platform = element.dataset.platform;\n\n    if (!platform) {\n        console.error('[toggle-platform] Missing platform attribute');\n        return;\n    }\n\n    if (window.PassStudio && typeof window.PassStudio.setPreviewPlatform === 'function') {\n        window.PassStudio.setPreviewPlatform(platform);\n    } else {\n        console.error('[toggle-platform] PassStudio.setPreviewPlatform not available');\n    }\n});\n\n/**\n * Update Pass Style Action\n * Changes pass layout style (generic, storeCard, eventTicket)\n * Triggered by change event on radio buttons\n */\nEventDelegation.register('update-pass-style', function(element, e) {\n    if (window.PassStudio && typeof window.PassStudio.updatePassStylePreview === 'function') {\n        window.PassStudio.updatePassStylePreview();\n    } else {\n        console.error('[update-pass-style] PassStudio.updatePassStylePreview not available');\n    }\n});\n\n/**\n * Apply Color Preset Action\n * Applies predefined color schemes to the pass\n */\nEventDelegation.register('apply-color-preset', function(element, e) {\n    e.preventDefault();\n\n    const bg = element.dataset.bg;\n    const fg = element.dataset.fg;\n    const label = element.dataset.label;\n\n    if (!bg || !fg || !label) {\n        console.error('[apply-color-preset] Missing color data attributes');\n        return;\n    }\n\n    // Set color inputs\n    const bgColorInput = document.getElementById('background_color');\n    const fgColorInput = document.getElementById('foreground_color');\n    const labelColorInput = document.getElementById('label_color');\n\n    if (bgColorInput) bgColorInput.value = bg;\n    if (fgColorInput) fgColorInput.value = fg;\n    if (labelColorInput) labelColorInput.value = label;\n\n    // Set text inputs\n    const bgColorText = document.getElementById('background_color_text');\n    const fgColorText = document.getElementById('foreground_color_text');\n    const labelColorText = document.getElementById('label_color_text');\n\n    if (bgColorText) bgColorText.value = bg;\n    if (fgColorText) fgColorText.value = fg;\n    if (labelColorText) labelColorText.value = label;\n\n    // Update preview\n    if (window.PassStudio && typeof window.PassStudio.updatePreviewFromForm === 'function') {\n        window.PassStudio.updatePreviewFromForm();\n    }\n\n    // Mark unsaved\n    if (window.PassStudio && typeof window.PassStudio.markUnsaved === 'function') {\n        window.PassStudio.markUnsaved();\n    }\n});\n\n/**\n * Sync Color Input Action\n * Syncs color picker with text input and vice versa\n */\nEventDelegation.register('sync-color-input', function(element, e) {\n    const targetId = element.dataset.target;\n    if (!targetId) return;\n\n    const target = document.getElementById(targetId);\n    if (!target) return;\n\n    // Sync the values\n    if (element.type === 'color') {\n        // Color picker changed - update text input\n        const textInput = document.getElementById(targetId + '_text');\n        if (textInput) textInput.value = element.value;\n    } else {\n        // Text input changed - update color picker\n        target.value = element.value;\n    }\n\n    // Update preview\n    if (window.PassStudio && typeof window.PassStudio.updatePreviewFromForm === 'function') {\n        window.PassStudio.updatePreviewFromForm();\n    }\n});\n\n/**\n * Update Preview Field Action\n * Updates specific field in preview (e.g., logo text)\n */\nEventDelegation.register('update-preview-field', function(element, e) {\n    if (window.PassStudio && typeof window.PassStudio.updatePreviewFromForm === 'function') {\n        window.PassStudio.updatePreviewFromForm();\n    }\n});\n\n/**\n * Toggle Logo Visibility Action\n * Shows/hides logo in preview\n */\nEventDelegation.register('toggle-logo-visibility', function(element, e) {\n    if (window.PassStudio && typeof window.PassStudio.toggleLogoVisibility === 'function') {\n        window.PassStudio.toggleLogoVisibility();\n    }\n});\n\n/**\n * Open Asset Cropper Action\n * Opens modal to upload/crop pass assets\n */\nEventDelegation.register('open-asset-cropper', function(element, e) {\n    e.preventDefault();\n\n    const assetType = element.dataset.assetType;\n\n    if (!assetType) {\n        console.error('[open-asset-cropper] Missing asset type');\n        return;\n    }\n\n    if (window.PassStudio && typeof window.PassStudio.openAssetCropper === 'function') {\n        window.PassStudio.openAssetCropper(assetType);\n    } else {\n        console.error('[open-asset-cropper] PassStudio.openAssetCropper not available');\n    }\n});\n\n/**\n * Update Google Preview Action\n * Updates Google Wallet preview with URL changes\n */\nEventDelegation.register('update-google-preview', function(element, e) {\n    if (window.PassStudio && typeof window.PassStudio.updateGooglePreview === 'function') {\n        window.PassStudio.updateGooglePreview();\n    }\n});\n\n/**\n * Update Barcode Preview Action\n * Shows/hides barcode in preview\n */\nEventDelegation.register('update-barcode-preview', function(element, e) {\n    if (window.PassStudio && typeof window.PassStudio.updateBarcodePreview === 'function') {\n        window.PassStudio.updateBarcodePreview();\n    }\n});\n\n/**\n * Save Appearance Action\n * Saves appearance settings to server\n */\nEventDelegation.register('save-appearance', function(element, e) {\n    e.preventDefault();\n\n    if (window.PassStudio && typeof window.PassStudio.saveAppearance === 'function') {\n        window.PassStudio.saveAppearance();\n    } else {\n        console.error('[save-appearance] PassStudio.saveAppearance not available');\n    }\n});\n\n/**\n * Initialize Defaults Action\n * Loads default field configuration for pass\n */\nEventDelegation.register('initialize-defaults', function(element, e) {\n    e.preventDefault();\n\n    if (window.FieldsManager && typeof window.FieldsManager.initializeDefaults === 'function') {\n        window.FieldsManager.initializeDefaults();\n    } else {\n        console.error('[initialize-defaults] FieldsManager.initializeDefaults not available');\n    }\n});\n\n/**\n * Add Field Action\n * Opens modal to add new pass field\n */\nEventDelegation.register('add-field', function(element, e) {\n    e.preventDefault();\n\n    const fieldType = element.dataset.fieldType;\n\n    if (!fieldType) {\n        console.error('[add-field] Missing field type');\n        return;\n    }\n\n    if (window.FieldsManager && typeof window.FieldsManager.openAddFieldModal === 'function') {\n        window.FieldsManager.openAddFieldModal(fieldType);\n    } else {\n        console.error('[add-field] FieldsManager.openAddFieldModal not available');\n    }\n});\n\n/**\n * Create Field Action\n * Creates new field from modal data\n */\nEventDelegation.register('create-field', function(element, e) {\n    e.preventDefault();\n\n    if (window.FieldsManager && typeof window.FieldsManager.createField === 'function') {\n        window.FieldsManager.createField();\n    } else {\n        console.error('[create-field] FieldsManager.createField not available');\n    }\n});\n\n/**\n * Save Fields Action\n * Saves all field configurations to server\n */\nEventDelegation.register('save-fields', function(element, e) {\n    e.preventDefault();\n\n    if (window.FieldsManager && typeof window.FieldsManager.saveFields === 'function') {\n        window.FieldsManager.saveFields();\n    } else {\n        console.error('[save-fields] FieldsManager.saveFields not available');\n    }\n});\n\n/**\n * Reset Fields Action\n * Resets fields to last saved state\n */\nEventDelegation.register('reset-fields', function(element, e) {\n    e.preventDefault();\n\n    if (window.FieldsManager && typeof window.FieldsManager.resetFields === 'function') {\n        window.FieldsManager.resetFields();\n    } else {\n        console.error('[reset-fields] FieldsManager.resetFields not available');\n    }\n});\n\n/**\n * Insert Variable Action\n * Inserts template variable at cursor position\n */\nEventDelegation.register('insert-variable', function(element, e) {\n    e.preventDefault();\n\n    const variableName = element.dataset.variableName;\n\n    if (!variableName) {\n        console.error('[insert-variable] Missing variable name');\n        return;\n    }\n\n    if (window.FieldsManager && typeof window.FieldsManager.insertVariableInAdd === 'function') {\n        window.FieldsManager.insertVariableInAdd(variableName);\n    } else {\n        console.error('[insert-variable] FieldsManager.insertVariableInAdd not available');\n    }\n});\n\n// ============================================================================\n// USER APPROVAL MANAGEMENT ACTIONS\n// ============================================================================\n\n/**\n * Refresh Approval Stats Action\n * Manually refreshes user approval statistics display\n */\nEventDelegation.register('refresh-approval-stats', function(element, e) {\n    e.preventDefault();\n\n    if (typeof window.refreshStats === 'function') {\n        window.refreshStats();\n    } else {\n        console.error('[refresh-approval-stats] refreshStats function not found');\n    }\n});\n\n/**\n * Show Player Details Action\n * Opens modal showing detailed player information\n */\nEventDelegation.register('show-player-details', function(element, e) {\n    e.preventDefault();\n\n    const userId = element.dataset.userId;\n\n    if (!userId) {\n        console.error('[show-player-details] Missing user ID');\n        return;\n    }\n\n    if (typeof window.showPlayerDetails === 'function') {\n        window.showPlayerDetails(parseInt(userId));\n    } else {\n        console.error('[show-player-details] showPlayerDetails function not found');\n    }\n});\n\n/**\n * Show Approval Modal Action\n * Opens modal to approve a user and assign them to a league\n */\nEventDelegation.register('show-approval-modal', function(element, e) {\n    e.preventDefault();\n\n    const userId = element.dataset.userId;\n\n    if (!userId) {\n        console.error('[show-approval-modal] Missing user ID');\n        return;\n    }\n\n    if (typeof window.showApprovalModal === 'function') {\n        window.showApprovalModal(parseInt(userId));\n    } else {\n        console.error('[show-approval-modal] showApprovalModal function not found');\n    }\n});\n\n/**\n * Show Denial Modal Action\n * Opens modal to deny a user application\n */\nEventDelegation.register('show-denial-modal', function(element, e) {\n    e.preventDefault();\n\n    const userId = element.dataset.userId;\n\n    if (!userId) {\n        console.error('[show-denial-modal] Missing user ID');\n        return;\n    }\n\n    if (typeof window.showDenialModal === 'function') {\n        window.showDenialModal(parseInt(userId));\n    } else {\n        console.error('[show-denial-modal] showDenialModal function not found');\n    }\n});\n\n/**\n * Approve User Action\n * Submits user approval form\n */\nEventDelegation.register('approve-user', function(element, e) {\n    e.preventDefault();\n\n    if (typeof window.submitApproval === 'function') {\n        window.submitApproval();\n    } else {\n        console.error('[approve-user] submitApproval function not found');\n    }\n});\n\n/**\n * Deny User Action\n * Submits user denial form\n */\nEventDelegation.register('deny-user', function(element, e) {\n    e.preventDefault();\n\n    if (typeof window.submitDenial === 'function') {\n        window.submitDenial();\n    } else {\n        console.error('[deny-user] submitDenial function not found');\n    }\n});\n\n// Make globally available\nwindow.EventDelegation = EventDelegation;\n\n// Export for module systems\nif (typeof module !== 'undefined' && module.exports) {\n    module.exports = EventDelegation;\n}\n","/**\n * CSRF-Protected Fetch Utility\n *\n * Automatically adds CSRF token to all fetch requests with methods\n * that modify data (POST, PUT, DELETE, PATCH).\n *\n * Usage: Just use fetch() as normal - CSRF token is added automatically.\n *\n * The CSRF token is read from: <meta name=\"csrf-token\" content=\"...\">\n */\n\n(function() {\n    'use strict';\n\n    // Store the original fetch\n    const originalFetch = window.fetch;\n\n    // Methods that require CSRF protection\n    const CSRF_METHODS = ['POST', 'PUT', 'DELETE', 'PATCH'];\n\n    /**\n     * Get CSRF token from meta tag\n     */\n    function getCSRFToken() {\n        const meta = document.querySelector('meta[name=\"csrf-token\"]');\n        return meta ? meta.getAttribute('content') : null;\n    }\n\n    /**\n     * Enhanced fetch that automatically adds CSRF token\n     */\n    window.fetch = function(url, options = {}) {\n        // Determine the method (default is GET)\n        const method = (options.method || 'GET').toUpperCase();\n\n        // Only add CSRF token for methods that modify data\n        if (CSRF_METHODS.includes(method)) {\n            const csrfToken = getCSRFToken();\n\n            if (csrfToken) {\n                // Ensure headers object exists\n                options.headers = options.headers || {};\n\n                // Handle Headers object vs plain object\n                if (options.headers instanceof Headers) {\n                    if (!options.headers.has('X-CSRFToken')) {\n                        options.headers.set('X-CSRFToken', csrfToken);\n                    }\n                } else {\n                    // Plain object - only add if not already present\n                    if (!options.headers['X-CSRFToken'] && !options.headers['x-csrftoken']) {\n                        options.headers['X-CSRFToken'] = csrfToken;\n                    }\n                }\n            }\n        }\n\n        // Call the original fetch\n        return originalFetch.call(window, url, options);\n    };\n\n    // Also provide a named export for explicit usage\n    window.fetchWithCSRF = window.fetch;\n\n    console.debug('[CSRF] Fetch wrapper initialized');\n})();\n","/**\n * HELPERS MINIMAL\n * ================\n * Minimal replacement for Sneat/Vuexy helpers.js\n * Provides the same API but WITHOUT the problematic layout manipulation\n *\n * The original helpers.js injected inline styles that broke CSS Grid layouts.\n * This version provides the utility functions that main.js and other scripts need,\n * but removes all layout manipulation (_updateInlineStyle, update, etc.)\n */\n\n(function() {\n    'use strict';\n\n    const Helpers = {\n        // Root Element\n        ROOT_EL: document.documentElement,\n\n        // Large screens breakpoint (matches Bootstrap xl)\n        LAYOUT_BREAKPOINT: 1200,\n\n        // Resize delay in milliseconds\n        RESIZE_DELAY: 200,\n\n        // Internal state\n        _initialized: false,\n        _listeners: [],\n        _resizeCallback: null,\n        _resizeTimeout: null,\n        menuPsScroll: null,\n        mainMenu: null,\n\n        // *******************************************************************************\n        // * Tests / State Checks\n        // *******************************************************************************\n\n        isRtl: function() {\n            return document.querySelector('body')?.getAttribute('dir') === 'rtl' ||\n                   document.querySelector('html')?.getAttribute('dir') === 'rtl';\n        },\n\n        isMobileDevice: function() {\n            return typeof window.orientation !== 'undefined' ||\n                   navigator.userAgent.indexOf('IEMobile') !== -1;\n        },\n\n        isSmallScreen: function() {\n            return (window.innerWidth || document.documentElement.clientWidth || document.body.clientWidth) < this.LAYOUT_BREAKPOINT;\n        },\n\n        isDarkStyle: function() {\n            return document.documentElement.getAttribute('data-style') === 'dark' ||\n                   document.documentElement.classList.contains('dark-style');\n        },\n\n        isLightStyle: function() {\n            return !this.isDarkStyle();\n        },\n\n        isCollapsed: function() {\n            if (this.isSmallScreen()) {\n                return !document.documentElement.classList.contains('layout-menu-expanded');\n            }\n            return document.documentElement.classList.contains('layout-menu-collapsed');\n        },\n\n        isFixed: function() {\n            return document.documentElement.classList.contains('layout-menu-fixed') ||\n                   document.documentElement.classList.contains('layout-menu-fixed-offcanvas');\n        },\n\n        isOffcanvas: function() {\n            return document.documentElement.classList.contains('layout-menu-offcanvas') ||\n                   document.documentElement.classList.contains('layout-menu-fixed-offcanvas');\n        },\n\n        isNavbarFixed: function() {\n            return document.documentElement.classList.contains('layout-navbar-fixed');\n        },\n\n        isFooterFixed: function() {\n            return document.documentElement.classList.contains('layout-footer-fixed');\n        },\n\n        isLayoutNavbarFull: function() {\n            return !!document.querySelector('.layout-wrapper.layout-navbar-full');\n        },\n\n        // *******************************************************************************\n        // * Getters\n        // *******************************************************************************\n\n        getLayoutMenu: function() {\n            return document.querySelector('.layout-menu, .c-sidebar');\n        },\n\n        getMenu: function() {\n            const layoutMenu = this.getLayoutMenu();\n            if (!layoutMenu) return null;\n            return layoutMenu.classList.contains('menu') ? layoutMenu : layoutMenu.querySelector('.menu');\n        },\n\n        getLayoutNavbar: function() {\n            return document.querySelector('.layout-navbar');\n        },\n\n        getLayoutFooter: function() {\n            return document.querySelector('.content-footer');\n        },\n\n        // *******************************************************************************\n        // * Class Helpers\n        // *******************************************************************************\n\n        _addClass: function(cls, el = this.ROOT_EL) {\n            if (!el) return;\n            const elements = el.length !== undefined ? el : [el];\n            elements.forEach(e => {\n                if (e) cls.split(' ').forEach(c => e.classList.add(c));\n            });\n        },\n\n        _removeClass: function(cls, el = this.ROOT_EL) {\n            if (!el) return;\n            const elements = el.length !== undefined ? el : [el];\n            elements.forEach(e => {\n                if (e) cls.split(' ').forEach(c => e.classList.remove(c));\n            });\n        },\n\n        _hasClass: function(cls, el = this.ROOT_EL) {\n            let result = false;\n            cls.split(' ').forEach(c => {\n                if (el.classList.contains(c)) result = true;\n            });\n            return result;\n        },\n\n        // *******************************************************************************\n        // * Sidebar / Menu Controls\n        // *******************************************************************************\n\n        setCollapsed: function(collapsed, animate = true) {\n            if (this.isSmallScreen()) {\n                if (collapsed) {\n                    this._removeClass('layout-menu-expanded');\n                    document.body.classList.remove('sidebar-open');\n                } else {\n                    this._addClass('layout-menu-expanded');\n                    document.body.classList.add('sidebar-open');\n                }\n            } else {\n                if (collapsed) {\n                    this._addClass('layout-menu-collapsed');\n                } else {\n                    this._removeClass('layout-menu-collapsed');\n                }\n            }\n            this._triggerEvent('toggle');\n        },\n\n        toggleCollapsed: function(animate = true) {\n            this.setCollapsed(!this.isCollapsed(), animate);\n        },\n\n        setNavbarFixed: function(fixed) {\n            if (fixed) {\n                this._addClass('layout-navbar-fixed');\n            } else {\n                this._removeClass('layout-navbar-fixed');\n            }\n        },\n\n        setFooterFixed: function(fixed) {\n            if (fixed) {\n                this._addClass('layout-footer-fixed');\n            } else {\n                this._removeClass('layout-footer-fixed');\n            }\n        },\n\n        // *******************************************************************************\n        // * Scroll Helpers\n        // *******************************************************************************\n\n        scrollToActive: function(animate = false) {\n            const layoutMenu = this.getLayoutMenu();\n            if (!layoutMenu) return;\n\n            const activeEl = layoutMenu.querySelector('li.menu-item.active:not(.open), .c-sidebar__item.is-active');\n            if (!activeEl) return;\n\n            const menuInner = layoutMenu.querySelector('.menu-inner, .c-sidebar__nav');\n            if (!menuInner) return;\n\n            // Only scroll if item is below 66% of menu height\n            const activeTop = activeEl.getBoundingClientRect().top - menuInner.getBoundingClientRect().top + menuInner.scrollTop;\n            if (activeTop < menuInner.clientHeight * 0.66) return;\n\n            const scrollTo = activeTop - menuInner.clientHeight / 2;\n            if (animate) {\n                menuInner.scrollTo({ top: scrollTo, behavior: 'smooth' });\n            } else {\n                menuInner.scrollTop = scrollTo;\n            }\n        },\n\n        // *******************************************************************************\n        // * Gesture Support (Mobile)\n        // *******************************************************************************\n\n        swipeIn: function(targetEl, callback) {\n            // Hammer.js gesture support - if available\n            if (typeof Hammer !== 'undefined' && typeof targetEl === 'string') {\n                const el = document.querySelector(targetEl);\n                if (el) {\n                    const hammer = new Hammer(el);\n                    hammer.on('panright', callback);\n                }\n            }\n        },\n\n        swipeOut: function(targetEl, callback) {\n            if (typeof Hammer !== 'undefined' && typeof targetEl === 'string') {\n                setTimeout(() => {\n                    const el = document.querySelector(targetEl);\n                    if (el) {\n                        const hammer = new Hammer(el);\n                        hammer.get('pan').set({ direction: Hammer.DIRECTION_ALL, threshold: 250 });\n                        hammer.on('panleft', callback);\n                    }\n                }, 500);\n            }\n        },\n\n        // *******************************************************************************\n        // * Form Helpers\n        // *******************************************************************************\n\n        initPasswordToggle: function() {\n            document.querySelectorAll('.form-password-toggle i').forEach(el => {\n                el.addEventListener('click', function(e) {\n                    e.preventDefault();\n                    const toggle = el.closest('.form-password-toggle');\n                    const input = toggle?.querySelector('input');\n                    const icon = toggle?.querySelector('i');\n                    if (input && icon) {\n                        if (input.type === 'text') {\n                            input.type = 'password';\n                            icon.classList.replace('ti-eye', 'ti-eye-off');\n                        } else {\n                            input.type = 'text';\n                            icon.classList.replace('ti-eye-off', 'ti-eye');\n                        }\n                    }\n                });\n            });\n        },\n\n        initCustomOptionCheck: function() {\n            document.querySelectorAll('.custom-option .form-check-input').forEach(el => {\n                this.updateCustomOptionCheck(el);\n                el.addEventListener('click', () => this.updateCustomOptionCheck(el));\n            });\n        },\n\n        updateCustomOptionCheck: function(el) {\n            if (el.checked) {\n                if (el.type === 'radio') {\n                    el.closest('.row')?.querySelectorAll('.custom-option').forEach(opt => {\n                        opt.classList.remove('checked');\n                    });\n                }\n                el.closest('.custom-option')?.classList.add('checked');\n            } else {\n                el.closest('.custom-option')?.classList.remove('checked');\n            }\n        },\n\n        initSpeechToText: function() {\n            const SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;\n            if (!SpeechRecognition) return;\n\n            document.querySelectorAll('.speech-to-text i').forEach(el => {\n                let listening = false;\n                el.addEventListener('click', function() {\n                    const input = el.closest('.input-group')?.querySelector('.form-control');\n                    if (!input) return;\n                    input.focus();\n\n                    const recognition = new SpeechRecognition();\n                    recognition.onspeechstart = () => { listening = true; };\n                    recognition.onerror = () => { listening = false; };\n                    recognition.onresult = (e) => { input.value = e.results[0][0].transcript; };\n                    recognition.onspeechend = () => { listening = false; recognition.stop(); };\n\n                    if (!listening) recognition.start();\n                });\n            });\n        },\n\n        // *******************************************************************************\n        // * Navbar Dropdown Scrollbar\n        // *******************************************************************************\n\n        initNavbarDropdownScrollbar: function() {\n            if (typeof PerfectScrollbar === 'undefined') return;\n\n            document.querySelectorAll('.navbar-dropdown .scrollable-container').forEach(el => {\n                new PerfectScrollbar(el, { wheelPropagation: false, suppressScrollX: true });\n            });\n        },\n\n        // *******************************************************************************\n        // * Sidebar Toggle (for apps)\n        // *******************************************************************************\n\n        initSidebarToggle: function() {\n            document.querySelectorAll('[data-bs-toggle=\"sidebar\"]').forEach(el => {\n                el.addEventListener('click', function() {\n                    const target = el.getAttribute('data-target');\n                    const overlay = el.getAttribute('data-overlay');\n                    const appOverlay = document.querySelector('.app-overlay');\n\n                    document.querySelectorAll(target).forEach(tel => {\n                        tel.classList.toggle('show');\n                        if (overlay && appOverlay) {\n                            if (tel.classList.contains('show')) {\n                                appOverlay.classList.add('show');\n                            } else {\n                                appOverlay.classList.remove('show');\n                            }\n                            appOverlay.addEventListener('click', (e) => {\n                                e.currentTarget.classList.remove('show');\n                                tel.classList.remove('show');\n                            });\n                        }\n                    });\n                });\n            });\n        },\n\n        // *******************************************************************************\n        // * Events\n        // *******************************************************************************\n\n        on: function(event, callback) {\n            const [eventName, ...namespaceParts] = event.split('.');\n            const namespace = namespaceParts.join('.') || null;\n            this._listeners.push({ event: eventName, namespace, callback });\n        },\n\n        off: function(event) {\n            const [eventName, ...namespaceParts] = event.split('.');\n            const namespace = namespaceParts.join('.') || null;\n            this._listeners = this._listeners.filter(l => !(l.event === eventName && l.namespace === namespace));\n        },\n\n        _triggerEvent: function(name) {\n            // Dispatch window event\n            window.dispatchEvent(new Event('layout' + name));\n            // Call registered listeners\n            this._listeners.filter(l => l.event === name).forEach(l => l.callback.call(null));\n        },\n\n        // *******************************************************************************\n        // * Update (NO-OP - Layout is CSS-only)\n        // *******************************************************************************\n\n        update: function() {\n            // NO-OP: Layout is handled by CSS Grid/Flexbox, not inline styles\n            // The original Helpers.update() injected problematic inline styles\n        },\n\n        setAutoUpdate: function(enable) {\n            // NO-OP: Auto-update was used for inline style injection\n        },\n\n        // *******************************************************************************\n        // * Initialization\n        // *******************************************************************************\n\n        init: function() {\n            if (this._initialized) return;\n            this._initialized = true;\n\n            // Bind window resize event\n            const self = this;\n            this._resizeCallback = function() {\n                if (self._resizeTimeout) clearTimeout(self._resizeTimeout);\n                self._resizeTimeout = setTimeout(() => {\n                    self._triggerEvent('resize');\n                }, self.RESIZE_DELAY);\n            };\n            window.addEventListener('resize', this._resizeCallback);\n        },\n\n        destroy: function() {\n            if (!this._initialized) return;\n            this._initialized = false;\n\n            if (this._resizeCallback) {\n                window.removeEventListener('resize', this._resizeCallback);\n                this._resizeCallback = null;\n            }\n            this._listeners = [];\n        }\n    };\n\n    // Initialize immediately\n    Helpers.init();\n\n    // Expose globally\n    window.Helpers = Helpers;\n\n})();\n","/**\n * Modal Manager - Centralized Bootstrap Modal Management\n * ========================================================\n *\n * Best Practice 2025: Single source of truth for all modal operations\n *\n * USAGE:\n * ------\n * 1. Declarative (no JavaScript needed):\n *    <button data-bs-toggle=\"modal\" data-bs-target=\"#myModal\">Show Modal</button>\n *\n * 2. Programmatic (simple one-liner):\n *    ModalManager.show('myModal');\n *\n * 3. With options:\n *    ModalManager.show('myModal', { backdrop: 'static', keyboard: false });\n *\n * 4. Event delegation (preferred):\n *    <button data-action=\"show-modal\" data-modal-id=\"myModal\">Show</button>\n *\n * FEATURES:\n * ---------\n * - Instance caching (prevents duplicate modal initializations)\n * - Safe initialization (handles timing issues)\n * - Auto-discovery of all modals on page\n * - Event delegation support via data-action attributes\n * - Memory cleanup\n * - InitSystem registration (priority 20)\n *\n * SELECTOR CONVENTION:\n * --------------------\n * - Uses data-modal attribute for modal identification\n * - Falls back to .modal class for backward compatibility\n * - Uses data-action=\"show-modal|hide-modal|toggle-modal\" for triggers\n *\n * @author ECS Discord Bot Team\n * @since 2025-12-17\n */\n\nclass ModalManager {\n    /**\n     * Modal instance cache - prevents duplicate initializations\n     * @private\n     */\n    static modalInstances = new Map();\n\n    /**\n     * Debug mode - set to true for debugging, false in production\n     * @private\n     */\n    static DEBUG = true;\n\n    /**\n     * Track initialization state\n     * @private\n     */\n    static _initialized = false;\n\n    /**\n     * Initialize the Modal Manager\n     * - Auto-discovers all modals on the page\n     * - Sets up event delegation for data-action triggers\n     * - Called automatically via InitSystem or DOMContentLoaded\n     *\n     * @param {Element} context - Optional context element (defaults to document)\n     */\n    static init(context = document) {\n        // For full document init, only run once\n        if (context === document && this._initialized) {\n            return;\n        }\n\n        if (typeof bootstrap === 'undefined' || typeof bootstrap.Modal === 'undefined') {\n            console.error('[ModalManager] Bootstrap not loaded. Cannot initialize modals.');\n            return;\n        }\n\n        this.log('Initializing Modal Manager...');\n\n        // Discover and cache all modals in context\n        this.discoverModals(context);\n\n        // Set up event delegation (only once for document)\n        if (context === document) {\n            this.setupEventDelegation();\n            this.setupMutationObserver();\n            this._initialized = true;\n        }\n\n        this.log(`Initialized with ${this.modalInstances.size} modals`);\n    }\n\n    /**\n     * Discover all modals in context and cache their instances\n     * Uses data-modal attribute first, falls back to .modal class\n     * @private\n     * @param {Element} context - Context element to search within\n     */\n    static discoverModals(context = document) {\n        // Query by data attribute first, then fall back to class\n        const modalElements = context.querySelectorAll('[data-modal], .modal');\n\n        modalElements.forEach(modalEl => {\n            if (modalEl.id) {\n                // Skip if already cached\n                if (this.modalInstances.has(modalEl.id)) {\n                    return;\n                }\n\n                try {\n                    // Check if modal already has a Bootstrap instance\n                    let instance = bootstrap.Modal.getInstance(modalEl);\n\n                    if (!instance) {\n                        // Create new instance if it doesn't exist\n                        instance = new bootstrap.Modal(modalEl);\n                    }\n\n                    this.modalInstances.set(modalEl.id, instance);\n                    this.log(`Cached modal: ${modalEl.id}`);\n                } catch (error) {\n                    console.error(`[ModalManager] Failed to initialize modal ${modalEl.id}:`, error);\n                }\n            } else {\n                console.warn('[ModalManager] Found modal without ID. Modals should have unique IDs:', modalEl);\n            }\n        });\n    }\n\n    /**\n     * Set up event delegation for data-action triggers\n     * Supports: show-modal, hide-modal, toggle-modal, close-modal\n     * Uses EventDelegation system if available\n     * @private\n     */\n    static setupEventDelegation() {\n        // Use EventDelegation if available\n        if (typeof EventDelegation !== 'undefined') {\n            // Show modal\n            EventDelegation.register('show-modal', (element, e) => {\n                const modalId = element.dataset.modalId;\n                if (modalId) {\n                    const options = this.parseOptionsFromElement(element);\n                    this.show(modalId, options);\n                } else {\n                    console.error('[ModalManager] data-action=\"show-modal\" requires data-modal-id attribute');\n                }\n            }, { preventDefault: true });\n\n            // Hide modal\n            EventDelegation.register('hide-modal', (element, e) => {\n                const modalId = element.dataset.modalId;\n                if (modalId) {\n                    this.hide(modalId);\n                } else {\n                    // Try to find the closest modal and close it\n                    const closestModal = element.closest('[data-modal], .modal');\n                    if (closestModal && closestModal.id) {\n                        this.hide(closestModal.id);\n                    }\n                }\n            }, { preventDefault: true });\n\n            // Close modal (alias for hide)\n            EventDelegation.register('close-modal', (element, e) => {\n                const modalId = element.dataset.modalId;\n                if (modalId) {\n                    this.hide(modalId);\n                } else {\n                    const closestModal = element.closest('[data-modal], .modal');\n                    if (closestModal && closestModal.id) {\n                        this.hide(closestModal.id);\n                    }\n                }\n            }, { preventDefault: true });\n\n            // Toggle modal\n            EventDelegation.register('toggle-modal', (element, e) => {\n                const modalId = element.dataset.modalId;\n                if (modalId) {\n                    this.toggle(modalId);\n                } else {\n                    console.error('[ModalManager] data-action=\"toggle-modal\" requires data-modal-id attribute');\n                }\n            }, { preventDefault: true });\n\n            this.log('Event delegation registered via EventDelegation system');\n        } else {\n            // Fallback: Use standard event delegation\n            document.addEventListener('click', (e) => {\n                const actionElement = e.target.closest('[data-action]');\n                if (!actionElement) return;\n\n                const action = actionElement.dataset.action;\n                const modalId = actionElement.dataset.modalId;\n\n                switch (action) {\n                    case 'show-modal':\n                        if (modalId) {\n                            e.preventDefault();\n                            const options = this.parseOptionsFromElement(actionElement);\n                            this.show(modalId, options);\n                        } else {\n                            console.error('[ModalManager] data-action=\"show-modal\" requires data-modal-id attribute');\n                        }\n                        break;\n\n                    case 'hide-modal':\n                    case 'close-modal':\n                        e.preventDefault();\n                        if (modalId) {\n                            this.hide(modalId);\n                        } else {\n                            // Try to find the closest modal and close it\n                            const closestModal = actionElement.closest('[data-modal], .modal');\n                            if (closestModal && closestModal.id) {\n                                this.hide(closestModal.id);\n                            }\n                        }\n                        break;\n\n                    case 'toggle-modal':\n                        if (modalId) {\n                            e.preventDefault();\n                            this.toggle(modalId);\n                        } else {\n                            console.error('[ModalManager] data-action=\"toggle-modal\" requires data-modal-id attribute');\n                        }\n                        break;\n                }\n            });\n\n            this.log('Event delegation registered via fallback click handler');\n        }\n    }\n\n    /**\n     * Parse modal options from data attributes\n     * @private\n     * @param {Element} element - Element to parse options from\n     * @returns {Object|null} Options object or null\n     */\n    static parseOptionsFromElement(element) {\n        const options = {};\n\n        if (element.dataset.backdrop !== undefined) {\n            options.backdrop = element.dataset.backdrop === 'false' ? false : element.dataset.backdrop;\n        }\n\n        if (element.dataset.keyboard !== undefined) {\n            options.keyboard = element.dataset.keyboard === 'true';\n        }\n\n        if (element.dataset.focus !== undefined) {\n            options.focus = element.dataset.focus === 'true';\n        }\n\n        return Object.keys(options).length > 0 ? options : null;\n    }\n\n    /**\n     * Set up MutationObserver to clean up modal instances when removed from DOM\n     * @private\n     */\n    static setupMutationObserver() {\n        const observer = new MutationObserver((mutations) => {\n            mutations.forEach((mutation) => {\n                mutation.removedNodes.forEach((node) => {\n                    if (node.nodeType === 1) {\n                        // Check if removed node is a modal\n                        const isModal = (node.classList?.contains('modal') || node.hasAttribute?.('data-modal'));\n                        if (isModal && node.id) {\n                            this.cleanup(node.id);\n                        }\n                    }\n                });\n            });\n        });\n\n        observer.observe(document.body, { childList: true, subtree: true });\n    }\n\n    /**\n     * Show a modal by ID\n     * @param {string} modalId - The ID of the modal to show (without # prefix)\n     * @param {Object} options - Bootstrap modal options (backdrop, keyboard, focus)\n     * @returns {boolean} - True if modal was shown successfully, false otherwise\n     */\n    static show(modalId, options = null) {\n        if (!modalId) {\n            console.error('[ModalManager] show() requires a modal ID');\n            return false;\n        }\n\n        this.log(`Showing modal: ${modalId}`);\n\n        // Get or create modal instance\n        let modal = this.modalInstances.get(modalId);\n\n        if (!modal) {\n            // Modal not in cache - try to find and initialize it\n            const modalElement = document.getElementById(modalId);\n\n            if (!modalElement) {\n                console.error(`[ModalManager] Modal element not found: ${modalId}`);\n                return false;\n            }\n\n            try {\n                // Check if Bootstrap already initialized it\n                modal = bootstrap.Modal.getInstance(modalElement);\n\n                if (!modal) {\n                    // Create new instance with options\n                    modal = new bootstrap.Modal(modalElement, options);\n                }\n\n                // Cache for future use\n                this.modalInstances.set(modalId, modal);\n                this.log(`Created and cached new modal: ${modalId}`);\n            } catch (error) {\n                console.error(`[ModalManager] Failed to initialize modal ${modalId}:`, error);\n                return false;\n            }\n        }\n\n        // Show the modal\n        try {\n            modal.show();\n            return true;\n        } catch (error) {\n            console.error(`[ModalManager] Failed to show modal ${modalId}:`, error);\n            return false;\n        }\n    }\n\n    /**\n     * Hide a modal by ID\n     * @param {string} modalId - The ID of the modal to hide (without # prefix)\n     * @returns {boolean} - True if modal was hidden successfully, false otherwise\n     */\n    static hide(modalId) {\n        if (!modalId) {\n            console.error('[ModalManager] hide() requires a modal ID');\n            return false;\n        }\n\n        this.log(`Hiding modal: ${modalId}`);\n\n        const modal = this.modalInstances.get(modalId);\n\n        if (!modal) {\n            console.warn(`[ModalManager] Modal not found in cache: ${modalId}`);\n\n            // Try to find it in DOM and get Bootstrap instance\n            const modalElement = document.getElementById(modalId);\n            if (modalElement) {\n                const instance = bootstrap.Modal.getInstance(modalElement);\n                if (instance) {\n                    try {\n                        instance.hide();\n                        return true;\n                    } catch (error) {\n                        console.error(`[ModalManager] Failed to hide modal ${modalId}:`, error);\n                        return false;\n                    }\n                }\n            }\n\n            return false;\n        }\n\n        try {\n            modal.hide();\n            return true;\n        } catch (error) {\n            console.error(`[ModalManager] Failed to hide modal ${modalId}:`, error);\n            return false;\n        }\n    }\n\n    /**\n     * Toggle a modal (show if hidden, hide if shown)\n     * @param {string} modalId - The ID of the modal to toggle\n     * @returns {boolean} - True if toggle was successful, false otherwise\n     */\n    static toggle(modalId) {\n        if (!modalId) {\n            console.error('[ModalManager] toggle() requires a modal ID');\n            return false;\n        }\n\n        const modal = this.modalInstances.get(modalId);\n\n        if (!modal) {\n            // Modal not in cache - just show it\n            return this.show(modalId);\n        }\n\n        try {\n            modal.toggle();\n            return true;\n        } catch (error) {\n            console.error(`[ModalManager] Failed to toggle modal ${modalId}:`, error);\n            return false;\n        }\n    }\n\n    /**\n     * Get a modal instance by ID\n     * @param {string} modalId - The ID of the modal\n     * @returns {bootstrap.Modal|null} - The Bootstrap modal instance or null\n     */\n    static getInstance(modalId) {\n        return this.modalInstances.get(modalId) || null;\n    }\n\n    /**\n     * Clean up a modal instance from cache\n     * @param {string} modalId - The ID of the modal to clean up\n     */\n    static cleanup(modalId) {\n        if (this.modalInstances.has(modalId)) {\n            this.log(`Cleaning up modal: ${modalId}`);\n\n            try {\n                const modal = this.modalInstances.get(modalId);\n                modal.dispose();\n            } catch (error) {\n                console.warn(`[ModalManager] Error disposing modal ${modalId}:`, error);\n            }\n\n            this.modalInstances.delete(modalId);\n        }\n    }\n\n    /**\n     * Clean up all modal instances\n     */\n    static cleanupAll() {\n        this.log('Cleaning up all modals...');\n\n        this.modalInstances.forEach((modal, modalId) => {\n            try {\n                modal.dispose();\n            } catch (error) {\n                console.warn(`[ModalManager] Error disposing modal ${modalId}:`, error);\n            }\n        });\n\n        this.modalInstances.clear();\n        this.log('All modals cleaned up');\n    }\n\n    /**\n     * Reinitialize - useful after dynamic content loading (HTMX, Turbo, AJAX)\n     * @param {Element} context - Optional context element (defaults to document)\n     */\n    static reinit(context = document) {\n        this.log('Reinitializing Modal Manager...');\n        this.discoverModals(context);\n    }\n\n    /**\n     * Enable debug logging\n     */\n    static enableDebug() {\n        this.DEBUG = true;\n        console.log('[ModalManager] Debug mode enabled');\n    }\n\n    /**\n     * Disable debug logging\n     */\n    static disableDebug() {\n        this.DEBUG = false;\n    }\n\n    /**\n     * Debug logging helper\n     * @private\n     */\n    static log(...args) {\n        if (this.DEBUG) {\n            console.log('[ModalManager]', ...args);\n        }\n    }\n}\n\n// Register with InitSystem if available\nif (typeof window.InitSystem !== 'undefined') {\n    window.InitSystem.register('ModalManager', {\n        priority: 20, // After responsive (10) and admin-base (15), before page-specific components\n        init: function(context) {\n            ModalManager.init(context);\n        }\n    });\n} else {\n    // Fallback to DOMContentLoaded\n    if (document.readyState === 'loading') {\n        document.addEventListener('DOMContentLoaded', () => ModalManager.init());\n    } else {\n        ModalManager.init();\n    }\n}\n\n// Make ModalManager globally available\nwindow.ModalManager = ModalManager;\n\n// Backward compatibility: Maintain the old helper functions\nwindow.safeGetModal = function(modalId) {\n    console.warn('[Deprecated] safeGetModal() is deprecated. Use ModalManager.getInstance() instead.');\n    return ModalManager.getInstance(modalId);\n};\n\nwindow.safeShowModal = function(modalId) {\n    console.warn('[Deprecated] safeShowModal() is deprecated. Use ModalManager.show() instead.');\n    return ModalManager.show(modalId);\n};\n","'use strict';\n\n/**\n * ECS Theme Configuration\n * Colors are read from CSS variables defined in core/variables.css\n * This ensures JS and CSS stay in sync with the admin color customization\n */\n\n// Utility function to get CSS variable value\nfunction getCSSVariable(name, fallback) {\n  const value = getComputedStyle(document.documentElement).getPropertyValue(name).trim();\n  return value || fallback;\n}\n\n// Initialize colors from CSS variables (called after DOM ready)\nfunction initConfigColors() {\n  config.colors = {\n    primary: getCSSVariable('--ecs-primary', '#7C3AED'),\n    success: getCSSVariable('--ecs-success', '#10B981'),\n    danger: getCSSVariable('--ecs-danger', '#EF4444'),\n    warning: getCSSVariable('--ecs-warning', '#F59E0B'),\n    info: getCSSVariable('--ecs-info', '#3B82F6'),\n    secondary: getCSSVariable('--ecs-secondary', '#64748B'),\n    light: getCSSVariable('--ecs-neutral-5', '#FAFAFA'),\n    dark: getCSSVariable('--ecs-neutral-90', '#18181B'),\n  };\n\n  config.colors_label = { ...config.colors };\n\n  config.colors_dark = {\n    cardBg: getCSSVariable('--ecs-dark-bg-card', '#18181B'),\n    bodyBg: getCSSVariable('--ecs-dark-bg-body', '#09090B'),\n    headerBg: getCSSVariable('--ecs-dark-bg-elevated', '#27272A'),\n  };\n}\n\n// JS global variables - initial values (will be updated by initConfigColors)\nlet config = {\n  colors: {\n    primary: '#7C3AED',\n    success: '#10B981',\n    danger: '#EF4444',\n    warning: '#F59E0B',\n    info: '#3B82F6',\n    secondary: '#64748B',\n    light: '#FAFAFA',\n    dark: '#18181B',\n  },\n  colors_label: {\n    primary: '#7C3AED',\n    success: '#10B981',\n    danger: '#EF4444',\n    warning: '#F59E0B',\n    info: '#3B82F6',\n    secondary: '#64748B',\n    light: '#FAFAFA',\n    dark: '#18181B',\n  },\n  colors_dark: {\n    cardBg: '#18181B',\n    bodyBg: '#09090B',\n    headerBg: '#27272A',\n  },\n  enableMenuLocalStorage: true, // Enable menu state with local storage support\n\n  // Set contentWidth to 'wide'\n  contentWidth: 'wide',\n\n  // Additional configurations\n  layout: 'vertical',\n  layoutPadding: 20,\n  // Remove or adjust compactContentWidth if it affects layout\n  // compactContentWidth: 1200, // Optional: Remove or set to a higher value if necessary\n  navbar: {\n    type: 'fixed',\n    contentWidth: 'wide',\n    floating: false,\n    detached: false,\n    blur: false,\n  },\n  // If you have a footer configuration, ensure it is also set to 'wide'\n  footer: {\n    type: 'static', // or 'fixed' based on your needs\n    contentWidth: 'wide', // Ensure footer is also wide\n    detached: false,\n  },\n};\n\n// Paths and RTL support - Use window. to avoid TDZ issues when files are concatenated\nwindow.assetsPath = document.documentElement.getAttribute('data-assets-path');\nwindow.templateName = document.documentElement.getAttribute('data-template');\nwindow.rtlSupport = true; // set to true for RTL support, false otherwise.\n\n// Also expose as local variables for backwards compatibility\nvar assetsPath = window.assetsPath;\nvar templateName = window.templateName;\nvar rtlSupport = window.rtlSupport;\n\n// Set the default content layout to 'wide' and initialize colors from CSS variables\ndocument.addEventListener('DOMContentLoaded', function() {\n  document.documentElement.setAttribute('data-content', 'wide');\n  // Initialize colors from CSS variables after DOM is ready\n  initConfigColors();\n});\n","/**\n * ============================================================================\n * SIDEBAR INTERACTIONS - MODERN EVENT DELEGATION\n * ============================================================================\n *\n * Handles all sidebar navigation interactions using event delegation.\n * Zero inline event handlers - all actions use data-action attributes.\n *\n * Features:\n * - Sidebar toggle (mobile & desktop)\n * - Submenu expansion/collapse\n * - Active state management\n * - Keyboard navigation support\n * - Touch-friendly interactions\n * - Accessibility (ARIA attributes)\n *\n * Architecture:\n * - Event delegation from document root\n * - Data-action attribute routing\n * - State classes (is-open, is-active)\n * - No direct DOM manipulation outside state classes\n * - Mobile-first responsive behavior\n *\n * ============================================================================\n */\n\n(function () {\n  'use strict';\n\n  /**\n   * Configuration\n   */\n  const CONFIG = {\n    selectors: {\n      sidebar: '.c-sidebar',\n      sidebarToggle: '[data-action=\"toggle-sidebar\"]',\n      submenuToggle: '[data-action=\"toggle-submenu\"]',\n      expandableItem: '[data-expandable]',\n      noActiveSeason: '[data-action=\"no-active-season\"]',\n    },\n    classes: {\n      open: 'is-open',\n      active: 'is-active',\n      collapsed: 'layout-menu-collapsed',\n    },\n    storage: {\n      collapsedKey: 'sidebar-collapsed',\n    },\n    breakpoints: {\n      desktop: 1200,\n    },\n  };\n\n  /**\n   * State management\n   */\n  const State = {\n    isDesktop: window.innerWidth >= CONFIG.breakpoints.desktop,\n    isSidebarOpen: false,\n    collapsedState: localStorage.getItem(CONFIG.storage.collapsedKey) === 'true',\n  };\n\n  /**\n   * DOM references (cached for performance)\n   */\n  let sidebar = null;\n\n  /**\n   * ============================================================================\n   * INITIALIZATION\n   * ============================================================================\n   */\n\n  function init() {\n    // Cache DOM references\n    sidebar = document.querySelector(CONFIG.selectors.sidebar);\n\n    if (!sidebar) {\n      console.warn('Sidebar not found');\n      return;\n    }\n\n    // Restore collapsed state on desktop\n    if (State.isDesktop && State.collapsedState) {\n      document.body.classList.add(CONFIG.classes.collapsed);\n    }\n\n    // Set up event delegation\n    setupEventDelegation();\n\n    // Set up keyboard navigation\n    setupKeyboardNavigation();\n\n    // Handle window resize\n    setupResizeHandler();\n\n    // Set initial ARIA attributes\n    setupAriaAttributes();\n\n    console.log('Sidebar interactions initialized');\n  }\n\n  /**\n   * ============================================================================\n   * EVENT DELEGATION\n   * ============================================================================\n   */\n\n  function setupEventDelegation() {\n    // Global click handler for all sidebar actions\n    document.addEventListener('click', handleClick);\n\n    // Close sidebar when clicking outside on mobile\n    document.addEventListener('click', handleOutsideClick);\n  }\n\n  function handleClick(event) {\n    const target = event.target;\n    const action = target.closest('[data-action]')?.getAttribute('data-action');\n\n    if (!action) return;\n\n    // Route to appropriate handler\n    switch (action) {\n      case 'toggle-sidebar':\n      case 'toggle-menu':\n        // Both toggle-sidebar (from sidebar) and toggle-menu (from navbar) do the same thing\n        event.preventDefault();\n        handleSidebarToggle();\n        break;\n\n      case 'close-menu':\n        // Close menu action (from overlay)\n        event.preventDefault();\n        if (!State.isDesktop) {\n          closeSidebar();\n        }\n        break;\n\n      case 'toggle-submenu':\n        event.preventDefault();\n        handleSubmenuToggle(target);\n        break;\n\n      case 'no-active-season':\n        event.preventDefault();\n        handleNoActiveSeason();\n        break;\n\n      case 'navigate':\n      case 'navigate-home':\n        // Allow default navigation\n        // Close sidebar on mobile after navigation\n        if (!State.isDesktop) {\n          closeSidebar();\n        }\n        break;\n    }\n  }\n\n  function handleOutsideClick(event) {\n    // Only on mobile\n    if (State.isDesktop) return;\n\n    // Only if sidebar is open\n    if (!State.isSidebarOpen) return;\n\n    // Check if click is outside sidebar\n    if (!sidebar.contains(event.target)) {\n      closeSidebar();\n    }\n  }\n\n  /**\n   * ============================================================================\n   * SIDEBAR TOGGLE\n   * ============================================================================\n   */\n\n  function handleSidebarToggle() {\n    if (State.isDesktop) {\n      // Desktop: Toggle collapsed state\n      toggleCollapsedState();\n    } else {\n      // Mobile: Toggle open/close\n      toggleMobileSidebar();\n    }\n  }\n\n  function toggleCollapsedState() {\n    const isCollapsed = document.body.classList.toggle(CONFIG.classes.collapsed);\n    State.collapsedState = isCollapsed;\n\n    // Save to localStorage\n    localStorage.setItem(CONFIG.storage.collapsedKey, isCollapsed);\n\n    // Update ARIA\n    const toggle = sidebar.querySelector(CONFIG.selectors.sidebarToggle);\n    if (toggle) {\n      toggle.setAttribute('aria-label', isCollapsed ? 'Expand navigation menu' : 'Collapse navigation menu');\n    }\n\n    console.log('Sidebar collapsed state:', isCollapsed);\n  }\n\n  function toggleMobileSidebar() {\n    if (State.isSidebarOpen) {\n      closeSidebar();\n    } else {\n      openSidebar();\n    }\n  }\n\n  function openSidebar() {\n    sidebar.classList.add(CONFIG.classes.open);\n    State.isSidebarOpen = true;\n\n    // Add layout-menu-expanded class to HTML for CSS compatibility with foundation.css\n    document.documentElement.classList.add('layout-menu-expanded');\n\n    // Show the existing overlay (from base.html)\n    const overlay = document.querySelector('.layout-overlay');\n    if (overlay) {\n      overlay.classList.add('show');\n    }\n\n    // Update ARIA\n    sidebar.setAttribute('aria-hidden', 'false');\n\n    // Trap focus in sidebar\n    trapFocus(sidebar);\n\n    console.log('Sidebar opened');\n  }\n\n  function closeSidebar() {\n    sidebar.classList.remove(CONFIG.classes.open);\n    State.isSidebarOpen = false;\n\n    // Remove layout-menu-expanded class from HTML\n    document.documentElement.classList.remove('layout-menu-expanded');\n\n    // Hide the existing overlay\n    const overlay = document.querySelector('.layout-overlay');\n    if (overlay) {\n      overlay.classList.remove('show');\n    }\n\n    // Update ARIA\n    sidebar.setAttribute('aria-hidden', 'true');\n\n    // Release focus trap\n    releaseFocus();\n\n    console.log('Sidebar closed');\n  }\n\n  /**\n   * ============================================================================\n   * SUBMENU TOGGLE\n   * ============================================================================\n   */\n\n  function handleSubmenuToggle(button) {\n    const item = button.closest(CONFIG.selectors.expandableItem);\n    if (!item) return;\n\n    const isOpen = item.classList.toggle(CONFIG.classes.open);\n\n    // Update ARIA\n    button.setAttribute('aria-expanded', isOpen);\n\n    // Close other submenus at the same level (optional - comment out for accordion behavior)\n    // closeOtherSubmenus(item);\n\n    console.log('Submenu toggled:', isOpen);\n  }\n\n  function closeOtherSubmenus(currentItem) {\n    const parent = currentItem.parentElement;\n    const siblings = Array.from(parent.children).filter(\n      child => child !== currentItem && child.matches(CONFIG.selectors.expandableItem)\n    );\n\n    siblings.forEach(sibling => {\n      sibling.classList.remove(CONFIG.classes.open);\n      const toggle = sibling.querySelector(CONFIG.selectors.submenuToggle);\n      if (toggle) {\n        toggle.setAttribute('aria-expanded', 'false');\n      }\n    });\n  }\n\n  /**\n   * ============================================================================\n   * SPECIAL ACTIONS\n   * ============================================================================\n   */\n\n  function handleNoActiveSeason() {\n    alert('No active Pub League season');\n  }\n\n  /**\n   * ============================================================================\n   * KEYBOARD NAVIGATION\n   * ============================================================================\n   */\n\n  function setupKeyboardNavigation() {\n    sidebar.addEventListener('keydown', handleKeyDown);\n  }\n\n  function handleKeyDown(event) {\n    const { key, target } = event;\n\n    // Escape closes sidebar on mobile\n    if (key === 'Escape' && !State.isDesktop) {\n      closeSidebar();\n      return;\n    }\n\n    // Only handle navigation within links and buttons\n    if (!target.matches('a, button')) return;\n\n    switch (key) {\n      case 'ArrowUp':\n        event.preventDefault();\n        focusPreviousItem(target);\n        break;\n\n      case 'ArrowDown':\n        event.preventDefault();\n        focusNextItem(target);\n        break;\n\n      case 'Home':\n        event.preventDefault();\n        focusFirstItem();\n        break;\n\n      case 'End':\n        event.preventDefault();\n        focusLastItem();\n        break;\n    }\n  }\n\n  function focusPreviousItem(currentElement) {\n    const focusable = getFocusableElements();\n    const currentIndex = focusable.indexOf(currentElement);\n    const previousIndex = currentIndex > 0 ? currentIndex - 1 : focusable.length - 1;\n    focusable[previousIndex]?.focus();\n  }\n\n  function focusNextItem(currentElement) {\n    const focusable = getFocusableElements();\n    const currentIndex = focusable.indexOf(currentElement);\n    const nextIndex = currentIndex < focusable.length - 1 ? currentIndex + 1 : 0;\n    focusable[nextIndex]?.focus();\n  }\n\n  function focusFirstItem() {\n    const focusable = getFocusableElements();\n    focusable[0]?.focus();\n  }\n\n  function focusLastItem() {\n    const focusable = getFocusableElements();\n    focusable[focusable.length - 1]?.focus();\n  }\n\n  function getFocusableElements() {\n    return Array.from(\n      sidebar.querySelectorAll('a[href], button:not([disabled])')\n    ).filter(el => !el.closest('.c-sidebar__link--disabled'));\n  }\n\n  /**\n   * ============================================================================\n   * ARIA ATTRIBUTES\n   * ============================================================================\n   */\n\n  function setupAriaAttributes() {\n    // Set sidebar role and label\n    if (!sidebar.hasAttribute('role')) {\n      sidebar.setAttribute('role', 'navigation');\n    }\n    if (!sidebar.hasAttribute('aria-label')) {\n      sidebar.setAttribute('aria-label', 'Main navigation');\n    }\n\n    // Set initial aria-hidden for mobile\n    if (!State.isDesktop) {\n      sidebar.setAttribute('aria-hidden', 'true');\n    }\n\n    // Set aria-expanded for all toggle buttons\n    const toggles = sidebar.querySelectorAll(CONFIG.selectors.submenuToggle);\n    toggles.forEach(toggle => {\n      const item = toggle.closest(CONFIG.selectors.expandableItem);\n      const isOpen = item?.classList.contains(CONFIG.classes.open);\n      toggle.setAttribute('aria-expanded', isOpen);\n    });\n  }\n\n  /**\n   * ============================================================================\n   * FOCUS TRAP (MOBILE)\n   * ============================================================================\n   */\n\n  let focusTrapActive = false;\n  let firstFocusableElement = null;\n  let lastFocusableElement = null;\n\n  function trapFocus(container) {\n    const focusableElements = getFocusableElements();\n    firstFocusableElement = focusableElements[0];\n    lastFocusableElement = focusableElements[focusableElements.length - 1];\n\n    focusTrapActive = true;\n\n    // Focus first element\n    firstFocusableElement?.focus();\n\n    // Handle tab key\n    document.addEventListener('keydown', handleFocusTrap);\n  }\n\n  function releaseFocus() {\n    focusTrapActive = false;\n    document.removeEventListener('keydown', handleFocusTrap);\n  }\n\n  function handleFocusTrap(event) {\n    if (!focusTrapActive || event.key !== 'Tab') return;\n\n    if (event.shiftKey) {\n      // Shift + Tab\n      if (document.activeElement === firstFocusableElement) {\n        event.preventDefault();\n        lastFocusableElement?.focus();\n      }\n    } else {\n      // Tab\n      if (document.activeElement === lastFocusableElement) {\n        event.preventDefault();\n        firstFocusableElement?.focus();\n      }\n    }\n  }\n\n  /**\n   * ============================================================================\n   * BACKDROP (MOBILE)\n   * ============================================================================\n   */\n\n  function createBackdrop() {\n    if (document.querySelector('.c-sidebar-backdrop')) return;\n\n    const backdrop = document.createElement('div');\n    backdrop.className = 'c-sidebar-backdrop';\n    backdrop.style.cssText = `\n      position: fixed;\n      top: 0;\n      left: 0;\n      right: 0;\n      bottom: 0;\n      background: rgba(0, 0, 0, 0.5);\n      z-index: ${parseInt(getComputedStyle(sidebar).zIndex) - 1};\n      transition: opacity 0.3s ease;\n    `;\n    document.body.appendChild(backdrop);\n\n    // Fade in\n    setTimeout(() => {\n      backdrop.style.opacity = '1';\n    }, 10);\n  }\n\n  function removeBackdrop() {\n    const backdrop = document.querySelector('.c-sidebar-backdrop');\n    if (!backdrop) return;\n\n    backdrop.style.opacity = '0';\n    setTimeout(() => {\n      backdrop.remove();\n    }, 300);\n  }\n\n  /**\n   * ============================================================================\n   * RESIZE HANDLER\n   * ============================================================================\n   */\n\n  function setupResizeHandler() {\n    let resizeTimeout;\n\n    window.addEventListener('resize', () => {\n      clearTimeout(resizeTimeout);\n      resizeTimeout = setTimeout(handleResize, 150);\n    });\n  }\n\n  function handleResize() {\n    const wasDesktop = State.isDesktop;\n    State.isDesktop = window.innerWidth >= CONFIG.breakpoints.desktop;\n\n    // Desktop to mobile transition\n    if (wasDesktop && !State.isDesktop) {\n      // Close mobile sidebar\n      closeSidebar();\n      // Remove collapsed class\n      document.body.classList.remove(CONFIG.classes.collapsed);\n    }\n\n    // Mobile to desktop transition\n    if (!wasDesktop && State.isDesktop) {\n      // Close mobile sidebar\n      closeSidebar();\n      // Restore collapsed state\n      if (State.collapsedState) {\n        document.body.classList.add(CONFIG.classes.collapsed);\n      }\n    }\n  }\n\n  /**\n   * ============================================================================\n   * PUBLIC API\n   * ============================================================================\n   */\n\n  window.SidebarInteractions = {\n    open: openSidebar,\n    close: closeSidebar,\n    toggle: handleSidebarToggle,\n    collapse: () => {\n      if (State.isDesktop && !State.collapsedState) {\n        toggleCollapsedState();\n      }\n    },\n    expand: () => {\n      if (State.isDesktop && State.collapsedState) {\n        toggleCollapsedState();\n      }\n    },\n  };\n\n  /**\n   * ============================================================================\n   * AUTO-INITIALIZE\n   * ============================================================================\n   */\n\n  // Register with InitSystem if available\n  if (typeof window.InitSystem !== 'undefined' && window.InitSystem.register) {\n    window.InitSystem.register('sidebar-interactions', init, {\n      priority: 80,\n      description: 'Sidebar toggle, collapse, and mobile drawer interactions',\n      reinitializable: false\n    });\n  } else {\n    // Fallback: Initialize on DOM ready\n    if (document.readyState === 'loading') {\n      document.addEventListener('DOMContentLoaded', init);\n    } else {\n      init();\n    }\n  }\n})();\n","/**\n * ============================================================================\n * MODERN NAVBAR CONTROLLER - BEM ARCHITECTURE\n * ============================================================================\n *\n * Handles all navbar interactions with smooth animations and proper state management.\n * Uses EventDelegation for optimal performance and maintainability.\n *\n * Features:\n * - Dropdown management (theme, notifications, profile, impersonation)\n * - Search autocomplete integration\n * - Scroll state tracking\n * - Mobile menu toggle\n * - Keyboard navigation (Escape to close, Arrow keys for items)\n * - Outside click detection\n * - Badge animations\n * - Role impersonation management\n *\n * Architecture:\n * - Event delegation via EventDelegation system\n * - State management via classList and ARIA attributes\n * - No inline styles (all via CSS classes)\n * - BEM naming conventions\n * - Full accessibility support\n * - Proper cleanup on destroy\n *\n * ============================================================================\n */\n\nclass ModernNavbarController {\n  constructor() {\n    this.navbar = document.querySelector('.c-navbar-modern');\n    if (!this.navbar) {\n      console.warn('Modern navbar not found');\n      return;\n    }\n\n    this.activeDropdown = null;\n    this.lastScrollTop = 0;\n    this.scrollThreshold = 50;\n\n    this.init();\n  }\n\n  /**\n   * Get CSRF token from meta tag, input field, or cookie\n   */\n  getCSRFToken() {\n    // Try meta tag first\n    const csrfMeta = document.querySelector('meta[name=\"csrf-token\"]');\n    if (csrfMeta) {\n      return csrfMeta.getAttribute('content');\n    }\n\n    // Try hidden input field\n    const csrfInput = document.querySelector('input[name=\"csrf_token\"]');\n    if (csrfInput) {\n      return csrfInput.value;\n    }\n\n    // Try cookie\n    const cookies = document.cookie.split(';');\n    for (const cookie of cookies) {\n      const [name, value] = cookie.trim().split('=');\n      if (name === 'csrf_token') {\n        return decodeURIComponent(value);\n      }\n    }\n\n    return '';\n  }\n\n  init() {\n    this.registerEventHandlers();\n    this.attachEventListeners();\n    this.initScrollTracking();\n    this.initSearch();\n    this.initNotifications();\n    this.initRoleImpersonation();\n    this.initTheme();\n    this.initPresence();\n  }\n\n  /**\n   * Register all data-action handlers via EventDelegation\n   */\n  registerEventHandlers() {\n    if (typeof EventDelegation === 'undefined') {\n      console.warn('[Navbar] EventDelegation not available, using fallback');\n      return;\n    }\n\n    // Mobile menu toggle\n    EventDelegation.register('toggle-menu', (element, e) => {\n      this.toggleMobileMenu();\n    }, { preventDefault: true });\n\n    // Dropdown toggles\n    EventDelegation.register('toggle-dropdown', (element, e) => {\n      const dropdownId = element.dataset.dropdown;\n      if (dropdownId) {\n        this.toggleDropdown(dropdownId);\n      }\n    }, { preventDefault: true });\n\n    // Theme switcher\n    EventDelegation.register('switch-theme', (element, e) => {\n      const theme = element.dataset.theme;\n      if (theme) {\n        this.switchTheme(theme);\n      }\n    }, { preventDefault: true });\n\n    // Role impersonation\n    EventDelegation.register('start-impersonation', (element, e) => {\n      this.startRoleImpersonation();\n    }, { preventDefault: true });\n\n    EventDelegation.register('stop-impersonation', (element, e) => {\n      this.stopRoleImpersonation();\n    }, { preventDefault: true });\n\n    // Notification actions\n    EventDelegation.register('mark-read', (element, e) => {\n      const notificationId = element.dataset.notificationId;\n      if (notificationId) {\n        this.markNotificationRead(notificationId);\n      }\n    }, { preventDefault: true });\n\n    EventDelegation.register('mark-all-read', (element, e) => {\n      this.markAllNotificationsRead();\n    }, { preventDefault: true });\n\n    EventDelegation.register('clear-all-notifications', (element, e) => {\n      this.clearAllNotifications();\n    }, { preventDefault: true });\n\n    EventDelegation.register('dismiss-notification', (element, e) => {\n      const notificationId = element.dataset.notificationId;\n      if (notificationId) {\n        this.dismissNotification(notificationId);\n      }\n    }, { preventDefault: true, stopPropagation: true });\n\n    EventDelegation.register('expand-notification', (element, e) => {\n      const notificationId = element.dataset.notificationId;\n      if (notificationId) {\n        this.toggleNotificationExpand(notificationId);\n      }\n    }, { preventDefault: true });\n\n    // Logout\n    EventDelegation.register('logout', (element, e) => {\n      this.handleLogout();\n    }, { preventDefault: true });\n  }\n\n  /**\n   * Attach event listeners (non data-action events)\n   */\n  attachEventListeners() {\n    // Keyboard navigation\n    document.addEventListener('keydown', this.handleKeyboard.bind(this));\n\n    // Close dropdowns on outside click\n    document.addEventListener('click', this.handleOutsideClick.bind(this));\n  }\n\n  /**\n   * Handle keyboard navigation\n   */\n  handleKeyboard(e) {\n    // Escape key - close all dropdowns\n    if (e.key === 'Escape' && this.activeDropdown) {\n      this.closeDropdown(this.activeDropdown);\n      return;\n    }\n\n    // Arrow keys for dropdown navigation\n    if (this.activeDropdown && (e.key === 'ArrowDown' || e.key === 'ArrowUp')) {\n      e.preventDefault();\n      this.navigateDropdown(e.key);\n      return;\n    }\n  }\n\n  /**\n   * Close dropdown when clicking outside\n   */\n  handleOutsideClick(e) {\n    if (!this.activeDropdown) return;\n\n    const dropdown = document.querySelector(`[data-dropdown-id=\"${this.activeDropdown}\"]`);\n    const toggle = document.querySelector(`[data-dropdown=\"${this.activeDropdown}\"]`);\n\n    if (dropdown && !dropdown.contains(e.target) && toggle && !toggle.contains(e.target)) {\n      this.closeDropdown(this.activeDropdown);\n    }\n  }\n\n  /**\n   * Toggle dropdown open/closed\n   */\n  toggleDropdown(dropdownId) {\n    const dropdown = document.querySelector(`[data-dropdown-id=\"${dropdownId}\"]`);\n    if (!dropdown) return;\n\n    // Close other dropdowns first\n    if (this.activeDropdown && this.activeDropdown !== dropdownId) {\n      this.closeDropdown(this.activeDropdown);\n    }\n\n    const isOpen = dropdown.classList.contains('is-open');\n\n    if (isOpen) {\n      this.closeDropdown(dropdownId);\n    } else {\n      this.openDropdown(dropdownId);\n    }\n  }\n\n  /**\n   * Open a dropdown with animation\n   */\n  openDropdown(dropdownId) {\n    const dropdown = document.querySelector(`[data-dropdown-id=\"${dropdownId}\"]`);\n    const toggle = document.querySelector(`[data-dropdown=\"${dropdownId}\"]`);\n\n    if (!dropdown) return;\n\n    // Add open class for CSS animation\n    dropdown.classList.add('is-open');\n    dropdown.setAttribute('aria-hidden', 'false');\n\n    if (toggle) {\n      toggle.classList.add('is-active');\n      toggle.setAttribute('aria-expanded', 'true');\n    }\n\n    this.activeDropdown = dropdownId;\n\n    // Stagger animation for dropdown items\n    this.staggerDropdownItems(dropdown);\n  }\n\n  /**\n   * Close a dropdown\n   */\n  closeDropdown(dropdownId) {\n    const dropdown = document.querySelector(`[data-dropdown-id=\"${dropdownId}\"]`);\n    const toggle = document.querySelector(`[data-dropdown=\"${dropdownId}\"]`);\n\n    if (!dropdown) return;\n\n    dropdown.classList.remove('is-open');\n    dropdown.setAttribute('aria-hidden', 'true');\n\n    if (toggle) {\n      toggle.classList.remove('is-active');\n      toggle.setAttribute('aria-expanded', 'false');\n    }\n\n    if (this.activeDropdown === dropdownId) {\n      this.activeDropdown = null;\n    }\n  }\n\n  /**\n   * Stagger animation for dropdown items (smooth reveal)\n   */\n  staggerDropdownItems(dropdown) {\n    const items = dropdown.querySelectorAll('.c-navbar-modern__dropdown-item');\n\n    items.forEach((item, index) => {\n      item.style.opacity = '0';\n      item.style.transform = 'translateX(-8px)';\n\n      setTimeout(() => {\n        item.style.transition = 'all 0.3s cubic-bezier(0.4, 0, 0.2, 1)';\n        item.style.opacity = '1';\n        item.style.transform = 'translateX(0)';\n      }, index * 30);\n    });\n  }\n\n  /**\n   * Navigate dropdown items with arrow keys\n   */\n  navigateDropdown(direction) {\n    const dropdown = document.querySelector(`[data-dropdown-id=\"${this.activeDropdown}\"]`);\n    if (!dropdown) return;\n\n    const items = Array.from(dropdown.querySelectorAll('.c-navbar-modern__dropdown-item:not([disabled])'));\n    const currentIndex = items.findIndex(item => item === document.activeElement);\n\n    let nextIndex;\n    if (direction === 'ArrowDown') {\n      nextIndex = currentIndex < items.length - 1 ? currentIndex + 1 : 0;\n    } else {\n      nextIndex = currentIndex > 0 ? currentIndex - 1 : items.length - 1;\n    }\n\n    items[nextIndex]?.focus();\n  }\n\n  /**\n   * Toggle mobile menu\n   */\n  toggleMobileMenu() {\n    const toggle = document.querySelector('[data-action=\"toggle-menu\"]');\n    const menu = document.querySelector('[data-mobile-menu]');\n\n    if (!toggle || !menu) return;\n\n    const isOpen = toggle.classList.contains('is-open');\n\n    if (isOpen) {\n      toggle.classList.remove('is-open');\n      menu.classList.remove('is-open');\n      document.body.style.overflow = '';\n    } else {\n      toggle.classList.add('is-open');\n      menu.classList.add('is-open');\n      document.body.style.overflow = 'hidden';\n    }\n  }\n\n  /**\n   * Track scroll position and add shadow when scrolled\n   */\n  initScrollTracking() {\n    let ticking = false;\n\n    window.addEventListener('scroll', () => {\n      if (!ticking) {\n        window.requestAnimationFrame(() => {\n          const scrollTop = window.pageYOffset || document.documentElement.scrollTop;\n\n          if (scrollTop > this.scrollThreshold) {\n            this.navbar.classList.add('is-scrolled');\n          } else {\n            this.navbar.classList.remove('is-scrolled');\n          }\n\n          this.lastScrollTop = scrollTop;\n          ticking = false;\n        });\n\n        ticking = true;\n      }\n    });\n  }\n\n  /**\n   * Initialize search functionality\n   */\n  initSearch() {\n    const searchInput = document.querySelector('.c-navbar-modern__search-input');\n    if (!searchInput) return;\n\n    // Prevent form submission\n    const form = searchInput.closest('form');\n    if (form) {\n      form.addEventListener('submit', (e) => {\n        e.preventDefault();\n      });\n    }\n\n    // Search input handling (integrate with autocomplete if available)\n    let searchTimeout;\n    searchInput.addEventListener('input', (e) => {\n      clearTimeout(searchTimeout);\n\n      const query = e.target.value.trim();\n\n      if (query.length >= 2) {\n        searchTimeout = setTimeout(() => {\n          this.performSearch(query);\n        }, 300);\n      }\n    });\n\n    // Focus animation\n    searchInput.addEventListener('focus', () => {\n      searchInput.parentElement.classList.add('is-focused');\n    });\n\n    searchInput.addEventListener('blur', () => {\n      searchInput.parentElement.classList.remove('is-focused');\n    });\n  }\n\n  /**\n   * Perform search (integrate with existing autocomplete)\n   */\n  performSearch(query) {\n    // This integrates with the existing player search autocomplete\n    // Trigger the existing search functionality\n    if (typeof window.initializePlayerSearch === 'function') {\n      // Use existing search function\n      console.log('Searching for:', query);\n    }\n  }\n\n  /**\n   * Switch theme (light/dark/system)\n   */\n  switchTheme(theme) {\n    // Close dropdown\n    this.closeDropdown('theme');\n\n    // Determine actual theme (handle system preference)\n    let actualTheme = theme;\n    if (theme === 'system') {\n      actualTheme = window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light';\n    }\n\n    // Update all theme attributes that different CSS selectors may use\n    const html = document.documentElement;\n    const body = document.body;\n\n    // Set data-style attribute (used by our modern CSS)\n    html.setAttribute('data-style', actualTheme);\n\n    // Set data-bs-theme (Bootstrap 5.3+)\n    html.setAttribute('data-bs-theme', actualTheme);\n    body.setAttribute('data-bs-theme', actualTheme);\n\n    // Set data-theme (generic)\n    html.setAttribute('data-theme', actualTheme);\n\n    // Set Vuexy-specific class\n    if (actualTheme === 'dark') {\n      html.classList.add('dark-style');\n      html.classList.remove('light-style');\n    } else {\n      html.classList.add('light-style');\n      html.classList.remove('dark-style');\n    }\n\n    // Store preference\n    localStorage.setItem('theme', theme);\n    localStorage.setItem('templateCustomizer-skin', actualTheme);\n\n    // Update icon\n    const icon = document.querySelector('[data-role=\"theme-icon\"]');\n    if (icon) {\n      const iconClass = {\n        light: 'ti-sun',\n        dark: 'ti-moon-stars',\n        system: 'ti-device-desktop'\n      }[theme] || 'ti-moon-stars';\n\n      icon.className = `c-navbar-modern__theme-icon ti ${iconClass}`;\n    }\n\n    // Update active state in dropdown\n    const options = document.querySelectorAll('[data-action=\"switch-theme\"]');\n    options.forEach(option => {\n      if (option.dataset.theme === theme) {\n        option.classList.add('is-active');\n      } else {\n        option.classList.remove('is-active');\n      }\n    });\n\n    // Show toast notification\n    this.showToast(`Theme switched to ${theme} mode`);\n  }\n\n  /**\n   * Start role impersonation\n   */\n  startRoleImpersonation() {\n    // Get selected roles from checkboxes\n    const checkboxes = document.querySelectorAll('input[name=\"impersonate_roles\"]:checked');\n    const selectedRoles = Array.from(checkboxes).map(cb => cb.value);\n\n    if (selectedRoles.length === 0) {\n      this.showToast('Please select at least one role', 'warning');\n      return;\n    }\n\n    // Make API call to start impersonation\n    fetch('/admin-panel/user-management/impersonate', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n        'X-CSRFToken': this.getCSRFToken(),\n      },\n      body: JSON.stringify({ roles: selectedRoles })\n    })\n    .then(response => response.json())\n    .then(data => {\n      if (data.success) {\n        // Update UI to show impersonation is active\n        const button = document.querySelector('[data-dropdown=\"impersonation\"]');\n        if (button) {\n          button.classList.add('c-navbar-modern__impersonation-active');\n        }\n\n        // Show badge\n        const badge = button?.querySelector('.c-navbar-modern__badge');\n        if (badge) {\n          badge.classList.remove('u-hidden');\n        }\n\n        // Hide normal status, show active status\n        const normalStatus = document.getElementById('currentRoleStatus');\n        const activeStatus = document.getElementById('activeImpersonationStatus');\n        const activeRolesList = document.getElementById('activeRolesList');\n\n        if (normalStatus) normalStatus.classList.add('u-hidden');\n        if (activeStatus) {\n          activeStatus.classList.remove('u-hidden');\n          if (activeRolesList) {\n            activeRolesList.innerHTML = selectedRoles.map(role =>\n              `<span class=\"c-role-status__role-tag\">${role}</span>`\n            ).join('');\n          }\n        }\n\n        this.closeDropdown('impersonation');\n        this.showToast('Role testing started', 'success');\n\n        // Reload page to apply new permissions\n        setTimeout(() => window.location.reload(), 1000);\n      } else {\n        this.showToast(data.message || 'Failed to start role testing', 'error');\n      }\n    })\n    .catch(error => {\n      console.error('Impersonation error:', error);\n      this.showToast('An error occurred', 'error');\n    });\n  }\n\n  /**\n   * Stop role impersonation\n   */\n  stopRoleImpersonation() {\n    fetch('/admin-panel/user-management/stop-impersonate', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n        'X-CSRFToken': this.getCSRFToken(),\n      }\n    })\n    .then(response => response.json())\n    .then(data => {\n      if (data.success) {\n        this.showToast('Impersonation stopped', 'success');\n        setTimeout(() => window.location.reload(), 1000);\n      }\n    })\n    .catch(error => {\n      console.error('Stop impersonation error:', error);\n    });\n  }\n\n  /**\n   * Mark notification as read\n   */\n  async markNotificationRead(notificationId) {\n    const notification = document.querySelector(`[data-notification-id=\"${notificationId}\"]`);\n    if (!notification) return;\n\n    // Optimistically update UI\n    notification.classList.remove('is-unread');\n\n    try {\n      const response = await fetch(`/api/notifications/${notificationId}/read`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          'X-CSRFToken': this.getCSRFToken(),\n        }\n      });\n\n      const data = await response.json();\n      if (data.success) {\n        this.updateNotificationBadge(data.unread_count);\n      }\n    } catch (error) {\n      console.error('Mark notification read error:', error);\n      // Revert on error\n      notification.classList.add('is-unread');\n    }\n  }\n\n  /**\n   * Mark all notifications as read\n   */\n  async markAllNotificationsRead() {\n    const notifications = document.querySelectorAll('.c-navbar-modern__notification.is-unread');\n\n    // Optimistically update UI\n    notifications.forEach(notification => {\n      notification.classList.remove('is-unread');\n    });\n\n    try {\n      const response = await fetch('/api/notifications/mark-all-read', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          'X-CSRFToken': this.getCSRFToken(),\n        }\n      });\n\n      const data = await response.json();\n      if (data.success) {\n        this.updateNotificationBadge(0);\n        this.showToast('All notifications marked as read', 'success');\n      }\n    } catch (error) {\n      console.error('Mark all read error:', error);\n      // Revert - reload notifications\n      this.loadNotifications();\n    }\n  }\n\n  /**\n   * Handle logout\n   */\n  handleLogout() {\n    const form = document.querySelector('#logout-form');\n    if (form) {\n      form.submit();\n    }\n  }\n\n  /**\n   * Initialize notifications\n   */\n  initNotifications() {\n    // Load notifications on page load\n    this.loadNotifications();\n\n    // Refresh notification count periodically (every 60 seconds)\n    setInterval(() => this.refreshNotificationCount(), 60000);\n  }\n\n  /**\n   * Load notifications from API\n   */\n  async loadNotifications() {\n    const container = document.getElementById('notifications-list');\n    if (!container) return;\n\n    const loadingEl = container.querySelector('[data-state=\"loading\"]');\n    const emptyEl = container.querySelector('[data-state=\"empty\"]');\n\n    try {\n      const response = await fetch('/api/notifications?include_read=true&limit=10');\n      const data = await response.json();\n\n      // Hide loading\n      if (loadingEl) loadingEl.classList.add('u-hidden');\n\n      if (data.success && data.notifications.length > 0) {\n        // Hide empty state\n        if (emptyEl) emptyEl.classList.add('u-hidden');\n\n        // Remove existing notifications (but keep loading/empty elements)\n        container.querySelectorAll('.c-navbar-modern__notification').forEach(el => el.remove());\n\n        // Render notifications\n        data.notifications.forEach(notification => {\n          const notifEl = this.createNotificationElement(notification);\n          container.appendChild(notifEl);\n        });\n\n        // Update badge count\n        this.updateNotificationBadge(data.unread_count);\n      } else {\n        // Show empty state\n        if (emptyEl) emptyEl.classList.remove('u-hidden');\n        this.updateNotificationBadge(0);\n      }\n    } catch (error) {\n      console.error('Error loading notifications:', error);\n      if (loadingEl) loadingEl.classList.add('u-hidden');\n      if (emptyEl) {\n        emptyEl.classList.remove('u-hidden');\n        const emptyText = emptyEl.querySelector('p');\n        if (emptyText) emptyText.textContent = 'Failed to load notifications';\n      }\n    }\n  }\n\n  /**\n   * Create a notification DOM element with dismiss button and expandable details\n   */\n  createNotificationElement(notification) {\n    const div = document.createElement('div');\n    div.className = `c-navbar-modern__notification${notification.is_read ? '' : ' is-unread'}`;\n    div.setAttribute('data-notification-id', notification.id);\n    div.setAttribute('role', 'menuitem');\n    div.setAttribute('tabindex', '0');\n\n    // Icon color class\n    const colorClass = notification.icon_color ? `text-${notification.icon_color}` : '';\n\n    // Truncate long messages\n    const truncatedMessage = notification.message.length > 80\n      ? notification.message.substring(0, 80) + '...'\n      : notification.message;\n    const hasMore = notification.message.length > 80;\n\n    div.innerHTML = `\n      <div class=\"c-navbar-modern__notification-main\"\n           data-action=\"expand-notification\"\n           data-notification-id=\"${notification.id}\">\n        <div class=\"c-navbar-modern__notification-icon ${colorClass}\">\n          <i class=\"${notification.icon}\"></i>\n        </div>\n        <div class=\"c-navbar-modern__notification-content\">\n          <p class=\"c-navbar-modern__notification-title\">${this.escapeHtml(notification.title)}</p>\n          <p class=\"c-navbar-modern__notification-text\">${this.escapeHtml(truncatedMessage)}</p>\n          ${hasMore ? '<span class=\"c-navbar-modern__notification-expand-hint\">Click to read more</span>' : ''}\n        </div>\n        <span class=\"c-navbar-modern__notification-time\">${notification.time_ago}</span>\n      </div>\n      <div class=\"c-navbar-modern__notification-expanded u-hidden\" data-expanded-content>\n        <p class=\"c-navbar-modern__notification-full-text\">${this.escapeHtml(notification.message)}</p>\n        <span class=\"c-navbar-modern__notification-date\">${notification.created_at || ''}</span>\n      </div>\n      <button class=\"c-navbar-modern__notification-dismiss\"\n              data-action=\"dismiss-notification\"\n              data-notification-id=\"${notification.id}\"\n              aria-label=\"Dismiss notification\"\n              title=\"Dismiss\">\n        <i class=\"ti ti-x\" aria-hidden=\"true\"></i>\n      </button>\n    `;\n\n    return div;\n  }\n\n  /**\n   * Toggle notification expansion to show full content\n   */\n  toggleNotificationExpand(notificationId) {\n    const notification = document.querySelector(`[data-notification-id=\"${notificationId}\"]`);\n    if (!notification) return;\n\n    const expandedContent = notification.querySelector('[data-expanded-content]');\n    if (!expandedContent) return;\n\n    const isExpanded = notification.classList.contains('is-expanded');\n\n    if (isExpanded) {\n      notification.classList.remove('is-expanded');\n      expandedContent.classList.add('u-hidden');\n    } else {\n      notification.classList.add('is-expanded');\n      expandedContent.classList.remove('u-hidden');\n\n      // Mark as read when expanded\n      const notifElement = notification;\n      if (notifElement.classList.contains('is-unread')) {\n        this.markNotificationRead(notificationId);\n      }\n    }\n  }\n\n  /**\n   * Dismiss (delete) a single notification\n   */\n  async dismissNotification(notificationId) {\n    const notification = document.querySelector(`[data-notification-id=\"${notificationId}\"]`);\n    if (!notification) return;\n\n    // Optimistically remove with animation\n    notification.classList.add('is-dismissing');\n\n    try {\n      const response = await fetch(`/api/notifications/${notificationId}`, {\n        method: 'DELETE',\n        headers: {\n          'Content-Type': 'application/json',\n          'X-CSRFToken': this.getCSRFToken(),\n        }\n      });\n\n      const data = await response.json();\n\n      if (data.success) {\n        // Remove from DOM after animation\n        setTimeout(() => {\n          notification.remove();\n          this.updateNotificationBadge(data.unread_count);\n\n          // Show empty state if no more notifications\n          const container = document.getElementById('notifications-list');\n          const remaining = container.querySelectorAll('.c-navbar-modern__notification');\n          if (remaining.length === 0) {\n            const emptyEl = container.querySelector('[data-state=\"empty\"]');\n            if (emptyEl) emptyEl.classList.remove('u-hidden');\n          }\n        }, 200);\n      } else {\n        // Revert animation on failure\n        notification.classList.remove('is-dismissing');\n        this.showToast('Failed to dismiss notification', 'error');\n      }\n    } catch (error) {\n      console.error('Dismiss notification error:', error);\n      notification.classList.remove('is-dismissing');\n      this.showToast('Failed to dismiss notification', 'error');\n    }\n  }\n\n  /**\n   * Clear all notifications\n   */\n  async clearAllNotifications() {\n    const container = document.getElementById('notifications-list');\n    const notifications = container.querySelectorAll('.c-navbar-modern__notification');\n\n    if (notifications.length === 0) {\n      this.showToast('No notifications to clear', 'info');\n      return;\n    }\n\n    // Confirm with user\n    if (!confirm('Are you sure you want to clear all notifications?')) {\n      return;\n    }\n\n    // Optimistically fade out all\n    notifications.forEach(n => n.classList.add('is-dismissing'));\n\n    try {\n      const response = await fetch('/api/notifications/clear-all', {\n        method: 'DELETE',\n        headers: {\n          'Content-Type': 'application/json',\n          'X-CSRFToken': this.getCSRFToken(),\n        }\n      });\n\n      const data = await response.json();\n\n      if (data.success) {\n        // Remove all from DOM\n        setTimeout(() => {\n          notifications.forEach(n => n.remove());\n          this.updateNotificationBadge(0);\n\n          // Show empty state\n          const emptyEl = container.querySelector('[data-state=\"empty\"]');\n          if (emptyEl) emptyEl.classList.remove('u-hidden');\n\n          this.showToast(`Cleared ${data.deleted_count} notification${data.deleted_count !== 1 ? 's' : ''}`, 'success');\n        }, 200);\n      } else {\n        // Revert on failure\n        notifications.forEach(n => n.classList.remove('is-dismissing'));\n        this.showToast('Failed to clear notifications', 'error');\n      }\n    } catch (error) {\n      console.error('Clear all notifications error:', error);\n      notifications.forEach(n => n.classList.remove('is-dismissing'));\n      this.showToast('Failed to clear notifications', 'error');\n    }\n  }\n\n  /**\n   * Escape HTML to prevent XSS\n   */\n  escapeHtml(text) {\n    const div = document.createElement('div');\n    div.textContent = text;\n    return div.innerHTML;\n  }\n\n  /**\n   * Refresh notification count only (lightweight)\n   */\n  async refreshNotificationCount() {\n    try {\n      const response = await fetch('/api/notifications/count');\n      const data = await response.json();\n      if (data.success) {\n        this.updateNotificationBadge(data.count);\n      }\n    } catch (error) {\n      console.error('Error refreshing notification count:', error);\n    }\n  }\n\n  /**\n   * Update notification badge display\n   */\n  updateNotificationBadge(count) {\n    const badges = document.querySelectorAll('[data-badge=\"notification-count\"]');\n    badges.forEach(badge => {\n      if (count > 0) {\n        badge.textContent = count > 99 ? '99+' : count;\n        badge.classList.remove('u-hidden');\n      } else {\n        badge.classList.add('u-hidden');\n      }\n    });\n  }\n\n  /**\n   * Initialize role impersonation (if available)\n   */\n  initRoleImpersonation() {\n    if (!document.querySelector('[data-dropdown=\"impersonation\"]')) {\n      return;\n    }\n\n    // Load current status\n    this.loadImpersonationStatus();\n\n    // Attach refresh button listener\n    const refreshBtn = document.querySelector('[data-action=\"refresh-roles\"]');\n    if (refreshBtn) {\n      refreshBtn.addEventListener('click', () => this.loadAvailableRoles());\n    }\n\n    // Attach checkbox change listeners\n    const checkboxes = document.querySelectorAll('input[name=\"impersonate_roles\"]');\n    checkboxes.forEach(checkbox => {\n      checkbox.addEventListener('change', () => this.validateRoleSelection());\n    });\n\n    // Attach clear selection listener\n    const clearBtn = document.querySelector('[data-action=\"clear-role-selection\"]');\n    if (clearBtn) {\n      clearBtn.addEventListener('click', (e) => {\n        e.preventDefault();\n        this.clearRoleSelection();\n      });\n    }\n\n    // Initial validation\n    this.validateRoleSelection();\n  }\n\n  /**\n   * Clear all role selections\n   */\n  clearRoleSelection() {\n    const checkboxes = document.querySelectorAll('input[name=\"impersonate_roles\"]');\n    checkboxes.forEach(checkbox => {\n      checkbox.checked = false;\n    });\n    this.validateRoleSelection();\n  }\n\n  /**\n   * Load impersonation status\n   */\n  async loadImpersonationStatus() {\n    try {\n      const response = await fetch('/api/role-impersonation/status');\n      if (!response.ok) throw new Error('Failed to load status');\n\n      const data = await response.json();\n      this.updateImpersonationStatus(data);\n    } catch (error) {\n      console.error('Error loading impersonation status:', error);\n    }\n  }\n\n  /**\n   * Load available roles (refresh from server)\n   */\n  async loadAvailableRoles() {\n    const refreshBtn = document.querySelector('[data-action=\"refresh-roles\"]');\n    if (refreshBtn) {\n      refreshBtn.classList.add('is-loading');\n      const icon = refreshBtn.querySelector('i');\n      if (icon) icon.style.animation = 'spin 1s linear infinite';\n    }\n\n    try {\n      const response = await fetch('/api/role-impersonation/available-roles');\n      if (!response.ok) throw new Error('Failed to load roles');\n\n      const data = await response.json();\n      this.showToast('Roles refreshed', 'success');\n      this.updateImpersonationStatus(data.current_impersonation);\n    } catch (error) {\n      console.error('Error loading available roles:', error);\n      this.showToast('Failed to refresh roles', 'error');\n    } finally {\n      if (refreshBtn) {\n        refreshBtn.classList.remove('is-loading');\n        const icon = refreshBtn.querySelector('i');\n        if (icon) icon.style.animation = '';\n      }\n    }\n  }\n\n  /**\n   * Update impersonation status display\n   */\n  updateImpersonationStatus(data) {\n    const isActive = data && data.active || false;\n    const normalStatus = document.getElementById('currentRoleStatus');\n    const activeStatus = document.getElementById('activeImpersonationStatus');\n    const activeRolesList = document.getElementById('activeRolesList');\n    const badge = document.querySelector('[data-badge=\"impersonation\"]');\n\n    if (isActive && data.roles && data.roles.length > 0) {\n      // Hide normal status, show active status\n      if (normalStatus) normalStatus.classList.add('u-hidden');\n      if (activeStatus) {\n        activeStatus.classList.remove('u-hidden');\n        if (activeRolesList) {\n          activeRolesList.innerHTML = data.roles.map(role =>\n            `<span class=\"c-role-status__role-tag\">${role}</span>`\n          ).join('');\n        }\n      }\n\n      // Show badge\n      if (badge) badge.classList.remove('u-hidden');\n    } else {\n      // Show normal status, hide active status\n      if (normalStatus) normalStatus.classList.remove('u-hidden');\n      if (activeStatus) activeStatus.classList.add('u-hidden');\n\n      // Hide badge\n      if (badge) badge.classList.add('u-hidden');\n    }\n  }\n\n  /**\n   * Validate role selection (checkbox-based)\n   */\n  validateRoleSelection() {\n    const checkboxes = document.querySelectorAll('input[name=\"impersonate_roles\"]:checked');\n    const startBtn = document.getElementById('startImpersonationBtn');\n    const countDisplay = document.getElementById('selectedRoleCount');\n\n    const selectedCount = checkboxes.length;\n\n    // Update count display\n    if (countDisplay) {\n      countDisplay.textContent = selectedCount;\n    }\n\n    // Enable/disable start button\n    if (startBtn) {\n      startBtn.disabled = selectedCount === 0;\n    }\n  }\n\n  /**\n   * Initialize theme\n   */\n  initTheme() {\n    // Load saved theme preference\n    const savedTheme = localStorage.getItem('theme') || 'system';\n    this.applyTheme(savedTheme, false);\n  }\n\n  /**\n   * Apply theme\n   */\n  applyTheme(theme, save = true) {\n    // Determine actual theme (handle system preference)\n    let actualTheme = theme;\n    if (theme === 'system') {\n      actualTheme = window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light';\n    }\n\n    // Update all theme attributes\n    const html = document.documentElement;\n    const body = document.body;\n\n    html.setAttribute('data-style', actualTheme);\n    html.setAttribute('data-bs-theme', actualTheme);\n    body.setAttribute('data-bs-theme', actualTheme);\n    html.setAttribute('data-theme', actualTheme);\n\n    // Update Vuexy-specific class\n    if (actualTheme === 'dark') {\n      html.classList.add('dark-style');\n      html.classList.remove('light-style');\n    } else {\n      html.classList.add('light-style');\n      html.classList.remove('dark-style');\n    }\n\n    // Update icon\n    const icon = document.querySelector('[data-role=\"theme-icon\"]');\n    if (icon) {\n      const iconClass = {\n        light: 'ti-sun',\n        dark: 'ti-moon-stars',\n        system: 'ti-device-desktop'\n      }[theme] || 'ti-sun';\n\n      icon.className = `ti ${iconClass} c-navbar-modern__nav-icon`;\n    }\n\n    // Update active state in dropdown\n    const options = document.querySelectorAll('[data-action=\"switch-theme\"]');\n    options.forEach(option => {\n      if (option.dataset.theme === theme) {\n        option.classList.add('is-active');\n      } else {\n        option.classList.remove('is-active');\n      }\n    });\n\n    // Store preference\n    if (save) {\n      localStorage.setItem('theme', theme);\n      localStorage.setItem('templateCustomizer-skin', actualTheme);\n    }\n  }\n\n  /**\n   * Show toast notification\n   */\n  showToast(message, type = 'info') {\n    // Integrate with existing toast system if available\n    if (typeof window.showToast === 'function') {\n      window.showToast(message, type);\n    } else {\n      console.log(`[Toast ${type}]:`, message);\n    }\n  }\n\n  // =========================================================================\n  // PRESENCE / ONLINE STATUS\n  // =========================================================================\n\n  /**\n   * Initialize presence tracking\n   * Shows real online status based on WebSocket connection\n   */\n  initPresence() {\n    // Initialize WebSocket connection for presence if socket.io is available\n    if (typeof io !== 'undefined') {\n      this.initPresenceSocket();\n    } else {\n      // Fall back to API-only presence checking\n      this.checkPresence();\n    }\n\n    // Refresh presence periodically (every 2 minutes)\n    // This keeps the user showing as online while the page is open\n    setInterval(() => this.refreshPresence(), 120000);\n\n    // Also refresh presence when page becomes visible again\n    document.addEventListener('visibilitychange', () => {\n      if (document.visibilityState === 'visible') {\n        this.refreshPresence();\n        // Reconnect socket if disconnected\n        if (this.presenceSocket && !this.presenceSocket.connected) {\n          this.presenceSocket.connect();\n        }\n      }\n    });\n  }\n\n  /**\n   * Initialize WebSocket connection for presence tracking\n   * Uses SocketManager for unified socket management across all components\n   */\n  initPresenceSocket() {\n    // Use SocketManager if available (preferred method)\n    if (typeof window.SocketManager !== 'undefined') {\n      console.log('[Navbar] Using SocketManager for presence');\n\n      // Optimistic UI: Show \"online\" immediately if we were recently connected\n      // This prevents status flicker during page navigation\n      if (window.SocketManager.isOptimisticallyConnected()) {\n        this.updateOnlineStatus(true);\n        console.debug('[Navbar] Optimistic online status (recently connected)');\n      }\n\n      // Get socket reference\n      this.presenceSocket = window.SocketManager.getSocket();\n\n      // Register connect callback - fires immediately if already connected\n      window.SocketManager.onConnect('Navbar', (socket) => {\n        this.presenceSocket = socket;\n        this.updateOnlineStatus(true);\n        console.debug('Presence socket connected via SocketManager');\n      });\n\n      // Register disconnect callback (delayed by SocketManager for optimistic UI)\n      window.SocketManager.onDisconnect('Navbar', (reason) => {\n        this.updateOnlineStatus(false);\n        console.debug('Presence socket disconnected:', reason);\n      });\n\n      // Register event listeners via SocketManager\n      window.SocketManager.on('Navbar', 'authentication_success', (data) => {\n        this.updateOnlineStatus(true);\n        console.debug('Presence authenticated:', data.username);\n      });\n\n      window.SocketManager.on('Navbar', 'authentication_failed', () => {\n        // Still connected but not authenticated - show as online anyway\n        this.updateOnlineStatus(true);\n      });\n\n      return;\n    }\n\n    // Fallback: Use existing global socket if available\n    if (window.socket) {\n      console.log('[Navbar] Reusing existing socket (connected:', window.socket.connected, ')');\n      this.presenceSocket = window.socket;\n      if (window.socket.connected) {\n        this.updateOnlineStatus(true);\n      }\n      this.attachSocketListenersDirect(this.presenceSocket);\n      return;\n    }\n\n    // Fallback: Create new socket connection for presence\n    try {\n      console.log('[Navbar] Creating new socket connection (fallback)');\n      this.presenceSocket = io('/', {\n        transports: ['polling', 'websocket'],\n        upgrade: true,\n        reconnection: true,\n        reconnectionAttempts: 5,\n        reconnectionDelay: 1000,\n        reconnectionDelayMax: 5000,\n        timeout: 20000,\n        autoConnect: true,\n        withCredentials: true\n      });\n\n      // Store globally so other components can use it\n      window.socket = this.presenceSocket;\n\n      this.attachSocketListenersDirect(this.presenceSocket);\n\n    } catch (error) {\n      console.warn('Failed to initialize presence socket:', error);\n      this.checkPresence();\n    }\n  }\n\n  /**\n   * Attach event listeners directly to socket (fallback when SocketManager not available)\n   */\n  attachSocketListenersDirect(socket) {\n    socket.on('connect', () => {\n      this.updateOnlineStatus(true);\n      console.debug('Presence socket connected');\n    });\n\n    socket.on('disconnect', () => {\n      this.updateOnlineStatus(false);\n      console.debug('Presence socket disconnected');\n    });\n\n    socket.on('authentication_success', (data) => {\n      this.updateOnlineStatus(true);\n      console.debug('Presence authenticated:', data.username);\n    });\n\n    socket.on('authentication_failed', () => {\n      this.updateOnlineStatus(true);\n    });\n\n    socket.on('connect_error', (error) => {\n      console.warn('Presence socket connection error:', error.message);\n      this.updateOnlineStatus(false);\n    });\n  }\n\n  /**\n   * Check current presence status from server\n   */\n  async checkPresence() {\n    try {\n      const response = await fetch('/api/notifications/presence');\n      const data = await response.json();\n\n      if (data.success) {\n        this.updateOnlineStatus(data.online);\n      }\n    } catch (error) {\n      // Don't log error - presence check is non-critical\n      // User will still appear online if WebSocket is connected\n    }\n  }\n\n  /**\n   * Refresh presence TTL (keep showing as online)\n   */\n  async refreshPresence() {\n    try {\n      await fetch('/api/notifications/presence/refresh', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          'X-CSRFToken': this.getCSRFToken(),\n        }\n      });\n    } catch (error) {\n      // Silent fail - non-critical operation\n    }\n  }\n\n  /**\n   * Update the online status indicator in the navbar\n   */\n  updateOnlineStatus(isOnline) {\n    const statusIndicator = this.navbar.querySelector('.c-navbar-modern__avatar-status');\n    if (!statusIndicator) return;\n\n    if (isOnline) {\n      statusIndicator.classList.add('is-online');\n      statusIndicator.classList.remove('is-offline');\n      statusIndicator.setAttribute('aria-label', 'Online');\n      statusIndicator.setAttribute('title', 'You are online');\n    } else {\n      statusIndicator.classList.remove('is-online');\n      statusIndicator.classList.add('is-offline');\n      statusIndicator.setAttribute('aria-label', 'Offline');\n      statusIndicator.setAttribute('title', 'You appear offline');\n    }\n  }\n}\n\n// Initialize function\nfunction initNavbar() {\n  // Only initialize if navbar exists on page\n  if (document.querySelector('.c-navbar-modern')) {\n    window.navbarController = new ModernNavbarController();\n  }\n}\n\n// Register with InitSystem if available\nif (typeof window.InitSystem !== 'undefined' && window.InitSystem.register) {\n  window.InitSystem.register('navbar-modern', initNavbar, {\n    priority: 80,\n    description: 'Modern navbar controller (search, dropdowns, mobile menu)',\n    reinitializable: false\n  });\n} else {\n  // Fallback: Initialize when DOM is ready\n  if (document.readyState === 'loading') {\n    document.addEventListener('DOMContentLoaded', initNavbar);\n  } else {\n    initNavbar();\n  }\n}\n\n// Export for module usage\nif (typeof module !== 'undefined' && module.exports) {\n  module.exports = ModernNavbarController;\n}\n","/**\n * Simple Theme Switcher - Replaces TemplateCustomizer\n * Handles light/dark/system theme switching without vendor dependencies\n *\n * This replaces the bloated TemplateCustomizer with a lightweight solution\n * that only handles what we actually need: theme switching.\n *\n * @version 1.1.0\n * @updated 2025-12-26 - Refactored to use EventDelegation\n */\n\nclass SimpleThemeSwitcher {\n  constructor() {\n    this.themes = ['light', 'dark', 'system'];\n    this.variants = ['modern'];\n    this.currentTheme = 'light';\n    this.currentVariant = 'modern';\n    this.init();\n  }\n\n  init() {\n    // Don't load theme here - it's handled in DOMContentLoaded to prevent FOUC\n    this.setupEventListeners();\n    this.setupSystemThemeDetection();\n    this.loadSavedVariant();\n  }\n\n  /**\n   * Load variant from localStorage\n   */\n  loadSavedVariant() {\n    const savedVariant = localStorage.getItem('theme-variant') || 'modern';\n    this.currentVariant = this.variants.includes(savedVariant) ? savedVariant : 'modern';\n  }\n\n  /**\n   * Load theme from localStorage or default to light\n   */\n  loadSavedTheme() {\n    // Use consistent localStorage key with template\n    const savedTheme = localStorage.getItem('template-style') || 'light';\n    this.setTheme(savedTheme, false); // Don't save again on load\n  }\n\n  /**\n   * Set the active theme\n   * @param {string} theme - 'light', 'dark', or 'system'\n   * @param {boolean} save - Whether to save to localStorage and server\n   */\n  setTheme(theme, save = true) {\n    if (!this.themes.includes(theme)) {\n      console.warn(`Invalid theme: ${theme}. Using light instead.`);\n      theme = 'light';\n    }\n\n    console.log('Setting theme to:', theme); // Debug log\n    this.currentTheme = theme;\n\n    // Determine actual theme to apply (resolve 'system' to light/dark)\n    const effectiveTheme = this.resolveSystemTheme(theme);\n    console.log('Effective theme:', effectiveTheme); // Debug log\n\n    // Apply theme to document - update both attributes for compatibility\n    document.documentElement.setAttribute('data-style', effectiveTheme);\n    document.documentElement.setAttribute('data-theme', effectiveTheme);\n\n    // Also update the class for CSS targeting\n    document.documentElement.className = document.documentElement.className.replace(/\\b(light|dark)-style\\b/g, '');\n    document.documentElement.classList.add(`${effectiveTheme}-style`);\n\n    // Update theme switcher UI\n    this.updateThemeIcon(theme);\n    this.updateActiveMenuItem(theme);\n\n    if (save) {\n      // Save to localStorage with consistent key\n      localStorage.setItem('template-style', theme);\n\n      // Save to server\n      this.saveThemeToServer(theme);\n    }\n\n    // Dispatch custom event for other components\n    document.dispatchEvent(new CustomEvent('themeChanged', {\n      detail: { theme: theme, effectiveTheme: effectiveTheme }\n    }));\n\n    console.log('Theme applied successfully'); // Debug log\n  }\n\n  /**\n   * Resolve 'system' theme to actual light/dark based on user's OS preference\n   */\n  resolveSystemTheme(theme) {\n    if (theme === 'system') {\n      return window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light';\n    }\n    return theme;\n  }\n\n  /**\n   * Setup event listeners for theme switching\n   */\n  setupEventListeners() {\n    // Register EventDelegation handlers for theme switching\n    if (typeof EventDelegation !== 'undefined') {\n      // Handle settings page theme buttons (data-action=\"set-theme\")\n      EventDelegation.register('set-theme', (element, e) => {\n        const theme = element.getAttribute('data-theme');\n        if (theme) {\n          console.log('Theme switching to (action):', theme);\n          this.setTheme(theme);\n\n          // Update button states in settings page\n          document.querySelectorAll('[data-action=\"set-theme\"]').forEach(btn => {\n            btn.classList.remove('btn-primary');\n            btn.classList.add('btn-outline-secondary');\n          });\n          element.classList.remove('btn-outline-secondary');\n          element.classList.add('btn-primary');\n        }\n      }, { preventDefault: true });\n\n      // Handle navbar dropdown theme options (data-action=\"select-theme\")\n      EventDelegation.register('select-theme', (element, e) => {\n        const theme = element.getAttribute('data-theme');\n        if (theme) {\n          console.log('Theme switching to:', theme);\n          this.setTheme(theme);\n\n          // Close dropdown manually if needed\n          const dropdown = element.closest('[data-role=\"theme-dropdown-menu\"]');\n          if (dropdown) {\n            const toggle = document.querySelector('[data-role=\"theme-dropdown-toggle\"]');\n            if (toggle && window.bootstrap) {\n              const dropdownInstance = window.bootstrap.Dropdown.getInstance(toggle);\n              if (dropdownInstance) {\n                dropdownInstance.hide();\n              }\n            }\n          }\n        }\n      }, { preventDefault: true });\n    }\n\n    // Handle keyboard shortcuts (optional)\n    document.addEventListener('keydown', (e) => {\n      // Ctrl/Cmd + Shift + T for theme switching\n      if ((e.ctrlKey || e.metaKey) && e.shiftKey && e.key === 'T') {\n        e.preventDefault();\n        this.cycleTheme();\n      }\n    });\n  }\n\n  /**\n   * Setup system theme detection\n   */\n  setupSystemThemeDetection() {\n    // Listen for system theme changes\n    const mediaQuery = window.matchMedia('(prefers-color-scheme: dark)');\n    mediaQuery.addEventListener('change', () => {\n      // Only update if current theme is 'system'\n      if (this.currentTheme === 'system') {\n        this.setTheme('system', false); // Don't save, just update display\n      }\n    });\n  }\n\n  /**\n   * Cycle through themes (for keyboard shortcut)\n   */\n  cycleTheme() {\n    const currentIndex = this.themes.indexOf(this.currentTheme);\n    const nextIndex = (currentIndex + 1) % this.themes.length;\n    this.setTheme(this.themes[nextIndex]);\n  }\n\n  /**\n   * Update the theme switcher icon\n   */\n  updateThemeIcon(theme) {\n    const icon = document.querySelector('[data-role=\"theme-icon\"]');\n    if (icon) {\n      let iconClass;\n      switch (theme) {\n        case 'dark':\n          iconClass = 'ti-moon-stars';\n          break;\n        case 'system':\n          iconClass = 'ti-device-desktop-analytics';\n          break;\n        default:\n          iconClass = 'ti-sun';\n      }\n      icon.className = `ti ${iconClass} ti-md`;\n      icon.setAttribute('data-role', 'theme-icon');\n    }\n  }\n\n  /**\n   * Update active state in dropdown menu\n   */\n  updateActiveMenuItem(theme) {\n    // Remove active class from all theme menu items\n    document.querySelectorAll('[data-theme]').forEach(item => {\n      item.classList.remove('active');\n    });\n\n    // Add active class to current theme\n    const activeItem = document.querySelector(`[data-theme=\"${theme}\"]`);\n    if (activeItem) {\n      activeItem.classList.add('active');\n    }\n  }\n\n  /**\n   * Save theme preference to server\n   */\n  saveThemeToServer(theme) {\n    const csrfToken = document.querySelector('meta[name=\"csrf-token\"]');\n    if (!csrfToken) {\n      console.warn('CSRF token not found, theme not saved to server');\n      return;\n    }\n\n    fetch('/set-theme', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n        'X-Csrftoken': csrfToken.getAttribute('content')\n      },\n      body: JSON.stringify({ theme: theme })\n    }).then(response => {\n      if (!response.ok) {\n        throw new Error(`HTTP error! status: ${response.status}`);\n      }\n      return response.json();\n    }).then(data => {\n      if (!data.success) {\n        console.error('Theme save failed:', data.message);\n      }\n    }).catch(error => {\n      console.error('Failed to save theme to server:', error);\n    });\n  }\n\n  /**\n   * Get current theme\n   */\n  getCurrentTheme() {\n    return this.currentTheme;\n  }\n\n  /**\n   * Get effective theme (resolves system theme)\n   */\n  getEffectiveTheme() {\n    return this.resolveSystemTheme(this.currentTheme);\n  }\n\n  // ========================================================================\n  // THEME VARIANT METHODS (Modern Only)\n  // ========================================================================\n\n  /**\n   * Set the theme variant (modern only)\n   * @param {string} variant - 'modern'\n   * @param {boolean} save - Whether to save to localStorage and server\n   */\n  setVariant(variant, save = true) {\n    if (!this.variants.includes(variant)) {\n      console.warn(`Invalid variant: ${variant}. Using modern instead.`);\n      variant = 'modern';\n    }\n\n    console.log('Setting variant to:', variant);\n    this.currentVariant = variant;\n\n    // Apply variant to document\n    document.documentElement.setAttribute('data-theme-variant', variant);\n\n    // Update variant class (modern only)\n    document.documentElement.classList.remove('theme-modern');\n    document.documentElement.classList.add(`theme-${variant}`);\n\n    if (save) {\n      // Save to localStorage\n      localStorage.setItem('theme-variant', variant);\n\n      // Save to server\n      this.saveVariantToServer(variant);\n    }\n\n    // Dispatch custom event for other components\n    document.dispatchEvent(new CustomEvent('variantChanged', {\n      detail: { variant: variant }\n    }));\n\n    // If switching to modern, we need to reload to load the CSS files\n    // (since they're conditionally loaded server-side)\n    if (save) {\n      // Show a brief notification then reload\n      this.notifyAndReload(variant);\n    }\n\n    console.log('Variant applied successfully');\n  }\n\n  /**\n   * Show notification and reload page to apply variant CSS\n   */\n  notifyAndReload(variant) {\n    // Use SweetAlert2 if available, otherwise just reload\n    if (typeof Swal !== 'undefined') {\n      Swal.fire({\n        title: 'Applying Theme',\n        text: `Switching to ${variant} theme...`,\n        icon: 'info',\n        timer: 1500,\n        timerProgressBar: true,\n        showConfirmButton: false,\n        allowOutsideClick: false\n      }).then(() => {\n        window.location.reload();\n      });\n    } else {\n      window.location.reload();\n    }\n  }\n\n  /**\n   * Save variant preference to server\n   */\n  saveVariantToServer(variant) {\n    const csrfToken = document.querySelector('meta[name=\"csrf-token\"]');\n    if (!csrfToken) {\n      console.warn('CSRF token not found, variant not saved to server');\n      return;\n    }\n\n    fetch('/set-theme-variant', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n        'X-Csrftoken': csrfToken.getAttribute('content')\n      },\n      body: JSON.stringify({ variant: variant })\n    }).then(response => {\n      if (!response.ok) {\n        throw new Error(`HTTP error! status: ${response.status}`);\n      }\n      return response.json();\n    }).then(data => {\n      if (!data.success) {\n        console.error('Variant save failed:', data.message);\n      }\n    }).catch(error => {\n      console.error('Failed to save variant to server:', error);\n    });\n  }\n\n  /**\n   * Get current variant\n   */\n  getCurrentVariant() {\n    return this.currentVariant;\n  }\n\n  /**\n   * Check if modern theme is active\n   */\n  isModern() {\n    return this.currentVariant === 'modern';\n  }\n\n  /**\n   * Toggle between modern variants (currently only 'modern' is available)\n   */\n  toggleVariant() {\n    // Only modern variant is available\n    this.setVariant('modern');\n  }\n}\n\n// Initialize theme switcher when DOM is ready\ndocument.addEventListener('DOMContentLoaded', () => {\n  // Create global instance\n  window.themeSwitcher = new SimpleThemeSwitcher();\n\n  // Check if theme sync is needed (set by early script)\n  if (window._themeNeedsSync) {\n    // Theme was already applied at top of page, just sync to server\n    window.themeSwitcher.currentTheme = window._themeNeedsSync.theme;\n    window.themeSwitcher.saveThemeToServer(window._themeNeedsSync.theme);\n    window.themeSwitcher.updateThemeIcon(window._themeNeedsSync.theme);\n    window.themeSwitcher.updateActiveMenuItem(window._themeNeedsSync.theme);\n    delete window._themeNeedsSync; // Clean up\n  }\n\n  // Check if variant sync is needed (set by early script)\n  if (window._variantNeedsSync) {\n    window.themeSwitcher.currentVariant = window._variantNeedsSync.variant;\n    window.themeSwitcher.saveVariantToServer(window._variantNeedsSync.variant);\n    delete window._variantNeedsSync; // Clean up\n  }\n\n  // Get current theme (already set by early script)\n  const currentTheme = document.documentElement.getAttribute('data-style') || 'light';\n  const currentVariant = document.documentElement.getAttribute('data-theme-variant') || 'modern';\n\n  // Just update the UI to match what's already applied\n  window.themeSwitcher.currentTheme = currentTheme;\n  window.themeSwitcher.currentVariant = currentVariant;\n  window.themeSwitcher.updateThemeIcon(currentTheme);\n  window.themeSwitcher.updateActiveMenuItem(currentTheme);\n\n  // No need to call setTheme() - theme is already applied correctly\n});\n\n// Expose for debugging\nwindow.SimpleThemeSwitcher = SimpleThemeSwitcher;\n","/**\n * ============================================================================\n * ADMIN NAVIGATION CONTROLLER\n * ============================================================================\n *\n * Modern, production-ready navigation controller following architectural standards:\n * - Event delegation (single listener on container)\n * - Data-* attribute hooks (no binding to styling classes)\n * - State-driven via CSS classes (is-open, is-active)\n * - No inline styles or event handlers\n * - Accessible keyboard navigation\n * - Mobile-friendly touch interactions\n *\n * Dependencies: None (vanilla JS)\n *\n * ============================================================================\n */\n\n(function() {\n  'use strict';\n\n  /**\n   * Admin Navigation Controller\n   * Handles all navigation interactions via event delegation\n   */\n  class AdminNavigationController {\n    constructor(element) {\n      this.nav = element;\n      this.activeDropdown = null;\n      this.init();\n    }\n\n    /**\n     * Initialize the controller\n     */\n    init() {\n      // Keyboard navigation\n      this.nav.addEventListener('keydown', this.handleKeyboard.bind(this));\n\n      // Close dropdowns when clicking outside\n      document.addEventListener('click', this.handleOutsideClick.bind(this));\n\n      // Close dropdowns on escape key\n      document.addEventListener('keydown', this.handleEscapeKey.bind(this));\n\n      // Register actions with EventDelegation\n      this.registerActions();\n    }\n\n    /**\n     * Register actions with EventDelegation\n     */\n    registerActions() {\n      if (typeof EventDelegation !== 'undefined') {\n        EventDelegation.register('toggle-dropdown', this.handleToggleDropdown.bind(this), { preventDefault: true });\n        EventDelegation.register('navigate', this.handleNavigation.bind(this), { preventDefault: false });\n        EventDelegation.register('close-dropdown', this.handleCloseDropdown.bind(this), { preventDefault: true });\n      }\n    }\n\n    /**\n     * Handle toggle dropdown action\n     * @param {Element} element - The element that was clicked (from EventDelegation)\n     * @param {Event} e - The click event\n     */\n    handleToggleDropdown(element, e) {\n      this.toggleDropdown(element);\n    }\n\n    /**\n     * Handle close dropdown action\n     * @param {Element} element - The element that was clicked (from EventDelegation)\n     * @param {Event} e - The click event\n     */\n    handleCloseDropdown(element, e) {\n      this.closeDropdown(element);\n    }\n\n    /**\n     * Handle keyboard navigation\n     * @param {KeyboardEvent} e - Keyboard event\n     */\n    handleKeyboard(e) {\n      const target = e.target;\n\n      // Enter or Space on dropdown toggle\n      if ((e.key === 'Enter' || e.key === ' ') &&\n          target.dataset.action === 'toggle-dropdown') {\n        e.preventDefault();\n        this.toggleDropdown(target);\n      }\n\n      // Arrow keys in dropdown\n      if (this.activeDropdown && (e.key === 'ArrowDown' || e.key === 'ArrowUp')) {\n        e.preventDefault();\n        this.navigateDropdown(e.key);\n      }\n    }\n\n    /**\n     * Handle escape key to close dropdowns\n     * @param {KeyboardEvent} e - Keyboard event\n     */\n    handleEscapeKey(e) {\n      if (e.key === 'Escape' && this.activeDropdown) {\n        this.closeAllDropdowns();\n        // Return focus to the toggle button\n        const toggle = this.activeDropdown.previousElementSibling;\n        if (toggle) toggle.focus();\n      }\n    }\n\n    /**\n     * Handle clicks outside nav to close dropdowns\n     * @param {Event} e - Click event\n     */\n    handleOutsideClick(e) {\n      if (!this.nav.contains(e.target) && this.activeDropdown) {\n        this.closeAllDropdowns();\n      }\n    }\n\n    /**\n     * Toggle dropdown menu\n     * @param {HTMLElement} toggle - The dropdown toggle button\n     */\n    toggleDropdown(toggle) {\n      const dropdownItem = toggle.closest('[data-dropdown]');\n      if (!dropdownItem) return;\n\n      const dropdown = dropdownItem.querySelector('.c-admin-nav__dropdown');\n      if (!dropdown) return;\n\n      const isOpen = dropdownItem.classList.contains('is-open');\n\n      // Close all other dropdowns first\n      this.closeAllDropdowns();\n\n      if (!isOpen) {\n        // Open this dropdown\n        dropdownItem.classList.add('is-open');\n        toggle.classList.add('is-open');\n        toggle.setAttribute('aria-expanded', 'true');\n        dropdown.setAttribute('aria-hidden', 'false');\n\n        this.activeDropdown = dropdown;\n\n        // Focus first dropdown item for keyboard navigation\n        const firstItem = dropdown.querySelector('.c-admin-nav__dropdown-item');\n        if (firstItem) firstItem.focus();\n      } else {\n        // Close this dropdown\n        this.closeDropdown(dropdownItem);\n      }\n    }\n\n    /**\n     * Close specific dropdown\n     * @param {HTMLElement} element - Dropdown item or toggle\n     */\n    closeDropdown(element) {\n      const dropdownItem = element.closest('[data-dropdown]');\n      if (!dropdownItem) return;\n\n      const toggle = dropdownItem.querySelector('[data-action=\"toggle-dropdown\"]');\n      const dropdown = dropdownItem.querySelector('.c-admin-nav__dropdown');\n\n      dropdownItem.classList.remove('is-open');\n      if (toggle) {\n        toggle.classList.remove('is-open');\n        toggle.setAttribute('aria-expanded', 'false');\n      }\n      if (dropdown) {\n        dropdown.setAttribute('aria-hidden', 'true');\n      }\n\n      if (this.activeDropdown === dropdown) {\n        this.activeDropdown = null;\n      }\n    }\n\n    /**\n     * Close all dropdowns\n     */\n    closeAllDropdowns() {\n      const openDropdowns = this.nav.querySelectorAll('[data-dropdown].is-open');\n      openDropdowns.forEach(item => this.closeDropdown(item));\n    }\n\n    /**\n     * Navigate within dropdown using arrow keys\n     * @param {string} direction - 'ArrowUp' or 'ArrowDown'\n     */\n    navigateDropdown(direction) {\n      if (!this.activeDropdown) return;\n\n      const items = Array.from(\n        this.activeDropdown.querySelectorAll('.c-admin-nav__dropdown-item:not(.is-disabled)')\n      );\n\n      const currentIndex = items.indexOf(document.activeElement);\n\n      let nextIndex;\n      if (direction === 'ArrowDown') {\n        nextIndex = currentIndex < items.length - 1 ? currentIndex + 1 : 0;\n      } else {\n        nextIndex = currentIndex > 0 ? currentIndex - 1 : items.length - 1;\n      }\n\n      items[nextIndex].focus();\n    }\n\n    /**\n     * Handle navigation (could add analytics here)\n     * @param {Event} e - Click event\n     * @param {HTMLElement} link - The clicked link\n     */\n    handleNavigation(element, e) {\n      // EventDelegation passes (element, event) - element is the clicked link\n      if (!element || !element.classList) return;\n\n      // Remove active state from all links\n      const allLinks = this.nav.querySelectorAll('.c-admin-nav__link');\n      allLinks.forEach(l => l.classList.remove('is-active'));\n\n      // Add active state to clicked link\n      element.classList.add('is-active');\n    }\n\n    /**\n     * Destroy the controller\n     */\n    destroy() {\n      this.nav.removeEventListener('keydown', this.handleKeyboard);\n      document.removeEventListener('click', this.handleOutsideClick);\n      document.removeEventListener('keydown', this.handleEscapeKey);\n    }\n  }\n\n  /**\n   * Auto-initialize all admin navigation components\n   */\n  function initAdminNavigation() {\n    // Page guard: only run on admin pages\n    const isAdminPage = document.querySelector('[data-controller=\"admin-nav\"]') ||\n                        document.querySelector('.c-admin-nav') ||\n                        window.location.pathname.includes('/admin');\n\n    if (!isAdminPage) {\n      return;\n    }\n\n    const navElements = document.querySelectorAll('[data-controller=\"admin-nav\"]');\n\n    if (navElements.length === 0) {\n      // Try fallback to class selector\n      const altNav = document.querySelector('.c-admin-nav');\n      if (altNav && !altNav.hasAttribute('data-controller')) {\n        altNav.setAttribute('data-controller', 'admin-nav');\n        altNav.adminNavController = new AdminNavigationController(altNav);\n      }\n      return;\n    }\n\n    navElements.forEach(nav => {\n      // Avoid double initialization\n      if (nav.adminNavController) return;\n\n      // Create and attach controller\n      nav.adminNavController = new AdminNavigationController(nav);\n    });\n  }\n\n  /**\n   * Initialize on DOM ready\n   */\n  if (document.readyState === 'loading') {\n    document.addEventListener('DOMContentLoaded', initAdminNavigation);\n  } else {\n    initAdminNavigation();\n  }\n\n  /**\n   * Re-initialize on dynamic content updates (HTMX, Turbo, etc.)\n   * Uncomment if using HTMX or Turbo:\n   */\n  // document.body.addEventListener('htmx:afterSwap', initAdminNavigation);\n  // document.addEventListener('turbo:load', initAdminNavigation);\n\n  /**\n   * Export for manual initialization if needed\n   */\n  window.AdminNavigationController = AdminNavigationController;\n  window.initAdminNavigation = initAdminNavigation;\n\n})();\n\n/**\n * ============================================================================\n * USAGE NOTES\n * ============================================================================\n *\n * AUTOMATIC INITIALIZATION:\n * - Runs automatically on DOMContentLoaded\n * - Finds all elements with data-controller=\"admin-nav\"\n * - Creates controller instance for each\n *\n * MANUAL INITIALIZATION:\n * window.initAdminNavigation(); // Re-init all\n *\n * const nav = document.querySelector('.c-admin-nav');\n * nav.adminNavController = new AdminNavigationController(nav);\n *\n * DESTROY:\n * nav.adminNavController.destroy();\n * nav.adminNavController = null;\n *\n * REQUIRED HTML STRUCTURE:\n * <nav class=\"c-admin-nav\" data-controller=\"admin-nav\">\n *   <ul class=\"c-admin-nav__list\">\n *     <li class=\"c-admin-nav__item\" data-dropdown>\n *       <button class=\"c-admin-nav__link c-admin-nav__dropdown-toggle\"\n *               data-action=\"toggle-dropdown\">\n *         Menu\n *       </button>\n *       <ul class=\"c-admin-nav__dropdown\">...</ul>\n *     </li>\n *   </ul>\n * </nav>\n *\n * DATA ATTRIBUTES:\n * - data-controller=\"admin-nav\" - Marks nav container (required)\n * - data-action=\"toggle-dropdown\" - Toggle dropdown\n * - data-action=\"navigate\" - Track navigation\n * - data-dropdown - Marks dropdown parent\n *\n * STATE CLASSES (CSS DRIVEN):\n * - is-open - Dropdown is open\n * - is-active - Nav item is active\n * - is-disabled - Nav item is disabled\n *\n * EVENTS:\n * Controller handles all events via delegation\n * No inline onclick or event handlers needed\n *\n * ============================================================================\n */\n","/**\n * ECS Theme Colors Utility\n * Provides easy access to CSS theme variables from JavaScript\n *\n * Usage:\n *   const primary = ECSTheme.getColor('primary');\n *   const success = ECSTheme.getColor('success');\n *   const colors = ECSTheme.getAllColors();\n */\n\nconst ECSTheme = (function() {\n  'use strict';\n\n  // Cache for computed colors\n  let colorCache = {};\n  let cacheValid = false;\n\n  // Color variable mappings\n  const colorMap = {\n    // Brand colors\n    primary: '--ecs-primary',\n    'primary-light': '--ecs-primary-light',\n    'primary-dark': '--ecs-primary-dark',\n    'primary-subtle': '--ecs-primary-subtle',\n    secondary: '--ecs-secondary',\n    'secondary-light': '--ecs-secondary-light',\n    'secondary-dark': '--ecs-secondary-dark',\n    accent: '--ecs-accent',\n    'accent-light': '--ecs-accent-light',\n    'accent-dark': '--ecs-accent-dark',\n\n    // Semantic colors\n    success: '--ecs-success',\n    'success-light': '--ecs-success-light',\n    'success-dark': '--ecs-success-dark',\n    'success-subtle': '--ecs-success-subtle',\n    warning: '--ecs-warning',\n    'warning-light': '--ecs-warning-light',\n    'warning-dark': '--ecs-warning-dark',\n    'warning-subtle': '--ecs-warning-subtle',\n    danger: '--ecs-danger',\n    'danger-light': '--ecs-danger-light',\n    'danger-dark': '--ecs-danger-dark',\n    'danger-subtle': '--ecs-danger-subtle',\n    info: '--ecs-info',\n    'info-light': '--ecs-info-light',\n    'info-dark': '--ecs-info-dark',\n    'info-subtle': '--ecs-info-subtle',\n\n    // Neutrals\n    white: '--ecs-neutral-0',\n    light: '--ecs-neutral-5',\n    'light-gray': '--ecs-neutral-10',\n    border: '--ecs-neutral-20',\n    muted: '--ecs-neutral-50',\n    dark: '--ecs-neutral-90',\n\n    // Backgrounds\n    'bg-body': '--ecs-bg-body',\n    'bg-card': '--ecs-bg-card',\n\n    // Dark mode specific\n    'dark-bg-body': '--ecs-dark-bg-body',\n    'dark-bg-card': '--ecs-dark-bg-card',\n    'dark-bg-elevated': '--ecs-dark-bg-elevated',\n  };\n\n  // Fallback values\n  const fallbacks = {\n    primary: '#7C3AED',\n    'primary-light': '#8B5CF6',\n    'primary-dark': '#6D28D9',\n    'primary-subtle': '#EDE9FE',\n    secondary: '#64748B',\n    accent: '#F59E0B',\n    success: '#10B981',\n    'success-light': '#34D399',\n    'success-subtle': '#D1FAE5',\n    warning: '#F59E0B',\n    'warning-light': '#FBBF24',\n    danger: '#EF4444',\n    'danger-light': '#F87171',\n    info: '#3B82F6',\n    'info-light': '#60A5FA',\n    white: '#FFFFFF',\n    light: '#FAFAFA',\n    border: '#E4E4E7',\n    muted: '#71717A',\n    dark: '#18181B',\n    'bg-body': '#FAFAFA',\n    'bg-card': '#FFFFFF',\n    'dark-bg-body': '#09090B',\n    'dark-bg-card': '#18181B',\n    'dark-bg-elevated': '#27272A',\n  };\n\n  /**\n   * Get a CSS variable value\n   * @param {string} varName - CSS variable name (with or without --)\n   * @param {string} fallback - Fallback value if variable not found\n   * @returns {string} The color value\n   */\n  function getCSSVar(varName, fallback) {\n    const name = varName.startsWith('--') ? varName : `--${varName}`;\n    const value = getComputedStyle(document.documentElement).getPropertyValue(name).trim();\n    return value || fallback || '';\n  }\n\n  /**\n   * Get a theme color by name\n   * @param {string} name - Color name (e.g., 'primary', 'success', 'danger')\n   * @returns {string} The color value\n   */\n  function getColor(name) {\n    if (cacheValid && colorCache[name]) {\n      return colorCache[name];\n    }\n\n    const varName = colorMap[name];\n    if (varName) {\n      const value = getCSSVar(varName, fallbacks[name]);\n      colorCache[name] = value;\n      return value;\n    }\n\n    // If not in map, try direct CSS variable\n    return getCSSVar(`--ecs-${name}`, fallbacks[name] || '');\n  }\n\n  /**\n   * Get all theme colors as an object\n   * @returns {object} Object with all color values\n   */\n  function getAllColors() {\n    const colors = {};\n    Object.keys(colorMap).forEach(name => {\n      colors[name] = getColor(name);\n    });\n    cacheValid = true;\n    return colors;\n  }\n\n  /**\n   * Get colors formatted for chart libraries (ApexCharts, Chart.js, etc.)\n   * @returns {object} Color palette for charts\n   */\n  function getChartColors() {\n    return {\n      primary: getColor('primary'),\n      success: getColor('success'),\n      warning: getColor('warning'),\n      danger: getColor('danger'),\n      info: getColor('info'),\n      secondary: getColor('secondary'),\n      // Array format for series\n      palette: [\n        getColor('primary'),\n        getColor('success'),\n        getColor('info'),\n        getColor('warning'),\n        getColor('danger'),\n        getColor('secondary'),\n        getColor('accent'),\n      ]\n    };\n  }\n\n  /**\n   * Get colors for SweetAlert2\n   * @returns {object} SweetAlert2 color config\n   */\n  function getSwalColors() {\n    return {\n      confirmButtonColor: getColor('primary'),\n      cancelButtonColor: getColor('secondary'),\n      denyButtonColor: getColor('danger'),\n    };\n  }\n\n  /**\n   * Invalidate the color cache (call after theme change)\n   */\n  function invalidateCache() {\n    colorCache = {};\n    cacheValid = false;\n  }\n\n  // Listen for theme changes to invalidate cache\n  const observer = new MutationObserver((mutations) => {\n    mutations.forEach((mutation) => {\n      if (mutation.attributeName === 'data-style' ||\n          mutation.attributeName === 'data-theme-variant') {\n        invalidateCache();\n      }\n    });\n  });\n\n  // Start observing when DOM is ready\n  if (document.readyState === 'loading') {\n    document.addEventListener('DOMContentLoaded', () => {\n      observer.observe(document.documentElement, { attributes: true });\n    });\n  } else {\n    observer.observe(document.documentElement, { attributes: true });\n  }\n\n  // Public API\n  return {\n    getColor,\n    getAllColors,\n    getChartColors,\n    getSwalColors,\n    getCSSVar,\n    invalidateCache,\n  };\n})();\n\n// Make available globally\nwindow.ECSTheme = ECSTheme;\n","/**\n * ==========================================================================\n * SOCKET MANAGER - Unified WebSocket Connection Management\n * ==========================================================================\n *\n * Centralizes Socket.IO connection management across the application.\n * Ensures a single socket instance is shared by all components (navbar,\n * chat widget, draft system, etc.) with proper reconnection handling.\n *\n * Features:\n * - Single shared socket instance\n * - Automatic reconnection with exponential backoff\n * - Late-binding: components can register after socket connects\n * - Event namespacing to prevent listener conflicts\n * - Connection state tracking and callbacks\n *\n * Usage:\n *   // Get the socket (creates if needed)\n *   const socket = SocketManager.getSocket();\n *\n *   // Register for connection events (called immediately if already connected)\n *   SocketManager.onConnect('myComponent', () => {\n *     socket.emit('join_room', { room: 'myroom' });\n *   });\n *\n *   // Register for specific events\n *   SocketManager.on('myComponent', 'new_message', (data) => {\n *     console.log('Got message:', data);\n *   });\n *\n *   // Cleanup when component unmounts\n *   SocketManager.removeListeners('myComponent');\n *\n * ==========================================================================\n */\n\n(function() {\n  'use strict';\n\n  // ============================================================================\n  // CONFIGURATION\n  // ============================================================================\n\n  const CONFIG = {\n    // Socket.IO connection options\n    connection: {\n      // Start with polling to establish sticky session, then upgrade to websocket\n      // This is critical for multi-worker setups with sticky sessions\n      transports: ['polling', 'websocket'],\n      upgrade: true,\n      reconnection: true,\n      reconnectionAttempts: 10,\n      reconnectionDelay: 1000,\n      reconnectionDelayMax: 10000,\n      randomizationFactor: 0.5,\n      timeout: 20000,\n      autoConnect: true,\n      withCredentials: true\n    },\n    // Optimistic UI - delay showing \"offline\" to handle page navigation gracefully\n    optimisticDisconnectDelay: 3000, // 3 seconds\n    // Debug mode\n    debug: false\n  };\n\n  // ============================================================================\n  // STATE\n  // ============================================================================\n\n  let socket = null;\n  let isConnected = false;\n  let connectionAttempts = 0;\n  let disconnectTimeout = null; // For optimistic UI delay\n\n  // Optimistic UI state key\n  const OPTIMISTIC_KEY = 'socket_last_connected';\n\n  // Registered callbacks by component name\n  const connectCallbacks = new Map();  // component -> callback\n  const disconnectCallbacks = new Map();  // component -> callback\n  const eventListeners = new Map();  // component -> Map(event -> callback)\n\n  // ============================================================================\n  // LOGGING\n  // ============================================================================\n\n  function log(...args) {\n    if (CONFIG.debug) {\n      console.log('[SocketManager]', ...args);\n    }\n  }\n\n  function warn(...args) {\n    console.warn('[SocketManager]', ...args);\n  }\n\n  function error(...args) {\n    console.error('[SocketManager]', ...args);\n  }\n\n  // ============================================================================\n  // SOCKET INITIALIZATION\n  // ============================================================================\n\n  /**\n   * Get or create the socket instance\n   * @returns {Socket|null} The socket instance or null if Socket.IO not available\n   */\n  function getSocket() {\n    // Return existing socket if available\n    if (socket) {\n      return socket;\n    }\n\n    // Check if Socket.IO is available\n    if (typeof io === 'undefined') {\n      warn('Socket.IO library not loaded');\n      return null;\n    }\n\n    // Check if there's already a global socket (created by another script)\n    if (window.socket && window.socket.io) {\n      log('Reusing existing global socket');\n      socket = window.socket;\n      isConnected = socket.connected;\n      attachInternalListeners();\n\n      // If already connected, fire callbacks\n      if (isConnected) {\n        fireConnectCallbacks();\n      }\n\n      return socket;\n    }\n\n    // Create new socket connection\n    log('Creating new socket connection');\n    try {\n      socket = io('/', CONFIG.connection);\n\n      // Store globally for other components\n      window.socket = socket;\n\n      attachInternalListeners();\n\n      return socket;\n    } catch (err) {\n      error('Failed to create socket:', err);\n      return null;\n    }\n  }\n\n  /**\n   * Attach internal event listeners for connection management\n   */\n  function attachInternalListeners() {\n    if (!socket) return;\n\n    // Remove existing listeners to prevent duplicates on reconnect\n    socket.off('connect', handleConnect);\n    socket.off('disconnect', handleDisconnect);\n    socket.off('connect_error', handleConnectError);\n\n    // Attach listeners\n    socket.on('connect', handleConnect);\n    socket.on('disconnect', handleDisconnect);\n    socket.on('connect_error', handleConnectError);\n\n    log('Internal listeners attached');\n  }\n\n  /**\n   * Handle successful connection\n   */\n  function handleConnect() {\n    log('Socket connected, id:', socket.id);\n    isConnected = true;\n    connectionAttempts = 0;\n\n    // Save connection timestamp for optimistic UI across page loads\n    try {\n      sessionStorage.setItem(OPTIMISTIC_KEY, Date.now().toString());\n    } catch (e) {\n      // sessionStorage might be unavailable in private mode\n    }\n\n    // Clear any pending disconnect timeout (optimistic UI)\n    if (disconnectTimeout) {\n      clearTimeout(disconnectTimeout);\n      disconnectTimeout = null;\n      log('Cleared disconnect timeout - reconnected quickly');\n    }\n\n    // Fire all registered connect callbacks\n    fireConnectCallbacks();\n  }\n\n  /**\n   * Check if we were recently connected (for optimistic UI across page loads)\n   * Returns true if connected within the optimistic delay period\n   */\n  function wasRecentlyConnected() {\n    try {\n      const lastConnected = sessionStorage.getItem(OPTIMISTIC_KEY);\n      if (!lastConnected) return false;\n\n      const elapsed = Date.now() - parseInt(lastConnected, 10);\n      return elapsed < CONFIG.optimisticDisconnectDelay;\n    } catch (e) {\n      return false;\n    }\n  }\n\n  /**\n   * Handle disconnection\n   * Uses optimistic UI - delays firing disconnect callbacks to handle page navigation gracefully\n   */\n  function handleDisconnect(reason) {\n    log('Socket disconnected, reason:', reason);\n\n    // Clear any existing timeout\n    if (disconnectTimeout) {\n      clearTimeout(disconnectTimeout);\n    }\n\n    // Optimistic UI: delay showing \"disconnected\" state\n    // This handles page navigation where socket reconnects quickly on new page\n    // If it's a real disconnect, callbacks fire after the delay\n    disconnectTimeout = setTimeout(() => {\n      log('Disconnect timeout elapsed, firing disconnect callbacks');\n      isConnected = false;\n      disconnectTimeout = null;\n      fireDisconnectCallbacks(reason);\n    }, CONFIG.optimisticDisconnectDelay);\n\n    log(`Disconnect delayed by ${CONFIG.optimisticDisconnectDelay}ms (optimistic UI)`);\n  }\n\n  /**\n   * Handle connection error\n   */\n  function handleConnectError(err) {\n    connectionAttempts++;\n    warn(`Connection error (attempt ${connectionAttempts}):`, err.message);\n\n    // If too many failures, warn user\n    if (connectionAttempts >= 5) {\n      warn('Multiple connection failures. Real-time features may be unavailable.');\n    }\n  }\n\n  /**\n   * Fire all registered connect callbacks\n   */\n  function fireConnectCallbacks() {\n    connectCallbacks.forEach((callback, component) => {\n      try {\n        log(`Firing connect callback for: ${component}`);\n        callback(socket);\n      } catch (err) {\n        error(`Connect callback error for ${component}:`, err);\n      }\n    });\n  }\n\n  /**\n   * Fire all registered disconnect callbacks\n   */\n  function fireDisconnectCallbacks(reason) {\n    disconnectCallbacks.forEach((callback, component) => {\n      try {\n        callback(reason);\n      } catch (err) {\n        error(`Disconnect callback error for ${component}:`, err);\n      }\n    });\n  }\n\n  // ============================================================================\n  // PUBLIC API\n  // ============================================================================\n\n  const SocketManager = {\n    /**\n     * Get the socket instance (creates if needed)\n     * @returns {Socket|null}\n     */\n    getSocket: getSocket,\n\n    /**\n     * Check if socket is currently connected\n     * @returns {boolean}\n     */\n    isConnected: function() {\n      return isConnected && socket && socket.connected;\n    },\n\n    /**\n     * Check if socket is connected OR was recently connected (optimistic UI)\n     * Use this for UI status indicators to avoid flicker during page navigation\n     * @returns {boolean}\n     */\n    isOptimisticallyConnected: function() {\n      // Actually connected\n      if (isConnected && socket && socket.connected) {\n        return true;\n      }\n      // Recently connected (within last 3 seconds)\n      return wasRecentlyConnected();\n    },\n\n    /**\n     * Register a callback to be called when socket connects\n     * If already connected, callback fires immediately\n     *\n     * @param {string} componentName - Unique name for the component\n     * @param {Function} callback - Function to call on connect, receives socket\n     */\n    onConnect: function(componentName, callback) {\n      if (typeof callback !== 'function') {\n        warn('onConnect requires a function callback');\n        return;\n      }\n\n      connectCallbacks.set(componentName, callback);\n      log(`Registered connect callback: ${componentName}`);\n\n      // If already connected, fire immediately\n      if (isConnected && socket) {\n        log(`Already connected, firing callback for: ${componentName}`);\n        try {\n          callback(socket);\n        } catch (err) {\n          error(`Connect callback error for ${componentName}:`, err);\n        }\n      }\n    },\n\n    /**\n     * Register a callback to be called when socket disconnects\n     *\n     * @param {string} componentName - Unique name for the component\n     * @param {Function} callback - Function to call on disconnect, receives reason\n     */\n    onDisconnect: function(componentName, callback) {\n      if (typeof callback !== 'function') {\n        warn('onDisconnect requires a function callback');\n        return;\n      }\n\n      disconnectCallbacks.set(componentName, callback);\n    },\n\n    /**\n     * Register an event listener with component namespacing\n     * This ensures we can clean up all listeners for a component at once\n     *\n     * @param {string} componentName - Unique name for the component\n     * @param {string} eventName - Socket event name\n     * @param {Function} callback - Event handler\n     */\n    on: function(componentName, eventName, callback) {\n      if (!socket) {\n        getSocket(); // Ensure socket exists\n      }\n\n      if (!socket) {\n        warn(`Cannot register event ${eventName}: no socket`);\n        return;\n      }\n\n      // Store the listener reference for later cleanup\n      if (!eventListeners.has(componentName)) {\n        eventListeners.set(componentName, new Map());\n      }\n\n      const componentListeners = eventListeners.get(componentName);\n\n      // If there's already a listener for this event from this component, remove it\n      if (componentListeners.has(eventName)) {\n        socket.off(eventName, componentListeners.get(eventName));\n      }\n\n      // Register the new listener\n      componentListeners.set(eventName, callback);\n      socket.on(eventName, callback);\n\n      log(`Registered event listener: ${componentName}/${eventName}`);\n    },\n\n    /**\n     * Emit an event on the socket\n     *\n     * @param {string} eventName - Event name\n     * @param {*} data - Data to send\n     */\n    emit: function(eventName, data) {\n      if (!socket || !isConnected) {\n        warn(`Cannot emit ${eventName}: socket not connected`);\n        return false;\n      }\n\n      socket.emit(eventName, data);\n      return true;\n    },\n\n    /**\n     * Remove all listeners for a component\n     * Call this when a component unmounts or reinitializes\n     *\n     * @param {string} componentName - Component name to clean up\n     */\n    removeListeners: function(componentName) {\n      // Remove connect callback\n      connectCallbacks.delete(componentName);\n\n      // Remove disconnect callback\n      disconnectCallbacks.delete(componentName);\n\n      // Remove event listeners\n      if (eventListeners.has(componentName) && socket) {\n        const componentListeners = eventListeners.get(componentName);\n        componentListeners.forEach((callback, eventName) => {\n          socket.off(eventName, callback);\n        });\n        eventListeners.delete(componentName);\n      }\n\n      log(`Removed all listeners for: ${componentName}`);\n    },\n\n    /**\n     * Manually reconnect the socket\n     */\n    reconnect: function() {\n      if (socket) {\n        socket.connect();\n      } else {\n        getSocket();\n      }\n    },\n\n    /**\n     * Disconnect the socket\n     */\n    disconnect: function() {\n      if (socket) {\n        socket.disconnect();\n      }\n    },\n\n    /**\n     * Enable debug logging\n     */\n    enableDebug: function() {\n      CONFIG.debug = true;\n    },\n\n    /**\n     * Disable debug logging\n     */\n    disableDebug: function() {\n      CONFIG.debug = false;\n    }\n  };\n\n  // ============================================================================\n  // INITIALIZATION\n  // ============================================================================\n\n  // Auto-initialize socket when DOM is ready\n  function init() {\n    // Only initialize if Socket.IO is available\n    if (typeof io !== 'undefined') {\n      getSocket();\n      log('Socket manager initialized');\n    } else {\n      log('Socket.IO not available, skipping initialization');\n    }\n  }\n\n  // Initialize when DOM is ready\n  if (document.readyState === 'loading') {\n    document.addEventListener('DOMContentLoaded', init);\n  } else {\n    init();\n  }\n\n  // Handle page visibility changes\n  document.addEventListener('visibilitychange', function() {\n    if (document.visibilityState === 'visible' && socket && !socket.connected) {\n      log('Page visible, reconnecting socket');\n      socket.connect();\n    }\n  });\n\n  // Expose to global scope\n  window.SocketManager = SocketManager;\n\n})();\n","/**\n * ============================================================================\n * ONLINE STATUS MANAGER\n * ============================================================================\n *\n * Handles real-time online status updates across the application.\n * Automatically finds and updates online status indicators.\n *\n * Usage:\n *   - Add data-online-status=\"<user_id>\" to any element to make it update\n *   - Elements should have c-online-status class with is-online/is-offline modifiers\n *\n * ============================================================================\n */\n\n(function () {\n  'use strict';\n\n  class OnlineStatusManager {\n    constructor() {\n      this.updateInterval = 30000; // 30 seconds\n      this.intervalId = null;\n      this.onlineUserIds = new Set();\n      this.initialized = false;\n    }\n\n    /**\n     * Initialize the online status manager\n     */\n    init() {\n      if (this.initialized) return;\n      this.initialized = true;\n\n      // Initial fetch\n      this.fetchOnlineUsers();\n\n      // Set up periodic updates\n      this.intervalId = setInterval(() => {\n        this.fetchOnlineUsers();\n      }, this.updateInterval);\n\n      // Listen for WebSocket presence events if available\n      this.setupWebSocketListeners();\n    }\n\n    /**\n     * Get CSRF token for API requests\n     */\n    getCSRFToken() {\n      const csrfMeta = document.querySelector('meta[name=\"csrf-token\"]');\n      if (csrfMeta) return csrfMeta.getAttribute('content');\n\n      const csrfInput = document.querySelector('input[name=\"csrf_token\"]');\n      if (csrfInput) return csrfInput.value;\n\n      return '';\n    }\n\n    /**\n     * Fetch list of online users from the API\n     */\n    async fetchOnlineUsers() {\n      try {\n        const response = await fetch('/api/notifications/presence/online-users');\n        const data = await response.json();\n\n        if (data.success && data.online_user_ids) {\n          this.onlineUserIds = new Set(data.online_user_ids.map(String));\n          this.updateAllIndicators();\n        }\n      } catch (error) {\n        console.warn('Failed to fetch online users:', error);\n      }\n    }\n\n    /**\n     * Check if a specific user is online\n     * @param {number|string} userId\n     * @returns {boolean}\n     */\n    isUserOnline(userId) {\n      return this.onlineUserIds.has(String(userId));\n    }\n\n    /**\n     * Update all online status indicators on the page\n     */\n    updateAllIndicators() {\n      const indicators = document.querySelectorAll('[data-online-status]');\n\n      indicators.forEach((indicator) => {\n        const userId = indicator.getAttribute('data-online-status');\n        if (!userId) return;\n\n        const isOnline = this.isUserOnline(userId);\n        this.updateIndicator(indicator, isOnline);\n      });\n    }\n\n    /**\n     * Update a single indicator element\n     * @param {HTMLElement} element\n     * @param {boolean} isOnline\n     */\n    updateIndicator(element, isOnline) {\n      // Update classes\n      element.classList.toggle('is-online', isOnline);\n      element.classList.toggle('is-offline', !isOnline);\n\n      // Update tooltip if present\n      const tooltip = element.getAttribute('data-bs-original-title') || element.getAttribute('title');\n      if (tooltip) {\n        element.setAttribute('title', isOnline ? 'Online' : 'Offline');\n        element.setAttribute('data-bs-original-title', isOnline ? 'Online' : 'Offline');\n      }\n\n      // Dispatch custom event for other components to react\n      element.dispatchEvent(\n        new CustomEvent('onlineStatusChanged', {\n          detail: { isOnline },\n          bubbles: true,\n        })\n      );\n    }\n\n    /**\n     * Manually mark a user as online/offline (for WebSocket updates)\n     * @param {number|string} userId\n     * @param {boolean} isOnline\n     */\n    setUserStatus(userId, isOnline) {\n      const userIdStr = String(userId);\n\n      if (isOnline) {\n        this.onlineUserIds.add(userIdStr);\n      } else {\n        this.onlineUserIds.delete(userIdStr);\n      }\n\n      // Update indicators for this specific user\n      const indicators = document.querySelectorAll(`[data-online-status=\"${userId}\"]`);\n      indicators.forEach((indicator) => {\n        this.updateIndicator(indicator, isOnline);\n      });\n    }\n\n    /**\n     * Set up WebSocket listeners for real-time presence updates\n     */\n    setupWebSocketListeners() {\n      // Check if Socket.IO is available\n      if (typeof io === 'undefined') return;\n\n      // Try to get existing socket or wait for it\n      const checkSocket = () => {\n        if (window.socket && window.socket.connected) {\n          this.attachSocketListeners(window.socket);\n        } else {\n          // Retry in 1 second\n          setTimeout(checkSocket, 1000);\n        }\n      };\n\n      checkSocket();\n    }\n\n    /**\n     * Attach presence event listeners to socket\n     * @param {Socket} socket\n     */\n    attachSocketListeners(socket) {\n      socket.on('user_online', (data) => {\n        if (data.user_id) {\n          this.setUserStatus(data.user_id, true);\n        }\n      });\n\n      socket.on('user_offline', (data) => {\n        if (data.user_id) {\n          this.setUserStatus(data.user_id, false);\n        }\n      });\n\n      socket.on('presence_update', (data) => {\n        if (data.user_id !== undefined && data.online !== undefined) {\n          this.setUserStatus(data.user_id, data.online);\n        }\n      });\n    }\n\n    /**\n     * Stop the manager and clear intervals\n     */\n    destroy() {\n      if (this.intervalId) {\n        clearInterval(this.intervalId);\n        this.intervalId = null;\n      }\n      this.initialized = false;\n    }\n\n    /**\n     * Get count of online users\n     * @returns {number}\n     */\n    getOnlineCount() {\n      return this.onlineUserIds.size;\n    }\n\n    /**\n     * Get all online user IDs\n     * @returns {Array<string>}\n     */\n    getOnlineUserIds() {\n      return Array.from(this.onlineUserIds);\n    }\n  }\n\n  // Create global instance\n  window.OnlineStatusManager = new OnlineStatusManager();\n\n  // Auto-initialize when DOM is ready\n  if (document.readyState === 'loading') {\n    document.addEventListener('DOMContentLoaded', () => {\n      window.OnlineStatusManager.init();\n    });\n  } else {\n    window.OnlineStatusManager.init();\n  }\n})();\n","/**\n * ============================================================================\n * MODERN COMPONENTS CONTROLLER - ATHLETIC PRECISION\n * ============================================================================\n *\n * Unified JavaScript controller for all modern components\n * - Event delegation architecture\n * - Data-attribute based hooks\n * - No direct element binding\n * - Modular initialization\n * - Performance optimized\n *\n * Components handled:\n * - Modals\n * - Toasts\n * - Tooltips\n * - Dropdowns\n * - Tables (sorting, pagination)\n * - Forms (validation)\n *\n * ============================================================================\n */\n\n(function() {\n  'use strict';\n\n  /**\n   * ============================================================================\n   * MODAL CONTROLLER\n   * ============================================================================\n   */\n  const ModalController = {\n    activeModals: new Set(),\n\n    init() {\n      // Helper to safely get element from event target\n      const getElement = (target) => target instanceof Element ? target : null;\n\n      // Register modal triggers via EventDelegation\n      if (typeof EventDelegation !== 'undefined') {\n        EventDelegation.register('modal-trigger', (element, e) => {\n          const modalId = element.dataset.modalTrigger;\n          if (modalId) {\n            this.open(modalId);\n          }\n        }, { preventDefault: true });\n\n        EventDelegation.register('close-modal', (element, e) => {\n          const modal = element.closest('.c-modal-modern');\n          if (modal) this.close(modal.id);\n        }, { preventDefault: true });\n      }\n\n      // Close on backdrop click\n      document.addEventListener('click', (e) => {\n        const el = getElement(e.target);\n        if (!el) return;\n        if (el.classList.contains('c-modal-modern__backdrop')) {\n          const openModal = Array.from(this.activeModals).pop();\n          if (openModal) this.close(openModal);\n        }\n      });\n\n      // Close on Escape key\n      document.addEventListener('keydown', (e) => {\n        if (e.key === 'Escape' && this.activeModals.size > 0) {\n          const topModal = Array.from(this.activeModals).pop();\n          this.close(topModal);\n        }\n      });\n    },\n\n    open(modalId) {\n      const modal = document.getElementById(modalId);\n      const backdrop = document.querySelector(`[data-modal-backdrop=\"${modalId}\"]`);\n\n      if (!modal) return;\n\n      // Add to active stack\n      this.activeModals.add(modalId);\n\n      // Show backdrop\n      if (backdrop) {\n        backdrop.classList.add('is-open');\n      }\n\n      // Show modal\n      modal.classList.add('is-open');\n      modal.setAttribute('aria-hidden', 'false');\n\n      // Focus trap\n      this.trapFocus(modal);\n\n      // Emit custom event\n      modal.dispatchEvent(new CustomEvent('modal:opened', { detail: { id: modalId } }));\n    },\n\n    close(modalId) {\n      const modal = document.getElementById(modalId);\n      const backdrop = document.querySelector(`[data-modal-backdrop=\"${modalId}\"]`);\n\n      if (!modal) return;\n\n      // Add closing state for animation\n      modal.classList.add('is-closing');\n\n      setTimeout(() => {\n        modal.classList.remove('is-open', 'is-closing');\n        modal.setAttribute('aria-hidden', 'true');\n\n        if (backdrop) {\n          backdrop.classList.remove('is-open');\n        }\n\n        // Remove from active stack\n        this.activeModals.delete(modalId);\n\n        // Emit custom event\n        modal.dispatchEvent(new CustomEvent('modal:closed', { detail: { id: modalId } }));\n      }, 300);\n    },\n\n    trapFocus(modal) {\n      const focusableElements = modal.querySelectorAll(\n        'button, [href], input, select, textarea, [tabindex]:not([tabindex=\"-1\"])'\n      );\n      const firstElement = focusableElements[0];\n      const lastElement = focusableElements[focusableElements.length - 1];\n\n      const handleTabKey = (e) => {\n        if (e.key !== 'Tab') return;\n\n        if (e.shiftKey) {\n          if (document.activeElement === firstElement) {\n            lastElement.focus();\n            e.preventDefault();\n          }\n        } else {\n          if (document.activeElement === lastElement) {\n            firstElement.focus();\n            e.preventDefault();\n          }\n        }\n      };\n\n      modal.addEventListener('keydown', handleTabKey);\n      firstElement?.focus();\n    }\n  };\n\n  /**\n   * ============================================================================\n   * TOAST CONTROLLER\n   * ============================================================================\n   */\n  const ToastController = {\n    container: null,\n    toasts: new Map(),\n    idCounter: 0,\n\n    init() {\n      // Create toast container if doesn't exist\n      if (!this.container) {\n        this.container = document.createElement('div');\n        this.container.className = 'c-toast-modern__container';\n        document.body.appendChild(this.container);\n      }\n\n      // Register dismiss action via EventDelegation\n      if (typeof EventDelegation !== 'undefined') {\n        EventDelegation.register('dismiss-toast', (element, e) => {\n          const toastId = element.dataset.toastId;\n          if (toastId) {\n            this.dismiss(toastId);\n          }\n        });\n      }\n    },\n\n    show(options = {}) {\n      const {\n        type = 'info',\n        title,\n        message,\n        duration = 5000,\n        dismissible = true,\n        actions = []\n      } = options;\n\n      const toastId = `toast-${++this.idCounter}`;\n\n      const toast = document.createElement('div');\n      toast.className = `c-toast-modern c-toast-modern--${type}`;\n      toast.id = toastId;\n      toast.setAttribute('role', 'alert');\n      toast.setAttribute('aria-live', 'polite');\n\n      // Icon mapping\n      const icons = {\n        success: '',\n        error: '',\n        warning: '',\n        info: ''\n      };\n\n      toast.innerHTML = `\n        <div class=\"c-toast-modern__icon\">${icons[type] || icons.info}</div>\n        <div class=\"c-toast-modern__content\">\n          ${title ? `<h4 class=\"c-toast-modern__title\">${title}</h4>` : ''}\n          ${message ? `<p class=\"c-toast-modern__message\">${message}</p>` : ''}\n          ${actions.length > 0 ? `\n            <div class=\"c-toast-modern__actions\">\n              ${actions.map(action => `\n                <button class=\"c-toast-modern__action\" data-action=\"toast-action\" data-callback=\"${action.callback}\">\n                  ${action.label}\n                </button>\n              `).join('')}\n            </div>\n          ` : ''}\n        </div>\n        ${dismissible ? `\n          <button class=\"c-toast-modern__dismiss\" data-action=\"dismiss-toast\" data-toast-id=\"${toastId}\" aria-label=\"Close\"></button>\n        ` : ''}\n        ${duration > 0 ? `\n          <div class=\"c-toast-modern__progress\">\n            <div class=\"c-toast-modern__progress-bar\" data-duration=\"${duration}\"></div>\n          </div>\n        ` : ''}\n      `;\n\n      this.container.appendChild(toast);\n\n      // Trigger animation\n      requestAnimationFrame(() => {\n        toast.classList.add('is-visible');\n      });\n\n      // Auto-dismiss\n      if (duration > 0) {\n        setTimeout(() => {\n          this.dismiss(toastId);\n        }, duration);\n      }\n\n      this.toasts.set(toastId, toast);\n      return toastId;\n    },\n\n    dismiss(toastId) {\n      const toast = this.toasts.get(toastId);\n      if (!toast) return;\n\n      toast.classList.add('is-dismissing');\n      toast.classList.remove('is-visible');\n\n      setTimeout(() => {\n        toast.remove();\n        this.toasts.delete(toastId);\n      }, 300);\n    }\n  };\n\n  /**\n   * ============================================================================\n   * TOOLTIP CONTROLLER\n   * ============================================================================\n   */\n  const TooltipController = {\n    activeTooltip: null,\n    tooltips: new Map(),\n\n    init() {\n      // Helper to safely get element from event target\n      const getElement = (target) => target instanceof Element ? target : null;\n\n      // Find all elements with data-tooltip\n      document.addEventListener('mouseenter', (e) => {\n        const el = getElement(e.target);\n        if (!el) return;\n        const trigger = el.closest('[data-tooltip]');\n        if (trigger) {\n          this.show(trigger);\n        }\n      }, true);\n\n      document.addEventListener('mouseleave', (e) => {\n        const el = getElement(e.target);\n        if (!el) return;\n        const trigger = el.closest('[data-tooltip]');\n        if (trigger) {\n          this.hide();\n        }\n      }, true);\n\n      // Keyboard support\n      document.addEventListener('focus', (e) => {\n        const el = getElement(e.target);\n        if (!el) return;\n        const trigger = el.closest('[data-tooltip]');\n        if (trigger) {\n          this.show(trigger);\n        }\n      }, true);\n\n      document.addEventListener('blur', (e) => {\n        const el = getElement(e.target);\n        if (!el) return;\n        const trigger = el.closest('[data-tooltip]');\n        if (trigger) {\n          this.hide();\n        }\n      }, true);\n    },\n\n    show(trigger) {\n      const content = trigger.dataset.tooltip;\n      const position = trigger.dataset.tooltipPosition || 'top';\n      const variant = trigger.dataset.tooltipVariant || '';\n\n      if (!content) return;\n\n      // Create tooltip\n      const tooltip = document.createElement('div');\n      tooltip.className = `c-tooltip-modern c-tooltip-modern--${position} ${variant ? `c-tooltip-modern--${variant}` : ''}`;\n      tooltip.setAttribute('role', 'tooltip');\n      tooltip.innerHTML = `\n        ${content}\n        <div class=\"c-tooltip-modern__arrow\"></div>\n      `;\n\n      // Position tooltip\n      trigger.appendChild(tooltip);\n\n      // Show with animation\n      requestAnimationFrame(() => {\n        tooltip.classList.add('is-visible');\n      });\n\n      this.activeTooltip = tooltip;\n    },\n\n    hide() {\n      if (this.activeTooltip) {\n        this.activeTooltip.classList.remove('is-visible');\n        setTimeout(() => {\n          this.activeTooltip?.remove();\n          this.activeTooltip = null;\n        }, 200);\n      }\n    }\n  };\n\n  /**\n   * ============================================================================\n   * DROPDOWN CONTROLLER\n   * ============================================================================\n   */\n  const DropdownController = {\n    activeDropdown: null,\n\n    init() {\n      // Register dropdown trigger via EventDelegation\n      if (typeof EventDelegation !== 'undefined') {\n        EventDelegation.register('dropdown-trigger', (element, e) => {\n          const dropdownId = element.dataset.dropdownTrigger;\n          if (dropdownId) {\n            this.toggle(dropdownId);\n          }\n        }, { preventDefault: true });\n      } else {\n        // Fallback\n        document.addEventListener('click', (e) => {\n          if (!(e.target instanceof Element)) return;\n\n          const trigger = e.target.closest('[data-dropdown-trigger]');\n          if (trigger) {\n            e.preventDefault();\n            const dropdownId = trigger.dataset.dropdownTrigger;\n            this.toggle(dropdownId);\n          }\n        });\n      }\n\n      // Close if clicking outside\n      document.addEventListener('click', (e) => {\n        if (!e.target.closest('.c-dropdown-modern') && this.activeDropdown) {\n          this.close(this.activeDropdown);\n        }\n      });\n\n      // Keyboard navigation\n      document.addEventListener('keydown', (e) => {\n        if (e.key === 'Escape' && this.activeDropdown) {\n          this.close(this.activeDropdown);\n        }\n      });\n    },\n\n    toggle(dropdownId) {\n      const dropdown = document.getElementById(dropdownId);\n      if (!dropdown) return;\n\n      if (dropdown.classList.contains('is-open')) {\n        this.close(dropdownId);\n      } else {\n        // Close any open dropdown\n        if (this.activeDropdown) {\n          this.close(this.activeDropdown);\n        }\n        this.open(dropdownId);\n      }\n    },\n\n    open(dropdownId) {\n      const dropdown = document.getElementById(dropdownId);\n      if (!dropdown) return;\n\n      dropdown.classList.add('is-open');\n      this.activeDropdown = dropdownId;\n\n      // Emit event\n      dropdown.dispatchEvent(new CustomEvent('dropdown:opened', { detail: { id: dropdownId } }));\n    },\n\n    close(dropdownId) {\n      const dropdown = document.getElementById(dropdownId);\n      if (!dropdown) return;\n\n      dropdown.classList.remove('is-open');\n      if (this.activeDropdown === dropdownId) {\n        this.activeDropdown = null;\n      }\n\n      // Emit event\n      dropdown.dispatchEvent(new CustomEvent('dropdown:closed', { detail: { id: dropdownId } }));\n    }\n  };\n\n  /**\n   * ============================================================================\n   * TABLE CONTROLLER\n   * ============================================================================\n   */\n  const TableController = {\n    init() {\n      // Helper to safely get element from event target\n      const getElement = (target) => target instanceof Element ? target : null;\n\n      // Sortable columns\n      document.addEventListener('click', (e) => {\n        const el = getElement(e.target);\n        if (!el) return;\n        const header = el.closest('.c-table-modern__header--sortable');\n        if (header) {\n          this.sort(header);\n        }\n      });\n\n      // Pagination\n      document.addEventListener('click', (e) => {\n        const el = getElement(e.target);\n        if (!el) return;\n        const paginationBtn = el.closest('.c-table-modern__pagination-button');\n        if (paginationBtn && !paginationBtn.disabled) {\n          const page = parseInt(paginationBtn.dataset.page);\n          const tableId = paginationBtn.closest('[data-table-id]')?.dataset.tableId;\n          if (tableId) {\n            this.paginate(tableId, page);\n          }\n        }\n      });\n    },\n\n    sort(header) {\n      const table = header.closest('.c-table-modern');\n      const column = header.dataset.sortColumn;\n      const currentDirection = header.dataset.sortDirection || 'none';\n\n      // Determine new direction\n      let newDirection = 'asc';\n      if (currentDirection === 'asc') newDirection = 'desc';\n      if (currentDirection === 'desc') newDirection = 'none';\n\n      // Remove sorting from other headers\n      table.querySelectorAll('.c-table-modern__header--sortable').forEach(h => {\n        h.classList.remove('c-table-modern__header--sorted-asc', 'c-table-modern__header--sorted-desc');\n        h.dataset.sortDirection = 'none';\n      });\n\n      // Apply new sorting\n      if (newDirection !== 'none') {\n        header.classList.add(`c-table-modern__header--sorted-${newDirection}`);\n        header.dataset.sortDirection = newDirection;\n      }\n\n      // Emit event for external handling\n      table.dispatchEvent(new CustomEvent('table:sort', {\n        detail: { column, direction: newDirection }\n      }));\n    },\n\n    paginate(tableId, page) {\n      const table = document.querySelector(`[data-table-id=\"${tableId}\"]`);\n      if (!table) return;\n\n      // Emit event for external handling\n      table.dispatchEvent(new CustomEvent('table:paginate', {\n        detail: { page }\n      }));\n    }\n  };\n\n  /**\n   * ============================================================================\n   * FORM VALIDATION CONTROLLER\n   * ============================================================================\n   */\n  const FormController = {\n    init() {\n      // Helper to safely get element from event target\n      const getElement = (target) => target instanceof Element ? target : null;\n\n      // Real-time validation\n      document.addEventListener('blur', (e) => {\n        const el = getElement(e.target);\n        if (!el) return;\n        const input = el.closest('.c-form-modern__input');\n        if (input) {\n          this.validateField(input);\n        }\n      }, true);\n\n      // Form submission\n      document.addEventListener('submit', (e) => {\n        const el = getElement(e.target);\n        if (!el) return;\n        const form = el.closest('form[data-validate]');\n        if (form) {\n          if (!this.validateForm(form)) {\n            e.preventDefault();\n          }\n        }\n      });\n    },\n\n    validateField(input) {\n      const isValid = input.checkValidity();\n\n      if (isValid) {\n        input.classList.remove('is-invalid');\n        input.classList.add('is-valid');\n        this.clearError(input);\n      } else {\n        input.classList.remove('is-valid');\n        input.classList.add('is-invalid');\n        this.showError(input, input.validationMessage);\n      }\n\n      return isValid;\n    },\n\n    validateForm(form) {\n      const inputs = form.querySelectorAll('.c-form-modern__input');\n      let isValid = true;\n\n      inputs.forEach(input => {\n        if (!this.validateField(input)) {\n          isValid = false;\n        }\n      });\n\n      return isValid;\n    },\n\n    showError(input, message) {\n      let feedback = input.parentElement.querySelector('.c-form-modern__feedback--invalid');\n\n      if (!feedback) {\n        feedback = document.createElement('div');\n        feedback.className = 'c-form-modern__feedback c-form-modern__feedback--invalid';\n        input.parentElement.appendChild(feedback);\n      }\n\n      feedback.textContent = message;\n    },\n\n    clearError(input) {\n      const feedback = input.parentElement.querySelector('.c-form-modern__feedback--invalid');\n      if (feedback) {\n        feedback.remove();\n      }\n    }\n  };\n\n  /**\n   * ============================================================================\n   * INITIALIZATION\n   * ============================================================================\n   */\n  function init() {\n    // NOTE: ModalController is DISABLED to prevent conflicts with ModalManager\n    // ModalManager (modal-manager.js) handles all Bootstrap modals (.modal class)\n    // ModalController was designed for .c-modal-modern class which is not used in templates\n    // Keeping the controller code for reference but not initializing it\n    // ModalController.init();\n    ToastController.init();\n    TooltipController.init();\n    DropdownController.init();\n    TableController.init();\n    FormController.init();\n\n    console.log('Modern components initialized');\n  }\n\n  // Expose API for external use\n  window.ModernComponents = {\n    Modal: ModalController,\n    Toast: ToastController,\n    Tooltip: TooltipController,\n    Dropdown: DropdownController,\n    Table: TableController,\n    Form: FormController\n  };\n\n  // Register with InitSystem if available\n  if (typeof window.InitSystem !== 'undefined' && window.InitSystem.register) {\n    window.InitSystem.register('components-modern', init, {\n      priority: 70,\n      description: 'Modern UI components (toast, tooltip, dropdown, table, form)',\n      reinitializable: true\n    });\n  } else {\n    // Fallback: Initialize on DOM ready\n    if (document.readyState === 'loading') {\n      document.addEventListener('DOMContentLoaded', init);\n    } else {\n      init();\n    }\n  }\n\n})();\n","/**\n * ECS Soccer League Responsive System\n *\n * A comprehensive responsive management system that handles device detection,\n * responsive behavior, and UI enhancements across all screen sizes and devices.\n *\n * REFACTORED: All inline style manipulations replaced with CSS class-based approach\n * for better maintainability, performance, and separation of concerns.\n *\n * @version 1.0.2\n * @updated 2025-12-26 - Code review for EventDelegation (no changes needed)\n */\n(function () {\n  'use strict';\n\n  // Main responsive system controller\n  const ResponsiveSystem = {\n    // Device detection states\n    device: {\n      isMobile: false,\n      isTablet: false,\n      isDesktop: false,\n      isIOS: false,\n      isAndroid: false,\n      hasTouch: false,\n      hasMouse: false\n    },\n\n    /**\n     * Initialize the responsive system\n     */\n    init: function () {\n      this.detectDevice();\n      this.applyDeviceClasses();\n      this.fixIOSViewportHeight();\n      this.setupTouchFeedback();\n      this.enhanceModals();\n      this.enhanceFormControls();\n      this.enhanceTables();\n      this.enhanceNavigation();\n      this.improveScrolling();\n      this.monitorNetworkStatus();\n      this.attachEventListeners();\n      this.setupMutationObserver();\n\n      // Log initialization\n      // console.log('ResponsiveSystem initialized', this.device);\n    },\n\n    /**\n     * Detect device capabilities and properties\n     */\n    detectDevice: function () {\n      // Touch capability detection\n      this.device.hasTouch = ('ontouchstart' in window) ||\n        (navigator.maxTouchPoints > 0) ||\n        (navigator.msMaxTouchPoints > 0);\n\n      // Mouse capability detection\n      this.device.hasMouse = matchMedia('(hover: hover) and (pointer: fine)').matches;\n\n      // Screen size detection\n      const screenWidth = window.innerWidth;\n      this.device.isMobile = screenWidth < 768;\n      this.device.isTablet = screenWidth >= 768 && screenWidth < 992;\n      this.device.isDesktop = screenWidth >= 992;\n\n      // OS detection\n      const userAgent = navigator.userAgent.toLowerCase();\n      this.device.isIOS = /iphone|ipad|ipod/.test(userAgent);\n      this.device.isAndroid = /android/.test(userAgent);\n    },\n\n    /**\n     * Apply device-specific classes to the body element\n     */\n    applyDeviceClasses: function () {\n      const body = document.body;\n\n      // Remove existing classes to prevent duplicates\n      body.classList.remove(\n        'mobile-device', 'tablet-device', 'desktop-device',\n        'ios-device', 'android-device', 'touch-device', 'mouse-device'\n      );\n\n      // Add device type classes\n      if (this.device.isMobile) body.classList.add('mobile-device');\n      if (this.device.isTablet) body.classList.add('tablet-device');\n      if (this.device.isDesktop) body.classList.add('desktop-device');\n\n      // Add OS type classes\n      if (this.device.isIOS) body.classList.add('ios-device');\n      if (this.device.isAndroid) body.classList.add('android-device');\n\n      // Add input type classes\n      if (this.device.hasTouch) body.classList.add('touch-device');\n      if (this.device.hasMouse) body.classList.add('mouse-device');\n    },\n\n    /**\n     * Fix iOS 100vh issue with CSS custom property\n     * REFACTORED: Using CSS custom property instead of inline styles\n     */\n    fixIOSViewportHeight: function () {\n      const setVh = () => {\n        const vh = window.innerHeight * 0.01;\n        // CSS custom property - this is acceptable as it's dynamic viewport calculation\n        document.documentElement.style.setProperty('--vh', `${vh}px`);\n      };\n\n      // Set initially and on viewport changes\n      setVh();\n      window.addEventListener('resize', setVh);\n      window.addEventListener('orientationchange', () => {\n        // Wait for orientation change to complete before setting new height\n        setTimeout(setVh, 100);\n      });\n\n      // Special handling for iOS keyboard\n      if (this.device.isIOS) {\n        const inputs = document.querySelectorAll('input, textarea, select');\n        inputs.forEach(input => {\n          // Skip checkboxes and radio buttons - they don't need keyboard\n          if (input.type === 'checkbox' || input.type === 'radio') {\n            return;\n          }\n\n          // Add class when keyboard is visible\n          input.addEventListener('focus', () => {\n            document.documentElement.classList.add('keyboard-visible');\n          });\n\n          // Remove class when keyboard is hidden\n          input.addEventListener('blur', () => {\n            document.documentElement.classList.remove('keyboard-visible');\n          });\n        });\n      }\n    },\n\n    /**\n     * Set up touch feedback for interactive elements\n     */\n    setupTouchFeedback: function () {\n      if (this.device.hasTouch) {\n        const touchElements = document.querySelectorAll('button, .btn, a.nav-link, .card-header');\n\n        touchElements.forEach(el => {\n          // Use opacity change instead of transform for feedback\n          el.addEventListener('touchstart', function () {\n            this.classList.add('touch-active');\n\n            // Add haptic feedback for buttons (handled by mobile-haptics.js auto-init)\n            // Individual haptic calls are in mobile-haptics.js, so no need to duplicate here\n          }, { passive: true });\n\n          el.addEventListener('touchend', function () {\n            this.classList.remove('touch-active');\n          }, { passive: true });\n        });\n      }\n    },\n\n    /**\n     * Enhance modal behavior on mobile devices\n     * REFACTORED: Replaced inline styles with CSS classes\n     */\n    enhanceModals: function () {\n      const modals = document.querySelectorAll('[data-modal]');\n\n      modals.forEach(modal => {\n        const modalDialog = modal.querySelector('[data-modal-dialog]');\n\n        // Auto-convert modals to bottom sheets on mobile (unless explicitly disabled)\n        if (this.device.isMobile && !modal.hasAttribute('data-no-bottom-sheet') && modalDialog) {\n          // Don't convert if modal-keep-centered class is present\n          if (!modalDialog.classList.contains('modal-keep-centered')) {\n            // Remove any size classes that would interfere\n            modalDialog.classList.remove('modal-lg', 'modal-xl', 'modal-sm');\n          }\n        }\n\n        // Setup swipe-to-dismiss on mobile bottom sheets\n        if (this.device.isMobile && modal.getAttribute('data-dismiss-on-swipe') === 'true') {\n          this.setupModalSwipeDismiss(modal);\n        }\n\n        // Focus management and scrolling improvements\n        modal.addEventListener('shown.bs.modal', () => {\n          // Haptic feedback when modal opens\n          if (window.Haptics) {\n            window.Haptics.modalOpen();\n          }\n\n          // Prevent body scroll on iOS\n          // REFACTORED: Using CSS class instead of inline styles\n          if (this.device.isIOS) {\n            document.body.classList.add('scroll-locked');\n          }\n\n          // Focus first interactive element\n          const focusable = modal.querySelector('input:not([type=\"hidden\"]), button.btn-close, button:not(.close), [tabindex]:not([tabindex=\"-1\"])');\n          if (focusable) {\n            setTimeout(() => focusable.focus(), 100);\n          }\n\n          // iOS-specific modal fixes\n          // REFACTORED: Using CSS class instead of inline styles\n          if (this.device.isIOS) {\n            const modalBody = modal.querySelector('[data-modal-body]');\n            if (modalBody) {\n              modalBody.classList.add('modal-body-scrollable');\n            }\n          }\n\n          // Mobile optimization for bottom sheets\n          // REFACTORED: Using CSS class instead of inline styles\n          if (this.device.isMobile) {\n            const modalContent = modal.querySelector('[data-modal-content]');\n            if (modalContent && !modalDialog.classList.contains('modal-keep-centered')) {\n              modalContent.classList.add('modal-content-mobile');\n            }\n          }\n\n          // Handle keyboard open state\n          this.handleModalKeyboard(modal);\n        });\n\n        // Cleanup when modal is closed\n        modal.addEventListener('hidden.bs.modal', () => {\n          // Haptic feedback when modal closes\n          if (window.Haptics) {\n            window.Haptics.modalClose();\n          }\n\n          // Restore body scroll on iOS\n          // REFACTORED: Using CSS class removal instead of inline style removal\n          if (this.device.isIOS) {\n            document.body.classList.remove('scroll-locked');\n          }\n\n          // Remove keyboard open class\n          document.body.classList.remove('keyboard-open');\n\n          // Cleanup modal body scrollable class\n          const modalBody = modal.querySelector('[data-modal-body]');\n          if (modalBody) {\n            modalBody.classList.remove('modal-body-scrollable');\n          }\n\n          // Cleanup modal content mobile class\n          const modalContent = modal.querySelector('[data-modal-content]');\n          if (modalContent) {\n            modalContent.classList.remove('modal-content-mobile');\n          }\n\n          this.cleanupModalBackdrops();\n        });\n\n        // Add haptic feedback to close buttons\n        const closeButtons = modal.querySelectorAll('.btn-close, [data-bs-dismiss=\"modal\"]');\n        closeButtons.forEach(btn => {\n          btn.addEventListener('click', () => {\n            if (window.Haptics) {\n              window.Haptics.light();\n            }\n          }, { passive: true });\n        });\n      });\n    },\n\n    /**\n     * Setup swipe-to-dismiss functionality for mobile modals\n     * REFACTORED: Replaced inline styles with CSS classes\n     */\n    setupModalSwipeDismiss: function (modal) {\n      if (!this.device.isMobile) return;\n\n      const modalDialog = modal.querySelector('[data-modal-dialog]');\n      const modalHeader = modal.querySelector('[data-modal-header]');\n\n      if (!modalDialog || !modalHeader) return;\n\n      let startY = 0;\n      let currentY = 0;\n      let isDragging = false;\n\n      // Touch start\n      modalHeader.addEventListener('touchstart', (e) => {\n        startY = e.touches[0].clientY;\n        isDragging = true;\n        modalDialog.classList.add('swiping');\n      }, { passive: true });\n\n      // Touch move\n      modalHeader.addEventListener('touchmove', (e) => {\n        if (!isDragging) return;\n\n        currentY = e.touches[0].clientY;\n        const deltaY = currentY - startY;\n\n        // Only allow downward swipe\n        // REFACTORED: Using CSS custom property for dynamic transform\n        if (deltaY > 0) {\n          e.preventDefault();\n          // Use CSS custom property for dynamic transform value\n          modalDialog.style.setProperty('--swipe-offset', `${deltaY}px`);\n          modalDialog.style.transform = `translateY(var(--swipe-offset))`;\n          modalDialog.classList.add('transition-none');\n        }\n      });\n\n      // Touch end\n      modalHeader.addEventListener('touchend', (e) => {\n        if (!isDragging) return;\n\n        isDragging = false;\n        modalDialog.classList.remove('swiping');\n\n        const deltaY = currentY - startY;\n        const threshold = 100; // Pixels to swipe before dismissing\n\n        if (deltaY > threshold) {\n          // Dismiss modal\n          if (window.Haptics) {\n            window.Haptics.light();\n          }\n\n          // Animate out\n          // REFACTORED: Using CSS classes for animation\n          modalDialog.classList.remove('transition-none');\n          modalDialog.classList.add('swipe-animating', 'swipe-dismiss');\n\n          setTimeout(() => {\n            const bsModal = bootstrap.Modal.getInstance(modal);\n            if (bsModal) {\n              bsModal.hide();\n            }\n            // Reset transform\n            // REFACTORED: Using CSS classes instead of inline styles\n            modalDialog.classList.remove('swipe-animating', 'swipe-dismiss');\n            modalDialog.style.removeProperty('--swipe-offset');\n            modalDialog.style.removeProperty('transform');\n          }, 300);\n        } else {\n          // Snap back\n          // REFACTORED: Using CSS classes for animation\n          modalDialog.classList.remove('transition-none');\n          modalDialog.classList.add('swipe-animating', 'swipe-reset');\n\n          setTimeout(() => {\n            modalDialog.classList.remove('swipe-animating', 'swipe-reset');\n            modalDialog.style.removeProperty('--swipe-offset');\n            modalDialog.style.removeProperty('transform');\n          }, 300);\n        }\n\n        currentY = 0;\n      }, { passive: true });\n    },\n\n    /**\n     * Handle keyboard open/close for modals\n     */\n    handleModalKeyboard: function (modal) {\n      if (!this.device.isMobile) return;\n\n      const inputs = modal.querySelectorAll('input, textarea, select');\n\n      inputs.forEach(input => {\n        input.addEventListener('focus', () => {\n          document.body.classList.add('keyboard-open');\n\n          // Scroll input into view\n          setTimeout(() => {\n            input.scrollIntoView({ behavior: 'smooth', block: 'center' });\n          }, 300);\n        });\n\n        input.addEventListener('blur', () => {\n          // Check if another input in the same modal has focus\n          setTimeout(() => {\n            const activeElement = document.activeElement;\n            const isInputFocused = modal.contains(activeElement) &&\n                                   (activeElement.tagName === 'INPUT' ||\n                                    activeElement.tagName === 'TEXTAREA' ||\n                                    activeElement.tagName === 'SELECT');\n\n            if (!isInputFocused) {\n              document.body.classList.remove('keyboard-open');\n            }\n          }, 100);\n        });\n      });\n    },\n\n    /**\n     * Enhance form controls for better mobile experience\n     * REFACTORED: Replaced inline styles with CSS classes\n     */\n    enhanceFormControls: function () {\n      // Enhance standard form controls\n      if (this.device.isMobile || this.device.isTablet) {\n        const formControls = document.querySelectorAll('[data-form-control], [data-form-select]');\n        formControls.forEach(control => {\n          // Ensure minimum touch target size\n          // REFACTORED: Using CSS class instead of inline style\n          if (control.offsetHeight < 44) {\n            control.classList.add('form-control-touch-target');\n          }\n\n          // iOS date input fixes\n          // REFACTORED: Using CSS class instead of inline styles\n          if (this.device.isIOS && (control.type === 'date' || control.type === 'time' || control.type === 'datetime-local')) {\n            control.classList.add('form-control-ios-date');\n          }\n        });\n      }\n\n      // Enhance Select2 if available\n      if (typeof $.fn !== 'undefined' && typeof $.fn.select2 !== 'undefined') {\n        try {\n          setTimeout(() => {\n            $('.select2-container').each(function () {\n              const selectElement = $(this).siblings('select');\n              if (selectElement.length) {\n                // Configure Select2 with mobile-friendly options\n                const config = {\n                  theme: 'bootstrap-5',\n                  width: '100%',\n                  // Set dropdown to modal if in modal context\n                  dropdownParent: $(selectElement).closest('.modal').length ?\n                    $(selectElement).closest('.modal') : $('body')\n                };\n\n                // Set appropriate placeholder\n                config.placeholder = selectElement.data('placeholder') ||\n                  (selectElement.is('[multiple]') ? 'Select multiple options' : 'Select an option');\n\n                // Initialize Select2\n                selectElement.select2(config);\n              }\n            });\n          }, 300);\n        } catch (e) {\n          // console.warn('Error enhancing Select2:', e);\n        }\n      }\n    },\n\n    /**\n     * Enhance tables for better mobile experience\n     * REFACTORED: Replaced inline styles with CSS classes\n     */\n    enhanceTables: function () {\n      const tables = document.querySelectorAll('[data-table-responsive]');\n\n      tables.forEach(table => {\n        // Ensure touch scrolling works well\n        // REFACTORED: Using CSS class instead of inline style\n        table.classList.add('table-responsive-touch');\n\n        // Add faded edge indicators for scrollable tables on mobile\n        if (this.device.isMobile && !table.querySelector('.table-scroll-hint')) {\n          const tableWidth = table.scrollWidth;\n          const containerWidth = table.clientWidth;\n\n          if (tableWidth > containerWidth) {\n            // Add scroll hint indicator\n            const scrollHint = document.createElement('div');\n            scrollHint.className = 'table-scroll-hint';\n            scrollHint.innerHTML = '<small class=\"text-muted\"><i class=\"ti ti-arrows-horizontal me-1\"></i>swipe to see more</small>';\n\n            table.parentNode.insertBefore(scrollHint, table.nextSibling);\n\n            // Hide hint when user has scrolled\n            // REFACTORED: Using CSS classes instead of inline styles\n            table.addEventListener('scroll', function() {\n              if (this.scrollLeft > 20) {\n                scrollHint.classList.add('hidden');\n              }\n            });\n          }\n        }\n      });\n    },\n\n    /**\n     * Enhance navigation elements for touch devices\n     * REFACTORED: Replaced inline styles with CSS classes\n     */\n    enhanceNavigation: function () {\n      // Make tabs scrollable on mobile\n      const tabContainers = document.querySelectorAll('[data-tabs], .js-tabs');\n\n      tabContainers.forEach(container => {\n        // Check prerequisites first\n        const tabs = container.querySelectorAll('.nav-link');\n        const isOnMobile = window.innerWidth < 768;\n        const hasMultipleTabs = tabs.length > 1;\n        const hasOverflow = container.scrollWidth > container.clientWidth;\n\n        // Only show on mobile with multiple tabs that actually overflow\n        if (isOnMobile && hasMultipleTabs && hasOverflow) {\n          // Apply scrolling styles\n          // REFACTORED: Using CSS class instead of inline styles\n          container.classList.add('scrollable-tabs');\n\n          // Add scroll indicator if not present\n          if (!container.nextElementSibling || !container.nextElementSibling.classList.contains('tabs-scroll-hint')) {\n            const scrollHint = document.createElement('div');\n            scrollHint.className = 'tabs-scroll-hint';\n            scrollHint.innerHTML = '<small class=\"text-muted\"><i class=\"ti ti-arrows-horizontal me-1\"></i>swipe</small>';\n\n            container.parentNode.insertBefore(scrollHint, container.nextSibling);\n          }\n        } else {\n          // Remove any existing swipe hints on desktop or single tabs\n          const existingHint = container.nextElementSibling;\n          if (existingHint && existingHint.classList.contains('tabs-scroll-hint')) {\n            existingHint.remove();\n          }\n        }\n      });\n\n      // Enhance sidebar menu on mobile\n      const sidebarMenu = document.querySelector('.layout-menu');\n      if (sidebarMenu && (this.device.isMobile || this.device.isTablet)) {\n        const menuItems = sidebarMenu.querySelectorAll('.menu-item');\n\n        menuItems.forEach(item => {\n          // Make dropdown toggles more touch-friendly\n          // REFACTORED: Using CSS class instead of inline style\n          if (item.classList.contains('menu-item-has-children')) {\n            const toggle = item.querySelector('.menu-toggle');\n            if (toggle) {\n              toggle.classList.add('menu-toggle-touch');\n            }\n          }\n\n          // Make all menu links more touch-friendly\n          // REFACTORED: Using CSS class instead of inline style\n          const link = item.querySelector('.menu-link');\n          if (link) {\n            link.classList.add('menu-link-touch');\n          }\n        });\n      }\n    },\n\n    /**\n     * Improve scrolling behavior site-wide\n     */\n    improveScrolling: function () {\n      // Enable smooth scrolling for anchor links\n      document.querySelectorAll('a[href^=\"#\"]').forEach(anchor => {\n        if (anchor.getAttribute('href').length > 1) {\n          anchor.addEventListener('click', function(e) {\n            const targetId = this.getAttribute('href');\n            if (targetId === '#' || !targetId) return;\n\n            const targetElement = document.querySelector(targetId);\n            if (targetElement) {\n              e.preventDefault();\n\n              // Scroll smoothly to target\n              targetElement.scrollIntoView({\n                behavior: 'smooth',\n                block: 'start'\n              });\n            }\n          });\n        }\n      });\n    },\n\n    /**\n     * Monitor network status and display notifications\n     */\n    monitorNetworkStatus: function () {\n      window.addEventListener('online', () => {\n        this.showNetworkStatus(true);\n      });\n\n      window.addEventListener('offline', () => {\n        this.showNetworkStatus(false);\n      });\n    },\n\n    /**\n     * Show network status toast notification\n     * REFACTORED: Replaced inline styles with CSS classes\n     */\n    showNetworkStatus: function (isOnline) {\n      const statusDiv = document.createElement('div');\n      statusDiv.className = 'network-status-indicator';\n\n      if (isOnline) {\n        statusDiv.classList.add('online');\n        statusDiv.innerHTML = '<i class=\"ti ti-wifi me-2\"></i> Connected';\n      } else {\n        statusDiv.classList.add('offline');\n        statusDiv.innerHTML = '<i class=\"ti ti-wifi-off me-2\"></i> Disconnected';\n      }\n\n      document.body.appendChild(statusDiv);\n\n      // Animate in\n      // REFACTORED: Using CSS class instead of inline style\n      setTimeout(() => {\n        statusDiv.classList.add('visible');\n      }, 10);\n\n      // Hide after delay\n      setTimeout(() => {\n        statusDiv.classList.remove('visible');\n\n        setTimeout(() => {\n          if (statusDiv.parentNode) {\n            document.body.removeChild(statusDiv);\n          }\n        }, 300);\n      }, 3000);\n    },\n\n    /**\n     * Attach global event listeners\n     */\n    attachEventListeners: function () {\n      // Handle orientation changes\n      window.addEventListener('orientationchange', () => {\n        // Run after orientation change completes\n        setTimeout(() => {\n          this.fixIOSViewportHeight();\n          this.enhanceNavigation();\n\n          // Dispatch custom event for other components\n          document.dispatchEvent(new CustomEvent('app:orientationchange'));\n        }, 200);\n      });\n\n      // Handle resize (debounced)\n      let resizeTimer;\n      window.addEventListener('resize', () => {\n        clearTimeout(resizeTimer);\n        resizeTimer = setTimeout(() => {\n          // Update device detection and classes\n          this.detectDevice();\n          this.applyDeviceClasses();\n          this.fixIOSViewportHeight();\n\n          // Re-enhance components after resize\n          this.enhanceNavigation();\n          this.enhanceTables();\n\n          // Notify other components\n          document.dispatchEvent(new CustomEvent('app:resize'));\n        }, 250);\n      });\n\n      // Fix modal backdrop issues (keep this - non-action click listener)\n      document.addEventListener('click', () => {\n        setTimeout(this.cleanupModalBackdrops.bind(this), 300);\n      });\n\n      // Fix iOS tab bar hiding issue\n      if (this.device.isIOS) {\n        window.addEventListener('scroll', () => {\n          // Force address bar to show/hide properly\n          document.body.scrollTop = document.body.scrollTop + 1;\n          document.body.scrollTop = document.body.scrollTop - 1;\n        }, { passive: true });\n      }\n    },\n\n    /**\n     * Clean up any stray modal backdrops\n     * REFACTORED: Using removeProperty instead of direct style manipulation\n     */\n    cleanupModalBackdrops: function () {\n      const openModals = document.querySelectorAll('.modal.show');\n      const modalBackdrops = document.querySelectorAll('.modal-backdrop');\n\n      // If there are no open modals but we have backdrops, clean them up\n      if (openModals.length === 0 && modalBackdrops.length > 0) {\n        modalBackdrops.forEach(backdrop => {\n          if (backdrop.parentNode) {\n            backdrop.parentNode.removeChild(backdrop);\n          }\n        });\n\n        // Fix body classes and styles\n        // REFACTORED: Using removeProperty instead of setting empty string\n        document.body.classList.remove('modal-open');\n        document.body.style.removeProperty('overflow');\n        document.body.style.removeProperty('padding-right');\n      }\n    },\n\n    /**\n     * Set up observer to watch for dynamically added elements\n     */\n    setupMutationObserver: function () {\n      // Create MutationObserver instance\n      const observer = new MutationObserver((mutations) => {\n        let shouldEnhance = false;\n\n        // Check if we need to enhance elements\n        mutations.forEach(mutation => {\n          if (mutation.addedNodes.length) {\n            // Look for meaningful DOM changes that would require enhancement\n            for (let i = 0; i < mutation.addedNodes.length; i++) {\n              const node = mutation.addedNodes[i];\n              if (node.nodeType === 1) { // Only element nodes\n                if (\n                  node.hasAttribute && (\n                    node.hasAttribute('data-modal') ||\n                    node.hasAttribute('data-form-control') ||\n                    node.hasAttribute('data-form-select') ||\n                    node.hasAttribute('data-tabs') ||\n                    node.hasAttribute('data-table-responsive')\n                  )\n                ) {\n                  shouldEnhance = true;\n                  break;\n                }\n\n                // Check if added node contains elements we care about\n                if (\n                  node.querySelector && (\n                    node.querySelector('[data-modal]') ||\n                    node.querySelector('[data-form-control]') ||\n                    node.querySelector('[data-form-select]') ||\n                    node.querySelector('[data-tabs], .js-tabs') ||\n                    node.querySelector('[data-table-responsive]')\n                  )\n                ) {\n                  shouldEnhance = true;\n                  break;\n                }\n              }\n            }\n          }\n        });\n\n        // Enhance new elements if needed\n        if (shouldEnhance) {\n          setTimeout(() => {\n            this.enhanceNewElements();\n          }, 100);\n        }\n      });\n\n      // Start observing the document\n      observer.observe(document.body, {\n        childList: true,\n        subtree: true\n      });\n    },\n\n    /**\n     * Enhance dynamically added elements\n     */\n    enhanceNewElements: function () {\n      this.setupTouchFeedback();\n      this.enhanceFormControls();\n      this.enhanceTables();\n      this.enhanceNavigation();\n      this.enhanceModals();\n    }\n  };\n\n  // Make available globally\n  window.ResponsiveSystem = ResponsiveSystem;\n\n  // Register with InitSystem if available\n  if (typeof window.InitSystem !== 'undefined' && window.InitSystem.register) {\n    window.InitSystem.register('responsive-system', function() {\n      ResponsiveSystem.init();\n    }, {\n      priority: 85,\n      description: 'Responsive system (mobile detection, touch feedback, form/table/modal enhancements)',\n      reinitializable: true\n    });\n  } else {\n    // Fallback: Initialize when DOM is ready\n    document.addEventListener('DOMContentLoaded', function () {\n      ResponsiveSystem.init();\n    });\n  }\n})();\n","/**\n * UI Enhancements - Additional JavaScript for UI fixes\n */\n\n(function() {\n    'use strict';\n\n    /**\n     * Initialize all UI enhancements when DOM is ready\n     */\n    function init() {\n        initFeatherIcons();\n        initMatchHistoryCollapse();\n        registerDropdownActions();\n    }\n\n    /**\n     * Initialize Feather Icons\n     * Re-runs feather.replace() to ensure all icons are rendered\n     */\n    function initFeatherIcons() {\n        if (typeof feather !== 'undefined') {\n            // Initial replace\n            feather.replace();\n\n            // Also watch for dynamic content\n            const observer = new MutationObserver(function(mutations) {\n                let hasNewFeatherIcons = false;\n                mutations.forEach(function(mutation) {\n                    mutation.addedNodes.forEach(function(node) {\n                        if (node.nodeType === Node.ELEMENT_NODE) {\n                            if (node.hasAttribute && node.hasAttribute('data-feather')) {\n                                hasNewFeatherIcons = true;\n                            }\n                            if (node.querySelector && node.querySelector('[data-feather]')) {\n                                hasNewFeatherIcons = true;\n                            }\n                        }\n                    });\n                });\n                if (hasNewFeatherIcons) {\n                    feather.replace();\n                }\n            });\n\n            observer.observe(document.body, {\n                childList: true,\n                subtree: true\n            });\n        }\n    }\n\n    /**\n     * Initialize Match History Collapsible Weeks\n     */\n    function initMatchHistoryCollapse() {\n        const dateGroups = document.querySelectorAll('.c-match-history__date-group');\n\n        dateGroups.forEach(function(group, index) {\n            const header = group.querySelector('.c-match-history__date-header');\n\n            if (header) {\n                // Collapse all groups except the first one by default\n                if (index > 0) {\n                    group.classList.add('is-collapsed');\n                }\n\n                header.addEventListener('click', function() {\n                    group.classList.toggle('is-collapsed');\n                });\n\n                // Make header keyboard accessible\n                header.setAttribute('role', 'button');\n                header.setAttribute('tabindex', '0');\n                header.addEventListener('keydown', function(e) {\n                    if (e.key === 'Enter' || e.key === ' ') {\n                        e.preventDefault();\n                        group.classList.toggle('is-collapsed');\n                    }\n                });\n            }\n        });\n    }\n\n    /**\n     * Register dropdown actions with EventDelegation\n     */\n    function registerDropdownActions() {\n        if (typeof EventDelegation !== 'undefined') {\n            EventDelegation.register('toggle-dropdown', handleToggleDropdown, { preventDefault: true });\n        } else {\n            // Fallback: direct event listeners if EventDelegation not available\n            initDropdownFallback();\n        }\n\n        // Close dropdowns when clicking outside\n        document.addEventListener('click', handleOutsideClick);\n    }\n\n    /**\n     * Handle dropdown toggle action\n     * @param {Element} element - The element that was clicked (from EventDelegation)\n     * @param {Event} e - The click event\n     */\n    function handleToggleDropdown(element, e) {\n        e.stopPropagation();\n\n        const dropdownId = element.getAttribute('data-dropdown');\n        const dropdown = document.querySelector(`[data-dropdown-id=\"${dropdownId}\"]`);\n\n        if (dropdown) {\n            // Close all other dropdowns\n            document.querySelectorAll('.c-navbar-modern__dropdown.is-open').forEach(function(d) {\n                if (d !== dropdown) {\n                    d.classList.remove('is-open');\n                    d.setAttribute('aria-hidden', 'true');\n                }\n            });\n\n            // Toggle this dropdown\n            const isOpen = dropdown.classList.toggle('is-open');\n            dropdown.setAttribute('aria-hidden', !isOpen);\n            element.setAttribute('aria-expanded', isOpen);\n        }\n    }\n\n    /**\n     * Fallback dropdown initialization (if EventDelegation not available)\n     */\n    function initDropdownFallback() {\n        document.querySelectorAll('[data-action=\"toggle-dropdown\"]').forEach(function(btn) {\n            btn.addEventListener('click', function(e) {\n                e.preventDefault();\n                e.stopPropagation();\n\n                const dropdownId = this.getAttribute('data-dropdown');\n                const dropdown = document.querySelector(`[data-dropdown-id=\"${dropdownId}\"]`);\n\n                if (dropdown) {\n                    // Close all other dropdowns\n                    document.querySelectorAll('.c-navbar-modern__dropdown.is-open').forEach(function(d) {\n                        if (d !== dropdown) {\n                            d.classList.remove('is-open');\n                            d.setAttribute('aria-hidden', 'true');\n                        }\n                    });\n\n                    // Toggle this dropdown\n                    const isOpen = dropdown.classList.toggle('is-open');\n                    dropdown.setAttribute('aria-hidden', !isOpen);\n                    this.setAttribute('aria-expanded', isOpen);\n                }\n            });\n        });\n    }\n\n    /**\n     * Handle clicks outside dropdowns\n     */\n    function handleOutsideClick(e) {\n        if (!e.target.closest('.c-navbar-modern__dropdown') &&\n            !e.target.closest('[data-action=\"toggle-dropdown\"]')) {\n            document.querySelectorAll('.c-navbar-modern__dropdown.is-open').forEach(function(d) {\n                d.classList.remove('is-open');\n                d.setAttribute('aria-hidden', 'true');\n            });\n            document.querySelectorAll('[data-action=\"toggle-dropdown\"]').forEach(function(btn) {\n                btn.setAttribute('aria-expanded', 'false');\n            });\n        }\n    }\n\n    // Initialize on DOM ready\n    if (document.readyState === 'loading') {\n        document.addEventListener('DOMContentLoaded', init);\n    } else {\n        init();\n    }\n\n    // Re-initialize after turbo/ajax page loads\n    document.addEventListener('turbo:load', init);\n    document.addEventListener('turbolinks:load', init);\n\n})();\n","/**\n * Mobile Gestures - Touch Interaction Handler\n *\n * Provides comprehensive gesture support using Hammer.js for mobile interactions.\n * Handles swipe, long-press, double-tap, pinch-to-zoom, and pull-to-refresh.\n *\n * Dependencies: Hammer.js (already loaded in helpers.js)\n * Usage: Automatically initializes on DOMContentLoaded\n *\n * @version 1.0.1\n * @updated 2025-12-26 - Code review for EventDelegation (no changes needed - uses Hammer.js)\n */\n\n(function (window) {\n  'use strict';\n\n  /**\n   * Mobile Gestures Controller\n   */\n  const MobileGestures = {\n    /**\n     * Check if device supports touch\n     * @returns {boolean}\n     */\n    isTouchDevice: function () {\n      return ('ontouchstart' in window) ||\n        (navigator.maxTouchPoints > 0) ||\n        (navigator.msMaxTouchPoints > 0);\n    },\n\n    /**\n     * Check if Hammer.js is loaded\n     * @returns {boolean}\n     */\n    isHammerLoaded: function () {\n      return typeof Hammer !== 'undefined';\n    },\n\n    /**\n     * Swipe to dismiss modal (swipe down on bottom sheets)\n     */\n    setupModalSwipeDismiss: function () {\n      if (!this.isHammerLoaded()) return;\n\n      document.querySelectorAll('.modal.modal-bottom-sheet').forEach(modal => {\n        const modalDialog = modal.querySelector('.modal-dialog');\n        if (!modalDialog) return;\n\n        const hammer = new Hammer(modalDialog);\n        hammer.get('swipe').set({ direction: Hammer.DIRECTION_DOWN, threshold: 50 });\n\n        hammer.on('swipedown', (ev) => {\n          // Only dismiss if swiping from near the top (drag handle area)\n          if (ev.center.y < 100) {\n            const bootstrapModal = bootstrap.Modal.getInstance(modal);\n            if (bootstrapModal) {\n              if (window.Haptics) window.Haptics.modalClose();\n              bootstrapModal.hide();\n            }\n          }\n        });\n\n        // Visual feedback during pan (drag)\n        hammer.get('pan').set({ direction: Hammer.DIRECTION_DOWN, threshold: 0 });\n        let startY = 0;\n\n        hammer.on('panstart', (ev) => {\n          startY = ev.center.y;\n          // REFACTORED: Using utility classes for transitions\n          modalDialog.classList.add('transition-none');\n        });\n\n        hammer.on('panmove', (ev) => {\n          if (ev.center.y > startY && ev.center.y < 100) {\n            const deltaY = ev.center.y - startY;\n            if (deltaY > 0 && deltaY < 200) {\n              // Note: Dynamic transform value, kept as inline style\n              modalDialog.style.transform = `translateY(${deltaY}px)`;\n            }\n          }\n        });\n\n        hammer.on('panend', (ev) => {\n          // REFACTORED: Using utility classes for transitions\n          modalDialog.classList.remove('transition-none');\n          modalDialog.classList.add('transition-transform');\n          const deltaY = ev.center.y - startY;\n\n          if (deltaY > 100) {\n            // Threshold reached, dismiss modal\n            const bootstrapModal = bootstrap.Modal.getInstance(modal);\n            if (bootstrapModal) {\n              if (window.Haptics) window.Haptics.modalClose();\n              bootstrapModal.hide();\n            }\n          } else {\n            // Snap back - REFACTORED: Using utility classes\n            modalDialog.classList.add('translate-y-0');\n            modalDialog.style.transform = '';\n          }\n        });\n      });\n    },\n\n    /**\n     * Swipe to open/close sidebar\n     */\n    setupSidebarSwipe: function () {\n      if (!this.isHammerLoaded()) return;\n\n      const sidebar = document.getElementById('layout-menu');\n      if (!sidebar) return;\n\n      const body = document.body;\n      const hammer = new Hammer(body);\n\n      // Swipe right from left edge to open\n      hammer.on('swiperight', (ev) => {\n        if (ev.center.x < 50 && window.innerWidth < 992) {\n          // Near left edge\n          if (!sidebar.classList.contains('layout-menu-expanded')) {\n            sidebar.classList.add('layout-menu-expanded');\n            body.classList.add('layout-menu-expanded');\n            if (window.Haptics) window.Haptics.menuOpen();\n          }\n        }\n      });\n\n      // Swipe left to close sidebar\n      hammer.on('swipeleft', (ev) => {\n        if (sidebar.classList.contains('layout-menu-expanded')) {\n          sidebar.classList.remove('layout-menu-expanded');\n          body.classList.remove('layout-menu-expanded');\n          if (window.Haptics) window.Haptics.menuClose();\n        }\n      });\n    },\n\n    /**\n     * Pull-to-refresh on tables and lists\n     */\n    setupPullToRefresh: function () {\n      if (!this.isHammerLoaded()) return;\n\n      document.querySelectorAll('[data-pull-refresh=\"true\"], .table-responsive').forEach(container => {\n        const hammer = new Hammer(container);\n        hammer.get('pan').set({ direction: Hammer.DIRECTION_DOWN, threshold: 10 });\n\n        let startY = 0;\n        let isPulling = false;\n        let refreshThreshold = 80;\n\n        // Create refresh indicator - REFACTORED: Using utility classes\n        let refreshIndicator = container.querySelector('.pull-refresh-indicator');\n        if (!refreshIndicator) {\n          refreshIndicator = document.createElement('div');\n          refreshIndicator.className = 'pull-refresh-indicator position-absolute left-50 translate-middle-x d-flex align-items-center justify-content-center text-white opacity-0 z-index-1000';\n          refreshIndicator.innerHTML = '<i class=\"ti ti-refresh\"></i>';\n          // Note: top, width, height, background, borderRadius, transition use specific values, kept as inline styles\n          refreshIndicator.style.top = '-50px';\n          refreshIndicator.style.width = '40px';\n          refreshIndicator.style.height = '40px';\n          refreshIndicator.style.background = 'var(--bs-primary)';\n          refreshIndicator.style.borderRadius = '50%';\n          refreshIndicator.style.transition = 'opacity 0.3s, top 0.3s';\n          container.classList.add('position-relative');\n          container.insertBefore(refreshIndicator, container.firstChild);\n        }\n\n        hammer.on('panstart', (ev) => {\n          // Only allow pull-to-refresh at scroll position 0\n          if (container.scrollTop === 0 || container === window) {\n            startY = ev.center.y;\n            isPulling = true;\n          }\n        });\n\n        hammer.on('panmove', (ev) => {\n          if (!isPulling) return;\n\n          const deltaY = ev.center.y - startY;\n          if (deltaY > 0 && deltaY < refreshThreshold * 1.5) {\n            // Show indicator - Note: Dynamic opacity and top values, kept as inline styles\n            refreshIndicator.style.opacity = Math.min(deltaY / refreshThreshold, 1);\n            refreshIndicator.style.top = `${-50 + deltaY}px`;\n\n            // Rotate icon - Note: Dynamic rotation value, kept as inline style\n            const icon = refreshIndicator.querySelector('i');\n            if (icon) {\n              icon.style.transform = `rotate(${deltaY * 3}deg)`;\n            }\n          }\n        });\n\n        hammer.on('panend', (ev) => {\n          if (!isPulling) return;\n\n          const deltaY = ev.center.y - startY;\n\n          if (deltaY > refreshThreshold) {\n            // Trigger refresh\n            if (window.Haptics) window.Haptics.refresh();\n\n            refreshIndicator.style.top = '10px';\n            const icon = refreshIndicator.querySelector('i');\n            if (icon) {\n              icon.classList.add('ti-spin');\n            }\n\n            // Dispatch custom event for refresh\n            const refreshEvent = new CustomEvent('mobile:pullrefresh', {\n              detail: { container: container }\n            });\n            container.dispatchEvent(refreshEvent);\n\n            // Auto-hide after 2 seconds (or listen for custom event)\n            setTimeout(() => {\n              // REFACTORED: Using utility classes for opacity\n              refreshIndicator.classList.add('opacity-0');\n              refreshIndicator.style.top = '-50px';\n              if (icon) icon.classList.remove('ti-spin');\n            }, 2000);\n          } else {\n            // Snap back - REFACTORED: Using utility classes for opacity\n            refreshIndicator.classList.add('opacity-0');\n            refreshIndicator.style.top = '-50px';\n          }\n\n          isPulling = false;\n        });\n      });\n    },\n\n    /**\n     * Long-press for context menus\n     */\n    setupLongPress: function () {\n      if (!this.isHammerLoaded()) return;\n\n      document.querySelectorAll('[data-long-press=\"true\"], .card, .list-group-item').forEach(element => {\n        const hammer = new Hammer(element);\n        hammer.get('press').set({ time: 500 }); // 500ms for long press\n\n        hammer.on('press', (ev) => {\n          if (window.Haptics) window.Haptics.longPress();\n\n          // Dispatch custom event\n          const longPressEvent = new CustomEvent('mobile:longpress', {\n            detail: { element: element, event: ev }\n          });\n          element.dispatchEvent(longPressEvent);\n\n          // Visual feedback\n          element.classList.add('long-press-active');\n          setTimeout(() => {\n            element.classList.remove('long-press-active');\n          }, 200);\n        });\n      });\n    },\n\n    /**\n     * Double-tap to zoom (images, player cards)\n     */\n    setupDoubleTap: function () {\n      if (!this.isHammerLoaded()) return;\n\n      document.querySelectorAll('[data-double-tap=\"zoom\"], .player-card img, .avatar-lg').forEach(element => {\n        const hammer = new Hammer(element);\n        hammer.get('tap').set({ taps: 2, threshold: 10, posThreshold: 50 });\n\n        let isZoomed = false;\n\n        hammer.on('tap', (ev) => {\n          if (ev.tapCount === 2) {\n            if (window.Haptics) window.Haptics.doubleTap();\n\n            if (!isZoomed) {\n              // Zoom in - REFACTORED: Using utility classes\n              element.classList.add('transition-transform', 'z-index-1000');\n              // Note: Dynamic scale value, kept as inline style\n              element.style.transform = 'scale(2)';\n              isZoomed = true;\n            } else {\n              // Zoom out - REFACTORED: Using utility classes\n              element.classList.remove('z-index-1000');\n              element.classList.add('scale-1');\n              element.style.transform = '';\n              isZoomed = false;\n            }\n\n            // Reset after 3 seconds - REFACTORED: Using utility classes\n            setTimeout(() => {\n              if (isZoomed) {\n                element.classList.remove('z-index-1000');\n                element.classList.add('scale-1');\n                element.style.transform = '';\n                isZoomed = false;\n              }\n            }, 3000);\n          }\n        });\n      });\n    },\n\n    /**\n     * Swipe actions on table/list rows (edit, delete, archive)\n     */\n    setupSwipeActions: function () {\n      if (!this.isHammerLoaded()) return;\n\n      document.querySelectorAll('[data-swipe-actions=\"true\"]').forEach(row => {\n        if (row.closest('thead')) return; // Skip header rows\n\n        const hammer = new Hammer(row);\n        hammer.get('swipe').set({ threshold: 50, velocity: 0.3 });\n\n        let actionsRevealed = false;\n\n        // Create action buttons container if not exists - REFACTORED: Using utility classes\n        let actionsContainer = row.querySelector('.swipe-actions');\n        if (!actionsContainer) {\n          actionsContainer = document.createElement('div');\n          actionsContainer.className = 'swipe-actions position-absolute right-0 top-0 bottom-0 d-flex align-items-center gap-2 translate-x-100 transition-transform';\n          // Note: padding, background use specific values, kept as inline styles\n          actionsContainer.style.padding = '0 16px';\n          actionsContainer.style.background = 'var(--bs-danger)';\n\n          // Add default actions (can be customized with data attributes)\n          const deleteBtn = document.createElement('button');\n          deleteBtn.className = 'btn btn-sm btn-light';\n          deleteBtn.innerHTML = '<i class=\"ti ti-trash\"></i>';\n          deleteBtn.onclick = () => {\n            if (window.Haptics) window.Haptics.delete();\n            const deleteEvent = new CustomEvent('mobile:swipedelete', { detail: { row } });\n            row.dispatchEvent(deleteEvent);\n          };\n          actionsContainer.appendChild(deleteBtn);\n\n          row.classList.add('position-relative', 'overflow-hidden');\n          row.appendChild(actionsContainer);\n        }\n\n        hammer.on('swipeleft', () => {\n          if (!actionsRevealed) {\n            // REFACTORED: Using utility classes\n            actionsContainer.classList.remove('translate-x-100');\n            actionsContainer.classList.add('translate-x-0');\n            // Note: Dynamic translate value, kept as inline style\n            row.style.transform = 'translateX(-100px)';\n            actionsRevealed = true;\n            if (window.Haptics) window.Haptics.swipe();\n          }\n        });\n\n        hammer.on('swiperight', () => {\n          if (actionsRevealed) {\n            // REFACTORED: Using utility classes\n            actionsContainer.classList.remove('translate-x-0');\n            actionsContainer.classList.add('translate-x-100');\n            row.classList.add('translate-x-0');\n            row.style.transform = '';\n            actionsRevealed = false;\n            if (window.Haptics) window.Haptics.swipe();\n          }\n        });\n\n        // Close on tap outside (keep this - non-action click listener)\n        // REFACTORED: Using utility classes\n        document.addEventListener('click', (e) => {\n          if (actionsRevealed && !row.contains(e.target)) {\n            actionsContainer.classList.remove('translate-x-0');\n            actionsContainer.classList.add('translate-x-100');\n            row.classList.add('translate-x-0');\n            row.style.transform = '';\n            actionsRevealed = false;\n          }\n        });\n      });\n    },\n\n    /**\n     * Pinch to zoom (images, charts)\n     */\n    setupPinchZoom: function () {\n      if (!this.isHammerLoaded()) return;\n\n      document.querySelectorAll('[data-pinch-zoom=\"true\"], .chart-container, img.zoomable').forEach(element => {\n        const hammer = new Hammer(element);\n        hammer.get('pinch').set({ enable: true });\n\n        let lastScale = 1;\n\n        hammer.on('pinchstart', () => {\n          // REFACTORED: Using utility classes\n          element.classList.add('transition-none');\n        });\n\n        hammer.on('pinchmove', (ev) => {\n          const scale = Math.max(1, Math.min(lastScale * ev.scale, 4)); // 1x to 4x\n          // Note: Dynamic scale value, kept as inline style\n          element.style.transform = `scale(${scale})`;\n        });\n\n        hammer.on('pinchend', (ev) => {\n          // REFACTORED: Using utility classes\n          element.classList.remove('transition-none');\n          element.classList.add('transition-transform');\n          lastScale = Math.max(1, Math.min(lastScale * ev.scale, 4));\n\n          // Reset to 1x after 3 seconds if zoomed - REFACTORED: Using utility classes\n          if (lastScale > 1) {\n            setTimeout(() => {\n              element.classList.add('scale-1');\n              element.style.transform = '';\n              lastScale = 1;\n            }, 3000);\n          }\n        });\n      });\n    },\n\n    /**\n     * Swipe navigation between tabs/pages\n     */\n    setupSwipeNavigation: function () {\n      if (!this.isHammerLoaded()) return;\n\n      document.querySelectorAll('[data-swipe-nav=\"true\"], .nav-tabs').forEach(nav => {\n        const hammer = new Hammer(nav);\n        hammer.get('swipe').set({ threshold: 30 });\n\n        const tabs = Array.from(nav.querySelectorAll('.nav-link'));\n        if (tabs.length === 0) return;\n\n        hammer.on('swipeleft', () => {\n          const activeTab = tabs.find(tab => tab.classList.contains('active'));\n          const activeIndex = tabs.indexOf(activeTab);\n          if (activeIndex < tabs.length - 1) {\n            tabs[activeIndex + 1].click();\n            if (window.Haptics) window.Haptics.swipe();\n          }\n        });\n\n        hammer.on('swiperight', () => {\n          const activeTab = tabs.find(tab => tab.classList.contains('active'));\n          const activeIndex = tabs.indexOf(activeTab);\n          if (activeIndex > 0) {\n            tabs[activeIndex - 1].click();\n            if (window.Haptics) window.Haptics.swipe();\n          }\n        });\n      });\n    },\n\n    /**\n     * Initialize all gesture handlers\n     */\n    init: function () {\n      if (!this.isTouchDevice()) {\n        console.log('MobileGestures: Not a touch device, skipping initialization');\n        return;\n      }\n\n      if (!this.isHammerLoaded()) {\n        console.warn('MobileGestures: Hammer.js not loaded, gesture support disabled');\n        return;\n      }\n\n      // Setup all gesture handlers\n      this.setupModalSwipeDismiss();\n      this.setupSidebarSwipe();\n      this.setupPullToRefresh();\n      this.setupLongPress();\n      this.setupDoubleTap();\n      this.setupSwipeActions();\n      this.setupPinchZoom();\n      this.setupSwipeNavigation();\n\n      // Add CSS for visual feedback\n      this.addGestureStyles();\n\n      console.log('MobileGestures: Initialized successfully');\n    },\n\n    /**\n     * Add CSS for gesture visual feedback\n     */\n    addGestureStyles: function () {\n      if (document.getElementById('mobile-gesture-styles')) return;\n\n      const style = document.createElement('style');\n      style.id = 'mobile-gesture-styles';\n      style.textContent = `\n        .long-press-active {\n          animation: long-press-pulse 0.2s ease;\n        }\n\n        @keyframes long-press-pulse {\n          0%, 100% { transform: scale(1); }\n          50% { transform: scale(0.95); }\n        }\n\n        .swipe-actions button {\n          touch-action: manipulation;\n        }\n\n        .pull-refresh-indicator .ti-spin {\n          animation: spin 1s linear infinite;\n        }\n\n        @keyframes spin {\n          0% { transform: rotate(0deg); }\n          100% { transform: rotate(360deg); }\n        }\n\n        /* Smooth transitions for swipe actions */\n        [data-swipe-actions=\"true\"],\n        .table-responsive tr {\n          transition: transform 0.3s ease;\n        }\n      `;\n      document.head.appendChild(style);\n    }\n  };\n\n  // Auto-initialize\n  if (document.readyState === 'loading') {\n    document.addEventListener('DOMContentLoaded', () => MobileGestures.init());\n  } else {\n    MobileGestures.init();\n  }\n\n  // Expose globally\n  window.MobileGestures = MobileGestures;\n\n})(window);\n","/**\n * Mobile Keyboard - Soft Keyboard Handler\n *\n * Handles mobile keyboard interactions, viewport adjustments, and input optimization.\n * Addresses common issues: iOS keyboard overlap, Android soft keyboard, scroll-into-view.\n *\n * Features:\n * - Keyboard show/hide detection\n * - Automatic scroll input into view\n * - Dropdown positioning aware of keyboard\n * - Input type optimization\n * - iOS-specific fixes\n *\n * REFACTORED: All inline style manipulations replaced with CSS classes\n */\n\n(function (window) {\n  'use strict';\n\n  /**\n   * Mobile Keyboard Controller\n   */\n  const MobileKeyboard = {\n    /**\n     * Current keyboard state\n     */\n    state: {\n      isVisible: false,\n      keyboardHeight: 0,\n      activeInput: null,\n      originalViewportHeight: window.innerHeight\n    },\n\n    /**\n     * Check if device is mobile\n     * @returns {boolean}\n     */\n    isMobile: function () {\n      return window.innerWidth < 768;\n    },\n\n    /**\n     * Check if device is iOS\n     * @returns {boolean}\n     */\n    isIOS: function () {\n      return /iPhone|iPad|iPod/.test(navigator.userAgent);\n    },\n\n    /**\n     * Check if device is Android\n     * @returns {boolean}\n     */\n    isAndroid: function () {\n      return /Android/.test(navigator.userAgent);\n    },\n\n    /**\n     * Detect keyboard visibility by viewport height change\n     */\n    detectKeyboard: function () {\n      const currentHeight = window.innerHeight;\n      const heightDiff = this.state.originalViewportHeight - currentHeight;\n\n      // Keyboard is considered visible if viewport shrinks by more than 150px\n      if (heightDiff > 150) {\n        if (!this.state.isVisible) {\n          this.state.isVisible = true;\n          this.state.keyboardHeight = heightDiff;\n          this.onKeyboardShow();\n        }\n      } else {\n        if (this.state.isVisible) {\n          this.state.isVisible = false;\n          this.state.keyboardHeight = 0;\n          this.onKeyboardHide();\n        }\n      }\n    },\n\n    /**\n     * Called when keyboard is shown\n     */\n    onKeyboardShow: function () {\n      document.documentElement.classList.add('keyboard-visible');\n      document.body.classList.add('keyboard-visible');\n\n      // Dispatch custom event\n      const event = new CustomEvent('mobile:keyboardshow', {\n        detail: { height: this.state.keyboardHeight }\n      });\n      window.dispatchEvent(event);\n\n      // Adjust modals\n      this.adjustModalsForKeyboard();\n\n      // Adjust dropdowns\n      this.adjustDropdownsForKeyboard();\n\n      console.log('Keyboard shown, height:', this.state.keyboardHeight);\n    },\n\n    /**\n     * Called when keyboard is hidden\n     */\n    onKeyboardHide: function () {\n      document.documentElement.classList.remove('keyboard-visible');\n      document.body.classList.remove('keyboard-visible');\n\n      // Dispatch custom event\n      const event = new CustomEvent('mobile:keyboardhide');\n      window.dispatchEvent(event);\n\n      // Reset modal adjustments\n      this.resetModalAdjustments();\n\n      console.log('Keyboard hidden');\n    },\n\n    /**\n     * Adjust modal position when keyboard is visible\n     * REFACTORED: Using CSS classes instead of inline styles\n     */\n    adjustModalsForKeyboard: function () {\n      document.querySelectorAll('[data-modal].show').forEach(modal => {\n        const modalDialog = modal.querySelector('[data-modal-dialog]');\n        if (!modalDialog) return;\n\n        // Calculate available space\n        const availableHeight = window.innerHeight - this.state.keyboardHeight;\n        const modalHeight = modalDialog.offsetHeight;\n\n        if (modalHeight > availableHeight) {\n          // Modal is taller than available space, make it scrollable\n          modalDialog.classList.add('modal-keyboard-visible');\n        }\n\n        // Move modal up if keyboard would cover active input\n        if (this.state.activeInput) {\n          const inputRect = this.state.activeInput.getBoundingClientRect();\n          const keyboardTop = window.innerHeight - this.state.keyboardHeight;\n\n          if (inputRect.bottom > keyboardTop) {\n            modalDialog.classList.add('modal-keyboard-shift');\n          }\n        }\n      });\n    },\n\n    /**\n     * Reset modal adjustments after keyboard hide\n     * REFACTORED: Using CSS classes instead of inline styles\n     */\n    resetModalAdjustments: function () {\n      document.querySelectorAll('[data-modal].show [data-modal-dialog]').forEach(modalDialog => {\n        modalDialog.classList.remove('modal-keyboard-visible', 'modal-keyboard-shift');\n      });\n    },\n\n    /**\n     * Adjust dropdown position to avoid keyboard\n     * REFACTORED: Using CSS classes instead of inline styles\n     */\n    adjustDropdownsForKeyboard: function () {\n      document.querySelectorAll('[data-dropdown].show, [data-select-dropdown]').forEach(dropdown => {\n        const rect = dropdown.getBoundingClientRect();\n        const keyboardTop = window.innerHeight - this.state.keyboardHeight;\n\n        if (rect.bottom > keyboardTop) {\n          // Dropdown would be covered by keyboard, position it above\n          dropdown.classList.add('dropdown-above-keyboard');\n        }\n      });\n    },\n\n    /**\n     * Scroll input into view when focused\n     * @param {HTMLElement} input\n     */\n    scrollInputIntoView: function (input) {\n      if (!this.isMobile()) return;\n\n      // Wait for keyboard to appear (iOS delay)\n      setTimeout(() => {\n        const rect = input.getBoundingClientRect();\n        const keyboardTop = window.innerHeight - this.state.keyboardHeight;\n        const inputBottom = rect.bottom;\n\n        // Check if input is covered by keyboard\n        if (inputBottom > keyboardTop) {\n          // Calculate scroll amount\n          const scrollAmount = inputBottom - keyboardTop + 20;\n\n          // Scroll the input into view\n          input.scrollIntoView({\n            behavior: 'smooth',\n            block: 'center',\n            inline: 'nearest'\n          });\n\n          // Additional scroll if in modal\n          const modal = input.closest('[data-modal-body]');\n          if (modal) {\n            modal.scrollTop += scrollAmount;\n          }\n        }\n      }, 300); // Delay to let keyboard animation complete\n    },\n\n    /**\n     * Optimize input types for better mobile keyboards\n     * REFACTORED: Using CSS class for iOS font size fix\n     * @param {HTMLElement} input\n     */\n    optimizeInputType: function (input) {\n      const type = input.type;\n      const name = input.name || '';\n      const id = input.id || '';\n      const placeholder = input.placeholder || '';\n\n      // Email inputs\n      if (type === 'email' || name.includes('email') || id.includes('email')) {\n        input.type = 'email';\n        input.autocomplete = 'email';\n        input.inputMode = 'email';\n      }\n\n      // Phone inputs\n      if (name.includes('phone') || name.includes('tel') || id.includes('phone')) {\n        input.type = 'tel';\n        input.autocomplete = 'tel';\n        input.inputMode = 'tel';\n      }\n\n      // Number inputs\n      if (type === 'number' || name.includes('number') || placeholder.includes('number')) {\n        input.inputMode = 'numeric';\n        input.pattern = '[0-9]*'; // iOS numeric keyboard\n      }\n\n      // URL inputs\n      if (name.includes('url') || name.includes('website') || id.includes('url')) {\n        input.type = 'url';\n        input.autocomplete = 'url';\n        input.inputMode = 'url';\n      }\n\n      // Search inputs\n      if (type === 'search' || name.includes('search') || id.includes('search')) {\n        input.type = 'search';\n      }\n\n      // Username/password\n      if (name.includes('username') || id.includes('username')) {\n        input.autocomplete = 'username';\n      }\n\n      if (type === 'password') {\n        input.autocomplete = 'current-password';\n      }\n\n      // Prevent iOS zoom on focus (16px minimum)\n      // REFACTORED: Using CSS class instead of inline style\n      if (this.isIOS()) {\n        const fontSize = window.getComputedStyle(input).fontSize;\n        if (parseInt(fontSize) < 16) {\n          input.classList.add('ios-no-zoom');\n        }\n      }\n    },\n\n    /**\n     * Setup input focus handlers\n     */\n    setupInputHandlers: function () {\n      // Focus event for all inputs\n      document.addEventListener('focusin', (e) => {\n        const input = e.target;\n\n        // Only handle form inputs\n        if (!['INPUT', 'TEXTAREA', 'SELECT'].includes(input.tagName)) return;\n\n        this.state.activeInput = input;\n\n        // Add focused class to body for CSS styling\n        document.body.classList.add('input-focused');\n\n        // Scroll input into view\n        this.scrollInputIntoView(input);\n\n        // Trigger keyboard detection\n        setTimeout(() => this.detectKeyboard(), 100);\n\n      }, true);\n\n      // Blur event\n      document.addEventListener('focusout', (e) => {\n        this.state.activeInput = null;\n        document.body.classList.remove('input-focused');\n\n        // Check if keyboard is hiding\n        setTimeout(() => this.detectKeyboard(), 100);\n      }, true);\n\n      // Optimize all existing inputs\n      document.querySelectorAll('input, textarea').forEach(input => {\n        this.optimizeInputType(input);\n      });\n    },\n\n    /**\n     * iOS-specific fixes\n     * REFACTORED: Using CSS classes and custom properties instead of inline styles\n     */\n    setupIOSFixes: function () {\n      if (!this.isIOS()) return;\n\n      // Fix for iOS viewport height with keyboard\n      const setVH = () => {\n        const vh = window.innerHeight * 0.01;\n        document.documentElement.style.setProperty('--vh', `${vh}px`);\n      };\n\n      setVH();\n      window.addEventListener('resize', setVH);\n\n      // Fix for iOS scroll position after keyboard hide\n      window.addEventListener('focusout', () => {\n        setTimeout(() => {\n          window.scrollTo(0, 0);\n        }, 100);\n      });\n\n      // Fix for iOS date inputs\n      // REFACTORED: Using CSS class instead of inline styles\n      document.querySelectorAll('input[type=\"date\"], input[type=\"datetime-local\"], input[type=\"time\"]').forEach(input => {\n        input.classList.add('ios-date-input');\n      });\n\n      // Prevent rubber band scrolling when keyboard is open\n      document.addEventListener('touchmove', (e) => {\n        if (this.state.isVisible && this.state.activeInput) {\n          const scrollable = e.target.closest('[data-modal-body], [data-table-responsive], [data-scrollable]');\n          if (!scrollable) {\n            e.preventDefault();\n          }\n        }\n      }, { passive: false });\n    },\n\n    /**\n     * Android-specific fixes\n     */\n    setupAndroidFixes: function () {\n      if (!this.isAndroid()) return;\n\n      // Android soft keyboard detection via resize\n      let resizeTimeout;\n      window.addEventListener('resize', () => {\n        clearTimeout(resizeTimeout);\n        resizeTimeout = setTimeout(() => {\n          this.detectKeyboard();\n        }, 100);\n      });\n\n      // Fix for Android keyboard not pushing content up\n      if (this.state.isVisible && this.state.activeInput) {\n        const metaViewport = document.querySelector('meta[name=\"viewport\"]');\n        if (metaViewport) {\n          // Temporarily adjust viewport to force resize\n          const originalContent = metaViewport.content;\n          metaViewport.content = 'width=device-width, initial-scale=1.0, maximum-scale=1.0';\n          setTimeout(() => {\n            metaViewport.content = originalContent;\n          }, 300);\n        }\n      }\n    },\n\n    /**\n     * Setup form validation with keyboard awareness\n     */\n    setupFormValidation: function () {\n      document.querySelectorAll('form').forEach(form => {\n        form.addEventListener('submit', (e) => {\n          // Find first invalid input\n          const firstInvalid = form.querySelector(':invalid');\n\n          if (firstInvalid) {\n            e.preventDefault();\n\n            // Focus and scroll to first invalid input\n            firstInvalid.focus();\n            this.scrollInputIntoView(firstInvalid);\n\n            // Haptic feedback if available\n            if (window.Haptics) {\n              window.Haptics.validationError();\n            }\n          }\n        });\n\n        // Real-time validation\n        form.querySelectorAll('input, textarea, select').forEach(input => {\n          input.addEventListener('invalid', () => {\n            if (window.Haptics) {\n              window.Haptics.validationError();\n            }\n          });\n\n          input.addEventListener('input', () => {\n            if (input.validity.valid && input.classList.contains('is-invalid')) {\n              input.classList.remove('is-invalid');\n              input.classList.add('is-valid');\n            }\n          });\n        });\n      });\n    },\n\n    /**\n     * Setup mutation observer for dynamically added inputs\n     */\n    setupMutationObserver: function () {\n      const observer = new MutationObserver((mutations) => {\n        mutations.forEach(mutation => {\n          mutation.addedNodes.forEach(node => {\n            if (node.nodeType === 1) { // Element node\n              // Check if added node is an input\n              if (['INPUT', 'TEXTAREA', 'SELECT'].includes(node.tagName)) {\n                this.optimizeInputType(node);\n              }\n\n              // Check for inputs within added node\n              node.querySelectorAll?.('input, textarea, select').forEach(input => {\n                this.optimizeInputType(input);\n              });\n            }\n          });\n        });\n      });\n\n      observer.observe(document.body, {\n        childList: true,\n        subtree: true\n      });\n    },\n\n    /**\n     * Add CSS for keyboard-aware styling\n     * NOTE: Core styles moved to mobile-utils.css, keeping minimal dynamic styles\n     */\n    addKeyboardStyles: function () {\n      if (document.getElementById('mobile-keyboard-styles')) return;\n\n      const style = document.createElement('style');\n      style.id = 'mobile-keyboard-styles';\n      style.textContent = `\n        /* Keyboard visible state */\n        body.keyboard-visible {\n          /* Optional: adjust fixed elements */\n        }\n\n        /* Input focused state */\n        body.input-focused .navbar-fixed-bottom,\n        body.input-focused .mobile-bottom-nav {\n          transform: translateY(100%);\n          transition: transform 0.3s ease;\n        }\n\n        /* Ensure inputs are visible above keyboard */\n        [data-form-control]:focus,\n        [data-form-select]:focus,\n        textarea:focus {\n          position: relative;\n          z-index: 10;\n        }\n\n        /* iOS-specific: fix 100vh with keyboard */\n        @supports (-webkit-touch-callout: none) {\n          [data-modal-dialog],\n          [data-full-height] {\n            height: calc(var(--vh, 1vh) * 100);\n          }\n        }\n\n        /* Smooth transitions for keyboard adjustments */\n        [data-modal-dialog] {\n          transition: transform 0.3s ease, max-height 0.3s ease;\n        }\n      `;\n      document.head.appendChild(style);\n    },\n\n    /**\n     * Initialize keyboard handler\n     */\n    init: function () {\n      if (!this.isMobile()) {\n        console.log('MobileKeyboard: Not a mobile device, skipping initialization');\n        return;\n      }\n\n      // Setup handlers\n      this.setupInputHandlers();\n      this.setupFormValidation();\n      this.setupMutationObserver();\n\n      // Platform-specific fixes\n      if (this.isIOS()) {\n        this.setupIOSFixes();\n      }\n\n      if (this.isAndroid()) {\n        this.setupAndroidFixes();\n      }\n\n      // Add styles\n      this.addKeyboardStyles();\n\n      // Update viewport height on orientation change\n      window.addEventListener('orientationchange', () => {\n        setTimeout(() => {\n          this.state.originalViewportHeight = window.innerHeight;\n          this.detectKeyboard();\n        }, 200);\n      });\n\n      console.log('MobileKeyboard: Initialized successfully');\n    }\n  };\n\n  // Auto-initialize\n  if (document.readyState === 'loading') {\n    document.addEventListener('DOMContentLoaded', () => MobileKeyboard.init());\n  } else {\n    MobileKeyboard.init();\n  }\n\n  // Expose globally\n  window.MobileKeyboard = MobileKeyboard;\n\n})(window);\n","/**\n * Mobile Forms Enhancement\n *\n * Optimizes forms, modals, and input groups for mobile devices.\n * Handles match reporting, RSVP management, and other complex forms.\n *\n * Features:\n * - Dynamic modal sizing based on device\n * - Input group optimization for touch\n * - Swipe-to-delete for repeated entries\n * - Form field collapsing/expanding\n * - Better select dropdown handling\n *\n * REFACTORED: All inline style manipulations replaced with CSS classes\n * REFACTORED: All styling class selectors replaced with stable behavioral hooks\n */\n\n(function (window) {\n  'use strict';\n\n  const MobileForms = {\n    /**\n     * Check if device is mobile\n     */\n    isMobile: function () {\n      return window.innerWidth < 768;\n    },\n\n    /**\n     * Optimize modal sizes for mobile\n     */\n    optimizeModals: function () {\n      document.querySelectorAll('[data-modal]').forEach(modal => {\n        if (this.isMobile()) {\n          // Convert large modals to full-screen on mobile\n          const modalDialog = modal.querySelector('[data-modal-dialog]');\n          if (modalDialog) {\n            // If modal-lg, make it responsive\n            if (modalDialog.classList.contains('modal-lg')) {\n              modalDialog.classList.add('mobile-optimized-modal');\n            }\n\n            // Adjust modal content max-height with CSS class\n            const modalContent = modal.querySelector('[data-modal-content]');\n            if (modalContent) {\n              modalContent.classList.add('mobile-modal-content');\n            }\n          }\n        }\n      });\n    },\n\n    /**\n     * Optimize input groups for touch (match reporting events)\n     */\n    optimizeInputGroups: function () {\n      document.querySelectorAll('[data-input-group]').forEach(group => {\n        if (this.isMobile()) {\n          // Make select dropdowns full-width on mobile\n          const selects = group.querySelectorAll('select');\n          selects.forEach(select => {\n            select.classList.add('mobile-input-select');\n          });\n\n          // Make minute inputs larger on mobile\n          const inputs = group.querySelectorAll('input[type=\"number\"], input[placeholder*=\"Min\"]');\n          inputs.forEach(input => {\n            input.classList.add('mobile-input-number');\n          });\n\n          // Make remove buttons larger for touch\n          const removeButtons = group.querySelectorAll('[data-remove-btn], button[onclick*=\"remove\"]');\n          removeButtons.forEach(btn => {\n            btn.classList.add('mobile-remove-btn');\n          });\n        }\n      });\n    },\n\n    /**\n     * Add swipe-to-delete for input groups\n     */\n    setupSwipeToDelete: function () {\n      if (!window.Hammer || !this.isMobile()) return;\n\n      document.querySelectorAll('[data-input-group][id*=\"event-\"], [data-event-entry]').forEach(entry => {\n        const hammer = new Hammer(entry);\n        hammer.get('swipe').set({ direction: Hammer.DIRECTION_LEFT, threshold: 50 });\n\n        let deleteIndicator = entry.querySelector('.swipe-delete-indicator');\n        if (!deleteIndicator) {\n          deleteIndicator = document.createElement('div');\n          deleteIndicator.className = 'swipe-delete-indicator';\n          deleteIndicator.innerHTML = '<i class=\"ti ti-trash\"></i> Swipe to delete';\n\n          // Apply CSS classes instead of inline styles\n          entry.classList.add('swipe-container');\n          entry.appendChild(deleteIndicator);\n        }\n\n        hammer.on('swipeleft', () => {\n          // Show delete indicator\n          deleteIndicator.classList.add('swipe-visible');\n          entry.classList.add('swipe-active');\n\n          if (window.Haptics) window.Haptics.warning();\n\n          // Auto-hide after 3 seconds or on tap\n          const hideTimeout = setTimeout(() => {\n            deleteIndicator.classList.remove('swipe-visible');\n            entry.classList.remove('swipe-active');\n          }, 3000);\n\n          // Tap to confirm delete\n          deleteIndicator.onclick = () => {\n            clearTimeout(hideTimeout);\n\n            if (window.Haptics) window.Haptics.delete();\n\n            // Find and click the remove button\n            const removeBtn = entry.querySelector('[data-remove-btn], button[onclick*=\"remove\"]');\n            if (removeBtn) {\n              removeBtn.click();\n            }\n          };\n        });\n\n        hammer.on('swiperight', () => {\n          // Hide delete indicator\n          deleteIndicator.classList.remove('swipe-visible');\n          entry.classList.remove('swipe-active');\n        });\n      });\n    },\n\n    /**\n     * Optimize select2 dropdowns for mobile\n     */\n    optimizeSelect2: function () {\n      if (!this.isMobile()) return;\n\n      // Configure Select2 for mobile\n      if (window.jQuery && jQuery.fn.select2) {\n        jQuery('select.select2').each(function () {\n          const $select = jQuery(this);\n\n          // Reconfigure with mobile options\n          if ($select.hasClass('select2-hidden-accessible')) {\n            $select.select2('destroy');\n          }\n\n          $select.select2({\n            width: '100%',\n            dropdownAutoWidth: true,\n            dropdownCssClass: 'mobile-select2-dropdown',\n            containerCssClass: 'mobile-select2-container',\n            minimumResultsForSearch: 10 // Show search only for long lists\n          });\n        });\n      }\n    },\n\n    /**\n     * Make form sections collapsible on mobile\n     */\n    makeCollapsible: function () {\n      if (!this.isMobile()) return;\n\n      // Find form sections with multiple input groups\n      document.querySelectorAll('[data-modal-body] .row, [data-form-section]').forEach(section => {\n        const inputGroups = section.querySelectorAll('[data-input-group]');\n\n        if (inputGroups.length > 3) {\n          // Create collapsible header\n          const header = document.createElement('button');\n          header.type = 'button';\n          header.className = 'btn btn-link w-100 text-start mobile-collapse-toggle';\n          header.innerHTML = `\n            <span class=\"fw-bold\">${section.dataset.sectionTitle || 'Show/Hide Section'}</span>\n            <i class=\"ti ti-chevron-down float-end\"></i>\n          `;\n\n          const content = document.createElement('div');\n          content.className = 'mobile-collapse-content mobile-collapse-expanded';\n\n          // Move input groups to content\n          while (inputGroups.length > 0) {\n            content.appendChild(inputGroups[0]);\n          }\n\n          section.insertBefore(header, section.firstChild);\n          section.appendChild(content);\n\n          // Toggle handler\n          let isCollapsed = false;\n          header.onclick = () => {\n            isCollapsed = !isCollapsed;\n            const icon = header.querySelector('i');\n\n            if (isCollapsed) {\n              content.classList.remove('mobile-collapse-expanded');\n              content.classList.add('mobile-collapse-collapsed');\n              icon.classList.remove('ti-chevron-down');\n              icon.classList.add('ti-chevron-right');\n            } else {\n              content.classList.remove('mobile-collapse-collapsed');\n              content.classList.add('mobile-collapse-expanded');\n              icon.classList.remove('ti-chevron-right');\n              icon.classList.add('ti-chevron-down');\n            }\n\n            if (window.Haptics) window.Haptics.light();\n          };\n        }\n      });\n    },\n\n    /**\n     * Optimize DataTables for mobile\n     */\n    optimizeDataTables: function () {\n      if (!this.isMobile()) return;\n\n      if (window.jQuery && jQuery.fn.DataTable) {\n        jQuery('[data-table], .js-data-table').each(function () {\n          const $table = jQuery(this);\n\n          // Check if already initialized\n          if (jQuery.fn.DataTable.isDataTable($table)) {\n            const dt = $table.DataTable();\n\n            // Update responsive settings\n            dt.settings()[0].responsive = true;\n\n            // Hide specific columns on mobile\n            dt.columns([0, -1]).visible(true); // Keep first and last columns (name and actions)\n\n            // Adjust page length\n            dt.page.len(10).draw();\n          } else {\n            // Initialize with mobile settings\n            $table.DataTable({\n              responsive: true,\n              pageLength: 10,\n              dom: '<\"top\"f>rt<\"bottom\"ip><\"clear\">',\n              language: {\n                search: 'Filter:',\n                lengthMenu: 'Show _MENU_',\n                info: 'Page _PAGE_ of _PAGES_',\n                infoEmpty: 'No entries',\n                infoFiltered: ''\n              }\n            });\n          }\n        });\n      }\n    },\n\n    /**\n     * Add quick action buttons for mobile\n     */\n    addQuickActions: function () {\n      // DISABLED: This function was creating duplicate submit buttons with inline styles\n      // Mobile modal buttons are now styled purely via CSS in mobile-modals.css\n      // This provides single source of truth and eliminates duplicate green submit button\n      // If haptic feedback is needed, it should be added to existing submit button click handlers\n      return;\n    },\n\n    /**\n     * Improve textarea handling on mobile\n     */\n    optimizeTextareas: function () {\n      document.querySelectorAll('textarea').forEach(textarea => {\n        if (this.isMobile()) {\n          // Add CSS class for minimum height\n          textarea.classList.add('mobile-textarea');\n\n          // Auto-expand on focus\n          textarea.addEventListener('focus', () => {\n            textarea.classList.add('mobile-textarea-expanded');\n          });\n\n          // Character count if needed\n          const maxLength = textarea.getAttribute('maxlength');\n          if (maxLength) {\n            let counter = textarea.parentElement.querySelector('.char-counter');\n            if (!counter) {\n              counter = document.createElement('div');\n              counter.className = 'char-counter text-muted small';\n              textarea.parentElement.appendChild(counter);\n            }\n\n            const updateCounter = () => {\n              const remaining = maxLength - textarea.value.length;\n              counter.textContent = `${remaining} characters remaining`;\n\n              // Toggle warning class based on remaining characters\n              if (remaining < 20) {\n                counter.classList.add('char-counter-warning');\n              } else {\n                counter.classList.remove('char-counter-warning');\n              }\n            };\n\n            textarea.addEventListener('input', updateCounter);\n            updateCounter();\n          }\n        }\n      });\n    },\n\n    /**\n     * Add floating labels for better mobile UX\n     */\n    convertToFloatingLabels: function () {\n      if (!this.isMobile()) return;\n\n      document.querySelectorAll('[data-form-group]:not(.form-floating)').forEach(group => {\n        const label = group.querySelector('label');\n        const input = group.querySelector('input, select, textarea');\n\n        if (label && input && !input.closest('[data-input-group]')) {\n          // Convert to floating label\n          group.classList.add('form-floating');\n          group.appendChild(label); // Move label after input\n        }\n      });\n    },\n\n    /**\n     * Setup form validation with mobile feedback\n     */\n    setupMobileValidation: function () {\n      document.querySelectorAll('form').forEach(form => {\n        form.addEventListener('submit', (e) => {\n          const invalidFields = form.querySelectorAll(':invalid');\n\n          if (invalidFields.length > 0) {\n            e.preventDefault();\n\n            // Show first error\n            const firstInvalid = invalidFields[0];\n            firstInvalid.scrollIntoView({ behavior: 'smooth', block: 'center' });\n            firstInvalid.focus();\n\n            // Visual feedback with CSS class\n            firstInvalid.classList.add('shake-invalid');\n            setTimeout(() => firstInvalid.classList.remove('shake-invalid'), 500);\n\n            // Haptic feedback\n            if (window.Haptics) window.Haptics.validationError();\n\n            // Show toast\n            if (window.Swal) {\n              Swal.fire({\n                toast: true,\n                position: 'top',\n                icon: 'error',\n                title: 'Please fill out all required fields',\n                showConfirmButton: false,\n                timer: 3000\n              });\n            }\n          }\n        });\n\n        // Real-time validation feedback\n        form.querySelectorAll('input, select, textarea').forEach(field => {\n          field.addEventListener('blur', () => {\n            if (field.validity.valid) {\n              field.classList.remove('is-invalid');\n              field.classList.add('is-valid');\n            } else if (field.value) {\n              field.classList.remove('is-valid');\n              field.classList.add('is-invalid');\n              if (window.Haptics) window.Haptics.light();\n            }\n          });\n        });\n      });\n    },\n\n    /**\n     * Add CSS for mobile form enhancements\n     */\n    addMobileFormStyles: function () {\n      if (document.getElementById('mobile-form-styles')) return;\n\n      const style = document.createElement('style');\n      style.id = 'mobile-form-styles';\n      style.textContent = `\n        /* Mobile modal optimization */\n        @media (max-width: 767.98px) {\n          .mobile-optimized-modal {\n            max-width: 100%;\n            margin: 0;\n          }\n\n          .mobile-optimized-modal [data-modal-content] {\n            border-radius: 16px 16px 0 0;\n          }\n\n          /* Input group stacking */\n          [data-input-group] {\n            flex-wrap: wrap;\n            gap: 8px;\n          }\n\n          [data-input-group] > * {\n            flex: 1 1 auto;\n            min-width: 0;\n          }\n\n          [data-input-group] [data-remove-btn],\n          [data-input-group] button[onclick*=\"remove\"] {\n            flex: 0 0 44px;\n            min-width: 44px !important;\n            min-height: 44px !important;\n            padding: 0;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n          }\n\n          /* Select2 mobile */\n          .mobile-select2-dropdown {\n            font-size: 16px !important;\n          }\n\n          .mobile-select2-container .select2-selection {\n            min-height: 44px;\n            padding: 8px 12px;\n          }\n\n          /* Shake animation for validation */\n          @keyframes shake {\n            0%, 100% { transform: translateX(0); }\n            25% { transform: translateX(-10px); }\n            75% { transform: translateX(10px); }\n          }\n\n          .shake-invalid {\n            animation: shake 0.3s ease-in-out;\n            border-color: var(--bs-danger) !important;\n          }\n\n          /* Mobile form row stacking */\n          [data-modal-body] .row.g-2 {\n            row-gap: 16px !important;\n          }\n\n          [data-modal-body] .col-md-6,\n          [data-modal-body] .col-lg-6 {\n            width: 100%;\n          }\n\n          /* Sticky submit button spacing */\n          [data-modal-footer] {\n            padding-bottom: 0 !important;\n          }\n\n          /* Larger touch targets in modals */\n          [data-modal] .btn {\n            min-height: 48px;\n            font-size: 16px;\n            padding: 12px 24px;\n          }\n\n          [data-modal] .form-control,\n          [data-modal] .form-select {\n            min-height: 44px;\n            font-size: 16px;\n          }\n        }\n\n        /* Swipe delete indicator */\n        .swipe-delete-indicator {\n          font-size: 14px;\n          font-weight: 600;\n          cursor: pointer;\n        }\n\n        /* Entry transition for swipe */\n        [data-input-group],\n        [data-event-entry] {\n          transition: transform 0.3s ease;\n        }\n      `;\n      document.head.appendChild(style);\n    },\n\n    /**\n     * Initialize all mobile form enhancements\n     */\n    init: function () {\n      // Add styles first\n      this.addMobileFormStyles();\n\n      // Run optimizations\n      this.optimizeModals();\n      this.optimizeInputGroups();\n      this.optimizeSelect2();\n      this.optimizeDataTables();\n      this.optimizeTextareas();\n      this.setupMobileValidation();\n\n      if (this.isMobile()) {\n        this.setupSwipeToDelete();\n        this.addQuickActions();\n        // this.makeCollapsible(); // Optional: enable if needed\n        // this.convertToFloatingLabels(); // Optional: enable if needed\n      }\n\n      // Re-run on modal shown\n      document.addEventListener('shown.bs.modal', () => {\n        setTimeout(() => {\n          this.optimizeInputGroups();\n          this.setupSwipeToDelete();\n          this.addQuickActions();\n        }, 100);\n      });\n\n      // Re-run on window resize\n      let resizeTimeout;\n      window.addEventListener('resize', () => {\n        clearTimeout(resizeTimeout);\n        resizeTimeout = setTimeout(() => {\n          if (this.isMobile()) {\n            this.optimizeInputGroups();\n          }\n        }, 250);\n      });\n\n      console.log('MobileForms: Initialized successfully (refactored with CSS classes and stable selectors)');\n    }\n  };\n\n  // Expose globally\n  window.MobileForms = MobileForms;\n\n  // Register with InitSystem if available\n  if (typeof window.InitSystem !== 'undefined' && window.InitSystem.register) {\n    window.InitSystem.register('mobile-forms', function() {\n      MobileForms.init();\n    }, {\n      priority: 60,\n      description: 'Mobile form optimizations (input groups, swipe, quick actions)',\n      reinitializable: true\n    });\n  } else {\n    // Fallback: Auto-initialize\n    if (document.readyState === 'loading') {\n      document.addEventListener('DOMContentLoaded', () => MobileForms.init());\n    } else {\n      MobileForms.init();\n    }\n  }\n\n})(window);\n","/**\n * Mobile Haptics - Vibration API Wrapper\n *\n * Provides tactile feedback for mobile user interactions using the Vibration API.\n * Enhances UX by confirming actions, indicating errors, and providing feedback.\n *\n * Browser Support:\n * - Chrome Android 32+\n * - Firefox Android 79+\n * - Safari iOS 13+ (limited)\n * - Gracefully degrades on unsupported devices\n */\n\n(function (window) {\n  'use strict';\n\n  /**\n   * Haptics controller with various vibration patterns\n   */\n  const Haptics = {\n    /**\n     * Check if Vibration API is supported\n     * @returns {boolean}\n     */\n    isSupported: function () {\n      return 'vibrate' in navigator || 'mozVibrate' in navigator || 'webkitVibrate' in navigator;\n    },\n\n    /**\n     * Normalize vibration method across browsers\n     * @private\n     */\n    _vibrate: function (pattern) {\n      if (!this.isSupported()) {\n        return false;\n      }\n\n      // Check if vibration is enabled in settings (could be stored in localStorage)\n      if (this.isDisabled()) {\n        return false;\n      }\n\n      try {\n        if (navigator.vibrate) {\n          return navigator.vibrate(pattern);\n        } else if (navigator.mozVibrate) {\n          return navigator.mozVibrate(pattern);\n        } else if (navigator.webkitVibrate) {\n          return navigator.webkitVibrate(pattern);\n        }\n      } catch (e) {\n        console.warn('Haptics error:', e);\n        return false;\n      }\n    },\n\n    /**\n     * Check if haptics is disabled by user preference\n     * @returns {boolean}\n     */\n    isDisabled: function () {\n      return localStorage.getItem('haptics-disabled') === 'true';\n    },\n\n    /**\n     * Enable haptic feedback\n     */\n    enable: function () {\n      localStorage.removeItem('haptics-disabled');\n    },\n\n    /**\n     * Disable haptic feedback\n     */\n    disable: function () {\n      localStorage.setItem('haptics-disabled', 'true');\n    },\n\n    /**\n     * Toggle haptic feedback on/off\n     * @returns {boolean} New state (true = enabled)\n     */\n    toggle: function () {\n      if (this.isDisabled()) {\n        this.enable();\n        return true;\n      } else {\n        this.disable();\n        return false;\n      }\n    },\n\n    /**\n     * Stop any ongoing vibration\n     */\n    stop: function () {\n      this._vibrate(0);\n    },\n\n    /* ===== Intensity Levels ===== */\n\n    /**\n     * Light haptic feedback (10ms)\n     * Use for: hover states, selections, minor interactions\n     */\n    light: function () {\n      return this._vibrate(10);\n    },\n\n    /**\n     * Medium haptic feedback (20ms)\n     * Use for: button taps, form submissions, standard interactions\n     */\n    medium: function () {\n      return this._vibrate(20);\n    },\n\n    /**\n     * Heavy haptic feedback (30ms)\n     * Use for: important actions, confirmations, alerts\n     */\n    heavy: function () {\n      return this._vibrate(30);\n    },\n\n    /* ===== Notification Patterns ===== */\n\n    /**\n     * Success pattern (short-pause-short)\n     * Use for: successful submissions, confirmations, completions\n     */\n    success: function () {\n      return this._vibrate([10, 50, 10]);\n    },\n\n    /**\n     * Error pattern (long-pause-long)\n     * Use for: validation errors, failed actions, warnings\n     */\n    error: function () {\n      return this._vibrate([30, 100, 30]);\n    },\n\n    /**\n     * Warning pattern (medium-pause-medium)\n     * Use for: caution messages, important notices\n     */\n    warning: function () {\n      return this._vibrate([20, 50, 20]);\n    },\n\n    /**\n     * Notification pattern (short pulses)\n     * Use for: new messages, alerts, reminders\n     */\n    notification: function () {\n      return this._vibrate([10, 30, 10, 30, 10]);\n    },\n\n    /* ===== Interaction Patterns ===== */\n\n    /**\n     * Selection pattern (single short pulse)\n     * Use for: selecting items, toggling checkboxes, radio buttons\n     */\n    selection: function () {\n      return this._vibrate(15);\n    },\n\n    /**\n     * Deselection pattern (two very short pulses)\n     * Use for: deselecting items, clearing selections\n     */\n    deselection: function () {\n      return this._vibrate([8, 20, 8]);\n    },\n\n    /**\n     * Swipe pattern (quick pulse)\n     * Use for: swipe gestures, page transitions\n     */\n    swipe: function () {\n      return this._vibrate(12);\n    },\n\n    /**\n     * Long press pattern (sustained vibration)\n     * Use for: indicating long press is detected, context menus\n     */\n    longPress: function () {\n      return this._vibrate(50);\n    },\n\n    /**\n     * Double tap pattern (two short pulses)\n     * Use for: double tap gestures, quick actions\n     */\n    doubleTap: function () {\n      return this._vibrate([15, 30, 15]);\n    },\n\n    /* ===== Draft-Specific Patterns ===== */\n\n    /**\n     * Player drafted pattern (celebratory)\n     * Use for: successful draft picks\n     */\n    drafted: function () {\n      return this._vibrate([20, 50, 20, 50, 30]);\n    },\n\n    /**\n     * Invalid selection pattern (rejection)\n     * Use for: trying to draft ineligible players\n     */\n    invalidSelection: function () {\n      return this._vibrate([40, 60, 40]);\n    },\n\n    /**\n     * Time warning pattern (urgent)\n     * Use for: draft timer running low\n     */\n    timeWarning: function () {\n      return this._vibrate([25, 100, 25, 100, 25]);\n    },\n\n    /* ===== Form Patterns ===== */\n\n    /**\n     * Input focus pattern (subtle)\n     * Use for: focusing form inputs\n     */\n    inputFocus: function () {\n      return this._vibrate(8);\n    },\n\n    /**\n     * Input validation error pattern\n     * Use for: real-time validation errors\n     */\n    validationError: function () {\n      return this._vibrate([25, 50, 25]);\n    },\n\n    /**\n     * Form submission pattern\n     * Use for: form submit button taps\n     */\n    formSubmit: function () {\n      return this._vibrate(18);\n    },\n\n    /* ===== Navigation Patterns ===== */\n\n    /**\n     * Menu open pattern\n     * Use for: opening sidebar, dropdowns\n     */\n    menuOpen: function () {\n      return this._vibrate(15);\n    },\n\n    /**\n     * Menu close pattern\n     * Use for: closing sidebar, dropdowns\n     */\n    menuClose: function () {\n      return this._vibrate(12);\n    },\n\n    /**\n     * Modal open pattern\n     * Use for: opening modals, bottom sheets\n     */\n    modalOpen: function () {\n      return this._vibrate([10, 30, 15]);\n    },\n\n    /**\n     * Modal close pattern\n     * Use for: closing modals, bottom sheets\n     */\n    modalClose: function () {\n      return this._vibrate(15);\n    },\n\n    /* ===== Table/List Patterns ===== */\n\n    /**\n     * Refresh pattern (pull-to-refresh)\n     * Use for: refresh actions, data reloads\n     */\n    refresh: function () {\n      return this._vibrate([15, 50, 15, 50, 20]);\n    },\n\n    /**\n     * Delete pattern (destructive action)\n     * Use for: swipe-to-delete, item removal\n     */\n    delete: function () {\n      return this._vibrate([35, 60, 35]);\n    },\n\n    /**\n     * Archive pattern\n     * Use for: archiving items\n     */\n    archive: function () {\n      return this._vibrate([12, 40, 12]);\n    },\n\n    /* ===== Custom Pattern ===== */\n\n    /**\n     * Play a custom vibration pattern\n     * @param {number|number[]} pattern - Duration or array of [vibrate, pause, vibrate, ...]\n     * @returns {boolean} Success\n     */\n    custom: function (pattern) {\n      return this._vibrate(pattern);\n    }\n  };\n\n  /**\n   * Initialize haptics with event listeners\n   */\n  Haptics.init = function () {\n    if (!this.isSupported()) {\n      console.log('Haptics: Vibration API not supported');\n      return;\n    }\n\n    // Auto-add haptic feedback to common elements\n    // Note: Module-level DOMContentLoaded ensures this runs after DOM is ready\n\n    // Buttons\n    document.querySelectorAll('.btn:not([data-haptics=\"false\"])').forEach(btn => {\n      btn.addEventListener('click', (e) => {\n        // Check button type for appropriate feedback\n        if (btn.classList.contains('btn-success')) {\n          Haptics.success();\n        } else if (btn.classList.contains('btn-danger')) {\n          Haptics.warning();\n        } else {\n          Haptics.medium();\n        }\n      }, { passive: true });\n    });\n\n    // Form inputs\n    document.querySelectorAll('.form-control, .form-select').forEach(input => {\n      input.addEventListener('focus', () => {\n        Haptics.inputFocus();\n      }, { passive: true });\n\n      input.addEventListener('invalid', () => {\n        Haptics.validationError();\n      });\n    });\n\n    // Checkboxes and radios\n    document.querySelectorAll('input[type=\"checkbox\"], input[type=\"radio\"]').forEach(input => {\n      input.addEventListener('change', () => {\n        if (input.checked) {\n          Haptics.selection();\n        } else {\n          Haptics.deselection();\n        }\n      }, { passive: true });\n    });\n\n    // Nav links\n    document.querySelectorAll('.nav-link:not([data-haptics=\"false\"])').forEach(link => {\n      link.addEventListener('click', () => {\n        Haptics.light();\n      }, { passive: true });\n    });\n\n    // Modal events\n    document.querySelectorAll('.modal').forEach(modal => {\n      modal.addEventListener('shown.bs.modal', () => {\n        Haptics.modalOpen();\n      });\n\n      modal.addEventListener('hidden.bs.modal', () => {\n        Haptics.modalClose();\n      });\n    });\n\n    console.log('Haptics: Initialized successfully');\n  };\n\n  // Auto-initialize\n  if (document.readyState === 'loading') {\n    document.addEventListener('DOMContentLoaded', () => Haptics.init());\n  } else {\n    Haptics.init();\n  }\n\n  // Expose globally\n  window.Haptics = Haptics;\n\n})(window);\n","/**\n * Responsive Tables JS\n * \n * Adds data-label attributes to table cells and handles responsive behavior\n * Automatically transforms all tables with .mobile-card-table class\n */\n\n(function() {\n  'use strict';\n  \n  const ResponsiveTables = {\n    /**\n     * Initialize responsive tables functionality\n     */\n    init: function() {\n      // Initialize tables when DOM is ready\n      this.processAllTables();\n      this.setupScrollTracking();\n      this.setupDataTables();\n      this.setupMutationObserver();\n    },\n    \n    /**\n     * Process all tables (prioritize .mobile-card-table, then all .table-responsive tables)\n     */\n    processAllTables: function() {\n      // First process tables with explicit mobile-card-table class\n      const mobileCardTables = document.querySelectorAll('table.mobile-card-table');\n      mobileCardTables.forEach(table => {\n        this.processTable(table);\n      });\n\n      // Then process all tables within .table-responsive containers\n      const responsiveTables = document.querySelectorAll('[data-table-responsive] table');\n      responsiveTables.forEach(table => {\n        // Skip if already processed or if it's within a horizontal-mobile table\n        if (!table.classList.contains('mobile-card-processed') &&\n            !table.closest('[data-table-horizontal-mobile]')) {\n          this.processTable(table);\n        }\n      });\n\n      // Process any standalone .table elements not in .table-responsive (fallback)\n      const standaloneTables = document.querySelectorAll('table.table:not(.mobile-card-processed)');\n      standaloneTables.forEach(table => {\n        // Only process if not already in a .table-responsive container\n        if (!table.closest('[data-table-responsive]') &&\n            !table.closest('[data-table-horizontal-mobile]') &&\n            window.innerWidth < 992) {\n          this.processTable(table);\n        }\n      });\n    },\n    \n    /**\n     * Process a single table by adding data-label attributes\n     * @param {HTMLElement} table - The table element to process\n     */\n    processTable: function(table) {\n      // Skip if table has already been processed\n      if (table.classList.contains('mobile-card-processed')) {\n        return;\n      }\n      \n      // Get header text values\n      const headerCells = table.querySelectorAll('thead th');\n      const headerTexts = Array.from(headerCells).map(th => th.textContent.trim());\n      \n      // Add data-label attributes to all body cells\n      const rows = table.querySelectorAll('tbody tr');\n      rows.forEach(row => {\n        const cells = row.querySelectorAll('td');\n        cells.forEach((cell, index) => {\n          // Only add data-label if we have a corresponding header and no existing data-label\n          if (index < headerTexts.length && !cell.hasAttribute('data-label')) {\n            cell.setAttribute('data-label', headerTexts[index]);\n          }\n          \n          // Special handling for cells containing only action buttons\n          if (this.isCellWithOnlyActions(cell)) {\n            cell.classList.add('table-actions');\n          }\n          \n          // Special handling for cells with avatars\n          if (this.isCellWithAvatar(cell)) {\n            cell.classList.add('avatar-cell');\n          }\n          \n          // Make sure empty cells still show their labels\n          if (!cell.textContent.trim() && !cell.querySelector('*')) {\n            const placeholder = document.createElement('span');\n            placeholder.classList.add('empty-cell-placeholder');\n            placeholder.innerText = \"\";\n            cell.appendChild(placeholder);\n          }\n        });\n      });\n      \n      // Mark table as processed\n      table.classList.add('mobile-card-processed');\n    },\n    \n    /**\n     * Check if a cell contains only action buttons\n     * @param {HTMLElement} cell - The table cell to check\n     * @return {boolean} True if cell contains only action buttons\n     */\n    isCellWithOnlyActions: function(cell) {\n      // Get direct children\n      const children = Array.from(cell.children);\n      \n      // If no children, not an action cell\n      if (children.length === 0) {\n        return false;\n      }\n      \n      // Check if all children are buttons or links with button classes\n      return children.every(child => {\n        return (\n          child.tagName === 'BUTTON' ||\n          child.tagName === 'A' && child.classList.contains('btn') ||\n          child.hasAttribute('data-dropdown') ||\n          child.hasAttribute('data-btn-group')\n        );\n      });\n    },\n    \n    /**\n     * Check if a cell contains an avatar\n     * @param {HTMLElement} cell - The table cell to check\n     * @return {boolean} True if cell contains an avatar\n     */\n    isCellWithAvatar: function(cell) {\n      return (\n        cell.querySelector('[data-avatar]') !== null ||\n        cell.querySelector('img[data-rounded-circle]') !== null ||\n        cell.querySelector('img[data-avatar]') !== null\n      );\n    },\n    \n    /**\n     * Track scrolling on table-responsive-scroll elements\n     */\n    setupScrollTracking: function() {\n      const scrollTables = document.querySelectorAll('[data-table-responsive-scroll]');\n\n      scrollTables.forEach(tableWrapper => {\n        tableWrapper.addEventListener('scroll', function() {\n          if (this.scrollLeft > 10) {\n            this.classList.add('is-scrolled');\n          } else {\n            this.classList.remove('is-scrolled');\n          }\n        });\n      });\n    },\n    \n    /**\n     * Setup DataTables compatibility\n     */\n    setupDataTables: function() {\n      // Only proceed if DataTables is available\n      if (typeof $.fn.dataTable !== 'undefined') {\n        // Default DataTables setup for mobile\n        $.extend(true, $.fn.dataTable.defaults, {\n          responsive: true,\n          drawCallback: function() {\n            // Ensure mobile card processing on DataTables\n            if (this.hasClass('mobile-card-table')) {\n              ResponsiveTables.processTable(this[0]);\n            }\n          }\n        });\n        \n        // Process any existing DataTables\n        $('.dataTable.mobile-card-table').each(function() {\n          ResponsiveTables.processTable(this);\n        });\n      }\n    },\n    \n    /**\n     * Setup MutationObserver to detect and process newly added tables\n     */\n    setupMutationObserver: function() {\n      // Create observer instance\n      const observer = new MutationObserver((mutations) => {\n        let shouldProcess = false;\n        \n        mutations.forEach(mutation => {\n          // Check for added nodes\n          if (mutation.addedNodes && mutation.addedNodes.length) {\n            for (let i = 0; i < mutation.addedNodes.length; i++) {\n              const node = mutation.addedNodes[i];\n              \n              // Check if node is an element\n              if (node.nodeType === 1) {\n                // Check if it's a table with our class\n                if (node.matches && node.matches('table.mobile-card-table')) {\n                  shouldProcess = true;\n                  break;\n                }\n                \n                // Check if it contains tables with our class\n                if (node.querySelectorAll && node.querySelectorAll('table.mobile-card-table').length) {\n                  shouldProcess = true;\n                  break;\n                }\n              }\n            }\n          }\n        });\n        \n        // Process tables if needed\n        if (shouldProcess) {\n          this.processAllTables();\n        }\n      });\n      \n      // Start observing document body\n      observer.observe(document.body, {\n        childList: true,\n        subtree: true\n      });\n    }\n  };\n  \n  // Make available globally\n  window.ResponsiveTables = ResponsiveTables;\n\n  // Register with InitSystem if available\n  if (typeof window.InitSystem !== 'undefined' && window.InitSystem.register) {\n    window.InitSystem.register('responsive-tables', function() {\n      ResponsiveTables.init();\n    }, {\n      priority: 60,\n      description: 'Responsive table system (card view on mobile, data-labels)',\n      reinitializable: true\n    });\n  } else {\n    // Fallback: Initialize when document is ready\n    document.addEventListener('DOMContentLoaded', function() {\n      ResponsiveTables.init();\n    });\n  }\n})();\n","/**\n * ECS Soccer League Design System Helper\n *\n * This script helps enforce consistent application of the design system\n * across all templates by:\n * 1. Converting Bootstrap classes to design system classes\n * 2. Adding responsive behaviors to components\n * 3. Providing helper functions for common UI patterns\n */\n\n(function() {\n  'use strict';\n\n  // Main design system helper\n  const ECSDesignSystem = {\n    // Initialize the design system\n    init: function() {\n      // Add the design system stylesheet to the page\n      this.ensureStylesheetLoaded();\n\n      // Apply consistent styling to standard components\n      this.enhanceButtons();\n      this.enhanceCards();\n      this.enhanceForms();\n      this.enhanceModals();\n      this.enhanceTables();\n      this.enhanceNavs();\n\n      // Set up responsive behaviors\n      this.setupResponsive();\n\n      // Set up dark mode\n      this.setupDarkMode();\n\n      // Add any custom behaviors\n      this.setupCustomBehaviors();\n    },\n\n    // Ensure the ECS CSS architecture is loaded\n    ensureStylesheetLoaded: function() {\n      // DISABLED: These CSS files don't exist in the project\n      // Commenting out to prevent 404 errors\n      /*\n      // Load core CSS if not already present\n      if (!document.getElementById('ecs-core-stylesheet')) {\n        const coreLink = document.createElement('link');\n        coreLink.id = 'ecs-core-stylesheet';\n        coreLink.rel = 'stylesheet';\n        coreLink.href = '/static/css/ecs-core.css';\n        document.head.appendChild(coreLink);\n      }\n\n      // Load components CSS if not already present\n      if (!document.getElementById('ecs-components-stylesheet')) {\n        const componentsLink = document.createElement('link');\n        componentsLink.id = 'ecs-components-stylesheet';\n        componentsLink.rel = 'stylesheet';\n        componentsLink.href = '/static/css/ecs-components.css';\n        document.head.appendChild(componentsLink);\n      }\n\n      // Load utilities CSS if not already present\n      if (!document.getElementById('ecs-utilities-stylesheet')) {\n        const utilitiesLink = document.createElement('link');\n        utilitiesLink.id = 'ecs-utilities-stylesheet';\n        utilitiesLink.rel = 'stylesheet';\n        utilitiesLink.href = '/static/css/ecs-utilities.css';\n        document.head.appendChild(utilitiesLink);\n      }\n      */\n    },\n\n    // Add consistent styling to buttons\n    enhanceButtons: function() {\n      // Map Bootstrap button classes to design system classes\n      const btnClassMap = {\n        'btn-primary': 'ecs-btn ecs-btn-primary',\n        'btn-secondary': 'ecs-btn ecs-btn-secondary',\n        'btn-success': 'ecs-btn ecs-btn-success',\n        'btn-info': 'ecs-btn ecs-btn-info',\n        'btn-warning': 'ecs-btn ecs-btn-warning',\n        'btn-danger': 'ecs-btn ecs-btn-danger',\n        'btn-dark': 'ecs-btn ecs-btn-dark',\n        'btn-outline-primary': 'ecs-btn ecs-btn-outline-primary',\n        'btn-outline-secondary': 'ecs-btn ecs-btn-outline-secondary',\n        'btn-sm': 'ecs-btn-sm',\n        'btn-lg': 'ecs-btn-lg'\n      };\n\n      // Selectors to exclude from button enhancement (BEM components with their own styling)\n      const excludeSelectors = [\n        '.c-admin-nav',         // Admin navigation component\n        '.c-mobile-nav',        // Mobile navigation component\n        '.c-modal',             // BEM modal components\n        '.c-btn-modern',        // BEM button components\n        '.c-form-modern',       // BEM form components\n        '.c-settings-tabs',     // Settings tabs component\n        '.c-messages-inbox',    // Messages inbox component\n        '.c-tabs',              // BEM tabs component\n        '.c-schedule',          // Team schedule accordion\n        '.c-schedule-controls', // Schedule expand/collapse controls\n        '[data-no-enhance]'     // Explicit opt-out attribute\n      ];\n      const excludeSelector = excludeSelectors.join(', ');\n\n      // Apply design system classes to buttons\n      document.querySelectorAll('button, [type=\"button\"], [type=\"submit\"], [role=\"button\"]').forEach(button => {\n        // Skip buttons inside excluded components\n        if (button.closest(excludeSelector)) {\n          return;\n        }\n\n        // Skip BEM component buttons that have their own styling\n        if (button.classList.contains('c-tabs__item') ||\n            button.classList.contains('c-btn') ||\n            button.classList.contains('c-nav__item') ||\n            button.classList.contains('c-schedule-controls__btn')) {\n          return;\n        }\n\n        if (!button.classList.contains('ecs-btn')) {\n          button.classList.add('ecs-btn');\n\n          // Add appropriate design system classes\n          for (const [bootstrapClass, ecsClass] of Object.entries(btnClassMap)) {\n            if (button.classList.contains(bootstrapClass)) {\n              // Add our classes\n              ecsClass.split(' ').forEach(cls => {\n                if (!button.classList.contains(cls)) {\n                  button.classList.add(cls);\n                }\n              });\n            }\n          }\n\n          // Add icon wrapper if button has an icon\n          if (button.querySelector('[data-icon], [class*=\"icon-\"], [class*=\"ti-\"], [class*=\"feather-\"]')) {\n            button.classList.add('ecs-btn-icon');\n          }\n        }\n      });\n    },\n\n    // Add consistent styling to cards\n    enhanceCards: function() {\n      // Map Bootstrap card classes to design system classes\n      const cardClassMap = {\n        'card': 'ecs-card',\n        'card-header': 'ecs-card-header',\n        'card-body': 'ecs-card-body',\n        'card-footer': 'ecs-card-footer',\n        'card-title': 'ecs-card-title',\n        'card-subtitle': 'ecs-card-subtitle'\n      };\n\n      // Header color mappings\n      const headerColorMap = {\n        'bg-primary': 'ecs-card-header-primary',\n        'bg-secondary': 'ecs-card-header-secondary',\n        'bg-success': 'ecs-card-header-success',\n        'bg-info': 'ecs-card-header-info',\n        'bg-warning': 'ecs-card-header-warning',\n        'bg-danger': 'ecs-card-header-danger',\n        'bg-dark': 'ecs-card-header-dark'\n      };\n\n      // Apply design system classes to cards\n      document.querySelectorAll('[data-component=\"card\"], [data-role*=\"card\"]').forEach(card => {\n        if (!card.classList.contains('ecs-card')) {\n          card.classList.add('ecs-card');\n\n          // Process card components\n          Object.entries(cardClassMap).forEach(([bootstrapClass, ecsClass]) => {\n            card.querySelectorAll(`[data-card-part=\"${bootstrapClass.replace('card-', '')}\"]`).forEach(element => {\n              if (!element.classList.contains(ecsClass)) {\n                element.classList.add(ecsClass);\n              }\n            });\n          });\n\n          // Process card header colors\n          const cardHeader = card.querySelector('[data-card-part=\"header\"]');\n          if (cardHeader) {\n            Object.entries(headerColorMap).forEach(([bootstrapClass, ecsClass]) => {\n              if (cardHeader.classList.contains(bootstrapClass) && !cardHeader.classList.contains(ecsClass)) {\n                cardHeader.classList.add(ecsClass);\n              }\n            });\n          }\n        }\n      });\n    },\n\n    // Add consistent styling to forms\n    enhanceForms: function() {\n      // Map Bootstrap form classes to design system classes\n      const formClassMap = {\n        'form-control': 'ecs-form-control',\n        'form-select': 'ecs-form-select',\n        'form-check': 'ecs-form-check',\n        'form-check-input': 'ecs-form-check-input',\n        'form-label': 'ecs-form-label',\n        'form-text': 'ecs-form-text',\n        'form-floating': 'ecs-form-floating'\n      };\n\n      // Apply design system classes to form elements\n      Object.entries(formClassMap).forEach(([bootstrapClass, ecsClass]) => {\n        document.querySelectorAll(`[data-form-element], [data-input-type]`).forEach(element => {\n          if (!element.classList.contains(ecsClass)) {\n            element.classList.add(ecsClass);\n          }\n        });\n      });\n\n      // Handle validation states\n      document.querySelectorAll('[data-validation-state=\"valid\"], [data-validation-state=\"invalid\"]').forEach(field => {\n        if (field.getAttribute('data-validation-state') === 'valid') {\n          field.classList.add('ecs-is-valid');\n        } else if (field.getAttribute('data-validation-state') === 'invalid') {\n          field.classList.add('ecs-is-invalid');\n        }\n      });\n    },\n\n    // Add consistent styling to modals\n    enhanceModals: function() {\n      // Skip BEM modals - they have their own styling\n      const bemModalSelector = '.c-modal';\n\n      // Map Bootstrap modal classes to design system classes\n      const modalClassMap = {\n        'modal': 'ecs-modal',\n        'modal-dialog': 'ecs-modal-dialog',\n        'modal-content': 'ecs-modal-content',\n        'modal-header': 'ecs-modal-header',\n        'modal-body': 'ecs-modal-body',\n        'modal-footer': 'ecs-modal-footer',\n        'modal-title': 'ecs-modal-title',\n        'btn-close': 'ecs-modal-close',\n        'modal-dialog-centered': 'ecs-modal-dialog-centered',\n        'modal-dialog-scrollable': 'ecs-modal-dialog-scrollable',\n        'modal-sm': 'ecs-modal-sm',\n        'modal-lg': 'ecs-modal-lg',\n        'modal-xl': 'ecs-modal-xl'\n      };\n\n      // Apply design system classes to modals (skip BEM modals)\n      Object.entries(modalClassMap).forEach(([bootstrapClass, ecsClass]) => {\n        document.querySelectorAll(`[data-component=\"${bootstrapClass}\"], [data-modal-part]`).forEach(element => {\n          // Skip if this is a BEM modal\n          if (element.closest(bemModalSelector)) return;\n          if (!element.classList.contains(ecsClass)) {\n            element.classList.add(ecsClass);\n          }\n        });\n      });\n\n      // Apply consistent behavior to all modals (skip BEM modals)\n      document.querySelectorAll('[data-component=\"modal\"], [role=\"dialog\"]').forEach(modal => {\n        // Skip BEM modals - they use their own system\n        if (modal.classList.contains('c-modal')) return;\n\n        const modalId = modal.id;\n\n        // Handle modal opening - apply design system styles\n        modal.addEventListener('show.bs.modal', function() {\n          // Enhance any form elements inside the modal\n          this.querySelectorAll('[data-form-element], [data-input-type]').forEach(input => {\n            if (input.classList.contains('form-control')) {\n              input.classList.add('ecs-form-control');\n            } else if (input.classList.contains('form-select')) {\n              input.classList.add('ecs-form-select');\n            }\n          });\n\n          // Enhance buttons inside the modal\n          this.querySelectorAll('button, [type=\"button\"], [type=\"submit\"], [role=\"button\"]').forEach(button => {\n            if (!button.classList.contains('ecs-btn')) {\n              button.classList.add('ecs-btn');\n            }\n          });\n        });\n      });\n    },\n\n    // Add consistent styling to tables\n    enhanceTables: function() {\n      // Map Bootstrap table classes to design system classes\n      const tableClassMap = {\n        'table': 'ecs-table',\n        'table-hover': 'ecs-table-hover',\n        'table-striped': 'ecs-table-striped',\n        'table-sm': 'ecs-table-sm'\n      };\n\n      // Apply design system classes to tables\n      Object.entries(tableClassMap).forEach(([bootstrapClass, ecsClass]) => {\n        document.querySelectorAll('[data-component=\"table\"], [role=\"table\"]').forEach(element => {\n          if (!element.classList.contains(ecsClass)) {\n            element.classList.add(ecsClass);\n          }\n        });\n      });\n    },\n\n    // Add consistent styling to navs and tabs\n    enhanceNavs: function() {\n      // Map Bootstrap nav classes to design system classes\n      const navClassMap = {\n        'nav': 'ecs-nav',\n        'nav-link': 'ecs-nav-link',\n        'nav-tabs': 'ecs-nav-tabs',\n        'nav-pills': 'ecs-nav-pills',\n        'active': 'ecs-active'\n      };\n\n      // Apply design system classes to navs\n      Object.entries(navClassMap).forEach(([bootstrapClass, ecsClass]) => {\n        document.querySelectorAll('[data-component=\"nav\"], [role=\"navigation\"] > [role=\"tablist\"]').forEach(element => {\n          if (!element.classList.contains(ecsClass)) {\n            element.classList.add(ecsClass);\n          }\n        });\n      });\n\n      // Ensure tab content has proper design system styling\n      document.querySelectorAll('[data-component=\"tab-content\"], [role=\"tabpanel\"]').forEach(element => {\n        if (element.hasAttribute('data-component')) {\n          element.classList.add('ecs-tab-content');\n        } else if (element.hasAttribute('role')) {\n          element.classList.add('ecs-tab-pane');\n        }\n      });\n    },\n\n    // Set up responsive behaviors\n    setupResponsive: function() {\n      // Adjust elements based on screen size\n      const adjustForScreenSize = () => {\n        const isMobile = window.innerWidth < 768;\n\n        // Adjust buttons on mobile\n        if (isMobile) {\n          document.querySelectorAll('button, [type=\"button\"], [type=\"submit\"], [role=\"button\"]').forEach(button => {\n            // Make sure mobile buttons have adequate touch targets\n            if (!button.classList.contains('btn-sm') && !button.classList.contains('ecs-btn-sm')) {\n              button.classList.add('touch-target');\n            }\n          });\n\n          // Make sure form controls have adequate size on mobile\n          // Exclude checkboxes and radio buttons (they don't trigger iOS zoom)\n          document.querySelectorAll('[data-form-element]:not([type=\"checkbox\"]):not([type=\"radio\"]), [data-input-type]:not([type=\"checkbox\"]):not([type=\"radio\"])').forEach(input => {\n            if (!input.classList.contains('ios-input')) {\n              input.classList.add('ios-input');\n            }\n          });\n        }\n      };\n\n      // Adjust on page load and resize\n      adjustForScreenSize();\n      window.addEventListener('resize', adjustForScreenSize);\n    },\n\n    // Set up dark mode\n    setupDarkMode: function() {\n      // Watch for changes to BOTH data-style and data-bs-theme attributes on the html element\n      const htmlElement = document.documentElement;\n\n      // Create an observer to monitor changes to theme attributes\n      const observer = new MutationObserver((mutations) => {\n        mutations.forEach((mutation) => {\n          if (mutation.type === 'attributes' &&\n              (mutation.attributeName === 'data-style' || mutation.attributeName === 'data-bs-theme')) {\n            const isDarkStyle = htmlElement.getAttribute('data-style') === 'dark';\n            const isDarkBsTheme = htmlElement.getAttribute('data-bs-theme') === 'dark';\n            const isDark = isDarkStyle || isDarkBsTheme;\n            this.applyDarkModeToContent(isDark);\n          }\n        });\n      });\n\n      // Start observing the html element for changes to theme attributes\n      observer.observe(htmlElement, { attributes: true });\n\n      // Initial application based on current state\n      const isDarkStyle = htmlElement.getAttribute('data-style') === 'dark';\n      const isDarkBsTheme = htmlElement.getAttribute('data-bs-theme') === 'dark';\n      const isDark = isDarkStyle || isDarkBsTheme;\n      this.applyDarkModeToContent(isDark);\n\n      // Add dark mode toggle functionality if it doesn't exist\n      if (!document.querySelector('.dark-mode-toggle')) {\n        this.addDarkModeToggle();\n      }\n    },\n\n    // Apply dark mode to content areas\n    // UPDATED: Minimal intervention - let Bootstrap CSS variables handle dark mode\n    // Templates now use var(--bs-*) variables which automatically adapt\n    applyDarkModeToContent: function(isDark) {\n      // Only add/remove marker class for CSS targeting - no inline styles\n      // This allows CSS-based dark mode to work without JavaScript conflicts\n      if (isDark) {\n        document.body.classList.add('dark-mode-body');\n      } else {\n        document.body.classList.remove('dark-mode-body');\n\n        // Clean up any legacy dark-mode-applied classes from previous state\n        document.querySelectorAll('.dark-mode-applied').forEach(element => {\n          element.classList.remove('dark-mode-applied');\n        });\n      }\n    },\n\n    // Add dark mode toggle if it doesn't exist\n    addDarkModeToggle: function() {\n      // DISABLED: Don't add the toggle at all since there's already one in the navbar.html\n      return;\n\n      /*\n      // The following code is kept for reference only but is completely commented out\n      // to prevent JavaScript syntax errors\n\n      const existingToggle = document.querySelector('.style-switcher-toggle');\n      if (existingToggle) {\n        return; // Don't duplicate if it already exists\n      }\n\n      const navbar = document.querySelector('.navbar-nav');\n      if (navbar) {\n        const toggleItem = document.createElement('li');\n        toggleItem.className = 'nav-item dark-mode-toggle';\n\n        // Check current theme and adjust icon accordingly\n        const currentTheme = document.documentElement.getAttribute('data-style') || 'light';\n        const icon = currentTheme === 'dark' ? 'ti ti-sun' : 'ti ti-moon-stars';\n\n        toggleItem.innerHTML = `\n          <a class=\"nav-link style-switcher-toggle\" href=\"javascript:void(0);\" title=\"Toggle Dark Mode\">\n            <i class=\"${icon}\"></i>\n          </a>\n        `;\n        navbar.prepend(toggleItem);\n\n        // Add click event to toggle dark mode\n        toggleItem.querySelector('a').addEventListener('click', () => {\n          const html = document.documentElement;\n          const currentStyle = html.getAttribute('data-style') || 'light';\n          const newStyle = currentStyle === 'dark' ? 'light' : 'dark';\n\n          // Update icon\n          const iconElement = toggleItem.querySelector('i');\n          if (iconElement) {\n            iconElement.className = newStyle === 'dark' ? 'ti ti-sun' : 'ti ti-moon-stars';\n          }\n\n          // Set theme\n          html.setAttribute('data-style', newStyle);\n\n          // Persist selection\n          localStorage.setItem('template-style', newStyle);\n\n          // Apply dark mode immediately to ensure all content areas are updated\n          this.applyDarkModeToContent(newStyle === 'dark');\n\n          // Make an AJAX request to store theme preference server-side\n          fetch('/set-theme', {\n            method: 'POST',\n            headers: {\n              'Content-Type': 'application/json',\n              'X-CSRFToken': document.querySelector('meta[name=\"csrf-token\"]').getAttribute('content')\n            },\n            body: JSON.stringify({ theme: newStyle })\n          }).catch(error => // console.error('Error saving theme preference:', error));\n        });\n      }\n      */\n    },\n\n    // Set up custom behaviors for the design system\n    setupCustomBehaviors: function() {\n      // Add ripple effect to buttons for better feedback\n      this.addRippleEffect();\n\n      // Improve keyboard navigation\n      this.improveKeyboardNavigation();\n\n      // Add support for custom transitions\n      this.setupTransitions();\n    },\n\n    // Add ripple effect to buttons - Modified to prevent button scaling issues\n    addRippleEffect: function() {\n      // Only apply ripple effect to non-modal buttons to prevent conflicts\n      document.querySelectorAll('button:not([data-bs-toggle=\"modal\"]), [type=\"button\"]:not([data-bs-toggle=\"modal\"]), [type=\"submit\"]:not([data-bs-toggle=\"modal\"]), [role=\"button\"]:not([data-bs-toggle=\"modal\"])').forEach(button => {\n        button.addEventListener('click', function(e) {\n          // Skip if this is a modal button\n          if (this.getAttribute('data-bs-toggle') === 'modal' ||\n              this.classList.contains('edit-match-btn') ||\n              this.closest('[data-bs-toggle=\"modal\"]')) {\n            return;\n          }\n\n          const ripple = document.createElement('span');\n          ripple.classList.add('waves-ripple');\n\n          const rect = this.getBoundingClientRect();\n          const size = Math.max(rect.width, rect.height);\n\n          // Set custom properties for ripple positioning\n          ripple.style.setProperty('--ripple-size', `${size}px`);\n          ripple.style.setProperty('--ripple-left', `${e.clientX - rect.left - size / 2}px`);\n          ripple.style.setProperty('--ripple-top', `${e.clientY - rect.top - size / 2}px`);\n\n          // Add transform-none class to prevent button scaling\n          ripple.classList.add('transform-none');\n\n          this.appendChild(ripple);\n\n          // Trigger animation by adding active class\n          setTimeout(() => {\n            ripple.classList.add('waves-ripple-active');\n          }, 10);\n\n          setTimeout(() => {\n            if (ripple.parentNode) {\n              ripple.parentNode.removeChild(ripple);\n            }\n          }, 600);\n        });\n      });\n\n      // console.log('Ripple effect added with scaling fix');\n    },\n\n    // Improve keyboard navigation for better accessibility\n    improveKeyboardNavigation: function() {\n      // Add focus styles to interactive elements\n      document.querySelectorAll('a, button, input, select, textarea, [tabindex]').forEach(element => {\n        element.addEventListener('focus', function() {\n          this.classList.add('ecs-focus');\n        });\n\n        element.addEventListener('blur', function() {\n          this.classList.remove('ecs-focus');\n        });\n      });\n    },\n\n    // Set up custom transitions\n    setupTransitions: function() {\n      // Add slide-in animation for elements with data-ecs-animate=\"slide-in\"\n      document.querySelectorAll('[data-ecs-animate=\"slide-in\"]').forEach(element => {\n        // Add initial state classes (opacity 0, translate down 20px)\n        element.classList.add('opacity-0', 'translate-y-20px', 'transition-smooth');\n\n        // Trigger animation after a short delay\n        setTimeout(() => {\n          // Add final state classes (opacity 1, translate to normal position)\n          element.classList.remove('opacity-0', 'translate-y-20px');\n          element.classList.add('opacity-100', 'translate-y-0');\n        }, 100);\n      });\n    }\n  };\n\n  // Make available globally\n  window.ECSDesignSystem = ECSDesignSystem;\n\n  // Register with InitSystem if available\n  if (typeof window.InitSystem !== 'undefined' && window.InitSystem.register) {\n    window.InitSystem.register('design-system', function() {\n      ECSDesignSystem.init();\n    }, {\n      priority: 90,\n      description: 'ECS Design System (theme, colors, focus states)',\n      reinitializable: false\n    });\n  } else {\n    // Fallback: Initialize on DOM ready\n    document.addEventListener('DOMContentLoaded', function() {\n      ECSDesignSystem.init();\n    });\n  }\n})();\n","/**\n * SweetAlert2 Contextual Helper\n *\n * Extends Swal.fire with smart contextual defaults for button text,\n * icons, and colors based on the action being performed.\n *\n * Usage:\n *   // Instead of Swal.fire({...})\n *   SwalContextual.confirm({\n *       title: 'Delete Item',\n *       text: 'Are you sure you want to delete this item?'\n *   }).then(result => { ... });\n *\n *   // Or use the shorthand methods:\n *   SwalContextual.delete('Are you sure?').then(...)\n *   SwalContextual.approve('Approve this user?').then(...)\n */\n\n(function() {\n    'use strict';\n\n    // Action configurations with smart defaults\n    const ACTION_CONFIGS = {\n        delete: {\n            icon: 'warning',\n            confirmButtonText: 'Delete',\n            confirmButtonColor: '#dc3545',\n            titlePrefix: 'Confirm Delete'\n        },\n        remove: {\n            icon: 'warning',\n            confirmButtonText: 'Remove',\n            confirmButtonColor: '#dc3545',\n            titlePrefix: 'Confirm Remove'\n        },\n        approve: {\n            icon: 'question',\n            confirmButtonText: 'Approve',\n            confirmButtonColor: '#28a745',\n            titlePrefix: 'Confirm Approval'\n        },\n        reject: {\n            icon: 'warning',\n            confirmButtonText: 'Reject',\n            confirmButtonColor: '#dc3545',\n            titlePrefix: 'Confirm Rejection'\n        },\n        deny: {\n            icon: 'warning',\n            confirmButtonText: 'Deny',\n            confirmButtonColor: '#dc3545',\n            titlePrefix: 'Confirm Denial'\n        },\n        send: {\n            icon: 'question',\n            confirmButtonText: 'Send',\n            confirmButtonColor: '#3085d6',\n            titlePrefix: 'Confirm Send'\n        },\n        sync: {\n            icon: 'question',\n            confirmButtonText: 'Sync',\n            confirmButtonColor: '#3085d6',\n            titlePrefix: 'Confirm Sync'\n        },\n        refresh: {\n            icon: 'question',\n            confirmButtonText: 'Refresh',\n            confirmButtonColor: '#3085d6',\n            titlePrefix: 'Confirm Refresh'\n        },\n        reset: {\n            icon: 'warning',\n            confirmButtonText: 'Reset',\n            confirmButtonColor: '#dc3545',\n            titlePrefix: 'Confirm Reset'\n        },\n        clear: {\n            icon: 'warning',\n            confirmButtonText: 'Clear',\n            confirmButtonColor: '#dc3545',\n            titlePrefix: 'Confirm Clear'\n        },\n        cancel: {\n            icon: 'warning',\n            confirmButtonText: 'Yes, Cancel',\n            confirmButtonColor: '#dc3545',\n            titlePrefix: 'Confirm Cancellation'\n        },\n        disable: {\n            icon: 'warning',\n            confirmButtonText: 'Disable',\n            confirmButtonColor: '#dc3545',\n            titlePrefix: 'Confirm Disable'\n        },\n        enable: {\n            icon: 'question',\n            confirmButtonText: 'Enable',\n            confirmButtonColor: '#28a745',\n            titlePrefix: 'Confirm Enable'\n        },\n        save: {\n            icon: 'question',\n            confirmButtonText: 'Save',\n            confirmButtonColor: '#28a745',\n            titlePrefix: 'Confirm Save'\n        },\n        submit: {\n            icon: 'question',\n            confirmButtonText: 'Submit',\n            confirmButtonColor: '#3085d6',\n            titlePrefix: 'Confirm Submit'\n        },\n        unlink: {\n            icon: 'warning',\n            confirmButtonText: 'Unlink',\n            confirmButtonColor: '#dc3545',\n            titlePrefix: 'Confirm Unlink'\n        },\n        revoke: {\n            icon: 'warning',\n            confirmButtonText: 'Revoke',\n            confirmButtonColor: '#dc3545',\n            titlePrefix: 'Confirm Revoke'\n        },\n        retry: {\n            icon: 'question',\n            confirmButtonText: 'Retry',\n            confirmButtonColor: '#3085d6',\n            titlePrefix: 'Confirm Retry'\n        },\n        resend: {\n            icon: 'question',\n            confirmButtonText: 'Resend',\n            confirmButtonColor: '#3085d6',\n            titlePrefix: 'Confirm Resend'\n        },\n        duplicate: {\n            icon: 'question',\n            confirmButtonText: 'Duplicate',\n            confirmButtonColor: '#3085d6',\n            titlePrefix: 'Confirm Duplicate'\n        },\n        assign: {\n            icon: 'question',\n            confirmButtonText: 'Assign',\n            confirmButtonColor: '#3085d6',\n            titlePrefix: 'Confirm Assignment'\n        },\n        schedule: {\n            icon: 'question',\n            confirmButtonText: 'Schedule',\n            confirmButtonColor: '#3085d6',\n            titlePrefix: 'Confirm Schedule'\n        },\n        fetch: {\n            icon: 'question',\n            confirmButtonText: 'Fetch',\n            confirmButtonColor: '#3085d6',\n            titlePrefix: 'Confirm Fetch'\n        }\n    };\n\n    /**\n     * Detect action type from text\n     */\n    function detectAction(text) {\n        if (!text) return null;\n        const lowerText = text.toLowerCase();\n\n        // Check each action keyword\n        for (const [action, config] of Object.entries(ACTION_CONFIGS)) {\n            if (lowerText.includes(action)) {\n                return action;\n            }\n        }\n        return null;\n    }\n\n    /**\n     * Build configuration with smart defaults\n     */\n    function buildConfig(options, action) {\n        const actionConfig = action ? ACTION_CONFIGS[action] : {};\n        const defaults = {\n            icon: 'question',\n            showCancelButton: true,\n            confirmButtonText: 'Confirm',\n            cancelButtonText: 'Cancel',\n            confirmButtonColor: '#3085d6',\n            cancelButtonColor: '#6c757d',\n            reverseButtons: true\n        };\n\n        // Merge: defaults < actionConfig < user options\n        return {\n            ...defaults,\n            ...actionConfig,\n            ...options,\n            // Ensure title has prefix if not provided\n            title: options.title || (actionConfig.titlePrefix || 'Confirm Action')\n        };\n    }\n\n    /**\n     * SwalContextual API\n     */\n    const SwalContextual = {\n        /**\n         * Smart confirmation dialog that auto-detects action type\n         * @param {Object} options - SweetAlert2 options\n         * @returns {Promise} SweetAlert2 promise\n         */\n        confirm: function(options) {\n            if (typeof Swal === 'undefined') {\n                console.error('SweetAlert2 not loaded');\n                return Promise.resolve({ isConfirmed: confirm(options.text || options.title) });\n            }\n\n            // Detect action from title or text\n            const detectedAction = detectAction(options.title) || detectAction(options.text);\n            const config = buildConfig(options, detectedAction);\n\n            return Swal.fire(config);\n        },\n\n        /**\n         * Success notification\n         */\n        success: function(title, text) {\n            return Swal.fire({\n                icon: 'success',\n                title: title,\n                text: text,\n                timer: 2000,\n                showConfirmButton: false\n            });\n        },\n\n        /**\n         * Error notification\n         */\n        error: function(title, text) {\n            return Swal.fire({\n                icon: 'error',\n                title: title,\n                text: text\n            });\n        },\n\n        /**\n         * Info notification\n         */\n        info: function(title, text) {\n            return Swal.fire({\n                icon: 'info',\n                title: title,\n                text: text\n            });\n        },\n\n        /**\n         * Warning notification\n         */\n        warning: function(title, text) {\n            return Swal.fire({\n                icon: 'warning',\n                title: title,\n                text: text\n            });\n        }\n    };\n\n    // Create shorthand methods for common actions\n    Object.keys(ACTION_CONFIGS).forEach(action => {\n        SwalContextual[action] = function(text, options = {}) {\n            return this.confirm({\n                text: text,\n                ...options\n            });\n        };\n    });\n\n    // Expose globally\n    window.SwalContextual = SwalContextual;\n\n    console.debug('[SwalContextual] Helper initialized');\n})();\n","/**\n * ==========================================================================\n * CHAT WIDGET - Floating Messenger Component\n * ==========================================================================\n *\n * Facebook Messenger-inspired floating chat widget with:\n * - Conversation list view\n * - Active chat view\n * - Real-time WebSocket updates\n * - Mobile-first responsive design\n * - Smart positioning\n *\n * CSS: /static/css/components/c-chat-widget.css\n * Uses BEM naming: .c-chat-widget__*\n *\n * @requires Socket.IO (for real-time messaging)\n * @requires /api/messages endpoints\n */\n\n(function() {\n  'use strict';\n\n  // ============================================================================\n  // CONFIGURATION\n  // ============================================================================\n\n  const CONFIG = {\n    api: {\n      conversations: '/api/messages',\n      messages: (userId) => `/api/messages/${userId}`,\n      send: (userId) => `/api/messages/${userId}`,\n      unreadCount: '/api/messages/unread-count',\n      searchUsers: '/api/messages/users/search',\n      markRead: (msgId) => `/api/messages/${msgId}/read`\n    },\n    polling: {\n      enabled: true,\n      interval: 30000\n    },\n    ui: {\n      animationDuration: 250,\n      typingDebounce: 2000,\n      searchDebounce: 300,\n      maxMessageLength: 2000\n    }\n  };\n\n  // ============================================================================\n  // STATE\n  // ============================================================================\n\n  const state = {\n    isOpen: false,\n    currentView: 'list', // 'list' | 'chat'\n    activeConversation: null,\n    conversations: [],\n    messages: [],\n    unreadCount: 0,\n    onlineUsers: [],\n    isTyping: false,\n    typingTimeout: null,\n    searchQuery: '',\n    searchResults: [],\n    settings: {\n      typingIndicators: true,\n      readReceipts: true,\n      maxMessageLength: 2000\n    }\n  };\n\n  // ============================================================================\n  // DOM ELEMENTS\n  // ============================================================================\n\n  let elements = {};\n\n  function cacheElements() {\n    elements = {\n      widget: document.querySelector('.c-chat-widget'),\n      trigger: document.querySelector('.c-chat-widget__trigger'),\n      badge: document.querySelector('.c-chat-widget__badge'),\n      panel: document.querySelector('.c-chat-widget__panel'),\n\n      // List view\n      listView: document.querySelector('.c-chat-widget__list-view'),\n      searchInput: document.querySelector('.c-chat-widget__search-input'),\n      searchResults: document.querySelector('.c-chat-widget__search-results'),\n      onlineList: document.querySelector('.c-chat-widget__online-list'),\n      conversationList: document.querySelector('.c-chat-widget__conversations'),\n      emptyState: document.querySelector('.c-chat-widget__empty'),\n\n      // Chat view\n      chatView: document.querySelector('.c-chat-widget__chat'),\n      backBtn: document.querySelector('.c-chat-widget__back-btn'),\n      chatAvatar: document.querySelector('.c-chat-widget__chat-avatar img'),\n      chatAvatarContainer: document.querySelector('.c-chat-widget__chat-avatar'),\n      chatName: document.querySelector('.c-chat-widget__chat-name'),\n      chatStatus: document.querySelector('.c-chat-widget__chat-status'),\n      messagesContainer: document.querySelector('.c-chat-widget__messages'),\n      typingIndicator: document.querySelector('.c-chat-widget__typing'),\n      composerInput: document.querySelector('.c-chat-widget__composer-input'),\n      sendBtn: document.querySelector('.c-chat-widget__send-btn'),\n\n      // Header buttons\n      newChatBtn: document.querySelector('[data-action=\"new-chat\"]'),\n      openInboxBtn: document.querySelector('[data-action=\"open-inbox\"]'),\n      closeBtns: document.querySelectorAll('[data-action=\"close-widget\"]')\n    };\n  }\n\n  // ============================================================================\n  // API FUNCTIONS\n  // ============================================================================\n\n  function getCSRFToken() {\n    const meta = document.querySelector('meta[name=\"csrf-token\"]');\n    return meta ? meta.getAttribute('content') : '';\n  }\n\n  async function fetchJSON(url, options = {}) {\n    try {\n      const headers = {\n        'Content-Type': 'application/json',\n        ...options.headers\n      };\n\n      // Add CSRF token for non-GET requests\n      if (options.method && options.method !== 'GET') {\n        headers['X-CSRFToken'] = getCSRFToken();\n      }\n\n      const response = await fetch(url, { ...options, headers });\n\n      if (!response.ok) {\n        throw new Error(`HTTP ${response.status}`);\n      }\n\n      return await response.json();\n    } catch (error) {\n      console.error(`[ChatWidget] API Error: ${url}`, error);\n      throw error;\n    }\n  }\n\n  async function loadConversations() {\n    try {\n      const data = await fetchJSON(CONFIG.api.conversations);\n      if (data.success) {\n        state.conversations = data.conversations || [];\n        renderConversations();\n      }\n    } catch (error) {\n      console.error('[ChatWidget] Failed to load conversations', error);\n    }\n  }\n\n  async function loadMessages(userId) {\n    try {\n      const data = await fetchJSON(CONFIG.api.messages(userId));\n      if (data.success) {\n        state.messages = data.messages || [];\n        state.settings = { ...state.settings, ...data.settings };\n        renderMessages();\n        scrollToBottom();\n\n        // Update unread count after reading messages\n        loadUnreadCount();\n      }\n    } catch (error) {\n      console.error('[ChatWidget] Failed to load messages', error);\n    }\n  }\n\n  async function sendMessage(userId, content) {\n    try {\n      const data = await fetchJSON(CONFIG.api.send(userId), {\n        method: 'POST',\n        body: JSON.stringify({ content })\n      });\n\n      if (data.success) {\n        // Add message to local state\n        state.messages.push(data.message);\n        renderMessages();\n        scrollToBottom();\n\n        // Clear input\n        if (elements.composerInput) {\n          elements.composerInput.value = '';\n          elements.composerInput.style.height = 'auto';\n          updateSendButton();\n        }\n\n        // Update conversation list\n        loadConversations();\n      }\n\n      return data;\n    } catch (error) {\n      console.error('[ChatWidget] Failed to send message', error);\n      showToast('Failed to send message', 'error');\n      throw error;\n    }\n  }\n\n  async function loadUnreadCount() {\n    try {\n      const data = await fetchJSON(CONFIG.api.unreadCount);\n      if (data.success) {\n        state.unreadCount = data.count;\n        updateBadge();\n      }\n    } catch (error) {\n      console.error('[ChatWidget] Failed to load unread count', error);\n    }\n  }\n\n  async function searchUsers(query) {\n    if (query.length < 2) {\n      state.searchResults = [];\n      renderSearchResults();\n      return;\n    }\n\n    console.log('[ChatWidget] Searching users for:', query);\n\n    try {\n      const data = await fetchJSON(`${CONFIG.api.searchUsers}?q=${encodeURIComponent(query)}`);\n      console.log('[ChatWidget] Search response:', data);\n\n      if (data.success) {\n        state.searchResults = data.users || [];\n        renderSearchResults();\n        console.log('[ChatWidget] Found', state.searchResults.length, 'users');\n      } else {\n        console.warn('[ChatWidget] Search returned success=false:', data.error);\n        state.searchResults = [];\n        renderSearchResults();\n      }\n    } catch (error) {\n      console.error('[ChatWidget] Failed to search users', error);\n      state.searchResults = [];\n      renderSearchResults();\n    }\n  }\n\n  // ============================================================================\n  // RENDER FUNCTIONS\n  // ============================================================================\n\n  /**\n   * Generate role badge HTML for a user\n   * @param {Object} user - User object with role flags\n   * @returns {string} HTML string with badge icons\n   */\n  function renderRoleBadges(user) {\n    if (!user) return '';\n\n    const badges = [];\n\n    // Global Admin - Crown icon (highest priority)\n    if (user.is_global_admin) {\n      badges.push('<span class=\"c-chat-widget__role-badge c-chat-widget__role-badge--admin\" title=\"Global Admin\"><i class=\"ti ti-crown\"></i></span>');\n    }\n    // Pub League Admin - Shield icon\n    else if (user.is_admin) {\n      badges.push('<span class=\"c-chat-widget__role-badge c-chat-widget__role-badge--admin\" title=\"Admin\"><i class=\"ti ti-shield-check\"></i></span>');\n    }\n\n    // Coach - Whistle icon\n    if (user.is_coach) {\n      badges.push('<span class=\"c-chat-widget__role-badge c-chat-widget__role-badge--coach\" title=\"Coach\"><i class=\"ti ti-speakerphone\"></i></span>');\n    }\n\n    // Referee - Cards icon\n    if (user.is_ref) {\n      badges.push('<span class=\"c-chat-widget__role-badge c-chat-widget__role-badge--ref\" title=\"Referee\"><i class=\"ti ti-cards\"></i></span>');\n    }\n\n    return badges.length > 0 ? `<span class=\"c-chat-widget__role-badges\">${badges.join('')}</span>` : '';\n  }\n\n  function renderConversations() {\n    if (!elements.conversationList) return;\n\n    if (state.conversations.length === 0) {\n      elements.conversationList.innerHTML = '';\n      if (elements.emptyState) {\n        elements.emptyState.style.display = 'flex';\n      }\n      return;\n    }\n\n    if (elements.emptyState) {\n      elements.emptyState.style.display = 'none';\n    }\n\n    const defaultAvatar = '/static/img/default_player.png';\n\n    const html = state.conversations.map(conv => {\n      const isActive = state.activeConversation?.id === conv.user.id;\n      const isUnread = conv.unread_count > 0;\n      const isOnline = conv.user.is_online;\n      const avatarUrl = conv.user.avatar_url || defaultAvatar;\n      const roleBadges = renderRoleBadges(conv.user);\n\n      return `\n        <div class=\"c-chat-widget__conversation ${isActive ? 'c-chat-widget__conversation--active' : ''} ${isUnread ? 'c-chat-widget__conversation--unread' : ''}\"\n             data-user-id=\"${conv.user.id}\"\n             data-user-name=\"${escapeHtml(conv.user.name)}\"\n             data-avatar=\"${avatarUrl}\"\n             data-online=\"${isOnline}\"\n             data-is-coach=\"${conv.user.is_coach || false}\"\n             data-is-admin=\"${conv.user.is_admin || false}\"\n             data-is-global-admin=\"${conv.user.is_global_admin || false}\"\n             data-is-ref=\"${conv.user.is_ref || false}\"\n             role=\"button\"\n             tabindex=\"0\">\n          <div class=\"c-chat-widget__conv-avatar ${isOnline ? 'c-chat-widget__conv-avatar--online' : ''}\">\n            <img src=\"${avatarUrl}\" alt=\"${escapeHtml(conv.user.name)}\" onerror=\"this.src='${defaultAvatar}'\">\n          </div>\n          <div class=\"c-chat-widget__conv-content\">\n            <div class=\"c-chat-widget__conv-header\">\n              <span class=\"c-chat-widget__conv-name\">${escapeHtml(conv.user.name)}${roleBadges}</span>\n              <span class=\"c-chat-widget__conv-time\">${conv.last_message.time_ago}</span>\n            </div>\n            <div class=\"c-chat-widget__conv-preview\">\n              ${conv.last_message.sent_by_me ? 'You: ' : ''}${escapeHtml(conv.last_message.content)}\n            </div>\n          </div>\n          ${isUnread ? `<div class=\"c-chat-widget__conv-badge\">${conv.unread_count}</div>` : ''}\n        </div>\n      `;\n    }).join('');\n\n    elements.conversationList.innerHTML = html;\n  }\n\n  function renderMessages() {\n    if (!elements.messagesContainer) return;\n\n    if (state.messages.length === 0) {\n      elements.messagesContainer.innerHTML = `\n        <div class=\"c-chat-widget__empty\" style=\"padding: 24px;\">\n          <i class=\"c-chat-widget__empty-icon ti ti-message-2\"></i>\n          <div class=\"c-chat-widget__empty-text\">No messages yet. Say hello!</div>\n        </div>\n      `;\n      return;\n    }\n\n    const currentUserId = getCurrentUserId();\n\n    const html = state.messages.map(msg => {\n      const isSent = msg.sender_id === currentUserId;\n      const isDeleted = msg.is_deleted;\n\n      // Deleted message placeholder\n      if (isDeleted) {\n        return `\n          <div class=\"c-chat-widget__message c-chat-widget__message--${isSent ? 'sent' : 'received'} c-chat-widget__message--deleted\"\n               data-message-id=\"${msg.id}\">\n            <div class=\"c-chat-widget__message-bubble c-chat-widget__message-bubble--deleted\">\n              <i class=\"ti ti-message-off\" style=\"margin-right: 6px; opacity: 0.7;\"></i>\n              ${isSent ? 'You unsent a message' : 'This message was unsent'}\n            </div>\n            <span class=\"c-chat-widget__message-time\">\n              ${formatMessageTime(msg.created_at)}\n            </span>\n          </div>\n        `;\n      }\n\n      // Convert emoji shortcodes\n      const contentWithEmojis = convertEmojiShortcodes(escapeHtml(msg.content));\n\n      return `\n        <div class=\"c-chat-widget__message c-chat-widget__message--${isSent ? 'sent' : 'received'}\"\n             data-message-id=\"${msg.id}\"\n             data-sender-id=\"${msg.sender_id}\">\n          <div class=\"c-chat-widget__message-actions\">\n            <button class=\"c-chat-widget__message-action-btn\" data-action=\"delete-menu\" title=\"Delete message\">\n              <i class=\"ti ti-trash\"></i>\n            </button>\n          </div>\n          <div class=\"c-chat-widget__message-bubble\">\n            ${contentWithEmojis}\n          </div>\n          <span class=\"c-chat-widget__message-time\">\n            ${formatMessageTime(msg.created_at)}\n            ${isSent && msg.is_read ? '<i class=\"ti ti-checks\" style=\"margin-left: 4px; color: var(--cw-accent);\"></i>' : ''}\n          </span>\n        </div>\n      `;\n    }).join('');\n\n    elements.messagesContainer.innerHTML = html;\n  }\n\n  function handleDeleteMenuClick(element, e) {\n    e.stopPropagation();\n\n    const messageEl = element.closest('.c-chat-widget__message');\n    if (!messageEl) return;\n\n    const messageId = parseInt(messageEl.dataset.messageId);\n    const senderId = parseInt(messageEl.dataset.senderId);\n    const currentUserId = getCurrentUserId();\n    const isSent = senderId === currentUserId;\n\n    showDeleteConfirmation(messageId, isSent);\n  }\n\n  function showDeleteConfirmation(messageId, isSent) {\n    // Use SweetAlert2 if available\n    if (typeof Swal !== 'undefined') {\n      const options = {\n        title: 'Delete message?',\n        icon: 'question',\n        showCancelButton: true,\n        confirmButtonColor: 'var(--cw-danger, #ef4444)',\n        cancelButtonColor: 'var(--cw-text-secondary, #6b7280)',\n        confirmButtonText: 'Delete for me',\n        cancelButtonText: 'Cancel',\n        customClass: {\n          popup: 'c-chat-widget-swal'\n        }\n      };\n\n      // Add \"Unsend for everyone\" option if user sent the message\n      if (isSent) {\n        options.showDenyButton = true;\n        options.denyButtonText = 'Unsend for everyone';\n        options.denyButtonColor = 'var(--cw-accent, #7c3aed)';\n      }\n\n      Swal.fire(options).then((result) => {\n        if (result.isConfirmed) {\n          // Delete for me only\n          deleteMessage(messageId, 'me');\n        } else if (result.isDenied) {\n          // Unsend for everyone\n          deleteMessage(messageId, 'everyone');\n        }\n      });\n    } else {\n      // Fallback to simple confirm\n      if (confirm('Delete this message for yourself?')) {\n        deleteMessage(messageId, 'me');\n      }\n    }\n  }\n\n  async function deleteMessage(messageId, deleteFor) {\n    try {\n      let url, method;\n\n      if (deleteFor === 'everyone') {\n        url = `/api/messages/message/${messageId}`;\n        method = 'DELETE';\n      } else {\n        url = `/api/messages/message/${messageId}/hide`;\n        method = 'POST';\n      }\n\n      const response = await fetchJSON(url, { method });\n\n      if (response.success) {\n        if (deleteFor === 'everyone') {\n          // Update message in local state to show as deleted\n          const msgIndex = state.messages.findIndex(m => m.id === messageId);\n          if (msgIndex !== -1) {\n            state.messages[msgIndex].is_deleted = true;\n            state.messages[msgIndex].content = null;\n          }\n        } else {\n          // Remove from local state (hidden for me)\n          state.messages = state.messages.filter(m => m.id !== messageId);\n        }\n\n        renderMessages();\n        scrollToBottom();\n        showToast(deleteFor === 'everyone' ? 'Message unsent' : 'Message deleted', 'success');\n      } else {\n        showToast(response.error || 'Failed to delete message', 'error');\n      }\n    } catch (error) {\n      console.error('[ChatWidget] Delete message error:', error);\n      showToast('Failed to delete message', 'error');\n    }\n  }\n\n  // Emoji shortcode conversion\n  const EMOJI_MAP = {\n    ':)': '', ':-)': '', '=)': '',\n    ':(': '', ':-(': '', '=(': '',\n    ':D': '', ':-D': '', '=D': '',\n    ';)': '', ';-)': '',\n    ':P': '', ':-P': '', ':p': '',\n    ':O': '', ':-O': '', ':o': '',\n    '<3': '', '</3': '',\n    ':*': '', ':-*': '',\n    \":'(\": '', \":')\": '',\n    ':fire:': '', ':heart:': '', ':thumbsup:': '', ':thumbsdown:': '',\n    ':clap:': '', ':wave:': '', ':ok:': '', ':100:': '',\n    ':star:': '', ':sun:': '', ':moon:': '', ':soccer:': '',\n    ':trophy:': '', ':medal:': '', ':crown:': '',\n    ':check:': '', ':x:': '', ':warning:': '',\n    ':party:': '', ':confetti:': '',\n    'xD': '', 'XD': '',\n    'B)': '', 'B-)': '',\n    '-_-': '', ':|': '',\n    ':angry:': '', '>:(': '',\n    ':thinking:': '', ':shrug:': '',\n    ':pray:': '', ':muscle:': '',\n    ':eyes:': '', ':sweat:': '',\n    ':cool:': '', ':lol:': '', ':rofl:': ''\n  };\n\n  function convertEmojiShortcodes(text) {\n    if (!text) return text;\n\n    let result = text;\n    for (const [shortcode, emoji] of Object.entries(EMOJI_MAP)) {\n      // Escape special regex characters in the shortcode\n      const escaped = shortcode.replace(/[.*+?^${}()|[\\]\\\\]/g, '\\\\$&');\n      result = result.replace(new RegExp(escaped, 'g'), emoji);\n    }\n    return result;\n  }\n\n  function renderSearchResults() {\n    if (!elements.searchResults) {\n      console.warn('[ChatWidget] Search results element not found');\n      return;\n    }\n\n    if (state.searchResults.length === 0) {\n      console.log('[ChatWidget] No search results, hiding dropdown');\n      elements.searchResults.classList.remove('is-visible');\n      elements.searchResults.innerHTML = '';\n      return;\n    }\n\n    console.log('[ChatWidget] Rendering', state.searchResults.length, 'search results');\n    const defaultAvatar = '/static/img/default_player.png';\n\n    const html = state.searchResults.map(user => {\n      const avatarUrl = user.avatar_url || defaultAvatar;\n      const roleBadges = renderRoleBadges(user);\n      return `\n        <div class=\"c-chat-widget__search-result\"\n             data-user-id=\"${user.id}\"\n             data-user-name=\"${escapeHtml(user.name)}\"\n             data-avatar=\"${avatarUrl}\"\n             data-online=\"${user.is_online || false}\"\n             data-is-coach=\"${user.is_coach || false}\"\n             data-is-admin=\"${user.is_admin || false}\"\n             data-is-global-admin=\"${user.is_global_admin || false}\"\n             data-is-ref=\"${user.is_ref || false}\"\n             role=\"button\"\n             tabindex=\"0\">\n          <div class=\"c-chat-widget__search-result-avatar\">\n            <img src=\"${avatarUrl}\" alt=\"${escapeHtml(user.name)}\" onerror=\"this.src='${defaultAvatar}'\">\n          </div>\n          <span class=\"c-chat-widget__search-result-name\">${escapeHtml(user.name)}${roleBadges}</span>\n        </div>\n      `;\n    }).join('');\n\n    elements.searchResults.innerHTML = html;\n    elements.searchResults.classList.add('is-visible');\n    console.log('[ChatWidget] Search results dropdown visible');\n  }\n\n  function renderOnlineUsers(users) {\n    if (!elements.onlineList) return;\n\n    const onlineSection = elements.onlineList.closest('.c-chat-widget__online');\n\n    if (!users || users.length === 0) {\n      if (onlineSection) onlineSection.classList.add('u-hidden');\n      return;\n    }\n\n    if (onlineSection) onlineSection.classList.remove('u-hidden');\n\n    const defaultAvatar = '/static/img/default_player.png';\n\n    const html = users.slice(0, 8).map(user => {\n      const avatarUrl = user.avatar_url || defaultAvatar;\n      return `\n        <div class=\"c-chat-widget__online-user\"\n             data-user-id=\"${user.id}\"\n             data-user-name=\"${escapeHtml(user.name)}\"\n             data-avatar=\"${avatarUrl}\"\n             data-online=\"true\"\n             role=\"button\"\n             tabindex=\"0\">\n          <div class=\"c-chat-widget__online-avatar\">\n            <img src=\"${avatarUrl}\" alt=\"${escapeHtml(user.name)}\" onerror=\"this.src='${defaultAvatar}'\">\n          </div>\n          <span class=\"c-chat-widget__online-name\">${escapeHtml(user.name.split(' ')[0])}</span>\n        </div>\n      `;\n    }).join('');\n\n    elements.onlineList.innerHTML = html;\n  }\n\n  function updateBadge() {\n    if (!elements.badge) return;\n\n    if (state.unreadCount > 0) {\n      elements.badge.textContent = state.unreadCount > 99 ? '99+' : state.unreadCount;\n      elements.badge.dataset.count = state.unreadCount;\n      elements.badge.style.display = '';\n    } else {\n      elements.badge.style.display = 'none';\n      elements.badge.dataset.count = '0';\n    }\n\n    // Also update navbar badge if it exists\n    const navbarBadge = document.querySelector('[data-badge=\"messages-count\"]');\n    if (navbarBadge) {\n      navbarBadge.textContent = state.unreadCount > 99 ? '99+' : state.unreadCount;\n      navbarBadge.classList.toggle('u-hidden', state.unreadCount === 0);\n    }\n  }\n\n  function updateSendButton() {\n    if (!elements.sendBtn || !elements.composerInput) return;\n\n    const hasContent = elements.composerInput.value.trim().length > 0;\n    elements.sendBtn.disabled = !hasContent;\n  }\n\n  // ============================================================================\n  // VIEW MANAGEMENT\n  // ============================================================================\n\n  function openWidget() {\n    if (!elements.widget) return;\n\n    state.isOpen = true;\n    elements.widget.dataset.state = 'open';\n\n    // Lock body scroll on mobile - cross-browser compatible approach\n    if (window.innerWidth <= 767) {\n      // Save scroll position\n      const scrollY = window.scrollY || window.pageYOffset || document.documentElement.scrollTop;\n      document.body.dataset.chatScrollY = scrollY;\n\n      // Add class for CSS-based scroll lock\n      document.documentElement.classList.add('chat-widget-open');\n      document.body.classList.add('chat-widget-open');\n\n      // iOS Safari fix: set body top to preserve visual scroll position\n      document.body.style.top = `-${scrollY}px`;\n    }\n\n    // Load initial data\n    loadConversations();\n    loadUnreadCount();\n\n    // Join messaging room\n    joinMessagingRoom();\n\n    // Focus search on desktop\n    if (window.innerWidth > 575 && elements.searchInput) {\n      setTimeout(() => elements.searchInput.focus(), CONFIG.ui.animationDuration);\n    }\n  }\n\n  function closeWidget() {\n    if (!elements.widget) return;\n\n    state.isOpen = false;\n    state.currentView = 'list';\n    state.activeConversation = null;\n    state.messages = [];\n    elements.widget.dataset.state = 'closed';\n    elements.widget.dataset.view = 'list';\n\n    // Unlock body scroll on mobile - cross-browser compatible\n    document.documentElement.classList.remove('chat-widget-open');\n    document.body.classList.remove('chat-widget-open');\n    document.body.style.top = '';\n\n    if (document.body.dataset.chatScrollY !== undefined) {\n      const scrollY = parseInt(document.body.dataset.chatScrollY || '0', 10);\n      delete document.body.dataset.chatScrollY;\n      // Restore scroll position after removing fixed positioning\n      window.scrollTo(0, scrollY);\n    }\n\n    // Clear search state\n    clearSearch();\n  }\n\n  function toggleWidget() {\n    if (state.isOpen) {\n      closeWidget();\n    } else {\n      openWidget();\n    }\n  }\n\n  function openConversation(userId, userName, avatarUrl, isOnline, roleInfo) {\n    state.currentView = 'chat';\n    state.activeConversation = {\n      id: parseInt(userId),\n      name: userName,\n      avatar: avatarUrl,\n      isOnline: isOnline === 'true' || isOnline === true,\n      roles: roleInfo || {}\n    };\n\n    if (elements.widget) {\n      elements.widget.dataset.view = 'chat';\n    }\n\n    // Update chat header\n    const defaultAvatar = '/static/img/default_player.png';\n\n    if (elements.chatAvatar) {\n      elements.chatAvatar.src = avatarUrl || defaultAvatar;\n      elements.chatAvatar.onerror = function() { this.src = defaultAvatar; };\n    }\n    if (elements.chatName) {\n      // Display name with role badges\n      const roleBadges = renderRoleBadges(roleInfo);\n      elements.chatName.innerHTML = escapeHtml(userName) + roleBadges;\n    }\n    if (elements.chatStatus) {\n      elements.chatStatus.textContent = state.activeConversation.isOnline ? 'Online' : 'Offline';\n      elements.chatStatus.classList.toggle('c-chat-widget__chat-status--offline', !state.activeConversation.isOnline);\n    }\n\n    // Update avatar online status\n    if (elements.chatAvatarContainer) {\n      elements.chatAvatarContainer.classList.toggle('c-chat-widget__chat-avatar--online', state.activeConversation.isOnline);\n    }\n\n    // Clear messages and show loading\n    if (elements.messagesContainer) {\n      elements.messagesContainer.innerHTML = `\n        <div style=\"display: flex; justify-content: center; padding: 40px;\">\n          <div class=\"c-chat-widget__typing-dots\">\n            <span class=\"c-chat-widget__typing-dot\"></span>\n            <span class=\"c-chat-widget__typing-dot\"></span>\n            <span class=\"c-chat-widget__typing-dot\"></span>\n          </div>\n        </div>\n      `;\n    }\n\n    // Load messages\n    loadMessages(userId);\n\n    // Focus composer\n    if (elements.composerInput) {\n      setTimeout(() => elements.composerInput.focus(), CONFIG.ui.animationDuration);\n    }\n  }\n\n  function closeConversation() {\n    state.currentView = 'list';\n    state.activeConversation = null;\n    state.messages = [];\n\n    if (elements.widget) {\n      elements.widget.dataset.view = 'list';\n    }\n\n    // Clear search state when going back\n    clearSearch();\n\n    // Refresh conversations\n    loadConversations();\n  }\n\n  function scrollToBottom() {\n    if (elements.messagesContainer) {\n      requestAnimationFrame(() => {\n        elements.messagesContainer.scrollTop = elements.messagesContainer.scrollHeight;\n      });\n    }\n  }\n\n  // ============================================================================\n  // EVENT HANDLERS\n  // ============================================================================\n\n  function handleTriggerClick(e) {\n    e.preventDefault();\n    e.stopPropagation();\n    toggleWidget();\n  }\n\n  function handleConversationClick(e) {\n    const conversation = e.target.closest('.c-chat-widget__conversation, .c-chat-widget__online-user, .c-chat-widget__search-result');\n    if (!conversation) return;\n\n    const userId = conversation.dataset.userId;\n    const userName = conversation.dataset.userName;\n    const avatarUrl = conversation.dataset.avatar;\n    const isOnline = conversation.dataset.online;\n\n    // Get role info from data attributes (or from state for conversations)\n    const roleInfo = {\n      is_coach: conversation.dataset.isCoach === 'true',\n      is_admin: conversation.dataset.isAdmin === 'true',\n      is_global_admin: conversation.dataset.isGlobalAdmin === 'true',\n      is_ref: conversation.dataset.isRef === 'true'\n    };\n\n    openConversation(userId, userName, avatarUrl, isOnline, roleInfo);\n\n    // Clear search state completely\n    clearSearch();\n  }\n\n  function clearSearch() {\n    state.searchQuery = '';\n    state.searchResults = [];\n    if (elements.searchInput) {\n      elements.searchInput.value = '';\n    }\n    if (elements.searchResults) {\n      elements.searchResults.classList.remove('is-visible');\n      elements.searchResults.innerHTML = '';\n    }\n  }\n\n  function handleBackClick(e) {\n    e.preventDefault();\n    closeConversation();\n  }\n\n  function handleSendClick(e) {\n    e.preventDefault();\n    if (!state.activeConversation || !elements.composerInput) return;\n\n    const content = elements.composerInput.value.trim();\n    if (!content) return;\n\n    sendMessage(state.activeConversation.id, content);\n  }\n\n  function handleComposerKeydown(e) {\n    // Send on Enter (without Shift)\n    if (e.key === 'Enter' && !e.shiftKey) {\n      e.preventDefault();\n      handleSendClick(e);\n      return;\n    }\n\n    // Emit typing indicator\n    emitTypingStart();\n  }\n\n  function handleComposerInput() {\n    updateSendButton();\n    autoResizeTextarea(elements.composerInput);\n  }\n\n  let searchDebounceTimer = null;\n  function handleSearchInput(e) {\n    const query = e.target.value.trim();\n    state.searchQuery = query;\n    console.log('[ChatWidget] Search input:', query);\n\n    clearTimeout(searchDebounceTimer);\n    searchDebounceTimer = setTimeout(() => {\n      searchUsers(query);\n    }, CONFIG.ui.searchDebounce);\n  }\n\n  function handleSearchFocus() {\n    if (state.searchResults.length > 0 && elements.searchResults) {\n      elements.searchResults.classList.add('is-visible');\n    }\n  }\n\n  function handleSearchBlur() {\n    // Delay hiding to allow click on results\n    setTimeout(() => {\n      if (elements.searchResults) {\n        elements.searchResults.classList.remove('is-visible');\n      }\n    }, 200);\n  }\n\n  function handleKeydown(e) {\n    // Close on Escape\n    if (e.key === 'Escape') {\n      if (state.currentView === 'chat') {\n        closeConversation();\n      } else if (state.isOpen) {\n        closeWidget();\n      }\n    }\n  }\n\n  function handleClickOutside(e) {\n    if (!elements.widget || !state.isOpen) return;\n\n    // Don't close if clicking inside widget\n    if (elements.widget.contains(e.target)) return;\n\n    // Don't close on mobile (full screen)\n    if (window.innerWidth <= 575) return;\n\n    closeWidget();\n  }\n\n  // ============================================================================\n  // WEBSOCKET INTEGRATION\n  // ============================================================================\n\n  let socket = null;\n\n  function initWebSocket() {\n    // Use SocketManager if available (preferred method)\n    if (typeof window.SocketManager !== 'undefined') {\n      console.log('[ChatWidget] Using SocketManager');\n\n      // Get socket reference\n      socket = window.SocketManager.getSocket();\n\n      // Register connect callback - fires immediately if already connected\n      window.SocketManager.onConnect('ChatWidget', function(connectedSocket) {\n        socket = connectedSocket;\n        console.log('[ChatWidget] Socket connected via SocketManager');\n        // Join messaging room when connected\n        if (state.isOpen) {\n          joinMessagingRoom();\n        }\n      });\n\n      // Register disconnect callback\n      window.SocketManager.onDisconnect('ChatWidget', function(reason) {\n        console.log('[ChatWidget] Socket disconnected:', reason);\n      });\n\n      // Attach event listeners via SocketManager\n      attachSocketListeners();\n      return;\n    }\n\n    // Fallback: Check if Socket.IO is available\n    if (typeof io === 'undefined') {\n      console.warn('[ChatWidget] Socket.IO not available, using polling');\n      if (CONFIG.polling.enabled) {\n        setInterval(loadUnreadCount, CONFIG.polling.interval);\n      }\n      return;\n    }\n\n    // Fallback: Use existing socket or create new one\n    const checkSocket = () => {\n      if (window.socket && window.socket.connected) {\n        socket = window.socket;\n        attachSocketListenersDirect();\n      } else if (window.socket) {\n        // Socket exists but not connected - wait for connect event\n        socket = window.socket;\n        socket.once('connect', () => {\n          attachSocketListenersDirect();\n        });\n      } else {\n        // Try again in a second\n        setTimeout(checkSocket, 1000);\n      }\n    };\n\n    checkSocket();\n  }\n\n  function attachSocketListeners() {\n    // Use SocketManager for event registration (handles reconnects properly)\n    if (typeof window.SocketManager !== 'undefined') {\n      // Message events\n      window.SocketManager.on('ChatWidget', 'new_message', handleNewMessage);\n      window.SocketManager.on('ChatWidget', 'dm_sent', handleMessageSent);\n      window.SocketManager.on('ChatWidget', 'dm_error', handleMessageError);\n      window.SocketManager.on('ChatWidget', 'dm_unread_update', handleUnreadUpdate);\n      window.SocketManager.on('ChatWidget', 'message_deleted', handleMessageDeleted);\n\n      // Typing events\n      window.SocketManager.on('ChatWidget', 'user_typing', handleUserTyping);\n\n      // Read receipts\n      window.SocketManager.on('ChatWidget', 'messages_read', handleMessagesRead);\n\n      // Presence events\n      window.SocketManager.on('ChatWidget', 'user_online', handleUserOnline);\n      window.SocketManager.on('ChatWidget', 'user_offline', handleUserOffline);\n      window.SocketManager.on('ChatWidget', 'online_users', handleOnlineUsers);\n\n      console.log('[ChatWidget] Socket listeners attached via SocketManager');\n      return;\n    }\n\n    // Fallback to direct attachment\n    attachSocketListenersDirect();\n  }\n\n  function attachSocketListenersDirect() {\n    if (!socket) return;\n\n    // Message events\n    socket.on('new_message', handleNewMessage);\n    socket.on('dm_sent', handleMessageSent);\n    socket.on('dm_error', handleMessageError);\n    socket.on('dm_unread_update', handleUnreadUpdate);\n    socket.on('message_deleted', handleMessageDeleted);\n\n    // Typing events\n    socket.on('user_typing', handleUserTyping);\n\n    // Read receipts\n    socket.on('messages_read', handleMessagesRead);\n\n    // Presence events\n    socket.on('user_online', handleUserOnline);\n    socket.on('user_offline', handleUserOffline);\n    socket.on('online_users', handleOnlineUsers);\n\n    console.log('[ChatWidget] Socket listeners attached (direct)');\n  }\n\n  function handleMessageDeleted(data) {\n    const messageId = data.message_id;\n    const deletedFor = data.deleted_for;\n\n    // Find message in local state\n    const msgIndex = state.messages.findIndex(m => m.id === messageId);\n\n    if (msgIndex !== -1) {\n      if (deletedFor === 'everyone') {\n        // Mark as unsent (show placeholder)\n        state.messages[msgIndex].is_deleted = true;\n        state.messages[msgIndex].content = null;\n        renderMessages();\n      }\n      // Note: 'delete for me' by the other user doesn't affect our view\n    }\n  }\n\n  function joinMessagingRoom() {\n    // Use SocketManager if available\n    if (typeof window.SocketManager !== 'undefined') {\n      if (window.SocketManager.isConnected()) {\n        window.SocketManager.emit('join_messaging');\n      }\n      return;\n    }\n\n    // Fallback\n    if (socket && socket.connected) {\n      socket.emit('join_messaging');\n    }\n  }\n\n  function handleNewMessage(message) {\n    // Update unread count\n    state.unreadCount++;\n    updateBadge();\n\n    // If in active conversation with sender, add message\n    if (state.activeConversation && message.sender_id === state.activeConversation.id) {\n      state.messages.push(message);\n      renderMessages();\n      scrollToBottom();\n\n      // Mark as read\n      if (typeof window.SocketManager !== 'undefined') {\n        window.SocketManager.emit('mark_dm_read', { sender_id: message.sender_id });\n      } else if (socket) {\n        socket.emit('mark_dm_read', { sender_id: message.sender_id });\n      }\n    }\n\n    // Refresh conversation list\n    loadConversations();\n\n    // Show notification if widget is closed\n    if (!state.isOpen) {\n      showNotification(message.sender_name, message.content);\n    }\n  }\n\n  function handleMessageSent(data) {\n    // Message already added locally, just confirm\n    console.log('[ChatWidget] Message sent:', data.message?.id);\n  }\n\n  function handleMessageError(data) {\n    showToast(data.error || 'Failed to send message', 'error');\n  }\n\n  function handleUnreadUpdate(data) {\n    state.unreadCount = data.count;\n    updateBadge();\n  }\n\n  function handleUserTyping(data) {\n    if (!state.activeConversation || data.user_id !== state.activeConversation.id) return;\n\n    if (data.typing) {\n      showTypingIndicator();\n    } else {\n      hideTypingIndicator();\n    }\n  }\n\n  function handleMessagesRead(data) {\n    // Update read receipts in UI\n    if (state.activeConversation && data.reader_id === state.activeConversation.id) {\n      state.messages.forEach(msg => {\n        if (msg.sender_id !== data.reader_id) {\n          msg.is_read = true;\n        }\n      });\n      renderMessages();\n    }\n  }\n\n  function handleUserOnline(data) {\n    // Update online status in conversation list\n    updateUserOnlineStatus(data.user_id, true);\n\n    // Update active conversation\n    if (state.activeConversation?.id === data.user_id) {\n      state.activeConversation.isOnline = true;\n      if (elements.chatStatus) {\n        elements.chatStatus.textContent = 'Online';\n        elements.chatStatus.classList.remove('c-chat-widget__chat-status--offline');\n      }\n      if (elements.chatAvatarContainer) {\n        elements.chatAvatarContainer.classList.add('c-chat-widget__chat-avatar--online');\n      }\n    }\n  }\n\n  function handleUserOffline(data) {\n    updateUserOnlineStatus(data.user_id, false);\n\n    if (state.activeConversation?.id === data.user_id) {\n      state.activeConversation.isOnline = false;\n      if (elements.chatStatus) {\n        elements.chatStatus.textContent = 'Offline';\n        elements.chatStatus.classList.add('c-chat-widget__chat-status--offline');\n      }\n      if (elements.chatAvatarContainer) {\n        elements.chatAvatarContainer.classList.remove('c-chat-widget__chat-avatar--online');\n      }\n    }\n  }\n\n  function handleOnlineUsers(data) {\n    state.onlineUsers = data.users || [];\n    renderOnlineUsers(state.onlineUsers);\n  }\n\n  function updateUserOnlineStatus(userId, isOnline) {\n    const convElements = document.querySelectorAll(`[data-user-id=\"${userId}\"]`);\n    convElements.forEach(el => {\n      el.dataset.online = isOnline;\n      const avatar = el.querySelector('.c-chat-widget__conv-avatar, .c-chat-widget__online-avatar');\n      if (avatar) {\n        avatar.classList.toggle('c-chat-widget__conv-avatar--online', isOnline);\n      }\n    });\n  }\n\n  // ============================================================================\n  // TYPING INDICATOR\n  // ============================================================================\n\n  function emitTypingStart() {\n    if (!state.activeConversation || !state.settings.typingIndicators) return;\n\n    // Check if we can emit\n    const canEmit = (typeof window.SocketManager !== 'undefined' && window.SocketManager.isConnected()) ||\n                    (socket && socket.connected);\n    if (!canEmit) return;\n\n    if (!state.isTyping) {\n      state.isTyping = true;\n      if (typeof window.SocketManager !== 'undefined') {\n        window.SocketManager.emit('typing_start', { recipient_id: state.activeConversation.id });\n      } else if (socket) {\n        socket.emit('typing_start', { recipient_id: state.activeConversation.id });\n      }\n    }\n\n    // Reset timeout\n    clearTimeout(state.typingTimeout);\n    state.typingTimeout = setTimeout(() => {\n      state.isTyping = false;\n      if (typeof window.SocketManager !== 'undefined') {\n        window.SocketManager.emit('typing_stop', { recipient_id: state.activeConversation.id });\n      } else if (socket) {\n        socket.emit('typing_stop', { recipient_id: state.activeConversation.id });\n      }\n    }, CONFIG.ui.typingDebounce);\n  }\n\n  function showTypingIndicator() {\n    if (elements.typingIndicator) {\n      elements.typingIndicator.style.display = 'flex';\n      scrollToBottom();\n    }\n  }\n\n  function hideTypingIndicator() {\n    if (elements.typingIndicator) {\n      elements.typingIndicator.style.display = 'none';\n    }\n  }\n\n  // ============================================================================\n  // UTILITIES\n  // ============================================================================\n\n  function escapeHtml(text) {\n    if (!text) return '';\n    const div = document.createElement('div');\n    div.textContent = text;\n    return div.innerHTML;\n  }\n\n  function formatMessageTime(isoString) {\n    if (!isoString) return '';\n\n    const date = new Date(isoString);\n    const now = new Date();\n    const diff = now - date;\n\n    // Today: show time\n    if (diff < 86400000 && date.getDate() === now.getDate()) {\n      return date.toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' });\n    }\n\n    // Yesterday\n    if (diff < 172800000) {\n      return 'Yesterday';\n    }\n\n    // This week: show day name\n    if (diff < 604800000) {\n      return date.toLocaleDateString([], { weekday: 'short' });\n    }\n\n    // Older: show date\n    return date.toLocaleDateString([], { month: 'short', day: 'numeric' });\n  }\n\n  function getCurrentUserId() {\n    // Try to get from global or meta tag\n    if (window.currentUserId) return parseInt(window.currentUserId);\n\n    const meta = document.querySelector('meta[name=\"user-id\"]');\n    if (meta) return parseInt(meta.content);\n\n    // Try from session data\n    const sessionData = document.querySelector('[data-user-id]');\n    if (sessionData) return parseInt(sessionData.dataset.userId);\n\n    return null;\n  }\n\n  function autoResizeTextarea(textarea) {\n    if (!textarea) return;\n\n    textarea.style.height = 'auto';\n    textarea.style.height = Math.min(textarea.scrollHeight, 120) + 'px';\n  }\n\n  function showToast(message, type = 'info') {\n    // Use SweetAlert2 if available, otherwise console\n    if (typeof Swal !== 'undefined') {\n      Swal.fire({\n        toast: true,\n        position: 'top-end',\n        icon: type,\n        title: message,\n        showConfirmButton: false,\n        timer: 3000,\n        timerProgressBar: true\n      });\n    } else {\n      console.log(`[ChatWidget] ${type}: ${message}`);\n    }\n  }\n\n  function showNotification(title, body) {\n    // Browser notification if permitted\n    if ('Notification' in window && Notification.permission === 'granted') {\n      new Notification(title, {\n        body: body.length > 50 ? body.substring(0, 50) + '...' : body,\n        icon: '/static/images/logo-icon.png',\n        tag: 'chat-message'\n      });\n    }\n  }\n\n  // ============================================================================\n  // SMART POSITIONING\n  // ============================================================================\n\n  function updatePosition() {\n    if (!elements.widget) return;\n\n    // Check for mobile bottom nav\n    const mobileNav = document.querySelector('.mobile-bottom-nav, .c-mobile-nav, [data-mobile-nav]');\n    if (mobileNav) {\n      const navHeight = mobileNav.offsetHeight;\n      document.documentElement.style.setProperty('--mobile-nav-height', `${navHeight}px`);\n    }\n  }\n\n  // ============================================================================\n  // EVENT DELEGATION REGISTRATION\n  // ============================================================================\n\n  function registerEventHandlers() {\n    // Register delete-menu action via EventDelegation\n    if (typeof EventDelegation !== 'undefined') {\n      EventDelegation.register('delete-menu', handleDeleteMenuClick, {\n        preventDefault: true\n      });\n    }\n  }\n\n  // ============================================================================\n  // INITIALIZATION\n  // ============================================================================\n\n  function bindEvents() {\n    // Trigger button\n    if (elements.trigger) {\n      elements.trigger.addEventListener('click', handleTriggerClick);\n    }\n\n    // Close buttons (both list view and chat view)\n    if (elements.closeBtns) {\n      elements.closeBtns.forEach(btn => {\n        btn.addEventListener('click', closeWidget);\n      });\n    }\n\n    // Conversation clicks (event delegation)\n    if (elements.conversationList) {\n      elements.conversationList.addEventListener('click', handleConversationClick);\n    }\n    if (elements.onlineList) {\n      elements.onlineList.addEventListener('click', handleConversationClick);\n    }\n    if (elements.searchResults) {\n      elements.searchResults.addEventListener('click', handleConversationClick);\n    }\n\n    // Back button\n    if (elements.backBtn) {\n      elements.backBtn.addEventListener('click', handleBackClick);\n    }\n\n    // Send button\n    if (elements.sendBtn) {\n      elements.sendBtn.addEventListener('click', handleSendClick);\n    }\n\n    // Composer\n    if (elements.composerInput) {\n      elements.composerInput.addEventListener('keydown', handleComposerKeydown);\n      elements.composerInput.addEventListener('input', handleComposerInput);\n\n      // iOS Safari fix: ensure textarea is focusable on tap\n      elements.composerInput.addEventListener('touchstart', function(e) {\n        // Don't prevent default - allow normal touch behavior\n        // Just ensure element can receive focus\n        this.style.pointerEvents = 'auto';\n      }, { passive: true });\n\n      // Ensure focus works on click (fallback for all browsers)\n      elements.composerInput.addEventListener('click', function(e) {\n        e.stopPropagation();\n        this.focus();\n      });\n    }\n\n    // Search\n    if (elements.searchInput) {\n      console.log('[ChatWidget] Search input found, binding events');\n      elements.searchInput.addEventListener('input', handleSearchInput);\n      elements.searchInput.addEventListener('focus', handleSearchFocus);\n      elements.searchInput.addEventListener('blur', handleSearchBlur);\n    } else {\n      console.warn('[ChatWidget] Search input not found!');\n    }\n\n    // Global events\n    document.addEventListener('keydown', handleKeydown);\n    document.addEventListener('click', handleClickOutside);\n\n    // Window resize\n    window.addEventListener('resize', updatePosition);\n\n    // Open inbox button\n    if (elements.openInboxBtn) {\n      elements.openInboxBtn.addEventListener('click', () => {\n        window.location.href = '/messages';\n      });\n    }\n\n    // New chat button (focus search)\n    if (elements.newChatBtn) {\n      elements.newChatBtn.addEventListener('click', () => {\n        if (state.currentView === 'chat') {\n          closeConversation();\n        }\n        if (elements.searchInput) {\n          elements.searchInput.focus();\n        }\n      });\n    }\n  }\n\n  function init() {\n    // Page guard - only initialize if chat widget exists on page\n    // This must be checked after DOMContentLoaded when the element exists\n    if (!document.querySelector('.c-chat-widget')) {\n      console.log('[ChatWidget] No widget element found, skipping initialization');\n      return;\n    }\n\n    cacheElements();\n    registerEventHandlers();\n    bindEvents();\n    initWebSocket();\n    updatePosition();\n\n    // Load initial unread count\n    loadUnreadCount();\n\n    // Polling fallback\n    if (CONFIG.polling.enabled) {\n      setInterval(loadUnreadCount, CONFIG.polling.interval);\n    }\n\n    console.log('[ChatWidget] Initialized');\n  }\n\n  // Initialize when DOM is ready\n  if (document.readyState === 'loading') {\n    document.addEventListener('DOMContentLoaded', init);\n  } else {\n    init();\n  }\n\n  // Expose to global for external access\n  window.ChatWidget = {\n    open: openWidget,\n    close: closeWidget,\n    toggle: toggleWidget,\n    openConversation: openConversation,\n    refresh: loadConversations,\n    getUnreadCount: () => state.unreadCount\n  };\n\n})();\n","/**\n * ============================================================================\n * MESSENGER WIDGET - Unified Sidebar Messaging Component\n * ============================================================================\n *\n * Facebook Messenger-style sidebar widget combining:\n * - Online users display\n * - Conversation list\n * - Real-time chat interface\n * - User search\n * - Message management (read, send, delete)\n *\n * Dependencies:\n * - Socket.IO (for real-time features)\n * - Bootstrap 5 (optional, for modals)\n *\n * ============================================================================\n */\n\n(function() {\n  'use strict';\n\n  class MessengerWidget {\n    constructor() {\n      this.widget = null;\n      this.currentUserId = null;\n      this.currentUserName = '';\n      this.conversations = [];\n      this.messages = [];\n      this.onlineUsers = [];\n      this.unreadCount = 0;\n      this.typingTimeout = null;\n      this.socket = null;\n      this.refreshIntervals = {};\n    }\n\n    /**\n     * Initialize the messenger widget\n     */\n    init() {\n      this.widget = document.querySelector('[data-component=\"messenger-widget\"]');\n      if (!this.widget) return;\n\n      this.bindEvents();\n      this.setupWebSocket();\n      this.loadOnlineUsers();\n      this.loadConversations();\n      this.loadUnreadCount();\n\n      // Set up periodic refreshes\n      this.refreshIntervals.online = setInterval(() => this.loadOnlineUsers(), 30000);\n      this.refreshIntervals.unread = setInterval(() => this.loadUnreadCount(), 60000);\n\n      console.log('[Messenger] Initialized');\n    }\n\n    /**\n     * Get CSRF token\n     */\n    getCSRFToken() {\n      const meta = document.querySelector('meta[name=\"csrf-token\"]');\n      return meta ? meta.getAttribute('content') : '';\n    }\n\n    /**\n     * Bind DOM events using event delegation\n     */\n    bindEvents() {\n      // Event delegation for all actions\n      this.widget.addEventListener('click', (e) => {\n        const action = e.target.closest('[data-action]');\n        if (action) {\n          e.preventDefault();\n          this.handleAction(action.dataset.action, action);\n        }\n\n        // Conversation click\n        const conv = e.target.closest('[data-conversation-id]');\n        if (conv && !action) {\n          e.preventDefault();\n          const userId = parseInt(conv.dataset.conversationId, 10);\n          this.openConversation(userId);\n        }\n\n        // Online user click\n        const onlineUser = e.target.closest('[data-online-user-id]');\n        if (onlineUser && !action) {\n          e.preventDefault();\n          const userId = parseInt(onlineUser.dataset.onlineUserId, 10);\n          this.openConversation(userId);\n        }\n      });\n\n      // Search input\n      const searchInput = this.widget.querySelector('[data-input=\"search\"]');\n      if (searchInput) {\n        searchInput.addEventListener('input', (e) => this.handleSearch(e.target.value));\n      }\n\n      // Message input\n      const msgInput = this.widget.querySelector('[data-input=\"message\"]');\n      if (msgInput) {\n        msgInput.addEventListener('keydown', (e) => {\n          if (e.key === 'Enter' && !e.shiftKey) {\n            e.preventDefault();\n            this.sendMessage();\n          }\n        });\n        msgInput.addEventListener('input', () => this.handleTyping());\n\n        // Auto-resize textarea\n        msgInput.addEventListener('input', () => {\n          msgInput.style.height = 'auto';\n          msgInput.style.height = Math.min(msgInput.scrollHeight, 100) + 'px';\n        });\n      }\n\n      // Close on escape when chatting\n      document.addEventListener('keydown', (e) => {\n        if (e.key === 'Escape' && this.widget.classList.contains('is-chatting')) {\n          this.showList();\n        }\n      });\n    }\n\n    /**\n     * Handle action buttons\n     */\n    handleAction(action, element) {\n      switch (action) {\n        case 'back':\n          this.showList();\n          break;\n        case 'new-chat':\n          this.focusSearch();\n          break;\n        case 'send-message':\n          this.sendMessage();\n          break;\n        case 'delete-message':\n          const msgId = element.closest('[data-message-id]')?.dataset.messageId;\n          if (msgId) this.deleteMessage(parseInt(msgId, 10));\n          break;\n        case 'open-messages':\n          window.location.href = '/messages';\n          break;\n      }\n    }\n\n    /**\n     * Setup WebSocket connection\n     */\n    setupWebSocket() {\n      if (typeof io === 'undefined') return;\n\n      const checkSocket = () => {\n        if (window.socket && window.socket.connected) {\n          this.socket = window.socket;\n          this.attachSocketListeners();\n        } else {\n          setTimeout(checkSocket, 1000);\n        }\n      };\n      checkSocket();\n    }\n\n    /**\n     * Attach WebSocket event listeners\n     */\n    attachSocketListeners() {\n      if (!this.socket) return;\n\n      this.socket.on('new_message', (data) => this.handleNewMessage(data));\n      this.socket.on('user_typing', (data) => this.handleTypingIndicator(data));\n      this.socket.on('messages_read', (data) => this.handleMessagesRead(data));\n      this.socket.on('dm_sent', (data) => {\n        if (data.message) this.appendMessage(data.message);\n      });\n      this.socket.on('dm_error', (data) => {\n        this.showToast(data.error || 'Failed to send message', 'error');\n      });\n      this.socket.on('user_online', () => this.loadOnlineUsers());\n      this.socket.on('user_offline', () => this.loadOnlineUsers());\n      this.socket.on('message_deleted', (data) => this.handleMessageDeleted(data));\n    }\n\n    // ========================================================================\n    // ONLINE USERS\n    // ========================================================================\n\n    /**\n     * Load online users\n     */\n    async loadOnlineUsers() {\n      try {\n        const response = await fetch('/api/notifications/presence/online-users?details=true&limit=8');\n        const data = await response.json();\n\n        if (data.success) {\n          this.onlineUsers = data.online_users || [];\n          this.renderOnlineUsers();\n          this.updateOnlineCount(data.count || this.onlineUsers.length);\n        }\n      } catch (error) {\n        console.warn('[Messenger] Failed to load online users:', error);\n      }\n    }\n\n    /**\n     * Render online users\n     */\n    renderOnlineUsers() {\n      const list = this.widget.querySelector('[data-online-list]');\n      if (!list) return;\n\n      list.innerHTML = '';\n\n      if (this.onlineUsers.length === 0) {\n        list.innerHTML = '<span class=\"c-messenger__online-empty\">No one online</span>';\n        return;\n      }\n\n      this.onlineUsers.forEach(user => {\n        const el = document.createElement('div');\n        el.className = 'c-messenger__online-user';\n        el.dataset.onlineUserId = user.id;\n        el.title = `Chat with ${user.name}`;\n\n        const avatarUrl = user.avatar_url || '/static/img/default_player.png';\n\n        el.innerHTML = `\n          <div class=\"c-messenger__online-avatar\">\n            <img src=\"${avatarUrl}\" alt=\"${user.name}\" class=\"c-messenger__online-avatar-img\"\n                 onerror=\"this.src='/static/img/default_player.png'\">\n            <span class=\"c-online-status c-online-status--sm is-online\"></span>\n          </div>\n          <span class=\"c-messenger__online-name\">${user.name.split(' ')[0]}</span>\n        `;\n\n        list.appendChild(el);\n      });\n    }\n\n    /**\n     * Update online count display\n     */\n    updateOnlineCount(count) {\n      const countEl = this.widget.querySelector('[data-online-count]');\n      if (countEl) {\n        countEl.textContent = count;\n      }\n    }\n\n    // ========================================================================\n    // CONVERSATIONS\n    // ========================================================================\n\n    /**\n     * Load conversations list\n     */\n    async loadConversations() {\n      const list = this.widget.querySelector('[data-conversation-list]');\n      const loading = this.widget.querySelector('[data-state=\"loading\"]');\n      const empty = this.widget.querySelector('[data-state=\"empty\"]');\n\n      if (loading) loading.classList.remove('u-hidden');\n      if (empty) empty.classList.add('u-hidden');\n\n      try {\n        const response = await fetch('/api/messages');\n        const data = await response.json();\n\n        if (loading) loading.classList.add('u-hidden');\n\n        if (data.success) {\n          this.conversations = data.conversations || [];\n          this.renderConversations();\n        }\n      } catch (error) {\n        console.error('[Messenger] Failed to load conversations:', error);\n        if (loading) loading.classList.add('u-hidden');\n      }\n    }\n\n    /**\n     * Render conversations list\n     */\n    renderConversations() {\n      const list = this.widget.querySelector('[data-conversation-list]');\n      const empty = this.widget.querySelector('[data-state=\"empty\"]');\n      if (!list) return;\n\n      // Clear existing\n      const items = list.querySelectorAll('.c-messenger__conversation');\n      items.forEach(item => item.remove());\n\n      if (this.conversations.length === 0) {\n        if (empty) empty.classList.remove('u-hidden');\n        return;\n      }\n\n      if (empty) empty.classList.add('u-hidden');\n\n      this.conversations.forEach(conv => {\n        const item = document.createElement('div');\n        item.className = 'c-messenger__conversation';\n        if (conv.unread_count > 0) item.classList.add('is-unread');\n        item.dataset.conversationId = conv.user.id;\n\n        const avatarUrl = conv.user.avatar_url || '/static/img/default_player.png';\n        const onlineClass = conv.user.is_online ? 'is-online' : 'is-offline';\n        const preview = conv.last_message\n          ? `${conv.last_message.sent_by_me ? 'You: ' : ''}${conv.last_message.content}`\n          : 'No messages yet';\n\n        item.innerHTML = `\n          <div class=\"c-messenger__conversation-avatar\">\n            <img src=\"${avatarUrl}\" alt=\"${conv.user.name}\"\n                 class=\"c-messenger__conversation-avatar-img\"\n                 onerror=\"this.src='/static/img/default_player.png'\">\n            <span class=\"c-online-status c-online-status--sm ${onlineClass}\"\n                  data-online-status=\"${conv.user.id}\"></span>\n          </div>\n          <div class=\"c-messenger__conversation-body\">\n            <p class=\"c-messenger__conversation-name\">${conv.user.name}</p>\n            <p class=\"c-messenger__conversation-preview\">${this.escapeHtml(preview)}</p>\n          </div>\n          <div class=\"c-messenger__conversation-meta\">\n            ${conv.last_message ? `<span class=\"c-messenger__conversation-time\">${conv.last_message.time_ago}</span>` : ''}\n            ${conv.unread_count > 0 ? `<span class=\"c-messenger__conversation-unread\">${conv.unread_count}</span>` : ''}\n          </div>\n        `;\n\n        list.appendChild(item);\n      });\n    }\n\n    /**\n     * Open a conversation\n     */\n    async openConversation(userId) {\n      this.currentUserId = userId;\n      this.widget.classList.add('is-chatting');\n\n      // Update header\n      const user = this.onlineUsers.find(u => u.id === userId)\n        || this.conversations.find(c => c.user.id === userId)?.user;\n\n      if (user) {\n        this.currentUserName = user.name;\n        const headerTitle = this.widget.querySelector('[data-header-title] span');\n        if (headerTitle) headerTitle.textContent = user.name;\n      }\n\n      // Load messages\n      await this.loadMessages(userId);\n\n      // Focus input\n      const input = this.widget.querySelector('[data-input=\"message\"]');\n      if (input) input.focus();\n    }\n\n    // ========================================================================\n    // MESSAGES\n    // ========================================================================\n\n    /**\n     * Load messages for a conversation\n     */\n    async loadMessages(userId) {\n      const container = this.widget.querySelector('[data-messages]');\n      if (!container) return;\n\n      container.innerHTML = '<div class=\"c-messenger__loading\"><div class=\"c-messenger__loading-spinner\"></div></div>';\n\n      try {\n        const response = await fetch(`/api/messages/${userId}`);\n        const data = await response.json();\n\n        if (data.success) {\n          this.messages = data.messages || [];\n          this.renderMessages(container);\n          this.scrollToBottom(container);\n          this.loadUnreadCount();\n        }\n      } catch (error) {\n        console.error('[Messenger] Failed to load messages:', error);\n        container.innerHTML = '<p class=\"c-messenger__empty\">Failed to load messages</p>';\n      }\n    }\n\n    /**\n     * Render messages\n     */\n    renderMessages(container) {\n      if (!container) return;\n      container.innerHTML = '';\n\n      if (this.messages.length === 0) {\n        container.innerHTML = `\n          <div class=\"c-messenger__empty\">\n            <i class=\"ti ti-message-2 c-messenger__empty-icon\"></i>\n            <p class=\"c-messenger__empty-text\">No messages yet. Say hello!</p>\n          </div>\n        `;\n        return;\n      }\n\n      this.messages.forEach(msg => this.appendMessage(msg, false));\n    }\n\n    /**\n     * Append a message to the chat\n     */\n    appendMessage(msg, scroll = true) {\n      const container = this.widget.querySelector('[data-messages]');\n      if (!container) return;\n\n      // Remove empty state\n      const empty = container.querySelector('.c-messenger__empty');\n      if (empty) empty.remove();\n\n      const isSent = msg.sender_id !== this.currentUserId;\n      const bubble = document.createElement('div');\n      bubble.className = `c-messenger__message c-messenger__message--${isSent ? 'sent' : 'received'}`;\n      bubble.dataset.messageId = msg.id;\n\n      const timeStr = msg.created_at\n        ? new Date(msg.created_at).toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' })\n        : '';\n\n      bubble.innerHTML = `\n        <div class=\"c-messenger__message-content\">${this.escapeHtml(msg.content)}</div>\n        <div class=\"c-messenger__message-time\">${timeStr}</div>\n        ${isSent ? `\n          <div class=\"c-messenger__message-actions\">\n            <button class=\"c-messenger__message-action\" data-action=\"delete-message\" title=\"Delete\">\n              <i class=\"ti ti-trash\"></i>\n            </button>\n          </div>\n        ` : ''}\n      `;\n\n      container.appendChild(bubble);\n\n      if (scroll) this.scrollToBottom(container);\n    }\n\n    /**\n     * Send a message\n     */\n    async sendMessage() {\n      const input = this.widget.querySelector('[data-input=\"message\"]');\n      if (!input || !this.currentUserId) return;\n\n      const content = input.value.trim();\n      if (!content) return;\n\n      input.value = '';\n      input.style.height = 'auto';\n      input.focus();\n\n      if (this.socket && this.socket.connected) {\n        this.socket.emit('send_dm', {\n          recipient_id: this.currentUserId,\n          content: content\n        });\n      } else {\n        // HTTP fallback\n        try {\n          const response = await fetch(`/api/messages/${this.currentUserId}`, {\n            method: 'POST',\n            headers: {\n              'Content-Type': 'application/json',\n              'X-CSRFToken': this.getCSRFToken()\n            },\n            body: JSON.stringify({ content })\n          });\n          const data = await response.json();\n          if (data.success && data.message) {\n            this.appendMessage(data.message);\n          } else {\n            this.showToast(data.error || 'Failed to send', 'error');\n          }\n        } catch (error) {\n          this.showToast('Failed to send message', 'error');\n        }\n      }\n    }\n\n    /**\n     * Delete a message\n     */\n    async deleteMessage(messageId) {\n      if (!confirm('Delete this message?')) return;\n\n      try {\n        const response = await fetch(`/api/messages/message/${messageId}`, {\n          method: 'DELETE',\n          headers: {\n            'X-CSRFToken': this.getCSRFToken()\n          }\n        });\n        const data = await response.json();\n\n        if (data.success) {\n          const msgEl = this.widget.querySelector(`[data-message-id=\"${messageId}\"]`);\n          if (msgEl) {\n            msgEl.classList.add('is-deleting');\n            setTimeout(() => msgEl.remove(), 200);\n          }\n        } else {\n          this.showToast(data.error || 'Failed to delete', 'error');\n        }\n      } catch (error) {\n        this.showToast('Failed to delete message', 'error');\n      }\n    }\n\n    /**\n     * Handle incoming message\n     */\n    handleNewMessage(data) {\n      this.loadUnreadCount();\n\n      if (this.widget.classList.contains('is-chatting') && this.currentUserId === data.sender_id) {\n        this.appendMessage(data);\n        this.markAsRead(data.id);\n      } else {\n        this.showToast(`${data.sender_name}: ${data.content.substring(0, 50)}`, 'info');\n      }\n\n      if (!this.widget.classList.contains('is-chatting')) {\n        this.loadConversations();\n      }\n    }\n\n    /**\n     * Handle message deleted event\n     */\n    handleMessageDeleted(data) {\n      const msgEl = this.widget.querySelector(`[data-message-id=\"${data.message_id}\"]`);\n      if (msgEl) msgEl.remove();\n    }\n\n    /**\n     * Handle typing indicator\n     */\n    handleTypingIndicator(data) {\n      if (this.currentUserId !== data.user_id) return;\n\n      const container = this.widget.querySelector('[data-messages]');\n      let typingEl = container?.querySelector('.c-messenger__typing');\n\n      if (data.typing) {\n        if (!typingEl) {\n          typingEl = document.createElement('div');\n          typingEl.className = 'c-messenger__typing';\n          typingEl.innerHTML = `\n            <span class=\"c-messenger__typing-dots\">\n              <span class=\"c-messenger__typing-dot\"></span>\n              <span class=\"c-messenger__typing-dot\"></span>\n              <span class=\"c-messenger__typing-dot\"></span>\n            </span>\n            <span>typing...</span>\n          `;\n          container.appendChild(typingEl);\n          this.scrollToBottom(container);\n        }\n      } else {\n        if (typingEl) typingEl.remove();\n      }\n    }\n\n    /**\n     * Handle typing (send indicator)\n     */\n    handleTyping() {\n      if (!this.socket || !this.currentUserId) return;\n\n      if (this.typingTimeout) clearTimeout(this.typingTimeout);\n\n      this.socket.emit('typing_start', { recipient_id: this.currentUserId });\n\n      this.typingTimeout = setTimeout(() => {\n        this.socket.emit('typing_stop', { recipient_id: this.currentUserId });\n      }, 2000);\n    }\n\n    /**\n     * Handle messages read notification\n     */\n    handleMessagesRead(data) {\n      // Could add read receipts visual\n    }\n\n    /**\n     * Mark message as read\n     */\n    markAsRead(messageId) {\n      if (this.socket && this.socket.connected) {\n        this.socket.emit('mark_dm_read', { message_id: messageId });\n      }\n    }\n\n    // ========================================================================\n    // SEARCH\n    // ========================================================================\n\n    /**\n     * Handle search input\n     */\n    async handleSearch(query) {\n      if (query.length < 2) {\n        this.renderConversations();\n        return;\n      }\n\n      try {\n        const response = await fetch(`/api/messages/users/search?q=${encodeURIComponent(query)}`);\n        const data = await response.json();\n\n        if (data.success && data.users) {\n          this.renderSearchResults(data.users);\n        }\n      } catch (error) {\n        console.error('[Messenger] Search failed:', error);\n      }\n    }\n\n    /**\n     * Render search results\n     */\n    renderSearchResults(users) {\n      const list = this.widget.querySelector('[data-conversation-list]');\n      if (!list) return;\n\n      const items = list.querySelectorAll('.c-messenger__conversation');\n      items.forEach(item => item.remove());\n\n      users.forEach(user => {\n        const item = document.createElement('div');\n        item.className = 'c-messenger__conversation';\n        item.dataset.conversationId = user.id;\n\n        const avatarUrl = user.avatar_url || '/static/img/default_player.png';\n\n        item.innerHTML = `\n          <div class=\"c-messenger__conversation-avatar\">\n            <img src=\"${avatarUrl}\" alt=\"${user.name}\"\n                 class=\"c-messenger__conversation-avatar-img\"\n                 onerror=\"this.src='/static/img/default_player.png'\">\n          </div>\n          <div class=\"c-messenger__conversation-body\">\n            <p class=\"c-messenger__conversation-name\">${user.name}</p>\n            <p class=\"c-messenger__conversation-preview\">Click to start chatting</p>\n          </div>\n        `;\n\n        list.appendChild(item);\n      });\n    }\n\n    /**\n     * Focus search input\n     */\n    focusSearch() {\n      const input = this.widget.querySelector('[data-input=\"search\"]');\n      if (input) {\n        input.focus();\n        input.value = '';\n      }\n    }\n\n    // ========================================================================\n    // UI HELPERS\n    // ========================================================================\n\n    /**\n     * Show conversation list (exit chat view)\n     */\n    showList() {\n      this.widget.classList.remove('is-chatting');\n      this.currentUserId = null;\n      this.currentUserName = '';\n      this.loadConversations();\n\n      // Reset header\n      const headerTitle = this.widget.querySelector('[data-header-title] span');\n      if (headerTitle) headerTitle.textContent = 'Messages';\n    }\n\n    /**\n     * Load unread count\n     */\n    async loadUnreadCount() {\n      try {\n        const response = await fetch('/api/messages/unread-count');\n        const data = await response.json();\n        if (data.success) {\n          this.updateBadge(data.count);\n        }\n      } catch (error) {\n        console.warn('[Messenger] Failed to load unread count:', error);\n      }\n    }\n\n    /**\n     * Update badge count\n     */\n    updateBadge(count) {\n      this.unreadCount = count;\n\n      const badge = this.widget.querySelector('[data-badge=\"unread\"]');\n      if (badge) {\n        badge.textContent = count > 99 ? '99+' : count;\n        badge.classList.toggle('u-hidden', count === 0);\n      }\n\n      // Update navbar badge too\n      const navBadge = document.querySelector('[data-badge=\"messages-count\"]');\n      if (navBadge) {\n        navBadge.textContent = count > 99 ? '99+' : count;\n        navBadge.classList.toggle('u-hidden', count === 0);\n      }\n    }\n\n    /**\n     * Scroll to bottom of container\n     */\n    scrollToBottom(container) {\n      if (container) {\n        container.scrollTop = container.scrollHeight;\n      }\n    }\n\n    /**\n     * Escape HTML\n     */\n    escapeHtml(text) {\n      const div = document.createElement('div');\n      div.textContent = text;\n      return div.innerHTML;\n    }\n\n    /**\n     * Show toast notification\n     */\n    showToast(message, type = 'info') {\n      if (typeof Swal !== 'undefined') {\n        Swal.fire({\n          toast: true,\n          position: 'top-end',\n          icon: type,\n          title: message,\n          showConfirmButton: false,\n          timer: 3000\n        });\n      } else {\n        console.log(`[${type}]`, message);\n      }\n    }\n\n    /**\n     * Cleanup on destroy\n     */\n    destroy() {\n      Object.values(this.refreshIntervals).forEach(interval => {\n        if (interval) clearInterval(interval);\n      });\n    }\n  }\n\n  // Initialize\n  window.MessengerWidget = new MessengerWidget();\n\n  if (document.readyState === 'loading') {\n    document.addEventListener('DOMContentLoaded', () => {\n      window.MessengerWidget.init();\n    });\n  } else {\n    window.MessengerWidget.init();\n  }\n\n  // Cleanup on page unload\n  window.addEventListener('beforeunload', () => {\n    window.MessengerWidget.destroy();\n  });\n\n})();\n","/**\n * Profile Wizard - 5-Step Verification Wizard\n * Handles step progression, validation, review population, auto-save, and touch gestures\n */\n\nclass ProfileWizard {\n    constructor(config = {}) {\n        this.config = {\n            totalSteps: config.totalSteps || 5,\n            playerId: config.playerId || null,\n            csrfToken: config.csrfToken || '',\n            autoSaveUrl: config.autoSaveUrl || '',\n            autoSaveDelay: config.autoSaveDelay || 2000\n        };\n\n        this.currentStep = 1;\n        this.autoSaveTimeout = null;\n        this.lastSavedData = null;\n\n        // Cache DOM elements\n        this.elements = {\n            form: document.getElementById('wizardForm'),\n            progressBar: document.getElementById('progressBar'),\n            currentStepInput: document.getElementById('currentStep'),\n            prevBtn: document.getElementById('prevBtn'),\n            nextBtn: document.getElementById('nextBtn'),\n            confirmBtn: document.getElementById('confirmBtn'),\n            saveIndicator: document.getElementById('saveIndicator'),\n            swipeHint: document.getElementById('swipeHint'),\n            steps: document.querySelectorAll('[data-step]'),\n            stepIndicators: document.querySelectorAll('[data-step-indicator]'),\n            editButtons: document.querySelectorAll('[data-goto-step]'),\n            confirmCheckbox: document.getElementById('confirmCheck')\n        };\n\n        this.init();\n    }\n\n    /**\n     * Initialize the wizard\n     */\n    init() {\n        if (!this.elements.form) {\n            console.warn('Profile wizard form not found');\n            return;\n        }\n\n        this.bindEvents();\n        this.updateUI();\n        this.initSwipeGestures();\n\n        // Hide swipe hint after first interaction\n        if (this.elements.swipeHint) {\n            setTimeout(() => {\n                this.elements.swipeHint.style.opacity = '0.5';\n            }, 3000);\n        }\n    }\n\n    /**\n     * Bind event handlers\n     */\n    bindEvents() {\n        // Navigation buttons\n        if (this.elements.nextBtn) {\n            this.elements.nextBtn.addEventListener('click', (e) => {\n                e.preventDefault();\n                this.next();\n            });\n        }\n\n        if (this.elements.prevBtn) {\n            this.elements.prevBtn.addEventListener('click', (e) => {\n                e.preventDefault();\n                this.prev();\n            });\n        }\n\n        // Clicking on completed step indicators\n        this.elements.stepIndicators.forEach(indicator => {\n            indicator.addEventListener('click', () => {\n                const stepNum = parseInt(indicator.dataset.stepIndicator);\n                if (stepNum < this.currentStep) {\n                    this.goToStep(stepNum);\n                }\n            });\n        });\n\n        // Edit buttons in review section\n        this.elements.editButtons.forEach(btn => {\n            btn.addEventListener('click', (e) => {\n                e.preventDefault();\n                const stepNum = parseInt(btn.dataset.gotoStep);\n                this.goToStep(stepNum);\n            });\n        });\n\n        // Form field changes - auto-save and review update\n        const formFields = this.elements.form.querySelectorAll('input, select, textarea');\n        formFields.forEach(field => {\n            field.addEventListener('change', () => {\n                this.scheduleAutoSave();\n                if (this.currentStep === this.config.totalSteps) {\n                    this.populateReview();\n                }\n            });\n\n            field.addEventListener('input', () => {\n                // Remove invalid state when user starts typing\n                field.classList.remove('is-invalid', 'is-shaking');\n            });\n        });\n\n        // Form submission\n        this.elements.form.addEventListener('submit', (e) => {\n            if (!this.validateFinalStep()) {\n                e.preventDefault();\n            }\n        });\n\n        // Confirm checkbox validation\n        if (this.elements.confirmCheckbox) {\n            this.elements.confirmCheckbox.addEventListener('change', () => {\n                this.updateConfirmButton();\n            });\n        }\n    }\n\n    /**\n     * Go to next step\n     */\n    next() {\n        // Step 1 (welcome) has no validation\n        if (this.currentStep > 1 && !this.validateCurrentStep()) {\n            this.shakeInvalidFields();\n            return;\n        }\n\n        if (this.currentStep < this.config.totalSteps) {\n            this.currentStep++;\n            this.updateUI();\n\n            // Populate review on entering last step\n            if (this.currentStep === this.config.totalSteps) {\n                this.populateReview();\n            }\n        }\n    }\n\n    /**\n     * Go to previous step\n     */\n    prev() {\n        if (this.currentStep > 1) {\n            this.currentStep--;\n            this.updateUI();\n        }\n    }\n\n    /**\n     * Go to specific step\n     */\n    goToStep(step) {\n        if (step >= 1 && step <= this.config.totalSteps) {\n            this.currentStep = step;\n            this.updateUI();\n\n            if (this.currentStep === this.config.totalSteps) {\n                this.populateReview();\n            }\n        }\n    }\n\n    /**\n     * Update UI based on current step\n     */\n    updateUI() {\n        // Update hidden input\n        if (this.elements.currentStepInput) {\n            this.elements.currentStepInput.value = this.currentStep;\n        }\n\n        // Update step content visibility\n        this.elements.steps.forEach(step => {\n            const stepNum = parseInt(step.dataset.step);\n            step.classList.toggle('c-wizard__step--active', stepNum === this.currentStep);\n        });\n\n        // Update step indicators\n        this.elements.stepIndicators.forEach(indicator => {\n            const stepNum = parseInt(indicator.dataset.stepIndicator);\n            indicator.classList.remove('c-wizard__progress-step--active', 'c-wizard__progress-step--completed');\n\n            if (stepNum === this.currentStep) {\n                indicator.classList.add('c-wizard__progress-step--active');\n            } else if (stepNum < this.currentStep) {\n                indicator.classList.add('c-wizard__progress-step--completed');\n            }\n        });\n\n        // Update progress bar (0% at step 1, 100% at step 5)\n        const progress = ((this.currentStep - 1) / (this.config.totalSteps - 1)) * 80; // 80% is full width between first and last\n        if (this.elements.progressBar) {\n            this.elements.progressBar.style.width = progress + '%';\n        }\n\n        // Update navigation buttons\n        this.updateNavigationButtons();\n\n        // Scroll to top smoothly\n        this.elements.form.scrollIntoView({ behavior: 'smooth', block: 'start' });\n    }\n\n    /**\n     * Update navigation button visibility and states\n     */\n    updateNavigationButtons() {\n        const { prevBtn, nextBtn, confirmBtn } = this.elements;\n\n        if (this.currentStep === 1) {\n            // First step: hide back, show next\n            if (prevBtn) prevBtn.disabled = true;\n            if (nextBtn) {\n                nextBtn.style.display = 'flex';\n                nextBtn.querySelector('span').textContent = 'Get Started';\n            }\n            if (confirmBtn) confirmBtn.style.display = 'none';\n        } else if (this.currentStep === this.config.totalSteps) {\n            // Last step: show back, hide next, show confirm\n            if (prevBtn) prevBtn.disabled = false;\n            if (nextBtn) nextBtn.style.display = 'none';\n            if (confirmBtn) {\n                confirmBtn.style.display = 'flex';\n                this.updateConfirmButton();\n            }\n        } else {\n            // Middle steps: show back and next\n            if (prevBtn) prevBtn.disabled = false;\n            if (nextBtn) {\n                nextBtn.style.display = 'flex';\n                nextBtn.querySelector('span').textContent = 'Continue';\n            }\n            if (confirmBtn) confirmBtn.style.display = 'none';\n        }\n    }\n\n    /**\n     * Update confirm button state based on checkbox\n     */\n    updateConfirmButton() {\n        if (this.elements.confirmBtn && this.elements.confirmCheckbox) {\n            this.elements.confirmBtn.disabled = !this.elements.confirmCheckbox.checked;\n        }\n    }\n\n    /**\n     * Validate the current step's required fields\n     */\n    validateCurrentStep() {\n        const currentStepEl = document.querySelector(`[data-step=\"${this.currentStep}\"]`);\n        if (!currentStepEl) return true;\n\n        let isValid = true;\n        const requiredFields = currentStepEl.querySelectorAll('[required]');\n\n        requiredFields.forEach(field => {\n            const value = field.value.trim();\n            if (!value) {\n                field.classList.add('is-invalid');\n                isValid = false;\n            } else {\n                field.classList.remove('is-invalid');\n            }\n        });\n\n        // Email validation for contact step\n        const emailField = currentStepEl.querySelector('#email');\n        if (emailField && emailField.value) {\n            const emailPattern = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\n            if (!emailPattern.test(emailField.value)) {\n                emailField.classList.add('is-invalid');\n                isValid = false;\n            }\n        }\n\n        return isValid;\n    }\n\n    /**\n     * Validate final step (confirmation checkbox)\n     */\n    validateFinalStep() {\n        if (!this.elements.confirmCheckbox) return true;\n        return this.elements.confirmCheckbox.checked;\n    }\n\n    /**\n     * Apply shake animation to invalid fields\n     */\n    shakeInvalidFields() {\n        const currentStepEl = document.querySelector(`[data-step=\"${this.currentStep}\"]`);\n        if (!currentStepEl) return;\n\n        const invalidFields = currentStepEl.querySelectorAll('.is-invalid');\n        invalidFields.forEach(field => {\n            field.classList.add('is-shaking');\n            setTimeout(() => {\n                field.classList.remove('is-shaking');\n            }, 300);\n        });\n\n        // Focus first invalid field\n        if (invalidFields.length) {\n            invalidFields[0].focus();\n        }\n    }\n\n    /**\n     * Populate the review section with current form values\n     */\n    populateReview() {\n        const reviewElements = document.querySelectorAll('[data-review]');\n\n        reviewElements.forEach(el => {\n            const fieldName = el.dataset.review;\n            let displayValue = '-';\n\n            // First try to find a direct field (input, select, textarea)\n            const field = this.elements.form.querySelector(`[data-field=\"${fieldName}\"]`);\n\n            if (field) {\n                if (field.tagName === 'SELECT') {\n                    if (field.multiple) {\n                        // Multi-select dropdown\n                        const selected = Array.from(field.selectedOptions).map(opt => opt.text);\n                        displayValue = selected.length > 0 ? selected.join(', ') : 'None selected';\n                    } else {\n                        // Single select\n                        displayValue = field.options[field.selectedIndex]?.text || '-';\n                    }\n                } else if (field.tagName === 'TEXTAREA') {\n                    displayValue = field.value.trim() || 'No additional notes';\n                } else if (field.tagName === 'DIV') {\n                    // Checkbox group container\n                    const checkedBoxes = field.querySelectorAll('input[type=\"checkbox\"]:checked');\n                    const values = Array.from(checkedBoxes).map(cb => cb.value);\n                    displayValue = values.length > 0 ? values.join(', ') : 'None selected';\n                } else {\n                    displayValue = field.value.trim() || '-';\n                }\n            } else {\n                // Try to find checkbox group by name\n                const checkboxes = this.elements.form.querySelectorAll(`input[name=\"${fieldName}\"]:checked`);\n                if (checkboxes.length > 0) {\n                    const values = Array.from(checkboxes).map(cb => cb.value);\n                    displayValue = values.join(', ');\n                }\n            }\n\n            el.textContent = displayValue;\n        });\n    }\n\n    /**\n     * Schedule auto-save with debounce\n     */\n    scheduleAutoSave() {\n        if (!this.config.autoSaveUrl) return;\n\n        if (this.autoSaveTimeout) {\n            clearTimeout(this.autoSaveTimeout);\n        }\n\n        this.autoSaveTimeout = setTimeout(() => {\n            this.autoSave();\n        }, this.config.autoSaveDelay);\n    }\n\n    /**\n     * Perform auto-save\n     */\n    async autoSave() {\n        if (!this.config.autoSaveUrl) return;\n\n        const formData = new FormData(this.elements.form);\n        const data = Object.fromEntries(formData.entries());\n\n        // Check if data actually changed\n        const dataString = JSON.stringify(data);\n        if (dataString === this.lastSavedData) return;\n\n        try {\n            const response = await fetch(this.config.autoSaveUrl, {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json',\n                    'X-CSRFToken': this.config.csrfToken\n                },\n                body: JSON.stringify(data)\n            });\n\n            if (response.ok) {\n                this.lastSavedData = dataString;\n                this.showSaveIndicator();\n            }\n        } catch (error) {\n            console.warn('Auto-save failed:', error);\n        }\n    }\n\n    /**\n     * Show save indicator briefly\n     */\n    showSaveIndicator() {\n        if (!this.elements.saveIndicator) return;\n\n        this.elements.saveIndicator.classList.add('is-visible');\n\n        setTimeout(() => {\n            this.elements.saveIndicator.classList.remove('is-visible');\n        }, 2000);\n    }\n\n    /**\n     * Initialize touch/swipe gestures for mobile navigation\n     */\n    initSwipeGestures() {\n        if (!('ontouchstart' in window)) return;\n\n        let touchStartX = 0;\n        let touchEndX = 0;\n        const minSwipeDistance = 50;\n\n        this.elements.form.addEventListener('touchstart', (e) => {\n            touchStartX = e.changedTouches[0].screenX;\n        }, { passive: true });\n\n        this.elements.form.addEventListener('touchend', (e) => {\n            touchEndX = e.changedTouches[0].screenX;\n            const swipeDistance = touchEndX - touchStartX;\n\n            if (Math.abs(swipeDistance) < minSwipeDistance) return;\n\n            if (swipeDistance > 0) {\n                // Swipe right - go to previous step\n                this.prev();\n            } else {\n                // Swipe left - go to next step\n                this.next();\n            }\n        }, { passive: true });\n    }\n\n    /**\n     * Get current step number\n     */\n    getCurrentStep() {\n        return this.currentStep;\n    }\n}\n\n// Export for module usage\nif (typeof module !== 'undefined' && module.exports) {\n    module.exports = ProfileWizard;\n}\n","/**\n * Draft System v2 - Simplified and Optimized\n * Clean implementation matching ECS UI patterns\n *\n * REFACTORED: All .style.* manipulations replaced with CSS classes\n * - Replaced 69 inline style manipulations with utility classes\n * - Improved maintainability and consistency\n * - Better performance with CSS class toggling\n * - Easier theming and customization\n */\n\n// Global utility function for formatting position names\nfunction formatPosition(position) {\n    if (!position) return position;\n    return position.replace(/_/g, ' ').replace(/\\b\\w/g, l => l.toUpperCase());\n}\n\nclass DraftSystemV2 {\n    constructor(leagueName) {\n        this.leagueName = leagueName;\n        this.socket = null;\n        this.currentPlayerId = null;\n        this.isConnected = false;\n\n        // Expose instance globally for event delegation\n        window.draftSystemInstance = this;\n\n        this.init();\n    }\n\n    init() {\n        console.log(' [Draft] Initializing DraftSystemV2 for league:', this.leagueName);\n        this.setupImageHandling();\n        this.setupEventListeners();\n        this.initializeSocket();\n        this.setupSearch();\n        this.setupTeamTabHighlighting();\n        console.log(' [Draft] DraftSystemV2 initialization complete');\n    }\n\n    setupImageHandling() {\n        // Handle all player images on page load\n        // Refactored: Using d-flex/d-none/d-block classes instead of style.display\n        document.querySelectorAll('[data-component=\"player-avatar-container\"]').forEach(container => {\n            const img = container.querySelector('.player-avatar');\n            const fallback = container.querySelector('.player-avatar-fallback');\n\n            if (img && fallback) {\n                // Show fallback by default\n                fallback.classList.add('d-flex');\n                fallback.classList.remove('d-none');\n                img.classList.add('d-none');\n                img.classList.remove('d-block');\n\n                // Test if image loads\n                if (img.src && img.src !== '') {\n                    const testImg = new Image();\n                    testImg.onload = () => {\n                        img.classList.add('d-block');\n                        img.classList.remove('d-none');\n                        fallback.classList.add('d-none');\n                        fallback.classList.remove('d-flex');\n                    };\n                    testImg.onerror = () => {\n                        img.classList.add('d-none');\n                        img.classList.remove('d-block');\n                        fallback.classList.add('d-flex');\n                        fallback.classList.remove('d-none');\n                    };\n                    testImg.src = img.src;\n                }\n            }\n        });\n\n        // Handle team player images\n        document.querySelectorAll('[data-component=\"team-player\"]').forEach(player => {\n            const img = player.querySelector('.team-player-avatar');\n            const fallback = player.querySelector('.team-player-avatar-fallback');\n\n            if (img && fallback) {\n                fallback.classList.add('d-flex');\n                fallback.classList.remove('d-none');\n                img.classList.add('d-none');\n                img.classList.remove('d-block');\n\n                if (img.src && img.src !== '') {\n                    const testImg = new Image();\n                    testImg.onload = () => {\n                        img.classList.add('d-block');\n                        img.classList.remove('d-none');\n                        fallback.classList.add('d-none');\n                        fallback.classList.remove('d-flex');\n                    };\n                    testImg.onerror = () => {\n                        img.classList.add('d-none');\n                        img.classList.remove('d-block');\n                        fallback.classList.add('d-flex');\n                        fallback.classList.remove('d-none');\n                    };\n                    testImg.src = img.src;\n                }\n            }\n        });\n    }\n\n    // Smart image cropping function\n    smartCropImage(img) {\n        // Get the natural dimensions of the image\n        const naturalWidth = img.naturalWidth;\n        const naturalHeight = img.naturalHeight;\n        const aspectRatio = naturalWidth / naturalHeight;\n\n        // Determine the best object-position based on aspect ratio\n        // Refactored: Using object-position utility classes instead of inline styles\n        let positionClass = 'object-position-top-20'; // Default for portraits\n\n        if (aspectRatio > 1.3) {\n            // Wide/landscape image - center more\n            positionClass = 'object-position-center-35';\n        } else if (aspectRatio > 0.9 && aspectRatio < 1.1) {\n            // Square-ish image - slightly higher than center\n            positionClass = 'object-position-top-25';\n        } else if (aspectRatio < 0.7) {\n            // Very tall portrait - focus on upper portion where face likely is\n            positionClass = 'object-position-top-15';\n        }\n\n        // Apply the smart positioning class\n        img.classList.add(positionClass);\n\n        // console.log(`Smart crop applied: ${img.alt} (${naturalWidth}x${naturalHeight}, ratio: ${aspectRatio.toFixed(2)}) -> ${positionClass}`);\n    }\n\n    setupEventListeners() {\n        // Event delegation now handles search/filter/sort via data-on-input and data-on-change\n        // No individual event listeners needed - delegation system will call:\n        // - this.handleSearch() via 'search-players' action\n        // - this.handleFilter() via 'filter-position' action\n        // - this.handleSort() via 'sort-players' action\n\n        // Keyboard shortcuts (keep as-is, not suitable for data-action pattern)\n        const searchInput = document.getElementById('playerSearch');\n        document.addEventListener('keydown', (e) => {\n            if (e.key === 'Escape') {\n                this.closeModals();\n            }\n            if (e.key === '/' && !e.target.matches('input, textarea')) {\n                e.preventDefault();\n                if (searchInput) searchInput.focus();\n            }\n        });\n    }\n\n    initializeSocket() {\n        try {\n            // Use SocketManager if available (preferred method)\n            if (typeof window.SocketManager !== 'undefined') {\n                console.log(' [Draft] Using SocketManager');\n\n                // Get socket reference\n                this.socket = window.SocketManager.getSocket();\n\n                // Register connect callback - fires immediately if already connected\n                window.SocketManager.onConnect('DraftSystem', (socket) => {\n                    console.log(' [Draft] Socket connected via SocketManager');\n                    this.socket = socket;\n                    this.isConnected = true;\n                    this.updateConnectionStatus(true);\n                    this.socket.emit('join_draft_room', { league_name: this.leagueName });\n                });\n\n                // Register disconnect callback\n                window.SocketManager.onDisconnect('DraftSystem', (reason) => {\n                    console.log(' [Draft] Socket disconnected:', reason);\n                    this.isConnected = false;\n                    this.updateConnectionStatus(false);\n                });\n\n                // Register event listeners via SocketManager\n                this.setupSocketListenersViaManager();\n                return;\n            }\n\n            // Fallback: Reuse existing global socket if available\n            if (window.socket) {\n                console.log(' [Draft] Reusing existing socket (connected:', window.socket.connected, ')');\n                this.socket = window.socket;\n\n                // If already connected, join room immediately\n                if (this.socket.connected) {\n                    this.isConnected = true;\n                    this.updateConnectionStatus(true);\n                    this.socket.emit('join_draft_room', { league_name: this.leagueName });\n                }\n                // Set up listeners regardless - they'll fire when connected\n                this.setupSocketListeners();\n                return;\n            }\n\n            console.log(' [Draft] Creating new socket connection (fallback)');\n            this.socket = io('/', {\n                transports: ['polling', 'websocket'],\n                upgrade: true,\n                timeout: 10000,\n                reconnection: true,\n                reconnectionDelay: 1000,\n                reconnectionAttempts: 3,\n                withCredentials: true\n            });\n\n            // Store globally so other components can reuse\n            window.socket = this.socket;\n\n            this.socket.on('connect', () => {\n                this.isConnected = true;\n                this.updateConnectionStatus(true);\n                this.socket.emit('join_draft_room', { league_name: this.leagueName });\n            });\n\n            this.socket.on('disconnect', () => {\n                this.isConnected = false;\n                this.updateConnectionStatus(false);\n            });\n\n            this.socket.on('connect_error', (error) => {\n                this.updateConnectionStatus(false, 'Connection Error');\n                setTimeout(() => {\n                    if (!this.isConnected) {\n                        this.tryFallbackConnection();\n                    }\n                }, 3000);\n            });\n\n            this.socket.on('joined_room', (data) => {\n                console.log(' [Draft] Joined room:', data.room);\n            });\n\n            this.socket.on('player_drafted_enhanced', (data) => {\n                this.hideDraftingIndicator();\n                this.handlePlayerDrafted(data);\n            });\n\n            this.socket.on('player_removed_enhanced', (data) => {\n                this.handlePlayerRemoved(data);\n            });\n\n            this.socket.on('user_drafting', (data) => {\n                if (data.username && data.player_name) {\n                    this.showUserActivity(data.username, data.player_name, data.team_name);\n                }\n            });\n\n            this.socket.on('error', (data) => {\n                this.hideDraftingIndicator();\n                this.hideLoading();\n                this.showToast('Error: ' + data.message, 'error');\n            });\n\n            this.socket.on('draft_error', (data) => {\n                this.hideDraftingIndicator();\n                this.hideLoading();\n                this.showToast('Draft Error: ' + data.message, 'error');\n            });\n\n            this.socket.on('player_details', (data) => {\n                this.handlePlayerDetails(data);\n            });\n\n        } catch (error) {\n            // console.error('Failed to initialize socket:', error);\n            this.updateConnectionStatus(false, 'Failed to Connect');\n        }\n    }\n\n    /**\n     * Set up draft-specific socket listeners (used when reusing existing socket)\n     */\n    setupSocketListeners() {\n        if (!this.socket) return;\n\n        // Handle connect event (for when reusing a socket that's still connecting)\n        this.socket.on('connect', () => {\n            console.log(' [Draft] Socket connected, joining draft room');\n            this.isConnected = true;\n            this.updateConnectionStatus(true);\n            this.socket.emit('join_draft_room', { league_name: this.leagueName });\n        });\n\n        this.socket.on('disconnect', () => {\n            this.isConnected = false;\n            this.updateConnectionStatus(false);\n        });\n\n        this.socket.on('joined_room', (data) => {\n            console.log(' [Draft] Joined room:', data.room);\n            // Hide loading overlay after successfully joining the draft room\n            this.hideLoading();\n        });\n\n        this.socket.on('player_drafted_enhanced', (data) => {\n            // console.log(' Received player_drafted_enhanced event:', data);\n            this.hideDraftingIndicator();\n            this.handlePlayerDrafted(data);\n        });\n\n        this.socket.on('player_removed_enhanced', (data) => {\n            // console.log(' Received player_removed_enhanced event:', data);\n            this.handlePlayerRemoved(data);\n        });\n\n        this.socket.on('user_drafting', (data) => {\n            if (data.username && data.player_name) {\n                this.showUserActivity(data.username, data.player_name, data.team_name);\n            }\n        });\n\n        this.socket.on('error', (data) => {\n            // console.error(' Received error event:', data);\n            this.hideDraftingIndicator();\n            this.hideLoading();\n            this.showToast('Error: ' + data.message, 'error');\n        });\n\n        this.socket.on('draft_error', (data) => {\n            // console.error(' Received draft_error event:', data);\n            this.hideDraftingIndicator();\n            this.hideLoading();\n            this.showToast('Draft Error: ' + data.message, 'error');\n        });\n\n        this.socket.on('player_details', (data) => {\n            this.handlePlayerDetails(data);\n        });\n    }\n\n    setupSocketListenersViaManager() {\n        // Use SocketManager for event registration (handles reconnects properly)\n        const SM = window.SocketManager;\n\n        SM.on('DraftSystem', 'joined_room', (data) => {\n            console.log(' [Draft] Joined room:', data.room);\n            this.hideLoading();\n        });\n\n        SM.on('DraftSystem', 'player_drafted_enhanced', (data) => {\n            this.hideDraftingIndicator();\n            this.handlePlayerDrafted(data);\n        });\n\n        SM.on('DraftSystem', 'player_removed_enhanced', (data) => {\n            this.handlePlayerRemoved(data);\n        });\n\n        SM.on('DraftSystem', 'user_drafting', (data) => {\n            if (data.username && data.player_name) {\n                this.showUserActivity(data.username, data.player_name, data.team_name);\n            }\n        });\n\n        SM.on('DraftSystem', 'error', (data) => {\n            this.hideDraftingIndicator();\n            this.hideLoading();\n            this.showToast('Error: ' + data.message, 'error');\n        });\n\n        SM.on('DraftSystem', 'draft_error', (data) => {\n            this.hideDraftingIndicator();\n            this.hideLoading();\n            this.showToast('Draft Error: ' + data.message, 'error');\n        });\n\n        SM.on('DraftSystem', 'player_details', (data) => {\n            this.handlePlayerDetails(data);\n        });\n\n        console.log(' [Draft] Socket listeners attached via SocketManager');\n    }\n\n    tryFallbackConnection() {\n        try {\n            // console.log(' Trying alternative connection method...');\n            if (this.socket) {\n                this.socket.disconnect();\n            }\n\n            // Try with minimal configuration on default namespace\n            this.socket = io('/', {\n                transports: ['polling'], // Only polling\n                upgrade: false,\n                timeout: 10000,\n                reconnection: false,\n                forceNew: true\n            });\n\n            this.socket.on('connect', () => {\n                // console.log(' Alternative connection successful!');\n                this.isConnected = true;\n                this.updateConnectionStatus(true);\n                this.socket.emit('join_draft_room', { league_name: this.leagueName });\n            });\n\n            this.socket.on('connect_error', (error) => {\n                // console.error(' Alternative connection also failed:', error);\n                this.updateConnectionStatus(false, 'Using HTTP Fallback');\n                this.showToast('WebSocket connection failed. Using HTTP mode.', 'info');\n            });\n\n            // Set up other event listeners again\n            this.setupSocketEventListeners();\n\n        } catch (error) {\n            // console.error('Alternative connection failed:', error);\n            this.updateConnectionStatus(false, 'HTTP Fallback Only');\n        }\n    }\n\n    setupSocketEventListeners() {\n        if (!this.socket) return;\n\n        this.socket.on('player_drafted_enhanced', (data) => {\n            this.hideDraftingIndicator(); // Phase 5: Hide status indicator\n            this.handlePlayerDrafted(data);\n        });\n\n        this.socket.on('player_removed_enhanced', (data) => {\n            this.handlePlayerRemoved(data);\n        });\n\n        // Phase 5: Multi-user awareness\n        this.socket.on('user_drafting', (data) => {\n            if (data.username && data.player_name) {\n                this.showUserActivity(data.username, data.player_name, data.team_name);\n            }\n        });\n\n        this.socket.on('remove_error', (data) => {\n            // console.error(' Received remove_error event:', data);\n            this.hideLoading(); // Hide loading overlay on error\n            this.showToast('Remove Error: ' + data.message, 'error');\n        });\n\n        this.socket.on('error', (data) => {\n            this.showToast('Error: ' + data.message, 'error');\n        });\n    }\n\n    updateConnectionStatus(connected, message = null) {\n        const statusElement = document.getElementById('connectionStatus');\n        if (statusElement) {\n            if (connected) {\n                statusElement.className = 'connection-status status-connected';\n                statusElement.innerHTML = '<i class=\"ti ti-wifi me-1\"></i>Connected';\n            } else {\n                statusElement.className = 'connection-status status-disconnected';\n                statusElement.innerHTML = `<i class=\"ti ti-wifi-off me-1\"></i>${message || 'Disconnected'}`;\n            }\n        }\n    }\n\n    setupSearch() {\n        // Initial state\n        this.updatePlayerCounts();\n    }\n\n    handleSearch(event) {\n        const searchTerm = event.target.value.toLowerCase();\n        const container = document.getElementById('available-players');\n        if (!container) return;\n\n        const playerColumns = Array.from(container.children);\n        let visibleCount = 0;\n\n        // Refactored: Using d-block/d-none classes instead of style.display\n        playerColumns.forEach(column => {\n            const playerCard = column.querySelector('[data-component=\"player-card\"]');\n            if (playerCard) {\n                const playerName = playerCard.getAttribute('data-player-name') || '';\n                const shouldShow = playerName.includes(searchTerm);\n\n                if (shouldShow) {\n                    column.classList.remove('d-none');\n                    column.classList.add('d-block');\n                    visibleCount++;\n                } else {\n                    column.classList.add('d-none');\n                    column.classList.remove('d-block');\n                }\n            }\n        });\n\n        this.toggleEmptyState(visibleCount === 0);\n        this.updateAvailableCount(visibleCount);\n    }\n\n    handleFilter(event) {\n        const position = event.target.value.toLowerCase();\n        const container = document.getElementById('available-players');\n        if (!container) return;\n\n        const playerColumns = Array.from(container.children);\n        let visibleCount = 0;\n\n        // Refactored: Using d-block/d-none classes instead of style.display\n        playerColumns.forEach(column => {\n            const playerCard = column.querySelector('[data-component=\"player-card\"]');\n            if (playerCard) {\n                const playerPosition = playerCard.getAttribute('data-position') || '';\n                const shouldShow = !position || playerPosition.includes(position);\n\n                if (shouldShow) {\n                    column.classList.remove('d-none');\n                    column.classList.add('d-block');\n                    visibleCount++;\n                } else {\n                    column.classList.add('d-none');\n                    column.classList.remove('d-block');\n                }\n            }\n        });\n\n        this.toggleEmptyState(visibleCount === 0);\n        this.updateAvailableCount(visibleCount);\n    }\n\n    handleSort(event) {\n        const sortBy = event.target.value;\n        const container = document.getElementById('available-players');\n        if (!container) return;\n\n        const players = Array.from(container.children); // Get all column divs that contain player cards\n\n        players.sort((a, b) => {\n            // Get the player card element within each column div\n            const cardA = a.querySelector('[data-component=\"player-card\"]');\n            const cardB = b.querySelector('[data-component=\"player-card\"]');\n\n            if (!cardA || !cardB) return 0;\n\n            let aValue, bValue;\n\n            switch (sortBy) {\n                case 'name':\n                    aValue = cardA.getAttribute('data-player-name') || '';\n                    bValue = cardB.getAttribute('data-player-name') || '';\n                    return aValue.localeCompare(bValue);\n\n                case 'experience':\n                    aValue = parseInt(cardA.getAttribute('data-experience')) || 0;\n                    bValue = parseInt(cardB.getAttribute('data-experience')) || 0;\n                    return bValue - aValue;\n\n                case 'attendance':\n                    aValue = parseInt(cardA.getAttribute('data-attendance')) || 0;\n                    bValue = parseInt(cardB.getAttribute('data-attendance')) || 0;\n                    return bValue - aValue;\n\n                case 'goals':\n                    aValue = parseInt(cardA.getAttribute('data-goals')) || 0;\n                    bValue = parseInt(cardB.getAttribute('data-goals')) || 0;\n                    return bValue - aValue;\n\n                default:\n                    return 0;\n            }\n        });\n\n        // Clear the container and re-add in sorted order\n        players.forEach(player => {\n            container.appendChild(player);\n        });\n\n        // Clean up any empty column divs that might exist\n        Array.from(container.children).forEach(child => {\n            if (child.hasAttribute('data-component') && child.getAttribute('data-component') === 'player-column' && !child.querySelector('[data-component=\"player-card\"]')) {\n                child.remove();\n            }\n        });\n    }\n\n    showDraftModal(playerId, playerName) {\n        this.currentPlayerId = playerId;\n\n        // Get teams data for SweetAlert options\n        const teams = [];\n        document.querySelectorAll('#teamsAccordion [data-component=\"team-item\"]').forEach(item => {\n            const button = item.querySelector('[data-component=\"team-toggle\"]');\n            const teamName = button.querySelector('[data-component=\"team-name\"]').textContent.trim();\n            const playerCount = button.querySelector('[data-component=\"player-count\"]').textContent.trim();\n            const teamId = item.querySelector('[data-team-id]').getAttribute('data-team-id');\n\n            teams.push({\n                text: `${teamName} (${playerCount})`,\n                value: teamId\n            });\n        });\n\n        if (window.Swal) {\n            Swal.fire({\n                title: 'Draft Player',\n                html: `Select a team for <strong>${playerName}</strong>:`,\n                input: 'select',\n                inputOptions: teams.reduce((obj, team) => {\n                    obj[team.value] = team.text;\n                    return obj;\n                }, {}),\n                inputPlaceholder: 'Choose a team...',\n                showCancelButton: true,\n                confirmButtonText: 'Draft Player',\n                cancelButtonText: 'Cancel',\n                customClass: {\n                    confirmButton: 'btn btn-primary',\n                    cancelButton: 'btn btn-secondary'\n                },\n                buttonsStyling: false,\n                inputValidator: (value) => {\n                    if (!value) {\n                        return 'Please select a team!';\n                    }\n                }\n            }).then((result) => {\n                if (result.isConfirmed) {\n                    const teamId = result.value;\n                    const teamName = teams.find(t => t.value === teamId)?.text?.split(' (')[0] || 'Unknown Team';\n                    this.confirmDraft(teamId, teamName);\n                }\n                this.currentPlayerId = null;\n            });\n        } else {\n            // Fallback to standard modal if SweetAlert2 not available\n            const teamId = prompt(`Select team ID for ${playerName}:`);\n            if (teamId) {\n                this.confirmDraft(teamId, 'Selected Team');\n            }\n        }\n    }\n\n    confirmDraft(teamId, teamName) {\n        if (!this.currentPlayerId) {\n            this.showToast('No player selected', 'error');\n            return;\n        }\n\n        if (!this.socket || !this.isConnected) {\n            this.showToast('Not connected to server - cannot draft', 'error');\n            return;\n        }\n\n        // Get player name for the status indicator\n        const playerCard = document.querySelector(`[data-player-id=\"${this.currentPlayerId}\"]`);\n        const playerName = playerCard ? (playerCard.querySelector('.fw-semibold')?.textContent || 'Player') : 'Player';\n\n        // Phase 5: Show detailed drafting indicator\n        this.showDraftingIndicator(playerName, teamName);\n\n        this.socket.emit('draft_player_enhanced', {\n            player_id: this.currentPlayerId,\n            team_id: teamId,\n            league_name: this.leagueName,\n            player_name: playerName  // Include for multi-user awareness\n        });\n\n        // Set a timeout to hide indicator if no response is received\n        setTimeout(() => {\n            if (document.getElementById('currentDraftIndicator')) {\n                this.hideDraftingIndicator();\n                this.showToast('Draft timed out. Please refresh.', 'warning');\n            }\n        }, 10000); // 10 second timeout\n\n        this.currentPlayerId = null;\n    }\n\n    // Phase 5: Draft Operation Status Indicators\n\n    showDraftingIndicator(playerName, teamName) {\n        // Remove any existing indicator\n        this.hideDraftingIndicator();\n\n        const indicator = document.createElement('div');\n        indicator.id = 'currentDraftIndicator';\n        indicator.className = 'drafting-indicator';\n        indicator.innerHTML = `\n            <div class=\"d-flex align-items-center gap-3\">\n                <div class=\"spinner-border spinner-border-sm text-primary\" role=\"status\">\n                    <span class=\"visually-hidden\">Drafting...</span>\n                </div>\n                <div>\n                    <strong>Drafting ${playerName}</strong>\n                    <div class=\"small text-muted\">to ${teamName}</div>\n                </div>\n            </div>\n        `;\n        document.body.appendChild(indicator);\n    }\n\n    hideDraftingIndicator() {\n        const indicator = document.getElementById('currentDraftIndicator');\n        if (indicator) {\n            // Refactored: Using animation class instead of inline style\n            indicator.classList.add('animate-slide-out-right');\n            setTimeout(() => indicator.remove(), 300);\n        }\n    }\n\n    showUserActivity(username, playerName, teamName) {\n        const activityContainer = document.getElementById('draftActivity');\n        if (!activityContainer) {\n            // Create container if it doesn't exist\n            const container = document.createElement('div');\n            container.id = 'draftActivity';\n            container.className = 'draft-activity-container';\n            document.body.appendChild(container);\n        }\n\n        const activity = document.createElement('div');\n        activity.className = 'user-activity-toast';\n        activity.innerHTML = `\n            <i class=\"ti ti-user-check text-primary me-2\"></i>\n            <div>\n                <strong>${username}</strong> is drafting <strong>${playerName}</strong>\n                ${teamName ? `<div class=\"small text-muted\">to ${teamName}</div>` : ''}\n            </div>\n        `;\n\n        document.getElementById('draftActivity').appendChild(activity);\n\n        // Auto-remove after 5 seconds\n        // Refactored: Using animation class instead of inline style\n        setTimeout(() => {\n            activity.classList.add('animate-fade-out');\n            setTimeout(() => activity.remove(), 300);\n        }, 5000);\n    }\n\n    async fallbackDraftPlayer(playerId, teamId, teamName) {\n        try {\n            // console.log(` HTTP Fallback: Drafting player ${playerId} to team ${teamId}`);\n            this.showLoading();\n\n            // Get CSRF token\n            const csrfToken = document.querySelector('meta[name=csrf-token]')?.getAttribute('content');\n            const headers = {\n                'Content-Type': 'application/json'\n            };\n\n            if (csrfToken) {\n                headers['X-CSRFToken'] = csrfToken;\n            }\n\n            const response = await fetch('/draft/api/draft-player', {\n                method: 'POST',\n                headers: headers,\n                body: JSON.stringify({\n                    player_id: playerId,\n                    team_id: teamId,\n                    league_name: this.leagueName\n                })\n            });\n\n            if (response.ok) {\n                const data = await response.json();\n                // Manually update the UI since we don't have socket updates\n                this.handlePlayerDrafted(data);\n                this.showToast(`${data.player.name} drafted to ${teamName}`, 'success');\n            } else {\n                const error = await response.json();\n                this.showToast(error.message || 'Draft failed', 'error');\n            }\n        } catch (error) {\n            // console.error('Fallback draft failed:', error);\n            this.showToast('Draft failed - please try again', 'error');\n        } finally {\n            this.hideLoading();\n            this.currentPlayerId = null;\n        }\n    }\n\n    removePlayer(playerId, teamId) {\n        if (!this.socket || !this.isConnected) {\n            this.showToast('Not connected to server', 'error');\n            return;\n        }\n\n        this.showLoading();\n        this.socket.emit('remove_player_enhanced', {\n            player_id: playerId,\n            team_id: teamId,\n            league_name: this.leagueName\n        });\n    }\n\n    handlePlayerDrafted(data) {\n        this.hideLoading();\n\n        // Remove from available players - specifically target the available pool\n        const availableContainer = document.getElementById('available-players');\n        if (availableContainer) {\n            const playerColumn = availableContainer.querySelector(`[data-player-id=\"${data.player.id}\"]`)?.closest('[data-component=\"player-column\"]');\n            if (playerColumn) {\n                // Refactored: Using CSS classes for enhanced animation\n                // Set initial height for smooth collapse\n                const currentHeight = playerColumn.offsetHeight;\n                playerColumn.style.maxHeight = currentHeight + 'px';\n\n                // Add transition class\n                playerColumn.classList.add('transition-smooth');\n\n                // Apply exit animation classes\n                requestAnimationFrame(() => {\n                    playerColumn.classList.add('opacity-0');\n                    playerColumn.classList.add('scale-90');\n                    playerColumn.style.transform = 'scale(0.8) translateY(-10px)';\n\n                    // Start the collapse animation\n                    setTimeout(() => {\n                        playerColumn.classList.add('max-h-0', 'mb-0-important', 'pt-0-important', 'pb-0-important', 'overflow-hidden');\n                        playerColumn.style.maxHeight = '0';\n                    }, 100);\n                });\n\n                // Remove after animation completes\n                setTimeout(() => {\n                    playerColumn.remove();\n                    this.updatePlayerCounts();\n                }, 400);\n            }\n        }\n\n        // Add to team\n        this.addPlayerToTeam(data.player, data.team_id, data.team_name);\n        this.showToast(`${data.player.name} drafted to ${data.team_name}`, 'success');\n    }\n\n    addPlayerToTeam(player, teamId, teamName) {\n        const teamSection = document.getElementById(`teamPlayers${teamId}`);\n        if (!teamSection) {\n            // console.error(`Team section not found for team ${teamId}`);\n            return;\n        }\n\n        // Create the player card HTML\n        const playerCard = document.createElement('div');\n        playerCard.className = 'col-md-6 col-lg-4';\n        playerCard.setAttribute('data-component', 'team-player-card');\n        playerCard.setAttribute('data-player-id', player.id);\n\n        const profilePictureUrl = player.profile_picture_url || '/static/img/default_player.png';\n\n        playerCard.innerHTML = `\n            <div class=\"card border-0 shadow-sm position-relative\"\n                 style=\"min-height: 120px; cursor: grab;\"\n                 draggable=\"true\"\n                 ondragstart=\"handleDragStart(event, ${player.id})\"\n                 ondragend=\"handleDragEnd(event)\">\n                ${player.is_ref ? `\n                <div class=\"position-absolute top-0 start-0\" style=\"z-index: 2;\">\n                    <div class=\"bg-danger text-white\" style=\"padding: 2px 4px; border-radius: 0 0 8px 0; font-size: 10px; font-weight: bold;\" title=\"Referee\">\n                        REF\n                    </div>\n                </div>\n                ` : ''}\n                <div class=\"card-body p-2\">\n                    <div class=\"d-flex align-items-center mb-2\">\n                        <img src=\"${profilePictureUrl}\"\n                             alt=\"${player.name}\"\n                             class=\"rounded-circle me-2\"\n                             style=\"width: 40px; height: 40px; object-fit: cover;\"\n                             loading=\"lazy\"\n                             onerror=\"this.src='/static/img/default_player.png';\">\n                        <div class=\"flex-grow-1 min-width-0\">\n                            <div class=\"fw-semibold text-truncate small\">${player.name}</div>\n                            <div class=\"text-muted\" style=\"font-size: 0.75rem;\">\n                                ${formatPosition(player.favorite_position) || 'Any'}\n                            </div>\n                        </div>\n                        <button class=\"btn btn-outline-danger btn-sm p-1\"\n                                data-action=\"remove-player\"\n                                data-player-id=\"${player.id}\"\n                                data-team-id=\"${teamId}\"\n                                data-player-name=\"${player.name}\"\n                                data-team-name=\"${teamName}\"\n                                title=\"Remove ${player.name}\">\n                            <i class=\"ti ti-x\" style=\"font-size: 0.75rem;\"></i>\n                        </button>\n                    </div>\n                    <div class=\"d-flex justify-content-between text-center small\">\n                        <div>\n                            <div class=\"fw-bold text-success\">${player.career_goals || 0}</div>\n                            <div class=\"text-muted\" style=\"font-size: 0.7rem;\">Goals</div>\n                        </div>\n                        <div>\n                            <div class=\"fw-bold text-info\">${player.career_assists || 0}</div>\n                            <div class=\"text-muted\" style=\"font-size: 0.7rem;\">Assists</div>\n                        </div>\n                        <div>\n                            <div class=\"fw-bold\">\n                                <span class=\"text-warning\">${player.career_yellow_cards || 0}</span>/<span class=\"text-danger\">${player.career_red_cards || 0}</span>\n                            </div>\n                            <div class=\"text-muted\" style=\"font-size: 0.7rem;\">Cards</div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        `;\n\n        // Refactored: Using CSS classes for animation instead of inline styles\n        playerCard.classList.add('draft-card-enter');\n        teamSection.appendChild(playerCard);\n\n        // Animate in\n        setTimeout(() => {\n            playerCard.classList.remove('draft-card-enter');\n            playerCard.classList.add('draft-card-enter-active');\n        }, 10);\n\n        // Update team count\n        this.updateTeamCount(teamId);\n    }\n\n    updateTeamCount(teamId) {\n        const teamSection = document.getElementById(`teamPlayers${teamId}`);\n        const teamCountBadge = document.getElementById(`teamCount${teamId}`);\n\n        if (teamSection && teamCountBadge) {\n            // Count ONLY the player card elements, not buttons inside them\n            const playerCount = teamSection.querySelectorAll('.draft-team-player-card').length;\n            teamCountBadge.textContent = `${playerCount} players`;\n            // console.log(`Updated team ${teamId} count to ${playerCount} players`);\n        }\n    }\n\n    addPlayerToAvailable(player) {\n        const availableContainer = document.getElementById('available-players');\n        if (!availableContainer) {\n            // console.error('Available players container not found');\n            return;\n        }\n\n        // Create the player card HTML for available players\n        const playerCard = document.createElement('div');\n        playerCard.className = 'col-xl-3 col-lg-4 col-md-6 col-sm-6';\n        playerCard.setAttribute('data-component', 'player-column');\n\n        const profilePictureUrl = player.profile_picture_url || '/static/img/default_player.png';\n        const experienceLevel = player.experience_level || player.league_experience_seasons || 'Unknown';\n        const position = formatPosition(player.favorite_position || player.position) || 'Any';\n\n        // Get enhanced player data\n        const mediumPictureUrl = player.profile_picture_medium || player.profile_picture_webp || profilePictureUrl;\n        const experienceSeasons = player.league_experience_seasons || 0;\n        const attendanceEstimate = player.attendance_estimate || 75;\n        const expectedAvailability = player.expected_weeks_available || 'All weeks';\n\n        // Get experience badge color\n        let experienceBadgeColor = 'secondary';\n        if (experienceLevel === 'Veteran') experienceBadgeColor = 'success';\n        else if (experienceLevel === 'Experienced') experienceBadgeColor = 'warning';\n\n        // Get attendance color and display\n        let attendanceColor = 'muted';\n        let attendanceDisplay = 'No data';\n        if (attendanceEstimate !== null && attendanceEstimate !== undefined) {\n            attendanceDisplay = `${Math.round(attendanceEstimate)}%`;\n            if (attendanceEstimate >= 80) attendanceColor = 'success';\n            else if (attendanceEstimate >= 60) attendanceColor = 'warning';\n            else attendanceColor = 'danger';\n        }\n\n        playerCard.innerHTML = `\n            <div id=\"player-${player.id}\" class=\"card border-0 shadow-sm h-100\"\n                 data-component=\"player-card\"\n                 data-player-id=\"${player.id}\"\n                 data-player-name=\"${player.name.toLowerCase()}\"\n                 data-position=\"${position.toLowerCase()}\"\n                 data-experience=\"${experienceSeasons}\"\n                 data-attendance=\"${attendanceEstimate}\"\n                 data-goals=\"${player.career_goals || 0}\"\n                 draggable=\"true\"\n                 ondragstart=\"handleDragStart(event, ${player.id})\"\n                 ondragend=\"handleDragEnd(event)\"\n                 style=\"cursor: grab; transition: all 0.2s ease; min-height: 320px;\">\n\n                <!-- Player Image Header -->\n                <div class=\"position-relative overflow-hidden\" style=\"height: 120px;\">\n                    <!-- Full Header Player Image -->\n                    <img src=\"${mediumPictureUrl}\"\n                         alt=\"${player.name}\"\n                         class=\"player-face-crop\"\n                         style=\"width: 100%; height: 100%; object-fit: cover; object-position: center 20%; display: block !important; visibility: visible !important; opacity: 1 !important;\"\n                         loading=\"eager\"\n                         onerror=\"// console.log('Image failed to load:', this.src); this.src='/static/img/default_player.png';\"\n                         onload=\"// console.log('Image loaded successfully:', this.src); if(typeof smartCropImage === 'function') smartCropImage(this);\">\n\n                    <!-- Dark overlay for better text readability -->\n                    <div class=\"position-absolute w-100 h-100\" style=\"background: rgba(0,0,0,0.3); top: 0; left: 0;\"></div>\n\n                    <!-- Experience Badge - Small Corner Tag -->\n                    <div class=\"position-absolute top-0 end-0\" style=\"z-index: 2;\">\n                        <div class=\"experience-corner-tag bg-${experienceBadgeColor}\"\n                             title=\"${experienceLevel}\">\n                            <span class=\"experience-initial\">\n                                ${experienceLevel[0] || 'N'}\n                            </span>\n                        </div>\n                    </div>\n\n                    <!-- Player Name Overlay -->\n                    <div class=\"position-absolute bottom-0 start-0 p-2\" style=\"z-index: 2;\">\n                        <h6 class=\"text-white fw-bold mb-0 text-shadow-sm\">${player.name}</h6>\n                    </div>\n                </div>\n\n                <!-- Player Info Body -->\n                <div class=\"card-body p-3 text-center\">\n                    <!-- Position Badge -->\n                    <div class=\"mb-2\">\n                        ${position !== 'Any' ?\n                            `<span class=\"badge bg-primary rounded-pill\">${position}</span>` :\n                            `<span class=\"badge bg-secondary rounded-pill\">Any Position</span>`\n                        }\n                    </div>\n\n                    <!-- Stats Row -->\n                    <div class=\"row text-center mb-2 small\">\n                        <div class=\"col-6\">\n                            <div class=\"fw-bold text-success\">${player.career_goals || 0}</div>\n                            <div class=\"text-muted\">Goals</div>\n                        </div>\n                        <div class=\"col-6\">\n                            <div class=\"fw-bold text-info\">${player.career_assists || 0}</div>\n                            <div class=\"text-muted\">Assists</div>\n                        </div>\n                    </div>\n\n                    <!-- Cards & Attendance -->\n                    <div class=\"row text-center mb-3 small\">\n                        <div class=\"col-6\">\n                            <div class=\"fw-bold\">\n                                <span class=\"text-warning\">${player.career_yellow_cards || 0}</span>/<span class=\"text-danger\">${player.career_red_cards || 0}</span>\n                            </div>\n                            <div class=\"text-muted\">Y/R Cards</div>\n                        </div>\n                        <div class=\"col-6\">\n                            <div class=\"fw-bold text-${attendanceColor}\">\n                                ${attendanceDisplay}\n                            </div>\n                            <div class=\"text-muted\">Attendance</div>\n                        </div>\n                    </div>\n\n                    <!-- Experience Info -->\n                    <div class=\"small text-muted mb-2\">\n                        ${experienceSeasons} season${experienceSeasons !== 1 ? 's' : ''}\n                    </div>\n\n                    <!-- Availability Info -->\n                    ${expectedAvailability !== 'All weeks' ?\n                        `<div class=\"small text-info mb-3\">\n                            <i class=\"ti ti-calendar-event me-1\"></i><strong>Expected:</strong> ${expectedAvailability}\n                        </div>` :\n                        `<div class=\"small text-success mb-3\">\n                            <i class=\"ti ti-calendar-check me-1\"></i><strong>Available:</strong> All weeks\n                        </div>`\n                    }\n                </div>\n\n                <!-- Action Buttons -->\n                <div class=\"card-footer bg-transparent border-0 p-2\">\n                    <div class=\"d-grid gap-1\">\n                        <button class=\"btn btn-success btn-sm fw-bold\"\n                                data-action=\"draft-player\"\n                                data-player-id=\"${player.id}\"\n                                data-player-name=\"${player.name}\"\n                                style=\"background: linear-gradient(45deg, var(--ecs-success, #28a745), var(--ecs-success-light, #20c997));\">\n                            <i class=\"ti ti-user-plus me-1\"></i>Draft Player\n                        </button>\n                        <button class=\"btn btn-outline-info btn-sm\"\n                                data-action=\"view-player-profile\"\n                                data-player-id=\"${player.id}\">\n                            <i class=\"ti ti-user me-1\"></i>View Profile\n                        </button>\n                    </div>\n                </div>\n            </div>\n        `;\n\n        // Refactored: Using CSS classes for animation instead of inline styles\n        playerCard.classList.add('draft-card-enter');\n        availableContainer.appendChild(playerCard);\n\n        // Clean up any empty column divs that might have been created\n        Array.from(availableContainer.children).forEach(child => {\n            if (child.hasAttribute('data-component') && child.getAttribute('data-component') === 'player-column' && !child.querySelector('[data-component=\"player-card\"]')) {\n                child.remove();\n            }\n        });\n\n        // Force a micro-delay to ensure DOM is ready, then apply sorting and filtering\n        setTimeout(() => {\n            // Apply current sorting if active\n            const sortSelect = document.getElementById('sortPlayers');\n            if (sortSelect && sortSelect.value && sortSelect.value !== 'default') {\n                this.handleSort({ target: sortSelect });\n            }\n\n            // Apply current filters - Refactored: Using d-none class\n            const searchInput = document.getElementById('searchPlayers');\n            const positionFilter = document.getElementById('filterPosition');\n\n            if (searchInput && searchInput.value) {\n                const searchTerm = searchInput.value.toLowerCase();\n                const cardElement = playerCard.querySelector('[data-component=\"player-card\"]');\n                const playerName = cardElement.getAttribute('data-player-name') || '';\n                if (!playerName.includes(searchTerm)) {\n                    playerCard.classList.add('d-none');\n                }\n            }\n\n            if (positionFilter && positionFilter.value) {\n                const filterPosition = positionFilter.value.toLowerCase();\n                const cardElement = playerCard.querySelector('[data-component=\"player-card\"]');\n                const playerPosition = cardElement.getAttribute('data-position') || '';\n                if (filterPosition && !playerPosition.includes(filterPosition)) {\n                    playerCard.classList.add('d-none');\n                }\n            }\n        }, 50);\n\n        // Animate in\n        setTimeout(() => {\n            playerCard.classList.remove('draft-card-enter');\n            playerCard.classList.add('draft-card-enter-active');\n        }, 10);\n\n        // Update available player count\n        this.updatePlayerCounts();\n    }\n\n    handlePlayerRemoved(data) {\n        this.hideLoading();\n\n        // Remove from team\n        this.removePlayerFromTeam(data.player.id, data.team_id);\n\n        // Add back to available players\n        this.addPlayerToAvailable(data.player);\n\n        this.showToast(`${data.player.name} removed from ${data.team_name}`, 'info');\n    }\n\n    removePlayerFromTeam(playerId, teamId) {\n        const playerCard = document.querySelector(`#teamPlayers${teamId} [data-player-id=\"${playerId}\"]`);\n        if (playerCard) {\n            // Refactored: Using CSS classes instead of inline styles\n            playerCard.classList.add('team-player-exit');\n            setTimeout(() => {\n                playerCard.remove();\n                this.updateTeamCount(teamId);\n            }, 300);\n        }\n    }\n\n    handlePlayerDetails(data) {\n        const modalContent = document.getElementById('playerProfileContent');\n        if (!modalContent) return;\n\n        const player = data.player;\n\n        // Create detailed player profile HTML\n        // Note: Image display logic in HTML uses inline handlers for onload/onerror\n        const profileHtml = `\n            <div class=\"row\">\n                <div class=\"col-md-4 text-center\">\n                    <div class=\"player-avatar-container mx-auto mb-3\" style=\"width: 120px; height: 120px;\">\n                        <div class=\"player-avatar-fallback\">\n                            ${player.name.substring(0, 2).toUpperCase()}\n                        </div>\n                        ${player.profile_picture_url ?\n                            `<img src=\"${player.profile_picture_url}\" alt=\"${player.name}\" class=\"player-avatar\"\n                                  onload=\"this.classList.add('d-block'); this.classList.remove('d-none'); this.previousElementSibling.classList.add('d-none'); this.previousElementSibling.classList.remove('d-flex');\"\n                                  onerror=\"this.classList.add('d-none'); this.classList.remove('d-block'); this.previousElementSibling.classList.add('d-flex'); this.previousElementSibling.classList.remove('d-none');\">`\n                            : ''\n                        }\n                    </div>\n                    <h4 class=\"fw-bold mb-2\">${player.name}</h4>\n                    <div class=\"mb-3\">\n                        ${player.favorite_position ?\n                            `<span class=\"badge badge-position\">${formatPosition(player.favorite_position)}</span>`\n                            : ''\n                        }\n                        <span class=\"badge badge-${player.experience_level === 'Veteran' ? 'veteran' :\n                            player.experience_level === 'Experienced' ? 'experienced' : 'new-player'}\">\n                            ${player.experience_level}\n                        </span>\n                    </div>\n                </div>\n                <div class=\"col-md-8\">\n                    <div class=\"row\">\n                        <div class=\"col-sm-6 mb-3\">\n                            <h6 class=\"text-muted mb-1\">Career Stats</h6>\n                            <div class=\"d-flex gap-2 flex-wrap\">\n                                <span class=\"stat-chip stat-goals\">${player.career_goals}G</span>\n                                <span class=\"stat-chip stat-assists\">${player.career_assists}A</span>\n                                <span class=\"stat-chip bg-warning text-dark\">${player.career_yellow_cards}Y</span>\n                                <span class=\"stat-chip bg-danger\">${player.career_red_cards}R</span>\n                                <span class=\"stat-chip stat-seasons\">${player.league_experience_seasons}T</span>\n                            </div>\n                        </div>\n                        <div class=\"col-sm-6 mb-3\">\n                            <h6 class=\"text-muted mb-1\">Season Stats</h6>\n                            <div class=\"d-flex gap-2 flex-wrap\">\n                                <span class=\"stat-chip stat-goals\">${player.season_goals}G</span>\n                                <span class=\"stat-chip stat-assists\">${player.season_assists}A</span>\n                                <span class=\"stat-chip bg-warning text-dark\">${player.season_yellow_cards}Y</span>\n                                <span class=\"stat-chip bg-danger\">${player.season_red_cards}R</span>\n                            </div>\n                        </div>\n                    </div>\n                    <div class=\"row\">\n                        <div class=\"col-sm-6 mb-3\">\n                            <h6 class=\"text-muted mb-1\">Attendance</h6>\n                            <div class=\"attendance-section\">\n                                <div class=\"attendance-label\">\n                                    <span>Rate</span>\n                                    <span class=\"fw-bold\">${Math.round(player.attendance_estimate)}%</span>\n                                </div>\n                                <div class=\"attendance-bar\">\n                                    <div class=\"attendance-fill attendance-${player.attendance_estimate >= 80 ? 'excellent' :\n                                        player.attendance_estimate >= 60 ? 'good' : 'poor'}\"\n                                         style=\"width: ${player.attendance_estimate}%\"></div>\n                                </div>\n                            </div>\n                        </div>\n                        <div class=\"col-sm-6 mb-3\">\n                            <h6 class=\"text-muted mb-1\">Reliability</h6>\n                            <div class=\"text-center\">\n                                <div class=\"fs-4 fw-bold text-primary\">${Math.round(player.reliability_score)}%</div>\n                                <small class=\"text-muted\">Response Rate: ${Math.round(player.rsvp_response_rate)}%</small>\n                            </div>\n                        </div>\n                    </div>\n                    ${player.player_notes ?\n                        `<div class=\"mb-3\">\n                            <h6 class=\"text-muted mb-1\">Player Notes</h6>\n                            <p class=\"mb-0\">${player.player_notes}</p>\n                        </div>`\n                        : ''\n                    }\n                    ${player.admin_notes ?\n                        `<div class=\"mb-3\">\n                            <h6 class=\"text-muted mb-1\">Admin/Coach Notes</h6>\n                            <p class=\"mb-0\">${player.admin_notes}</p>\n                        </div>`\n                        : ''\n                    }\n                    ${player.expected_weeks_available && player.expected_weeks_available !== 'All weeks' ?\n                        `<div class=\"mb-3\">\n                            <h6 class=\"text-muted mb-1\">Availability</h6>\n                            <p class=\"mb-0\">${player.expected_weeks_available}</p>\n                        </div>`\n                        : ''\n                    }\n                </div>\n            </div>\n            ${player.match_history && player.match_history.length > 0 ?\n                `<hr>\n                <h6 class=\"text-muted mb-3\">Recent Match History</h6>\n                <div class=\"table-responsive\">\n                    <table class=\"table table-sm\">\n                        <thead>\n                            <tr>\n                                <th>Date</th>\n                                <th>Goals</th>\n                                <th>Assists</th>\n                                <th>Cards</th>\n                            </tr>\n                        </thead>\n                        <tbody>\n                            ${player.match_history.map(match => `\n                                <tr>\n                                    <td>${match.date}</td>\n                                    <td>${match.goals}</td>\n                                    <td>${match.assists}</td>\n                                    <td>\n                                        ${match.yellow_cards ? `<span class=\"badge bg-warning\">${match.yellow_cards}Y</span>` : ''}\n                                        ${match.red_cards ? `<span class=\"badge bg-danger\">${match.red_cards}R</span>` : ''}\n                                    </td>\n                                </tr>\n                            `).join('')}\n                        </tbody>\n                    </table>\n                </div>`\n                : ''\n            }\n        `;\n\n        modalContent.innerHTML = profileHtml;\n    }\n\n    updatePlayerCounts() {\n        // Update available count\n        const availableCount = document.querySelectorAll('[data-component=\"player-item\"]').length;\n        const countElement = document.getElementById('availableCount');\n        if (countElement) {\n            countElement.textContent = availableCount;\n        }\n\n        // Update team counts - use .draft-team-player-card to avoid counting buttons\n        document.querySelectorAll('[id^=\"teamCount\"]').forEach(counter => {\n            const teamId = counter.id.replace('teamCount', '');\n            const playerCount = document.querySelectorAll(`#teamPlayers${teamId} .draft-team-player-card`).length;\n            counter.textContent = `${playerCount} players`;\n        });\n    }\n\n    updateAvailableCount(count) {\n        const countElement = document.getElementById('availableCount');\n        if (countElement) {\n            countElement.textContent = count;\n        }\n    }\n\n    toggleEmptyState(show) {\n        const emptyState = document.getElementById('emptyState');\n        const playersContainer = document.getElementById('playersContainer');\n\n        // Refactored: Using d-block/d-none classes instead of inline style.display\n        if (emptyState) {\n            if (show) {\n                emptyState.classList.add('d-block');\n                emptyState.classList.remove('d-none');\n            } else {\n                emptyState.classList.add('d-none');\n                emptyState.classList.remove('d-block');\n            }\n        }\n        if (playersContainer) {\n            if (show) {\n                playersContainer.classList.add('d-none');\n                playersContainer.classList.remove('d-block');\n            } else {\n                playersContainer.classList.add('d-block');\n                playersContainer.classList.remove('d-none');\n            }\n        }\n    }\n\n    showLoading() {\n        const overlay = document.querySelector('[data-component=\"draft-loading-overlay\"]');\n        if (overlay) {\n            overlay.classList.add('is-visible');\n            overlay.classList.remove('is-hidden');\n        }\n    }\n\n    hideLoading() {\n        const overlay = document.querySelector('[data-component=\"draft-loading-overlay\"]');\n        if (overlay) {\n            overlay.classList.add('is-hidden');\n            overlay.classList.remove('is-visible');\n        }\n    }\n\n    showToast(message, type = 'info') {\n        // Use SweetAlert2 for notifications\n        if (window.Swal) {\n            const iconMap = {\n                'success': 'success',\n                'error': 'error',\n                'warning': 'warning',\n                'info': 'info'\n            };\n\n            Swal.fire({\n                title: message,\n                icon: iconMap[type] || 'info',\n                toast: true,\n                position: 'top-end',\n                showConfirmButton: false,\n                timer: 3000,\n                timerProgressBar: true\n            });\n        } else if (window.showToast) {\n            // Fallback to existing toast system\n            window.showToast(message, type);\n        } else {\n            // console.log(`${type.toUpperCase()}: ${message}`);\n        }\n    }\n\n    closeModals() {\n        const modals = document.querySelectorAll('[data-component=\"modal\"][data-state=\"open\"]');\n        modals.forEach(modal => {\n            const bsModal = bootstrap.Modal.getInstance(modal);\n            if (bsModal) bsModal.hide();\n        });\n    }\n\n    refreshDraft() {\n        this.showLoading();\n        setTimeout(() => {\n            window.location.reload();\n        }, 500);\n    }\n\n    viewPlayerProfile(playerId) {\n        if (!this.socket || !this.isConnected) {\n            this.showToast('Not connected to server', 'error');\n            return;\n        }\n\n        // Show modal\n        const modal = document.getElementById('playerProfileModal');\n        if (modal) {\n            ModalManager.show('playerProfileModal');\n\n            // Request player details via socket\n            this.socket.emit('get_player_details', { player_id: playerId });\n        }\n    }\n\n    // Drag and Drop functionality\n    handleDragStart(event, playerId) {\n        event.dataTransfer.setData('text/plain', playerId);\n        event.dataTransfer.effectAllowed = 'move';\n\n        // Refactored: Using CSS classes for visual feedback instead of inline styles\n        event.target.classList.add('opacity-50', 'dragging');\n\n        // Store the player ID for later use\n        this.draggedPlayerId = playerId;\n    }\n\n    handleDragEnd(event) {\n        // Refactored: Using CSS classes instead of inline styles\n        event.target.classList.remove('opacity-50', 'dragging');\n\n        // Clear stored player ID\n        this.draggedPlayerId = null;\n    }\n\n    handleDragOver(event) {\n        event.preventDefault();\n        event.dataTransfer.dropEffect = 'move';\n\n        // Add visual feedback to drop zone\n        const dropZone = event.currentTarget;\n        dropZone.classList.add('drag-over');\n\n        // Refactored: Using CSS classes for different drop zone states\n        if (dropZone.id === 'available-players') {\n            dropZone.classList.add('drag-over-available');\n        } else if (dropZone.id && dropZone.id.startsWith('teamSection')) {\n            dropZone.classList.add('drag-over-team');\n        } else if (dropZone.classList.contains('team-drop-zone')) {\n            dropZone.classList.add('drag-over-team-zone');\n        }\n    }\n\n    handleDragLeave(event) {\n        // Remove visual feedback from drop zone\n        const dropZone = event.currentTarget;\n\n        // Refactored: Remove all drag-over classes\n        dropZone.classList.remove('drag-over', 'drag-over-available', 'drag-over-team', 'drag-over-team-zone');\n    }\n\n    handleDrop(event, teamId) {\n        event.preventDefault();\n\n        // Refactored: Remove all drag-over classes\n        const dropZone = event.currentTarget;\n        dropZone.classList.remove('drag-over', 'drag-over-available', 'drag-over-team', 'drag-over-team-zone');\n\n        // Get the dragged player ID\n        const playerId = event.dataTransfer.getData('text/plain') || this.draggedPlayerId;\n\n        if (!playerId) {\n            this.showToast('No player data found', 'error');\n            return;\n        }\n\n        // Check if player is already on this team\n        const existingPlayerInTeam = document.querySelector(`#teamPlayers${teamId} [data-player-id=\"${playerId}\"]`);\n        if (existingPlayerInTeam) {\n            this.showToast('Player is already on this team', 'warning');\n            return;\n        }\n\n        // Get player info\n        const playerCard = document.querySelector(`[data-player-id=\"${playerId}\"]`);\n        const playerName = playerCard ? (playerCard.querySelector('.fw-semibold')?.textContent || 'Unknown Player') : 'Unknown Player';\n\n        // Get team name from the drop zone\n        let teamName = `Team ${teamId}`;\n        if (dropZone.classList.contains('team-drop-zone')) {\n            // We're dropping on the team accordion item\n            const teamNameElement = dropZone.querySelector('[data-component=\"team-name\"]');\n            teamName = teamNameElement ? teamNameElement.textContent.trim() : `Team ${teamId}`;\n        } else {\n            // We're dropping on the team section or other element\n            const teamAccordion = document.querySelector(`#teamSection${teamId}`)?.closest('[data-component=\"team-item\"]');\n            const teamNameElement = teamAccordion ? teamAccordion.querySelector('[data-component=\"team-name\"]') : null;\n            teamName = teamNameElement ? teamNameElement.textContent.trim() : `Team ${teamId}`;\n        }\n\n        // Draft the player directly (no confirmation needed for drag/drop)\n        this.currentPlayerId = playerId;\n        this.confirmDraft(teamId, teamName);\n    }\n\n    handleDropToAvailable(event) {\n        event.preventDefault();\n\n        // Refactored: Remove all drag-over classes\n        const dropZone = event.currentTarget;\n        dropZone.classList.remove('drag-over', 'drag-over-available', 'drag-over-team', 'drag-over-team-zone');\n\n        // Get the dragged player ID\n        const playerId = event.dataTransfer.getData('text/plain') || this.draggedPlayerId;\n\n        if (!playerId) {\n            this.showToast('No player data found', 'error');\n            return;\n        }\n\n        // Check if player is already in available pool\n        const existingPlayerInAvailable = document.querySelector(`#available-players [data-player-id=\"${playerId}\"]`);\n        if (existingPlayerInAvailable) {\n            this.showToast('Player is already in available pool', 'warning');\n            return;\n        }\n\n        // Find which team the player is currently on\n        const currentPlayerCard = document.querySelector(`[data-player-id=\"${playerId}\"]`);\n        const teamSection = currentPlayerCard ? currentPlayerCard.closest('[id^=\"teamPlayers\"]') : null;\n        const teamId = teamSection ? teamSection.id.replace('teamPlayers', '') : null;\n\n        if (!teamId) {\n            this.showToast('Could not determine current team', 'error');\n            return;\n        }\n\n        // Get player and team names\n        const playerName = currentPlayerCard ? (currentPlayerCard.querySelector('[data-component=\"player-name\"]')?.textContent || 'Unknown Player') : 'Unknown Player';\n        const teamNameElement = document.querySelector(`#teamSection${teamId}`).closest('[data-component=\"team-item\"]').querySelector('[data-component=\"team-name\"]');\n        const teamName = teamNameElement ? teamNameElement.textContent.trim() : `Team ${teamId}`;\n\n        // Remove player from team (send to backend)\n        this.removePlayer(playerId, teamId);\n    }\n\n    // ===== Position Highlighting System =====\n\n    async fetchPositionAnalysis(teamId) {\n        /**\n         * Fetch position analysis from backend API\n         */\n        try {\n            const response = await fetch(`/draft/api/${this.leagueName}/position-analysis/${teamId}`);\n            if (response.ok) {\n                return await response.json();\n            } else {\n                console.error('Failed to fetch position analysis:', response.status);\n                return null;\n            }\n        } catch (error) {\n            console.error('Error fetching position analysis:', error);\n            return null;\n        }\n    }\n\n    async updatePositionHighlighting(activeTeamId) {\n        /**\n         * Update player highlighting based on position fit for active team\n         */\n        if (!activeTeamId) {\n            // Clear all highlighting if no team selected\n            document.querySelectorAll('[data-component=\"player-card\"]').forEach(card => {\n                card.classList.remove('highlight-strong', 'highlight-moderate');\n                const badge = card.querySelector('[data-component=\"position-fit-badge\"]');\n                if (badge) badge.remove();\n            });\n            return;\n        }\n\n        // Fetch position analysis for this team\n        const analysis = await this.fetchPositionAnalysis(activeTeamId);\n        if (!analysis || !analysis.player_fit_scores) {\n            return;\n        }\n\n        // Apply highlighting to player cards\n        document.querySelectorAll('[data-component=\"player-card\"]').forEach(card => {\n            const playerId = parseInt(card.dataset.playerId);\n            if (!playerId) return;\n\n            // Remove existing highlighting\n            card.classList.remove('highlight-strong', 'highlight-moderate');\n            const existingBadge = card.querySelector('[data-component=\"position-fit-badge\"]');\n            if (existingBadge) existingBadge.remove();\n\n            // Get fit score for this player\n            const fitData = analysis.player_fit_scores[playerId];\n            if (!fitData) return;\n\n            // Apply highlighting based on fit category\n            if (fitData.fit_category === 'strong') {\n                card.classList.add('highlight-strong');\n                // Add badge\n                const badge = document.createElement('span');\n                badge.className = 'badge-strong';\n                badge.setAttribute('data-component', 'position-fit-badge');\n                badge.innerHTML = '<i class=\"ti ti-star-filled me-1\"></i>Position Fit';\n                badge.title = `${fitData.favorite_position} - Perfect match for team needs`;\n                card.appendChild(badge);\n            } else if (fitData.fit_category === 'moderate') {\n                card.classList.add('highlight-moderate');\n                // Add badge\n                const badge = document.createElement('span');\n                badge.className = 'badge-moderate';\n                badge.setAttribute('data-component', 'position-fit-badge');\n                badge.innerHTML = '<i class=\"ti ti-check me-1\"></i>Can Play';\n                badge.title = 'Can play needed position';\n                card.appendChild(badge);\n            }\n        });\n    }\n\n    setupTeamTabHighlighting() {\n        /**\n         * Set up event listeners for team tabs to trigger position highlighting\n         */\n        // Find all team tabs/sections\n        const teamTabs = document.querySelectorAll('[data-bs-toggle=\"collapse\"][data-team-id]');\n        teamTabs.forEach(tab => {\n            tab.addEventListener('click', (e) => {\n                const teamId = parseInt(e.currentTarget.dataset.teamId);\n                if (teamId) {\n                    // Delay slightly to allow accordion to open\n                    setTimeout(() => this.updatePositionHighlighting(teamId), 100);\n                }\n            });\n        });\n\n        // Also check if a team accordion is already open on page load\n        const openAccordion = document.querySelector('[data-component=\"team-collapse\"].show[data-team-id]');\n        if (openAccordion) {\n            const teamId = parseInt(openAccordion.dataset.teamId);\n            if (teamId) {\n                this.updatePositionHighlighting(teamId);\n            }\n        }\n    }\n}\n\n// Global instance\nlet draftSystemInstance = null;\n\n// Initialize function\nfunction initializeDraftSystem(leagueName) {\n    draftSystemInstance = new DraftSystemV2(leagueName);\n    return draftSystemInstance;\n}\n\n// Global functions for template compatibility\nfunction showDraftModal(playerId, playerName) {\n    if (draftSystemInstance) {\n        draftSystemInstance.showDraftModal(playerId, playerName);\n    }\n}\n\nfunction confirmDraftPlayer(playerId, playerName) {\n    if (draftSystemInstance) {\n        draftSystemInstance.showDraftModal(playerId, playerName);\n    }\n}\n\nfunction confirmRemovePlayer(playerId, teamId, playerName, teamName) {\n    if (!draftSystemInstance) return;\n\n    if (window.Swal) {\n        Swal.fire({\n            title: 'Remove Player',\n            text: `Remove ${playerName} from ${teamName}?`,\n            icon: 'warning',\n            showCancelButton: true,\n            confirmButtonText: 'Yes, Remove Player',\n            cancelButtonText: 'Cancel',\n            customClass: {\n                confirmButton: 'btn btn-danger',\n                cancelButton: 'btn btn-secondary'\n            },\n            buttonsStyling: false\n        }).then((result) => {\n            if (result.isConfirmed) {\n                draftSystemInstance.removePlayer(playerId, teamId);\n            }\n        });\n    } else {\n        // Fallback\n        if (confirm(`Remove ${playerName} from ${teamName}?`)) {\n            draftSystemInstance.removePlayer(playerId, teamId);\n        }\n    }\n}\n\nfunction confirmDraft(teamId, teamName) {\n    if (draftSystemInstance) {\n        draftSystemInstance.confirmDraft(teamId, teamName);\n    }\n}\n\nfunction removePlayer(playerId, teamId) {\n    if (draftSystemInstance) {\n        draftSystemInstance.removePlayer(playerId, teamId);\n    }\n}\n\nfunction refreshDraft() {\n    if (draftSystemInstance) {\n        draftSystemInstance.refreshDraft();\n    }\n}\n\nfunction viewPlayerProfile(playerId) {\n    if (draftSystemInstance) {\n        draftSystemInstance.viewPlayerProfile(playerId);\n    }\n}\n\nfunction handleDragStart(event, playerId) {\n    if (draftSystemInstance) {\n        draftSystemInstance.handleDragStart(event, playerId);\n    }\n}\n\nfunction handleDragEnd(event) {\n    if (draftSystemInstance) {\n        draftSystemInstance.handleDragEnd(event);\n    }\n}\n\nfunction handleDragOver(event) {\n    if (draftSystemInstance) {\n        draftSystemInstance.handleDragOver(event);\n    }\n}\n\nfunction handleDragLeave(event) {\n    if (draftSystemInstance) {\n        draftSystemInstance.handleDragLeave(event);\n    }\n}\n\nfunction handleDrop(event, teamId) {\n    if (draftSystemInstance) {\n        draftSystemInstance.handleDrop(event, teamId);\n    }\n}\n\nfunction handleDropToAvailable(event) {\n    if (draftSystemInstance) {\n        draftSystemInstance.handleDropToAvailable(event);\n    }\n}\n\n// Global smartCropImage function for template compatibility\nfunction smartCropImage(img) {\n    if (draftSystemInstance) {\n        draftSystemInstance.smartCropImage(img);\n    }\n}\n\n// Export for module use\nif (typeof module !== 'undefined' && module.exports) {\n    module.exports = DraftSystemV2;\n}\n","/**\n * Profile Verification JavaScript\n * Ensures users review all sections before confirming profile\n * Implements section-by-section checkbox tracking\n */\n\n(function() {\n  'use strict';\n\n  const ProfileVerification = {\n    /**\n     * Initialize profile verification system\n     */\n    init: function() {\n      // Only run on profile verification pages\n      if (!this.isVerificationPage()) {\n        return;\n      }\n\n      this.setupSectionCheckboxes();\n      this.setupConfirmButton();\n      this.setupProgressIndicator();\n      this.setupHapticFeedback();\n      this.trackUserInteraction();\n\n      console.log('Profile verification system initialized');\n    },\n\n    /**\n     * Check if current page is a verification page\n     */\n    isVerificationPage: function() {\n      return document.querySelector('button[name=\"verify_profile\"]') !== null ||\n             document.querySelector('[data-verification-page=\"true\"]') !== null;\n    },\n\n    /**\n     * Setup section review checkboxes\n     */\n    setupSectionCheckboxes: function() {\n      const sections = document.querySelectorAll('.verification-section');\n\n      if (sections.length === 0) {\n        // Sections don't exist yet - create them\n        this.createSectionCheckboxes();\n      } else {\n        // Sections exist - just setup listeners\n        this.attachCheckboxListeners();\n      }\n    },\n\n    /**\n     * Create section checkboxes if they don't exist\n     */\n    createSectionCheckboxes: function() {\n      // Find all cards that should have checkboxes\n      const cards = document.querySelectorAll('.card');\n\n      cards.forEach((card, index) => {\n        const cardHeader = card.querySelector('.card-header');\n\n        if (!cardHeader) return;\n\n        // Don't add checkbox if card already has one\n        if (cardHeader.querySelector('.section-reviewed')) return;\n\n        // Get section name from card title\n        const cardTitle = cardHeader.querySelector('h5, h4, h3, .card-title');\n        if (!cardTitle) return;\n\n        const sectionName = cardTitle.textContent.trim();\n\n        // Skip if this is not a data section (e.g., actions, buttons)\n        if (this.shouldSkipSection(sectionName)) return;\n\n        // Create checkbox container\n        const checkboxContainer = document.createElement('div');\n        checkboxContainer.className = 'form-check form-switch d-flex align-items-center ms-auto';\n\n        // Create checkbox input\n        const checkbox = document.createElement('input');\n        checkbox.className = 'form-check-input section-reviewed';\n        checkbox.type = 'checkbox';\n        checkbox.id = `section-reviewed-${index}`;\n        checkbox.setAttribute('data-section', sectionName.toLowerCase().replace(/\\s+/g, '-'));\n        checkbox.setAttribute('data-verification-checkbox', 'section');\n        checkbox.setAttribute('data-on-change', 'verify-section-reviewed');\n\n        // Create label\n        const label = document.createElement('label');\n        label.className = 'form-check-label ms-2 verification-label';\n        label.setAttribute('for', `section-reviewed-${index}`);\n        label.textContent = 'Reviewed';\n\n        // Append elements\n        checkboxContainer.appendChild(checkbox);\n        checkboxContainer.appendChild(label);\n\n        // Make card header flex if not already\n        if (!cardHeader.classList.contains('d-flex')) {\n          cardHeader.classList.add('d-flex', 'justify-content-between', 'align-items-center');\n        }\n\n        cardHeader.appendChild(checkboxContainer);\n\n        // Mark card as verification section\n        card.classList.add('verification-section');\n      });\n\n      // Attach listeners to newly created checkboxes\n      this.attachCheckboxListeners();\n    },\n\n    /**\n     * Check if section should be skipped\n     */\n    shouldSkipSection: function(sectionName) {\n      const skipPatterns = [\n        /action/i,\n        /button/i,\n        /submit/i,\n        /confirm/i\n      ];\n\n      return skipPatterns.some(pattern => pattern.test(sectionName));\n    },\n\n    /**\n     * Attach event listeners to checkboxes\n     * NOTE: Now using centralized event delegation system\n     * Checkboxes use data-on-change=\"verify-section-reviewed\" attribute\n     */\n    attachCheckboxListeners: function() {\n      // Event listeners are now handled by the centralized event delegation system\n      // Checkboxes should have data-on-change=\"verify-section-reviewed\" attribute\n      // The event delegation system will call handleCheckboxChange() when triggered\n\n      // Haptic feedback is now handled by CSS :active pseudo-class or can be\n      // added to the event delegation handler if needed\n\n      // Mark checkboxes as initialized\n      const checkboxes = document.querySelectorAll('.section-reviewed');\n      checkboxes.forEach(checkbox => {\n        checkbox.setAttribute('data-verification-initialized', 'true');\n      });\n    },\n\n    /**\n     * Handle checkbox change event\n     */\n    handleCheckboxChange: function(checkbox) {\n      // Haptic feedback\n      if (window.Haptics) {\n        if (checkbox.checked) {\n          window.Haptics.success();\n        } else {\n          window.Haptics.light();\n        }\n      }\n\n      // Track for analytics\n      const sectionName = checkbox.getAttribute('data-section');\n      const isChecked = checkbox.checked;\n      console.log(`Section \"${sectionName}\" ${isChecked ? 'checked' : 'unchecked'}`);\n\n      // Update progress\n      this.updateProgress();\n\n      // Check if all sections are reviewed\n      this.updateConfirmButton();\n\n      // Visual feedback on parent card\n      const card = checkbox.closest('[data-section-card]');\n      if (card) {\n        if (checkbox.checked) {\n          card.classList.add('section-complete');\n          card.setAttribute('data-complete', 'true');\n          this.animateCardCheck(card);\n        } else {\n          card.classList.remove('section-complete');\n          card.setAttribute('data-complete', 'false');\n        }\n      }\n    },\n\n    /**\n     * Animate card when section is checked\n     */\n    animateCardCheck: function(card) {\n      // Add animation class\n      card.classList.add('section-complete-animation');\n\n      // Scale down\n      card.classList.add('scale-down');\n      card.classList.remove('scale-normal');\n\n      setTimeout(() => {\n        // Scale back to normal\n        card.classList.remove('scale-down');\n        card.classList.add('scale-normal');\n      }, 150);\n\n      setTimeout(() => {\n        // Clean up animation classes\n        card.classList.remove('section-complete-animation', 'scale-normal');\n      }, 300);\n    },\n\n    /**\n     * Setup confirm button behavior\n     * NOTE: Now using centralized event delegation system\n     * Button uses data-action=\"verify-profile-submit\" attribute\n     */\n    setupConfirmButton: function() {\n      const confirmButton = document.querySelector('button[name=\"verify_profile\"]');\n\n      if (!confirmButton) return;\n\n      // Initially disable the button\n      confirmButton.disabled = true;\n      confirmButton.classList.add('disabled');\n\n      // Click handler is now handled by the centralized event delegation system\n      // The button should have data-action=\"verify-profile-submit\" attribute\n      // The event delegation system will check if all sections are reviewed\n\n      // Initial state check\n      this.updateConfirmButton();\n    },\n\n    /**\n     * Update confirm button state\n     */\n    updateConfirmButton: function() {\n      const confirmButton = document.querySelector('button[name=\"verify_profile\"]');\n\n      if (!confirmButton) return;\n\n      const allReviewed = this.areAllSectionsReviewed();\n\n      if (allReviewed) {\n        confirmButton.disabled = false;\n        confirmButton.classList.remove('disabled');\n        confirmButton.classList.add('btn-success');\n        confirmButton.classList.remove('btn-secondary');\n        confirmButton.setAttribute('data-state', 'enabled');\n\n        // Add checkmark icon if not present\n        if (!confirmButton.querySelector('.ti-check')) {\n          const icon = document.createElement('i');\n          icon.className = 'ti ti-check me-2';\n          confirmButton.prepend(icon);\n        }\n      } else {\n        confirmButton.disabled = true;\n        confirmButton.classList.add('disabled');\n        confirmButton.classList.remove('btn-success');\n        confirmButton.classList.add('btn-secondary');\n        confirmButton.setAttribute('data-state', 'disabled');\n\n        // Remove checkmark icon\n        const icon = confirmButton.querySelector('.ti-check');\n        if (icon) {\n          icon.remove();\n        }\n      }\n    },\n\n    /**\n     * Check if all sections are reviewed\n     */\n    areAllSectionsReviewed: function() {\n      const checkboxes = document.querySelectorAll('.section-reviewed');\n\n      if (checkboxes.length === 0) {\n        // No checkboxes - allow confirm (backward compatibility)\n        return true;\n      }\n\n      return Array.from(checkboxes).every(cb => cb.checked);\n    },\n\n    /**\n     * Get list of unchecked sections\n     */\n    getUncheckedSections: function() {\n      const checkboxes = document.querySelectorAll('.section-reviewed:not(:checked)');\n\n      return Array.from(checkboxes).map(cb => {\n        const sectionName = cb.getAttribute('data-section');\n        return sectionName.replace(/-/g, ' ').replace(/\\b\\w/g, l => l.toUpperCase());\n      });\n    },\n\n    /**\n     * Setup progress indicator\n     */\n    setupProgressIndicator: function() {\n      // Check if progress indicator already exists\n      let progressContainer = document.getElementById('verification-progress');\n\n      if (!progressContainer) {\n        // Create progress indicator\n        progressContainer = this.createProgressIndicator();\n      }\n\n      // Update progress\n      this.updateProgress();\n    },\n\n    /**\n     * Create progress indicator element\n     */\n    createProgressIndicator: function() {\n      const container = document.createElement('div');\n      container.id = 'verification-progress';\n      container.className = 'alert alert-info sticky-top mb-4 verification-progress-container';\n      container.setAttribute('data-progress-indicator', 'verification');\n      container.setAttribute('data-status', 'info');\n\n      const progressText = document.createElement('strong');\n      progressText.id = 'progress-text';\n      progressText.textContent = '0 of 0 sections reviewed';\n\n      const helpText = document.createElement('p');\n      helpText.className = 'mb-0 small mt-2';\n      helpText.textContent = 'Please review each section and check the box before confirming.';\n\n      container.appendChild(progressText);\n      container.appendChild(helpText);\n\n      // Find the first card and insert before it\n      const firstCard = document.querySelector('[data-section-card]');\n      if (firstCard && firstCard.parentNode) {\n        firstCard.parentNode.insertBefore(container, firstCard);\n      }\n\n      return container;\n    },\n\n    /**\n     * Update progress indicator\n     */\n    updateProgress: function() {\n      const checkboxes = document.querySelectorAll('.section-reviewed');\n      const checkedCount = document.querySelectorAll('.section-reviewed:checked').length;\n      const totalCount = checkboxes.length;\n\n      const progressText = document.getElementById('progress-text');\n\n      if (progressText) {\n        progressText.textContent = `${checkedCount} of ${totalCount} sections reviewed`;\n\n        // Update alert class based on progress\n        const progressContainer = document.querySelector('[data-progress-indicator=\"verification\"]');\n        if (progressContainer) {\n          if (checkedCount === totalCount && totalCount > 0) {\n            progressContainer.classList.remove('alert-info', 'alert-warning');\n            progressContainer.classList.add('alert-success');\n            progressContainer.setAttribute('data-status', 'success');\n          } else if (checkedCount > 0) {\n            progressContainer.classList.remove('alert-info', 'alert-success');\n            progressContainer.classList.add('alert-warning');\n            progressContainer.setAttribute('data-status', 'warning');\n          } else {\n            progressContainer.classList.remove('alert-warning', 'alert-success');\n            progressContainer.classList.add('alert-info');\n            progressContainer.setAttribute('data-status', 'info');\n          }\n        }\n      }\n\n      // Update progress bar if it exists\n      this.updateProgressBar(checkedCount, totalCount);\n    },\n\n    /**\n     * Update progress bar\n     */\n    updateProgressBar: function(checkedCount, totalCount) {\n      let progressBar = document.getElementById('verification-progress-bar');\n\n      if (!progressBar && totalCount > 0) {\n        // Create progress bar\n        const progressContainer = document.querySelector('[data-progress-indicator=\"verification\"]');\n        if (progressContainer) {\n          const progressBarContainer = document.createElement('div');\n          progressBarContainer.className = 'progress mt-2 verification-progress-bar-container';\n          progressBarContainer.setAttribute('data-progress-container', 'verification');\n\n          progressBar = document.createElement('div');\n          progressBar.id = 'verification-progress-bar';\n          progressBar.className = 'progress-bar verification-progress-bar';\n          progressBar.role = 'progressbar';\n          progressBar.setAttribute('data-progress-bar', 'verification');\n\n          progressBarContainer.appendChild(progressBar);\n          progressContainer.appendChild(progressBarContainer);\n        }\n      }\n\n      if (progressBar && totalCount > 0) {\n        const percentage = Math.round((checkedCount / totalCount) * 100);\n        progressBar.style.width = percentage + '%';\n        progressBar.setAttribute('aria-valuenow', percentage);\n        progressBar.setAttribute('aria-valuemin', '0');\n        progressBar.setAttribute('aria-valuemax', '100');\n      }\n    },\n\n    /**\n     * Show warning for incomplete verification\n     */\n    showIncompleteWarning: function(uncheckedSections) {\n      const sectionList = uncheckedSections.map(s => ` ${s}`).join('<br>');\n\n      if (typeof Swal !== 'undefined') {\n        Swal.fire({\n          icon: 'warning',\n          title: 'Review Required',\n          html: `<p>Please review the following sections before confirming:</p><br>${sectionList}`,\n          confirmButtonText: 'OK',\n          confirmButtonColor: (typeof ECSTheme !== 'undefined') ? ECSTheme.getColor('warning') : '#ffc107'\n        });\n      } else {\n        alert(`Please review the following sections:\\n\\n${uncheckedSections.join('\\n')}`);\n      }\n    },\n\n    /**\n     * Setup haptic feedback\n     */\n    setupHapticFeedback: function() {\n      // Haptic feedback already handled in checkbox listeners\n      // This is a placeholder for additional haptic features\n    },\n\n    /**\n     * Track user interaction for analytics\n     * NOTE: Now using centralized event delegation system\n     * Analytics tracking is handled in handleCheckboxChange()\n     */\n    trackUserInteraction: function() {\n      // Tracking is now handled within handleCheckboxChange()\n      // which is called by the event delegation system\n      // No separate event listeners needed\n    }\n  };\n\n  // Initialize when DOM is ready\n  if (document.readyState === 'loading') {\n    document.addEventListener('DOMContentLoaded', () => {\n      ProfileVerification.init();\n    });\n  } else {\n    ProfileVerification.init();\n  }\n\n  // Export for external access\n  window.ProfileVerification = ProfileVerification;\n\n})();\n","/**\n * Draft History Admin Interface\n * JavaScript functionality for managing draft order history\n */\n\nclass DraftHistoryManager {\n    constructor() {\n        this.csrfToken = null;\n        this.init();\n    }\n\n    init() {\n        this.setupEventListeners();\n        this.getCsrfToken();\n        this.initDragAndDrop();\n        console.log('Draft History Manager initialized');\n    }\n\n    // Get CSRF token from meta tag or cookie\n    getCsrfToken() {\n        // Try to get from meta tag first\n        const metaToken = document.querySelector('meta[name=\"csrf-token\"]');\n        if (metaToken) {\n            this.csrfToken = metaToken.getAttribute('content');\n            return;\n        }\n        \n        // Try to get from session cookie (fallback)\n        const cookies = document.cookie.split(';');\n        for (let cookie of cookies) {\n            const [name, value] = cookie.trim().split('=');\n            if (name === 'csrf_token') {\n                this.csrfToken = value;\n                return;\n            }\n        }\n        \n        console.warn('CSRF token not found');\n    }\n\n    setupEventListeners() {\n        // Edit form submission\n        const editForm = document.getElementById('editDraftPickForm');\n        if (editForm) {\n            editForm.addEventListener('submit', (e) => this.handleEditSubmit(e));\n        }\n    }\n\n    // Initialize drag and drop functionality\n    initDragAndDrop() {\n        const sortableContainers = document.querySelectorAll('.sortable-draft-picks');\n        \n        sortableContainers.forEach(container => {\n            const items = container.querySelectorAll('.sortable-item');\n            \n            items.forEach(item => {\n                const draggableCard = item.querySelector('.draggable-card');\n                \n                // Drag start\n                draggableCard.addEventListener('dragstart', (e) => {\n                    item.classList.add('dragging');\n                    container.classList.add('drag-active');\n                    \n                    // Store dragged player info for better UX\n                    const playerName = item.querySelector('h6').textContent;\n                    const currentPos = item.dataset.position;\n                    \n                    e.dataTransfer.setData('text/plain', item.dataset.pickId);\n                    e.dataTransfer.setData('application/x-player-name', playerName);\n                    e.dataTransfer.setData('application/x-current-pos', currentPos);\n                    e.dataTransfer.effectAllowed = 'move';\n                    \n                    // Create custom drag image with better visibility\n                    const dragImage = item.cloneNode(true);\n                    dragImage.classList.add('drag-image-preview');\n                    document.body.appendChild(dragImage);\n                    e.dataTransfer.setDragImage(dragImage, 100, 50);\n                    \n                    // Remove the temporary drag image after a brief delay\n                    setTimeout(() => {\n                        if (document.body.contains(dragImage)) {\n                            document.body.removeChild(dragImage);\n                        }\n                    }, 0);\n                });\n                \n                // Drag end\n                draggableCard.addEventListener('dragend', (e) => {\n                    item.classList.remove('dragging');\n                    container.classList.remove('drag-active');\n                    \n                    // Remove all drag-over classes\n                    items.forEach(i => i.classList.remove('drag-over'));\n                });\n                \n                // Drag over\n                item.addEventListener('dragover', (e) => {\n                    e.preventDefault();\n                    e.dataTransfer.dropEffect = 'move';\n                    \n                    if (!item.classList.contains('dragging')) {\n                        item.classList.add('drag-over');\n                    }\n                });\n                \n                // Drag leave\n                item.addEventListener('dragleave', (e) => {\n                    // Only remove drag-over if we're actually leaving this element\n                    if (!item.contains(e.relatedTarget)) {\n                        item.classList.remove('drag-over');\n                    }\n                });\n                \n                // Drop\n                item.addEventListener('drop', (e) => {\n                    e.preventDefault();\n                    item.classList.remove('drag-over');\n                    container.classList.remove('drag-active');\n                    \n                    const draggedPickId = e.dataTransfer.getData('text/plain');\n                    const playerName = e.dataTransfer.getData('application/x-player-name');\n                    const currentPos = e.dataTransfer.getData('application/x-current-pos');\n                    const targetPosition = parseInt(item.dataset.position);\n                    \n                    if (draggedPickId && targetPosition) {\n                        // Show immediate feedback\n                        this.showAlert('info', `Moving ${playerName} from position #${currentPos} to #${targetPosition}...`);\n                        this.handleDragDrop(draggedPickId, targetPosition, playerName);\n                    }\n                });\n            });\n        });\n    }\n\n    // Handle drag and drop reordering\n    async handleDragDrop(pickId, newPosition, playerName = 'Player') {\n        try {\n            const headers = {\n                'Content-Type': 'application/json',\n            };\n            \n            // Add CSRF token if available\n            if (this.csrfToken) {\n                headers['X-CSRFToken'] = this.csrfToken;\n            }\n            \n            const response = await fetch(`/admin/draft-history/edit/${pickId}`, {\n                method: 'POST',\n                headers: headers,\n                body: JSON.stringify({\n                    position: newPosition,\n                    mode: 'smart' // Use smart mode for drag and drop\n                })\n            });\n\n            const data = await response.json();\n            \n            if (data.success) {\n                this.showAlert('success', `Player moved to position #${newPosition}`);\n                this.reloadPage();\n            } else {\n                this.showAlert('error', data.message);\n            }\n        } catch (error) {\n            this.showAlert('error', 'Failed to reorder draft pick');\n            console.error('Error reordering draft pick:', error);\n        }\n    }\n\n    // Clear all filters\n    clearFilters() {\n        const currentUrl = new URL(window.location);\n        currentUrl.search = '';\n        window.location.href = currentUrl.toString();\n    }\n\n    // Show edit modal for a draft pick\n    editDraftPick(pickId, position, notes, playerName) {\n        document.getElementById('editPickId').value = pickId;\n        document.getElementById('editPlayerName').value = playerName;\n        document.getElementById('editDraftPosition').value = position;\n        document.getElementById('editNotes').value = notes || '';\n\n        ModalManager.show('editDraftPickModal');\n    }\n\n    // Handle edit form submission\n    async handleEditSubmit(e) {\n        e.preventDefault();\n        \n        const pickId = document.getElementById('editPickId').value;\n        const position = parseInt(document.getElementById('editDraftPosition').value);\n        const notes = document.getElementById('editNotes').value.trim();\n        \n        // Determine which mode is selected\n        let mode = 'smart'; // new default - smart reorder\n        if (document.getElementById('insertMode').checked) {\n            mode = 'insert';\n        } else if (document.getElementById('cascadingMode').checked) {\n            mode = 'cascading';\n        } else if (document.getElementById('absoluteMode').checked) {\n            mode = 'absolute';\n        }\n        \n        try {\n            const headers = {\n                'Content-Type': 'application/json',\n            };\n            \n            // Add CSRF token if available\n            if (this.csrfToken) {\n                headers['X-CSRFToken'] = this.csrfToken;\n            }\n            \n            const response = await fetch(`/admin/draft-history/edit/${pickId}`, {\n                method: 'POST',\n                headers: headers,\n                body: JSON.stringify({\n                    position: position,\n                    notes: notes,\n                    mode: mode\n                })\n            });\n\n            const data = await response.json();\n            \n            if (data.success) {\n                this.showAlert('success', data.message);\n                bootstrap.Modal.getInstance(document.getElementById('editDraftPickModal')).hide();\n                this.reloadPage();\n            } else {\n                this.showAlert('error', data.message);\n            }\n        } catch (error) {\n            this.showAlert('error', 'Failed to update draft pick');\n            console.error('Error updating draft pick:', error);\n        }\n    }\n\n    // Delete a draft pick\n    async deleteDraftPick(pickId, position, playerName, teamName) {\n        const confirmed = confirm(\n            `Are you sure you want to delete draft pick #${position} (${playerName} to ${teamName})?\\n\\n` +\n            'This will adjust all subsequent draft positions and cannot be undone.'\n        );\n\n        if (!confirmed) return;\n\n        try {\n            const headers = {\n                'Content-Type': 'application/json',\n            };\n            \n            // Add CSRF token if available\n            if (this.csrfToken) {\n                headers['X-CSRFToken'] = this.csrfToken;\n            }\n            \n            const response = await fetch(`/admin/draft-history/delete/${pickId}`, {\n                method: 'DELETE',\n                headers: headers\n            });\n\n            const data = await response.json();\n            \n            if (data.success) {\n                this.showAlert('success', data.message);\n                this.reloadPage();\n            } else {\n                this.showAlert('error', data.message);\n            }\n        } catch (error) {\n            this.showAlert('error', 'Failed to delete draft pick');\n            console.error('Error deleting draft pick:', error);\n        }\n    }\n\n    // Normalize draft positions for a season/league\n    async normalizeDraftPositions(seasonId, leagueId, seasonName, leagueName) {\n        const confirmed = confirm(\n            `Fix the draft order for ${seasonName} - ${leagueName}?\\n\\n` +\n            'This will renumber all positions to run 1, 2, 3, 4... with no gaps. This action cannot be undone.'\n        );\n\n        if (!confirmed) return;\n\n        try {\n            const headers = {\n                'Content-Type': 'application/json',\n            };\n            \n            // Add CSRF token if available\n            if (this.csrfToken) {\n                headers['X-CSRFToken'] = this.csrfToken;\n            }\n            \n            const response = await fetch('/admin/draft-history/normalize', {\n                method: 'POST',\n                headers: headers,\n                body: JSON.stringify({\n                    season_id: seasonId,\n                    league_id: leagueId\n                })\n            });\n\n            const data = await response.json();\n            \n            if (data.success) {\n                this.showAlert('success', data.message);\n                this.reloadPage();\n            } else {\n                this.showAlert('error', data.message);\n            }\n        } catch (error) {\n            this.showAlert('error', 'Failed to normalize draft positions');\n            console.error('Error normalizing draft positions:', error);\n        }\n    }\n\n    // Clear all draft picks for a season/league\n    async clearSeasonLeague(seasonId, leagueId, seasonName, leagueName) {\n        const confirmed = confirm(\n            `Are you sure you want to clear ALL draft picks for ${seasonName} - ${leagueName}?\\n\\n` +\n            'This action cannot be undone.'\n        );\n\n        if (!confirmed) return;\n\n        try {\n            const headers = {\n                'Content-Type': 'application/json',\n            };\n            \n            // Add CSRF token if available\n            if (this.csrfToken) {\n                headers['X-CSRFToken'] = this.csrfToken;\n            }\n            \n            const response = await fetch('/admin/draft-history/clear', {\n                method: 'POST',\n                headers: headers,\n                body: JSON.stringify({\n                    season_id: seasonId,\n                    league_id: leagueId\n                })\n            });\n\n            const data = await response.json();\n            \n            if (data.success) {\n                this.showAlert('success', data.message);\n                this.reloadPage();\n            } else {\n                this.showAlert('error', data.message);\n            }\n        } catch (error) {\n            this.showAlert('error', 'Failed to clear draft history');\n            console.error('Error clearing draft history:', error);\n        }\n    }\n\n    // Show alert message\n    showAlert(type, message) {\n        let alertClass, iconClass;\n        if (type === 'success') {\n            alertClass = 'alert-success';\n            iconClass = 'ti-check';\n        } else if (type === 'info') {\n            alertClass = 'alert-info';\n            iconClass = 'ti-info-circle';\n        } else {\n            alertClass = 'alert-danger';\n            iconClass = 'ti-x';\n        }\n        \n        const alertHtml = `\n            <div class=\"alert ${alertClass} alert-dismissible fade show\" role=\"alert\">\n                <i class=\"ti ${iconClass} me-2\"></i>${message}\n                <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"alert\" aria-label=\"Close\"></button>\n            </div>\n        `;\n        \n        const container = document.querySelector('.container-xxl');\n        if (container) {\n            container.insertAdjacentHTML('afterbegin', alertHtml);\n            \n            // Auto-dismiss after 5 seconds\n            setTimeout(() => {\n                const alert = container.querySelector('.alert');\n                if (alert) {\n                    alert.remove();\n                }\n            }, 5000);\n        }\n    }\n\n    // Reload the page with a slight delay\n    reloadPage() {\n        setTimeout(() => {\n            window.location.reload();\n        }, 1000);\n    }\n\n    // Initialize tooltips if available\n    initTooltips() {\n        const tooltipTriggerList = [].slice.call(document.querySelectorAll('[data-bs-toggle=\"tooltip\"]'));\n        tooltipTriggerList.map(function (tooltipTriggerEl) {\n            return new bootstrap.Tooltip(tooltipTriggerEl);\n        });\n    }\n}\n\n// Global functions for template compatibility\nlet draftHistoryManager;\n\nfunction clearFilters() {\n    draftHistoryManager.clearFilters();\n}\n\nfunction editDraftPick(pickId, position, notes, playerName) {\n    draftHistoryManager.editDraftPick(pickId, position, notes, playerName);\n}\n\nfunction deleteDraftPick(pickId, position, playerName, teamName) {\n    draftHistoryManager.deleteDraftPick(pickId, position, playerName, teamName);\n}\n\nfunction normalizeDraftPositions(seasonId, leagueId, seasonName, leagueName) {\n    draftHistoryManager.normalizeDraftPositions(seasonId, leagueId, seasonName, leagueName);\n}\n\nfunction clearSeasonLeague(seasonId, leagueId, seasonName, leagueName) {\n    draftHistoryManager.clearSeasonLeague(seasonId, leagueId, seasonName, leagueName);\n}\n\n// Initialize when DOM is ready\ndocument.addEventListener('DOMContentLoaded', function() {\n    // Page guard - only run on draft history page\n    if (!document.querySelector('.sortable-draft-picks') && !document.getElementById('editDraftPickForm')) {\n        return; // Not on draft history page\n    }\n\n    draftHistoryManager = new DraftHistoryManager();\n\n    // Initialize tooltips\n    draftHistoryManager.initTooltips();\n\n    console.log('Draft History interface loaded successfully');\n});\n","/**\n * Soccer Pitch View System\n * Visual drafting interface with position-based player placement\n *\n * REFACTORED: Eliminated all inline style manipulations in favor of CSS classes\n */\n\nclass PitchViewSystem {\n    constructor(leagueName, teams, draftedPlayersByTeam) {\n        this.leagueName = leagueName;\n        this.teams = teams;\n        this.draftedPlayersByTeam = draftedPlayersByTeam;\n        this.socket = null;\n        this.currentDraggedPlayer = null;\n        this.isConnected = false;\n\n        this.init();\n    }\n\n    init() {\n        this.setupSocket();\n        this.setupEventListeners();\n        this.populateExistingPlayers();\n        this.setupSearch();\n        this.updateAllStats();\n\n        console.log(' Pitch View System initialized');\n    }\n\n    setupSocket() {\n        try {\n            // Reuse existing global socket if available (from navbar presence)\n            // Check if socket EXISTS (not just connected) - it may still be connecting\n            if (window.socket) {\n                console.log(' [PitchView] Reusing existing socket (connected:', window.socket.connected, ')');\n                this.socket = window.socket;\n\n                // If already connected, join room immediately\n                if (this.socket.connected) {\n                    this.isConnected = true;\n                    this.socket.emit('join_draft_room', { league_name: this.leagueName });\n                }\n                // Set up listeners regardless - connect handler will join room when connected\n                this.setupSocketListeners();\n                return;\n            }\n\n            // Create new socket if none exists\n            console.log(' [PitchView] Creating new socket connection');\n            this.socket = io('/', {\n                // Use polling first to establish sticky session cookie with multiple workers\n                transports: ['polling', 'websocket'],\n                upgrade: true,\n                timeout: 10000,\n                withCredentials: true\n            });\n\n            // Store globally for other components to reuse\n            window.socket = this.socket;\n\n            this.setupSocketListeners();\n\n        } catch (error) {\n            console.error('Failed to initialize socket:', error);\n        }\n    }\n\n    setupSocketListeners() {\n        if (!this.socket) return;\n\n        this.socket.on('connect', () => {\n            console.log(' Connected to draft system');\n            this.isConnected = true;\n            this.socket.emit('join_draft_room', { league_name: this.leagueName });\n        });\n\n        this.socket.on('disconnect', () => {\n            console.log(' Disconnected from draft system');\n            this.isConnected = false;\n        });\n\n        this.socket.on('player_drafted_enhanced', (data) => {\n            console.log(' Player drafted:', data);\n            this.handlePlayerDrafted(data);\n        });\n\n        this.socket.on('player_removed_enhanced', (data) => {\n            console.log(' Player removed:', data);\n            this.handlePlayerRemoved(data);\n        });\n\n        this.socket.on('player_position_updated', (data) => {\n            console.log(' Player position updated:', data);\n            this.handlePlayerPositionUpdated(data);\n        });\n\n        this.socket.on('error', (data) => {\n            console.error(' Socket error:', data);\n            this.showToast('Error: ' + data.message, 'error');\n        });\n    }\n\n    setupEventListeners() {\n        // Search functionality\n        const searchInput = document.getElementById('playerSearchPitch');\n        if (searchInput) {\n            searchInput.addEventListener('input', this.handleSearch.bind(this));\n        }\n\n        // Position filter\n        const positionFilter = document.getElementById('positionFilterPitch');\n        if (positionFilter) {\n            positionFilter.addEventListener('change', this.handlePositionFilter.bind(this));\n        }\n\n        // Team tab switching\n        document.addEventListener('shown.bs.tab', (event) => {\n            if (event.target.id.includes('team-') && event.target.id.includes('-tab')) {\n                const teamId = event.target.getAttribute('data-team-id');\n                this.onTeamTabSwitch(teamId);\n            }\n        });\n\n        // Setup drag and drop event delegation\n        this.setupDragAndDropEvents();\n    }\n\n    setupDragAndDropEvents() {\n        const self = this;\n\n        // Drag start on available player cards\n        document.addEventListener('dragstart', function(e) {\n            const playerCard = e.target.closest('.js-draggable-player');\n            if (playerCard) {\n                const playerId = playerCard.dataset.playerId;\n                e.dataTransfer.setData('text/plain', playerId);\n                e.dataTransfer.effectAllowed = 'move';\n                playerCard.classList.add('dragging');\n                self.currentDraggedPlayer = playerId;\n            }\n        });\n\n        // Drag end\n        document.addEventListener('dragend', function(e) {\n            const playerCard = e.target.closest('.js-draggable-player');\n            if (playerCard) {\n                playerCard.classList.remove('dragging');\n                self.currentDraggedPlayer = null;\n            }\n        });\n\n        // Drag over position zones\n        document.addEventListener('dragover', function(e) {\n            const dropZone = e.target.closest('.js-position-drop-zone');\n            if (dropZone) {\n                e.preventDefault();\n                e.dataTransfer.dropEffect = 'move';\n                dropZone.classList.add('drag-over');\n            }\n        });\n\n        // Drag leave position zones\n        document.addEventListener('dragleave', function(e) {\n            const dropZone = e.target.closest('.js-position-drop-zone');\n            if (dropZone && !dropZone.contains(e.relatedTarget)) {\n                dropZone.classList.remove('drag-over');\n            }\n        });\n\n        // Drop on position zones\n        document.addEventListener('drop', function(e) {\n            const dropZone = e.target.closest('.js-position-drop-zone');\n            if (dropZone) {\n                e.preventDefault();\n                dropZone.classList.remove('drag-over');\n\n                const position = dropZone.dataset.position;\n                const teamId = dropZone.dataset.teamId;\n                const playerId = e.dataTransfer.getData('text/plain') || self.currentDraggedPlayer;\n\n                if (playerId && position && teamId) {\n                    self.handlePositionDrop(e, position, teamId);\n                }\n            }\n        });\n    }\n\n    setupSearch() {\n        // Initialize search state\n        this.updateAvailablePlayerCount();\n    }\n\n    handleSearch(event) {\n        const searchTerm = event.target.value.toLowerCase();\n        const playerItems = document.querySelectorAll('#availablePlayersList .player-item');\n        let visibleCount = 0;\n\n        playerItems.forEach(item => {\n            const playerName = item.getAttribute('data-player-name') || '';\n            const isVisible = !searchTerm || playerName.includes(searchTerm);\n\n            // Use CSS classes instead of inline styles\n            if (isVisible) {\n                item.classList.remove('d-none');\n                item.classList.add('d-flex');\n                visibleCount++;\n            } else {\n                item.classList.remove('d-flex');\n                item.classList.add('d-none');\n            }\n        });\n\n        this.updateAvailablePlayerCount(visibleCount);\n    }\n\n    handlePositionFilter(event) {\n        const selectedPosition = event.target.value.toLowerCase();\n        const playerItems = document.querySelectorAll('#availablePlayersList .player-item');\n        let visibleCount = 0;\n\n        playerItems.forEach(item => {\n            const playerPosition = item.getAttribute('data-position') || '';\n            const isVisible = !selectedPosition || playerPosition.includes(selectedPosition);\n\n            // Use CSS classes instead of inline styles\n            if (isVisible) {\n                item.classList.remove('d-none');\n                item.classList.add('d-flex');\n                visibleCount++;\n            } else {\n                item.classList.remove('d-flex');\n                item.classList.add('d-none');\n            }\n        });\n\n        this.updateAvailablePlayerCount(visibleCount);\n    }\n\n    populateExistingPlayers() {\n        // Populate already drafted players into their saved positions\n        Object.keys(this.draftedPlayersByTeam).forEach(teamId => {\n            const players = this.draftedPlayersByTeam[teamId];\n            players.forEach(player => {\n                // Use the saved position or default to bench\n                const position = player.current_position || 'bench';\n                this.addPlayerToPosition(player, position, teamId, false); // false = don't emit socket event\n            });\n        });\n    }\n\n    onTeamTabSwitch(teamId) {\n        // Update any team-specific UI when switching between teams\n        console.log(`Switched to team ${teamId}`);\n    }\n\n    // Player Management\n    addPlayerToPosition(player, position, teamId, emitEvent = true) {\n        const positionContainer = document.getElementById(`position-${position}-${teamId}`);\n        if (!positionContainer) {\n            console.error(`Position container not found: position-${position}-${teamId}`);\n            return;\n        }\n\n        // Check if player is already positioned somewhere in this team\n        this.removePlayerFromAllPositions(player.id, teamId);\n\n        // Create player element\n        const playerElement = this.createPositionedPlayerElement(player, position, teamId);\n        positionContainer.appendChild(playerElement);\n\n        // Remove from available players list if it exists there\n        this.removePlayerFromAvailable(player.id);\n\n        // Update stats\n        this.updatePositionStats(teamId);\n        this.updateTeamCounts();\n\n        // Emit socket event if requested\n        if (emitEvent && this.socket && this.isConnected) {\n            this.socket.emit('update_player_position', {\n                player_id: player.id,\n                team_id: parseInt(teamId),\n                position: position,\n                league_name: this.leagueName\n            });\n        }\n\n        console.log(`Added ${player.name} to ${position} position in team ${teamId}`);\n    }\n\n    createPositionedPlayerElement(player, position, teamId) {\n        const element = document.createElement('div');\n        element.className = 'positioned-player newly-added';\n        element.setAttribute('data-player-id', player.id);\n        element.setAttribute('data-player-name', player.name);\n        element.setAttribute('data-position', position);\n        element.setAttribute('draggable', 'true');\n        element.setAttribute('title', player.name); // Tooltip with full name\n\n        // Add drag event listeners\n        element.addEventListener('dragstart', (e) => this.handlePositionedPlayerDragStart(e, player.id));\n        element.addEventListener('dragend', (e) => this.handlePositionedPlayerDragEnd(e));\n\n        // Player image or initials\n        if (player.profile_picture_url && player.profile_picture_url !== '/static/img/default_player.png') {\n            element.innerHTML = `\n                <img src=\"${player.profile_picture_url}\" alt=\"${player.name}\"\n                     class=\"player-profile-img\"\n                     onerror=\"this.classList.add('d-none'); this.nextElementSibling.classList.remove('d-none');\">\n                <div class=\"player-initials d-none\">${this.getPlayerInitials(player.name)}</div>\n                <button class=\"remove-btn\" onclick=\"pitchViewInstance.removePlayerFromPosition(${player.id}, '${position}', ${teamId})\" title=\"Remove ${player.name}\"></button>\n            `;\n        } else {\n            element.innerHTML = `\n                <div class=\"player-initials\">${this.getPlayerInitials(player.name)}</div>\n                <button class=\"remove-btn\" onclick=\"pitchViewInstance.removePlayerFromPosition(${player.id}, '${position}', ${teamId})\" title=\"Remove ${player.name}\"></button>\n            `;\n        }\n\n        // Remove the newly-added class after animation\n        setTimeout(() => {\n            element.classList.remove('newly-added');\n        }, 500);\n\n        return element;\n    }\n\n    getPlayerInitials(name) {\n        return name.split(' ')\n            .map(part => part.charAt(0).toUpperCase())\n            .join('')\n            .substring(0, 2);\n    }\n\n    removePlayerFromPosition(playerId, position, teamId) {\n        const positionContainer = document.getElementById(`position-${position}-${teamId}`);\n        if (positionContainer) {\n            const playerElement = positionContainer.querySelector(`[data-player-id=\"${playerId}\"]`);\n            if (playerElement) {\n                // Use CSS classes for animation instead of inline styles\n                playerElement.classList.add('removing');\n\n                setTimeout(() => {\n                    playerElement.remove();\n                    this.updatePositionStats(teamId);\n                }, 300);\n            }\n        }\n\n        // If removing from team entirely, add back to available\n        const teamHasPlayer = this.isPlayerInTeam(playerId, teamId);\n        if (!teamHasPlayer) {\n            this.addPlayerBackToAvailable(playerId);\n        }\n    }\n\n    removePlayerFromAllPositions(playerId, teamId) {\n        const positions = ['gk', 'lb', 'cb', 'rb', 'lwb', 'rwb', 'cdm', 'cm', 'cam', 'lw', 'rw', 'st', 'bench'];\n        positions.forEach(position => {\n            const positionContainer = document.getElementById(`position-${position}-${teamId}`);\n            if (positionContainer) {\n                const playerElement = positionContainer.querySelector(`[data-player-id=\"${playerId}\"]`);\n                if (playerElement) {\n                    playerElement.remove();\n                }\n            }\n        });\n    }\n\n    removePlayerFromAvailable(playerId) {\n        const playerItem = document.querySelector(`#availablePlayersList [data-player-id=\"${playerId}\"]`);\n        if (playerItem) {\n            // Use CSS class for animation instead of inline styles\n            playerItem.classList.add('removing-from-list');\n\n            setTimeout(() => {\n                playerItem.remove();\n                this.updateAvailablePlayerCount();\n            }, 300);\n        }\n    }\n\n    addPlayerBackToAvailable(playerId) {\n        // This would require the full player data - for now, we'll reload or emit an event\n        // In a real implementation, you'd maintain a player cache\n        console.log(`Should add player ${playerId} back to available pool`);\n    }\n\n    isPlayerInTeam(playerId, teamId) {\n        const positions = ['gk', 'lb', 'cb', 'rb', 'lwb', 'rwb', 'cdm', 'cm', 'cam', 'lw', 'rw', 'st', 'bench'];\n        return positions.some(position => {\n            const container = document.getElementById(`position-${position}-${teamId}`);\n            return container && container.querySelector(`[data-player-id=\"${playerId}\"]`);\n        });\n    }\n\n    // Drag and Drop Handlers\n    handlePlayerDragStart(event, playerId) {\n        this.currentDraggedPlayer = playerId;\n        event.dataTransfer.setData('text/plain', playerId);\n        event.dataTransfer.effectAllowed = 'move';\n\n        // Visual feedback using CSS classes\n        event.target.classList.add('dragging');\n    }\n\n    handlePlayerDragEnd(event) {\n        this.currentDraggedPlayer = null;\n        event.target.classList.remove('dragging');\n    }\n\n    handlePositionedPlayerDragStart(event, playerId) {\n        this.currentDraggedPlayer = playerId;\n        event.dataTransfer.setData('text/plain', playerId);\n        event.dataTransfer.effectAllowed = 'move';\n\n        // Mark as positioned player being moved\n        event.dataTransfer.setData('positioned', 'true');\n\n        // Visual feedback using CSS classes\n        event.target.classList.add('dragging');\n    }\n\n    handlePositionedPlayerDragEnd(event) {\n        this.currentDraggedPlayer = null;\n        event.target.classList.remove('dragging');\n    }\n\n    handlePositionDragOver(event) {\n        event.preventDefault();\n        event.dataTransfer.dropEffect = 'move';\n\n        const zone = event.currentTarget;\n        zone.classList.add('drag-over');\n    }\n\n    handlePositionDragLeave(event) {\n        const zone = event.currentTarget;\n        zone.classList.remove('drag-over');\n    }\n\n    handlePositionDrop(event, position, teamId) {\n        event.preventDefault();\n\n        const zone = event.currentTarget;\n        zone.classList.remove('drag-over');\n\n        const playerId = event.dataTransfer.getData('text/plain');\n        const isPositioned = event.dataTransfer.getData('positioned') === 'true';\n\n        if (!playerId) {\n            this.showToast('No player data found', 'error');\n            return;\n        }\n\n        // Soft warning for position capacity (doesn't block)\n        const currentPlayers = zone.querySelector('.position-players').children.length;\n        const recommended = this.getRecommendedMax(position);\n\n        if (currentPlayers >= recommended) {\n            this.showPositionWarning(position, currentPlayers + 1, recommended);\n            // CONTINUE with draft - don't block\n        }\n\n        if (isPositioned) {\n            // Moving from one position to another\n            this.movePlayerBetweenPositions(playerId, position, teamId);\n        } else {\n            // Drafting new player\n            this.draftPlayerToPosition(playerId, position, teamId);\n        }\n\n        // Update capacity indicators after drop\n        setTimeout(() => this.updatePositionCapacity(position, teamId), 100);\n    }\n\n    getRecommendedMax(position) {\n        /**\n         * Get recommended maximum players for a position\n         */\n        const recommendations = {\n            'gk': 1,\n            'lb': 1,\n            'cb': 2,\n            'rb': 1,\n            'lwb': 1,\n            'rwb': 1,\n            'cdm': 2,\n            'cm': 2,\n            'cam': 1,\n            'lw': 1,\n            'rw': 1,\n            'st': 2,\n            'bench': 999\n        };\n        return recommendations[position.toLowerCase()] || 1;\n    }\n\n    showPositionWarning(position, currentCount, recommendedMax) {\n        /**\n         * Show a toast warning when position capacity is exceeded\n         */\n        const positionName = position.toUpperCase();\n        const toast = document.createElement('div');\n        toast.className = 'position-warning-toast';\n        toast.innerHTML = `\n            <i class=\"ti ti-alert-triangle text-warning me-2\"></i>\n            <div>\n                <strong>${positionName} Position Over Capacity</strong>\n                <div class=\"small text-muted\">Current: ${currentCount} | Recommended: ${recommendedMax}</div>\n            </div>\n        `;\n\n        document.body.appendChild(toast);\n\n        // Auto-remove after 3 seconds - use CSS class for animation\n        setTimeout(() => {\n            toast.classList.add('toast-dismissing');\n            setTimeout(() => toast.remove(), 300);\n        }, 3000);\n    }\n\n    updatePositionCapacity(position, teamId) {\n        /**\n         * Update visual capacity indicators for a position\n         */\n        const slot = document.querySelector(`[data-position=\"${position}\"][data-team-id=\"${teamId}\"]`);\n        if (!slot) return;\n\n        const indicator = slot.querySelector('.capacity-indicator');\n        if (!indicator) return;\n\n        const currentCount = slot.querySelectorAll('.positioned-player').length;\n        const recommended = this.getRecommendedMax(position);\n\n        // Update current count display\n        const currentSpan = indicator.querySelector('.current');\n        if (currentSpan) {\n            currentSpan.textContent = currentCount;\n        }\n\n        // Update visual state\n        indicator.classList.remove('at-capacity', 'over-capacity');\n        slot.classList.remove('at-capacity', 'over-capacity');\n\n        if (currentCount === recommended) {\n            indicator.classList.add('at-capacity');\n            slot.classList.add('at-capacity');\n        } else if (currentCount > recommended) {\n            indicator.classList.add('over-capacity');\n            slot.classList.add('over-capacity');\n        }\n    }\n\n    movePlayerBetweenPositions(playerId, newPosition, teamId) {\n        // Find current position\n        const positions = ['gk', 'lb', 'cb', 'rb', 'lwb', 'rwb', 'cdm', 'cm', 'cam', 'lw', 'rw', 'st', 'bench'];\n        let currentPosition = null;\n        let playerData = null;\n\n        for (const pos of positions) {\n            const container = document.getElementById(`position-${pos}-${teamId}`);\n            const playerElement = container?.querySelector(`[data-player-id=\"${playerId}\"]`);\n            if (playerElement) {\n                currentPosition = pos;\n                playerData = {\n                    id: playerId,\n                    name: playerElement.getAttribute('data-player-name')\n                };\n                playerElement.remove();\n                break;\n            }\n        }\n\n        if (!playerData) {\n            this.showToast('Player not found', 'error');\n            return;\n        }\n\n        // Add to new position\n        this.addPlayerToPosition(playerData, newPosition, teamId, true);\n\n        this.showToast(`Moved ${playerData.name} to ${newPosition}`, 'success');\n    }\n\n    draftPlayerToPosition(playerId, position, teamId) {\n        // Get player data from available list\n        const playerItem = document.querySelector(`#availablePlayersList [data-player-id=\"${playerId}\"]`);\n        if (!playerItem) {\n            this.showToast('Player not found in available list', 'error');\n            return;\n        }\n\n        const playerName = playerItem.querySelector('.player-name').textContent;\n\n        // First, draft the player to the team via the regular draft system\n        if (this.socket && this.isConnected) {\n            this.showLoading();\n\n            this.socket.emit('draft_player_enhanced', {\n                player_id: parseInt(playerId),\n                team_id: parseInt(teamId),\n                league_name: this.leagueName,\n                position: position // Extra data for position\n            });\n        } else {\n            this.showToast('Not connected to server', 'error');\n        }\n    }\n\n    // Socket Event Handlers\n    handlePlayerDrafted(data) {\n        this.hideLoading();\n\n        // Add player to the specified position (default to bench if no position specified)\n        const position = data.position || 'bench';\n        this.addPlayerToPosition(data.player, position, data.team_id, false);\n\n        this.showToast(`${data.player.name} drafted to ${data.team_name}`, 'success');\n    }\n\n    handlePlayerRemoved(data) {\n        this.hideLoading();\n\n        // Remove from all positions in the team\n        this.removePlayerFromAllPositions(data.player.id, data.team_id);\n        this.updatePositionStats(data.team_id);\n        this.updateTeamCounts();\n\n        // Add player back to available list (real-time, no reload)\n        this.addPlayerToAvailableList(data.player);\n\n        this.showToast(`${data.player.name} removed from team`, 'info');\n    }\n\n    addPlayerToAvailableList(player) {\n        const availableList = document.getElementById('availablePlayersList');\n        if (!availableList) return;\n\n        // Check if player already exists in available list\n        if (availableList.querySelector(`[data-player-id=\"${player.id}\"]`)) {\n            return;\n        }\n\n        // Create player card HTML matching the template structure\n        const playerCard = document.createElement('div');\n        playerCard.className = 'pitch-player-card js-draggable-player';\n        playerCard.setAttribute('data-player-id', player.id);\n        playerCard.setAttribute('data-player-name', (player.name || '').toLowerCase());\n        playerCard.setAttribute('data-position', (player.favorite_position || player.position || '').toLowerCase());\n        playerCard.setAttribute('draggable', 'true');\n\n        const profileUrl = player.profile_picture_url || '/static/img/default_player.png';\n        const position = player.favorite_position || player.position || 'Any';\n        const goals = player.career_goals || 0;\n        const assists = player.career_assists || 0;\n\n        playerCard.innerHTML = `\n            <div class=\"pitch-player-card__avatar\">\n                <img src=\"${profileUrl}\"\n                     alt=\"${player.name}\" class=\"js-player-image\"\n                     data-fallback=\"/static/img/default_player.png\"\n                     onerror=\"this.src='/static/img/default_player.png'\">\n            </div>\n            <div class=\"pitch-player-card__content\">\n                <div class=\"pitch-player-card__header\">\n                    <span class=\"pitch-player-card__name\">${player.name}</span>\n                    <span class=\"pitch-player-card__position\">${position}</span>\n                </div>\n                <div class=\"pitch-player-card__stats\">\n                    <span class=\"pitch-player-card__stat pitch-player-card__stat--goals\" title=\"Goals\">\n                        <i class=\"ti ti-ball-football\"></i> ${goals}\n                    </span>\n                    <span class=\"pitch-player-card__stat pitch-player-card__stat--assists\" title=\"Assists\">\n                        <i class=\"ti ti-shoe\"></i> ${assists}\n                    </span>\n                </div>\n            </div>\n            <div class=\"pitch-player-card__drag-handle\">\n                <i class=\"ti ti-grip-vertical\"></i>\n            </div>\n        `;\n\n        // Add animation class for visual feedback\n        playerCard.classList.add('newly-added');\n\n        // Insert at beginning of list\n        availableList.insertBefore(playerCard, availableList.firstChild);\n\n        // Remove animation class after animation completes\n        setTimeout(() => {\n            playerCard.classList.remove('newly-added');\n        }, 500);\n\n        // Update count\n        this.updateAvailablePlayerCount();\n    }\n\n    handlePlayerPositionUpdated(data) {\n        // Handle position updates from other clients\n        this.addPlayerToPosition(data.player, data.position, data.team_id, false);\n    }\n\n    // Stats and UI Updates\n    updatePositionStats(teamId) {\n        // Position categories for the formation stats at bottom\n        const positionCategories = {\n            gk: ['gk'],\n            def: ['lb', 'cb', 'rb', 'lwb', 'rwb'],\n            mid: ['cdm', 'cm', 'cam'],\n            fwd: ['lw', 'rw', 'st'],\n            bench: ['bench']\n        };\n\n        // Update category counts (GK, DEF, MID, FWD, BENCH at bottom)\n        Object.entries(positionCategories).forEach(([category, positions]) => {\n            let totalCount = 0;\n            positions.forEach(pos => {\n                const container = document.getElementById(`position-${pos}-${teamId}`);\n                if (container) {\n                    totalCount += container.querySelectorAll('.positioned-player').length;\n                }\n            });\n\n            const countElement = document.getElementById(`${category}-count-${teamId}`);\n            if (countElement) {\n                countElement.textContent = totalCount;\n            }\n        });\n\n        // Update individual position zone counts (the (0) on each zone)\n        const allPositions = ['gk', 'lb', 'cb', 'rb', 'lwb', 'rwb', 'cdm', 'cm', 'cam', 'lw', 'rw', 'st', 'bench'];\n        allPositions.forEach(pos => {\n            const container = document.getElementById(`position-${pos}-${teamId}`);\n            if (container) {\n                const count = container.querySelectorAll('.positioned-player').length;\n                // Find the position-count span in the parent zone\n                const zone = container.closest('.position-zone');\n                if (zone) {\n                    const countSpan = zone.querySelector('.position-count');\n                    if (countSpan) {\n                        countSpan.textContent = `(${count})`;\n                    }\n                }\n            }\n        });\n    }\n\n    updateAllStats() {\n        this.teams.forEach(team => {\n            this.updatePositionStats(team.id);\n        });\n        this.updateTeamCounts();\n    }\n\n    updateTeamCounts() {\n        this.teams.forEach(team => {\n            const totalPlayers = this.getTotalPlayersInTeam(team.id);\n            const countElement = document.getElementById(`teamPitchCount${team.id}`);\n            if (countElement) {\n                countElement.textContent = totalPlayers;\n            }\n        });\n    }\n\n    getTotalPlayersInTeam(teamId) {\n        const positions = ['gk', 'lb', 'cb', 'rb', 'lwb', 'rwb', 'cdm', 'cm', 'cam', 'lw', 'rw', 'st', 'bench'];\n        return positions.reduce((total, position) => {\n            const container = document.getElementById(`position-${position}-${teamId}`);\n            return total + (container ? container.children.length : 0);\n        }, 0);\n    }\n\n    updateAvailablePlayerCount(count = null) {\n        if (count === null) {\n            const visiblePlayers = document.querySelectorAll('#availablePlayersList .player-item:not(.d-none)');\n            count = visiblePlayers.length;\n        }\n\n        const countElement = document.getElementById('availablePlayerCount');\n        if (countElement) {\n            countElement.textContent = count;\n        }\n    }\n\n    // UI Helpers\n    showLoading() {\n        const overlay = document.getElementById('loadingOverlay');\n        if (overlay) {\n            overlay.classList.remove('d-none');\n            overlay.classList.add('d-flex');\n        }\n    }\n\n    hideLoading() {\n        const overlay = document.getElementById('loadingOverlay');\n        if (overlay) {\n            overlay.classList.remove('d-flex');\n            overlay.classList.add('d-none');\n        }\n    }\n\n    showToast(message, type = 'info') {\n        if (window.Swal) {\n            const iconMap = {\n                'success': 'success',\n                'error': 'error',\n                'warning': 'warning',\n                'info': 'info'\n            };\n\n            Swal.fire({\n                title: message,\n                icon: iconMap[type] || 'info',\n                toast: true,\n                position: 'top-end',\n                showConfirmButton: false,\n                timer: 3000,\n                timerProgressBar: true\n            });\n        } else {\n            console.log(`${type.toUpperCase()}: ${message}`);\n        }\n    }\n}\n\n// Global instance\nlet pitchViewInstance = null;\n\n// Global initialization function\nfunction initializePitchView(leagueName, teams, draftedPlayersByTeam) {\n    pitchViewInstance = new PitchViewSystem(leagueName, teams, draftedPlayersByTeam);\n    return pitchViewInstance;\n}\n\n// Global functions for template compatibility\nfunction handlePlayerDragStart(event, playerId) {\n    if (pitchViewInstance) {\n        pitchViewInstance.handlePlayerDragStart(event, playerId);\n    }\n}\n\nfunction handlePlayerDragEnd(event) {\n    if (pitchViewInstance) {\n        pitchViewInstance.handlePlayerDragEnd(event);\n    }\n}\n\nfunction handlePositionDragOver(event) {\n    if (pitchViewInstance) {\n        pitchViewInstance.handlePositionDragOver(event);\n    }\n}\n\nfunction handlePositionDragLeave(event) {\n    if (pitchViewInstance) {\n        pitchViewInstance.handlePositionDragLeave(event);\n    }\n}\n\nfunction handlePositionDrop(event, position, teamId) {\n    if (pitchViewInstance) {\n        pitchViewInstance.handlePositionDrop(event, position, teamId);\n    }\n}\n\nfunction switchTeamView(teamId) {\n    // Switch to the team's tab\n    const tabButton = document.getElementById(`team-${teamId}-tab`);\n    if (tabButton) {\n        const tab = new bootstrap.Tab(tabButton);\n        tab.show();\n    }\n}\n\n// Export for module use\nif (typeof module !== 'undefined' && module.exports) {\n    module.exports = PitchViewSystem;\n}\n","/**\n * Application Initialization Registration\n * ========================================\n *\n * Central registration file for simple page components using InitSystem.\n * This file consolidates scattered DOMContentLoaded listeners into a single,\n * organized initialization system with proper dependency management and ordering.\n *\n * Priority Levels:\n * ----------------\n * - 100-90: Core systems (helpers, menu, responsive)\n * - 89-70:  Global components (theme, config, modals)\n * - 69-50:  Feature modules (forms, auth)\n * - 49-30:  Page-specific features\n * - 29-10:  Enhancements (UI fixes, animations)\n *\n * Phase 2.4 - Centralized Init System Completion\n * Batch 1: 7 components registered (waves-css-override removed - Waves.Effect not exposed)\n *\n * @version 1.0.2\n * @created 2025-12-16\n * @updated 2025-12-26 - Refactored to use EventDelegation for menu toggle\n *\n * Migration Summary:\n * -----------------\n *  page-loader.js (19 lines)  Priority 85\n *  admin-utilities-init.js (25 lines)  Priority 70\n *  waves-css-override.js - REMOVED (Waves.Effect is internal to node-waves, not exposed)\n *  design-system-fix.js (54 lines)  Priority 30\n *  design-system-override.js (49 lines)  Priority 30 (merged with design-system-fix)\n *  dropdown-menu-fix.js (20 lines)  Priority 30\n *  mobile-menu-fix.js (113 lines)  Priority 30\n *  waitlist-register.js (24 lines)  Priority 20\n *\n * Total: 7 active components\n *\n * Testing:\n * --------\n * In browser console:\n *   InitSystemDebug.printOrder()   - View initialization order\n *   InitSystemDebug.printStatus()  - View component status\n *   InitSystemDebug.getComponent('component-name') - Get component details\n *\n * HTMX Integration:\n * ----------------\n * Components marked as reinitializable can be re-initialized after AJAX loads:\n *   document.addEventListener('htmx:afterSwap', function(event) {\n *     InitSystem.reinit(['dropdown-menu-fix', 'admin-utilities'], event.target);\n *   });\n */\n\n(function(window, document) {\n    'use strict';\n\n    // Ensure InitSystem is loaded\n    if (typeof InitSystem === 'undefined') {\n        console.error('[App Init] InitSystem not loaded! Please include init-system.js before this file.');\n        return;\n    }\n\n    console.log('[App Init] Registering application components...');\n\n    // ============================================================================\n    // PRIORITY 85: PAGE LOADER\n    // ============================================================================\n    // Hide page loading animation after initial load\n    InitSystem.register('page-loader', function() {\n        // Hide loader after short delay to ensure smooth transition\n        setTimeout(function() {\n            const loader = document.getElementById('page-loader');\n            if (loader) {\n                loader.classList.add('hidden');\n                // Remove from DOM after fade animation completes\n                setTimeout(function() {\n                    if (loader.parentNode) {\n                        loader.parentNode.removeChild(loader);\n                    }\n                }, 500); // Match CSS transition duration\n            }\n        }, 800); // Minimum display time for UX\n    }, {\n        priority: 85,\n        description: 'Hide page loading animation',\n        reinitializable: false // Only runs once on initial page load\n    });\n\n    // ============================================================================\n    // PRIORITY 70: ADMIN UTILITIES\n    // ============================================================================\n    // Initialize admin utility helpers for progress bars and themed elements\n    InitSystem.register('admin-utilities', function(context) {\n        const root = context || document;\n\n        // Apply data-width to all progress bars\n        const progressBars = root.querySelectorAll('[data-width]');\n        progressBars.forEach(bar => {\n            const width = bar.dataset.width;\n            if (width) {\n                bar.style.width = width + '%';\n            }\n        });\n\n        // Apply data-theme-color to elements\n        const themedElements = root.querySelectorAll('[data-theme-color]');\n        themedElements.forEach(el => {\n            const color = el.dataset.themeColor;\n            if (color) {\n                el.style.backgroundColor = color;\n            }\n        });\n    }, {\n        priority: 70,\n        description: 'Initialize admin utility helpers (progress bars, theme colors)',\n        reinitializable: true // Can be re-initialized for AJAX-loaded content\n    });\n\n    // ============================================================================\n    // PRIORITY 30: UI FIXES AND ENHANCEMENTS\n    // ============================================================================\n\n    // ----------------------------------------------------------------------------\n    // Design System Fixes\n    // ----------------------------------------------------------------------------\n    // Fixes issues with design-system.js by safely overriding problematic methods\n    InitSystem.register('design-system-fixes', function() {\n        // Check if ECSDesignSystem exists\n        if (!window.ECSDesignSystem) {\n            return; // Design system not loaded, nothing to fix\n        }\n\n        // Store reference to original setupCustomBehaviors method\n        const originalSetupCustomBehaviors = ECSDesignSystem.setupCustomBehaviors;\n\n        // Replace with our safe version that handles errors gracefully\n        ECSDesignSystem.setupCustomBehaviors = function() {\n            try {\n                // Try to run the original implementation first\n                if (typeof originalSetupCustomBehaviors === 'function') {\n                    originalSetupCustomBehaviors.call(ECSDesignSystem);\n                }\n            } catch (e) {\n                // Original failed, use safe fallback implementation\n                console.warn('[Design System Fix] Original setupCustomBehaviors failed, using safe version', e);\n\n                // Safe implementation - call methods individually with error handling\n                try {\n                    if (typeof this.addRippleEffect === 'function') {\n                        this.addRippleEffect();\n                    }\n                } catch (e2) {\n                    console.warn('[Design System Fix] Error in addRippleEffect', e2);\n                }\n\n                try {\n                    if (typeof this.improveKeyboardNavigation === 'function') {\n                        this.improveKeyboardNavigation();\n                    }\n                } catch (e2) {\n                    console.warn('[Design System Fix] Error in improveKeyboardNavigation', e2);\n                }\n\n                try {\n                    if (typeof this.setupTransitions === 'function') {\n                        this.setupTransitions();\n                    }\n                } catch (e2) {\n                    console.warn('[Design System Fix] Error in setupTransitions', e2);\n                }\n            }\n        };\n\n        // Call the setup method after a delay to ensure DOM is ready\n        setTimeout(function() {\n            try {\n                ECSDesignSystem.setupCustomBehaviors();\n            } catch (e) {\n                console.error('[Design System Fix] Error in setupCustomBehaviors:', e);\n            }\n        }, 500);\n    }, {\n        priority: 30,\n        description: 'Apply design system CSS fixes and safe method overrides',\n        reinitializable: false // Only needs to run once\n    });\n\n    // ----------------------------------------------------------------------------\n    // Waves CSS Override - REMOVED\n    // ----------------------------------------------------------------------------\n    // Note: Waves.Effect is an internal API not exposed by node-waves.\n    // Ripple effects work via CSS classes applied by Waves.init() which is\n    // called in vendor/libs/node-waves/node-waves.js and assets/js/main.js.\n    // No override needed - just let the library work as designed.\n\n    // ----------------------------------------------------------------------------\n    // Dropdown Menu Fix\n    // ----------------------------------------------------------------------------\n    // Fixes dropdown menus being hidden behind tables\n    InitSystem.register('dropdown-menu-fix', function(context) {\n        const root = context || document;\n\n        // Add necessary class to tables to fix z-index issues\n        const userManagementTables = root.querySelectorAll('.table');\n        userManagementTables.forEach(table => {\n            table.classList.add('user-management-table');\n        });\n\n        // Add class to RSVP status page for specific fixes\n        if (window.location.href.includes('rsvp_status')) {\n            document.body.classList.add('rsvp-status-page');\n        }\n    }, {\n        priority: 30,\n        description: 'Fix dropdown menu positioning and z-index issues',\n        reinitializable: true // Can be re-initialized for AJAX-loaded tables\n    });\n\n    // ----------------------------------------------------------------------------\n    // Mobile Menu Fix\n    // ----------------------------------------------------------------------------\n    // Ensures sidebar menu works properly on mobile devices (especially iOS Safari)\n    InitSystem.register('mobile-menu-fix', function() {\n        // References to key elements\n        const layoutMenu = document.getElementById('layout-menu');\n        const closeIcon = document.getElementById('close-icon');\n        let layoutOverlay = document.querySelector('.layout-overlay');\n\n        // Create layout overlay if it doesn't exist\n        if (!layoutOverlay) {\n            const overlayDiv = document.createElement('div');\n            overlayDiv.className = 'layout-overlay';\n            document.body.appendChild(overlayDiv);\n            layoutOverlay = overlayDiv;\n        }\n\n        // Function to open menu\n        function openMenu() {\n            document.documentElement.classList.add('layout-menu-expanded');\n            document.body.classList.add('layout-menu-expanded');\n            if (layoutMenu) {\n                layoutMenu.classList.add('menu-open');\n            }\n            if (closeIcon) {\n                closeIcon.classList.remove('d-none');\n            }\n        }\n\n        // Function to close menu\n        function closeMenu() {\n            document.documentElement.classList.remove('layout-menu-expanded');\n            document.body.classList.remove('layout-menu-expanded');\n            if (layoutMenu) {\n                layoutMenu.classList.remove('menu-open');\n            }\n            if (closeIcon) {\n                closeIcon.classList.add('d-none');\n            }\n        }\n\n        // Toggle menu function\n        function toggleMenu() {\n            if (document.documentElement.classList.contains('layout-menu-expanded')) {\n                closeMenu();\n            } else {\n                openMenu();\n            }\n        }\n\n        // Register event delegation handler for menu toggle\n        if (typeof EventDelegation !== 'undefined') {\n            EventDelegation.register('toggle-mobile-menu', function(element, e) {\n                e.preventDefault();\n                toggleMenu();\n            }, { preventDefault: true });\n        }\n\n        // Register event delegation handler for close icon\n        if (typeof EventDelegation !== 'undefined') {\n            EventDelegation.register('close-mobile-menu', function(element, e) {\n                e.preventDefault();\n                closeMenu();\n            }, { preventDefault: true });\n        }\n\n        // Close when clicking the overlay (keep this as non-action click)\n        document.addEventListener('click', function(e) {\n            if (e.target.classList.contains('layout-overlay') &&\n                document.documentElement.classList.contains('layout-menu-expanded')) {\n                closeMenu();\n            }\n        });\n\n        // Fix for any inert attributes on menu items\n        const menuItems = document.querySelectorAll('.menu-item a');\n        menuItems.forEach(item => {\n            item.removeAttribute('inert');\n            item.classList.add('pointer-events-auto');\n        });\n\n        // Remove problematic attributes from the menu\n        if (layoutMenu) {\n            layoutMenu.removeAttribute('inert');\n            layoutMenu.classList.add('pointer-events-auto', 'user-select-auto', 'touch-action-auto');\n        }\n\n        // iOS specific fixes\n        const isIOS = /iPad|iPhone|iPod/.test(navigator.userAgent) ||\n                     (navigator.platform === 'MacIntel' && navigator.maxTouchPoints > 1);\n\n        if (isIOS) {\n            // Extra iOS fixes\n            document.documentElement.classList.add('ios-device');\n\n            // Fix scrolling in menu for iOS\n            if (layoutMenu) {\n                layoutMenu.classList.add('ios-overflow-scrolling');\n            }\n\n            // Additional handling for iOS gesture conflicts\n            const menuLinks = document.querySelectorAll('.menu-link, .menu-toggle');\n            menuLinks.forEach(link => {\n                link.addEventListener('touchstart', function(e) {\n                    // Ensure links are touchable\n                    e.stopPropagation();\n                }, { passive: true });\n            });\n        }\n    }, {\n        priority: 30,\n        description: 'Enhance mobile menu interactions and iOS compatibility',\n        reinitializable: false // Only needs to run once\n    });\n\n    // ============================================================================\n    // PRIORITY 20: WAITLIST REGISTRATION FOCUS\n    // ============================================================================\n    // Auto-focus on Discord registration button and show membership prompts\n    InitSystem.register('waitlist-register-focus', function() {\n        // Page guard - only run on waitlist registration page\n        const discordBtn = document.querySelector('a[href*=\"waitlist_discord_register\"]');\n        if (!discordBtn) {\n            return; // Not on waitlist registration page\n        }\n\n        // Auto-focus on Discord registration button\n        discordBtn.focus();\n\n        // Initialize Discord membership checker for registration page\n        // Show a more gentle prompt since they're already on the waitlist registration page\n        // Only show if user is not already in Discord (check via DiscordMembershipChecker)\n        if (typeof DiscordMembershipChecker !== 'undefined') {\n            // Check if user is already in Discord before showing prompt\n            const membershipStatus = window.discordMembershipStatus;\n            if (membershipStatus === true || membershipStatus === 'true') {\n                console.log('[waitlist-register-focus] User already in Discord, skipping prompt');\n                return;\n            }\n\n            setTimeout(() => {\n                DiscordMembershipChecker.showJoinPrompt({\n                    title: ' Pro Tip: Join Discord First!',\n                    urgency: 'info',\n                    showUrgentPopup: true\n                });\n            }, 2000); // Show after 2 seconds\n        }\n    }, {\n        priority: 20,\n        description: 'Auto-focus Discord registration button and show membership prompts',\n        reinitializable: false // Only runs on waitlist registration page\n    });\n\n    // ============================================================================\n    // REGISTRATION COMPLETE\n    // ============================================================================\n    console.log('[App Init]  7 components registered successfully');\n    console.log('[App Init] Run InitSystemDebug.printOrder() to view initialization order');\n\n})(window, document);\n","// report_match.js - Consolidated match reporting functionality\n\n/**\n * INLINE STYLE REFACTORING - DOCUMENTATION\n * =========================================\n * Refactored: 2025-12-15\n *\n * BEFORE: 3 inline style instances (template strings)\n * AFTER: 0 inline style instances\n * REDUCTION: 100% (3/3 removed)\n *\n * REMOVED INLINE STYLES:\n * 1. Line 1444: style=\"min-width: 200px\" on .select-own-goal-team\n *     Replaced with CSS class: .select-own-goal-team\n *     Defined in: /app/static/css/utilities/match-report-utils.css\n *\n * 2. Line 1448: style=\"max-width: 80px\" on .input-minute-compact\n *     Replaced with CSS class: .input-minute-compact\n *     Defined in: /app/static/css/utilities/match-report-utils.css\n *\n * 3. Line 877: modal.style.display = 'block'\n *     REPLACED with Bootstrap utility class: .d-block\n *     JUSTIFICATION: Manual modal fallback mechanism for when Bootstrap/jQuery unavailable\n *     CONTEXT: Used as last-resort fallback with classList operations\n *     IMPROVEMENT: More semantic, maintains consistency with project patterns\n *\n * PATTERN NOTES:\n * - All inline styles in HTML template strings replaced with CSS classes\n * - All JavaScript .style.* manipulations replaced with classList operations\n * - Maintains responsive behavior via media queries\n * - Preserves dark mode compatibility\n * - Uses Bootstrap utilities when available for consistency\n *\n * CSS UTILITIES CREATED:\n * - .select-own-goal-team: min-width: 200px (150px on mobile)\n * - .input-minute-compact: max-width: 80px (70px on mobile)\n *\n * BOOTSTRAP UTILITIES USED:\n * - .d-block: display: block (fallback modal display)\n */\n\n/**\n * MODAL CREATION STRATEGY - IMPORTANT DOCUMENTATION\n * =================================================\n *\n * Match report modals can be created via TWO mechanisms:\n *\n * 1. SERVER-SIDE RENDERING (Primary):\n *    - File: /app/templates/macros.html\n *    - Macro: render_report_match_modal(match, player_choices)\n *    - Used by: coach_dashboard.html, playoff_bracket_view.html, match_modals.html\n *    - Benefits: Faster initial page load, SEO-friendly, no flash of unstyled content\n *\n * 2. JAVASCRIPT DYNAMIC CREATION (Fallback):\n *    - Function: createDynamicModal(matchId, data) in this file (lines ~456-623)\n *    - Used when: Modal not found in DOM, AJAX modal loading required\n *    - Benefits: Enables single-page-app behavior, reduces initial HTML payload\n *\n * CRITICAL: Changes to modal structure MUST be made in BOTH locations:\n *    1. /app/templates/macros.html (render_report_match_modal macro)\n *    2. /app/static/custom_js/report_match.js (createDynamicModal function)\n *\n * Recent Changes (2025-12-10):\n *    - Button text standardized to \"Submit\" (was \"Submit Report\" / \"Save Changes\")\n *    - Footer buttons always visible (flexbox sticky footer)\n *    - Modal body is only scrollable area (header/footer stay fixed)\n *    - Z-index fixed to 9999 (was causing navbar overlap at 1050)\n *\n * Future Optimization:\n *    - Consider extracting modal HTML to separate template file\n *    - Use JavaScript template literals to import from single source\n *    - This would eliminate duplication and ensure consistency\n */\n\n// This ensures that all AJAX requests include the CSRF token\n$(document).ready(function () {\n    // Set up CSRF token for all AJAX requests\n    var csrftoken = $('input[name=\"csrf_token\"]').val();\n\n    $.ajaxSetup({\n        beforeSend: function (xhr, settings) {\n            if (!/^(GET|HEAD|OPTIONS|TRACE)$/i.test(settings.type) && !this.crossDomain) {\n                xhr.setRequestHeader(\"X-CSRFToken\", csrftoken);\n            }\n        }\n    });\n\n    // Initialize playerChoices if not defined\n    if (typeof window.playerChoices === 'undefined') {\n        window.playerChoices = {};\n    }\n    \n    // Setup edit match buttons when available\n    setupEditMatchButtons();\n});\n\n// Ensure the playerChoices object is available globally\nwindow.playerChoices = window.playerChoices || {};\n\n// Function to create player options grouped by team\nfunction createPlayerOptions(matchId) {\n    let options = '<option value=\"\" selected>Select a player</option>';\n    if (playerChoices[matchId]) {\n        for (const teamName in playerChoices[matchId]) {\n            options += `<optgroup label=\"${teamName}\">`;\n            for (const playerId in playerChoices[matchId][teamName]) {\n                options += `<option value=\"${playerId}\">${playerChoices[matchId][teamName][playerId]}</option>`;\n            }\n            options += `</optgroup>`;\n        }\n    }\n    return options;\n}\n\nfunction createTeamOptions(matchId) {\n    let options = '<option value=\"\" selected>Select a team</option>';\n    \n    // Try to get team info from stored match data\n    if (window.currentMatchData && window.currentMatchData.matchId == matchId) {\n        const homeTeamId = window.currentMatchData.home_team ? window.currentMatchData.home_team.id : null;\n        const awayTeamId = window.currentMatchData.away_team ? window.currentMatchData.away_team.id : null;\n        const homeTeamName = window.currentMatchData.home_team_name || 'Home Team';\n        const awayTeamName = window.currentMatchData.away_team_name || 'Away Team';\n        \n        if (homeTeamId) options += `<option value=\"${homeTeamId}\">${homeTeamName}</option>`;\n        if (awayTeamId) options += `<option value=\"${awayTeamId}\">${awayTeamName}</option>`;\n    } else {\n        // Fallback to window variables\n        const homeTeamName = window['homeTeamName_' + matchId] || 'Home Team';\n        const awayTeamName = window['awayTeamName_' + matchId] || 'Away Team';\n        const homeTeamId = window['homeTeamId_' + matchId];\n        const awayTeamId = window['awayTeamId_' + matchId];\n        \n        if (homeTeamId) options += `<option value=\"${homeTeamId}\">${homeTeamName}</option>`;\n        if (awayTeamId) options += `<option value=\"${awayTeamId}\">${awayTeamName}</option>`;\n    }\n    \n    return options;\n}\n\n// Function to get the container ID based on event type\nfunction getContainerId(eventType, matchId) {\n    let containerId;\n    if (eventType === 'goal_scorers') {\n        containerId = 'goalScorersContainer-' + matchId;\n    } else if (eventType === 'assist_providers') {\n        containerId = 'assistProvidersContainer-' + matchId;\n    } else if (eventType === 'yellow_cards') {\n        containerId = 'yellowCardsContainer-' + matchId;\n    } else if (eventType === 'red_cards') {\n        containerId = 'redCardsContainer-' + matchId;\n    } else if (eventType === 'own_goals') {\n        containerId = 'ownGoalsContainer-' + matchId;\n    }\n    return containerId;\n}\n\n// Function to collect stat IDs that have been marked for removal\nfunction collectRemovedStatIds(matchId, eventType) {\n    let containerId = getContainerId(eventType, matchId);\n    let baseName = containerId.split('Container-')[0];\n    let removedIds = [];\n    \n    // Map container base names to form field names\n    let formBaseName = baseName;\n    if (baseName === 'yellowCards') {\n        formBaseName = 'yellow_cards';\n    } else if (baseName === 'redCards') {\n        formBaseName = 'red_cards';\n    } else if (baseName === 'goalScorers') {\n        formBaseName = 'goalScorers';\n    } else if (baseName === 'assistProviders') {\n        formBaseName = 'assistProviders';\n    }\n\n    $(`#${containerId}`).find('.player-event-entry.to-be-removed').each(function () {\n        const statId = $(this).find(`input[name=\"${formBaseName}-stat_id[]\"]`).val();\n        if (statId && statId.trim() !== '') {\n            removedIds.push(statId);\n        }\n    });\n\n    return removedIds;\n}\n\n// Function to add a new event entry\nwindow.addEvent = function(matchId, containerId, statId = null, playerId = null, minute = null) {\n    var containerSelector = '#' + containerId;\n\n    // Generate a unique ID for the event if not provided\n    var uniqueId = statId ? String(statId) : 'new-' + Date.now() + '-' + Math.random();\n\n    // Get the base name for input fields\n    var baseName = containerId.split('Container-')[0];\n\n    // Determine visual indicator and styling based on event type\n    var eventIndicator = '';\n    var inputGroupClass = 'input-group mb-2 player-event-entry';\n    var formBaseName = baseName;\n\n    if (baseName === 'yellowCards') {\n        eventIndicator = '<span class=\"input-group-text card-indicator-yellow\"></span>';\n        inputGroupClass = 'input-group player-event-entry-compact player-event-entry';\n        formBaseName = 'yellow_cards';\n    } else if (baseName === 'redCards') {\n        eventIndicator = '<span class=\"input-group-text card-indicator-red\"></span>';\n        inputGroupClass = 'input-group player-event-entry-compact player-event-entry';\n        formBaseName = 'red_cards';\n    } else if (baseName === 'ownGoals') {\n        formBaseName = 'own_goals';\n    }\n\n    // Define the new input group with appropriate naming conventions and data attributes\n    var newInputGroup;\n    \n    if (baseName === 'ownGoals') {\n        // Special handling for own goals - use team selector instead of player selector\n        newInputGroup = `\n            <div class=\"${inputGroupClass}\" data-unique-id=\"${uniqueId}\">\n                ${eventIndicator}\n                <input type=\"hidden\" name=\"${formBaseName}-stat_id[]\" value=\"${statId ? statId : ''}\">\n                <select class=\"form-select select-player\" name=\"${formBaseName}-team_id[]\">\n                    ${createTeamOptions(matchId)}\n                </select>\n                <input type=\"text\" class=\"form-control input-minute\" name=\"${formBaseName}-minute[]\"\n                       placeholder=\"Min\"\n                       value=\"${minute ? minute : ''}\"\n                       pattern=\"^\\\\d{1,3}(\\\\+\\\\d{1,2})?$\"\n                       title=\"Enter a valid minute (e.g., '45' or '45+2')\">\n                <button class=\"btn btn-danger btn-sm\" type=\"button\" data-action=\"remove-event\"></button>\n            </div>\n        `;\n    } else {\n        // Standard event (goals, assists, cards)\n        newInputGroup = `\n            <div class=\"${inputGroupClass}\" data-unique-id=\"${uniqueId}\">\n                ${eventIndicator}\n                <input type=\"hidden\" name=\"${formBaseName}-stat_id[]\" value=\"${statId ? statId : ''}\">\n                <select class=\"form-select select-player\" name=\"${formBaseName}-player_id[]\">\n                    ${createPlayerOptions(matchId)}\n                </select>\n                <input type=\"text\" class=\"form-control input-minute\" name=\"${formBaseName}-minute[]\"\n                       placeholder=\"Min\"\n                       value=\"${minute ? minute : ''}\"\n                       pattern=\"^\\\\d{1,3}(\\\\+\\\\d{1,2})?$\"\n                       title=\"Enter a valid minute (e.g., '45' or '45+2')\">\n                <button class=\"btn btn-danger btn-sm\" type=\"button\" data-action=\"remove-event\"></button>\n            </div>\n        `;\n    }\n\n    // Append the new input group to the container\n    $(containerSelector).append(newInputGroup);\n\n    // Set the selected player if provided\n    if (playerId) {\n        const lastAddedEntry = $(containerSelector).children().last();\n        lastAddedEntry.find(`select[name=\"${formBaseName}-player_id[]\"]`).val(playerId);\n    }\n\n    // Re-initialize Feather icons if necessary\n    if (typeof feather !== 'undefined' && feather) {\n        if (typeof feather !== 'undefined') {\n            feather.replace();\n        }\n    }\n};\n\n// Function to remove an event entry\nwindow.removeEvent = function(button) {\n    // Handle cases where button might be undefined or null\n    if (!button) {\n        // removeEvent called with null or undefined button\n        return;\n    }\n\n    // Try multiple methods to find the parent element\n    let eventEntry = null;\n    let jQueryEntry = null;\n    \n    try {\n        // Method 1: DOM API with instanceof check\n        if (button instanceof Element) {\n            eventEntry = button.closest('.player-event-entry') || \n                         button.closest('.input-group');\n            \n            // If found, wrap in jQuery\n            if (eventEntry) {\n                jQueryEntry = $(eventEntry);\n            }\n        }\n        \n        // Method 2: Try jQuery if element wasn't found or button is jQuery object\n        if (!eventEntry || !jQueryEntry) {\n            // Convert to jQuery if not already\n            const $button = (button instanceof Element) ? $(button) : $(button);\n            jQueryEntry = $button.closest('.player-event-entry');\n            \n            // If still not found, try alternates\n            if (!jQueryEntry.length) {\n                jQueryEntry = $button.closest('.input-group');\n            }\n            \n            // If still not found, try extended selectors\n            if (!jQueryEntry.length) {\n                // Look up through ancestors for anything containing stat_id[] input\n                jQueryEntry = $button.parents().has('input[name$=\"-stat_id[]\"]').first();\n            }\n            \n            // Set DOM element reference if found with jQuery\n            if (jQueryEntry && jQueryEntry.length) {\n                eventEntry = jQueryEntry[0];\n            }\n        }\n        \n        // Last resort fallback - go up 3 parent levels\n        if ((!eventEntry || !jQueryEntry || !jQueryEntry.length) && button.parentNode) {\n            let parent = button.parentNode;\n            for (let i = 0; i < 3; i++) {\n                if (parent && (parent.classList.contains('player-event-entry') || \n                               parent.classList.contains('input-group'))) {\n                    eventEntry = parent;\n                    jQueryEntry = $(parent);\n                    break;\n                }\n                if (parent.parentNode) {\n                    parent = parent.parentNode;\n                } else {\n                    break;\n                }\n            }\n        }\n    } catch (e) {\n        // Error finding parent element\n    }\n\n    // If still not found, tell user and exit\n    if (!eventEntry || !jQueryEntry || !jQueryEntry.length) {\n        // Could not find identifiable element for removal\n        return; // Exit silently without showing error to user\n    }\n\n    // Get the unique ID from the data attribute\n    let uniqueId, statId;\n    try {\n        uniqueId = jQueryEntry.data('unique-id');\n        statId = jQueryEntry.find('input[name$=\"-stat_id[]\"]').val();\n    } catch (e) {\n        // Error getting data attributes\n    }\n\n    // Removing event\n\n    // Simple confirmation for mobile device (prevent accidental taps)\n    if (window.innerWidth < 768) {\n        // Mark as removed but keep in DOM until save (simplified for mobile)\n        jQueryEntry.addClass('to-be-removed');\n        jQueryEntry.hide();\n        \n        // Show a simple toast or notification if available\n        if (typeof Swal !== 'undefined') {\n            Swal.fire({\n                title: 'Removed',\n                icon: 'success',\n                toast: true,\n                position: 'top-end',\n                showConfirmButton: false,\n                timer: 1500\n            });\n        }\n    } else {\n        // Full confirmation dialog for desktop\n        Swal.fire({\n            title: 'Remove Event?',\n            text: \"Do you want to remove this event?\",\n            icon: 'question',\n            showCancelButton: true,\n            confirmButtonColor: (typeof ECSTheme !== 'undefined') ? ECSTheme.getColor('primary') : '#0d6efd',\n            cancelButtonColor: (typeof ECSTheme !== 'undefined') ? ECSTheme.getColor('danger') : '#dc3545',\n            confirmButtonText: 'Yes, remove it'\n        }).then((result) => {\n            if (result.isConfirmed) {\n                // Mark as removed but keep in DOM until save\n                jQueryEntry.addClass('to-be-removed');\n                jQueryEntry.hide();\n    \n                // Show a brief message\n                Swal.fire({\n                    title: 'Removed',\n                    text: 'Save your changes to apply',\n                    icon: 'success',\n                    timer: 1500,\n                    showConfirmButton: false\n                });\n            }\n        });\n    }\n};\n\n// Define initialEvents as an object to store initial events per matchId\nwindow.initialEvents = window.initialEvents || {};\n\n// Function to set up edit match buttons\nfunction setupEditMatchButtons() {\n    // Select all edit match buttons on the page\n    const editButtons = document.querySelectorAll('.edit-match-btn');\n\n    if (editButtons.length > 0) {\n        // Ensure buttons have data-action attribute for event delegation\n        editButtons.forEach(function(button) {\n            // Get the match ID\n            const matchId = button.getAttribute('data-match-id');\n            if (!matchId) {\n                // Edit button missing match ID\n                return;\n            }\n\n            // Add data-action attribute if not present\n            if (!button.hasAttribute('data-action')) {\n                button.setAttribute('data-action', 'edit-match-report');\n            }\n\n            // Ensure data-match-id is set (should already be there)\n            button.setAttribute('data-match-id', matchId);\n        });\n    }\n\n    // Event delegation will automatically handle clicks on these buttons\n    // No need to add individual event listeners\n}\n\n// Function to handle edit button clicks\nfunction handleEditButtonClick(matchId) {\n    // Edit button clicked for match\n    \n    // Show loading spinner\n    Swal.fire({\n        title: 'Loading...',\n        text: 'Fetching match data',\n        allowOutsideClick: false,\n        didOpen: () => {\n            Swal.showLoading();\n        }\n    });\n    \n    // Request match data \n    $.ajax({\n        url: `/teams/report_match/${matchId}`,\n        type: 'GET',\n        headers: {\n            'Accept': 'application/json'\n        },\n        timeout: 15000, // 15 second timeout\n        success: function(data) {\n            // Match data received\n            \n            // Store match data globally for access by other functions\n            window.currentMatchData = data;\n            window.currentMatchData.matchId = matchId;\n            \n            Swal.close();\n            \n            // Set up and display the modal\n            setupAndShowModal(matchId, data);\n        },\n        error: function(xhr, status, error) {\n            // Error fetching match data\n            \n            Swal.fire({\n                icon: 'error',\n                title: 'Error',\n                text: 'Failed to load match data. Please try again later.'\n            });\n        }\n    });\n}\n\n// Helper function to set up and show the modal\nfunction setupAndShowModal(matchId, data) {\n    // Find the modal\n    const modalId = `reportMatchModal-${matchId}`;\n    const modal = document.getElementById(modalId);\n    \n    // Debug logging for comparison\n    setTimeout(() => {\n        if (typeof debugModalStructure === 'function') {\n            debugModalStructure(modalId);\n        }\n    }, 200);\n    \n    if (!modal) {\n        // Modal not found, generating one dynamically\n        \n        // First try to load all modals\n        $.ajax({\n            url: '/modals/render_modals',\n            method: 'GET',\n            success: function(modalContent) {\n                // Append to the container if it exists, otherwise to body\n                const container = document.getElementById('reportMatchModal-container') || document.body;\n                $(container).append(modalContent);\n                // Modals loaded dynamically\n                \n                // Now try to find the modal again\n                const modalRecheck = document.getElementById(modalId);\n                if (modalRecheck) {\n                    populateModal(modalRecheck, data);\n                } else {\n                    // Still not found - create a new one just for this match\n                    createDynamicModal(matchId, data);\n                }\n            },\n            error: function() {\n                // Create a dynamic modal for just this match if loading all fails\n                createDynamicModal(matchId, data);\n            }\n        });\n    } else {\n        populateModal(modal, data);\n    }\n}\n\n// Function to create a dynamic modal for a specific match when needed\nfunction createDynamicModal(matchId, data) {\n    // Creating a dynamic modal for match\n    \n    // Create the container if it doesn't exist\n    let container = document.getElementById('reportMatchModal-container');\n    if (!container) {\n        container = document.createElement('div');\n        container.id = 'reportMatchModal-container';\n        container.className = 'modal-container';\n        document.body.appendChild(container);\n    }\n    \n    // Create a basic modal structure\n    const modalHtml = `\n    <div class=\"modal fade ecs-modal\" \n         id=\"reportMatchModal-${matchId}\" \n         tabindex=\"-1\" \n         role=\"dialog\"\n         aria-labelledby=\"reportMatchModalLabel-${matchId}\" \n         aria-hidden=\"true\"\n         data-bs-backdrop=\"static\">\n        <div class=\"modal-dialog modal-lg modal-dialog-centered ecs-modal-dialog ecs-modal-lg ecs-modal-dialog-centered\" role=\"document\">\n            <div class=\"modal-content ecs-modal-content\">\n                <!-- Modal Header -->\n                <div class=\"modal-header bg-primary text-white ecs-modal-header\">\n                    <h5 class=\"modal-title ecs-modal-title\" id=\"reportMatchModalLabel-${matchId}\">\n                        <i data-feather=\"edit\" class=\"me-2\"></i>\n                        ${'Edit' ? data.reported : 'Report'} Match: \n                        <span class=\"home-team-name\">${data.home_team_name || 'Home Team'}</span>\n                        vs\n                        <span class=\"away-team-name\">${data.away_team_name || 'Away Team'}</span>\n                    </h5>\n                    <button type=\"button\" \n                            class=\"btn-close btn-close-white ecs-modal-close\" \n                            data-bs-dismiss=\"modal\" \n                            aria-label=\"Close\"></button>\n                </div>\n\n                <!-- Modal Body -->\n                <form id=\"reportMatchForm-${matchId}\" class=\"report-match-form\" data-match-id=\"${matchId}\" action=\"/teams/report_match/${matchId}\" method=\"POST\" novalidate>\n                    <div class=\"modal-body ecs-modal-body\">\n                        <!-- CSRF Token -->\n                        <input type=\"hidden\" name=\"csrf_token\" value=\"${$('input[name=\"csrf_token\"]').val()}\">\n\n                        <!-- Home and Away Team Scores -->\n                        <div class=\"row mb-4\">\n                            <!-- Home Team Score -->\n                            <div class=\"col-md-6\">\n                                <div class=\"mb-3\">\n                                    <label for=\"home_team_score-${matchId}\" class=\"form-label\">${data.home_team_name || 'Home Team'} Score</label>\n                                    <input type=\"number\"\n                                           min=\"0\"\n                                           class=\"form-control\"\n                                           id=\"home_team_score-${matchId}\"\n                                           name=\"home_team_score\"\n                                           value=\"${data.home_team_score || 0}\"\n                                           required />\n                                </div>\n                            </div>\n                            <!-- Away Team Score -->\n                            <div class=\"col-md-6\">\n                                <div class=\"mb-3\">\n                                    <label for=\"away_team_score-${matchId}\" class=\"form-label\">${data.away_team_name || 'Away Team'} Score</label>\n                                    <input type=\"number\"\n                                           min=\"0\"\n                                           class=\"form-control\"\n                                           id=\"away_team_score-${matchId}\"\n                                           name=\"away_team_score\"\n                                           value=\"${data.away_team_score || 0}\"\n                                           required />\n                                </div>\n                            </div>\n                        </div>\n\n                        <!-- Goal Scorers -->\n                        <div class=\"mb-4\">\n                            <label class=\"form-label\">Goal Scorers</label>\n                            <div class=\"card p-3 border-1 shadow-sm\" data-section=\"goals\">\n                                <div id=\"goalScorersContainer-${matchId}\" class=\"mb-2\">\n                                    <!-- Goal scorers will be added here dynamically -->\n                                </div>\n                                <button class=\"btn btn-primary btn-sm\" type=\"button\" data-action=\"add-goal\" data-match-id=\"${matchId}\">\n                                    <i data-feather=\"plus\" class=\"me-1\"></i> Add Goal Scorer\n                                </button>\n                            </div>\n                        </div>\n\n                        <!-- Assist Providers -->\n                        <div class=\"mb-4\">\n                            <label class=\"form-label\">Assist Providers</label>\n                            <div class=\"card p-3 border-1 shadow-sm\" data-section=\"assists\">\n                                <div id=\"assistProvidersContainer-${matchId}\" class=\"mb-2\">\n                                    <!-- Assist providers will be added here dynamically -->\n                                </div>\n                                <button class=\"btn btn-primary btn-sm\" type=\"button\" data-action=\"add-assist\" data-match-id=\"${matchId}\">\n                                    <i data-feather=\"plus\" class=\"me-1\"></i> Add Assist Provider\n                                </button>\n                            </div>\n                        </div>\n\n                        <!-- Yellow Cards -->\n                        <div class=\"mb-4\">\n                            <label class=\"form-label\">Yellow Cards</label>\n                            <div class=\"card p-3 border-1 shadow-sm\" data-section=\"yellow-cards\">\n                                <div id=\"yellowCardsContainer-${matchId}\" class=\"mb-2\">\n                                    <!-- Yellow cards will be added here dynamically -->\n                                </div>\n                                <button class=\"btn btn-primary btn-sm\" type=\"button\" data-action=\"add-yellow-card\" data-match-id=\"${matchId}\">\n                                    <i data-feather=\"plus\" class=\"me-1\"></i> Add Yellow Card\n                                </button>\n                            </div>\n                        </div>\n\n                        <!-- Red Cards -->\n                        <div class=\"mb-4\">\n                            <label class=\"form-label\">Red Cards</label>\n                            <div class=\"card p-3 border-1 shadow-sm\" data-section=\"red-cards\">\n                                <div id=\"redCardsContainer-${matchId}\" class=\"mb-2\">\n                                    <!-- Red cards will be added here dynamically -->\n                                </div>\n                                <button class=\"btn btn-primary btn-sm\" type=\"button\" data-action=\"add-red-card\" data-match-id=\"${matchId}\">\n                                    <i data-feather=\"plus\" class=\"me-1\"></i> Add Red Card\n                                </button>\n                            </div>\n                        </div>\n\n                        <!-- Match Notes -->\n                        <div class=\"mb-4\">\n                            <label class=\"form-label\" for=\"match_notes-${matchId}\">Match Notes</label>\n                            <textarea class=\"form-control\" id=\"match_notes-${matchId}\" name=\"match_notes\" rows=\"3\">${data.notes || ''}</textarea>\n                        </div>\n                    </div>\n\n                    <!-- Modal Footer -->\n                    <div class=\"modal-footer ecs-modal-footer\">\n                        <button type=\"button\" class=\"btn btn-secondary\" data-bs-dismiss=\"modal\">Close</button>\n                        <button type=\"submit\" class=\"btn btn-primary\" id=\"submitBtn-${matchId}\">\n                            Submit\n                        </button>\n                    </div>\n                </form>\n            </div>\n        </div>\n    </div>`;\n    \n    // Add the modal to the container\n    container.insertAdjacentHTML('beforeend', modalHtml);\n    \n    // Now process the modal\n    const modal = document.getElementById(`reportMatchModal-${matchId}`);\n    if (modal) {\n        // Initialize feather icons if available\n        if (typeof feather !== 'undefined') {\n            if (typeof feather !== 'undefined') {\n            feather.replace();\n        }\n        }\n        \n        // Populate the modal with the data\n        populateModal(modal, data);\n    } else {\n        Swal.fire({\n            icon: 'error',\n            title: 'Error',\n            text: 'Failed to create the match modal. Please refresh the page and try again.'\n        });\n    }\n}\n\n// Function to populate the modal with match data\nfunction populateModal(modal, data) {\n    const matchId = data.id || modal.id.replace('reportMatchModal-', '');\n    \n    // Build player choices data structure for this match\n    if (!window.playerChoices) {\n        window.playerChoices = {};\n    }\n    \n    // Initialize player choices for this match\n    playerChoices[matchId] = {};\n    \n    // Add home team players\n    if (data.home_team && data.home_team.players) {\n        const homeTeamName = data.home_team.name || 'Home Team';\n        playerChoices[matchId][homeTeamName] = {};\n        data.home_team.players.forEach(player => {\n            playerChoices[matchId][homeTeamName][player.id] = player.name;\n        });\n    }\n    \n    // Add away team players\n    if (data.away_team && data.away_team.players) {\n        const awayTeamName = data.away_team.name || 'Away Team';\n        playerChoices[matchId][awayTeamName] = {};\n        data.away_team.players.forEach(player => {\n            playerChoices[matchId][awayTeamName][player.id] = player.name;\n        });\n    }\n    \n    // Check if player data is available\n    if (Object.keys(playerChoices[matchId]).length === 0) {\n        // No player data available for match\n        Swal.fire({\n            icon: 'error',\n            title: 'Error',\n            text: 'Match data is not loaded yet. Please try again in a moment.'\n        });\n        return;\n    }\n    \n    // Set values in the form\n    const homeScoreInput = modal.querySelector(`#home_team_score-${matchId}`);\n    const awayScoreInput = modal.querySelector(`#away_team_score-${matchId}`);\n    const notesInput = modal.querySelector(`#match_notes-${matchId}`);\n    \n    if (homeScoreInput) homeScoreInput.value = data.home_team_score != null ? data.home_team_score : 0;\n    if (awayScoreInput) awayScoreInput.value = data.away_team_score != null ? data.away_team_score : 0;\n    if (notesInput) notesInput.value = data.notes || '';\n    \n    // Update labels\n    const homeLabel = modal.querySelector(`label[for=\"home_team_score-${matchId}\"]`);\n    const awayLabel = modal.querySelector(`label[for=\"away_team_score-${matchId}\"]`);\n    \n    if (homeLabel) homeLabel.textContent = (data.home_team_name || 'Home Team') + ' Score';\n    if (awayLabel) awayLabel.textContent = (data.away_team_name || 'Away Team') + ' Score';\n    \n    // Update title\n    const modalTitle = modal.querySelector('.modal-title');\n    if (modalTitle) {\n        const homeTeamName = data.home_team_name || 'Home Team';\n        const awayTeamName = data.away_team_name || 'Away Team';\n        const reportType = data.reported ? 'Edit' : 'Report';\n        modalTitle.innerHTML = `<i data-feather=\"edit\" class=\"me-2\"></i>${reportType} Match: ${homeTeamName} vs ${awayTeamName}`;\n        \n        // Re-initialize Feather icons if available\n        if (typeof feather !== 'undefined') {\n            if (typeof feather !== 'undefined') {\n            feather.replace();\n        }\n        }\n    }\n    \n    // Clear event containers\n    const goalContainer = modal.querySelector(`#goalScorersContainer-${matchId}`);\n    const assistContainer = modal.querySelector(`#assistProvidersContainer-${matchId}`);\n    const yellowContainer = modal.querySelector(`#yellowCardsContainer-${matchId}`);\n    const redContainer = modal.querySelector(`#redCardsContainer-${matchId}`);\n    \n    if (goalContainer) goalContainer.innerHTML = '';\n    if (assistContainer) assistContainer.innerHTML = '';\n    if (yellowContainer) yellowContainer.innerHTML = '';\n    if (redContainer) redContainer.innerHTML = '';\n    \n    // Ensure initialEvents is defined\n    if (!window.initialEvents) {\n        window.initialEvents = {};\n    }\n    \n    // Initialize arrays if they don't exist in the data\n    const goal_scorers = data.goal_scorers || [];\n    const assist_providers = data.assist_providers || [];\n    const yellow_cards = data.yellow_cards || [];\n    const red_cards = data.red_cards || [];\n    const own_goals = data.own_goals || [];\n    \n    // Update initialEvents with default empty arrays if needed\n    initialEvents[matchId] = {\n        goals: goal_scorers.map(goal => ({\n            unique_id: String(goal.id),\n            stat_id: String(goal.id),\n            player_id: String(goal.player_id),\n            minute: goal.minute || null\n        })) || [],\n        assists: assist_providers.map(assist => ({\n            unique_id: String(assist.id),\n            stat_id: String(assist.id),\n            player_id: String(assist.player_id),\n            minute: assist.minute || null\n        })) || [],\n        yellowCards: yellow_cards.map(card => ({\n            unique_id: String(card.id),\n            stat_id: String(card.id),\n            player_id: String(card.player_id),\n            minute: card.minute || null\n        })) || [],\n        redCards: red_cards.map(card => ({\n            unique_id: String(card.id),\n            stat_id: String(card.id),\n            player_id: String(card.player_id),\n            minute: card.minute || null\n        })) || [],\n        ownGoals: own_goals.map(ownGoal => ({\n            unique_id: String(ownGoal.id),\n            stat_id: String(ownGoal.id),\n            team_id: String(ownGoal.team_id),\n            minute: ownGoal.minute || null\n        })) || []\n    };\n    \n    // Populate the modal with existing events\n    goal_scorers.forEach(function(goal) {\n        window.addEvent(matchId, 'goalScorersContainer-' + matchId, goal.id, goal.player_id, goal.minute);\n    });\n    \n    assist_providers.forEach(function(assist) {\n        window.addEvent(matchId, 'assistProvidersContainer-' + matchId, assist.id, assist.player_id, assist.minute);\n    });\n    \n    yellow_cards.forEach(function(yellow) {\n        window.addEvent(matchId, 'yellowCardsContainer-' + matchId, yellow.id, yellow.player_id, yellow.minute);\n    });\n    \n    red_cards.forEach(function(red) {\n        window.addEvent(matchId, 'redCardsContainer-' + matchId, red.id, red.player_id, red.minute);\n    });\n    \n    own_goals.forEach(function(ownGoal) {\n        window.addOwnGoalEvent(matchId, 'ownGoalsContainer-' + matchId, ownGoal.id, ownGoal.team_id, ownGoal.minute);\n    });\n    \n    // Add verification checkboxes if they're not already there\n    updateVerificationSection(modal, matchId, data);\n    \n    // Initialize and show the modal safely\n    try {\n        // Check if Bootstrap is available\n        if (typeof bootstrap !== 'undefined') {\n            // Look for existing modal instance and dispose it if needed\n            let existingModal = bootstrap.Modal.getInstance(modal);\n            if (existingModal) {\n                existingModal.dispose();\n            }\n            \n            // Create new modal instance with safety options\n            const bsModal = ModalManager.getInstance(modal.id, {\n                backdrop: 'static',\n                keyboard: false\n            });\n            \n            // Show the modal (wrap in small timeout to ensure DOM is ready)\n            setTimeout(() => {\n                try {\n                    bsModal.show();\n                } catch (err) {\n                    // Error showing modal\n                    // Fallback to jQuery\n                    $(modal).modal('show');\n                }\n            }, 50);\n        } else {\n            // Fallback to jQuery if available\n            if (typeof $ !== 'undefined' && typeof $.fn.modal !== 'undefined') {\n                $(modal).modal('show');\n            } else {\n                // Neither Bootstrap nor jQuery modal available\n                // Manual fallback - just show the modal\n                modal.classList.add('d-block', 'show');\n                document.body.classList.add('modal-open');\n\n                // Create backdrop\n                const backdrop = document.createElement('div');\n                backdrop.className = 'modal-backdrop fade show';\n                document.body.appendChild(backdrop);\n            }\n        }\n    } catch (error) {\n        // Error showing modal\n        // Last resort fallback\n        Swal.fire({\n            icon: 'error', \n            title: 'Error',\n            text: 'Could not show match edit form. Please refresh and try again.'\n        });\n    }\n}\n\n// Function to update or add the verification section to the modal\nfunction updateVerificationSection(modal, matchId, data) {\n    try {\n        // Updating verification section with data\n        \n        // Look for existing verification section, create if not found\n        let verificationSection = modal.querySelector(`#verificationSection-${matchId}`);\n        \n        if (!verificationSection) {\n            // Create verification section just before the Modal Footer\n            const modalBody = modal.querySelector('.modal-body');\n            \n            if (!modalBody) {\n                // Modal body not found\n                return;\n            }\n            \n            // Creating verification section\n            verificationSection = document.createElement('div');\n            verificationSection.id = `verificationSection-${matchId}`;\n            verificationSection.className = 'mb-4 verification-section border-top pt-4 mt-4';\n            modalBody.appendChild(verificationSection);\n        }\n        \n        // Get verification data from match data\n        const homeTeamVerified = data.home_team_verified || false;\n        const awayTeamVerified = data.away_team_verified || false;\n        \n        // Check if user can verify each team (from data API)\n        const canVerifyHome = data.can_verify_home || false;\n        const canVerifyAway = data.can_verify_away || false;\n        \n        // Verification status\n        \n        // Set up the HTML for the verification section\n        let verificationHTML = `\n            <h5 class=\"mb-3\">Match Verification</h5>\n            <div class=\"alert ${homeTeamVerified && awayTeamVerified ? 'alert-success' : 'alert-warning'} mb-3\" data-status=\"${homeTeamVerified && awayTeamVerified ? 'complete' : 'pending'}\">\n                <div class=\"d-flex align-items-center\">\n                    <i class=\"fa ${homeTeamVerified && awayTeamVerified ? 'fa-check-circle' : 'fa-exclamation-circle'} me-2 fs-3\"></i>\n                    <div>\n                        <p class=\"mb-0\">\n                            ${homeTeamVerified && awayTeamVerified\n                                ? 'This match has been verified by both teams.'\n                                : 'This match requires verification from both teams to be complete.'}\n                        </p>\n                    </div>\n                </div>\n            </div>\n\n            <div class=\"row\">\n                <div class=\"col-md-6\">\n                    <div class=\"card mb-2 ${homeTeamVerified ? 'border-success' : 'border-warning'}\" data-verification=\"home\" data-verified=\"${homeTeamVerified}\">\n                        <div class=\"card-body\">\n                            <h6 class=\"card-title d-flex align-items-center\">\n                                <i class=\"fa ${homeTeamVerified ? 'fa-check text-success' : 'fa-clock text-warning'} me-2\"></i>\n                                ${data.home_team_name || 'Home Team'}\n                            </h6>\n                            <p class=\"card-text small mb-2\">\n                                ${homeTeamVerified\n                                    ? `Verified by ${data.home_verifier || 'Unknown'}\n                                       ${data.home_team_verified_at ? 'on ' + new Date(data.home_team_verified_at).toLocaleString() : ''}`\n                                    : 'Not verified yet'}\n                            </p>\n                            ${!homeTeamVerified && canVerifyHome\n                                ? `<div class=\"form-check\">\n                                    <input class=\"form-check-input\" type=\"checkbox\" value=\"true\" id=\"verifyHomeTeam-${matchId}\" name=\"verify_home_team\" data-verification-input=\"home\">\n                                    <label class=\"form-check-label\" for=\"verifyHomeTeam-${matchId}\">\n                                        Verify for ${data.home_team_name || 'Home Team'}\n                                    </label>\n                                    <div class=\"text-muted small\">Check this box to verify the match results for your team</div>\n                                </div>`\n                                : ''}\n                        </div>\n                    </div>\n                </div>\n\n                <div class=\"col-md-6\">\n                    <div class=\"card mb-2 ${awayTeamVerified ? 'border-success' : 'border-warning'}\" data-verification=\"away\" data-verified=\"${awayTeamVerified}\">\n                        <div class=\"card-body\">\n                            <h6 class=\"card-title d-flex align-items-center\">\n                                <i class=\"fa ${awayTeamVerified ? 'fa-check text-success' : 'fa-clock text-warning'} me-2\"></i>\n                                ${data.away_team_name || 'Away Team'}\n                            </h6>\n                            <p class=\"card-text small mb-2\">\n                                ${awayTeamVerified\n                                    ? `Verified by ${data.away_verifier || 'Unknown'}\n                                       ${data.away_team_verified_at ? 'on ' + new Date(data.away_team_verified_at).toLocaleString() : ''}`\n                                    : 'Not verified yet'}\n                            </p>\n                            ${!awayTeamVerified && canVerifyAway\n                                ? `<div class=\"form-check\">\n                                    <input class=\"form-check-input\" type=\"checkbox\" value=\"true\" id=\"verifyAwayTeam-${matchId}\" name=\"verify_away_team\" data-verification-input=\"away\">\n                                    <label class=\"form-check-label\" for=\"verifyAwayTeam-${matchId}\">\n                                        Verify for ${data.away_team_name || 'Away Team'}\n                                    </label>\n                                    <div class=\"text-muted small\">Check this box to verify the match results for your team</div>\n                                </div>`\n                                : ''}\n                        </div>\n                    </div>\n                </div>\n            </div>\n        `;\n        \n        // Setting verification HTML\n        // Update the verification section HTML\n        verificationSection.innerHTML = verificationHTML;\n        \n        // Verification section updated successfully\n    } catch (error) {\n        // Error updating verification section\n    }\n}\n\n// Function to get final events from the form\nfunction getFinalEvents(matchId, eventType) {\n    let events = [];\n    let containerId = getContainerId(eventType, matchId);\n    let baseName = containerId.split('Container-')[0];\n    \n    // Map container base names to form field names\n    let formBaseName = baseName;\n    if (baseName === 'yellowCards') {\n        formBaseName = 'yellow_cards';\n    } else if (baseName === 'redCards') {\n        formBaseName = 'red_cards';\n    } else if (baseName === 'goalScorers') {\n        formBaseName = 'goalScorers';\n    } else if (baseName === 'assistProviders') {\n        formBaseName = 'assistProviders';\n    }\n\n    // Handle own goals differently since they use team_id instead of player_id\n    if (eventType === 'own_goals') {\n        $(`#${containerId}`).find('.own-goal-event-entry:not(.to-be-removed)').each(function () {\n            // Use 'own_goals' as the field name prefix (not 'ownGoals')\n            let statId = $(this).find(`input[name=\"own_goals-stat_id[]\"]`).val();\n            let teamId = $(this).find(`select[name=\"own_goals-team_id[]\"]`).val();\n            let minute = $(this).find(`input[name=\"own_goals-minute[]\"]`).val();\n            let uniqueId = $(this).attr('data-unique-id');\n            \n            if (teamId) {\n                events.push({\n                    stat_id: statId || '',\n                    team_id: teamId,\n                    minute: minute || '',\n                    unique_id: uniqueId\n                });\n            }\n        });\n    } else {\n        // Only get visible entries (exclude ones marked for removal)\n        $(`#${containerId}`).find('.player-event-entry:not(.to-be-removed)').each(function () {\n            let statId = $(this).find(`input[name=\"${formBaseName}-stat_id[]\"]`).val();\n            let playerId = $(this).find(`select[name=\"${formBaseName}-player_id[]\"]`).val();\n            let minute = $(this).find(`input[name=\"${formBaseName}-minute[]\"]`).val();\n            let uniqueId = $(this).attr('data-unique-id');\n\n        // Skip entries without player_id (which is required)\n        if (!playerId) {\n            // Skipping entry without player_id\n            return;\n        }\n\n        // Convert values to strings or null\n        statId = statId ? String(statId) : null;\n        playerId = playerId ? String(playerId) : null;\n        minute = minute ? String(minute) : null;\n\n            events.push({ unique_id: uniqueId, stat_id: statId, player_id: playerId, minute: minute });\n        });\n    }\n\n    // Final events\n    return events;\n}\n\n// Function to check if an event exists in an array\nfunction eventExists(event, eventsArray) {\n    // Special case - if element is marked for removal with to-be-removed class\n    if (event.element && event.element.classList && event.element.classList.contains('to-be-removed')) {\n        return false; // Treat as non-existent if marked for removal\n    }\n\n    // If both have stat_id, compare them (for existing events)\n    if (event.stat_id) {\n        return eventsArray.some(e => e.stat_id && String(e.stat_id) === String(event.stat_id));\n    }\n    // For new events or when comparing by unique_id\n    else if (event.unique_id) {\n        return eventsArray.some(e => String(e.unique_id) === String(event.unique_id));\n    }\n\n    // If we get here, we have no reliable way to compare - log this\n    // Event comparison failed - no stat_id or unique_id\n    return false;\n}\n\n// Function to send the AJAX request to update stats\nfunction reportMatchUpdateStats(matchId, goalsToAdd, goalsToRemove, assistsToAdd, assistsToRemove,\n    yellowCardsToAdd, yellowCardsToRemove, redCardsToAdd, redCardsToRemove, ownGoalsToAdd, ownGoalsToRemove) {\n    const homeTeamScore = $('#home_team_score-' + matchId).val();\n    const awayTeamScore = $('#away_team_score-' + matchId).val();\n    const notes = $('#match_notes-' + matchId).val();\n    \n    // Get the version for optimistic locking\n    const version = window.currentMatchData ? window.currentMatchData.version : null;\n    \n    // Get verification checkboxes status\n    const verifyHomeTeam = $(`#verifyHomeTeam-${matchId}`).is(':checked');\n    const verifyAwayTeam = $(`#verifyAwayTeam-${matchId}`).is(':checked');\n    \n    // Check if verification is required - only if user can verify a team and hasn't checked the box\n    const homeTeamCheckbox = $(`#verifyHomeTeam-${matchId}`);\n    const awayTeamCheckbox = $(`#verifyAwayTeam-${matchId}`);\n    \n    // Check if user can verify teams but hasn't checked the verification boxes\n    let missingVerifications = [];\n    if (homeTeamCheckbox.length > 0 && !verifyHomeTeam) {\n        const homeTeamName = window.currentMatchData ? window.currentMatchData.home_team_name : 'Home Team';\n        missingVerifications.push(homeTeamName);\n    }\n    if (awayTeamCheckbox.length > 0 && !verifyAwayTeam) {\n        const awayTeamName = window.currentMatchData ? window.currentMatchData.away_team_name : 'Away Team';\n        missingVerifications.push(awayTeamName);\n    }\n    \n    // Allow submission if no verification boxes are present (user can't verify any team)\n    // But if verification boxes are present, require at least one to be checked\n    if (missingVerifications.length > 0 && (homeTeamCheckbox.length > 0 || awayTeamCheckbox.length > 0)) {\n        // If user can verify but hasn't checked any boxes, require verification\n        if (!verifyHomeTeam && !verifyAwayTeam) {\n            Swal.fire({\n                icon: 'warning',\n                title: 'Verification Required',\n                text: `Please verify the match results for your team before submitting.`,\n                confirmButtonText: 'OK'\n            });\n            return; // Stop submission\n        }\n    }\n\n    $.ajax({\n        url: `/teams/report_match/${matchId}`,\n        method: 'POST',\n        contentType: 'application/json',\n        dataType: 'json',\n        data: JSON.stringify({\n            home_team_score: homeTeamScore,\n            away_team_score: awayTeamScore,\n            notes: notes,\n            goals_to_add: goalsToAdd,\n            goals_to_remove: goalsToRemove,\n            assists_to_add: assistsToAdd,\n            assists_to_remove: assistsToRemove,\n            yellow_cards_to_add: yellowCardsToAdd,\n            yellow_cards_to_remove: yellowCardsToRemove,\n            red_cards_to_add: redCardsToAdd,\n            red_cards_to_remove: redCardsToRemove,\n            own_goals_to_add: ownGoalsToAdd,\n            own_goals_to_remove: ownGoalsToRemove,\n            verify_home_team: verifyHomeTeam,\n            verify_away_team: verifyAwayTeam,\n            version: version\n        }),\n        success: function (response) {\n            if (response.success) {\n                // Determine message based on verification status\n                let successMessage = 'Your match report has been submitted successfully.';\n                \n                if (response.home_team_verified && response.away_team_verified) {\n                    successMessage = 'Match report submitted and fully verified by both teams.';\n                } else if (response.home_team_verified || response.away_team_verified) {\n                    successMessage = 'Match report submitted and verified by one team.';\n                    \n                    if (verifyHomeTeam || verifyAwayTeam) {\n                        successMessage += ' Thank you for verifying!';\n                    } else {\n                        successMessage += ' The other team still needs to verify.';\n                    }\n                }\n                \n                Swal.fire({\n                    icon: 'success',\n                    title: 'Success!',\n                    text: successMessage\n                }).then(() => {\n                    // Close the modal\n                    try {\n                        const modalElem = document.getElementById(`reportMatchModal-${matchId}`);\n                        if (modalElem) {\n                            const bsModal = bootstrap.Modal.getInstance(modalElem);\n                            if (bsModal) {\n                                bsModal.hide();\n                            } else {\n                                $(modalElem).modal('hide');\n                            }\n                        }\n                    } catch (e) {\n                        // Error closing modal\n                    }\n\n                    // Reload the page to reflect changes\n                    location.reload();\n                });\n            } else {\n                Swal.fire({\n                    icon: 'error',\n                    title: 'Error!',\n                    text: response.message || 'There was an error submitting your report.'\n                }).then(() => {\n                    $(`#submitBtn-${matchId}`).prop('disabled', false);\n                });\n            }\n        },\n        error: function (xhr, status, error) {\n            let errorMessage = 'An unexpected error occurred while submitting your report.';\n            let errorTitle = 'Error!';\n            let showRefreshOption = false;\n            \n            if (xhr.status === 409) {\n                // Version conflict\n                try {\n                    const response = JSON.parse(xhr.responseText);\n                    if (response.error_type === 'version_conflict') {\n                        errorTitle = 'Match Updated by Another User';\n                        errorMessage = 'This match was modified by another user while you were editing. Please refresh to get the latest data and try again.';\n                        showRefreshOption = true;\n                    }\n                } catch (e) {\n                    // Fallback to generic message\n                }\n            } else if (xhr.responseJSON && xhr.responseJSON.message) {\n                errorMessage = xhr.responseJSON.message;\n            }\n\n            const swalOptions = {\n                icon: 'warning',\n                title: errorTitle,\n                text: errorMessage\n            };\n            \n            if (showRefreshOption) {\n                swalOptions.showCancelButton = true;\n                swalOptions.confirmButtonText = 'Refresh Page';\n                swalOptions.cancelButtonText = 'Cancel';\n            }\n            \n            Swal.fire(swalOptions).then((result) => {\n                if (result.isConfirmed && showRefreshOption) {\n                    location.reload();\n                } else {\n                    $(`#submitBtn-${matchId}`).prop('disabled', false);\n                }\n            });\n        }\n    });\n}\n\n// Attach submit handler using event delegation\n$(document).on('submit', '.report-match-form', function (e) {\n    e.preventDefault();\n    e.stopPropagation();\n\n    var matchId = $(this).data('match-id');\n    // Submitting form for Match ID\n\n    // Ensure initialEvents is properly defined\n    if (typeof initialEvents === 'undefined') {\n        window.initialEvents = {};\n    }\n\n    // Initialize the match data if it doesn't exist\n    if (!initialEvents[matchId]) {\n        // Initializing empty data for match\n        initialEvents[matchId] = {\n            goals: [],\n            assists: [],\n            yellowCards: [],\n            redCards: [],\n            ownGoals: []\n        };\n    }\n\n    // Get final events (excludes items marked for removal)\n    let finalGoals = getFinalEvents(matchId, 'goal_scorers');\n    let finalAssists = getFinalEvents(matchId, 'assist_providers');\n    let finalYellowCards = getFinalEvents(matchId, 'yellow_cards');\n    let finalRedCards = getFinalEvents(matchId, 'red_cards');\n    let finalOwnGoals = getFinalEvents(matchId, 'own_goals');\n\n    // Get initial events (what was loaded from server)\n    let initialGoals = initialEvents[matchId].goals || [];\n    let initialAssists = initialEvents[matchId].assists || [];\n    let initialYellowCards = initialEvents[matchId].yellowCards || [];\n    let initialRedCards = initialEvents[matchId].redCards || [];\n    let initialOwnGoals = initialEvents[matchId].ownGoals || [];\n\n    // Also get any specifically removed events (those with to-be-removed class)\n    let removedGoalIds = collectRemovedStatIds(matchId, 'goal_scorers');\n    let removedAssistIds = collectRemovedStatIds(matchId, 'assist_providers');\n    let removedYellowCardIds = collectRemovedStatIds(matchId, 'yellow_cards');\n    let removedRedCardIds = collectRemovedStatIds(matchId, 'red_cards');\n    let removedOwnGoalIds = collectRemovedOwnGoalIds(matchId);\n\n    // Removed event IDs\n\n    // Events to add: in final but not in initial\n    let goalsToAdd = finalGoals.filter(goal => !eventExists(goal, initialGoals));\n    let assistsToAdd = finalAssists.filter(assist => !eventExists(assist, initialAssists));\n    let yellowCardsToAdd = finalYellowCards.filter(card => !eventExists(card, initialYellowCards));\n    let redCardsToAdd = finalRedCards.filter(card => !eventExists(card, initialRedCards));\n    let ownGoalsToAdd = finalOwnGoals.filter(ownGoal => !ownGoalExists(ownGoal, initialOwnGoals));\n\n    // Create events to remove directly from removed IDs\n    let goalsToRemove = [];\n    let assistsToRemove = [];\n    let yellowCardsToRemove = [];\n    let redCardsToRemove = [];\n    let ownGoalsToRemove = [];\n\n    // Add explicitly removed items (items with to-be-removed class)\n    if (removedYellowCardIds.length > 0) {\n        // Find the actual events from initialYellowCards based on IDs\n        removedYellowCardIds.forEach(id => {\n            const card = initialYellowCards.find(c => c.stat_id === id);\n            if (card) {\n                yellowCardsToRemove.push(card);\n            } else {\n                // If not found, create a minimal object with the ID\n                yellowCardsToRemove.push({ stat_id: id });\n            }\n        });\n    }\n\n    if (removedGoalIds.length > 0) {\n        removedGoalIds.forEach(id => {\n            const goal = initialGoals.find(g => g.stat_id === id);\n            if (goal) {\n                goalsToRemove.push(goal);\n            } else {\n                goalsToRemove.push({ stat_id: id });\n            }\n        });\n    }\n\n    if (removedAssistIds.length > 0) {\n        removedAssistIds.forEach(id => {\n            const assist = initialAssists.find(a => a.stat_id === id);\n            if (assist) {\n                assistsToRemove.push(assist);\n            } else {\n                assistsToRemove.push({ stat_id: id });\n            }\n        });\n    }\n\n    if (removedRedCardIds.length > 0) {\n        removedRedCardIds.forEach(id => {\n            const card = initialRedCards.find(c => c.stat_id === id);\n            if (card) {\n                redCardsToRemove.push(card);\n            } else {\n                redCardsToRemove.push({ stat_id: id });\n            }\n        });\n    }\n\n    if (removedOwnGoalIds.length > 0) {\n        removedOwnGoalIds.forEach(id => {\n            const ownGoal = initialOwnGoals.find(og => og.stat_id === id);\n            if (ownGoal) {\n                ownGoalsToRemove.push(ownGoal);\n            } else {\n                ownGoalsToRemove.push({ stat_id: id });\n            }\n        });\n    }\n\n    // Also add items that were in initial but missing from final (normal removal logic)\n    initialGoals.forEach(goal => {\n        if (!eventExists(goal, finalGoals) && !goalsToRemove.some(g => g.stat_id === goal.stat_id)) {\n            goalsToRemove.push(goal);\n        }\n    });\n\n    initialAssists.forEach(assist => {\n        if (!eventExists(assist, finalAssists) && !assistsToRemove.some(a => a.stat_id === assist.stat_id)) {\n            assistsToRemove.push(assist);\n        }\n    });\n\n    initialYellowCards.forEach(card => {\n        if (!eventExists(card, finalYellowCards) && !yellowCardsToRemove.some(c => c.stat_id === card.stat_id)) {\n            yellowCardsToRemove.push(card);\n        }\n    });\n\n    initialRedCards.forEach(card => {\n        if (!eventExists(card, finalRedCards) && !redCardsToRemove.some(c => c.stat_id === card.stat_id)) {\n            redCardsToRemove.push(card);\n        }\n    });\n\n    initialOwnGoals.forEach(ownGoal => {\n        if (!ownGoalExists(ownGoal, finalOwnGoals) && !ownGoalsToRemove.some(og => og.stat_id === ownGoal.stat_id)) {\n            ownGoalsToRemove.push(ownGoal);\n        }\n    });\n\n    // Events to add/remove\n\n    // Confirmation before submitting\n    Swal.fire({\n        title: 'Confirm Submission',\n        text: \"Are you sure you want to submit this match report?\",\n        icon: 'question',\n        showCancelButton: true,\n        confirmButtonColor: (typeof ECSTheme !== 'undefined') ? ECSTheme.getColor('primary') : '#0d6efd',\n        cancelButtonColor: (typeof ECSTheme !== 'undefined') ? ECSTheme.getColor('danger') : '#dc3545',\n        confirmButtonText: 'Yes, submit it!'\n    }).then((result) => {\n        if (result.isConfirmed) {\n            reportMatchUpdateStats(matchId, goalsToAdd, goalsToRemove, assistsToAdd, assistsToRemove, yellowCardsToAdd, yellowCardsToRemove, redCardsToAdd, redCardsToRemove, ownGoalsToAdd, ownGoalsToRemove);\n        }\n    });\n});\n\n// Function to add a new own goal event entry\nwindow.addOwnGoalEvent = function(matchId, containerId, statId = null, teamId = null, minute = null) {\n    var containerSelector = '#' + containerId;\n\n    // Generate a unique ID for the event if not provided\n    var uniqueId = statId ? String(statId) : 'new-' + Date.now() + '-' + Math.random();\n\n    // Get team names and IDs from the match data\n    // First try window variables (for team detail pages)\n    var homeTeamName = window['homeTeamName_' + matchId];\n    var awayTeamName = window['awayTeamName_' + matchId];\n    var homeTeamId = window['homeTeamId_' + matchId];\n    var awayTeamId = window['awayTeamId_' + matchId];\n    \n    // If not available, try to get from the modal's match data\n    if (!homeTeamName || !awayTeamName) {\n        // Look for the modal with this match ID to get team data\n        const modalSelector = '#reportMatchModal-' + matchId;\n        const modal = document.querySelector(modalSelector);\n        \n        if (modal) {\n            // Get team names from modal title or data attributes\n            const modalTitle = modal.querySelector('.modal-title');\n            if (modalTitle) {\n                const titleText = modalTitle.textContent;\n                // Parse \"Report Match: Team A vs Team B\" format\n                const vsMatch = titleText.match(/Match:\\s*(.+?)\\s+vs\\s+(.+)$/);\n                if (vsMatch) {\n                    homeTeamName = vsMatch[1].trim();\n                    awayTeamName = vsMatch[2].trim();\n                }\n            }\n        }\n        \n        // If still not found, try to get from the stored match data\n        if (window.currentMatchData && window.currentMatchData.matchId == matchId) {\n            homeTeamName = window.currentMatchData.home_team_name;\n            awayTeamName = window.currentMatchData.away_team_name;\n            homeTeamId = window.currentMatchData.home_team ? window.currentMatchData.home_team.id : null;\n            awayTeamId = window.currentMatchData.away_team ? window.currentMatchData.away_team.id : null;\n            \n            // Got team names from stored match data\n        }\n    }\n    \n    // Final fallback to generic names if team names still aren't available\n    if (!homeTeamName) homeTeamName = 'Home Team';\n    if (!awayTeamName) awayTeamName = 'Away Team';\n\n    // Define the new input group for own goals\n    var newInputGroup = `\n        <div class=\"input-group mb-2 player-event-entry\" data-unique-id=\"${uniqueId}\">\n            <input type=\"hidden\" name=\"own_goals-stat_id[]\" value=\"${statId ? statId : ''}\">\n            <select class=\"form-select select-own-goal-team\" name=\"own_goals-team_id[]\">\n                <option value=\"${homeTeamId}\"${teamId == homeTeamId ? ' selected' : ''}>${homeTeamName}</option>\n                <option value=\"${awayTeamId}\"${teamId == awayTeamId ? ' selected' : ''}>${awayTeamName}</option>\n            </select>\n            <input type=\"text\" class=\"form-control input-minute-compact\" name=\"own_goals-minute[]\"\n                   placeholder=\"Min\"\n                   value=\"${minute ? minute : ''}\"\n                   pattern=\"^\\\\d{1,3}(\\\\+\\\\d{1,2})?$\"\n                   title=\"Enter a valid minute (e.g., '45' or '45+2')\">\n            <button class=\"btn btn-danger btn-sm\" type=\"button\" data-action=\"remove-own-goal\"></button>\n        </div>\n    `;\n\n    // Append the new input group to the container\n    $(containerSelector).append(newInputGroup);\n\n    // Re-initialize Feather icons if necessary\n    if (typeof feather !== 'undefined' && feather) {\n        if (typeof feather !== 'undefined') {\n            feather.replace();\n        }\n    }\n};\n\n// Function to remove an own goal event entry\nwindow.removeOwnGoalEvent = function(button) {\n    // Handle cases where button might be undefined or null\n    if (!button) {\n        // removeOwnGoalEvent called with null or undefined button\n        return;\n    }\n\n    // Try multiple methods to find the parent element\n    let eventEntry = null;\n    let jQueryEntry = null;\n    \n    try {\n        // Method 1: DOM API with instanceof check\n        if (button instanceof Element) {\n            eventEntry = button.closest('.own-goal-event-entry') || \n                         button.closest('.input-group');\n            \n            // If found, wrap in jQuery\n            if (eventEntry) {\n                jQueryEntry = $(eventEntry);\n            }\n        }\n        \n        // Method 2: Try jQuery if element wasn't found or button is jQuery object\n        if (!eventEntry || !jQueryEntry) {\n            // Convert to jQuery if not already\n            const $button = (button instanceof Element) ? $(button) : $(button);\n            jQueryEntry = $button.closest('.own-goal-event-entry');\n            \n            // If still not found, try alternates\n            if (!jQueryEntry.length) {\n                jQueryEntry = $button.closest('.input-group');\n            }\n        }\n        \n    } catch (error) {\n        // Error in removeOwnGoalEvent\n        return;\n    }\n\n    // Check if we found a valid entry\n    if (!jQueryEntry || !jQueryEntry.length) {\n        // Could not find parent element for own goal event removal\n        return;\n    }\n\n    // Get the stat ID from the hidden input (if it exists)\n    const statIdInput = jQueryEntry.find('input[name=\"own_goals-stat_id[]\"]');\n    const statId = statIdInput.val();\n\n    if (statId && statId.trim() !== '' && !statId.startsWith('new-')) {\n        // This is an existing event, mark it for removal\n        jQueryEntry.addClass('to-be-removed').hide();\n    } else {\n        // This is a new event, remove it completely\n        jQueryEntry.remove();\n    }\n};\n\n// Function to collect removed own goal stat IDs\nfunction collectRemovedOwnGoalIds(matchId) {\n    let containerId = `ownGoalsContainer-${matchId}`;\n    let removedIds = [];\n\n    $(`#${containerId}`).find('.own-goal-event-entry.to-be-removed').each(function () {\n        const statId = $(this).find('input[name=\"own_goals-stat_id[]\"]').val();\n        if (statId && statId.trim() !== '') {\n            removedIds.push(statId);\n        }\n    });\n\n    return removedIds;\n}\n\n// Function to check if an own goal exists in a list\nfunction ownGoalExists(ownGoal, ownGoalList) {\n    return ownGoalList.some(og => {\n        // Check by stat_id if both have it\n        if (ownGoal.stat_id && og.stat_id) {\n            return ownGoal.stat_id === og.stat_id;\n        }\n        // Check by unique_id if both have it\n        if (ownGoal.unique_id && og.unique_id) {\n            return ownGoal.unique_id === og.unique_id;\n        }\n        // Check by team_id and minute as fallback\n        return ownGoal.team_id === og.team_id && ownGoal.minute === og.minute;\n    });\n}\n","/**\n * RSVP Unified Script - v2.1\n * This is a completely rewritten version of the RSVP page JavaScript\n * designed to be extremely stable and avoid any syntax errors.\n * \n * Updates in v2.1:\n * - Added fallback solutions for team selection in sub request modal\n * - Fixed issue with Pub League Coaches not being able to request subs\n */\n\n// Wait for DOM content to be fully loaded\ndocument.addEventListener('DOMContentLoaded', function() {\n  'use strict';\n  \n  // Hide page loader\n  setTimeout(function() {\n    var loader = document.getElementById('page-loader');\n    if (loader) {\n      loader.classList.add('hidden');\n      setTimeout(function() {\n        if (loader && loader.parentNode) {\n          loader.parentNode.removeChild(loader);\n        }\n      }, 500);\n    }\n  }, 800);\n  \n  // Load substitutes for the assign sub modal\n  if (document.getElementById('assignSubModalRSVP')) {\n    loadAvailableSubs();\n  }\n  \n  // Emergency fix for the request sub modal - ensure team options are available\n  if (document.getElementById('requestSubModal')) {\n    fixTeamOptions();\n  }\n  \n  // Setup Discord RSVP sync button\n  var syncDiscordButton = document.getElementById('syncDiscordButton');\n  if (syncDiscordButton) {\n    syncDiscordButton.addEventListener('click', function() {\n      // Change button to loading state\n      const originalText = syncDiscordButton.innerHTML;\n      syncDiscordButton.disabled = true;\n      syncDiscordButton.innerHTML = '<i class=\"ti ti-loader ti-spin me-1\"></i> Syncing...';\n      \n      // Get CSRF token from meta tag or hidden input\n      const csrfToken = document.querySelector('meta[name=\"csrf-token\"]')?.getAttribute('content') || \n                         document.querySelector('input[name=\"csrf_token\"]')?.value || '';\n      \n      // Call the API endpoint to force a sync\n      fetch('/api/force_discord_sync', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          'X-Requested-With': 'XMLHttpRequest',\n          'X-CSRFToken': csrfToken\n        }\n      })\n      .then(response => response.json())\n      .then(data => {\n        // Reset button state\n        syncDiscordButton.disabled = false;\n        syncDiscordButton.innerHTML = originalText;\n        \n        // Show appropriate notification\n        if (data.success) {\n          if (window.toastr) {\n            toastr.success('RSVP synchronization with Discord has been triggered.', 'Sync Started');\n          } else if (window.Swal) {\n            Swal.fire({\n              title: 'Success!',\n              text: 'RSVP synchronization with Discord has been triggered.',\n              icon: 'success',\n              timer: 3000,\n              showConfirmButton: false\n            });\n          } else {\n            alert('RSVP synchronization with Discord has been triggered.');\n          }\n        } else {\n          if (window.toastr) {\n            toastr.error(data.message || 'An error occurred syncing with Discord.', 'Sync Failed');\n          } else if (window.Swal) {\n            Swal.fire({\n              title: 'Sync Failed',\n              text: data.message || 'An error occurred syncing with Discord.',\n              icon: 'error'\n            });\n          } else {\n            alert('Sync Failed: ' + (data.message || 'An error occurred syncing with Discord.'));\n          }\n        }\n      })\n      .catch(error => {\n        // Error syncing with Discord\n        \n        // Reset button state\n        syncDiscordButton.disabled = false;\n        syncDiscordButton.innerHTML = originalText;\n        \n        // Show error notification\n        if (window.toastr) {\n          toastr.error('Could not connect to the Discord sync service.', 'Connection Error');\n        } else if (window.Swal) {\n          Swal.fire({\n            title: 'Connection Error',\n            text: 'Could not connect to the Discord sync service.',\n            icon: 'error'\n          });\n        } else {\n          alert('Connection Error: Could not connect to the Discord sync service.');\n        }\n      });\n    });\n  }\n  \n  // Initialize when jQuery is ready\n  if (window.jQuery) {\n    jQuery(function($) {\n      try {\n        // Toastr configuration\n        if (window.toastr) {\n          toastr.options = {\n            closeButton: true,\n            newestOnTop: true,\n            progressBar: true,\n            positionClass: \"toast-top-right\",\n            timeOut: 5000\n          };\n        }\n        \n        // Initialize tooltips\n        if (window.bootstrap) {\n          var tooltipElements = document.querySelectorAll('[data-bs-toggle=\"tooltip\"]');\n          for (var i = 0; i < tooltipElements.length; i++) {\n            new bootstrap.Tooltip(tooltipElements[i]);\n          }\n        }\n        \n        // Initialize DataTables\n        if ($.fn.DataTable) {\n          // Simple table options without complex structures\n          var tableOptions = {\n            responsive: true,\n            pageLength: 10,\n            lengthMenu: [5, 10, 25, 50],\n            language: {\n              search: \"\",\n              searchPlaceholder: \"Search players...\"\n            },\n            drawCallback: function() {\n              // Rebind event handlers to rows after DataTable redraws\n              bindEventHandlers();\n              fixDropdownsAndOverflow();\n              // FORCE REMOVE DEFAULT DATATABLES ARROWS\n              removeDataTablesArrows();\n            }\n          };\n          \n          // Initialize each table\n          if ($('#rsvpStatusTable').length) {\n            $('#rsvpStatusTable').DataTable(tableOptions);\n          }\n          \n          if ($('#homeTeamTable').length) {\n            $('#homeTeamTable').DataTable(tableOptions);\n          }\n          \n          if ($('#awayTeamTable').length) {\n            $('#awayTeamTable').DataTable(tableOptions);\n          }\n          \n          // FORCE REMOVE DATATABLES ARROWS AFTER INITIALIZATION\n          setTimeout(function() {\n            removeDataTablesArrows();\n          }, 100);\n          \n          // Style improvements\n          $('[data-datatable=\"filter\"] input').removeClass('form-control-sm').addClass('rounded-pill');\n          $('[data-datatable=\"length\"] select').removeClass('form-select-sm').addClass('rounded-pill');\n        }\n        \n        // Fix z-index and overflow issues\n        fixDropdownsAndOverflow();\n        \n        // Bind event handlers\n        bindEventHandlers();\n        \n        // Fix tabs\n        bindTabHandlers();\n\n      } catch (e) {\n        // console.error(\"Error initializing RSVP page:\", e);\n      }\n    });\n  }\n\n  // Apply DataTables arrow fix after initialization\n  setTimeout(function() {\n    removeDataTablesArrows();\n  }, 1000);\n});\n\n/**\n * Fix dropdown menu z-index and container overflow issues\n *\n * REFACTORED APPROACH:\n * ====================\n * Previously used inline styles to fix DataTables dropdown clipping.\n * Now uses CSS utility classes from /static/css/utilities/datatable-utils.css\n *\n * CSS classes applied:\n * - .dt-dropdown: Sets z-index: 9999 and position: absolute on dropdown menus\n * - .dt-container-visible: Sets overflow: visible and position: relative on containers\n *\n * Benefits of CSS approach:\n * - No repeated style manipulation after each DataTable redraw\n * - Better performance (CSS declarations vs JavaScript DOM manipulation)\n * - More maintainable and declarative\n * - Works even if JavaScript is delayed or fails\n * - Uses !important to override DataTables inline styles\n *\n * Note: This function now only adds CSS classes instead of manipulating styles directly.\n * The heavy lifting is done by CSS, which is more performant and maintainable.\n */\nfunction fixDropdownsAndOverflow() {\n  try {\n    // Add utility classes to dropdown menus (exclude navbar dropdowns)\n    var dropdowns = document.querySelectorAll('[data-dropdown]:not(.c-navbar-modern__actions [data-dropdown])');\n    for (var i = 0; i < dropdowns.length; i++) {\n      dropdowns[i].classList.add('dt-dropdown');\n    }\n\n    // Add utility classes to containers\n    var containers = document.querySelectorAll('[data-container=\"table\"], [data-container=\"card\"], [data-container=\"tab\"], div.dataTables_wrapper');\n    for (var j = 0; j < containers.length; j++) {\n      containers[j].classList.add('dt-container-visible');\n    }\n  } catch (e) {\n    // console.error(\"Error fixing dropdowns:\", e);\n  }\n}\n\n/**\n * Format phone number for display\n */\nfunction formatPhoneNumber(phoneNumber) {\n  if (!phoneNumber) return '';\n  \n  var cleaned = ('' + phoneNumber).replace(/\\D/g, '');\n  \n  // Format for international numbers\n  var match = cleaned.match(/^(\\d{1})(\\d{3})(\\d{3})(\\d{4})$/);\n  if (match) {\n    return '+' + match[1] + ' (' + match[2] + ') ' + match[3] + '-' + match[4];\n  }\n  \n  // Format for US numbers\n  var match2 = cleaned.match(/^(\\d{3})(\\d{3})(\\d{4})$/);\n  if (match2) {\n    return '(' + match2[1] + ') ' + match2[2] + '-' + match2[3];\n  }\n  \n  return phoneNumber;\n}\n\n/**\n * Bind all event handlers for the page\n */\nfunction bindEventHandlers() {\n  try {\n    // Using jQuery with defensive programming\n    if (window.jQuery) {\n      var $ = window.jQuery;\n      \n      // Initialize tooltips\n      if (window.bootstrap) {\n        var tooltipTriggerList = [].slice.call(document.querySelectorAll('[data-bs-toggle=\"tooltip\"]'));\n        tooltipTriggerList.map(function(tooltipTriggerEl) {\n            return new bootstrap.Tooltip(tooltipTriggerEl, {\n                delay: { show: 200, hide: 100 }\n            });\n        });\n      }\n      \n      // SMS Modal handling - REMOVED\n      // Now handled by event delegation via data-action=\"rsvp-request-sms\"\n      // Event delegation will call the handler registered in event-delegation.js\n      // $('.send-sms-btn').on('click', function() { ... });\n      \n      // Discord DM Modal handling - REMOVED\n      // Now handled by event delegation via data-action=\"rsvp-request-discord-dm\"\n      // Event delegation will call the handler registered in event-delegation.js\n      // $('.send-discord-dm-btn').on('click', function() { ... });\n      \n      // RSVP Update handling - REMOVED\n      // Now handled by event delegation via data-action=\"rsvp-update-status\"\n      // Event delegation will call the updateRSVPStatus function in event-delegation.js\n      // $('.update-rsvp-btn').on('click', function() { ... });\n      \n      // Character counting for SMS\n      $('#smsMessage').on('input', function() {\n        try {\n          var charCount = $(this).val().length;\n          $('#smsCharCount').text(charCount);\n          \n          if (charCount > 160) {\n            $('#smsCharCount').addClass('text-danger fw-bold');\n          } else {\n            $('#smsCharCount').removeClass('text-danger fw-bold');\n          }\n        } catch (e) {\n          // console.error(\"Error counting SMS characters:\", e);\n        }\n      });\n      \n      // Character counting for Discord\n      $('#discordMessage').on('input', function() {\n        try {\n          var charCount = $(this).val().length;\n          $('#discordCharCount').text(charCount);\n          \n          if (charCount > 2000) {\n            $('#discordCharCount').addClass('text-danger fw-bold');\n          } else {\n            $('#discordCharCount').removeClass('text-danger fw-bold');\n          }\n        } catch (e) {\n          // console.error(\"Error counting Discord characters:\", e);\n        }\n      });\n      \n      // Form submission handlers for SMS\n      $('#sendSmsForm').on('submit', function(e) {\n        e.preventDefault();\n        \n        try {\n          var charCount = $('#smsMessage').val().length;\n          if (charCount > 160) {\n            if (window.toastr) {\n              toastr.warning('Your message exceeds the 160 character limit for SMS. Please shorten your message.');\n            }\n            return false;\n          }\n          \n          var formData = new FormData(this);\n          var submitBtn = $(this).find('button[type=\"submit\"]');\n          var originalText = submitBtn.html();\n          \n          submitBtn.prop('disabled', true).html('<i class=\"ti ti-loader ti-spin me-1\"></i>Sending...');\n          \n          fetch(this.action, {\n            method: 'POST',\n            body: formData,\n            headers: {\n              'X-Requested-With': 'XMLHttpRequest'\n            }\n          })\n          .then(function(response) { \n            return response.json(); \n          })\n          .then(function(data) {\n            if (data.success) {\n              if (window.toastr) {\n                toastr.success('SMS sent successfully.');\n              }\n              var smsModal = document.querySelector('[data-modal=\"send-sms\"]');\n              if (window.bootstrap && smsModal) {\n                bootstrap.Modal.getInstance(smsModal).hide();\n              }\n            } else {\n              if (window.toastr) {\n                toastr.error(data.message || 'Error sending SMS.');\n              }\n            }\n          })\n          .catch(function(error) {\n            // console.error('Error:', error);\n            if (window.toastr) {\n              toastr.error('An error occurred while sending SMS.');\n            }\n          })\n          .finally(function() {\n            submitBtn.prop('disabled', false).html(originalText);\n          });\n        } catch (e) {\n          // console.error(\"Error sending SMS:\", e);\n        }\n      });\n      \n      // Form submission handlers for Discord DM\n      $('#sendDiscordDmForm').on('submit', function(e) {\n        e.preventDefault();\n        \n        try {\n          var charCount = $('#discordMessage').val().length;\n          if (charCount > 2000) {\n            if (window.toastr) {\n              toastr.warning('Your message exceeds the 2000 character limit for Discord. Please shorten your message.');\n            }\n            return false;\n          }\n          \n          var formData = new FormData(this);\n          var submitBtn = $(this).find('button[type=\"submit\"]');\n          var originalText = submitBtn.html();\n          \n          submitBtn.prop('disabled', true).html('<i class=\"ti ti-loader ti-spin me-1\"></i>Sending...');\n          \n          fetch(this.action, {\n            method: 'POST',\n            body: formData,\n            headers: {\n              'X-Requested-With': 'XMLHttpRequest'\n            }\n          })\n          .then(function(response) { \n            return response.json(); \n          })\n          .then(function(data) {\n            if (data.success) {\n              if (window.toastr) {\n                toastr.success('Discord DM sent successfully.');\n              }\n              var discordModal = document.querySelector('[data-modal=\"send-discord-dm\"]');\n              if (window.bootstrap && discordModal) {\n                bootstrap.Modal.getInstance(discordModal).hide();\n              }\n            } else {\n              if (window.toastr) {\n                toastr.error(data.message || 'Error sending Discord DM.');\n              }\n            }\n          })\n          .catch(function(error) {\n            // console.error('Error:', error);\n            if (window.toastr) {\n              toastr.error('An error occurred while sending Discord DM.');\n            }\n          })\n          .finally(function() {\n            submitBtn.prop('disabled', false).html(originalText);\n          });\n        } catch (e) {\n          // console.error(\"Error sending Discord DM:\", e);\n        }\n      });\n    }\n  } catch (e) {\n    // console.error(\"Global error in bindEventHandlers:\", e);\n  }\n}\n\n/**\n * Bind tab event handlers\n */\nfunction bindTabHandlers() {\n  try {\n    if (window.jQuery) {\n      var $ = window.jQuery;\n      \n      // Handle tab switching\n      $('a[data-bs-toggle=\"tab\"]').on('shown.bs.tab', function() {\n        // Fix overflow issues\n        fixDropdownsAndOverflow();\n        \n        // Adjust DataTables\n        if ($.fn.dataTable) {\n          $.fn.dataTable.tables({ visible: true, api: true }).columns.adjust();\n        }\n      });\n    }\n  } catch (e) {\n    // console.error(\"Error binding tab handlers:\", e);\n  }\n}\n\n/**\n * Load available substitutes for the assign sub modal\n */\nfunction loadAvailableSubs() {\n  try {\n    if (window.jQuery) {\n      var $ = window.jQuery;\n      \n      // Check if the assign sub modal exists\n      if ($('#assignSubModalRSVP').length === 0) {\n        return;\n      }\n      \n      // When the modal is shown, fetch substitute responses\n      $('#assignSubModalRSVP').on('shown.bs.modal', function() {\n        var subPlayerSelect = $('#subPlayerRSVP');\n        \n        // Clear existing options except the default\n        subPlayerSelect.find('option:not(:first)').remove();\n        subPlayerSelect.append('<option value=\"loading\" disabled>Loading substitute responses...</option>');\n        \n        // Determine match type and ID from the form\n        var matchIdValue = $('input[name=\"match_id\"]').val();\n        var matchType, matchId;\n        \n        if (matchIdValue.startsWith('ecs_')) {\n          matchType = 'ecs';\n          matchId = matchIdValue.substring(4); // Remove 'ecs_' prefix\n        } else {\n          matchType = 'regular';\n          matchId = matchIdValue;\n        }\n        \n        // Fetch substitute responses with color coding\n        fetch(`/api/substitute-pools/responses/${matchType}/${matchId}`)\n          .then(response => {\n            if (!response.ok) {\n              throw new Error('Network response was not ok');\n            }\n            return response.json();\n          })\n          .then(data => {\n            // Clear loading option\n            subPlayerSelect.find('option[value=\"loading\"]').remove();\n            \n            if (data.success && data.substitutes && data.substitutes.length > 0) {\n              // Update form text to show response status\n              if (data.has_responses) {\n                $('.form-text').html('<i class=\"ti ti-info-circle me-1\"></i> <span class=\"text-success\">Green = Available</span>, <span class=\"text-muted\">Gray = No Response</span>, <span class=\"text-danger\">Red = Not Available</span>');\n              }\n              \n              // Add substitutes to select with color coding\n              data.substitutes.forEach(function(sub) {\n                var option = new Option(sub.name, sub.id);\n                \n                // Add CSS classes for color coding\n                if (sub.response_status === 'available') {\n                  option.className = 'text-success fw-bold';\n                  option.textContent = ` ${sub.name}`;\n                } else if (sub.response_status === 'not_available') {\n                  option.className = 'text-danger';\n                  option.textContent = ` ${sub.name}`;\n                } else {\n                  option.className = 'text-muted';\n                  option.textContent = `- ${sub.name}`;\n                }\n                \n                subPlayerSelect.append(option);\n              });\n            } else {\n              subPlayerSelect.append('<option value=\"\" disabled>No substitutes found</option>');\n            }\n          })\n          .catch(error => {\n            console.error('Error fetching substitute responses:', error);\n            subPlayerSelect.find('option[value=\"loading\"]').remove();\n            subPlayerSelect.append('<option value=\"\" disabled>Error loading substitutes</option>');\n            \n            // Show error toast if toastr is available\n            if (window.toastr) {\n              toastr.error('Failed to load substitute responses. Please try again.');\n            }\n          });\n      });\n      \n      // Handle form submission for assigning subs\n      $('#assignSubFormRSVP').on('submit', function(e) {\n        e.preventDefault();\n        \n        var formData = new FormData(this);\n        var submitBtn = $(this).find('button[type=\"submit\"]');\n        var originalText = submitBtn.html();\n        \n        // Disable button and show loading\n        submitBtn.prop('disabled', true).html('<span class=\"spinner-border spinner-border-sm\" role=\"status\" aria-hidden=\"true\"></span> Assigning...');\n        \n        fetch(this.action, {\n          method: 'POST',\n          body: formData,\n          headers: {\n            'X-Requested-With': 'XMLHttpRequest'\n          }\n        })\n        .then(response => response.json())\n        .then(data => {\n          if (data.success) {\n            // Show success message\n            if (window.Swal) {\n              Swal.fire({\n                title: 'Success!',\n                text: data.message || 'Substitute assigned successfully.',\n                icon: 'success',\n                timer: 1500,\n                showConfirmButton: false\n              }).then(() => {\n                // Reload the page to show the updated RSVP list\n                window.location.reload();\n              });\n            } else if (window.toastr) {\n              toastr.success(data.message || 'Substitute assigned successfully.');\n              setTimeout(() => window.location.reload(), 1500);\n            } else {\n              alert('Substitute assigned successfully.');\n              window.location.reload();\n            }\n            \n            // Hide modal\n            var assignModal = document.querySelector('[data-modal=\"assign-sub\"]');\n            if (window.bootstrap && assignModal) {\n              var modal = bootstrap.Modal.getInstance(assignModal);\n              modal.hide();\n            }\n          } else {\n            // Show error message\n            if (window.Swal) {\n              Swal.fire({\n                title: 'Error',\n                text: data.message || 'Failed to assign substitute.',\n                icon: 'error'\n              });\n            } else if (window.toastr) {\n              toastr.error(data.message || 'Failed to assign substitute.');\n            } else {\n              alert('Error: ' + (data.message || 'Failed to assign substitute.'));\n            }\n          }\n        })\n        .catch(error => {\n          // console.error('Error assigning substitute:', error);\n          if (window.toastr) {\n            toastr.error('An error occurred while assigning the substitute.');\n          } else {\n            alert('An error occurred while assigning the substitute.');\n          }\n        })\n        .finally(() => {\n          // Re-enable button\n          submitBtn.prop('disabled', false).html(originalText);\n        });\n      });\n    }\n  } catch (e) {\n    // console.error(\"Error loading available subs:\", e);\n  }\n}\n\n/**\n * Fix team options in the request sub modal for Pub League Coaches\n * This function provides a client-side fallback that ensures the team selection\n * dropdown shows the teams that a coach is associated with for a match.\n */\nfunction fixTeamOptions() {\n  try {\n    // Get required DOM elements\n    var requestSubModal = document.getElementById('requestSubModal');\n    var teamSelect = document.getElementById('team_id');\n    \n    if (!requestSubModal || !teamSelect) {\n      return;\n    }\n    \n    // First check if the team select already has options (other than the default placeholder)\n    if (teamSelect.options.length > 1) {\n      // console.log(\"Team options already present, no fix needed\");\n      return;\n    } else {\n      // console.log(\"Team select has no options, applying fix\");\n    }\n    \n    // Get match information from the page\n    var matchInfoText = document.querySelector('#requestSubModal .alert-info .mb-0');\n    if (!matchInfoText) {\n      // console.log(\"Could not find match info text\");\n      return;\n    }\n    \n    var matchText = matchInfoText.textContent || '';\n    var matchParts = matchText.split(' vs ');\n    \n    if (matchParts.length < 2) {\n      // console.log(\"Could not parse match text:\", matchText);\n      return;\n    }\n    \n    var homeTeamName = matchParts[0].trim();\n    var awayTeamName = matchParts[1].split(' - ')[0].trim();\n    // console.log(\"Parsed team names:\", homeTeamName, awayTeamName);\n    \n    // Get team IDs from the modal data attributes\n    var homeTeamId = requestSubModal.dataset.homeTeamId;\n    var awayTeamId = requestSubModal.dataset.awayTeamId;\n    \n    // If data attributes are available, use them to add options immediately\n    if (homeTeamId && awayTeamId) {\n      // console.log(\"Found team IDs in data attributes:\", homeTeamId, awayTeamId);\n      \n      // For coaches, we need to determine which team they coach\n      var isAdmin = false;\n      var userRoles = document.body.dataset.userRoles || '';\n      \n      if (userRoles.includes('Global Admin') || userRoles.includes('Pub League Admin')) {\n        isAdmin = true;\n      }\n      \n      // Always add both teams for admins\n      if (isAdmin) {\n        var homeOption = document.createElement('option');\n        homeOption.value = homeTeamId;\n        homeOption.text = homeTeamName;\n        teamSelect.appendChild(homeOption);\n        \n        var awayOption = document.createElement('option');\n        awayOption.value = awayTeamId;\n        awayOption.text = awayTeamName;\n        teamSelect.appendChild(awayOption);\n        \n        // console.log(\"Added both team options for admin\");\n        return;\n      } else {\n        // For coaches, try to determine which team they coach\n        // This is the most aggressive approach - just add both teams and let the server validate\n        var homeOption = document.createElement('option');\n        homeOption.value = homeTeamId;\n        homeOption.text = homeTeamName;\n        teamSelect.appendChild(homeOption);\n        \n        var awayOption = document.createElement('option');\n        awayOption.value = awayTeamId;\n        awayOption.text = awayTeamName;\n        teamSelect.appendChild(awayOption);\n        \n        // console.log(\"Added both team options as fallback\");\n        return;\n      }\n    }\n    \n    // If we didn't have data attributes, try to find team IDs in other ways\n    // console.log(\"Data attributes not found, trying alternate methods\");\n    \n    // Try to find team IDs from other parts of the page\n    var assignSubForm = document.getElementById('assignSubFormRSVP');\n    if (assignSubForm) {\n      var subTeamSelect = document.getElementById('subTeamRSVP');\n      if (subTeamSelect && subTeamSelect.options.length > 1) {\n        // Copy options from the assign sub form\n        for (var i = 1; i < subTeamSelect.options.length; i++) {\n          var option = subTeamSelect.options[i];\n          var newOption = document.createElement('option');\n          newOption.value = option.value;\n          newOption.text = option.text;\n          teamSelect.appendChild(newOption);\n        }\n        // console.log(\"Copied options from assign sub form\");\n        return; // Successfully added options, no need to continue\n      }\n    }\n    \n    // Extract match ID from the form\n    var matchIdInput = document.querySelector('#requestSubForm input[name=\"match_id\"]');\n    var matchId = matchIdInput ? matchIdInput.value : '';\n    \n    if (!matchId) {\n      // console.log(\"Could not find match ID\");\n      return;\n    }\n    \n    // console.log(\"Making request to find match details for match ID:\", matchId);\n    \n    // Make a direct request to get match data\n    fetch('/admin/rsvp_status/' + matchId)\n      .then(response => {\n        if (!response.ok) {\n          // console.log(\"Response not OK:\", response.status);\n          return null;\n        }\n        return response.text();\n      })\n      .then(html => {\n        if (!html) return;\n        \n        // console.log(\"Received HTML response, parsing for team data\");\n        \n        // Create a temporary element to parse the HTML\n        var tempDiv = document.createElement('div');\n        tempDiv.innerHTML = html;\n        \n        // Look for team IDs in the page content\n        var teamOptions = tempDiv.querySelectorAll('#subTeamRSVP option');\n        if (teamOptions.length > 1) {\n          // Copy options to our select\n          for (var i = 1; i < teamOptions.length; i++) {\n            var option = teamOptions[i];\n            var newOption = document.createElement('option');\n            newOption.value = option.value;\n            newOption.text = option.text;\n            teamSelect.appendChild(newOption);\n          }\n          // console.log(\"Added options from parsed HTML response\");\n        } else {\n          // Last resort: create options based on the match text we parsed earlier\n          // console.log(\"Creating options based on parsed match text\");\n          \n          // Just add both teams as options and let the server handle validation\n          var homeOption = document.createElement('option');\n          homeOption.value = \"home_team\";  // Use placeholder values\n          homeOption.text = homeTeamName;\n          teamSelect.appendChild(homeOption);\n          \n          var awayOption = document.createElement('option');\n          awayOption.value = \"away_team\";  // Use placeholder values\n          awayOption.text = awayTeamName;\n          teamSelect.appendChild(awayOption);\n        }\n      })\n      .catch(error => {\n        // console.error('Error fetching match details:', error);\n        \n        // Last resort fallback: create options with placeholder values\n        // console.log(\"Error occurred, creating fallback options\");\n        \n        var homeOption = document.createElement('option');\n        homeOption.value = \"home_team\";  // Use placeholder values\n        homeOption.text = homeTeamName;\n        teamSelect.appendChild(homeOption);\n        \n        var awayOption = document.createElement('option');\n        awayOption.value = \"away_team\";  // Use placeholder values\n        awayOption.text = awayTeamName;\n        teamSelect.appendChild(awayOption);\n      });\n  } catch (e) {\n    // console.error(\"Error fixing team options:\", e);\n  }\n}\n\n// Function to ensure DataTables arrows work correctly\nfunction removeDataTablesArrows() {\n  try {\n    // Get sorting elements (this DOM query might be essential)\n    var sortingElements = document.querySelectorAll('table.dataTable thead th.sorting, table.dataTable thead th.sorting_asc, table.dataTable thead th.sorting_desc');\n    \n    // Force browser reflow by accessing computed styles (this might be the key!)\n    // The browser needs to recalculate styles after DataTables changes\n    sortingElements.forEach(function(el) {\n      // These DOM operations might be triggering the reflow that makes CSS work\n      var beforeStyle = window.getComputedStyle(el, '::before');\n      var afterStyle = window.getComputedStyle(el, '::after');\n      // Force the browser to process the style calculations\n      beforeStyle.content; \n      afterStyle.content;\n    });\n    \n  } catch (e) {\n    // Silent fail\n  }\n}\n","/**\n * ============================================================================\n * ADMIN PANEL BASE - JavaScript Controller\n * ============================================================================\n *\n * Purpose: Core functionality for admin panel base template\n * Features:\n * - Mobile navigation auto-collapse\n * - Touch gesture support\n * - Progressive loading\n * - Responsive table handling\n * - Network status monitoring\n * - Performance monitoring\n * - Global admin utilities\n *\n * Dependencies: Bootstrap 5\n * Registration: InitSystem (priority 15)\n *\n * ============================================================================\n */\n\n(function() {\n    'use strict';\n\n    /**\n     * Admin Panel Base Controller\n     * Uses data-* selectors for element binding (never classes)\n     */\n    const AdminPanelBase = {\n        // Configuration\n        CONFIG: {\n            MOBILE_BREAKPOINT: 768,\n            TABLET_BREAKPOINT: 992,\n            TOAST_DURATION_MOBILE: 3000,\n            TOAST_DURATION_DESKTOP: 5000,\n            FETCH_TIMEOUT_MOBILE: 10000,\n            FETCH_TIMEOUT_DESKTOP: 30000,\n            DEBOUNCE_WAIT: 250\n        },\n\n        // State tracking\n        _initialized: false,\n        _autoRefreshInterval: null,\n\n        /**\n         * Initialize all admin panel base functionality\n         */\n        init: function(context) {\n            context = context || document;\n\n            // Prevent duplicate initialization\n            if (this._initialized && context === document) {\n                return;\n            }\n\n            this.initMobileNavigation(context);\n            this.initAdminNavToggle(context);\n            this.initTouchGestures(context);\n            this.initProgressiveLoading(context);\n            this.initResponsiveTables(context);\n            this.initNetworkMonitoring();\n            this.initAutoRefreshManagement();\n            this.initPerformanceMonitoring();\n            this.initDoubleTapPrevention(context);\n            this.initSmoothScrolling(context);\n            this.initIOSBouncePrevent();\n\n            if (context === document) {\n                this._initialized = true;\n            }\n        },\n\n        /**\n         * Mobile navigation auto-collapse\n         * Uses data-nav-link and data-navbar-collapse selectors\n         */\n        initMobileNavigation: function(context) {\n            context = context || document;\n\n            // Query by data attribute first, then fall back to classes\n            const navLinks = context.querySelectorAll('[data-nav-link], .navbar-nav .nav-link');\n            const navbarCollapse = context.querySelector('[data-navbar-collapse], .navbar-collapse');\n\n            navLinks.forEach(link => {\n                // Skip if already enhanced\n                if (link.dataset.navEnhanced === 'true') return;\n                link.dataset.navEnhanced = 'true';\n\n                link.addEventListener('click', () => {\n                    if (window.innerWidth < this.CONFIG.TABLET_BREAKPOINT && navbarCollapse && navbarCollapse.classList.contains('show')) {\n                        const bsCollapse = bootstrap.Collapse.getInstance(navbarCollapse);\n                        if (bsCollapse) {\n                            bsCollapse.hide();\n                        }\n                    }\n                });\n            });\n        },\n\n        /**\n         * Admin panel navigation toggle (mobile)\n         * Pure CSS/JS implementation without Bootstrap collapse\n         */\n        initAdminNavToggle: function(context) {\n            context = context || document;\n\n            const toggleBtn = context.querySelector('[data-action=\"toggle-mobile-nav\"]');\n            const navContainer = context.querySelector('[data-nav-container]');\n\n            if (!toggleBtn || !navContainer) return;\n\n            // Skip if already enhanced\n            if (toggleBtn.dataset.adminNavToggleEnhanced === 'true') return;\n            toggleBtn.dataset.adminNavToggleEnhanced = 'true';\n\n            toggleBtn.addEventListener('click', () => {\n                const isCollapsed = navContainer.classList.contains('is-collapsed');\n\n                if (isCollapsed) {\n                    navContainer.classList.remove('is-collapsed');\n                    toggleBtn.setAttribute('aria-expanded', 'true');\n                } else {\n                    navContainer.classList.add('is-collapsed');\n                    toggleBtn.setAttribute('aria-expanded', 'false');\n                }\n            });\n        },\n\n        /**\n         * Touch gesture support for cards\n         * Uses data-component=\"admin-card\" selector\n         */\n        initTouchGestures: function(context) {\n            context = context || document;\n\n            const adminCards = context.querySelectorAll('[data-component=\"admin-card\"]');\n\n            adminCards.forEach(card => {\n                // Skip if already enhanced\n                if (card.dataset.gesturesEnhanced === 'true') return;\n                card.dataset.gesturesEnhanced = 'true';\n\n                let touchStartY = 0;\n\n                card.addEventListener('touchstart', (e) => {\n                    touchStartY = e.touches[0].clientY;\n                }, { passive: true });\n\n                card.addEventListener('touchend', (e) => {\n                    const touchEndY = e.changedTouches[0].clientY;\n                    const diff = touchStartY - touchEndY;\n\n                    // Simple swipe up gesture for card interaction\n                    if (Math.abs(diff) > 50 && diff > 0) {\n                        card.click();\n                    }\n                }, { passive: true });\n            });\n        },\n\n        /**\n         * Progressive loading for heavy content\n         * Uses data-lazy-load attribute\n         */\n        initProgressiveLoading: function(context) {\n            context = context || document;\n\n            if ('IntersectionObserver' in window) {\n                const observer = new IntersectionObserver((entries) => {\n                    entries.forEach(entry => {\n                        if (entry.isIntersecting) {\n                            entry.target.classList.add('loaded');\n                            entry.target.dataset.loaded = 'true';\n                            observer.unobserve(entry.target);\n                        }\n                    });\n                }, {\n                    rootMargin: '50px'\n                });\n\n                context.querySelectorAll('[data-lazy-load]').forEach(el => {\n                    if (el.dataset.loaded !== 'true') {\n                        observer.observe(el);\n                    }\n                });\n            }\n        },\n\n        /**\n         * Responsive table handling\n         * Uses data-responsive-table or .table-responsive\n         */\n        initResponsiveTables: function(context) {\n            context = context || document;\n            const self = this;\n\n            function handleResponsiveTables() {\n                // Query by data attribute first, then fall back to class\n                const tableContainers = context.querySelectorAll('[data-responsive-table], .table-responsive');\n\n                tableContainers.forEach(container => {\n                    const table = container.tagName === 'TABLE' ? container : container.querySelector('table');\n                    if (!table) return;\n\n                    if (window.innerWidth < self.CONFIG.MOBILE_BREAKPOINT) {\n                        // Add mobile-friendly data-label attributes\n                        const headers = table.querySelectorAll('th');\n                        const rows = table.querySelectorAll('tbody tr');\n\n                        rows.forEach(row => {\n                            const cells = row.querySelectorAll('td');\n                            cells.forEach((cell, index) => {\n                                if (headers[index]) {\n                                    cell.setAttribute('data-label', headers[index].textContent);\n                                }\n                            });\n                        });\n\n                        // Add mobile stack class for very small screens\n                        if (window.innerWidth < 576) {\n                            table.classList.add('table-mobile-stack');\n                            table.dataset.mobileStack = 'true';\n                        }\n                    } else {\n                        table.classList.remove('table-mobile-stack');\n                        table.dataset.mobileStack = 'false';\n                    }\n                });\n            }\n\n            // Call on load and resize\n            handleResponsiveTables();\n            window.addEventListener('resize', this.debounce(handleResponsiveTables, this.CONFIG.DEBOUNCE_WAIT));\n        },\n\n        /**\n         * Network status monitoring\n         * Uses data-component=\"network-status\" selector\n         */\n        initNetworkMonitoring: function() {\n            // Avoid duplicate listeners\n            if (this._networkMonitoringSetup) return;\n            this._networkMonitoringSetup = true;\n\n            const self = this;\n\n            function updateNetworkStatus() {\n                const statusIndicator = document.querySelector('[data-component=\"network-status\"]');\n                if (!statusIndicator) return;\n\n                if (navigator.onLine) {\n                    statusIndicator.classList.remove('c-admin-panel-base__network-status--offline');\n                    statusIndicator.classList.add('c-admin-panel-base__network-status--online');\n                    statusIndicator.dataset.status = 'online';\n                    statusIndicator.title = 'Online';\n                } else {\n                    statusIndicator.classList.remove('c-admin-panel-base__network-status--online');\n                    statusIndicator.classList.add('c-admin-panel-base__network-status--offline');\n                    statusIndicator.dataset.status = 'offline';\n                    statusIndicator.title = 'Offline';\n\n                    // Show offline notification\n                    self.showMobileToast('You are currently offline. Some features may not work.', 'warning');\n                }\n            }\n\n            window.addEventListener('online', () => {\n                updateNetworkStatus();\n                self.showMobileToast('Connection restored', 'success');\n            });\n\n            window.addEventListener('offline', updateNetworkStatus);\n            updateNetworkStatus();\n        },\n\n        /**\n         * Auto-refresh management for mobile battery optimization\n         */\n        initAutoRefreshManagement: function() {\n            // Avoid duplicate listeners\n            if (this._autoRefreshSetup) return;\n            this._autoRefreshSetup = true;\n\n            const self = this;\n\n            function manageAutoRefresh() {\n                if (window.innerWidth < self.CONFIG.MOBILE_BREAKPOINT) {\n                    // Clear any existing auto-refresh on mobile\n                    if (self._autoRefreshInterval) {\n                        clearInterval(self._autoRefreshInterval);\n                        console.log('Auto-refresh disabled on mobile for battery optimization');\n                    }\n                }\n            }\n\n            window.addEventListener('resize', this.debounce(manageAutoRefresh, this.CONFIG.DEBOUNCE_WAIT));\n            manageAutoRefresh();\n        },\n\n        /**\n         * Performance monitoring\n         */\n        initPerformanceMonitoring: function() {\n            // Avoid duplicate observers\n            if (this._performanceMonitoringSetup) return;\n            this._performanceMonitoringSetup = true;\n\n            const self = this;\n\n            if ('PerformanceObserver' in window) {\n                const observer = new PerformanceObserver((list) => {\n                    const entries = list.getEntries();\n                    entries.forEach(entry => {\n                        if (entry.entryType === 'navigation') {\n                            const loadTime = entry.loadEventEnd - entry.loadEventStart;\n                            console.log('Page load time:', loadTime + 'ms');\n\n                            // Warn on slow loading for mobile\n                            if (loadTime > 3000 && window.innerWidth < self.CONFIG.MOBILE_BREAKPOINT) {\n                                console.warn('Slow page load detected on mobile');\n                            }\n                        }\n                    });\n                });\n\n                try {\n                    observer.observe({ entryTypes: ['navigation'] });\n                } catch (e) {\n                    console.log('Performance observer not fully supported');\n                }\n            }\n        },\n\n        /**\n         * Prevent double-tap zoom on buttons and forms\n         * Uses data-action or falls back to element types\n         * EXCLUDES navigation elements that have their own event handling\n         */\n        initDoubleTapPrevention: function(context) {\n            context = context || document;\n\n            // Query by data-action first, then fall back to element types\n            // EXCLUDE navigation elements - they have their own controller\n            const interactiveElements = context.querySelectorAll(\n                '[data-action]:not([data-action=\"toggle-dropdown\"]):not([data-action=\"navigate\"]), ' +\n                'button:not(.c-admin-nav__link):not(.c-admin-nav__dropdown-toggle), ' +\n                '.c-btn:not(.c-admin-nav__link), input, select, textarea'\n            );\n\n            interactiveElements.forEach(element => {\n                // Skip if already enhanced\n                if (element.dataset.doubleTapPrevented === 'true') return;\n                // Skip if inside admin navigation\n                if (element.closest('[data-controller=\"admin-nav\"]')) return;\n\n                element.dataset.doubleTapPrevented = 'true';\n\n                element.addEventListener('touchend', function(e) {\n                    if (this.disabled) return;\n                    e.preventDefault();\n                    this.click();\n                }, { passive: false });\n\n                element.addEventListener('click', function(e) {\n                    if (e.detail > 1) {\n                        e.preventDefault();\n                    }\n                });\n            });\n        },\n\n        /**\n         * Smooth scrolling for anchor links\n         */\n        initSmoothScrolling: function(context) {\n            context = context || document;\n\n            context.querySelectorAll('a[href^=\"#\"]').forEach(anchor => {\n                // Skip if already enhanced\n                if (anchor.dataset.smoothScrollEnhanced === 'true') return;\n                anchor.dataset.smoothScrollEnhanced = 'true';\n\n                anchor.addEventListener('click', function(e) {\n                    const href = this.getAttribute('href');\n                    // Skip empty hash links (href=\"#\") - they're not valid selectors\n                    if (!href || href === '#') {\n                        return;\n                    }\n                    e.preventDefault();\n                    try {\n                        const target = document.querySelector(href);\n                        if (target) {\n                            target.scrollIntoView({\n                                behavior: 'smooth',\n                                block: 'start'\n                            });\n                        }\n                    } catch (err) {\n                        // Invalid selector, ignore\n                        console.debug('Invalid anchor selector:', href);\n                    }\n                });\n            });\n        },\n\n        /**\n         * Prevent iOS bounce scroll\n         */\n        initIOSBouncePrevent: function() {\n            // Avoid duplicate listeners\n            if (this._iosBouncePreventSetup) return;\n            this._iosBouncePreventSetup = true;\n\n            document.body.addEventListener('touchstart', function(e) {\n                if (e.target === document.body) {\n                    e.preventDefault();\n                }\n            }, { passive: false });\n\n            document.body.addEventListener('touchend', function(e) {\n                if (e.target === document.body) {\n                    e.preventDefault();\n                }\n            }, { passive: false });\n\n            document.body.addEventListener('touchmove', function(e) {\n                if (e.target === document.body) {\n                    e.preventDefault();\n                }\n            }, { passive: false });\n        },\n\n        /**\n         * Utility: Debounce function\n         */\n        debounce: function(func, wait) {\n            let timeout;\n            return function executedFunction(...args) {\n                const later = () => {\n                    clearTimeout(timeout);\n                    func(...args);\n                };\n                clearTimeout(timeout);\n                timeout = setTimeout(later, wait);\n            };\n        },\n\n        // ========================================================================\n        // PUBLIC API - Global Admin Panel Utilities\n        // ========================================================================\n\n        /**\n         * Check if device is mobile\n         */\n        isMobile: function() {\n            return window.innerWidth < this.CONFIG.MOBILE_BREAKPOINT;\n        },\n\n        /**\n         * Check if device is tablet\n         */\n        isTablet: function() {\n            return window.innerWidth >= this.CONFIG.MOBILE_BREAKPOINT &&\n                   window.innerWidth < this.CONFIG.TABLET_BREAKPOINT;\n        },\n\n        /**\n         * Check if device is desktop\n         */\n        isDesktop: function() {\n            return window.innerWidth >= this.CONFIG.TABLET_BREAKPOINT;\n        },\n\n        /**\n         * Show mobile-friendly toast notification\n         * Uses data-component=\"toast-container\" selector\n         */\n        showMobileToast: function(message, type) {\n            type = type || 'info';\n\n            const toast = document.createElement('div');\n            toast.className = `toast align-items-center text-white bg-${type} border-0`;\n            toast.setAttribute('role', 'alert');\n            toast.setAttribute('aria-live', 'assertive');\n            toast.setAttribute('aria-atomic', 'true');\n            toast.dataset.toast = type;\n            toast.innerHTML = `\n                <div class=\"d-flex\">\n                    <div class=\"toast-body\">${message}</div>\n                    <button type=\"button\" class=\"btn-close btn-close-white me-2 m-auto\" data-bs-dismiss=\"toast\" data-action=\"close-toast\" aria-label=\"Close\"></button>\n                </div>\n            `;\n\n            const container = document.querySelector('[data-component=\"toast-container\"]');\n            if (container) {\n                container.appendChild(toast);\n\n                const toastInstance = new bootstrap.Toast(toast, {\n                    autohide: true,\n                    delay: this.isMobile() ? this.CONFIG.TOAST_DURATION_MOBILE : this.CONFIG.TOAST_DURATION_DESKTOP\n                });\n\n                toastInstance.show();\n\n                toast.addEventListener('hidden.bs.toast', () => {\n                    toast.remove();\n                });\n            }\n        },\n\n        /**\n         * Confirm action with mobile-optimized UX\n         * @param {string} message - The confirmation message\n         * @param {function} callback - Function to call if confirmed\n         * @param {object} options - Optional configuration\n         * @param {string} options.confirmText - Custom confirm button text\n         * @param {string} options.cancelText - Custom cancel button text\n         * @param {string} options.title - Custom title\n         * @param {string} options.icon - SweetAlert icon (warning, question, info, error)\n         * @param {string} options.confirmColor - Confirm button color (#hex or Bootstrap class)\n         */\n        confirmAction: function(message, callback, options) {\n            options = options || {};\n\n            // Smart defaults based on message content\n            const messageLower = message.toLowerCase();\n            let defaultConfirm = 'Confirm';\n            let defaultCancel = 'Cancel';\n            let defaultIcon = 'question';\n            let defaultTitle = 'Confirm Action';\n            let defaultColor = '#3085d6';\n\n            // Contextual button text based on action type\n            if (messageLower.includes('delete') || messageLower.includes('remove')) {\n                defaultConfirm = 'Delete';\n                defaultIcon = 'warning';\n                defaultTitle = 'Confirm Delete';\n                defaultColor = '#dc3545'; // danger red\n            } else if (messageLower.includes('sync')) {\n                defaultConfirm = 'Sync';\n                defaultIcon = 'question';\n                defaultTitle = 'Confirm Sync';\n            } else if (messageLower.includes('reset')) {\n                defaultConfirm = 'Reset';\n                defaultIcon = 'warning';\n                defaultTitle = 'Confirm Reset';\n                defaultColor = '#dc3545';\n            } else if (messageLower.includes('clear')) {\n                defaultConfirm = 'Clear';\n                defaultIcon = 'warning';\n                defaultTitle = 'Confirm Clear';\n                defaultColor = '#dc3545';\n            } else if (messageLower.includes('approve')) {\n                defaultConfirm = 'Approve';\n                defaultIcon = 'question';\n                defaultTitle = 'Confirm Approval';\n                defaultColor = '#28a745'; // success green\n            } else if (messageLower.includes('reject') || messageLower.includes('deny')) {\n                defaultConfirm = 'Reject';\n                defaultIcon = 'warning';\n                defaultTitle = 'Confirm Rejection';\n                defaultColor = '#dc3545';\n            } else if (messageLower.includes('send')) {\n                defaultConfirm = 'Send';\n                defaultIcon = 'question';\n                defaultTitle = 'Confirm Send';\n            } else if (messageLower.includes('save')) {\n                defaultConfirm = 'Save';\n                defaultIcon = 'question';\n                defaultTitle = 'Confirm Save';\n                defaultColor = '#28a745';\n            } else if (messageLower.includes('cancel')) {\n                defaultConfirm = 'Yes, Cancel';\n                defaultIcon = 'warning';\n                defaultTitle = 'Confirm Cancellation';\n            } else if (messageLower.includes('disable')) {\n                defaultConfirm = 'Disable';\n                defaultIcon = 'warning';\n                defaultTitle = 'Confirm Disable';\n                defaultColor = '#dc3545';\n            } else if (messageLower.includes('enable')) {\n                defaultConfirm = 'Enable';\n                defaultIcon = 'question';\n                defaultTitle = 'Confirm Enable';\n                defaultColor = '#28a745';\n            } else if (messageLower.includes('continue')) {\n                defaultConfirm = 'Continue';\n            }\n\n            const confirmText = options.confirmText || defaultConfirm;\n            const cancelText = options.cancelText || defaultCancel;\n            const title = options.title || defaultTitle;\n            const icon = options.icon || defaultIcon;\n            const confirmColor = options.confirmColor || defaultColor;\n\n            if (this.isMobile()) {\n                // Use native confirm on mobile for better UX\n                if (confirm(message)) {\n                    callback();\n                }\n            } else {\n                // Use SweetAlert2 on desktop if available\n                if (typeof Swal !== 'undefined') {\n                    Swal.fire({\n                        title: title,\n                        text: message,\n                        icon: icon,\n                        showCancelButton: true,\n                        confirmButtonText: confirmText,\n                        cancelButtonText: cancelText,\n                        confirmButtonColor: confirmColor,\n                        cancelButtonColor: '#6c757d',\n                        reverseButtons: true // Cancel on left, Confirm on right\n                    }).then((result) => {\n                        if (result.isConfirmed) {\n                            callback();\n                        }\n                    });\n                } else {\n                    if (confirm(message)) {\n                        callback();\n                    }\n                }\n            }\n        },\n\n        /**\n         * Show loading state on element\n         */\n        showLoading: function(element) {\n            if (element) {\n                element.classList.add('is-loading');\n                element.dataset.loading = 'true';\n            }\n        },\n\n        /**\n         * Hide loading state on element\n         */\n        hideLoading: function(element) {\n            if (element) {\n                element.classList.remove('is-loading');\n                element.dataset.loading = 'false';\n            }\n        },\n\n        /**\n         * Optimized fetch for mobile with timeout and error handling\n         */\n        fetch: async function(url, options) {\n            options = options || {};\n            const self = this;\n            const controller = new AbortController();\n            const timeoutId = setTimeout(\n                () => controller.abort(),\n                self.isMobile() ? self.CONFIG.FETCH_TIMEOUT_MOBILE : self.CONFIG.FETCH_TIMEOUT_DESKTOP\n            );\n\n            try {\n                const response = await fetch(url, {\n                    ...options,\n                    signal: controller.signal\n                });\n\n                clearTimeout(timeoutId);\n                return response;\n            } catch (error) {\n                clearTimeout(timeoutId);\n\n                if (error.name === 'AbortError') {\n                    self.showMobileToast('Request timed out. Please try again.', 'warning');\n                } else if (!navigator.onLine) {\n                    self.showMobileToast('No internet connection. Please check your network.', 'danger');\n                }\n\n                throw error;\n            }\n        }\n    };\n\n    /**\n     * Service Worker Registration (for offline support)\n     */\n    function registerServiceWorker() {\n        if ('serviceWorker' in navigator && 'caches' in window) {\n            window.addEventListener('load', () => {\n                navigator.serviceWorker.register('/static/js/service-worker.js')\n                    .then(registration => {\n                        console.log('Service Worker registered:', registration);\n                    })\n                    .catch(error => {\n                        console.log('Service Worker registration failed:', error);\n                    });\n            });\n        }\n    }\n\n    // Register with InitSystem if available\n    if (typeof window.InitSystem !== 'undefined') {\n        window.InitSystem.register('AdminPanelBase', {\n            priority: 15, // Early priority - after responsive-global (10) but before most components\n            init: function(context) {\n                AdminPanelBase.init(context);\n                registerServiceWorker();\n            }\n        });\n    } else {\n        // Fallback to DOMContentLoaded\n        document.addEventListener('DOMContentLoaded', function() {\n            AdminPanelBase.init(document);\n            registerServiceWorker();\n        });\n    }\n\n    // Expose AdminPanel globally for backward compatibility\n    window.AdminPanel = AdminPanelBase;\n\n    // Also expose as AdminPanelBase for explicit access\n    window.AdminPanelBase = AdminPanelBase;\n\n})();\n","/**\n * ============================================================================\n * ADMIN PANEL DASHBOARD - JAVASCRIPT CONTROLLER\n * ============================================================================\n *\n * Handles all interactions for the admin panel dashboard.\n * Uses the centralized EventDelegation system for all click handling.\n *\n * Features:\n * - Navigation handling\n * - Modal dialogs (navigation settings, registration settings, etc.)\n * - Task monitoring\n * - Database monitoring\n * - Match reports\n *\n * Architecture:\n * - Registers handlers with EventDelegation (no duplicate listeners)\n * - Data-action attribute driven\n * - No inline event handlers\n *\n * ============================================================================\n */\n\n(function() {\n  'use strict';\n\n  // ============================================================================\n  // INITIALIZATION\n  // ============================================================================\n\n  function init() {\n    // Only initialize if we're on the admin dashboard page\n    if (!document.querySelector('.admin-panel-dashboard, [data-page=\"admin-dashboard\"]')) {\n      return;\n    }\n\n    registerEventHandlers();\n    highlightActiveNav();\n    setupNavigationCards();\n\n    console.log('[AdminDashboard] Initialized');\n  }\n\n  // ============================================================================\n  // EVENT REGISTRATION - Uses central EventDelegation system\n  // ============================================================================\n\n  function registerEventHandlers() {\n    // Check if EventDelegation is available\n    if (typeof EventDelegation === 'undefined') {\n      console.warn('[AdminDashboard] EventDelegation not available, skipping handler registration');\n      return;\n    }\n\n    // Register only the actions this module handles\n    EventDelegation.register('navigate', handleNavigate);\n    EventDelegation.register('open-navigation-settings', openNavigationSettings, { preventDefault: true });\n    EventDelegation.register('open-registration-settings', openRegistrationSettings, { preventDefault: true });\n    EventDelegation.register('open-task-monitor', openTaskMonitor, { preventDefault: true });\n    EventDelegation.register('open-database-monitor', openDatabaseMonitor, { preventDefault: true });\n    EventDelegation.register('open-match-reports', openMatchReports, { preventDefault: true });\n    EventDelegation.register('generate-report', generateReport, { preventDefault: true });\n  }\n\n  function setupNavigationCards() {\n    // Add pointer cursor to navigation cards\n    document.querySelectorAll('[data-action=\"navigate\"]').forEach(card => {\n      card.style.cursor = 'pointer';\n    });\n  }\n\n  // ============================================================================\n  // NAVIGATION\n  // ============================================================================\n\n  function handleNavigate(element) {\n    const url = element.dataset.url;\n    if (url) {\n      window.location.href = url;\n    }\n  }\n\n  function highlightActiveNav() {\n    const currentPath = window.location.pathname;\n    const navLinks = document.querySelectorAll('.nav-pills .nav-link');\n\n    navLinks.forEach(link => {\n      if (currentPath.includes(link.getAttribute('href'))) {\n        link.classList.add('active');\n      }\n    });\n  }\n\n  // ============================================================================\n  // MODAL: NAVIGATION SETTINGS\n  // ============================================================================\n\n  function openNavigationSettings() {\n    if (typeof Swal === 'undefined') {\n      alert('SweetAlert2 is required for this feature');\n      return;\n    }\n\n    Swal.fire({\n      title: 'Navigation Settings',\n      html: '<div class=\"text-center\"><div class=\"spinner-border\" role=\"status\"><span class=\"visually-hidden\">Loading...</span></div><p class=\"mt-2\">Loading navigation settings...</p></div>',\n      showConfirmButton: false,\n      allowOutsideClick: false\n    });\n\n    fetch('/admin-panel/api/navigation-settings')\n      .then(response => response.json())\n      .then(data => {\n        if (data.success) {\n          showNavigationSettingsModal(data.settings);\n        } else {\n          Swal.fire('Error', data.message || 'Failed to load navigation settings', 'error');\n        }\n      })\n      .catch(error => {\n        console.error('Navigation settings error:', error);\n        Swal.fire('Error', 'Failed to load navigation settings', 'error');\n      });\n  }\n\n  function showNavigationSettingsModal(settings) {\n    const html = `\n      <div class=\"text-start\">\n        <p class=\"text-info mb-3\"><i class=\"ti ti-info-circle me-1\"></i>Control which navigation items are visible to non-admin users. Admins can always see all navigation items.</p>\n\n        <div class=\"row\">\n          <div class=\"col-md-6\">\n            ${createToggle('teamsNav', 'Teams Navigation', 'Team rosters and management for pl-premier, pl-classic roles', settings.teams_navigation_enabled)}\n            ${createToggle('storeNav', 'Store Navigation', 'League store for coaches and admins', settings.store_navigation_enabled)}\n            ${createToggle('matchesNav', 'Matches Navigation', 'Match schedules and results', settings.matches_navigation_enabled)}\n            ${createToggle('leaguesNav', 'Leagues Navigation', 'League standings and information', settings.leagues_navigation_enabled)}\n          </div>\n          <div class=\"col-md-6\">\n            ${createToggle('draftsNav', 'Drafts Navigation', 'Draft system for coaches', settings.drafts_navigation_enabled)}\n            ${createToggle('playersNav', 'Players Navigation', 'Player profiles and statistics', settings.players_navigation_enabled)}\n            ${createToggle('messagingNav', 'Messaging Navigation', 'Communication tools', settings.messaging_navigation_enabled)}\n            ${createToggle('mobileFeaturesNav', 'Mobile Features Navigation', 'Mobile app integration', settings.mobile_features_navigation_enabled)}\n          </div>\n        </div>\n      </div>\n    `;\n\n    Swal.fire({\n      title: 'Navigation Settings',\n      html: html,\n      width: '800px',\n      showCancelButton: true,\n      confirmButtonText: 'Save Settings',\n      cancelButtonText: 'Cancel',\n      showLoaderOnConfirm: true,\n      preConfirm: () => saveNavigationSettings(),\n      allowOutsideClick: () => !Swal.isLoading()\n    }).then((result) => {\n      if (result.isConfirmed) {\n        Swal.fire({\n          title: 'Settings Saved!',\n          text: 'Navigation settings have been updated successfully. Changes will take effect immediately.',\n          icon: 'success'\n        }).then(() => {\n          location.reload();\n        });\n      }\n    });\n  }\n\n  function saveNavigationSettings() {\n    const formData = {\n      teams_navigation_enabled: document.getElementById('teamsNav').checked,\n      store_navigation_enabled: document.getElementById('storeNav').checked,\n      matches_navigation_enabled: document.getElementById('matchesNav').checked,\n      leagues_navigation_enabled: document.getElementById('leaguesNav').checked,\n      drafts_navigation_enabled: document.getElementById('draftsNav').checked,\n      players_navigation_enabled: document.getElementById('playersNav').checked,\n      messaging_navigation_enabled: document.getElementById('messagingNav').checked,\n      mobile_features_navigation_enabled: document.getElementById('mobileFeaturesNav').checked\n    };\n\n    return fetch('/admin-panel/api/navigation-settings', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n        'X-CSRFToken': getCSRFToken()\n      },\n      body: JSON.stringify(formData)\n    })\n    .then(response => response.json())\n    .then(data => {\n      if (!data.success) {\n        throw new Error(data.message);\n      }\n      return data;\n    });\n  }\n\n  // ============================================================================\n  // MODAL: REGISTRATION SETTINGS\n  // ============================================================================\n\n  function openRegistrationSettings() {\n    if (typeof Swal === 'undefined') {\n      alert('SweetAlert2 is required for this feature');\n      return;\n    }\n\n    Swal.fire({\n      title: 'Registration Settings',\n      html: '<div class=\"text-center\"><div class=\"spinner-border\" role=\"status\"><span class=\"visually-hidden\">Loading...</span></div><p class=\"mt-2\">Loading registration settings...</p></div>',\n      showConfirmButton: false,\n      allowOutsideClick: false\n    });\n\n    fetch('/admin-panel/api/registration-settings')\n      .then(response => response.json())\n      .then(data => {\n        if (data.success) {\n          showRegistrationSettingsModal(data.settings, data.available_roles);\n        } else {\n          Swal.fire('Error', data.message || 'Failed to load registration settings', 'error');\n        }\n      })\n      .catch(error => {\n        console.error('Registration settings error:', error);\n        Swal.fire('Error', 'Failed to load registration settings', 'error');\n      });\n  }\n\n  function showRegistrationSettingsModal(settings, roles) {\n    const roleOptions = roles.map(role =>\n      `<option value=\"${role.name}\" ${settings.default_user_role === role.name ? 'selected' : ''}>${role.name}</option>`\n    ).join('');\n\n    const html = `\n      <div class=\"text-start\">\n        <p class=\"text-info mb-3\"><i class=\"ti ti-info-circle me-1\"></i>Configure registration settings based on your actual onboarding flow. Discord OAuth is the primary login method.</p>\n\n        <div class=\"row\">\n          <div class=\"col-md-6\">\n            <h6 class=\"text-primary mb-3\">Registration Control</h6>\n            ${createToggle('registrationEnabled', 'Allow New Registration', 'Enable/disable new user registration', settings.registration_enabled)}\n            ${createToggle('waitlistEnabled', 'Enable Waitlist', 'Allow waitlist registration when full', settings.waitlist_registration_enabled)}\n            ${createToggle('adminApproval', 'Admin Approval Required', 'All new users need admin approval', settings.admin_approval_required)}\n            ${createToggle('discordOnly', 'Discord Only Login', 'Only Discord OAuth allowed (FIXED)', true, true)}\n\n            <div class=\"mb-3\">\n              <label class=\"form-label\">Default User Role</label>\n              <select class=\"form-select\" id=\"defaultRole\">\n                ${roleOptions}\n              </select>\n              <small class=\"text-muted\">Role assigned to new registered users</small>\n            </div>\n          </div>\n          <div class=\"col-md-6\">\n            <h6 class=\"text-primary mb-3\">Registration Fields</h6>\n            ${createToggle('requireRealName', 'Require Real Name', '', settings.require_real_name)}\n            ${createToggle('requireEmail', 'Require Email', '', settings.require_email)}\n            ${createToggle('requirePhone', 'Require Phone Number', '', settings.require_phone)}\n            ${createToggle('requireLocation', 'Require Location', '', settings.require_location)}\n            ${createToggle('requireJerseySize', 'Require Jersey Size', '', settings.require_jersey_size)}\n            ${createToggle('requirePositions', 'Require Position Preferences', '', settings.require_position_preferences)}\n            ${createToggle('requireAvailability', 'Require Availability Info', '', settings.require_availability)}\n            ${createToggle('requireReferee', 'Require Referee Willingness', '', settings.require_referee_willingness)}\n          </div>\n        </div>\n        <div class=\"alert alert-info mt-3\">\n          <small><i class=\"ti ti-info-circle me-1\"></i>These settings reflect your real onboarding form fields. Discord OAuth is your primary authentication method.</small>\n        </div>\n      </div>\n    `;\n\n    Swal.fire({\n      title: 'Registration Settings',\n      html: html,\n      width: '900px',\n      showCancelButton: true,\n      confirmButtonText: 'Save Settings',\n      cancelButtonText: 'Cancel',\n      showLoaderOnConfirm: true,\n      preConfirm: () => saveRegistrationSettings(),\n      allowOutsideClick: () => !Swal.isLoading()\n    }).then((result) => {\n      if (result.isConfirmed) {\n        Swal.fire({\n          title: 'Settings Saved!',\n          text: 'Registration settings have been updated successfully. Changes will affect new registrations immediately.',\n          icon: 'success'\n        });\n      }\n    });\n  }\n\n  function saveRegistrationSettings() {\n    const formData = {\n      registration_enabled: document.getElementById('registrationEnabled').checked,\n      waitlist_registration_enabled: document.getElementById('waitlistEnabled').checked,\n      admin_approval_required: document.getElementById('adminApproval').checked,\n      discord_only_login: true,\n      default_user_role: document.getElementById('defaultRole').value,\n      require_real_name: document.getElementById('requireRealName').checked,\n      require_email: document.getElementById('requireEmail').checked,\n      require_phone: document.getElementById('requirePhone').checked,\n      require_location: document.getElementById('requireLocation').checked,\n      require_jersey_size: document.getElementById('requireJerseySize').checked,\n      require_position_preferences: document.getElementById('requirePositions').checked,\n      require_availability: document.getElementById('requireAvailability').checked,\n      require_referee_willingness: document.getElementById('requireReferee').checked\n    };\n\n    return fetch('/admin-panel/api/registration-settings', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n        'X-CSRFToken': getCSRFToken()\n      },\n      body: JSON.stringify(formData)\n    })\n    .then(response => response.json())\n    .then(data => {\n      if (!data.success) {\n        throw new Error(data.message);\n      }\n      return data;\n    });\n  }\n\n  // ============================================================================\n  // MODAL: TASK MONITOR\n  // ============================================================================\n\n  function openTaskMonitor() {\n    if (typeof Swal === 'undefined') {\n      alert('SweetAlert2 is required for this feature');\n      return;\n    }\n\n    Swal.fire({\n      title: 'Task Monitor',\n      html: '<div class=\"text-center\"><div class=\"spinner-border\" role=\"status\"><span class=\"visually-hidden\">Loading...</span></div><p class=\"mt-2\">Loading task information...</p></div>',\n      width: '800px',\n      showConfirmButton: false,\n      allowOutsideClick: false\n    });\n\n    fetch('/admin-panel/api/task-monitor')\n      .then(response => response.json())\n      .then(data => {\n        showTaskMonitorModal(data);\n      })\n      .catch(error => {\n        console.error('Error loading task monitor:', error);\n        Swal.fire('Error', 'Failed to load task monitor data', 'error');\n      });\n  }\n\n  function showTaskMonitorModal(data) {\n    let tasksHtml = '';\n    if (data.tasks && data.tasks.length > 0) {\n      data.tasks.forEach(task => {\n        const statusClass = task.status === 'active' ? 'success' : 'secondary';\n        tasksHtml += `\n          <tr>\n            <td>${task.name}</td>\n            <td><span class=\"badge bg-${statusClass}\">${task.status}</span></td>\n            <td>${task.started || '-'}</td>\n            <td>${task.worker || '-'}</td>\n            <td class=\"text-truncate\">${task.args || '-'}</td>\n          </tr>\n        `;\n      });\n    } else {\n      tasksHtml = '<tr><td colspan=\"5\" class=\"text-center text-muted\">No active tasks found</td></tr>';\n    }\n\n    const html = `\n      <div class=\"text-start\">\n        <div class=\"row mb-3\">\n          <div class=\"col-md-4\">\n            <div class=\"card bg-success text-white\">\n              <div class=\"card-body text-center\">\n                <h4>${data.active_count || 0}</h4>\n                <small>Active Tasks</small>\n              </div>\n            </div>\n          </div>\n          <div class=\"col-md-4\">\n            <div class=\"card bg-warning text-white\">\n              <div class=\"card-body text-center\">\n                <h4>${data.scheduled_count || 0}</h4>\n                <small>Scheduled Tasks</small>\n              </div>\n            </div>\n          </div>\n          <div class=\"col-md-4\">\n            <div class=\"card bg-info text-white\">\n              <div class=\"card-body text-center\">\n                <h4>${data.worker_count || 0}</h4>\n                <small>Workers</small>\n              </div>\n            </div>\n          </div>\n        </div>\n        <div class=\"table-responsive\">\n          <table class=\"table table-sm\">\n            <thead>\n              <tr>\n                <th>Task Name</th>\n                <th>Status</th>\n                <th>Started</th>\n                <th>Worker</th>\n                <th>Arguments</th>\n              </tr>\n            </thead>\n            <tbody>\n              ${tasksHtml}\n            </tbody>\n          </table>\n        </div>\n        ${data.message ? `<div class=\"alert alert-info\"><small>${data.message}</small></div>` : ''}\n        <p class=\"text-muted mt-3\"><small>Task monitoring shows real-time background processes and scheduled jobs.</small></p>\n      </div>\n    `;\n\n    Swal.fire({\n      title: 'Task Monitor',\n      html: html,\n      width: '900px',\n      confirmButtonText: 'Close'\n    });\n  }\n\n  // ============================================================================\n  // MODAL: DATABASE MONITOR\n  // ============================================================================\n\n  function openDatabaseMonitor() {\n    if (typeof Swal === 'undefined') {\n      alert('SweetAlert2 is required for this feature');\n      return;\n    }\n\n    Swal.fire({\n      title: 'Database Monitor',\n      html: '<div class=\"text-center\"><div class=\"spinner-border\" role=\"status\"><span class=\"visually-hidden\">Loading...</span></div><p class=\"mt-2\">Loading system information...</p></div>',\n      width: '900px',\n      showConfirmButton: false,\n      allowOutsideClick: false\n    });\n\n    fetch('/admin-panel/api/system-status')\n      .then(response => response.json())\n      .then(data => {\n        showDatabaseMonitorModal(data);\n      })\n      .catch(error => {\n        console.error('Error loading database monitor:', error);\n        Swal.fire('Error', 'Failed to load system monitor data', 'error');\n      });\n  }\n\n  function showDatabaseMonitorModal(data) {\n    const html = `\n      <div class=\"text-start\">\n        <div class=\"row mb-3\">\n          <div class=\"col-md-3\">\n            <div class=\"card bg-info text-white\">\n              <div class=\"card-body text-center\">\n                <h4>${data.system.cpu_percent}%</h4>\n                <small>CPU Usage</small>\n              </div>\n            </div>\n          </div>\n          <div class=\"col-md-3\">\n            <div class=\"card bg-success text-white\">\n              <div class=\"card-body text-center\">\n                <h4>${data.system.memory_percent}%</h4>\n                <small>Memory Usage</small>\n              </div>\n            </div>\n          </div>\n          <div class=\"col-md-3\">\n            <div class=\"card bg-primary text-white\">\n              <div class=\"card-body text-center\">\n                <h4>${data.services.database.response_time_ms}ms</h4>\n                <small>DB Response Time</small>\n              </div>\n            </div>\n          </div>\n          <div class=\"col-md-3\">\n            <div class=\"card bg-${data.services.redis.status === 'online' ? 'success' : 'danger'} text-white\">\n              <div class=\"card-body text-center\">\n                <h4>${data.services.redis.response_time_ms}ms</h4>\n                <small>Redis Response</small>\n              </div>\n            </div>\n          </div>\n        </div>\n        <p class=\"text-muted mt-3\"><small>Real-time system monitoring data updated at ${new Date(data.timestamp).toLocaleString()}.</small></p>\n      </div>\n    `;\n\n    Swal.fire({\n      title: 'System Monitor',\n      html: html,\n      width: '900px',\n      confirmButtonText: 'Close'\n    });\n  }\n\n  // ============================================================================\n  // MODAL: MATCH REPORTS\n  // ============================================================================\n\n  function openMatchReports() {\n    if (typeof Swal === 'undefined') {\n      alert('SweetAlert2 is required for this feature');\n      return;\n    }\n\n    Swal.fire({\n      title: 'Match Reports',\n      html: `\n        <div class=\"text-start\">\n          <p class=\"text-info mb-3\"><i class=\"ti ti-info-circle me-1\"></i>Generate comprehensive match reports with various options.</p>\n          <div class=\"alert alert-warning\">\n            <strong>Note:</strong> This feature is currently in development. Report generation will be available soon.\n          </div>\n        </div>\n      `,\n      width: '600px',\n      confirmButtonText: 'Close'\n    });\n  }\n\n  function generateReport() {\n    console.log('Generate report functionality coming soon');\n  }\n\n  // ============================================================================\n  // UTILITIES\n  // ============================================================================\n\n  function createToggle(id, label, description, checked, disabled = false) {\n    return `\n      <div class=\"mb-3\">\n        <div class=\"form-check form-switch\">\n          <input class=\"form-check-input\" type=\"checkbox\" id=\"${id}\" ${checked ? 'checked' : ''} ${disabled ? 'disabled' : ''}>\n          <label class=\"form-check-label\" for=\"${id}\">\n            <strong>${label}</strong>\n            ${description ? `<br><small class=\"text-muted\">${description}</small>` : ''}\n          </label>\n        </div>\n      </div>\n    `;\n  }\n\n  function getCSRFToken() {\n    const metaToken = document.querySelector('meta[name=\"csrf-token\"]');\n    if (metaToken) {\n      return metaToken.getAttribute('content');\n    }\n\n    const formToken = document.querySelector('input[name=\"csrf_token\"]');\n    if (formToken) {\n      return formToken.value;\n    }\n\n    console.error('CSRF token not found');\n    return '';\n  }\n\n  // ============================================================================\n  // AUTO-INITIALIZE\n  // ============================================================================\n\n  if (document.readyState === 'loading') {\n    document.addEventListener('DOMContentLoaded', init);\n  } else {\n    init();\n  }\n\n})();\n","/**\n * ============================================================================\n * DISCORD BOT MANAGEMENT - EVENT HANDLERS\n * ============================================================================\n *\n * Modern JavaScript for Discord bot admin panel with event delegation\n * No inline scripts - all handlers attached via data-action attributes\n *\n * Features:\n * - Bot control operations (restart, health check, logs, sync)\n * - Command management (view, permissions, usage, custom)\n * - Guild management (stats, settings, add)\n * - Configuration management (save, reset, load)\n * - Real-time updates and animations\n *\n * ============================================================================\n */\n\n(function() {\n  'use strict';\n\n  // Configuration\n  const CONFIG = {\n    botApiUrl: 'http://localhost:5001/api/bot',\n    recentLogs: null, // Will be populated from template\n    commands: null, // Will be populated from template\n    commandUsage: null, // Will be populated from template\n    guildInfo: null // Will be populated from template\n  };\n\n  // Initialize data from template\n  function initializeData() {\n    // These would be populated from script tags in the template if needed\n    // For now, using placeholder data structure\n    CONFIG.recentLogs = window.__BOT_RECENT_LOGS__ || [];\n    CONFIG.commands = window.__BOT_COMMANDS__ || [];\n    CONFIG.commandUsage = window.__BOT_COMMAND_USAGE__ || {};\n    CONFIG.guildInfo = window.__BOT_GUILD_INFO__ || {};\n  }\n\n  // ============================================================================\n  // BOT CONTROL OPERATIONS\n  // ============================================================================\n\n  async function restartBot() {\n    const result = await Swal.fire({\n      title: 'Restart Discord Bot?',\n      text: 'This will temporarily disconnect the bot from Discord while it restarts.',\n      icon: 'warning',\n      showCancelButton: true,\n      confirmButtonText: 'Restart Bot'\n    });\n\n    if (result.isConfirmed) {\n      Swal.fire({\n        title: 'Restarting Bot...',\n        text: 'Please wait while the bot restarts',\n        allowOutsideClick: false,\n        didOpen: () => {\n          Swal.showLoading();\n\n          fetch(`${CONFIG.botApiUrl}/restart`, {\n            method: 'POST',\n            headers: {\n              'Content-Type': 'application/json',\n            }\n          })\n          .then(response => response.json())\n          .then(data => {\n            if (data.success) {\n              Swal.fire('Restarted!', 'Discord bot restart has been initiated.', 'success');\n            } else {\n              Swal.fire('Error!', `Failed to restart bot: ${data.message || 'Unknown error'}`, 'error');\n            }\n          })\n          .catch(error => {\n            console.error('Error restarting bot:', error);\n            Swal.fire('Error!', 'Failed to connect to bot API.', 'error');\n          });\n        }\n      });\n    }\n  }\n\n  async function checkBotHealth() {\n    Swal.fire({\n      title: 'Running Health Check...',\n      text: 'Checking bot connectivity and status',\n      allowOutsideClick: false,\n      didOpen: () => {\n        Swal.showLoading();\n\n        fetch(`${CONFIG.botApiUrl}/health-detailed`)\n        .then(response => response.json())\n        .then(data => {\n          if (data.status === 'online') {\n            const healthInfo = `\n              <div class=\"text-start\">\n                <p><strong>Status:</strong> ${data.status}</p>\n                <p><strong>Username:</strong> ${data.username || 'Unknown'}</p>\n                <p><strong>Guild Count:</strong> ${data.guild_count || 0}</p>\n                <p><strong>Latency:</strong> ${data.latency || 'N/A'}ms</p>\n                ${data.memory_usage_mb ? `<p><strong>Memory Usage:</strong> ${data.memory_usage_mb}MB</p>` : ''}\n              </div>\n            `;\n            Swal.fire({\n              title: 'Bot Health Check',\n              html: healthInfo,\n              icon: 'success',\n              confirmButtonText: 'Close'\n            });\n          } else {\n            Swal.fire('Bot Offline', `Bot status: ${data.status}. ${data.details || ''}`, 'warning');\n          }\n        })\n        .catch(error => {\n          console.error('Error checking bot health:', error);\n          Swal.fire('Connection Error', 'Failed to connect to bot API.', 'error');\n        });\n      }\n    });\n  }\n\n  function viewBotLogs() {\n    let logsHtml = '';\n    const logs = CONFIG.recentLogs;\n\n    if (logs && logs.length > 0) {\n      logs.forEach(log => {\n        const timestamp = new Date(log.timestamp).toLocaleString();\n        logsHtml += `[${timestamp}] ${log.level}: ${log.message}\\n`;\n      });\n    } else {\n      logsHtml = 'No recent logs available. Bot may not be connected to the API.';\n    }\n\n    Swal.fire({\n      title: 'Discord Bot Logs',\n      html: `\n        <div class=\"bot-logs-container\" style=\"max-height: 400px; overflow-y: auto; text-align: left;\">\n          <pre style=\"font-family: var(--font-mono); font-size: 0.875rem; white-space: pre-wrap;\">${logsHtml}</pre>\n        </div>\n      `,\n      showCancelButton: true,\n      confirmButtonText: 'Refresh Logs',\n      cancelButtonText: 'Close',\n      width: '700px'\n    }).then((result) => {\n      if (result.isConfirmed) {\n        location.reload();\n      }\n    });\n  }\n\n  async function syncCommands() {\n    const result = await Swal.fire({\n      title: 'Sync Commands?',\n      text: 'This will synchronize all slash commands with Discord.',\n      icon: 'question',\n      showCancelButton: true,\n      confirmButtonText: 'Sync Commands'\n    });\n\n    if (result.isConfirmed) {\n      Swal.fire({\n        title: 'Syncing Commands...',\n        text: 'Please wait while commands are synchronized',\n        allowOutsideClick: false,\n        didOpen: () => {\n          Swal.showLoading();\n\n          fetch(`${CONFIG.botApiUrl}/sync-commands`, {\n            method: 'POST',\n            headers: {\n              'Content-Type': 'application/json',\n            }\n          })\n          .then(response => response.json())\n          .then(data => {\n            if (data.success) {\n              Swal.fire('Synced!', `${data.commands_synced || 'All'} commands have been synchronized with Discord.`, 'success');\n            } else {\n              Swal.fire('Error!', `Failed to sync commands: ${data.message || 'Unknown error'}`, 'error');\n            }\n          })\n          .catch(error => {\n            console.error('Error syncing commands:', error);\n            Swal.fire('Error!', 'Failed to connect to bot API.', 'error');\n          });\n        }\n      });\n    }\n  }\n\n  // ============================================================================\n  // COMMAND MANAGEMENT\n  // ============================================================================\n\n  function viewCommands() {\n    const commands = CONFIG.commands;\n    let commandsHtml = '';\n\n    // Group commands by category\n    const categories = {};\n    commands.forEach(cmd => {\n      if (!categories[cmd.category]) {\n        categories[cmd.category] = [];\n      }\n      categories[cmd.category].push(cmd);\n    });\n\n    // Build HTML for each category\n    Object.keys(categories).forEach(category => {\n      commandsHtml += `\n        <div class=\"mb-4\">\n          <h6 class=\"mb-2 text-primary\">${category} Commands</h6>\n          <div class=\"table-responsive\">\n            <table class=\"table table-sm table-hover\">\n              <thead class=\"table-light\">\n                <tr>\n                  <th>Command</th>\n                  <th>Description</th>\n                  <th>Permission</th>\n                </tr>\n              </thead>\n              <tbody>\n      `;\n\n      categories[category].forEach(cmd => {\n        const permissionColor = cmd.permission_level === 'Public' ? 'success' :\n                               cmd.permission_level.includes('Admin') ? 'danger' : 'warning';\n        commandsHtml += `\n          <tr>\n            <td><code>/${cmd.name}</code></td>\n            <td>${cmd.description}</td>\n            <td><span class=\"badge bg-${permissionColor}\">${cmd.permission_level}</span></td>\n          </tr>\n        `;\n      });\n\n      commandsHtml += `\n              </tbody>\n            </table>\n          </div>\n        </div>\n      `;\n    });\n\n    Swal.fire({\n      title: 'Discord Bot Commands',\n      html: `\n        <div class=\"command-list-container\" style=\"max-height: 500px; overflow-y: auto;\">\n          ${commandsHtml}\n        </div>\n      `,\n      confirmButtonText: 'Close',\n      width: '800px'\n    });\n  }\n\n  function commandPermissions() {\n    // Placeholder - would implement permissions management\n    Swal.fire('Command Permissions', 'Command permissions management interface would appear here.', 'info');\n  }\n\n  function commandUsage() {\n    const usage = CONFIG.commandUsage;\n\n    Swal.fire({\n      title: 'Command Usage Statistics',\n      html: `\n        <div class=\"command-usage-stats\" style=\"text-align: left;\">\n          <div class=\"row mb-3\">\n            <div class=\"col-md-6\">\n              <div class=\"card bg-primary text-white\">\n                <div class=\"card-body text-center\">\n                  <h4>${usage.commands_today || 0}</h4>\n                  <small>Commands Today</small>\n                </div>\n              </div>\n            </div>\n            <div class=\"col-md-6\">\n              <div class=\"card bg-info text-white\">\n                <div class=\"card-body text-center\">\n                  <h4>${usage.commands_this_week || 0}</h4>\n                  <small>Commands This Week</small>\n                </div>\n              </div>\n            </div>\n          </div>\n          <div class=\"row\">\n            <div class=\"col-md-6\">\n              <h6>Most Used Command</h6>\n              <p><code>/${usage.most_used_command || 'N/A'}</code></p>\n            </div>\n            <div class=\"col-md-6\">\n              <h6>Average Response Time</h6>\n              <p>${usage.avg_response_time || 'N/A'}</p>\n            </div>\n          </div>\n        </div>\n      `,\n      confirmButtonText: 'Close',\n      width: '700px'\n    });\n  }\n\n  function customCommands() {\n    // Placeholder - would implement custom commands interface\n    Swal.fire('Custom Commands', 'Custom commands management interface would appear here.', 'info');\n  }\n\n  // ============================================================================\n  // GUILD MANAGEMENT\n  // ============================================================================\n\n  function manageGuild(element, e) {\n    const guildId = element.dataset.guild;\n    Swal.fire('Guild Management', `Guild management interface for ${guildId} would appear here.`, 'info');\n  }\n\n  function guildStats(element, e) {\n    const guild = CONFIG.guildInfo;\n\n    Swal.fire({\n      title: `${guild.name || 'Guild'} Statistics`,\n      html: `\n        <div class=\"guild-stats-container\" style=\"text-align: left;\">\n          <div class=\"row mb-3\">\n            <div class=\"col-md-4\">\n              <div class=\"card bg-primary text-white\">\n                <div class=\"card-body text-center\">\n                  <h4>${guild.member_count || 0}</h4>\n                  <small>Total Members</small>\n                </div>\n              </div>\n            </div>\n            <div class=\"col-md-4\">\n              <div class=\"card bg-success text-white\">\n                <div class=\"card-body text-center\">\n                  <h4>${guild.channel_count || 0}</h4>\n                  <small>Channels</small>\n                </div>\n              </div>\n            </div>\n            <div class=\"col-md-4\">\n              <div class=\"card bg-info text-white\">\n                <div class=\"card-body text-center\">\n                  <h4>${guild.role_count || 0}</h4>\n                  <small>Roles</small>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      `,\n      confirmButtonText: 'Close',\n      width: '700px'\n    });\n  }\n\n  function addGuild() {\n    Swal.fire({\n      title: 'Add Bot to Server',\n      html: `\n        <div class=\"add-guild-container\">\n          <p>To add the ECS FC Discord bot to another server, you need administrator permissions on that server.</p>\n          <div class=\"alert alert-info\">\n            <i class=\"ti ti-info-circle me-2\"></i>\n            Click the button below to authorize the bot for a new server.\n          </div>\n          <div class=\"mt-4\">\n            <h6>Required Permissions:</h6>\n            <ul class=\"small\" style=\"text-align: left;\">\n              <li>Manage Roles</li>\n              <li>Send Messages</li>\n              <li>Read Message History</li>\n              <li>Manage Channels</li>\n              <li>Use Application Commands</li>\n            </ul>\n          </div>\n        </div>\n      `,\n      showConfirmButton: false,\n      showCloseButton: true\n    });\n  }\n\n  // ============================================================================\n  // CONFIGURATION MANAGEMENT\n  // ============================================================================\n\n  async function saveBotConfig() {\n    const config = {\n      prefix: document.getElementById('botPrefix')?.value || '!',\n      default_role: document.getElementById('defaultRole')?.value || '',\n      activity_type: document.getElementById('activityType')?.value || 'playing',\n      activity_text: document.getElementById('activityText')?.value || 'ECS FC League',\n      auto_moderation: document.getElementById('autoModeration')?.checked || false,\n      command_logging: document.getElementById('commandLogging')?.checked || false,\n      welcome_messages: document.getElementById('welcomeMessages')?.checked || false\n    };\n\n    Swal.fire({\n      title: 'Saving Configuration...',\n      text: 'Please wait while the configuration is being saved',\n      allowOutsideClick: false,\n      didOpen: () => {\n        Swal.showLoading();\n      }\n    });\n\n    try {\n      const response = await fetch(`${CONFIG.botApiUrl}/config`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify(config)\n      });\n\n      const data = await response.json();\n\n      if (data.success) {\n        Swal.fire('Saved!', 'Bot configuration has been updated successfully.', 'success');\n      } else {\n        Swal.fire('Error!', `Failed to save configuration: ${data.error || 'Unknown error'}`, 'error');\n      }\n    } catch (error) {\n      console.error('Error saving bot config:', error);\n      Swal.fire('Error!', 'Failed to connect to bot API. Please check if the bot is running.', 'error');\n    }\n  }\n\n  function resetBotConfig() {\n    const prefixEl = document.getElementById('botPrefix');\n    const roleEl = document.getElementById('defaultRole');\n    const activityTypeEl = document.getElementById('activityType');\n    const activityTextEl = document.getElementById('activityText');\n    const autoModEl = document.getElementById('autoModeration');\n    const cmdLogEl = document.getElementById('commandLogging');\n    const welcomeEl = document.getElementById('welcomeMessages');\n\n    if (prefixEl) prefixEl.value = '!';\n    if (roleEl) roleEl.value = '';\n    if (activityTypeEl) activityTypeEl.value = 'playing';\n    if (activityTextEl) activityTextEl.value = 'ECS FC League';\n    if (autoModEl) autoModEl.checked = true;\n    if (cmdLogEl) cmdLogEl.checked = true;\n    if (welcomeEl) welcomeEl.checked = true;\n\n    Swal.fire('Reset!', 'Configuration has been reset to defaults.', 'info');\n  }\n\n  async function loadBotConfig() {\n    try {\n      const response = await fetch(`${CONFIG.botApiUrl}/config`);\n      const data = await response.json();\n\n      if (data.success && data.config) {\n        const config = data.config;\n        const prefixEl = document.getElementById('botPrefix');\n        const roleEl = document.getElementById('defaultRole');\n        const activityTypeEl = document.getElementById('activityType');\n        const activityTextEl = document.getElementById('activityText');\n        const autoModEl = document.getElementById('autoModeration');\n        const cmdLogEl = document.getElementById('commandLogging');\n        const welcomeEl = document.getElementById('welcomeMessages');\n\n        if (prefixEl) prefixEl.value = config.prefix || '!';\n        if (roleEl) roleEl.value = config.default_role || '';\n        if (activityTypeEl) activityTypeEl.value = config.activity_type || 'playing';\n        if (activityTextEl) activityTextEl.value = config.activity_text || 'ECS FC League';\n        if (autoModEl) autoModEl.checked = config.auto_moderation !== false;\n        if (cmdLogEl) cmdLogEl.checked = config.command_logging !== false;\n        if (welcomeEl) welcomeEl.checked = config.welcome_messages !== false;\n      }\n    } catch (error) {\n      console.log('Could not load bot configuration:', error);\n      // Use default values if API is not accessible\n    }\n  }\n\n  // ============================================================================\n  // INITIALIZATION\n  // ============================================================================\n\n  function init() {\n    // Page guard: only run on Discord Bot admin pages\n    const isBotPage = document.querySelector('[data-page=\"admin-discord-bot\"]') ||\n                      document.querySelector('.admin-discord-bot') ||\n                      window.location.pathname.includes('discord-bot');\n\n    if (!isBotPage) {\n      return;\n    }\n\n    // Initialize data\n    initializeData();\n\n    // Register all event handlers with EventDelegation\n    if (typeof EventDelegation !== 'undefined') {\n      // Bot Control\n      EventDelegation.register('restart-bot', restartBot, { preventDefault: true });\n      EventDelegation.register('check-bot-health', checkBotHealth, { preventDefault: true });\n      EventDelegation.register('view-bot-logs', viewBotLogs, { preventDefault: true });\n      EventDelegation.register('sync-commands', syncCommands, { preventDefault: true });\n\n      // Command Management\n      EventDelegation.register('view-commands', viewCommands, { preventDefault: true });\n      EventDelegation.register('command-permissions', commandPermissions, { preventDefault: true });\n      EventDelegation.register('command-usage', commandUsage, { preventDefault: true });\n      EventDelegation.register('custom-commands', customCommands, { preventDefault: true });\n\n      // Guild Management\n      EventDelegation.register('manage-guild', manageGuild, { preventDefault: true });\n      EventDelegation.register('guild-stats', guildStats, { preventDefault: true });\n      EventDelegation.register('add-guild', addGuild, { preventDefault: true });\n\n      // Configuration\n      EventDelegation.register('save-bot-config', saveBotConfig, { preventDefault: true });\n      EventDelegation.register('reset-bot-config', resetBotConfig, { preventDefault: true });\n    }\n\n    // Load bot configuration\n    loadBotConfig();\n\n    console.log('Discord Bot Management initialized');\n  }\n\n  // Run initialization when DOM is ready\n  if (document.readyState === 'loading') {\n    document.addEventListener('DOMContentLoaded', init);\n  } else {\n    init();\n  }\n\n})();\n","/**\n * ============================================================================\n * PERFORMANCE MONITORING PAGE - JAVASCRIPT\n * ============================================================================\n *\n * Handles performance monitoring charts and real-time updates\n * Uses Chart.js for visualizations and event delegation for interactions\n *\n * ARCHITECTURAL COMPLIANCE:\n * - Event delegation pattern\n * - Data-attribute based hooks\n * - No inline event handlers\n * - State-driven styling with classList\n *\n * ============================================================================\n */\n\n(function() {\n  'use strict';\n\n  let autoRefresh = true;\n  let refreshInterval;\n  let queryPerformanceChart;\n  let cacheUsageChart;\n\n  /**\n   * Initialize on DOM load\n   */\n  function init() {\n    // Page guard: only run on performance monitoring pages\n    const isPerfPage = document.querySelector('[data-page=\"admin-performance\"]') ||\n                       document.querySelector('.admin-performance') ||\n                       window.location.pathname.includes('performance');\n\n    if (!isPerfPage) {\n      return;\n    }\n\n    initializeCharts();\n    registerEventHandlers();\n    startAutoRefresh();\n  }\n\n  /**\n   * Initialize Chart.js visualizations\n   */\n  function initializeCharts() {\n    // Get data from hidden data element\n    const perfData = document.querySelector('[data-perf-data]');\n    if (!perfData) return;\n\n    const avgQueryTime = parseFloat(perfData.dataset.dbAvgQueryTime || 0);\n    const cacheActive = parseInt(perfData.dataset.cacheActive || 0);\n    const cacheExpired = parseInt(perfData.dataset.cacheExpired || 0);\n\n    // Query Performance Chart\n    const queryCtx = document.querySelector('[data-chart=\"query-performance\"]');\n    if (queryCtx) {\n      queryPerformanceChart = new Chart(queryCtx.getContext('2d'), {\n        type: 'line',\n        data: {\n          labels: ['5min ago', '4min ago', '3min ago', '2min ago', '1min ago', 'Now'],\n          datasets: [{\n            label: 'Avg Query Time (ms)',\n            data: [\n              avgQueryTime * 1000,\n              avgQueryTime * 1000 * 0.9,\n              avgQueryTime * 1000 * 1.1,\n              avgQueryTime * 1000 * 0.8,\n              avgQueryTime * 1000 * 1.2,\n              avgQueryTime * 1000\n            ],\n            borderColor: getCSSVariable('--color-primary') || '#0d6efd',\n            backgroundColor: 'rgba(13, 110, 253, 0.1)',\n            tension: 0.4,\n            fill: true\n          }]\n        },\n        options: {\n          responsive: true,\n          maintainAspectRatio: false,\n          scales: {\n            y: {\n              beginAtZero: true,\n              title: {\n                display: true,\n                text: 'Time (ms)'\n              }\n            }\n          },\n          plugins: {\n            legend: {\n              display: false\n            }\n          }\n        }\n      });\n    }\n\n    // Cache Usage Chart\n    const cacheCtx = document.querySelector('[data-chart=\"cache-usage\"]');\n    if (cacheCtx) {\n      cacheUsageChart = new Chart(cacheCtx.getContext('2d'), {\n        type: 'doughnut',\n        data: {\n          labels: ['Active', 'Expired'],\n          datasets: [{\n            data: [cacheActive, cacheExpired],\n            backgroundColor: [\n              getCSSVariable('--color-success') || '#198754',\n              getCSSVariable('--color-danger') || '#dc3545'\n            ],\n            borderWidth: 0\n          }]\n        },\n        options: {\n          responsive: true,\n          maintainAspectRatio: false,\n          plugins: {\n            legend: {\n              position: 'bottom'\n            }\n          }\n        }\n      });\n    }\n  }\n\n  /**\n   * Register event handlers using EventDelegation\n   */\n  function registerEventHandlers() {\n    if (typeof EventDelegation !== 'undefined') {\n      EventDelegation.register('toggle-auto-refresh', handleToggleAutoRefresh, { preventDefault: true });\n      EventDelegation.register('clear-cache', handleClearCache, { preventDefault: true });\n    }\n  }\n\n  /**\n   * Handle auto-refresh toggle\n   */\n  function handleToggleAutoRefresh() {\n    autoRefresh = !autoRefresh;\n    const statusSpan = document.querySelector('[data-status=\"auto-refresh\"]');\n\n    if (autoRefresh) {\n      if (statusSpan) statusSpan.textContent = 'ON';\n      startAutoRefresh();\n    } else {\n      if (statusSpan) statusSpan.textContent = 'OFF';\n      clearInterval(refreshInterval);\n    }\n  }\n\n  /**\n   * Handle cache clear with confirmation\n   */\n  function handleClearCache(e) {\n    const confirmed = confirm('Are you sure you want to clear all cache?');\n    if (!confirmed) {\n      e.preventDefault();\n      return false;\n    }\n  }\n\n  /**\n   * Start auto-refresh interval\n   */\n  function startAutoRefresh() {\n    // Clear any existing interval\n    if (refreshInterval) {\n      clearInterval(refreshInterval);\n    }\n\n    // Update every 30 seconds\n    refreshInterval = setInterval(updateMetrics, 30000);\n  }\n\n  /**\n   * Update real-time metrics from server\n   */\n  function updateMetrics() {\n    if (!autoRefresh) return;\n\n    fetch('/admin_panel/performance/api/metrics')\n      .then(response => response.json())\n      .then(data => {\n        if (data.success) {\n          const report = data.data;\n\n          // Update live metrics\n          updateLiveValue('query-time', (report.database.avg_query_time * 1000).toFixed(1) + 'ms');\n          updateLiveValue('slow-queries', report.database.slow_queries);\n          updateLiveValue('cache-hits', report.cache.active_entries);\n          updateLiveValue('cache-size', report.cache.cache_size_mb.toFixed(1) + 'MB');\n\n          // Update timestamp\n          const timestampEl = document.querySelector('[data-timestamp]');\n          if (timestampEl) {\n            timestampEl.textContent = new Date(report.timestamp).toLocaleString();\n          }\n\n          // Update colors based on thresholds\n          updateMetricColors(report);\n\n          // Update charts if they exist\n          if (queryPerformanceChart) {\n            updateQueryChart(report.database.avg_query_time * 1000);\n          }\n\n          if (cacheUsageChart) {\n            updateCacheChart(report.cache.active_entries, report.cache.expired_entries);\n          }\n        }\n      })\n      .catch(error => {\n        console.error('Error updating metrics:', error);\n      });\n  }\n\n  /**\n   * Update a live value element\n   */\n  function updateLiveValue(metric, value) {\n    const element = document.querySelector(`[data-live-value=\"${metric}\"]`);\n    if (element) {\n      element.textContent = value;\n    }\n  }\n\n  /**\n   * Update metric colors based on thresholds\n   */\n  function updateMetricColors(report) {\n    const slowQueriesEl = document.querySelector('[data-live-value=\"slow-queries\"]');\n    if (slowQueriesEl) {\n      slowQueriesEl.className = 'c-perf-realtime__value';\n      if (report.database.slow_queries > 5) {\n        slowQueriesEl.classList.add('c-perf-realtime__value--danger');\n      } else if (report.database.slow_queries > 2) {\n        slowQueriesEl.classList.add('c-perf-realtime__value--warning');\n      } else {\n        slowQueriesEl.classList.add('c-perf-realtime__value--success');\n      }\n    }\n\n    const cacheSizeEl = document.querySelector('[data-live-value=\"cache-size\"]');\n    if (cacheSizeEl) {\n      cacheSizeEl.className = 'c-perf-realtime__value';\n      if (report.cache.cache_size_mb > 50) {\n        cacheSizeEl.classList.add('c-perf-realtime__value--warning');\n      } else {\n        cacheSizeEl.classList.add('c-perf-realtime__value--secondary');\n      }\n    }\n  }\n\n  /**\n   * Update query performance chart\n   */\n  function updateQueryChart(newValue) {\n    if (!queryPerformanceChart) return;\n\n    const data = queryPerformanceChart.data.datasets[0].data;\n    data.shift(); // Remove first element\n    data.push(newValue); // Add new value\n\n    queryPerformanceChart.update();\n  }\n\n  /**\n   * Update cache usage chart\n   */\n  function updateCacheChart(active, expired) {\n    if (!cacheUsageChart) return;\n\n    cacheUsageChart.data.datasets[0].data = [active, expired];\n    cacheUsageChart.update();\n  }\n\n  /**\n   * Get CSS variable value\n   */\n  function getCSSVariable(varName) {\n    const value = getComputedStyle(document.documentElement).getPropertyValue(varName);\n    return value ? value.trim() : null;\n  }\n\n  // Run initialization when DOM is ready\n  if (document.readyState === 'loading') {\n    document.addEventListener('DOMContentLoaded', init);\n  } else {\n    init();\n  }\n\n})();\n","/**\n * ============================================================================\n * ADMIN DASHBOARD MODULE\n * ============================================================================\n *\n * Main controller for the admin dashboard page.\n * Handles:\n *   - Docker container status management\n *   - Task management (Celery tasks)\n *   - Role permissions management\n *   - Event delegation for dynamic elements\n *\n * Uses InitSystem for registration and data-* selectors for JS hooks.\n *\n * ============================================================================\n */\n\n(function() {\n    'use strict';\n\n    /* ========================================================================\n       CONFIGURATION\n       ======================================================================== */\n\n    const CONFIG = {\n        selectors: {\n            // Containers\n            dockerStatusContainer: '#dockerStatusContainer',\n            taskManagementContainer: '#taskManagementContainer',\n            toastContainer: '#toastContainer',\n\n            // Permissions\n            roleSelect: '#role_id',\n            permissionsSelect: '#permissions',\n            currentPermissionsList: '#current-permissions-list',\n\n            // Modal\n            dockerLogsContent: '#dockerLogsContent',\n            dockerLogsModalLabel: '#dockerLogsModalLabel',\n\n            // Actions (data-action attribute values)\n            actions: {\n                refreshContainers: 'refresh-containers',\n                openTaskManagement: 'open-task-management',\n                refreshTaskList: 'refresh-task-list',\n                cleanupOldTasks: 'cleanup-old-tasks',\n                loadTaskManagement: 'load-task-management',\n                showLogs: 'show-logs',\n                containerAction: 'container-action',\n                revokeTask: 'revoke-task',\n                viewTaskDetails: 'view-task-details',\n                removeTask: 'remove-task',\n                closeModal: 'close-modal'\n            }\n        },\n        endpoints: {\n            dockerStatus: '/admin/docker-status',\n            dockerLogs: '/admin/docker-logs/',\n            dockerAction: '/admin/docker-',\n            taskManagement: '/admin/task-management',\n            taskDetails: '/admin/task-details/',\n            revokeTask: '/admin/revoke-task/',\n            removeTask: '/admin/remove-task/',\n            cleanupTasks: '/admin/cleanup-tasks',\n            rolePermissions: '/admin/role-permissions/'\n        }\n    };\n\n    /* ========================================================================\n       ADMIN DASHBOARD CONTROLLER\n       ======================================================================== */\n\n    const AdminDashboard = {\n        /**\n         * Initialize the admin dashboard\n         */\n        init: function(context = document) {\n            console.log('[AdminDashboard] Initializing...');\n\n            this.initEventDelegation(context);\n            this.initPermissionsTab(context);\n            this.initDockerStatus(context);\n\n            console.log('[AdminDashboard] Initialized');\n        },\n\n        /**\n         * Event delegation for dynamic elements using data-action attributes\n         */\n        initEventDelegation: function(context) {\n            context.addEventListener('click', (e) => {\n                const actionElement = e.target.closest('[data-action]');\n                if (!actionElement) return;\n\n                const action = actionElement.dataset.action;\n\n                switch(action) {\n                    case CONFIG.selectors.actions.refreshContainers:\n                        e.preventDefault();\n                        this.handleRefreshContainers(actionElement);\n                        break;\n\n                    case CONFIG.selectors.actions.openTaskManagement:\n                        e.preventDefault();\n                        this.openTaskManagement();\n                        break;\n\n                    case CONFIG.selectors.actions.refreshTaskList:\n                        this.refreshTaskList();\n                        break;\n\n                    case CONFIG.selectors.actions.cleanupOldTasks:\n                        this.cleanupOldTasks();\n                        break;\n\n                    case CONFIG.selectors.actions.loadTaskManagement:\n                        this.loadTaskManagement();\n                        break;\n\n                    case CONFIG.selectors.actions.showLogs:\n                        this.showLogs(actionElement.dataset.containerName);\n                        break;\n\n                    case CONFIG.selectors.actions.containerAction:\n                        this.containerAction(\n                            actionElement.dataset.containerName,\n                            actionElement.dataset.containerActionType,\n                            actionElement\n                        );\n                        break;\n\n                    case CONFIG.selectors.actions.revokeTask:\n                        this.revokeTask(actionElement.dataset.taskId);\n                        break;\n\n                    case CONFIG.selectors.actions.viewTaskDetails:\n                        this.viewTaskDetails(actionElement.dataset.taskId);\n                        break;\n\n                    case CONFIG.selectors.actions.removeTask:\n                        this.removeTask(actionElement.dataset.taskId);\n                        break;\n\n                    case CONFIG.selectors.actions.closeModal:\n                        if (window.ModernComponents?.Modal && actionElement.dataset.modalId) {\n                            window.ModernComponents.Modal.close(actionElement.dataset.modalId);\n                        }\n                        break;\n                }\n            });\n        },\n\n        /**\n         * Handle refresh containers button click\n         */\n        handleRefreshContainers: function(target) {\n            target.classList.add('is-loading');\n            target.disabled = true;\n\n            this.fetchDockerStatus().finally(() => {\n                target.classList.remove('is-loading');\n                target.disabled = false;\n            });\n        },\n\n        /* ====================================================================\n           PERMISSIONS TAB\n           ==================================================================== */\n\n        initPermissionsTab: function(context) {\n            const roleSelect = context.querySelector(CONFIG.selectors.roleSelect);\n            const permissionsSelect = context.querySelector(CONFIG.selectors.permissionsSelect);\n            const currentPermissionsList = context.querySelector(CONFIG.selectors.currentPermissionsList);\n\n            // Initialize Select2 for permissions dropdown\n            if (permissionsSelect && typeof $ !== 'undefined' && $.fn.select2) {\n                $(permissionsSelect).select2({\n                    theme: 'bootstrap-5',\n                    placeholder: 'Select permissions...',\n                    allowClear: true,\n                    width: '100%'\n                });\n            }\n\n            if (roleSelect) {\n                roleSelect.addEventListener('change', () => {\n                    const roleId = roleSelect.value;\n                    if (roleId) {\n                        this.fetchRolePermissions(roleId, permissionsSelect, currentPermissionsList);\n                    } else {\n                        if (currentPermissionsList) {\n                            currentPermissionsList.innerHTML = '<li class=\"c-permissions-list__item c-permissions-list__item--empty\">Select a role to view permissions.</li>';\n                        }\n                        if (permissionsSelect) {\n                            if ($(permissionsSelect).hasClass('select2-hidden-accessible')) {\n                                $(permissionsSelect).val([]).trigger('change');\n                            } else {\n                                Array.from(permissionsSelect.options).forEach(option => option.selected = false);\n                            }\n                        }\n                    }\n                });\n            }\n        },\n\n        fetchRolePermissions: function(roleId, permissionsSelect, currentPermissionsList) {\n            fetch(`${CONFIG.endpoints.rolePermissions}${roleId}`)\n                .then(response => response.json())\n                .then(data => {\n                    if (data.success) {\n                        this.updateCurrentPermissionsList(data.permissions, currentPermissionsList);\n\n                        if (permissionsSelect) {\n                            const currentPermissionIds = data.permissions.map(p => p.id.toString());\n\n                            if ($(permissionsSelect).hasClass('select2-hidden-accessible')) {\n                                $(permissionsSelect).val(currentPermissionIds).trigger('change');\n                            } else {\n                                Array.from(permissionsSelect.options).forEach(option => {\n                                    option.selected = currentPermissionIds.includes(option.value);\n                                });\n                            }\n                        }\n                    } else {\n                        currentPermissionsList.innerHTML = '<li class=\"c-permissions-list__item c-permissions-list__item--error\">Error loading permissions</li>';\n                    }\n                })\n                .catch(error => {\n                    console.error('Error fetching role permissions:', error);\n                    currentPermissionsList.innerHTML = '<li class=\"c-permissions-list__item c-permissions-list__item--error\">Error loading permissions</li>';\n                });\n        },\n\n        updateCurrentPermissionsList: function(permissions, listElement) {\n            if (!listElement) return;\n\n            if (permissions.length === 0) {\n                listElement.innerHTML = '<li class=\"c-permissions-list__item c-permissions-list__item--empty\">No permissions assigned.</li>';\n            } else {\n                const permissionsHTML = permissions.map(permission =>\n                    `<li class=\"c-permissions-list__item\">${permission.name}</li>`\n                ).join('');\n                listElement.innerHTML = permissionsHTML;\n            }\n        },\n\n        /* ====================================================================\n           DOCKER STATUS\n           ==================================================================== */\n\n        initDockerStatus: function(context) {\n            const container = context.querySelector(CONFIG.selectors.dockerStatusContainer);\n            if (!container) return;\n\n            this.fetchDockerStatus();\n        },\n\n        fetchDockerStatus: async function() {\n            const container = document.querySelector(CONFIG.selectors.dockerStatusContainer);\n            if (!container) return;\n\n            try {\n                const response = await fetch(CONFIG.endpoints.dockerStatus);\n                const data = await response.json();\n\n                if (data.success && data.containers) {\n                    this.renderContainers(data.containers);\n                } else {\n                    container.innerHTML = `\n                        <div class=\"col-12\">\n                            <div class=\"c-empty-state c-empty-state--warning\">\n                                <i class=\"ti ti-alert-triangle c-empty-state__icon\"></i>\n                                <p class=\"c-empty-state__text\">${data.error || 'Unable to load container status'}</p>\n                            </div>\n                        </div>\n                    `;\n                }\n            } catch (error) {\n                console.error('Error fetching Docker status:', error);\n                container.innerHTML = `\n                    <div class=\"col-12\">\n                        <div class=\"c-empty-state c-empty-state--error\">\n                            <i class=\"ti ti-alert-circle c-empty-state__icon\"></i>\n                            <p class=\"c-empty-state__text\">Failed to load container status</p>\n                        </div>\n                    </div>\n                `;\n            }\n        },\n\n        renderContainers: function(containers) {\n            const container = document.querySelector(CONFIG.selectors.dockerStatusContainer);\n            if (!container) return;\n\n            if (containers.length === 0) {\n                container.innerHTML = `\n                    <div class=\"col-12\">\n                        <div class=\"c-empty-state\">\n                            <i class=\"ti ti-info-circle c-empty-state__icon\"></i>\n                            <p class=\"c-empty-state__text\">No containers found</p>\n                        </div>\n                    </div>\n                `;\n                return;\n            }\n\n            const containersHTML = containers.map(cont => {\n                const statusClass = cont.status === 'running' ? 'success' : 'danger';\n                const statusIcon = cont.status === 'running' ? 'ti-check' : 'ti-x';\n\n                return `\n                    <div class=\"col-xl-4 col-lg-6 mb-3\">\n                        <div class=\"c-container-card\" data-component=\"container-card\" data-container-name=\"${cont.name}\">\n                            <div class=\"c-container-card__header\">\n                                <div class=\"c-container-card__info\">\n                                    <h6 class=\"c-container-card__name\">${cont.name}</h6>\n                                    <small class=\"c-container-card__image\">${cont.image}</small>\n                                </div>\n                                <span class=\"c-badge c-badge--${statusClass}\">\n                                    <i class=\"ti ${statusIcon}\"></i>\n                                    <span>${cont.status}</span>\n                                </span>\n                            </div>\n\n                            <div class=\"c-container-card__body\">\n                                <div class=\"c-container-card__stat\">\n                                    <small class=\"c-container-card__stat-label\">Uptime:</small>\n                                    <small class=\"c-container-card__stat-value\">${cont.uptime || 'N/A'}</small>\n                                </div>\n                                <div class=\"c-container-card__stat\">\n                                    <small class=\"c-container-card__stat-label\">CPU:</small>\n                                    <small class=\"c-container-card__stat-value\">${cont.cpu_usage || 'N/A'}</small>\n                                </div>\n                                <div class=\"c-container-card__stat\">\n                                    <small class=\"c-container-card__stat-label\">Memory:</small>\n                                    <small class=\"c-container-card__stat-value\">${cont.memory_usage || 'N/A'}</small>\n                                </div>\n                            </div>\n\n                            <div class=\"c-container-card__actions\">\n                                ${cont.status === 'running' ?\n                                    `<button class=\"btn btn-outline-warning btn-sm\" data-action=\"container-action\" data-container-name=\"${cont.name}\" data-container-action-type=\"restart\">\n                                        <i class=\"ti ti-refresh\"></i> <span>Restart</span>\n                                    </button>\n                                    <button class=\"btn btn-outline-danger btn-sm\" data-action=\"container-action\" data-container-name=\"${cont.name}\" data-container-action-type=\"stop\">\n                                        <i class=\"ti ti-stop\"></i> <span>Stop</span>\n                                    </button>` :\n                                    `<button class=\"btn btn-outline-success btn-sm\" data-action=\"container-action\" data-container-name=\"${cont.name}\" data-container-action-type=\"start\">\n                                        <i class=\"ti ti-play\"></i> <span>Start</span>\n                                    </button>`\n                                }\n                                <button class=\"btn btn-outline-primary btn-sm\" data-action=\"show-logs\" data-container-name=\"${cont.name}\" title=\"View Logs\">\n                                    <i class=\"ti ti-file-text\"></i>\n                                </button>\n                            </div>\n                        </div>\n                    </div>\n                `;\n            }).join('');\n\n            container.innerHTML = containersHTML;\n        },\n\n        showLogs: async function(containerName) {\n            const content = document.querySelector(CONFIG.selectors.dockerLogsContent);\n            const title = document.querySelector(CONFIG.selectors.dockerLogsModalLabel);\n\n            if (title) title.textContent = `${containerName} - Logs`;\n            if (content) content.textContent = 'Loading logs...';\n\n            if (window.ModernComponents?.Modal) {\n                window.ModernComponents.Modal.open('dockerLogsModal');\n            }\n\n            try {\n                const response = await fetch(`${CONFIG.endpoints.dockerLogs}${containerName}`);\n                const data = await response.json();\n\n                if (data.success) {\n                    if (content) content.textContent = data.logs || 'No logs available';\n                } else {\n                    if (content) content.textContent = `Error: ${data.error || 'Failed to load logs'}`;\n                }\n            } catch (error) {\n                console.error('Error fetching logs:', error);\n                if (content) content.textContent = 'Error loading logs';\n            }\n        },\n\n        containerAction: async function(containerName, action, btn) {\n            if (!btn) return;\n\n            btn.classList.add('is-loading');\n            btn.disabled = true;\n\n            try {\n                const response = await fetch(`${CONFIG.endpoints.dockerAction}${action}/${containerName}`, {\n                    method: 'POST',\n                    headers: { 'Content-Type': 'application/json' }\n                });\n\n                if (response.ok) {\n                    this.showComponentToast('success', 'Success', `Container ${action}ed successfully`);\n                    setTimeout(() => this.fetchDockerStatus(), 1000);\n                } else {\n                    const errorData = await response.json();\n                    this.showComponentToast('error', 'Error', errorData.error || `Failed to ${action} container`);\n                    btn.classList.remove('is-loading');\n                    btn.disabled = false;\n                }\n            } catch (error) {\n                console.error(`Error during ${action}:`, error);\n                this.showComponentToast('error', 'Error', `Failed to ${action} container`);\n                btn.classList.remove('is-loading');\n                btn.disabled = false;\n            }\n        },\n\n        /* ====================================================================\n           TASK MANAGEMENT\n           ==================================================================== */\n\n        openTaskManagement: function() {\n            this.loadTaskManagement();\n            const container = document.querySelector(CONFIG.selectors.taskManagementContainer);\n            if (container) {\n                container.scrollIntoView({ behavior: 'smooth' });\n            }\n        },\n\n        loadTaskManagement: function() {\n            const container = document.querySelector(CONFIG.selectors.taskManagementContainer);\n            if (!container) return;\n\n            container.innerHTML = `\n                <div class=\"text-center py-4\">\n                    <div class=\"c-loading-spinner\" role=\"status\"></div>\n                    <p class=\"c-loading-text\">Loading task management...</p>\n                </div>\n            `;\n\n            this.fetchTaskList();\n        },\n\n        fetchTaskList: async function() {\n            const container = document.querySelector(CONFIG.selectors.taskManagementContainer);\n            if (!container) return;\n\n            try {\n                const response = await fetch(CONFIG.endpoints.taskManagement);\n                const data = await response.json();\n\n                if (data.success) {\n                    this.renderTaskManagement(data);\n                } else {\n                    container.innerHTML = `\n                        <div class=\"alert alert-warning\" role=\"alert\">\n                            <i class=\"ti ti-alert-triangle me-2\"></i>\n                            ${data.error || 'Unable to load task management'}\n                        </div>\n                    `;\n                }\n            } catch (error) {\n                console.error('Error fetching task management:', error);\n                container.innerHTML = `\n                    <div class=\"alert alert-danger\" role=\"alert\">\n                        <i class=\"ti ti-alert-circle me-2\"></i>\n                        Failed to load task management\n                    </div>\n                `;\n            }\n        },\n\n        renderTaskManagement: function(data) {\n            const container = document.querySelector(CONFIG.selectors.taskManagementContainer);\n            if (!container) return;\n\n            const stats = data.statistics || {};\n            const activeTasks = data.active_tasks || [];\n\n            const html = `\n                <div class=\"row mb-4\">\n                    <div class=\"col-md-3\">\n                        <div class=\"c-stat-card c-stat-card--primary\">\n                            <div class=\"c-stat-card__value\">${stats.total_active || 0}</div>\n                            <div class=\"c-stat-card__label\">Active Tasks</div>\n                            <div class=\"c-stat-card__icon\"><i class=\"ti ti-activity\"></i></div>\n                        </div>\n                    </div>\n                    <div class=\"col-md-3\">\n                        <div class=\"c-stat-card c-stat-card--success\">\n                            <div class=\"c-stat-card__value\">${stats.by_status?.SUCCESS || 0}</div>\n                            <div class=\"c-stat-card__label\">Completed</div>\n                            <div class=\"c-stat-card__icon\"><i class=\"ti ti-check\"></i></div>\n                        </div>\n                    </div>\n                    <div class=\"col-md-3\">\n                        <div class=\"c-stat-card c-stat-card--danger\">\n                            <div class=\"c-stat-card__value\">${stats.by_status?.FAILURE || 0}</div>\n                            <div class=\"c-stat-card__label\">Failed</div>\n                            <div class=\"c-stat-card__icon\"><i class=\"ti ti-x\"></i></div>\n                        </div>\n                    </div>\n                    <div class=\"col-md-3\">\n                        <div class=\"c-stat-card c-stat-card--warning\">\n                            <div class=\"c-stat-card__value\">${stats.by_status?.PENDING || 0}</div>\n                            <div class=\"c-stat-card__label\">Pending</div>\n                            <div class=\"c-stat-card__icon\"><i class=\"ti ti-clock\"></i></div>\n                        </div>\n                    </div>\n                </div>\n\n                <div class=\"c-table-wrapper\">\n                    <table class=\"c-table c-table--hover c-table--striped\">\n                        <thead class=\"c-table__head\">\n                            <tr>\n                                <th class=\"c-table__header\">Task ID</th>\n                                <th class=\"c-table__header\">Type</th>\n                                <th class=\"c-table__header\">User</th>\n                                <th class=\"c-table__header\">Status</th>\n                                <th class=\"c-table__header\">Progress</th>\n                                <th class=\"c-table__header\">Created</th>\n                                <th class=\"c-table__header\">Actions</th>\n                            </tr>\n                        </thead>\n                        <tbody class=\"c-table__body\">\n                            ${activeTasks.length > 0 ?\n                                activeTasks.map(task => this.renderTaskRow(task)).join('') :\n                                '<tr><td colspan=\"7\" class=\"text-center c-text-muted py-4\">No active tasks</td></tr>'\n                            }\n                        </tbody>\n                    </table>\n                </div>\n            `;\n\n            container.innerHTML = html;\n        },\n\n        renderTaskRow: function(task) {\n            const statusColor = this.getStatusColor(task.celery_state || task.status);\n\n            return `\n                <tr class=\"c-table__row ${task.celery_state === 'REVOKED' ? 'is-muted' : ''}\">\n                    <td class=\"c-table__cell\" data-label=\"Task ID\">\n                        <code class=\"c-code\">${task.task_id.substring(0, 8)}...</code>\n                        ${task.celery_state === 'REVOKED' ? '<small class=\"c-text-muted\">CANCELLED</small>' : ''}\n                    </td>\n                    <td class=\"c-table__cell\" data-label=\"Type\">\n                        <span class=\"c-badge c-badge--secondary\">${task.task_type || 'unknown'}</span>\n                    </td>\n                    <td class=\"c-table__cell\" data-label=\"User\">${task.user_id || 'N/A'}</td>\n                    <td class=\"c-table__cell\" data-label=\"Status\">\n                        <span class=\"c-badge c-badge--${statusColor}\">\n                            ${task.celery_state || task.status || 'UNKNOWN'}\n                        </span>\n                    </td>\n                    <td class=\"c-table__cell\" data-label=\"Progress\">\n                        <div class=\"c-progress\">\n                            <div class=\"c-progress__bar c-progress__bar--${statusColor}\"\n                                 role=\"progressbar\"\n                                 aria-valuenow=\"${task.progress || 0}\"\n                                 aria-valuemin=\"0\" aria-valuemax=\"100\"\n                                 style=\"width: ${task.progress || 0}%\">\n                                ${task.progress || 0}%\n                            </div>\n                        </div>\n                        ${task.stage ? `<small class=\"c-text-muted\">${task.stage}</small>` : ''}\n                    </td>\n                    <td class=\"c-table__cell\" data-label=\"Created\">\n                        <small>${task.created_at ? new Date(task.created_at).toLocaleString() : 'N/A'}</small>\n                    </td>\n                    <td class=\"c-table__cell\" data-label=\"Actions\">\n                        <div class=\"c-button-group c-button-group--sm\">\n                            ${['PENDING', 'PROGRESS', 'STARTED'].includes(task.celery_state) ?\n                                `<button class=\"btn btn-outline-danger btn-sm\" data-action=\"revoke-task\" data-task-id=\"${task.task_id}\" title=\"DESTROY Task (Nuclear Option)\">\n                                    <i class=\"ti ti-bomb\"></i>\n                                </button>` : ''\n                            }\n                            ${['REVOKED', 'FAILURE', 'SUCCESS'].includes(task.celery_state) ?\n                                `<button class=\"btn btn-outline-secondary btn-sm\" data-action=\"remove-task\" data-task-id=\"${task.task_id}\" title=\"Remove from List\">\n                                    <i class=\"ti ti-trash\"></i> <span>Clear</span>\n                                </button>` : ''\n                            }\n                            <button class=\"btn btn-outline-primary btn-sm\" data-action=\"view-task-details\" data-task-id=\"${task.task_id}\" title=\"View Details\">\n                                <i class=\"ti ti-eye\"></i>\n                            </button>\n                        </div>\n                    </td>\n                </tr>\n            `;\n        },\n\n        getStatusColor: function(status) {\n            const colors = {\n                'SUCCESS': 'success',\n                'FAILURE': 'danger',\n                'PENDING': 'warning',\n                'STARTED': 'primary',\n                'PROGRESS': 'primary',\n                'REVOKED': 'dark'\n            };\n            return colors[status] || 'light';\n        },\n\n        revokeTask: async function(taskId) {\n            const result = await Swal.fire({\n                title: 'DESTROY Task?',\n                html: `\n                    <div class=\"text-start\">\n                        <p class=\"text-warning\"><strong> WARNING: Nuclear Option</strong></p>\n                        <p>This will completely <strong>DESTROY</strong> the task:</p>\n                        <ul class=\"text-start\">\n                            <li>Terminate the running process</li>\n                            <li>Remove all Redis data</li>\n                            <li>Purge from all tracking systems</li>\n                            <li>Cannot be undone</li>\n                        </ul>\n                        <p class=\"text-danger\"><strong>Are you absolutely sure?</strong></p>\n                    </div>\n                `,\n                icon: 'warning',\n                showCancelButton: true,\n                confirmButtonColor: this.getThemeColor('danger', '#dc3545'),\n                cancelButtonColor: this.getThemeColor('secondary', '#6c757d'),\n                confirmButtonText: ' DESTROY IT',\n                cancelButtonText: 'No, keep it',\n                width: '500px'\n            });\n\n            if (!result.isConfirmed) return;\n\n            try {\n                const response = await fetch(`${CONFIG.endpoints.revokeTask}${taskId}`, {\n                    method: 'POST',\n                    headers: {\n                        'Content-Type': 'application/json',\n                        'X-CSRFToken': this.getCsrfToken()\n                    }\n                });\n\n                const data = await response.json();\n\n                if (data.success) {\n                    Swal.fire({\n                        title: 'DESTROYED! ',\n                        text: 'The task has been completely obliterated.',\n                        icon: 'success',\n                        timer: 3000,\n                        showConfirmButton: false\n                    });\n                    setTimeout(() => this.refreshTaskList(), 1000);\n                } else {\n                    Swal.fire({ title: 'Error!', text: data.error || 'Failed to destroy task', icon: 'error' });\n                }\n            } catch (error) {\n                console.error('Error destroying task:', error);\n                Swal.fire({ title: 'Error!', text: 'Failed to destroy task', icon: 'error' });\n            }\n        },\n\n        viewTaskDetails: async function(taskId) {\n            try {\n                const response = await fetch(`${CONFIG.endpoints.taskDetails}${taskId}`);\n                const data = await response.json();\n\n                if (data.success) {\n                    const task = data.task;\n                    const detailsHtml = `\n                        <div class=\"text-start\">\n                            <p><strong>Task ID:</strong> <code>${task.task_id}</code></p>\n                            <p><strong>Type:</strong> <span class=\"c-badge c-badge--secondary\">${task.task_type || 'N/A'}</span></p>\n                            <p><strong>Status:</strong> <span class=\"c-badge c-badge--${this.getStatusColor(task.celery_state || task.status)}\">${task.celery_state || task.status || 'N/A'}</span></p>\n                            <p><strong>Progress:</strong> ${task.progress || 0}%</p>\n                            <p><strong>Stage:</strong> ${task.stage || 'N/A'}</p>\n                            <p><strong>Created:</strong> ${task.created_at ? new Date(task.created_at).toLocaleString() : 'N/A'}</p>\n                            ${task.message ? `<p><strong>Message:</strong> ${task.message}</p>` : ''}\n                        </div>\n                    `;\n\n                    Swal.fire({\n                        title: 'Task Details',\n                        html: detailsHtml,\n                        icon: 'info',\n                        width: '600px',\n                        confirmButtonText: 'Close'\n                    });\n                } else {\n                    Swal.fire({ title: 'Error!', text: data.error || 'Failed to load task details', icon: 'error' });\n                }\n            } catch (error) {\n                console.error('Error fetching task details:', error);\n                Swal.fire({ title: 'Error!', text: 'Failed to load task details', icon: 'error' });\n            }\n        },\n\n        removeTask: async function(taskId) {\n            const result = await Swal.fire({\n                title: 'Remove Task?',\n                text: 'This will remove the task from the list. Are you sure?',\n                icon: 'question',\n                showCancelButton: true,\n                confirmButtonColor: this.getThemeColor('secondary', '#6c757d'),\n                cancelButtonColor: this.getThemeColor('danger', '#dc3545'),\n                confirmButtonText: 'Yes, remove it',\n                cancelButtonText: 'Cancel'\n            });\n\n            if (!result.isConfirmed) return;\n\n            try {\n                const response = await fetch(`${CONFIG.endpoints.removeTask}${taskId}`, {\n                    method: 'POST',\n                    headers: {\n                        'Content-Type': 'application/json',\n                        'X-CSRFToken': this.getCsrfToken()\n                    }\n                });\n\n                const data = await response.json();\n\n                if (data.success) {\n                    Swal.fire({\n                        title: 'Removed!',\n                        text: 'The task has been removed from the list.',\n                        icon: 'success',\n                        timer: 2000,\n                        showConfirmButton: false\n                    });\n                    setTimeout(() => this.refreshTaskList(), 500);\n                } else {\n                    Swal.fire({ title: 'Error!', text: data.error || 'Failed to remove task', icon: 'error' });\n                }\n            } catch (error) {\n                console.error('Error removing task:', error);\n                Swal.fire({ title: 'Error!', text: 'Failed to remove task', icon: 'error' });\n            }\n        },\n\n        cleanupOldTasks: async function() {\n            const result = await Swal.fire({\n                title: 'Cleanup Old Tasks?',\n                html: `\n                    <div class=\"text-start\">\n                        <p>This will remove:</p>\n                        <ul class=\"text-start\">\n                            <li>TaskManager entries older than 24 hours</li>\n                            <li>Celery metadata older than 7 days</li>\n                            <li>Improves Redis performance</li>\n                        </ul>\n                        <p class=\"text-muted\"><small>Recent tasks will be preserved</small></p>\n                    </div>\n                `,\n                icon: 'question',\n                showCancelButton: true,\n                confirmButtonColor: this.getThemeColor('warning', '#ffc107'),\n                cancelButtonColor: this.getThemeColor('secondary', '#6c757d'),\n                confirmButtonText: ' Clean Up',\n                cancelButtonText: 'Cancel'\n            });\n\n            if (!result.isConfirmed) return;\n\n            try {\n                const response = await fetch(CONFIG.endpoints.cleanupTasks, {\n                    method: 'POST',\n                    headers: {\n                        'Content-Type': 'application/json',\n                        'X-CSRFToken': this.getCsrfToken()\n                    }\n                });\n\n                const data = await response.json();\n\n                if (data.success) {\n                    Swal.fire({\n                        title: 'Cleanup Complete! ',\n                        html: `\n                            <div class=\"text-start\">\n                                <p><strong>Cleaned up:</strong></p>\n                                <ul>\n                                    <li>Registry: ${data.registry_cleaned} tasks</li>\n                                    <li>Metadata: ${data.metadata_cleaned} keys</li>\n                                    <li><strong>Total: ${data.total_cleaned} items</strong></li>\n                                </ul>\n                            </div>\n                        `,\n                        icon: 'success',\n                        timer: 4000,\n                        showConfirmButton: false\n                    });\n                    setTimeout(() => this.refreshTaskList(), 1000);\n                } else {\n                    Swal.fire({ title: 'Error!', text: data.error || 'Failed to cleanup tasks', icon: 'error' });\n                }\n            } catch (error) {\n                console.error('Error cleaning up tasks:', error);\n                Swal.fire({ title: 'Error!', text: 'Failed to cleanup tasks', icon: 'error' });\n            }\n        },\n\n        refreshTaskList: function() {\n            this.fetchTaskList();\n        },\n\n        /* ====================================================================\n           UTILITY FUNCTIONS\n           ==================================================================== */\n\n        getCsrfToken: function() {\n            return document.querySelector('input[name=\"csrf_token\"]')?.value ||\n                   document.querySelector('meta[name=\"csrf-token\"]')?.getAttribute('content') || '';\n        },\n\n        getThemeColor: function(colorName, fallback) {\n            return (typeof ECSTheme !== 'undefined' && ECSTheme.getColor) ?\n                   ECSTheme.getColor(colorName) : fallback;\n        },\n\n        showComponentToast: function(type, title, message) {\n            if (window.ModernComponents?.Toast) {\n                window.ModernComponents.Toast.show({ type, title, message, duration: 5000 });\n            }\n        },\n\n        showToast: function(title, message, type) {\n            const container = document.querySelector(CONFIG.selectors.toastContainer);\n            if (!container) return;\n\n            const toastId = 'toast-' + Date.now();\n            const toastHTML = `\n                <div id=\"${toastId}\" class=\"toast align-items-center border-0 bg-${type} text-white\" role=\"alert\" aria-live=\"assertive\" aria-atomic=\"true\">\n                    <div class=\"d-flex\">\n                        <div class=\"toast-body\">\n                            <strong>${title}:</strong> ${message}\n                        </div>\n                        <button type=\"button\" class=\"btn-close btn-close-white me-2 m-auto\" data-bs-dismiss=\"toast\" aria-label=\"Close\"></button>\n                    </div>\n                </div>\n            `;\n            container.insertAdjacentHTML('beforeend', toastHTML);\n\n            const toastElement = document.getElementById(toastId);\n            if (toastElement && typeof bootstrap !== 'undefined') {\n                const toast = new bootstrap.Toast(toastElement, { autohide: true, delay: 5000 });\n                toast.show();\n\n                toastElement.addEventListener('hidden.bs.toast', function() {\n                    toastElement.remove();\n                });\n            }\n        }\n    };\n\n    /* ========================================================================\n       REGISTER WITH INITSYSTEM OR FALLBACK TO DOMCONTENTLOADED\n       ======================================================================== */\n\n    if (typeof window.InitSystem !== 'undefined') {\n        window.InitSystem.register('AdminDashboard', {\n            priority: 50,\n            init: function(context) {\n                AdminDashboard.init(context);\n            }\n        });\n    } else {\n        document.addEventListener('DOMContentLoaded', function() {\n            AdminDashboard.init(document);\n        });\n    }\n\n    // Expose for external access if needed\n    window.AdminDashboard = AdminDashboard;\n\n})();\n","/**\n * ============================================================================\n * MESSAGE CATEGORIES - Category Management for Message Templates\n * ============================================================================\n *\n * Handles message template category management in the admin panel.\n * Replaces 43-line inline script from messages.html.\n *\n * Features:\n * - Edit message categories\n * - Delete message categories with confirmation\n * - Event delegation for dynamic actions\n *\n * NO INLINE STYLES - Uses CSS classes and data attributes instead.\n *\n * Dependencies:\n * - Bootstrap 5.x (modals)\n * - SweetAlert2 (confirmations)\n * - EventDelegation (centralized event handling)\n *\n * ============================================================================\n */\n\n(function() {\n    'use strict';\n\n    // ========================================================================\n    // EDIT CATEGORY\n    // ========================================================================\n\n    /**\n     * Edit a message category\n     * Opens modal with pre-filled category data\n     * @param {number} id - Category ID\n     * @param {string} name - Category name\n     * @param {string} description - Category description\n     */\n    function editCategory(id, name, description) {\n        const idInput = document.getElementById('edit_category_id');\n        const nameInput = document.getElementById('edit_category_name');\n        const descInput = document.getElementById('edit_category_description');\n\n        if (idInput) idInput.value = id;\n        if (nameInput) nameInput.value = name;\n        if (descInput) descInput.value = description || '';\n\n        // Show edit modal\n        const modalEl = document.getElementById('editCategoryModal');\n        if (modalEl) {\n            ModalManager.show('editCategoryModal');\n        }\n    }\n\n    // ========================================================================\n    // DELETE CATEGORY\n    // ========================================================================\n\n    /**\n     * Delete a message category\n     * Shows confirmation dialog before deletion\n     * @param {number} id - Category ID\n     * @param {string} name - Category name for display\n     * @param {string} deleteUrl - URL to submit delete request\n     * @param {string} csrfToken - CSRF token for form submission\n     */\n    function deleteCategory(id, name, deleteUrl, csrfToken) {\n        Swal.fire({\n            title: 'Delete Category?',\n            text: `Are you sure you want to delete \"${name}\"? This action cannot be undone.`,\n            icon: 'warning',\n            showCancelButton: true,\n            confirmButtonColor: (typeof ECSTheme !== 'undefined') ? ECSTheme.getColor('danger') : '#dc3545',\n            cancelButtonColor: (typeof ECSTheme !== 'undefined') ? ECSTheme.getColor('info') : '#3085d6',\n            confirmButtonText: 'Yes, delete it!'\n        }).then((result) => {\n            if (result.isConfirmed) {\n                // Create form and submit\n                const form = document.createElement('form');\n                form.method = 'POST';\n                form.action = deleteUrl;\n\n                const csrfInput = document.createElement('input');\n                csrfInput.type = 'hidden';\n                csrfInput.name = 'csrf_token';\n                csrfInput.value = csrfToken;\n\n                const categoryIdInput = document.createElement('input');\n                categoryIdInput.type = 'hidden';\n                categoryIdInput.name = 'category_id';\n                categoryIdInput.value = id;\n\n                form.appendChild(csrfInput);\n                form.appendChild(categoryIdInput);\n                document.body.appendChild(form);\n                form.submit();\n            }\n        });\n    }\n\n    // ========================================================================\n    // ACTION HANDLERS\n    // ========================================================================\n\n    /**\n     * Handle edit category action\n     * @param {Event} e - The event object\n     */\n    function handleEditCategory(e) {\n        const editId = e.target.dataset.categoryId;\n        const editName = e.target.dataset.categoryName;\n        const editDesc = e.target.dataset.categoryDescription;\n        editCategory(editId, editName, editDesc);\n    }\n\n    /**\n     * Handle delete category action\n     * @param {Event} e - The event object\n     */\n    function handleDeleteCategory(e) {\n        const deleteId = e.target.dataset.categoryId;\n        const deleteName = e.target.dataset.categoryName;\n        const deleteUrl = e.target.dataset.deleteUrl;\n        const csrfToken = e.target.dataset.csrfToken;\n        deleteCategory(deleteId, deleteName, deleteUrl, csrfToken);\n    }\n\n    // ========================================================================\n    // EVENT DELEGATION\n    // ========================================================================\n\n    /**\n     * Initialize event delegation for category actions\n     */\n    function initEventDelegation() {\n        if (typeof EventDelegation === 'undefined') {\n            console.error('[Message Categories] EventDelegation not available');\n            return;\n        }\n\n        EventDelegation.register('edit-category', handleEditCategory, { preventDefault: true });\n        EventDelegation.register('delete-category', handleDeleteCategory, { preventDefault: true });\n    }\n\n    // ========================================================================\n    // INITIALIZATION\n    // ========================================================================\n\n    /**\n     * Initialize all message category functionality\n     */\n    function init() {\n        // Page guard: only run on message categories page\n        if (!document.getElementById('editCategoryModal')) {\n            return;\n        }\n\n        console.log('[Message Categories] Initializing...');\n        initEventDelegation();\n        console.log('[Message Categories] Initialization complete');\n    }\n\n    // ========================================================================\n    // DOM READY\n    // ========================================================================\n\n    // Initialize when DOM is ready\n    if (document.readyState === 'loading') {\n        document.addEventListener('DOMContentLoaded', init);\n    } else {\n        // DOM already loaded\n        init();\n    }\n\n    // Expose public API\n    window.MessageCategories = {\n        version: '1.0.0',\n        editCategory,\n        deleteCategory,\n        init\n    };\n\n})();\n","/**\n * ============================================================================\n * MESSAGE TEMPLATE DETAIL - Template Management in Categories\n * ============================================================================\n *\n * Handles message template management within categories in the admin panel.\n * Replaces 90-line inline script from category_detail.html.\n *\n * Features:\n * - View template content\n * - Edit templates\n * - Toggle template active status\n * - Delete templates with confirmation\n * - Event delegation for dynamic actions\n *\n * NO INLINE STYLES - Uses CSS classes and data attributes instead.\n *\n * Dependencies:\n * - Bootstrap 5.x (modals)\n * - SweetAlert2 (confirmations)\n * - EventDelegation (centralized event handling)\n *\n * ============================================================================\n */\n\n(function() {\n    'use strict';\n\n    // ========================================================================\n    // VIEW TEMPLATE\n    // ========================================================================\n\n    /**\n     * View template content in modal\n     * @param {number} id - Template ID\n     * @param {string} name - Template name\n     * @param {string} content - Template content\n     */\n    function viewTemplate(id, name, content) {\n        const titleEl = document.getElementById('view_template_title');\n        const contentEl = document.getElementById('view_template_content');\n\n        if (titleEl) titleEl.textContent = name;\n        if (contentEl) contentEl.textContent = content;\n\n        // Show modal\n        const modalEl = document.getElementById('viewTemplateModal');\n        if (modalEl) {\n            ModalManager.show('viewTemplateModal');\n        }\n    }\n\n    // ========================================================================\n    // EDIT TEMPLATE\n    // ========================================================================\n\n    /**\n     * Edit a template\n     * Opens modal with pre-filled template data\n     * @param {number} id - Template ID\n     * @param {string} name - Template name\n     * @param {string} description - Template description\n     * @param {string} content - Template content\n     * @param {string} channelType - Channel type (discord_dm, sms, etc.)\n     * @param {string} usageContext - Usage context description\n     * @param {boolean} isActive - Template active status\n     */\n    function editTemplate(id, name, description, content, channelType, usageContext, isActive) {\n        const idInput = document.getElementById('edit_template_id');\n        const nameInput = document.getElementById('edit_template_name');\n        const descInput = document.getElementById('edit_template_description');\n        const contentInput = document.getElementById('edit_template_content');\n        const channelSelect = document.getElementById('edit_channel_type');\n        const contextInput = document.getElementById('edit_usage_context');\n        const activeCheckbox = document.getElementById('edit_template_active');\n\n        if (idInput) idInput.value = id;\n        if (nameInput) nameInput.value = name;\n        if (descInput) descInput.value = description || '';\n        if (contentInput) contentInput.value = content;\n        if (channelSelect) channelSelect.value = channelType || '';\n        if (contextInput) contextInput.value = usageContext || '';\n        if (activeCheckbox) activeCheckbox.checked = isActive;\n\n        // Show edit modal\n        const modalEl = document.getElementById('editTemplateModal');\n        if (modalEl) {\n            ModalManager.show('editTemplateModal');\n        }\n    }\n\n    // ========================================================================\n    // TOGGLE TEMPLATE STATUS\n    // ========================================================================\n\n    /**\n     * Toggle template active/inactive status\n     * @param {number} id - Template ID\n     * @param {string} name - Template name for display\n     * @param {boolean} currentStatus - Current active status\n     * @param {string} toggleUrl - URL to submit toggle request\n     * @param {string} csrfToken - CSRF token for form submission\n     */\n    function toggleTemplate(id, name, currentStatus, toggleUrl, csrfToken) {\n        const action = currentStatus ? 'deactivate' : 'activate';\n        const newStatus = !currentStatus;\n\n        Swal.fire({\n            title: `${action.charAt(0).toUpperCase() + action.slice(1)} Template?`,\n            text: `Are you sure you want to ${action} \"${name}\"?`,\n            icon: 'question',\n            showCancelButton: true,\n            confirmButtonColor: newStatus ?\n                (getComputedStyle(document.documentElement).getPropertyValue('--ecs-success').trim() || '#198754') :\n                (getComputedStyle(document.documentElement).getPropertyValue('--ecs-warning').trim() || '#ffc107'),\n            cancelButtonColor: (typeof ECSTheme !== 'undefined') ?\n                ECSTheme.getColor('secondary') :\n                (getComputedStyle(document.documentElement).getPropertyValue('--ecs-neutral-50').trim() || '#6c757d'),\n            confirmButtonText: `Yes, ${action} it!`\n        }).then((result) => {\n            if (result.isConfirmed) {\n                // Create form and submit\n                const form = document.createElement('form');\n                form.method = 'POST';\n                form.action = toggleUrl;\n\n                const csrfInput = document.createElement('input');\n                csrfInput.type = 'hidden';\n                csrfInput.name = 'csrf_token';\n                csrfInput.value = csrfToken;\n\n                const templateIdInput = document.createElement('input');\n                templateIdInput.type = 'hidden';\n                templateIdInput.name = 'template_id';\n                templateIdInput.value = id;\n\n                form.appendChild(csrfInput);\n                form.appendChild(templateIdInput);\n                document.body.appendChild(form);\n                form.submit();\n            }\n        });\n    }\n\n    // ========================================================================\n    // DELETE TEMPLATE\n    // ========================================================================\n\n    /**\n     * Delete a template\n     * Shows confirmation dialog before deletion\n     * @param {number} id - Template ID\n     * @param {string} name - Template name for display\n     * @param {string} deleteUrl - URL to submit delete request\n     * @param {string} csrfToken - CSRF token for form submission\n     */\n    function deleteTemplate(id, name, deleteUrl, csrfToken) {\n        Swal.fire({\n            title: 'Delete Template?',\n            text: `Are you sure you want to delete \"${name}\"? This action cannot be undone.`,\n            icon: 'warning',\n            showCancelButton: true,\n            confirmButtonColor: (typeof ECSTheme !== 'undefined') ?\n                ECSTheme.getColor('danger') :\n                (getComputedStyle(document.documentElement).getPropertyValue('--ecs-danger').trim() || '#dc3545'),\n            cancelButtonColor: (typeof ECSTheme !== 'undefined') ?\n                ECSTheme.getColor('info') :\n                (getComputedStyle(document.documentElement).getPropertyValue('--ecs-info').trim() || '#0dcaf0'),\n            confirmButtonText: 'Yes, delete it!'\n        }).then((result) => {\n            if (result.isConfirmed) {\n                // Create form and submit\n                const form = document.createElement('form');\n                form.method = 'POST';\n                form.action = deleteUrl;\n\n                const csrfInput = document.createElement('input');\n                csrfInput.type = 'hidden';\n                csrfInput.name = 'csrf_token';\n                csrfInput.value = csrfToken;\n\n                const templateIdInput = document.createElement('input');\n                templateIdInput.type = 'hidden';\n                templateIdInput.name = 'template_id';\n                templateIdInput.value = id;\n\n                form.appendChild(csrfInput);\n                form.appendChild(templateIdInput);\n                document.body.appendChild(form);\n                form.submit();\n            }\n        });\n    }\n\n    // ========================================================================\n    // VARIABLE INSERTION\n    // ========================================================================\n\n    /**\n     * Insert variable into textarea at cursor position\n     * @param {string} variable - Variable string to insert\n     * @param {string} targetId - ID of textarea to insert into\n     */\n    function insertVariable(variable, targetId) {\n        const textarea = document.getElementById(targetId);\n        if (!textarea) return;\n\n        const start = textarea.selectionStart;\n        const end = textarea.selectionEnd;\n        const text = textarea.value;\n\n        // Insert variable at cursor position\n        textarea.value = text.substring(0, start) + variable + text.substring(end);\n\n        // Move cursor to after inserted variable\n        const newPos = start + variable.length;\n        textarea.setSelectionRange(newPos, newPos);\n        textarea.focus();\n    }\n\n    /**\n     * Initialize variable button click handlers\n     */\n    function initVariableButtons() {\n        document.addEventListener('click', function(e) {\n            const varBtn = e.target.closest('.var-btn');\n            if (!varBtn) return;\n\n            e.preventDefault();\n            const variable = varBtn.dataset.var;\n            const targetId = varBtn.dataset.target || 'template_content';\n\n            // Determine target based on which modal is open\n            let actualTarget = targetId;\n            const editModal = document.getElementById('editTemplateModal');\n            const createModal = document.getElementById('createTemplateModal');\n\n            if (editModal && editModal.classList.contains('show')) {\n                actualTarget = 'edit_template_content';\n            } else if (createModal && createModal.classList.contains('show')) {\n                actualTarget = 'template_content';\n            }\n\n            insertVariable(variable, actualTarget);\n\n            // Visual feedback\n            varBtn.classList.add('inserted');\n            setTimeout(() => varBtn.classList.remove('inserted'), 300);\n        });\n    }\n\n    // ========================================================================\n    // ACTION HANDLERS\n    // ========================================================================\n\n    /**\n     * Handle go back action\n     * @param {Event} e - The event object\n     */\n    function handleGoBack(e) {\n        window.history.back();\n    }\n\n    /**\n     * Handle view template action\n     * @param {Event} e - The event object\n     */\n    function handleViewTemplate(e) {\n        const viewId = e.target.dataset.templateId;\n        const viewName = e.target.dataset.templateName;\n        const viewContent = e.target.dataset.templateContent;\n        viewTemplate(viewId, viewName, viewContent);\n    }\n\n    /**\n     * Handle edit template action\n     * @param {Event} e - The event object\n     */\n    function handleEditTemplate(e) {\n        const editId = e.target.dataset.templateId;\n        const editName = e.target.dataset.templateName;\n        const editDesc = e.target.dataset.templateDescription;\n        const editContent = e.target.dataset.templateContent;\n        const editChannel = e.target.dataset.templateChannel;\n        const editContext = e.target.dataset.templateContext;\n        const editActive = e.target.dataset.templateActive === 'true';\n        editTemplate(editId, editName, editDesc, editContent, editChannel, editContext, editActive);\n    }\n\n    /**\n     * Handle toggle template action\n     * @param {Event} e - The event object\n     */\n    function handleToggleTemplate(e) {\n        const toggleId = e.target.dataset.templateId;\n        const toggleName = e.target.dataset.templateName;\n        const toggleActive = e.target.dataset.templateActive === 'true';\n        const toggleUrl = e.target.dataset.toggleUrl;\n        const toggleCsrf = e.target.dataset.csrfToken;\n        toggleTemplate(toggleId, toggleName, toggleActive, toggleUrl, toggleCsrf);\n    }\n\n    /**\n     * Handle delete template action\n     * @param {Event} e - The event object\n     */\n    function handleDeleteTemplate(e) {\n        const deleteId = e.target.dataset.templateId;\n        const deleteName = e.target.dataset.templateName;\n        const deleteUrl = e.target.dataset.deleteUrl;\n        const deleteCsrf = e.target.dataset.csrfToken;\n        deleteTemplate(deleteId, deleteName, deleteUrl, deleteCsrf);\n    }\n\n    // ========================================================================\n    // EVENT DELEGATION\n    // ========================================================================\n\n    /**\n     * Initialize event delegation for template actions\n     */\n    function initEventDelegation() {\n        if (typeof EventDelegation === 'undefined') {\n            console.error('[Template Detail] EventDelegation not available');\n            return;\n        }\n\n        EventDelegation.register('go-back', handleGoBack, { preventDefault: true });\n        EventDelegation.register('view-template', handleViewTemplate, { preventDefault: true });\n        EventDelegation.register('edit-template', handleEditTemplate, { preventDefault: true });\n        EventDelegation.register('toggle-template', handleToggleTemplate, { preventDefault: true });\n        EventDelegation.register('delete-template', handleDeleteTemplate, { preventDefault: true });\n    }\n\n    // ========================================================================\n    // INITIALIZATION\n    // ========================================================================\n\n    /**\n     * Initialize all template detail functionality\n     */\n    function init() {\n        // Page guard: only run on template detail page\n        if (!document.getElementById('viewTemplateModal') && !document.getElementById('editTemplateModal')) {\n            return;\n        }\n\n        console.log('[Template Detail] Initializing...');\n        initEventDelegation();\n        initVariableButtons();\n        console.log('[Template Detail] Initialization complete');\n    }\n\n    // ========================================================================\n    // DOM READY\n    // ========================================================================\n\n    // Initialize when DOM is ready\n    if (document.readyState === 'loading') {\n        document.addEventListener('DOMContentLoaded', init);\n    } else {\n        // DOM already loaded\n        init();\n    }\n\n    // Expose public API\n    window.MessageTemplateDetail = {\n        version: '1.1.0',\n        viewTemplate,\n        editTemplate,\n        toggleTemplate,\n        deleteTemplate,\n        insertVariable,\n        init\n    };\n\n})();\n","/**\n * ============================================================================\n * PUSH CAMPAIGNS - Campaign Management System\n * ============================================================================\n *\n * Comprehensive push notification campaign management.\n * Replaces 400+ line inline script from campaigns.html.\n *\n * Features:\n * - Create, edit, delete campaigns\n * - Schedule and send campaigns\n * - Target audience selection\n * - Campaign status management\n * - Event delegation for dynamic content\n *\n * NO INLINE STYLES - Uses CSS classes and data attributes instead.\n *\n * Dependencies:\n * - Bootstrap 5.x (modals)\n * - SweetAlert2 (confirmations)\n * - EventDelegation (centralized event handling)\n *\n * ============================================================================\n */\n\n(function() {\n    'use strict';\n\n    // ========================================================================\n    // CONFIGURATION\n    // ========================================================================\n\n    const CampaignsConfig = {\n        baseUrl: window.CAMPAIGNS_BASE_URL || '/admin-panel',\n        csrfToken: window.CAMPAIGNS_CSRF_TOKEN || ''\n    };\n\n    // ========================================================================\n    // CAMPAIGN CRUD OPERATIONS\n    // ========================================================================\n\n    async function viewCampaign(campaignId) {\n        try {\n            const response = await fetch(`${CampaignsConfig.baseUrl}/communication/campaigns/${campaignId}`);\n            const data = await response.json();\n\n            if (data.success) {\n                // Show campaign details in modal\n                Swal.fire({\n                    title: data.campaign.name,\n                    html: `\n                        <div class=\"text-start\">\n                            <p><strong>Title:</strong> ${data.campaign.title}</p>\n                            <p><strong>Body:</strong> ${data.campaign.body}</p>\n                            <p><strong>Target:</strong> ${data.campaign.target_type}</p>\n                            <p><strong>Status:</strong> ${data.campaign.status}</p>\n                        </div>\n                    `,\n                    width: 600\n                });\n            }\n        } catch (error) {\n            Swal.fire('Error', 'Failed to load campaign details', 'error');\n        }\n    }\n\n    async function editCampaign(campaignId) {\n        try {\n            const response = await fetch(`${CampaignsConfig.baseUrl}/communication/campaigns/${campaignId}`);\n            const data = await response.json();\n\n            if (data.success) {\n                window.location.href = `${CampaignsConfig.baseUrl}/communication/campaigns/${campaignId}/edit`;\n            }\n        } catch (error) {\n            Swal.fire('Error', 'Failed to load campaign for editing', 'error');\n        }\n    }\n\n    async function sendCampaign(campaignId, campaignName) {\n        const result = await Swal.fire({\n            title: 'Send Campaign Now?',\n            text: `Send \"${campaignName}\" to all targeted users immediately?`,\n            icon: 'question',\n            showCancelButton: true,\n            confirmButtonText: 'Yes, send it!',\n            cancelButtonText: 'Cancel'\n        });\n\n        if (result.isConfirmed) {\n            try {\n                const response = await fetch(`${CampaignsConfig.baseUrl}/communication/campaigns/${campaignId}/send`, {\n                    method: 'POST',\n                    headers: {\n                        'Content-Type': 'application/json',\n                        'X-CSRFToken': CampaignsConfig.csrfToken\n                    }\n                });\n\n                const data = await response.json();\n                if (data.success) {\n                    Swal.fire('Sent!', data.message, 'success').then(() => location.reload());\n                } else {\n                    Swal.fire('Error', data.message, 'error');\n                }\n            } catch (error) {\n                Swal.fire('Error', 'Failed to send campaign', 'error');\n            }\n        }\n    }\n\n    async function scheduleCampaign(campaignId, campaignName) {\n        const result = await Swal.fire({\n            title: 'Schedule Campaign',\n            html: `\n                <div class=\"text-start\">\n                    <label class=\"form-label\">Schedule Time</label>\n                    <input type=\"datetime-local\" id=\"scheduleTime\" class=\"form-control\">\n                </div>\n            `,\n            showCancelButton: true,\n            confirmButtonText: 'Schedule',\n            preConfirm: () => {\n                const scheduleTime = document.getElementById('scheduleTime').value;\n                if (!scheduleTime) {\n                    Swal.showValidationMessage('Please select a time');\n                    return false;\n                }\n                return { scheduleTime };\n            }\n        });\n\n        if (result.isConfirmed) {\n            try {\n                const response = await fetch(`${CampaignsConfig.baseUrl}/communication/campaigns/${campaignId}/schedule`, {\n                    method: 'POST',\n                    headers: {\n                        'Content-Type': 'application/json',\n                        'X-CSRFToken': CampaignsConfig.csrfToken\n                    },\n                    body: JSON.stringify({ scheduled_send_time: result.value.scheduleTime })\n                });\n\n                const data = await response.json();\n                if (data.success) {\n                    Swal.fire('Scheduled!', data.message, 'success').then(() => location.reload());\n                } else {\n                    Swal.fire('Error', data.message, 'error');\n                }\n            } catch (error) {\n                Swal.fire('Error', 'Failed to schedule campaign', 'error');\n            }\n        }\n    }\n\n    async function deleteCampaign(campaignId, campaignName) {\n        const result = await Swal.fire({\n            title: 'Delete Campaign?',\n            text: `Delete \"${campaignName}\"? This cannot be undone.`,\n            icon: 'warning',\n            showCancelButton: true,\n            confirmButtonColor: '#dc3545',\n            confirmButtonText: 'Yes, delete it!'\n        });\n\n        if (result.isConfirmed) {\n            try {\n                const response = await fetch(`${CampaignsConfig.baseUrl}/communication/campaigns/${campaignId}`, {\n                    method: 'DELETE',\n                    headers: {\n                        'Content-Type': 'application/json',\n                        'X-CSRFToken': CampaignsConfig.csrfToken\n                    }\n                });\n\n                const data = await response.json();\n                if (data.success) {\n                    Swal.fire('Deleted!', data.message, 'success').then(() => location.reload());\n                } else {\n                    Swal.fire('Error', data.message, 'error');\n                }\n            } catch (error) {\n                Swal.fire('Error', 'Failed to delete campaign', 'error');\n            }\n        }\n    }\n\n    async function cancelCampaign(campaignId, campaignName) {\n        const result = await Swal.fire({\n            title: 'Cancel Campaign?',\n            text: `Cancel scheduled campaign \"${campaignName}\"?`,\n            icon: 'warning',\n            showCancelButton: true,\n            confirmButtonText: 'Yes, cancel it!'\n        });\n\n        if (result.isConfirmed) {\n            try {\n                const response = await fetch(`${CampaignsConfig.baseUrl}/communication/campaigns/${campaignId}/cancel`, {\n                    method: 'POST',\n                    headers: {\n                        'Content-Type': 'application/json',\n                        'X-CSRFToken': CampaignsConfig.csrfToken\n                    }\n                });\n\n                const data = await response.json();\n                if (data.success) {\n                    Swal.fire('Cancelled!', data.message, 'success').then(() => location.reload());\n                } else {\n                    Swal.fire('Error', data.message, 'error');\n                }\n            } catch (error) {\n                Swal.fire('Error', 'Failed to cancel campaign', 'error');\n            }\n        }\n    }\n\n    async function duplicateCampaign(campaignId, campaignName) {\n        const result = await Swal.fire({\n            title: 'Duplicate Campaign?',\n            text: `Create a copy of \"${campaignName}\"?`,\n            icon: 'question',\n            showCancelButton: true,\n            confirmButtonText: 'Yes, duplicate it!'\n        });\n\n        if (result.isConfirmed) {\n            try {\n                const response = await fetch(`${CampaignsConfig.baseUrl}/communication/campaigns/${campaignId}/duplicate`, {\n                    method: 'POST',\n                    headers: {\n                        'Content-Type': 'application/json',\n                        'X-CSRFToken': CampaignsConfig.csrfToken\n                    }\n                });\n\n                const data = await response.json();\n                if (data.success) {\n                    Swal.fire('Duplicated!', data.message, 'success').then(() => location.reload());\n                } else {\n                    Swal.fire('Error', data.message, 'error');\n                }\n            } catch (error) {\n                Swal.fire('Error', 'Failed to duplicate campaign', 'error');\n            }\n        }\n    }\n\n    // ========================================================================\n    // FORM HELPERS\n    // ========================================================================\n\n    function toggleCampaignTargetOptions() {\n        const targetType = document.getElementById('campaign_target_type')?.value;\n        if (!targetType) return;\n\n        // Hide all target selectors\n        const selectors = [\n            'campaignTeamSelector',\n            'campaignLeagueSelector',\n            'campaignRoleSelector',\n            'campaignPoolSelector',\n            'campaignGroupSelector'\n        ];\n\n        selectors.forEach(id => {\n            const el = document.getElementById(id);\n            if (el) el.classList.add('d-none');\n        });\n\n        // Show selected target selector\n        const selectorMap = {\n            'team': 'campaignTeamSelector',\n            'league': 'campaignLeagueSelector',\n            'role': 'campaignRoleSelector',\n            'pool': 'campaignPoolSelector',\n            'group': 'campaignGroupSelector'\n        };\n\n        const selectedSelector = selectorMap[targetType];\n        if (selectedSelector) {\n            const el = document.getElementById(selectedSelector);\n            if (el) el.classList.remove('d-none');\n        }\n    }\n\n    function toggleCampaignSchedule() {\n        const sendType = document.querySelector('input[name=\"send_type\"]:checked')?.value;\n        const scheduleContainer = document.getElementById('campaignScheduleContainer');\n\n        if (!scheduleContainer) return;\n\n        if (sendType === 'scheduled') {\n            scheduleContainer.classList.remove('d-none');\n        } else {\n            scheduleContainer.classList.add('d-none');\n        }\n    }\n\n    // ========================================================================\n    // ACTION HANDLERS\n    // ========================================================================\n\n    /**\n     * Handle go back action\n     * @param {Event} e - The event object\n     */\n    function handleGoBack(e) {\n        window.history.back();\n    }\n\n    /**\n     * Handle view campaign action\n     * @param {Event} e - The event object\n     */\n    function handleViewCampaign(e) {\n        viewCampaign(e.target.dataset.campaignId);\n    }\n\n    /**\n     * Handle edit campaign action\n     * @param {Event} e - The event object\n     */\n    function handleEditCampaign(e) {\n        editCampaign(e.target.dataset.campaignId);\n    }\n\n    /**\n     * Handle send campaign action\n     * @param {Event} e - The event object\n     */\n    function handleSendCampaign(e) {\n        sendCampaign(\n            e.target.dataset.campaignId,\n            e.target.dataset.campaignName\n        );\n    }\n\n    /**\n     * Handle schedule campaign action\n     * @param {Event} e - The event object\n     */\n    function handleScheduleCampaign(e) {\n        scheduleCampaign(\n            e.target.dataset.campaignId,\n            e.target.dataset.campaignName\n        );\n    }\n\n    /**\n     * Handle delete campaign action\n     * @param {Event} e - The event object\n     */\n    function handleDeleteCampaign(e) {\n        deleteCampaign(\n            e.target.dataset.campaignId,\n            e.target.dataset.campaignName\n        );\n    }\n\n    /**\n     * Handle cancel campaign action\n     * @param {Event} e - The event object\n     */\n    function handleCancelCampaign(e) {\n        cancelCampaign(\n            e.target.dataset.campaignId,\n            e.target.dataset.campaignName\n        );\n    }\n\n    /**\n     * Handle duplicate campaign action\n     * @param {Event} e - The event object\n     */\n    function handleDuplicateCampaign(e) {\n        duplicateCampaign(\n            e.target.dataset.campaignId,\n            e.target.dataset.campaignName\n        );\n    }\n\n    // ========================================================================\n    // EVENT DELEGATION\n    // ========================================================================\n\n    function initEventDelegation() {\n        if (typeof EventDelegation === 'undefined') {\n            console.error('[Push Campaigns] EventDelegation not available');\n            return;\n        }\n\n        EventDelegation.register('go-back', handleGoBack, { preventDefault: true });\n        EventDelegation.register('view-campaign', handleViewCampaign, { preventDefault: true });\n        EventDelegation.register('edit-campaign', handleEditCampaign, { preventDefault: true });\n        EventDelegation.register('send-campaign', handleSendCampaign, { preventDefault: true });\n        EventDelegation.register('schedule-campaign', handleScheduleCampaign, { preventDefault: true });\n        EventDelegation.register('delete-campaign', handleDeleteCampaign, { preventDefault: true });\n        EventDelegation.register('cancel-campaign', handleCancelCampaign, { preventDefault: true });\n        EventDelegation.register('duplicate-campaign', handleDuplicateCampaign, { preventDefault: true });\n    }\n\n    // ========================================================================\n    // INITIALIZATION\n    // ========================================================================\n\n    function init() {\n        // Page guard: only run on campaigns page\n        if (!document.querySelector('[data-action*=\"campaign\"]')) {\n            return;\n        }\n\n        console.log('[Push Campaigns] Initializing...');\n\n        initEventDelegation();\n\n        // Initialize target type selector\n        const targetTypeSelect = document.getElementById('campaign_target_type');\n        if (targetTypeSelect) {\n            targetTypeSelect.addEventListener('change', toggleCampaignTargetOptions);\n            toggleCampaignTargetOptions(); // Set initial state\n        }\n\n        // Initialize send type radios\n        const sendTypeRadios = document.querySelectorAll('input[name=\"send_type\"]');\n        sendTypeRadios.forEach(radio => {\n            radio.addEventListener('change', toggleCampaignSchedule);\n        });\n        toggleCampaignSchedule(); // Set initial state\n\n        console.log('[Push Campaigns] Initialization complete');\n    }\n\n    // ========================================================================\n    // DOM READY\n    // ========================================================================\n\n    if (document.readyState === 'loading') {\n        document.addEventListener('DOMContentLoaded', init);\n    } else {\n        init();\n    }\n\n    // Expose public API\n    window.PushCampaigns = {\n        version: '1.0.0',\n        viewCampaign,\n        editCampaign,\n        sendCampaign,\n        scheduleCampaign,\n        deleteCampaign,\n        cancelCampaign,\n        duplicateCampaign,\n        init\n    };\n\n})();\n","/**\n * ============================================================================\n * SCHEDULED MESSAGES - Message Scheduling & Management\n * ============================================================================\n *\n * Handles scheduled Discord message management in the admin panel.\n * Replaces 239-line inline script from scheduled_messages.html.\n *\n * Features:\n * - Message preview and validation\n * - View scheduled message details\n * - Edit scheduled messages\n * - Cancel scheduled messages\n * - Retry failed messages\n * - Queue filtering\n * - Recurring message options\n *\n * NO INLINE STYLES - Uses CSS classes and data attributes instead.\n *\n * Dependencies:\n * - Bootstrap 5.x (modals)\n * - SweetAlert2 (confirmations)\n * - EventDelegation (centralized event handling)\n *\n * ============================================================================\n */\n\n(function() {\n    'use strict';\n\n    // ========================================================================\n    // CONFIGURATION\n    // ========================================================================\n\n    const CONFIG = {\n        ENDPOINTS: {\n            MESSAGE_DETAILS: '/admin-panel/communication/scheduled-messages/{id}/details',\n            MESSAGE_UPDATE: '/admin-panel/communication/scheduled-messages/{id}/update'\n        }\n    };\n\n    // ========================================================================\n    // MESSAGE PREVIEW\n    // ========================================================================\n\n    /**\n     * Preview message before scheduling\n     */\n    function previewMessage() {\n        const title = document.getElementById('message_title')?.value;\n        const content = document.getElementById('message_content')?.value;\n        const type = document.getElementById('message_type')?.value;\n        const channel = document.getElementById('target_channel')?.value;\n        const scheduleDate = document.getElementById('schedule_date')?.value;\n\n        if (!title || !content || !type || !channel) {\n            Swal.fire('Error', 'Please fill in all required fields before previewing', 'error');\n            return;\n        }\n\n        // Update preview modal content\n        const previewTitle = document.getElementById('preview_title');\n        const previewContent = document.getElementById('preview_content');\n        const previewType = document.getElementById('preview_type');\n        const previewChannel = document.getElementById('preview_channel');\n        const previewSchedule = document.getElementById('preview_schedule');\n\n        if (previewTitle) previewTitle.textContent = title;\n        if (previewContent) previewContent.textContent = content;\n        if (previewType) previewType.textContent = type;\n        if (previewChannel) previewChannel.textContent = channel;\n        if (previewSchedule) previewSchedule.textContent = scheduleDate || 'Not set';\n\n        // Show modal\n        const modalEl = document.getElementById('messagePreviewModal');\n        if (modalEl) {\n            ModalManager.show('messagePreviewModal');\n        }\n    }\n\n    // ========================================================================\n    // VIEW MESSAGE DETAILS\n    // ========================================================================\n\n    /**\n     * View details of a scheduled message\n     * @param {number} messageId - The message ID\n     * @param {string} messageTitle - The message title for display\n     */\n    function viewScheduledMessage(messageId, messageTitle) {\n        const titleEl = document.getElementById('message_details_title');\n        const contentEl = document.getElementById('message_details_content');\n\n        if (titleEl) {\n            titleEl.textContent = `Details for \"${messageTitle}\"`;\n        }\n\n        if (contentEl) {\n            contentEl.innerHTML = '<div class=\"text-center\"><div class=\"spinner-border\" role=\"status\"></div></div>';\n        }\n\n        // Show modal\n        const modalEl = document.getElementById('messageDetailsModal');\n        if (modalEl) {\n            ModalManager.show('messageDetailsModal');\n        }\n\n        // Load message details via AJAX\n        const url = CONFIG.ENDPOINTS.MESSAGE_DETAILS.replace('{id}', messageId);\n        fetch(url)\n            .then(response => response.json())\n            .then(data => {\n                if (data.success && contentEl) {\n                    contentEl.innerHTML = data.html;\n                } else if (contentEl) {\n                    contentEl.innerHTML = '<div class=\"alert alert-danger\">Error loading message details</div>';\n                }\n            })\n            .catch(() => {\n                if (contentEl) {\n                    contentEl.innerHTML = '<div class=\"alert alert-danger\">Error loading message details</div>';\n                }\n            });\n    }\n\n    // ========================================================================\n    // EDIT MESSAGE\n    // ========================================================================\n\n    /**\n     * Edit a scheduled message\n     * @param {number} messageId - The message ID\n     */\n    function editScheduledMessage(messageId) {\n        // Fetch message details first\n        const url = CONFIG.ENDPOINTS.MESSAGE_DETAILS.replace('{id}', messageId);\n\n        fetch(url)\n            .then(response => response.json())\n            .then(data => {\n                if (data.success) {\n                    const message = data.message;\n                    const scheduledTime = message.scheduled_send_time ? message.scheduled_send_time.slice(0, 16) : '';\n\n                    Swal.fire({\n                        title: 'Edit Scheduled Message',\n                        html: `\n                            <div class=\"text-start\">\n                                <div class=\"mb-3\">\n                                    <label class=\"form-label\">Message Type</label>\n                                    <select id=\"editMessageType\" class=\"form-select\">\n                                        <option value=\"standard\" ${message.message_type === 'standard' ? 'selected' : ''}>Standard</option>\n                                        <option value=\"announcement\" ${message.message_type === 'announcement' ? 'selected' : ''}>Announcement</option>\n                                        <option value=\"reminder\" ${message.message_type === 'reminder' ? 'selected' : ''}>Reminder</option>\n                                        <option value=\"notification\" ${message.message_type === 'notification' ? 'selected' : ''}>Notification</option>\n                                        <option value=\"alert\" ${message.message_type === 'alert' ? 'selected' : ''}>Alert</option>\n                                    </select>\n                                </div>\n                                <div class=\"mb-3\">\n                                    <label class=\"form-label\">Scheduled Time <span class=\"text-danger\">*</span></label>\n                                    <input type=\"datetime-local\" id=\"editScheduledTime\" class=\"form-control\" value=\"${scheduledTime}\">\n                                </div>\n                                <div class=\"mb-3\">\n                                    <label class=\"form-label\">Match ID</label>\n                                    <input type=\"text\" class=\"form-control\" value=\"${message.match_id || 'N/A'}\" disabled>\n                                    <small class=\"text-muted\">Match ID cannot be changed</small>\n                                </div>\n                            </div>\n                        `,\n                        showCancelButton: true,\n                        confirmButtonText: 'Save Changes',\n                        cancelButtonText: 'Cancel',\n                        preConfirm: () => {\n                            const scheduledTime = document.getElementById('editScheduledTime')?.value;\n                            if (!scheduledTime) {\n                                Swal.showValidationMessage('Scheduled time is required');\n                                return false;\n                            }\n                            return {\n                                message_type: document.getElementById('editMessageType')?.value,\n                                scheduled_time: scheduledTime\n                            };\n                        }\n                    }).then((result) => {\n                        if (result.isConfirmed) {\n                            const formData = new FormData();\n                            formData.append('message_type', result.value.message_type);\n                            formData.append('scheduled_time', result.value.scheduled_time);\n\n                            const updateUrl = CONFIG.ENDPOINTS.MESSAGE_UPDATE.replace('{id}', messageId);\n                            fetch(updateUrl, {\n                                method: 'POST',\n                                body: formData\n                            })\n                            .then(response => response.json())\n                            .then(data => {\n                                if (data.success) {\n                                    Swal.fire('Success', data.message, 'success').then(() => location.reload());\n                                } else {\n                                    Swal.fire('Error', data.message, 'error');\n                                }\n                            })\n                            .catch(() => Swal.fire('Error', 'Failed to update message', 'error'));\n                        }\n                    });\n                } else {\n                    Swal.fire('Error', data.message, 'error');\n                }\n            })\n            .catch(() => Swal.fire('Error', 'Failed to load message details', 'error'));\n    }\n\n    // ========================================================================\n    // CANCEL MESSAGE\n    // ========================================================================\n\n    /**\n     * Cancel a scheduled message\n     * @param {number} messageId - The message ID\n     * @param {string} messageTitle - The message title for display\n     * @param {string} cancelUrl - URL to submit cancel request\n     * @param {string} csrfToken - CSRF token for form submission\n     */\n    function cancelScheduledMessage(messageId, messageTitle, cancelUrl, csrfToken) {\n        Swal.fire({\n            title: 'Cancel Scheduled Message?',\n            text: `Cancel the scheduled message \"${messageTitle}\"? This action cannot be undone.`,\n            icon: 'warning',\n            showCancelButton: true,\n            confirmButtonColor: (typeof ECSTheme !== 'undefined') ? ECSTheme.getColor('danger') : 'var(--ecs-danger)',\n            cancelButtonColor: (typeof ECSTheme !== 'undefined') ? ECSTheme.getColor('secondary') : '#6c757d',\n            confirmButtonText: 'Yes, cancel it!'\n        }).then((result) => {\n            if (result.isConfirmed) {\n                // Create form and submit\n                const form = document.createElement('form');\n                form.method = 'POST';\n                form.action = cancelUrl;\n\n                const csrfInput = document.createElement('input');\n                csrfInput.type = 'hidden';\n                csrfInput.name = 'csrf_token';\n                csrfInput.value = csrfToken;\n\n                const messageIdInput = document.createElement('input');\n                messageIdInput.type = 'hidden';\n                messageIdInput.name = 'message_id';\n                messageIdInput.value = messageId;\n\n                form.appendChild(csrfInput);\n                form.appendChild(messageIdInput);\n                document.body.appendChild(form);\n                form.submit();\n            }\n        });\n    }\n\n    // ========================================================================\n    // RETRY FAILED MESSAGE\n    // ========================================================================\n\n    /**\n     * Retry sending a failed message\n     * @param {number} messageId - The message ID\n     * @param {string} messageTitle - The message title for display\n     * @param {string} retryUrl - URL to submit retry request\n     * @param {string} csrfToken - CSRF token for form submission\n     */\n    function retryScheduledMessage(messageId, messageTitle, retryUrl, csrfToken) {\n        Swal.fire({\n            title: 'Retry Scheduled Message?',\n            text: `Retry sending the failed message \"${messageTitle}\"?`,\n            icon: 'question',\n            showCancelButton: true,\n            confirmButtonColor: (typeof ECSTheme !== 'undefined') ? ECSTheme.getColor('success') : 'var(--ecs-success)',\n            cancelButtonColor: (typeof ECSTheme !== 'undefined') ? ECSTheme.getColor('secondary') : '#6c757d',\n            confirmButtonText: 'Yes, retry!'\n        }).then((result) => {\n            if (result.isConfirmed) {\n                // Create form and submit\n                const form = document.createElement('form');\n                form.method = 'POST';\n                form.action = retryUrl;\n\n                const csrfInput = document.createElement('input');\n                csrfInput.type = 'hidden';\n                csrfInput.name = 'csrf_token';\n                csrfInput.value = csrfToken;\n\n                const messageIdInput = document.createElement('input');\n                messageIdInput.type = 'hidden';\n                messageIdInput.name = 'message_id';\n                messageIdInput.value = messageId;\n\n                form.appendChild(csrfInput);\n                form.appendChild(messageIdInput);\n                document.body.appendChild(form);\n                form.submit();\n            }\n        });\n    }\n\n    // ========================================================================\n    // RECURRING MESSAGE TOGGLE\n    // ========================================================================\n\n    /**\n     * Initialize recurring message checkbox handler\n     */\n    function initRecurringToggle() {\n        const recurringCheckbox = document.getElementById('is_recurring');\n        const recurrenceOptions = document.getElementById('recurrence_options');\n        const recurrencePattern = document.getElementById('recurrence_pattern');\n\n        if (!recurringCheckbox || !recurrenceOptions) return;\n\n        recurringCheckbox.addEventListener('change', function() {\n            if (this.checked) {\n                recurrenceOptions.classList.remove('u-hidden');\n                if (recurrencePattern) {\n                    recurrencePattern.required = true;\n                }\n            } else {\n                recurrenceOptions.classList.add('u-hidden');\n                if (recurrencePattern) {\n                    recurrencePattern.required = false;\n                }\n            }\n        });\n\n        // Set initial state\n        if (recurringCheckbox.checked) {\n            recurrenceOptions.classList.remove('u-hidden');\n            if (recurrencePattern) {\n                recurrencePattern.required = true;\n            }\n        } else {\n            recurrenceOptions.classList.add('u-hidden');\n            if (recurrencePattern) {\n                recurrencePattern.required = false;\n            }\n        }\n    }\n\n    // ========================================================================\n    // QUEUE FILTERING\n    // ========================================================================\n\n    /**\n     * Initialize queue filtering radio buttons\n     */\n    function initQueueFiltering() {\n        const filterRadios = document.querySelectorAll('input[name=\"queue_filter\"]');\n\n        filterRadios.forEach(radio => {\n            radio.addEventListener('change', function() {\n                const filterValue = this.id.replace('filter_', '');\n                const rows = document.querySelectorAll('.message-row');\n\n                rows.forEach(row => {\n                    const status = row.dataset.status;\n\n                    if (filterValue === 'all') {\n                        row.classList.remove('u-hidden');\n                    } else if (status === filterValue) {\n                        row.classList.remove('u-hidden');\n                    } else {\n                        row.classList.add('u-hidden');\n                    }\n                });\n            });\n        });\n    }\n\n    // ========================================================================\n    // MINIMUM DATETIME SETUP\n    // ========================================================================\n\n    /**\n     * Set minimum date/time for scheduling input to current time\n     */\n    function initMinDateTime() {\n        const scheduleDateInput = document.getElementById('schedule_date');\n        if (!scheduleDateInput) return;\n\n        const now = new Date();\n        const year = now.getFullYear();\n        const month = String(now.getMonth() + 1).padStart(2, '0');\n        const day = String(now.getDate()).padStart(2, '0');\n        const hour = String(now.getHours()).padStart(2, '0');\n        const minute = String(now.getMinutes()).padStart(2, '0');\n\n        const minDateTime = `${year}-${month}-${day}T${hour}:${minute}`;\n        scheduleDateInput.min = minDateTime;\n    }\n\n    // ========================================================================\n    // ACTION HANDLERS\n    // ========================================================================\n\n    /**\n     * Handle go back action\n     * @param {Event} e - The event object\n     */\n    function handleGoBack(e) {\n        window.history.back();\n    }\n\n    /**\n     * Handle preview message action\n     * @param {Event} e - The event object\n     */\n    function handlePreviewMessage(e) {\n        previewMessage();\n    }\n\n    /**\n     * Handle view scheduled message action\n     * @param {Event} e - The event object\n     */\n    function handleViewScheduledMessage(e) {\n        const viewId = e.target.dataset.messageId;\n        const viewTitle = e.target.dataset.title;\n        viewScheduledMessage(viewId, viewTitle);\n    }\n\n    /**\n     * Handle edit scheduled message action\n     * @param {Event} e - The event object\n     */\n    function handleEditScheduledMessage(e) {\n        const editId = e.target.dataset.messageId;\n        editScheduledMessage(editId);\n    }\n\n    /**\n     * Handle cancel scheduled message action\n     * @param {Event} e - The event object\n     */\n    function handleCancelScheduledMessage(e) {\n        const cancelId = e.target.dataset.messageId;\n        const cancelTitle = e.target.dataset.title;\n        const cancelUrl = e.target.dataset.cancelUrl;\n        const cancelCsrf = e.target.dataset.csrfToken;\n        cancelScheduledMessage(cancelId, cancelTitle, cancelUrl, cancelCsrf);\n    }\n\n    /**\n     * Handle retry scheduled message action\n     * @param {Event} e - The event object\n     */\n    function handleRetryScheduledMessage(e) {\n        const retryId = e.target.dataset.messageId;\n        const retryTitle = e.target.dataset.title;\n        const retryUrl = e.target.dataset.retryUrl;\n        const retryCsrf = e.target.dataset.csrfToken;\n        retryScheduledMessage(retryId, retryTitle, retryUrl, retryCsrf);\n    }\n\n    // ========================================================================\n    // EVENT DELEGATION\n    // ========================================================================\n\n    /**\n     * Initialize event delegation for scheduled message actions\n     */\n    function initEventDelegation() {\n        if (typeof EventDelegation === 'undefined') {\n            console.error('[Scheduled Messages] EventDelegation not available');\n            return;\n        }\n\n        EventDelegation.register('go-back', handleGoBack, { preventDefault: true });\n        EventDelegation.register('preview-message', handlePreviewMessage, { preventDefault: true });\n        EventDelegation.register('view-scheduled-message', handleViewScheduledMessage, { preventDefault: true });\n        EventDelegation.register('edit-scheduled-message', handleEditScheduledMessage, { preventDefault: true });\n        EventDelegation.register('cancel-scheduled-message', handleCancelScheduledMessage, { preventDefault: true });\n        EventDelegation.register('retry-scheduled-message', handleRetryScheduledMessage, { preventDefault: true });\n    }\n\n    // ========================================================================\n    // INITIALIZATION\n    // ========================================================================\n\n    /**\n     * Initialize all scheduled message functionality\n     */\n    function init() {\n        // Page guard: only run on scheduled messages page\n        if (!document.getElementById('messagePreviewModal') && !document.getElementById('messageDetailsModal')) {\n            return;\n        }\n\n        console.log('[Scheduled Messages] Initializing...');\n\n        initRecurringToggle();\n        initQueueFiltering();\n        initMinDateTime();\n        initEventDelegation();\n\n        console.log('[Scheduled Messages] Initialization complete');\n    }\n\n    // ========================================================================\n    // DOM READY\n    // ========================================================================\n\n    // Initialize when DOM is ready\n    if (document.readyState === 'loading') {\n        document.addEventListener('DOMContentLoaded', init);\n    } else {\n        // DOM already loaded\n        init();\n    }\n\n    // Expose public API\n    window.ScheduledMessages = {\n        version: '1.0.0',\n        previewMessage,\n        viewScheduledMessage,\n        editScheduledMessage,\n        cancelScheduledMessage,\n        retryScheduledMessage,\n        init\n    };\n\n})();\n","/**\n * Match Reports - Event Handler and Chart Initialization\n * Handles all report generation and export actions\n */\n\n(function() {\n    'use strict';\n\n    // Page guard - only run on match reports page\n    const isMatchReportsPage = document.getElementById('matchStatusChart') ||\n                                document.getElementById('matchesPerWeekChart') ||\n                                document.querySelector('[data-action^=\"generate-\"][data-action*=\"report\"]') ||\n                                document.querySelector('[data-action^=\"export-\"]');\n\n    if (!isMatchReportsPage) return;\n\n    // Initialize charts and event handlers when DOM is loaded\n    document.addEventListener('DOMContentLoaded', function() {\n        initializeCharts();\n    });\n\n    /**\n     * Initialize Chart.js charts\n     */\n    function initializeCharts() {\n        const matchStatusCtx = document.getElementById('matchStatusChart');\n        const matchesPerWeekCtx = document.getElementById('matchesPerWeekChart');\n\n        if (matchStatusCtx) {\n            new Chart(matchStatusCtx.getContext('2d'), {\n                type: 'doughnut',\n                data: {\n                    labels: ['Completed', 'Upcoming', 'Live', 'Cancelled'],\n                    datasets: [{\n                        data: [\n                            parseInt(matchStatusCtx.dataset.completed || 0),\n                            parseInt(matchStatusCtx.dataset.pending || 0),\n                            parseInt(matchStatusCtx.dataset.live || 0),\n                            parseInt(matchStatusCtx.dataset.cancelled || 0)\n                        ],\n                        backgroundColor: [\n                            getComputedStyle(document.documentElement).getPropertyValue('--color-success') || '#28a745',\n                            getComputedStyle(document.documentElement).getPropertyValue('--color-warning') || '#ffc107',\n                            getComputedStyle(document.documentElement).getPropertyValue('--color-primary') || '#007bff',\n                            getComputedStyle(document.documentElement).getPropertyValue('--color-danger') || '#dc3545'\n                        ]\n                    }]\n                },\n                options: {\n                    responsive: true,\n                    maintainAspectRatio: false,\n                    plugins: {\n                        legend: {\n                            position: 'bottom'\n                        }\n                    }\n                }\n            });\n        }\n\n        if (matchesPerWeekCtx) {\n            new Chart(matchesPerWeekCtx.getContext('2d'), {\n                type: 'line',\n                data: {\n                    labels: ['Week 1', 'Week 2', 'Week 3', 'Week 4', 'Week 5', 'Week 6'],\n                    datasets: [{\n                        label: 'Matches Played',\n                        data: [12, 19, 3, 5, 2, 15],\n                        borderColor: getComputedStyle(document.documentElement).getPropertyValue('--color-primary') || '#007bff',\n                        backgroundColor: 'rgba(0, 123, 255, 0.1)',\n                        tension: 0.4\n                    }]\n                },\n                options: {\n                    responsive: true,\n                    maintainAspectRatio: false,\n                    scales: {\n                        y: {\n                            beginAtZero: true\n                        }\n                    }\n                }\n            });\n        }\n    }\n\n    /**\n     * Report generation functions\n     */\n    function generateMatchReport(matchId = null) {\n        console.log('Generate match report:', matchId);\n        // Implementation from original file\n    }\n\n    function generateLeagueReport() {\n        console.log('Generate league report');\n        // Implementation from original file\n    }\n\n    function generateTeamReport(teamId = null) {\n        console.log('Generate team report:', teamId);\n        // Implementation from original file\n    }\n\n    function generateCustomReport() {\n        console.log('Generate custom report');\n        // Implementation from original file\n    }\n\n    /**\n     * Quick report views\n     */\n    function viewRecentMatches() {\n        window.location.href = '/admin-panel/matches/recent';\n    }\n\n    function viewUpcomingMatches() {\n        window.location.href = '/admin-panel/matches/upcoming';\n    }\n\n    function viewTopScorers() {\n        console.log('View top scorers');\n    }\n\n    function viewLeagueStandings() {\n        window.location.href = '/admin-panel/match-operations/league-standings';\n    }\n\n    /**\n     * Export functions\n     */\n    function exportPDF() {\n        window.open('/admin/match-operations/reports/export?format=pdf', '_blank');\n    }\n\n    function exportExcel() {\n        window.open('/admin/match-operations/reports/export?format=excel', '_blank');\n    }\n\n    function exportCSV() {\n        window.open('/admin/match-operations/reports/export?format=csv', '_blank');\n    }\n\n    function scheduleReport() {\n        console.log('Schedule report');\n    }\n\n    /**\n     * Individual item views\n     */\n    function viewMatchReport(matchId) {\n        window.location.href = `/admin/match-operations/match/${matchId}/report`;\n    }\n\n    function viewTeamReport(teamId) {\n        window.location.href = `/admin/match-operations/team/${teamId}/report`;\n    }\n\n    function viewAllMatches() {\n        window.location.href = '/admin-panel/matches';\n    }\n\n    // ========================================================================\n    // EVENT DELEGATION REGISTRATIONS\n    // ========================================================================\n\n    // Report Generation Actions\n    EventDelegation.register('generate-match-report', function(element, e) {\n        const matchId = element.dataset.matchId;\n        generateMatchReport(matchId);\n    }, { preventDefault: true });\n\n    EventDelegation.register('generate-league-report', function(element, e) {\n        generateLeagueReport();\n    }, { preventDefault: true });\n\n    EventDelegation.register('generate-team-report', function(element, e) {\n        const teamId = element.dataset.teamId;\n        generateTeamReport(teamId);\n    }, { preventDefault: true });\n\n    EventDelegation.register('generate-custom-report', function(element, e) {\n        generateCustomReport();\n    }, { preventDefault: true });\n\n    // Quick View Actions\n    EventDelegation.register('view-recent-matches', function(element, e) {\n        viewRecentMatches();\n    }, { preventDefault: true });\n\n    EventDelegation.register('view-upcoming-matches', function(element, e) {\n        viewUpcomingMatches();\n    }, { preventDefault: true });\n\n    EventDelegation.register('view-top-scorers', function(element, e) {\n        viewTopScorers();\n    }, { preventDefault: true });\n\n    EventDelegation.register('view-league-standings', function(element, e) {\n        viewLeagueStandings();\n    }, { preventDefault: true });\n\n    // Export Actions\n    EventDelegation.register('export-pdf', function(element, e) {\n        exportPDF();\n    }, { preventDefault: true });\n\n    EventDelegation.register('export-excel', function(element, e) {\n        exportExcel();\n    }, { preventDefault: true });\n\n    EventDelegation.register('export-csv', function(element, e) {\n        exportCSV();\n    }, { preventDefault: true });\n\n    EventDelegation.register('schedule-report', function(element, e) {\n        scheduleReport();\n    }, { preventDefault: true });\n\n    // Individual Report View Actions\n    EventDelegation.register('view-match-report', function(element, e) {\n        const matchId = element.dataset.matchId;\n        viewMatchReport(matchId);\n    }, { preventDefault: true });\n\n    EventDelegation.register('view-team-report', function(element, e) {\n        const teamId = element.dataset.teamId;\n        viewTeamReport(teamId);\n    }, { preventDefault: true });\n\n    EventDelegation.register('view-all-matches', function(element, e) {\n        viewAllMatches();\n    }, { preventDefault: true });\n\n})();\n","/**\n * ============================================================================\n * SEASONS MANAGEMENT - MODERN JAVASCRIPT\n * ============================================================================\n *\n * Modern, maintainable JavaScript for seasons management\n * Uses event delegation and data attributes for all interactions\n *\n * ARCHITECTURAL STANDARDS:\n * - Event delegation for all interactions\n * - Data attributes for configuration\n * - No inline event handlers\n * - ES6+ features\n * - Proper error handling\n * - Accessible interactions\n *\n * ============================================================================\n */\n\n(function() {\n    'use strict';\n\n    // Page guard - only run on seasons page\n    const isSeasonsPage = document.querySelector('[data-action=\"create-season\"]') ||\n                          document.querySelector('[data-action=\"view-season\"]') ||\n                          document.querySelector('[data-action=\"edit-season\"]') ||\n                          document.querySelector('[data-action=\"set-current-season\"]') ||\n                          document.querySelector('[data-create-season-url]');\n\n    if (!isSeasonsPage) return;\n\n    /**\n     * Show create season modal\n     */\n    function createSeason() {\n        Swal.fire({\n            title: 'Create New Season',\n            html: `\n      <div class=\"text-start\">\n        <div class=\"mb-3\">\n          <label class=\"form-label\">Season Name <span class=\"text-danger\">*</span></label>\n          <input type=\"text\" id=\"seasonName\" class=\"form-control\" placeholder=\"e.g., Spring 2025\" data-form-control>\n        </div>\n        <div class=\"mb-3\">\n          <label class=\"form-label\">Start Date</label>\n          <input type=\"date\" id=\"seasonStartDate\" class=\"form-control\" data-form-control>\n        </div>\n        <div class=\"mb-3\">\n          <label class=\"form-label\">End Date</label>\n          <input type=\"date\" id=\"seasonEndDate\" class=\"form-control\" data-form-control>\n        </div>\n        <div class=\"form-check\">\n          <input type=\"checkbox\" id=\"seasonIsCurrent\" class=\"form-check-input\">\n          <label class=\"form-check-label\" for=\"seasonIsCurrent\">Set as current season</label>\n        </div>\n      </div>\n    `,\n            showCancelButton: true,\n            confirmButtonText: 'Create Season',\n            cancelButtonText: 'Cancel',\n            preConfirm: () => {\n                const name = document.getElementById('seasonName').value;\n                if (!name) {\n                    Swal.showValidationMessage('Season name is required');\n                    return false;\n                }\n                return {\n                    name: name,\n                    start_date: document.getElementById('seasonStartDate').value,\n                    end_date: document.getElementById('seasonEndDate').value,\n                    is_current: document.getElementById('seasonIsCurrent').checked ? 'true' : 'false'\n                };\n            }\n        }).then((result) => {\n            if (result.isConfirmed) {\n                submitCreateSeason(result.value);\n            }\n        });\n    }\n\n    /**\n     * Submit create season form\n     * @param {Object} data - Form data\n     */\n    function submitCreateSeason(data) {\n        const formData = new FormData();\n        formData.append('name', data.name);\n        formData.append('start_date', data.start_date);\n        formData.append('end_date', data.end_date);\n        formData.append('is_current', data.is_current);\n\n        // Get the create URL from Flask\n        const createUrl = document.querySelector('[data-create-season-url]')?.dataset.createSeasonUrl ||\n            window.location.origin + '/admin-panel/match-operations/seasons/create';\n\n        fetch(createUrl, {\n            method: 'POST',\n            body: formData\n        })\n            .then(response => response.json())\n            .then(data => {\n                if (data.success) {\n                    Swal.fire('Success', data.message, 'success').then(() => location.reload());\n                } else {\n                    Swal.fire('Error', data.message, 'error');\n                }\n            })\n            .catch(() => Swal.fire('Error', 'Failed to create season', 'error'));\n    }\n\n    /**\n     * View season details\n     * @param {string} seasonId - Season ID\n     */\n    function viewSeason(seasonId) {\n        fetch(`/admin-panel/match-operations/seasons/${seasonId}/details`)\n            .then(response => response.json())\n            .then(data => {\n                if (data.success) {\n                    const season = data.season;\n                    Swal.fire({\n                        title: season.name,\n                        html: `\n            <div class=\"text-start\">\n              <p><strong>Start Date:</strong> ${season.start_date || 'Not set'}</p>\n              <p><strong>End Date:</strong> ${season.end_date || 'Not set'}</p>\n              <p><strong>Current Season:</strong> ${season.is_current ? 'Yes' : 'No'}</p>\n            </div>\n          `,\n                        icon: 'info'\n                    });\n                } else {\n                    Swal.fire('Error', data.message, 'error');\n                }\n            })\n            .catch(() => Swal.fire('Error', 'Failed to load season details', 'error'));\n    }\n\n    /**\n     * Edit season\n     * @param {string} seasonId - Season ID\n     */\n    function editSeason(seasonId) {\n        // First fetch the season details\n        fetch(`/admin-panel/match-operations/seasons/${seasonId}/details`)\n            .then(response => response.json())\n            .then(data => {\n                if (data.success) {\n                    showEditSeasonModal(seasonId, data.season);\n                } else {\n                    Swal.fire('Error', data.message, 'error');\n                }\n            })\n            .catch(() => Swal.fire('Error', 'Failed to load season details', 'error'));\n    }\n\n    /**\n     * Show edit season modal\n     * @param {string} seasonId - Season ID\n     * @param {Object} season - Season data\n     */\n    function showEditSeasonModal(seasonId, season) {\n        Swal.fire({\n            title: 'Edit Season',\n            html: `\n      <div class=\"text-start\">\n        <div class=\"mb-3\">\n          <label class=\"form-label\">Season Name <span class=\"text-danger\">*</span></label>\n          <input type=\"text\" id=\"editSeasonName\" class=\"form-control\" value=\"${season.name}\" data-form-control>\n        </div>\n        <div class=\"mb-3\">\n          <label class=\"form-label\">Start Date</label>\n          <input type=\"date\" id=\"editSeasonStartDate\" class=\"form-control\" value=\"${season.start_date}\" data-form-control>\n        </div>\n        <div class=\"mb-3\">\n          <label class=\"form-label\">End Date</label>\n          <input type=\"date\" id=\"editSeasonEndDate\" class=\"form-control\" value=\"${season.end_date}\" data-form-control>\n        </div>\n        <div class=\"form-check\">\n          <input type=\"checkbox\" id=\"editSeasonIsCurrent\" class=\"form-check-input\" ${season.is_current ? 'checked' : ''}>\n          <label class=\"form-check-label\" for=\"editSeasonIsCurrent\">Set as current season</label>\n        </div>\n      </div>\n    `,\n            showCancelButton: true,\n            showDenyButton: true,\n            confirmButtonText: 'Save Changes',\n            denyButtonText: 'Delete Season',\n            denyButtonColor: (typeof ECSTheme !== 'undefined') ? ECSTheme.getColor('danger') : 'var(--ecs-danger)',\n            cancelButtonText: 'Cancel',\n            preConfirm: () => {\n                const name = document.getElementById('editSeasonName').value;\n                if (!name) {\n                    Swal.showValidationMessage('Season name is required');\n                    return false;\n                }\n                return {\n                    name: name,\n                    start_date: document.getElementById('editSeasonStartDate').value,\n                    end_date: document.getElementById('editSeasonEndDate').value,\n                    is_current: document.getElementById('editSeasonIsCurrent').checked ? 'true' : 'false'\n                };\n            }\n        }).then((result) => {\n            if (result.isConfirmed) {\n                submitUpdateSeason(seasonId, result.value);\n            } else if (result.isDenied) {\n                deleteSeason(seasonId, season.name);\n            }\n        });\n    }\n\n    /**\n     * Submit update season form\n     * @param {string} seasonId - Season ID\n     * @param {Object} data - Form data\n     */\n    function submitUpdateSeason(seasonId, data) {\n        const formData = new FormData();\n        formData.append('name', data.name);\n        formData.append('start_date', data.start_date);\n        formData.append('end_date', data.end_date);\n        formData.append('is_current', data.is_current);\n\n        fetch(`/admin-panel/match-operations/seasons/${seasonId}/update`, {\n            method: 'POST',\n            body: formData\n        })\n            .then(response => response.json())\n            .then(data => {\n                if (data.success) {\n                    Swal.fire('Success', data.message, 'success').then(() => location.reload());\n                } else {\n                    Swal.fire('Error', data.message, 'error');\n                }\n            })\n            .catch(() => Swal.fire('Error', 'Failed to update season', 'error'));\n    }\n\n    /**\n     * Delete season with confirmation\n     * @param {string} seasonId - Season ID\n     * @param {string} seasonName - Season name\n     */\n    function deleteSeason(seasonId, seasonName) {\n        Swal.fire({\n            title: 'Delete Season?',\n            text: `Are you sure you want to delete \"${seasonName}\"? This cannot be undone.`,\n            icon: 'warning',\n            showCancelButton: true,\n            confirmButtonText: 'Yes, delete',\n            confirmButtonColor: (typeof ECSTheme !== 'undefined') ? ECSTheme.getColor('danger') : 'var(--ecs-danger)',\n            cancelButtonText: 'Cancel'\n        }).then((result) => {\n            if (result.isConfirmed) {\n                submitDeleteSeason(seasonId);\n            }\n        });\n    }\n\n    /**\n     * Submit delete season request\n     * @param {string} seasonId - Season ID\n     */\n    function submitDeleteSeason(seasonId) {\n        fetch(`/admin-panel/match-operations/seasons/${seasonId}/delete`, {\n            method: 'POST'\n        })\n            .then(response => response.json())\n            .then(data => {\n                if (data.success) {\n                    Swal.fire('Deleted', data.message, 'success').then(() => location.reload());\n                } else {\n                    Swal.fire('Error', data.message, 'error');\n                }\n            })\n            .catch(() => Swal.fire('Error', 'Failed to delete season', 'error'));\n    }\n\n    /**\n     * Set season as current\n     * @param {string} seasonId - Season ID\n     */\n    function setCurrentSeason(seasonId) {\n        Swal.fire({\n            title: 'Set Current Season?',\n            text: 'This will make this season the active one for new leagues and matches.',\n            icon: 'question',\n            showCancelButton: true,\n            confirmButtonText: 'Yes, set as current',\n            cancelButtonText: 'Cancel'\n        }).then((result) => {\n            if (result.isConfirmed) {\n                submitSetCurrentSeason(seasonId);\n            }\n        });\n    }\n\n    /**\n     * Submit set current season request\n     * @param {string} seasonId - Season ID\n     */\n    function submitSetCurrentSeason(seasonId) {\n        // Get the set current URL from Flask\n        const setCurrentUrl = document.querySelector('[data-set-current-season-url]')?.dataset.setCurrentSeasonUrl ||\n            window.location.origin + '/admin-panel/match-operations/seasons/set-current';\n\n        fetch(setCurrentUrl, {\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/x-www-form-urlencoded',\n            },\n            body: `season_id=${seasonId}`\n        })\n            .then(response => response.json())\n            .then(data => {\n                if (data.success) {\n                    Swal.fire({\n                        title: 'Success',\n                        text: data.message,\n                        icon: 'success'\n                    }).then(() => {\n                        location.reload();\n                    });\n                } else {\n                    Swal.fire({\n                        title: 'Error',\n                        text: data.message,\n                        icon: 'error'\n                    });\n                }\n            })\n            .catch(error => {\n                Swal.fire({\n                    title: 'Error',\n                    text: 'An error occurred while setting current season',\n                    icon: 'error'\n                });\n            });\n    }\n\n    // ========================================================================\n    // EVENT DELEGATION REGISTRATIONS\n    // ========================================================================\n\n    EventDelegation.register('create-season', function(element, e) {\n        createSeason();\n    }, { preventDefault: true });\n\n    EventDelegation.register('view-season', function(element, e) {\n        const seasonId = element.dataset.seasonId;\n        viewSeason(seasonId);\n    }, { preventDefault: true });\n\n    EventDelegation.register('edit-season', function(element, e) {\n        const seasonId = element.dataset.seasonId;\n        editSeason(seasonId);\n    }, { preventDefault: true });\n\n    EventDelegation.register('set-current-season', function(element, e) {\n        const seasonId = element.dataset.seasonId;\n        setCurrentSeason(seasonId);\n    }, { preventDefault: true });\n\n})();\n\n/**\n * ============================================================================\n * END OF SEASONS MANAGEMENT JAVASCRIPT\n * ============================================================================\n */\n","/**\n * Unified Visibility Utility\n * Standard way to show/hide elements across the application\n *\n * @version 1.0.0\n * @created 2025-12-18\n *\n * STANDARD: Use 'is-hidden' class for all visibility toggling\n * This replaces inconsistent usage of: d-none, js-hidden, hidden, etc.\n *\n * Usage:\n *   Visibility.hide(element);\n *   Visibility.show(element);\n *   Visibility.toggle(element);\n *   Visibility.toggle(element, forceHidden);\n *\n *   if (Visibility.isHidden(element)) { ... }\n */\n\n(function(window, document) {\n    'use strict';\n\n    const Visibility = {\n        /**\n         * The standard hidden class used throughout the application\n         * Defined in state-utils.css\n         */\n        HIDDEN_CLASS: 'is-hidden',\n\n        /**\n         * Legacy classes that should be migrated to is-hidden\n         * Used for backwards compatibility during migration\n         */\n        LEGACY_CLASSES: ['d-none', 'js-hidden', 'hidden'],\n\n        /**\n         * Hide an element\n         * @param {Element|string} element - DOM element or selector\n         * @returns {Element|null} The element, for chaining\n         */\n        hide(element) {\n            const el = this._resolveElement(element);\n            if (el) {\n                el.classList.add(this.HIDDEN_CLASS);\n                // Clean up legacy classes if present\n                this.LEGACY_CLASSES.forEach(cls => el.classList.remove(cls));\n            }\n            return el;\n        },\n\n        /**\n         * Show an element\n         * @param {Element|string} element - DOM element or selector\n         * @returns {Element|null} The element, for chaining\n         */\n        show(element) {\n            const el = this._resolveElement(element);\n            if (el) {\n                el.classList.remove(this.HIDDEN_CLASS);\n                // Clean up legacy classes if present\n                this.LEGACY_CLASSES.forEach(cls => el.classList.remove(cls));\n            }\n            return el;\n        },\n\n        /**\n         * Toggle element visibility\n         * @param {Element|string} element - DOM element or selector\n         * @param {boolean} [force] - Optional: true to hide, false to show\n         * @returns {Element|null} The element, for chaining\n         */\n        toggle(element, force) {\n            const el = this._resolveElement(element);\n            if (el) {\n                if (typeof force === 'boolean') {\n                    el.classList.toggle(this.HIDDEN_CLASS, force);\n                } else {\n                    el.classList.toggle(this.HIDDEN_CLASS);\n                }\n                // Clean up legacy classes if present\n                this.LEGACY_CLASSES.forEach(cls => el.classList.remove(cls));\n            }\n            return el;\n        },\n\n        /**\n         * Check if element is hidden\n         * @param {Element|string} element - DOM element or selector\n         * @returns {boolean} True if hidden\n         */\n        isHidden(element) {\n            const el = this._resolveElement(element);\n            if (!el) return true;\n\n            // Check for standard class\n            if (el.classList.contains(this.HIDDEN_CLASS)) return true;\n\n            // Check for legacy classes (for migration period)\n            for (const cls of this.LEGACY_CLASSES) {\n                if (el.classList.contains(cls)) return true;\n            }\n\n            // Check computed style as fallback\n            const style = window.getComputedStyle(el);\n            return style.display === 'none' || style.visibility === 'hidden';\n        },\n\n        /**\n         * Check if element is visible (not hidden)\n         * @param {Element|string} element - DOM element or selector\n         * @returns {boolean} True if visible\n         */\n        isVisible(element) {\n            return !this.isHidden(element);\n        },\n\n        /**\n         * Show one element and hide others (useful for wizard steps, tabs, etc.)\n         * @param {Element|string} toShow - Element to show\n         * @param {Array<Element|string>} toHide - Elements to hide\n         */\n        showOnly(toShow, toHide) {\n            toHide.forEach(el => this.hide(el));\n            this.show(toShow);\n        },\n\n        /**\n         * Migrate an element from legacy visibility classes to standard\n         * @param {Element|string} element - DOM element or selector\n         */\n        migrate(element) {\n            const el = this._resolveElement(element);\n            if (!el) return;\n\n            // Check if any legacy class is present\n            const wasHidden = this.LEGACY_CLASSES.some(cls => el.classList.contains(cls));\n\n            // Remove all legacy classes\n            this.LEGACY_CLASSES.forEach(cls => el.classList.remove(cls));\n\n            // Add standard class if was hidden\n            if (wasHidden) {\n                el.classList.add(this.HIDDEN_CLASS);\n            }\n        },\n\n        /**\n         * Resolve element from selector or return element\n         * @private\n         */\n        _resolveElement(element) {\n            if (!element) return null;\n            if (typeof element === 'string') {\n                return document.querySelector(element);\n            }\n            return element;\n        }\n    };\n\n    // Expose globally\n    window.Visibility = Visibility;\n\n    // Register with InitSystem if available (no init needed, just utility functions)\n    if (typeof InitSystem !== 'undefined' && InitSystem.register) {\n        InitSystem.register('visibility-utils', function() {\n            // No initialization needed, just logs availability\n        }, {\n            priority: 100,\n            description: 'Visibility utility functions',\n            reinitializable: false\n        });\n    }\n\n})(window, document);\n","/**\n * BEM Tabs Controller\n * Pure JS tab system without Bootstrap dependency\n * Uses data-* attributes for all JS hooks\n *\n * @version 1.0.0\n * @created 2025-12-18\n *\n * Usage in HTML:\n *   <nav data-tabs>\n *       <button data-tab-trigger=\"account\" class=\"c-tabs-modern__tab is-active\">Account</button>\n *       <button data-tab-trigger=\"security\" class=\"c-tabs-modern__tab\">Security</button>\n *   </nav>\n *   <div data-tab-pane=\"account\" class=\"c-settings-tab c-settings-tab--active\">Content</div>\n *   <div data-tab-pane=\"security\" class=\"c-settings-tab\">Content</div>\n */\n\n(function(window, document) {\n    'use strict';\n\n    const TabsController = {\n        SELECTORS: {\n            TABS_CONTAINER: '[data-tabs]',\n            TAB_TRIGGER: '[data-tab-trigger]',\n            TAB_PANE: '[data-tab-pane]'\n        },\n\n        CLASSES: {\n            ACTIVE_TRIGGER: 'is-active',\n            ACTIVE_PANE: 'c-settings-tab--active',\n            // Fallback classes for different tab types\n            ACTIVE_PANE_ALT: 'is-active'\n        },\n\n        /**\n         * Initialize all tab containers in the given context\n         * @param {Element} context - Root element to search within (default: document)\n         */\n        init(context = document) {\n            const containers = context.querySelectorAll(this.SELECTORS.TABS_CONTAINER);\n\n            if (containers.length === 0) {\n                return;\n            }\n\n            containers.forEach(container => this.initContainer(container));\n\n            // Handle URL hash on initial load\n            this.handleInitialHash();\n        },\n\n        /**\n         * Initialize a single tab container\n         * @param {Element} container - Tab container element\n         */\n        initContainer(container) {\n            // Skip if already initialized\n            if (container.dataset.tabsInitialized === 'true') {\n                return;\n            }\n\n            const triggers = container.querySelectorAll(this.SELECTORS.TAB_TRIGGER);\n\n            // Use event delegation on the container\n            container.addEventListener('click', (e) => {\n                const trigger = e.target.closest(this.SELECTORS.TAB_TRIGGER);\n                if (!trigger) return;\n\n                e.preventDefault();\n                const tabId = trigger.dataset.tabTrigger;\n\n                if (tabId) {\n                    this.activateTab(container, tabId);\n                }\n            });\n\n            // Keyboard navigation support\n            container.addEventListener('keydown', (e) => {\n                const trigger = e.target.closest(this.SELECTORS.TAB_TRIGGER);\n                if (!trigger) return;\n\n                const allTriggers = Array.from(container.querySelectorAll(this.SELECTORS.TAB_TRIGGER));\n                const currentIndex = allTriggers.indexOf(trigger);\n\n                let newIndex = -1;\n\n                switch (e.key) {\n                    case 'ArrowLeft':\n                    case 'ArrowUp':\n                        e.preventDefault();\n                        newIndex = currentIndex > 0 ? currentIndex - 1 : allTriggers.length - 1;\n                        break;\n                    case 'ArrowRight':\n                    case 'ArrowDown':\n                        e.preventDefault();\n                        newIndex = currentIndex < allTriggers.length - 1 ? currentIndex + 1 : 0;\n                        break;\n                    case 'Home':\n                        e.preventDefault();\n                        newIndex = 0;\n                        break;\n                    case 'End':\n                        e.preventDefault();\n                        newIndex = allTriggers.length - 1;\n                        break;\n                }\n\n                if (newIndex >= 0 && allTriggers[newIndex]) {\n                    allTriggers[newIndex].focus();\n                    const tabId = allTriggers[newIndex].dataset.tabTrigger;\n                    if (tabId) {\n                        this.activateTab(container, tabId);\n                    }\n                }\n            });\n\n            // Mark as initialized\n            container.dataset.tabsInitialized = 'true';\n        },\n\n        /**\n         * Activate a specific tab\n         * @param {Element} container - Tab container element\n         * @param {string} tabId - Tab identifier\n         */\n        activateTab(container, tabId) {\n            const triggers = container.querySelectorAll(this.SELECTORS.TAB_TRIGGER);\n\n            // Find all tab panes (could be outside the container)\n            const panes = document.querySelectorAll(this.SELECTORS.TAB_PANE);\n\n            // Deactivate all triggers\n            triggers.forEach(t => {\n                t.classList.remove(this.CLASSES.ACTIVE_TRIGGER);\n                t.setAttribute('aria-selected', 'false');\n                t.setAttribute('tabindex', '-1');\n            });\n\n            // Deactivate all panes\n            panes.forEach(p => {\n                p.classList.remove(this.CLASSES.ACTIVE_PANE);\n                p.classList.remove(this.CLASSES.ACTIVE_PANE_ALT);\n                // Also remove Bootstrap classes if present\n                p.classList.remove('show', 'active');\n            });\n\n            // Activate target trigger\n            const targetTrigger = container.querySelector(`[data-tab-trigger=\"${tabId}\"]`);\n            if (targetTrigger) {\n                targetTrigger.classList.add(this.CLASSES.ACTIVE_TRIGGER);\n                targetTrigger.setAttribute('aria-selected', 'true');\n                targetTrigger.setAttribute('tabindex', '0');\n            }\n\n            // Activate target pane\n            const targetPane = document.querySelector(`[data-tab-pane=\"${tabId}\"]`);\n            if (targetPane) {\n                targetPane.classList.add(this.CLASSES.ACTIVE_PANE);\n\n                // Dispatch custom event for other components to react\n                targetPane.dispatchEvent(new CustomEvent('tab:activated', {\n                    bubbles: true,\n                    detail: { tabId, container, trigger: targetTrigger }\n                }));\n            }\n\n            // Update URL hash without scrolling\n            if (history.replaceState) {\n                history.replaceState(null, null, `#${tabId}`);\n            }\n\n            // Log for debugging\n            if (window.InitSystemDebug) {\n                window.InitSystemDebug.log('tabs-controller', `Activated tab: ${tabId}`);\n            }\n        },\n\n        /**\n         * Handle initial URL hash to activate correct tab\n         */\n        handleInitialHash() {\n            const hash = window.location.hash.slice(1); // Remove #\n\n            if (!hash) return;\n\n            // Find the container that has this tab\n            const containers = document.querySelectorAll(this.SELECTORS.TABS_CONTAINER);\n\n            containers.forEach(container => {\n                const trigger = container.querySelector(`[data-tab-trigger=\"${hash}\"]`);\n                if (trigger) {\n                    // Small delay to ensure DOM is ready\n                    requestAnimationFrame(() => {\n                        this.activateTab(container, hash);\n                    });\n                }\n            });\n        },\n\n        /**\n         * Programmatically activate a tab by ID\n         * @param {string} tabId - Tab identifier\n         */\n        showTab(tabId) {\n            const trigger = document.querySelector(`[data-tab-trigger=\"${tabId}\"]`);\n            if (!trigger) {\n                console.warn(`TabsController: Tab trigger not found for \"${tabId}\"`);\n                return;\n            }\n\n            const container = trigger.closest(this.SELECTORS.TABS_CONTAINER);\n            if (container) {\n                this.activateTab(container, tabId);\n            }\n        },\n\n        /**\n         * Get the currently active tab ID for a container\n         * @param {Element} container - Tab container element\n         * @returns {string|null} - Active tab ID or null\n         */\n        getActiveTab(container) {\n            const activeTrigger = container.querySelector(`${this.SELECTORS.TAB_TRIGGER}.${this.CLASSES.ACTIVE_TRIGGER}`);\n            return activeTrigger ? activeTrigger.dataset.tabTrigger : null;\n        }\n    };\n\n    // Register with InitSystem if available\n    if (typeof InitSystem !== 'undefined' && InitSystem.register) {\n        InitSystem.register('tabs-controller', function(context) {\n            TabsController.init(context);\n        }, {\n            priority: 75,\n            description: 'BEM tabs navigation controller',\n            reinitializable: true\n        });\n    } else {\n        // Fallback: Initialize on DOMContentLoaded\n        if (document.readyState === 'loading') {\n            document.addEventListener('DOMContentLoaded', () => TabsController.init());\n        } else {\n            TabsController.init();\n        }\n    }\n\n    // Listen for hash changes\n    window.addEventListener('hashchange', () => {\n        TabsController.handleInitialHash();\n    });\n\n    // Expose globally for programmatic access\n    window.TabsController = TabsController;\n\n})(window, document);\n","/**\n * ECS Soccer League - Centralized Initialization System\n *\n * Single entry point for all application component initialization.\n * Provides dependency management, ordered execution, and re-initialization support.\n *\n * @version 1.0.0\n * @created 2025-12-16\n *\n * Usage:\n *\n *   // Register a component\n *   InitSystem.register('my-component', function() {\n *       // Initialization code here\n *       setupEventListeners();\n *       enhanceUI();\n *   }, {\n *       priority: 50,                    // 0-100, higher = earlier (default: 50)\n *       dependencies: ['helpers', 'config'], // Components that must init first\n *       reinitializable: true            // Can be re-initialized for AJAX content (default: false)\n *   });\n *\n *   // Check if initialized\n *   if (InitSystem.isInitialized('my-component')) {\n *       // Component is ready\n *   }\n *\n *   // Re-initialize specific components (for AJAX/HTMX)\n *   InitSystem.reinit(['tooltips', 'popovers', 'form-validation']);\n *\n * Priority Levels:\n *   100-90: Core systems (helpers, menu, design-system, responsive-system)\n *   89-70:  Global components (theme, config, modals, navigation)\n *   69-50:  Feature modules (match management, RSVP, calendar)\n *   49-30:  Page-specific features (wizards, admin tools)\n *   29-10:  Enhancements (mobile features, UI fixes, analytics)\n */\n\n(function(window, document) {\n    'use strict';\n\n    const InitSystem = {\n        // Initialization state\n        initialized: false,\n        initializing: false,\n        startTime: null,\n        endTime: null,\n\n        // Component registry\n        components: new Map(),\n\n        // Initialization queue (ordered by priority)\n        queue: [],\n\n        // Failed components\n        failures: [],\n\n        // Configuration\n        config: {\n            logging: true,                 // Log initialization progress\n            throwOnError: false,           // Stop on first error\n            initTimeout: 30000,            // Max time for all components (30s)\n            componentTimeout: 5000,        // Max time per component (5s)\n            autoInit: true                 // Auto-initialize on DOMContentLoaded\n        },\n\n        /**\n         * Register a component for initialization\n         * @param {string} name - Component name (unique identifier)\n         * @param {Function} initFn - Initialization function\n         * @param {Object} options - Configuration options\n         * @param {number} options.priority - Priority (0-100, higher = earlier, default 50)\n         * @param {Array<string>} options.dependencies - Required components (default [])\n         * @param {boolean} options.reinitializable - Can be re-initialized (default false)\n         * @param {string} options.description - Human-readable description\n         */\n        register(name, initFn, options = {}) {\n            // Validation\n            if (!name || typeof name !== 'string') {\n                this._error('register', 'Component name must be a non-empty string');\n                return;\n            }\n\n            if (this.components.has(name)) {\n                this._warn('register', `Component \"${name}\" is already registered. Overwriting.`);\n            }\n\n            if (typeof initFn !== 'function') {\n                this._error('register', `Init function for \"${name}\" must be a function`);\n                return;\n            }\n\n            // Create component entry\n            const component = {\n                name,\n                initFn,\n                priority: typeof options.priority === 'number' ? options.priority : 50,\n                dependencies: Array.isArray(options.dependencies) ? options.dependencies : [],\n                reinitializable: options.reinitializable === true,\n                description: options.description || name,\n                initialized: false,\n                initializing: false,\n                error: null,\n                initTime: null,\n                initDuration: null\n            };\n\n            // Validate priority range\n            if (component.priority < 0 || component.priority > 100) {\n                this._warn('register', `Priority for \"${name}\" should be 0-100, got ${component.priority}`);\n                component.priority = Math.max(0, Math.min(100, component.priority));\n            }\n\n            // Store component\n            this.components.set(name, component);\n\n            // Add to queue if not already present\n            const existingIndex = this.queue.findIndex(c => c.name === name);\n            if (existingIndex >= 0) {\n                this.queue[existingIndex] = component;\n            } else {\n                this.queue.push(component);\n            }\n\n            // Sort queue by priority (higher = earlier)\n            this.queue.sort((a, b) => b.priority - a.priority);\n\n            this._log('register', `Registered \"${name}\" (priority: ${component.priority}${component.dependencies.length > 0 ? ', deps: ' + component.dependencies.join(', ') : ''})`);\n        },\n\n        /**\n         * Initialize all registered components\n         * @returns {Promise<Object>} Results of initialization\n         */\n        async init() {\n            if (this.initialized) {\n                this._warn('init', 'Already initialized');\n                return this._getStatus();\n            }\n\n            if (this.initializing) {\n                this._warn('init', 'Already initializing');\n                return this._getStatus();\n            }\n\n            this.initializing = true;\n            this.startTime = performance.now();\n            this.failures = [];\n\n            this._log('init', `Starting initialization of ${this.queue.length} components...`);\n            this._log('init', `Components: ${this.queue.map(c => c.name).join(', ')}`);\n\n            try {\n                // Set global timeout\n                const timeoutPromise = new Promise((_, reject) => {\n                    setTimeout(() => reject(new Error('Initialization timeout')), this.config.initTimeout);\n                });\n\n                // Initialize all components\n                const initPromise = this._initializeQueue();\n\n                // Race against timeout\n                await Promise.race([initPromise, timeoutPromise]);\n\n                this.initialized = true;\n                this.initializing = false;\n                this.endTime = performance.now();\n\n                const duration = (this.endTime - this.startTime).toFixed(2);\n                const successCount = this.queue.filter(c => c.initialized).length;\n                const failureCount = this.failures.length;\n\n                if (failureCount === 0) {\n                    this._log('init', ` Initialization complete! ${successCount} components in ${duration}ms`);\n                } else {\n                    this._warn('init', ` Initialization complete with ${failureCount} failures. ${successCount} components in ${duration}ms`);\n                }\n\n                // Fire custom event\n                this._dispatchEvent('initialized', this._getStatus());\n\n                return this._getStatus();\n\n            } catch (error) {\n                this.initializing = false;\n                this._error('init', ` Initialization failed: ${error.message}`, error);\n\n                // Fire error event\n                this._dispatchEvent('initializationError', { error, status: this._getStatus() });\n\n                if (this.config.throwOnError) {\n                    throw error;\n                }\n\n                return this._getStatus();\n            }\n        },\n\n        /**\n         * Initialize all components in queue order\n         * @private\n         */\n        async _initializeQueue() {\n            for (const component of this.queue) {\n                try {\n                    await this._initComponent(component);\n                } catch (error) {\n                    this.failures.push({\n                        component: component.name,\n                        error: error.message,\n                        stack: error.stack\n                    });\n\n                    if (this.config.throwOnError) {\n                        throw error;\n                    }\n                    // Otherwise continue with next component\n                }\n            }\n        },\n\n        /**\n         * Initialize a single component\n         * @param {Object} component - Component to initialize\n         * @private\n         */\n        async _initComponent(component) {\n            // Skip if already initialized\n            if (component.initialized) {\n                return;\n            }\n\n            // Check if already initializing (circular dependency)\n            if (component.initializing) {\n                throw new Error(`Circular dependency detected: ${component.name}`);\n            }\n\n            // Check dependencies\n            for (const depName of component.dependencies) {\n                const dep = this.components.get(depName);\n\n                if (!dep) {\n                    throw new Error(`Component \"${component.name}\" depends on \"${depName}\" which is not registered`);\n                }\n\n                if (!dep.initialized) {\n                    // Try to initialize dependency first\n                    if (!dep.initializing) {\n                        this._log('init', `Initializing dependency \"${depName}\" for \"${component.name}\"`);\n                        await this._initComponent(dep);\n                    } else {\n                        throw new Error(`Component \"${component.name}\" depends on \"${depName}\" which is currently initializing (circular dependency)`);\n                    }\n                }\n            }\n\n            // Mark as initializing\n            component.initializing = true;\n            const startTime = performance.now();\n\n            try {\n                this._log('init', `Initializing \"${component.name}\"...`);\n\n                // Set timeout for this component\n                const timeoutPromise = new Promise((_, reject) => {\n                    setTimeout(\n                        () => reject(new Error(`Component \"${component.name}\" initialization timeout`)),\n                        this.config.componentTimeout\n                    );\n                });\n\n                // Initialize component\n                const initPromise = Promise.resolve(component.initFn());\n\n                // Race against timeout\n                await Promise.race([initPromise, timeoutPromise]);\n\n                const endTime = performance.now();\n                component.initialized = true;\n                component.initializing = false;\n                component.initTime = endTime;\n                component.initDuration = (endTime - startTime).toFixed(2);\n\n                this._log('init', ` \"${component.name}\" initialized in ${component.initDuration}ms`);\n\n                // Fire component initialized event\n                this._dispatchEvent('componentInitialized', { component: component.name, duration: component.initDuration });\n\n            } catch (error) {\n                component.initializing = false;\n                component.error = error.message;\n\n                this._error('init', ` Failed to initialize \"${component.name}\": ${error.message}`, error);\n\n                // Fire component error event\n                this._dispatchEvent('componentError', { component: component.name, error: error.message });\n\n                throw error;\n            }\n        },\n\n        /**\n         * Re-initialize specific components (for AJAX/HTMX reloads)\n         * @param {Array<string>} componentNames - Components to re-init\n         * @param {Element} context - DOM context to re-init within (optional)\n         * @returns {Promise<Object>} Results of re-initialization\n         */\n        async reinit(componentNames = [], context = document.body) {\n            if (!Array.isArray(componentNames)) {\n                this._error('reinit', 'componentNames must be an array');\n                return;\n            }\n\n            this._log('reinit', `Re-initializing ${componentNames.length} components: ${componentNames.join(', ')}`);\n\n            const results = {\n                success: [],\n                failed: [],\n                skipped: []\n            };\n\n            for (const name of componentNames) {\n                const component = this.components.get(name);\n\n                if (!component) {\n                    this._warn('reinit', `Component \"${name}\" not found`);\n                    results.skipped.push(name);\n                    continue;\n                }\n\n                if (!component.reinitializable) {\n                    this._warn('reinit', `Component \"${name}\" is not reinitializable`);\n                    results.skipped.push(name);\n                    continue;\n                }\n\n                try {\n                    this._log('reinit', `Re-initializing \"${name}\"...`);\n\n                    // Pass context to init function if it accepts it\n                    if (component.initFn.length > 0) {\n                        await Promise.resolve(component.initFn(context));\n                    } else {\n                        await Promise.resolve(component.initFn());\n                    }\n\n                    this._log('reinit', ` \"${name}\" re-initialized`);\n                    results.success.push(name);\n\n                    // Fire event\n                    this._dispatchEvent('componentReinitialized', { component: name });\n\n                } catch (error) {\n                    this._error('reinit', ` Failed to re-initialize \"${name}\": ${error.message}`, error);\n                    results.failed.push({ name, error: error.message });\n\n                    // Fire error event\n                    this._dispatchEvent('componentReinitError', { component: name, error: error.message });\n                }\n            }\n\n            this._log('reinit', `Re-initialization complete. Success: ${results.success.length}, Failed: ${results.failed.length}, Skipped: ${results.skipped.length}`);\n\n            return results;\n        },\n\n        /**\n         * Check if a component is initialized\n         * @param {string} name - Component name\n         * @returns {boolean} True if initialized\n         */\n        isInitialized(name) {\n            const component = this.components.get(name);\n            return component ? component.initialized : false;\n        },\n\n        /**\n         * Get component by name\n         * @param {string} name - Component name\n         * @returns {Object|null} Component or null\n         */\n        getComponent(name) {\n            return this.components.get(name) || null;\n        },\n\n        /**\n         * Get all components\n         * @returns {Array<Object>} Array of components\n         */\n        getAllComponents() {\n            return Array.from(this.components.values());\n        },\n\n        /**\n         * Get initialization status\n         * @returns {Object} Status object\n         */\n        _getStatus() {\n            const components = Array.from(this.components.values());\n            const initialized = components.filter(c => c.initialized);\n            const failed = components.filter(c => c.error);\n            const pending = components.filter(c => !c.initialized && !c.error);\n\n            return {\n                initialized: this.initialized,\n                initializing: this.initializing,\n                duration: this.endTime ? (this.endTime - this.startTime).toFixed(2) : null,\n                total: components.length,\n                initialized: initialized.length,\n                failed: failed.length,\n                pending: pending.length,\n                components: {\n                    initialized: initialized.map(c => c.name),\n                    failed: failed.map(c => ({ name: c.name, error: c.error })),\n                    pending: pending.map(c => c.name)\n                },\n                failures: this.failures\n            };\n        },\n\n        /**\n         * Get initialization order\n         * @returns {Array<Object>} Components in init order\n         */\n        getInitOrder() {\n            return this.queue.map((c, index) => ({\n                order: index + 1,\n                name: c.name,\n                priority: c.priority,\n                dependencies: c.dependencies,\n                initialized: c.initialized,\n                duration: c.initDuration\n            }));\n        },\n\n        /**\n         * Dispatch custom event\n         * @private\n         */\n        _dispatchEvent(eventName, detail) {\n            document.dispatchEvent(new CustomEvent(`app:${eventName}`, { detail }));\n        },\n\n        /**\n         * Log message\n         * @private\n         */\n        _log(context, message) {\n            if (this.config.logging) {\n                console.log(`[Init${context ? ':' + context : ''}] ${message}`);\n            }\n        },\n\n        /**\n         * Log warning\n         * @private\n         */\n        _warn(context, message) {\n            if (this.config.logging) {\n                console.warn(`[Init${context ? ':' + context : ''}] ${message}`);\n            }\n        },\n\n        /**\n         * Log error\n         * @private\n         */\n        _error(context, message, error) {\n            console.error(`[Init${context ? ':' + context : ''}] ${message}`, error || '');\n        },\n\n        /**\n         * Configure the init system\n         * @param {Object} options - Configuration options\n         */\n        configure(options) {\n            Object.assign(this.config, options);\n            this._log('configure', `Configuration updated: ${JSON.stringify(this.config)}`);\n        },\n\n        /**\n         * Reset the init system (for testing)\n         */\n        reset() {\n            this.initialized = false;\n            this.initializing = false;\n            this.startTime = null;\n            this.endTime = null;\n            this.components.clear();\n            this.queue = [];\n            this.failures = [];\n            this._log('reset', 'Init system reset');\n        }\n    };\n\n    // Make globally available\n    window.InitSystem = InitSystem;\n\n    // Auto-initialize on DOMContentLoaded (if enabled)\n    if (InitSystem.config.autoInit) {\n        if (document.readyState === 'loading') {\n            document.addEventListener('DOMContentLoaded', () => {\n                InitSystem.init();\n            });\n        } else {\n            // DOM already loaded, init immediately\n            InitSystem.init();\n        }\n    }\n\n    // Debug utilities (available in console)\n    window.InitSystemDebug = {\n        /**\n         * Print initialization order\n         */\n        printOrder() {\n            console.table(InitSystem.getInitOrder());\n        },\n\n        /**\n         * Print component status\n         */\n        printStatus() {\n            const status = InitSystem._getStatus();\n            console.log('Initialization Status:', status);\n            console.log(`Total: ${status.total}, Initialized: ${status.initialized}, Failed: ${status.failed}, Pending: ${status.pending}`);\n\n            if (status.components.failed.length > 0) {\n                console.error('Failed Components:', status.components.failed);\n            }\n\n            if (status.components.pending.length > 0) {\n                console.warn('Pending Components:', status.components.pending);\n            }\n        },\n\n        /**\n         * Test re-initialization\n         */\n        async testReinit(componentNames) {\n            console.log('Testing re-initialization:', componentNames);\n            const results = await InitSystem.reinit(componentNames);\n            console.log('Results:', results);\n        },\n\n        /**\n         * Get component details\n         */\n        getComponent(name) {\n            const component = InitSystem.getComponent(name);\n            if (component) {\n                console.log(`Component: ${name}`, component);\n            } else {\n                console.warn(`Component \"${name}\" not found`);\n            }\n        }\n    };\n\n})(window, document);\n","document.addEventListener('DOMContentLoaded', function () {\n    // Guard: Check if Shepherd is loaded before using it\n    if (typeof Shepherd === 'undefined') {\n        console.warn('[Tour] Shepherd library not loaded, skipping tour initialization');\n        return;\n    }\n\n    const tourVar = new Shepherd.Tour({\n        defaultStepOptions: {\n            scrollTo: true,\n            cancelIcon: {\n                enabled: true\n            }\n        },\n        useModalOverlay: true\n    });\n\n    tourVar.addStep({\n        title: 'Welcome \\uD83D\\uDC4B',\n        text: \"Glad you're here ! This tour will guide you through the main features of the site.\",\n        attachTo: { element: '.navbar', on: 'bottom' },\n        buttons: [\n            {\n                text: 'Next',\n                action: tourVar.next\n            },\n            {\n                text: 'Skip',\n                action: function () {\n                    // Get the CSRF token from the hidden input field\n                    const csrfToken = document.querySelector('input[name=\"csrf_token\"]').value;\n\n                    // Send the fetch request with the CSRF token\n                    fetch('/set_tour_complete', {\n                        method: 'POST',\n                        headers: {\n                            'Content-Type': 'application/json',\n                            'X-CSRFToken': csrfToken  // Add the CSRF token here\n                        },\n                        body: JSON.stringify({}) // You can pass any data here if needed\n                    })\n                        .then(response => {\n                            if (response.ok) {\n                                tourVar.cancel();\n                            } else {\n                                // console.error('Failed to complete the tour');\n                            }\n                        })\n                        .catch(() => { /* Error handled silently */ });\n                }\n            }\n        ]\n    });\n\n    tourVar.addStep({\n        title: 'User Profile',\n        text: 'Click here to view your profile, edit settings, or logout.',\n        attachTo: { element: '.nav-item.dropdown-user', on: 'bottom' },\n        buttons: [\n            {\n                text: 'Next',\n                action: tourVar.next\n            },\n            {\n                text: 'Skip',\n                action: function () {\n                    // Get the CSRF token from the hidden input field\n                    const csrfToken = document.querySelector('input[name=\"csrf_token\"]').value;\n\n                    // Send the fetch request with the CSRF token\n                    fetch('/set_tour_complete', {\n                        method: 'POST',\n                        headers: {\n                            'Content-Type': 'application/json',\n                            'X-CSRFToken': csrfToken  // Add the CSRF token here\n                        },\n                        body: JSON.stringify({}) // You can pass any data here if needed\n                    })\n                        .then(response => {\n                            if (response.ok) {\n                                tourVar.cancel();\n                            } else {\n                                // console.error('Failed to complete the tour');\n                            }\n                        })\n                        .catch(() => { /* Error handled silently */ });\n                }\n            }\n        ]\n    });\n\n    tourVar.addStep({\n        title: 'Announcements! \\uD83D\\uDCE2',\n        text: 'You can see new announcements here.',\n        attachTo: { element: '#announcementsCarousel', on: 'top' },\n        buttons: [\n            {\n                text: 'Next',\n                action: tourVar.next\n            },\n            {\n                text: 'Skip',\n                action: function () {\n                    // Get the CSRF token from the hidden input field\n                    const csrfToken = document.querySelector('input[name=\"csrf_token\"]').value;\n\n                    // Send the fetch request with the CSRF token\n                    fetch('/set_tour_complete', {\n                        method: 'POST',\n                        headers: {\n                            'Content-Type': 'application/json',\n                            'X-CSRFToken': csrfToken  // Add the CSRF token here\n                        },\n                        body: JSON.stringify({}) // You can pass any data here if needed\n                    })\n                        .then(response => {\n                            if (response.ok) {\n                                tourVar.cancel();\n                            } else {\n                                // console.error('Failed to complete the tour');\n                            }\n                        })\n                        .catch(() => { /* Error handled silently */ });\n                }\n            }\n        ]\n    });\n\n    tourVar.addStep({\n        title: 'Profile',\n        text: 'You can view and update your profile here.',\n        attachTo: { element: '#playerProfile', on: 'top' },\n        buttons: [\n            {\n                text: 'Next',\n                action: tourVar.next\n            },\n            {\n                text: 'Skip',\n                action: function () {\n                    // Get the CSRF token from the hidden input field\n                    const csrfToken = document.querySelector('input[name=\"csrf_token\"]').value;\n\n                    // Send the fetch request with the CSRF token\n                    fetch('/set_tour_complete', {\n                        method: 'POST',\n                        headers: {\n                            'Content-Type': 'application/json',\n                            'X-CSRFToken': csrfToken  // Add the CSRF token here\n                        },\n                        body: JSON.stringify({}) // You can pass any data here if needed\n                    })\n                        .then(response => {\n                            if (response.ok) {\n                                tourVar.cancel();\n                            } else {\n                                // console.error('Failed to complete the tour');\n                            }\n                        })\n                        .catch(() => { /* Error handled silently */ });\n                }\n            }\n        ]\n    });\n\n    tourVar.addStep({\n        title: 'Team Page',\n        text: 'You can find your teammates here.',\n        attachTo: { element: '#teamOverview', on: 'top' },\n        buttons: [\n            {\n                text: 'Next',\n                action: tourVar.next\n            },\n            {\n                text: 'Skip',\n                action: function () {\n                    // Get the CSRF token from the hidden input field\n                    const csrfToken = document.querySelector('input[name=\"csrf_token\"]').value;\n\n                    // Send the fetch request with the CSRF token\n                    fetch('/set_tour_complete', {\n                        method: 'POST',\n                        headers: {\n                            'Content-Type': 'application/json',\n                            'X-CSRFToken': csrfToken  // Add the CSRF token here\n                        },\n                        body: JSON.stringify({}) // You can pass any data here if needed\n                    })\n                        .then(response => {\n                            if (response.ok) {\n                                tourVar.cancel();\n                            } else {\n                                // console.error('Failed to complete the tour');\n                            }\n                        })\n                        .catch(() => { /* Error handled silently */ });\n                }\n            }\n        ]\n    });\n\n    tourVar.addStep({\n        title: 'Matches',\n        text: 'You can view and RSVP to your upcomming matches here.',\n        attachTo: { element: '#matchOverview', on: 'top' },\n        buttons: [\n            {\n                text: 'Next',\n                action: tourVar.next\n            },\n            {\n                text: 'Skip',\n                action: function () {\n                    // Get the CSRF token from the hidden input field\n                    const csrfToken = document.querySelector('input[name=\"csrf_token\"]').value;\n\n                    // Send the fetch request with the CSRF token\n                    fetch('/set_tour_complete', {\n                        method: 'POST',\n                        headers: {\n                            'Content-Type': 'application/json',\n                            'X-CSRFToken': csrfToken  // Add the CSRF token here\n                        },\n                        body: JSON.stringify({}) // You can pass any data here if needed\n                    })\n                        .then(response => {\n                            if (response.ok) {\n                                tourVar.cancel();\n                            } else {\n                                // console.error('Failed to complete the tour');\n                            }\n                        })\n                        .catch(() => { /* Error handled silently */ });\n                }\n            }\n        ]\n    });\n\n    tourVar.addStep({\n        title: 'Feedback',\n        text: 'You can report bugs or give feedback here.  We need your feedback to get better!',\n        attachTo: { element: 'a.feedback-link', on: 'top' },\n        buttons: [\n            {\n                text: 'Next',\n                action: tourVar.next\n            },\n            {\n                text: 'Skip',\n                action: function () {\n                    // Get the CSRF token from the hidden input field\n                    const csrfToken = document.querySelector('input[name=\"csrf_token\"]').value;\n\n                    // Send the fetch request with the CSRF token\n                    fetch('/set_tour_complete', {\n                        method: 'POST',\n                        headers: {\n                            'Content-Type': 'application/json',\n                            'X-CSRFToken': csrfToken  // Add the CSRF token here\n                        },\n                        body: JSON.stringify({}) // You can pass any data here if needed\n                    })\n                        .then(response => {\n                            if (response.ok) {\n                                tourVar.cancel();\n                            } else {\n                                // console.error('Failed to complete the tour');\n                            }\n                        })\n                        .catch(() => { /* Error handled silently */ });\n                }\n            }\n        ]\n    });\n\n    tourVar.addStep({\n        title: 'Teams',\n        text: 'You can view other teams here.',\n        attachTo: { element: 'a.teams-link', on: 'bottom' },\n        buttons: [\n            {\n                text: 'Finish',\n                action: function () {\n                    // Get the CSRF token from the hidden input field\n                    const csrfToken = document.querySelector('input[name=\"csrf_token\"]').value;\n\n                    // Send the fetch request with the CSRF token\n                    fetch('/set_tour_complete', {\n                        method: 'POST',\n                        headers: {\n                            'Content-Type': 'application/json',\n                            'X-CSRFToken': csrfToken  // Add the CSRF token here\n                        },\n                        body: JSON.stringify({}) // You can pass any data here if needed\n                    })\n                        .then(response => {\n                            if (response.ok) {\n                                tourVar.cancel();\n                            } else {\n                                // console.error('Failed to complete the tour');\n                            }\n                        })\n                        .catch(() => { /* Error handled silently */ });\n                }\n            }\n        ]\n    });\n\n    // Start the tour if showTour is defined and truthy (set by template)\n    if (typeof showTour !== 'undefined' && showTour) {\n        tourVar.start();\n    }\n});\n","document.addEventListener('DOMContentLoaded', function () {\n    // Retrieve the values for playerId, discordId, and csrfToken from the DOM\n    const rsvpDataElement = document.getElementById('rsvp-data');\n    \n    // Check if the element exists before proceeding\n    if (!rsvpDataElement) {\n        // console.log('RSVP data element not found, RSVP functionality disabled');\n        return; // Exit early if RSVP data is not available\n    }\n    \n    const playerId = rsvpDataElement.getAttribute('data-player-id');\n    const discordId = rsvpDataElement.getAttribute('data-discord-id');\n    const csrfToken = rsvpDataElement.getAttribute('data-csrf-token');\n\n    // Generate unique operation ID for idempotency\n    function generateOperationId() {\n        return 'web_' + Date.now() + '_' + Math.random().toString(36).substr(2, 9);\n    }\n\n    function submitRSVP(matchId, response, retryCount = 0) {\n        // Use same operation ID for retries to ensure idempotency\n        const operationId = this.currentOperationId || generateOperationId();\n        this.currentOperationId = operationId;\n        \n        fetch(`/api/v2/rsvp/update`, {\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json',\n                'X-CSRFToken': csrfToken  // Include CSRF token\n            },\n            body: JSON.stringify({\n                match_id: parseInt(matchId),\n                availability: response,  // Changed from 'response' to 'availability'\n                operation_id: operationId,\n                source: 'discord',  // Changed from 'web' to 'discord' to use Discord ID auth\n                discord_id: discordId\n            })\n        })\n            .then(response => {\n                // Check if the response is ok (status in the range 200-299)\n                if (!response.ok) {\n                    throw new Error(`HTTP error ${response.status}`);\n                }\n                \n                // For debugging, log the raw response text first\n                return response.text().then(text => {\n                    // console.log('Raw response:', text);\n                    try {\n                        return JSON.parse(text);\n                    } catch (e) {\n                        // console.error('JSON parse error:', e);\n                        throw new Error('Invalid JSON response');\n                    }\n                });\n            })\n            .then(data => {\n                // Clear operation ID on success\n                this.currentOperationId = null;\n                \n                // Enterprise endpoint returns success with message, no 'success' field\n                if (data.message && data.match_id) {\n                    // console.log('RSVP updated successfully with enterprise system');\n                    // Show success message\n                    Swal.fire({\n                        icon: 'success',\n                        title: 'RSVP Updated',\n                        text: data.message || 'Your RSVP status has been updated!',\n                        toast: true,\n                        position: 'top-end',\n                        showConfirmButton: false,\n                        timer: 3000\n                    });\n                    \n                    // If we're on the match details page, reload to show the updated status\n                    if (window.location.pathname.includes('/matches/')) {\n                        setTimeout(() => window.location.reload(), 1000);\n                    }\n                } else if (data.error) {\n                    // Handle enterprise API error format\n                    throw new Error(data.error);\n                } else {\n                    // Fallback for legacy success format\n                    if (data.success) {\n                        Swal.fire({\n                            icon: 'success',\n                            title: 'RSVP Updated',\n                            text: 'Your RSVP status has been updated!',\n                            toast: true,\n                            position: 'top-end',\n                            showConfirmButton: false,\n                            timer: 3000\n                        });\n                        \n                        if (window.location.pathname.includes('/matches/')) {\n                            setTimeout(() => window.location.reload(), 1000);\n                        }\n                    } else {\n                        throw new Error(data.message || 'Failed to update RSVP');\n                    }\n                }\n            })\n            .catch(error => {\n                // console.error('Error updating RSVP:', error);\n                \n                // Implement simple retry logic for network errors\n                const maxRetries = 2;\n                if (retryCount < maxRetries && \n                    (error.message.includes('HTTP error 5') || error.message.includes('NetworkError'))) {\n                    \n                    // Retry with exponential backoff\n                    setTimeout(() => {\n                        console.log(`Retrying RSVP update (attempt ${retryCount + 1}/${maxRetries})`);\n                        submitRSVP(matchId, response, retryCount + 1);\n                    }, Math.pow(2, retryCount) * 1000);\n                    \n                    return;\n                }\n                \n                // Clear operation ID on final failure\n                this.currentOperationId = null;\n                \n                // Show error message to user with retry option\n                Swal.fire({\n                    icon: 'error',\n                    title: 'RSVP Error',\n                    text: `Could not update your RSVP: ${error.message}`,\n                    toast: true,\n                    position: 'top-end',\n                    showConfirmButton: true,\n                    confirmButtonText: 'Retry',\n                    timer: 8000\n                }).then((result) => {\n                    if (result.isConfirmed) {\n                        // User clicked retry - start fresh\n                        this.currentOperationId = null;\n                        submitRSVP(matchId, response, 0);\n                    }\n                });\n            });\n    }\n\n    // Track the last selected response to allow \"unclick\" behavior\n    const lastSelected = {};\n\n    // Attach event listeners for RSVP radio buttons\n    document.querySelectorAll('.btn-check.rsvp-input').forEach(function (element) {\n        element.addEventListener('click', function (event) {\n            const matchId = event.target.name.split('-')[1];  // Extract match ID from name attribute\n            const response = event.target.value;\n\n            if (lastSelected[matchId] === response) {\n                // If the same option is clicked twice, uncheck it and reset to \"no response\"\n                event.target.checked = false;\n                submitRSVP(matchId, 'no_response');\n                lastSelected[matchId] = null;\n            } else {\n                // Otherwise, submit the selected response\n                submitRSVP(matchId, response);\n                lastSelected[matchId] = response;\n            }\n        });\n    });\n\n    // Load and set the existing RSVP values when the page loads\n    function setInitialRSVPs() {\n        try {\n            // Get all form inputs and extract unique match IDs\n            const inputs = document.querySelectorAll('.btn-check.rsvp-input');\n            if (!inputs || inputs.length === 0) {\n                // console.log('No RSVP inputs found on page');\n                return;\n            }\n            \n            // Extract match IDs, filtering out undefined or empty values\n            const matchIds = [...new Set(\n                [...inputs]\n                .map(input => {\n                    const parts = input.name ? input.name.split('-') : [];\n                    return parts.length > 1 ? parts[1] : null;\n                })\n                .filter(id => id && id !== 'undefined' && id.trim() !== '')\n            )];\n            \n            // For each valid match ID, fetch the status\n            matchIds.forEach(matchId => {\n                if (!matchId || matchId === 'undefined') {\n                    // console.warn('Invalid match ID for RSVP status fetch');\n                    return;\n                }\n                \n                fetch(`/rsvp/status/${matchId}`, {\n                    method: 'GET',\n                    headers: {\n                        'Content-Type': 'application/json',\n                        'X-CSRFToken': csrfToken  // Include CSRF token\n                    }\n                })\n                .then(response => {\n                    if (!response.ok) {\n                        throw new Error(`HTTP error ${response.status}`);\n                    }\n                    return response.text().then(text => {\n                        try {\n                            return JSON.parse(text);\n                        } catch (e) {\n                            // console.error(`JSON parse error for match ${matchId}:`, e);\n                            throw new Error('Invalid JSON response');\n                        }\n                    });\n                })\n                .then(data => {\n                    if (data && data.response) {\n                        const radioButton = document.querySelector(`input[name=\"response-${matchId}\"][value=\"${data.response}\"]`);\n                        if (radioButton) {\n                            radioButton.checked = true;\n                            lastSelected[matchId] = data.response;\n                        }\n                    }\n                })\n                .catch(error => {\n                    // console.log(`Could not load RSVP status for match ${matchId}: ${error.message}`);\n                });\n            });\n        } catch (error) {\n            // console.error('Error in setInitialRSVPs:', error);\n        }\n    }\n\n    // Call the function to set the initial RSVP statuses\n    setInitialRSVPs();\n});\n","/**\n * Discord Membership Detection and Prompt System\n * \n * Detects when users are not in the Discord server and prompts them to join\n * with helpful SweetAlert popups.\n */\n\nclass DiscordMembershipChecker {\n    constructor(options = {}) {\n        this.options = {\n            discordInviteUrl: 'https://discord.gg/weareecs',\n            checkOnLoad: true,\n            showUrgentPopup: true,\n            ...options\n        };\n        \n        if (this.options.checkOnLoad) {\n            document.addEventListener('DOMContentLoaded', () => this.init());\n        }\n    }\n    \n    init() {\n        // Check if we have Discord membership status data\n        if (window.discordMembershipStatus) {\n            this.handleMembershipStatus(window.discordMembershipStatus);\n        } else if (window.discordError) {\n            console.warn('Discord membership check error:', window.discordError);\n            this.showDiscordJoinPrompt('error');\n        } else {\n            // No Discord info - prompt to join\n            this.showDiscordJoinPrompt('no_info');\n        }\n    }\n    \n    handleMembershipStatus(status) {\n        if (status && !status.in_server) {\n            // User authenticated but not in server\n            this.showDiscordJoinPrompt('not_in_server');\n            this.updateDiscordElements(false);\n        } else if (status && status.in_server) {\n            // User is in server\n            this.updateDiscordElements(true);\n            this.showSuccessMessage();\n        }\n    }\n    \n    showDiscordJoinPrompt(reason = 'general') {\n        if (!this.options.showUrgentPopup) return;\n        \n        // Check if we've shown a Discord prompt recently (rate limiting)\n        const lastPromptShown = localStorage.getItem('discord_prompt_last_shown');\n        const now = Date.now();\n        const oneHour = 60 * 60 * 1000; // One hour\n        const oneWeek = 7 * 24 * 60 * 60 * 1000; // One week\n        \n        // For critical errors, always show. For others, respect rate limits\n        if (reason !== 'not_in_server' && lastPromptShown) {\n            const timeSince = now - parseInt(lastPromptShown);\n            if (timeSince < oneHour) {\n                console.log('Discord prompt rate limited - shown recently');\n                return;\n            }\n        }\n        \n        let title, message, urgency;\n        \n        switch (reason) {\n            case 'not_in_server':\n                title = ' Action Required: Join Discord!';\n                message = '<strong>We couldn\\'t find you in our Discord server!</strong>';\n                urgency = 'critical';\n                break;\n            case 'error':\n                title = ' Discord Connection Issue';\n                message = 'We had trouble checking your Discord membership.';\n                urgency = 'warning';\n                break;\n            case 'no_info':\n                title = ' Join Our Discord Community';\n                message = 'Connect with us on Discord for the best experience!';\n                urgency = 'info';\n                break;\n            case 'manual':\n                title = ' Pro Tip: Join Discord First!';\n                message = 'For the best experience, join our Discord server before registering!';\n                urgency = 'info';\n                break;\n            default:\n                title = ' Join Our Discord Community';\n                message = 'Don\\'t miss out - join our Discord server!';\n                urgency = 'info';\n        }\n        \n        const isUrgent = urgency === 'critical';\n        \n        Swal.fire({\n            title: title,\n            html: `\n                <div class=\"text-start\">\n                    <p>${message}</p>\n                    <p>This is <strong>${isUrgent ? 'critical' : 'important'}</strong> because:</p>\n                    <ul class=\"text-start ms-3\">\n                        <li> All waitlist notifications are sent through Discord</li>\n                        <li> You'll miss immediate openings if you're not there</li>\n                        <li> Match announcements and league updates</li>\n                        <li> Connect with other players and substitutes</li>\n                        <li> Get real-time support and community chat</li>\n                    </ul>\n                    <p class=\"mt-3\"><strong>${isUrgent ? 'Don\\'t miss your chance to play!' : 'Join our community today!'}</strong></p>\n                </div>\n            `,\n            icon: isUrgent ? 'warning' : 'info',\n            showCancelButton: true,\n            confirmButtonText: '<i class=\"ti ti-brand-discord me-2\"></i>Join Discord Now',\n            cancelButtonText: isUrgent ? 'I\\'ll Join Later' : 'Maybe Later',\n            confirmButtonColor: '#5865F2', // Discord brand color - intentional\n            cancelButtonColor: (typeof ECSTheme !== 'undefined') ? ECSTheme.getColor('secondary') : '#6c757d',\n            allowOutsideClick: !isUrgent,\n            customClass: {\n                popup: 'swal2-discord-popup',\n                confirmButton: 'btn-discord-join'\n            }\n        }).then((result) => {\n            // Store timestamp when prompt was shown\n            localStorage.setItem('discord_prompt_last_shown', now.toString());\n            \n            if (result.isConfirmed) {\n                this.handleDiscordJoin();\n            } else if (isUrgent) {\n                this.showReminderMessage();\n            }\n        });\n    }\n    \n    handleDiscordJoin() {\n        // Open Discord invite in new tab\n        window.open(this.options.discordInviteUrl, '_blank', 'noopener,noreferrer');\n        \n        // Show follow-up message\n        setTimeout(() => {\n            Swal.fire({\n                title: 'Welcome to ECS!',\n                html: `\n                    <div class=\"text-start\">\n                        <p><strong>Great! You should now be joining our Discord server.</strong></p>\n                        <p>After joining, make sure to:</p>\n                        <ul class=\"text-start ms-3\">\n                            <li> Check the <code>#waitlist</code> channel for updates</li>\n                            <li> Introduce yourself in <code>#general</code></li>\n                            <li> Turn on notifications for important channels</li>\n                        </ul>\n                        <p class=\"mt-2\">We'll notify you there when spots become available!</p>\n                    </div>\n                `,\n                icon: 'info',\n                confirmButtonText: 'Got it!',\n                confirmButtonColor: (typeof ECSTheme !== 'undefined') ? ECSTheme.getColor('success') : '#198754'\n            });\n        }, 2000);\n    }\n\n    showReminderMessage() {\n        Swal.fire({\n            title: 'Important Reminder',\n            text: 'Remember to join our Discord server soon! You won\\'t receive waitlist notifications without it.',\n            icon: 'info',\n            confirmButtonText: 'I Understand',\n            confirmButtonColor: (typeof ECSTheme !== 'undefined') ? ECSTheme.getColor('success') : '#198754',\n            timer: 5000,\n            timerProgressBar: true\n        });\n    }\n    \n    showSuccessMessage() {\n        // Optional: Show a brief success message if user is already in Discord\n        if (this.options.showSuccessMessage) {\n            setTimeout(() => {\n                Swal.fire({\n                    title: ' All Set!',\n                    text: 'Great! You\\'re already in our Discord server and will receive all notifications.',\n                    icon: 'success',\n                    timer: 3000,\n                    timerProgressBar: true,\n                    showConfirmButton: false\n                });\n            }, 1000);\n        }\n    }\n    \n    updateDiscordElements(isInServer) {\n        // Update Discord information cards if they exist on the page\n        const elements = {\n            card: document.getElementById('discord-info-card'),\n            title: document.getElementById('discord-status-title'),\n            message: document.getElementById('discord-status-message'),\n            footer: document.getElementById('discord-status-footer'),\n            button: document.getElementById('discord-join-btn')\n        };\n        \n        // Check if elements exist before updating\n        const hasElements = Object.values(elements).some(el => el !== null);\n        if (!hasElements) return;\n        \n        if (isInServer) {\n            this.setSuccessState(elements);\n        } else {\n            this.setWarningState(elements);\n        }\n    }\n    \n    setSuccessState(elements) {\n        if (elements.card) {\n            elements.card.className = 'alert alert-success mb-4';\n        }\n        if (elements.title) {\n            elements.title.innerHTML = ' Great! You\\'re in our Discord Server';\n        }\n        if (elements.message) {\n            elements.message.innerHTML = 'Perfect! You\\'ll receive all waitlist notifications and updates through Discord. Make sure to check:';\n        }\n        if (elements.footer) {\n            elements.footer.innerHTML = '<strong>You\\'re all set!</strong>';\n        }\n        if (elements.button) {\n            elements.button.innerHTML = '<i class=\"ti ti-brand-discord me-2\"></i>Visit Discord Server';\n            elements.button.className = 'btn btn-success';\n            elements.button.href = this.options.discordInviteUrl;\n        }\n    }\n    \n    setWarningState(elements) {\n        if (elements.card) {\n            elements.card.className = 'alert alert-warning mb-4';\n        }\n        if (elements.title) {\n            elements.title.innerHTML = ' Critical: You\\'re Not in Our Discord Server!';\n        }\n        if (elements.message) {\n            elements.message.innerHTML = '<strong>This is important!</strong> You must join our Discord server to receive waitlist notifications. This is where we:';\n        }\n        if (elements.footer) {\n            elements.footer.innerHTML = '<strong>Join now or you\\'ll miss opportunities!</strong>';\n        }\n        if (elements.button) {\n            elements.button.innerHTML = '<i class=\"ti ti-brand-discord me-2\"></i>Join Discord Now - Don\\'t Miss Out!';\n            elements.button.className = 'btn btn-warning btn-lg btn-pulse-warning';\n            elements.button.href = this.options.discordInviteUrl;\n        }\n    }\n    \n    // Static method to manually trigger Discord join prompt\n    static showJoinPrompt(options = {}) {\n        const checker = new DiscordMembershipChecker({\n            checkOnLoad: false,\n            showUrgentPopup: true,\n            ...options\n        });\n        checker.showDiscordJoinPrompt('manual');\n    }\n}\n\n// Add CSS for SweetAlert styling (animation moved to interaction-utils.css)\nconst discordStyles = document.createElement('style');\ndiscordStyles.textContent = `\n    .swal2-discord-popup .swal2-html-container {\n        text-align: left !important;\n    }\n\n    .btn-discord-join {\n        background-color: #5865F2 !important; /* Discord brand color - intentional */\n        border-color: #5865F2 !important;\n    }\n\n    .swal2-discord-popup code {\n        background-color: var(--ecs-neutral-5, #f8f9fa);\n        padding: 2px 4px;\n        border-radius: 3px;\n        font-family: monospace;\n        font-size: 0.9em;\n        color: var(--ecs-neutral-60, #495057);\n    }\n`;\ndocument.head.appendChild(discordStyles);\n\n// Export for use in other scripts\nwindow.DiscordMembershipChecker = DiscordMembershipChecker;\n\n// Auto-initialize if on specific pages\nif (window.location.pathname.includes('waitlist_confirmation') || \n    window.location.pathname.includes('auth') ||\n    document.querySelector('[data-discord-check=\"auto\"]')) {\n    window.discordChecker = new DiscordMembershipChecker();\n}\n","/**\n * Admin Panel - Match List Management\n * Handles all interactions for /admin-panel/matches/list page\n * Migrated from inline scripts in admin_panel/matches/list.html\n */\n\ndocument.addEventListener('DOMContentLoaded', function() {\n    // Event delegation for all match list actions\n    document.addEventListener('click', function(e) {\n        const target = e.target.closest('[data-action]');\n        if (!target) return;\n\n        const action = target.dataset.action;\n        const matchId = target.dataset.matchId;\n        const matchName = target.dataset.matchName;\n\n        switch(action) {\n            case 'view-match-details':\n                viewMatchDetails(matchId);\n                break;\n            case 'delete-match':\n                adminPanelDeleteMatch(matchId, matchName);\n                break;\n            case 'duplicate-match':\n                duplicateMatch(matchId);\n                break;\n            case 'schedule-match':\n                adminPanelScheduleMatch(matchId);\n                break;\n            case 'postpone-match':\n                postponeMatch(matchId);\n                break;\n            case 'cancel-match':\n                cancelMatch(matchId);\n                break;\n            case 'bulk-actions':\n                bulkActions();\n                break;\n            case 'export-matches':\n                exportMatches();\n                break;\n            case 'bulk-schedule-matches':\n                bulkScheduleMatches();\n                break;\n        }\n    });\n\n    // Handle select all checkbox\n    const selectAllCheckbox = document.getElementById('selectAll');\n    if (selectAllCheckbox) {\n        selectAllCheckbox.addEventListener('change', toggleSelectAll);\n    }\n});\n\nfunction toggleSelectAll() {\n    const selectAll = document.getElementById('selectAll');\n    const checkboxes = document.querySelectorAll('.match-checkbox');\n\n    checkboxes.forEach(checkbox => {\n        checkbox.checked = selectAll.checked;\n    });\n}\n\nfunction getSelectedMatches() {\n    const checkboxes = document.querySelectorAll('.match-checkbox:checked');\n    return Array.from(checkboxes).map(cb => parseInt(cb.value));\n}\n\nfunction viewMatchDetails(matchId) {\n    fetch(`/admin-panel/matches/${matchId}/details`)\n        .then(response => response.json())\n        .then(data => {\n            if (data.success) {\n                const match = data.match;\n                let detailsHtml = `\n                    <div class=\"row\">\n                        <div class=\"col-md-6\">\n                            <h6>Match Information</h6>\n                            <p><strong>Teams:</strong> ${match.home_team} vs ${match.away_team}</p>\n                            <p><strong>Date:</strong> ${match.date || 'TBD'}</p>\n                            <p><strong>Time:</strong> ${match.time || 'TBD'}</p>\n                            <p><strong>Location:</strong> ${match.location}</p>\n                            <p><strong>Status:</strong> <span class=\"badge bg-primary\">${match.status}</span></p>\n                        </div>\n                        <div class=\"col-md-6\">\n                            <h6>League & Season</h6>\n                            <p><strong>League:</strong> ${match.league}</p>\n                            <p><strong>Season:</strong> ${match.season}</p>\n                        </div>\n                    </div>\n                `;\n\n                if (match.rsvp_data && match.rsvp_data.total > 0) {\n                    detailsHtml += `\n                        <div class=\"row mt-3\">\n                            <div class=\"col-12\">\n                                <h6>RSVP Information</h6>\n                                <p><strong>Total RSVPs:</strong> ${match.rsvp_data.total}</p>\n                                ${match.rsvp_data.status_breakdown ? Object.entries(match.rsvp_data.status_breakdown).map(([status, count]) =>\n                                    `<span class=\"badge bg-secondary me-1\">${status}: ${count}</span>`\n                                ).join('') : ''}\n                            </div>\n                        </div>\n                    `;\n                }\n\n                if (match.team_history && match.team_history.length > 0) {\n                    detailsHtml += `\n                        <div class=\"row mt-3\">\n                            <div class=\"col-12\">\n                                <h6>Recent Head-to-Head</h6>\n                                <div class=\"table-responsive\">\n                                    <table class=\"table table-sm\">\n                                        <thead><tr><th>Date</th><th>Match</th><th>Status</th></tr></thead>\n                                        <tbody>\n                                            ${match.team_history.map(h =>\n                                                `<tr><td>${h.date}</td><td>${h.home_team} vs ${h.away_team}</td><td>${h.status}</td></tr>`\n                                            ).join('')}\n                                        </tbody>\n                                    </table>\n                                </div>\n                            </div>\n                        </div>\n                    `;\n                }\n\n                Swal.fire({\n                    title: 'Match Details',\n                    html: detailsHtml,\n                    width: '700px',\n                    confirmButtonText: 'Close'\n                });\n            } else {\n                Swal.fire('Error', 'Could not load match details', 'error');\n            }\n        })\n        .catch(error => {\n            console.error('Error:', error);\n            Swal.fire('Error', 'Could not load match details', 'error');\n        });\n}\n\nfunction adminPanelDeleteMatch(matchId, matchName) {\n    Swal.fire({\n        title: 'Delete Match?',\n        text: `Are you sure you want to delete \"${matchName}\"? This action cannot be undone.`,\n        icon: 'warning',\n        showCancelButton: true,\n        confirmButtonColor: (typeof ECSTheme !== 'undefined') ? ECSTheme.getColor('danger') : '#dc3545',\n        confirmButtonText: 'Yes, delete it!'\n    }).then((result) => {\n        if (result.isConfirmed) {\n            fetch(`/admin-panel/matches/${matchId}/delete`, {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json',\n                }\n            })\n            .then(response => response.json())\n            .then(data => {\n                if (data.success) {\n                    Swal.fire('Deleted!', 'Match has been deleted.', 'success').then(() => {\n                        location.reload();\n                    });\n                } else {\n                    Swal.fire('Error', data.error || 'Could not delete match', 'error');\n                }\n            })\n            .catch(error => {\n                console.error('Error:', error);\n                Swal.fire('Error', 'Could not delete match', 'error');\n            });\n        }\n    });\n}\n\nfunction bulkActions() {\n    const selectedMatches = getSelectedMatches();\n\n    if (selectedMatches.length === 0) {\n        Swal.fire('No Selection', 'Please select matches to perform bulk actions.', 'warning');\n        return;\n    }\n\n    Swal.fire({\n        title: 'Bulk Actions',\n        text: `Perform action on ${selectedMatches.length} selected matches:`,\n        input: 'select',\n        inputOptions: {\n            'update_status': 'Update Status',\n            'delete': 'Delete Matches',\n            'export': 'Export Selected'\n        },\n        showCancelButton: true,\n        confirmButtonText: 'Execute'\n    }).then((result) => {\n        if (result.isConfirmed) {\n            if (result.value === 'delete') {\n                confirmBulkDelete(selectedMatches);\n            } else if (result.value === 'update_status') {\n                bulkUpdateStatus(selectedMatches);\n            } else if (result.value === 'export') {\n                exportSelectedMatches(selectedMatches);\n            }\n        }\n    });\n}\n\nfunction confirmBulkDelete(matchIds) {\n    Swal.fire({\n        title: 'Confirm Bulk Delete',\n        text: `Are you sure you want to delete ${matchIds.length} matches? This cannot be undone.`,\n        icon: 'warning',\n        showCancelButton: true,\n        confirmButtonColor: (typeof ECSTheme !== 'undefined') ? ECSTheme.getColor('danger') : '#dc3545',\n        confirmButtonText: 'Yes, delete them!'\n    }).then((result) => {\n        if (result.isConfirmed) {\n            fetch('/admin-panel/matches/bulk-actions', {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json',\n                },\n                body: JSON.stringify({\n                    action: 'delete',\n                    match_ids: matchIds\n                })\n            })\n            .then(response => response.json())\n            .then(data => {\n                if (data.success) {\n                    Swal.fire('Success!', data.message, 'success').then(() => {\n                        location.reload();\n                    });\n                } else {\n                    Swal.fire('Error', data.error, 'error');\n                }\n            })\n            .catch(error => {\n                console.error('Error:', error);\n                Swal.fire('Error', 'Could not perform bulk delete', 'error');\n            });\n        }\n    });\n}\n\nfunction bulkUpdateStatus(matchIds) {\n    Swal.fire({\n        title: 'Update Status',\n        text: 'Select new status for selected matches:',\n        input: 'select',\n        inputOptions: {\n            'scheduled': 'Scheduled',\n            'live': 'Live',\n            'completed': 'Completed',\n            'cancelled': 'Cancelled',\n            'postponed': 'Postponed'\n        },\n        showCancelButton: true,\n        confirmButtonText: 'Update'\n    }).then((result) => {\n        if (result.isConfirmed) {\n            fetch('/admin-panel/matches/bulk-actions', {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json',\n                },\n                body: JSON.stringify({\n                    action: 'update_status',\n                    match_ids: matchIds,\n                    status: result.value\n                })\n            })\n            .then(response => response.json())\n            .then(data => {\n                if (data.success) {\n                    Swal.fire('Success!', data.message, 'success').then(() => {\n                        location.reload();\n                    });\n                } else {\n                    Swal.fire('Error', data.error, 'error');\n                }\n            })\n            .catch(error => {\n                console.error('Error:', error);\n                Swal.fire('Error', 'Could not update status', 'error');\n            });\n        }\n    });\n}\n\nfunction duplicateMatch(matchId) {\n    Swal.fire({\n        title: 'Duplicate Match',\n        text: 'This will create a copy of the match. You can edit the details after creation.',\n        showCancelButton: true,\n        confirmButtonText: 'Duplicate'\n    }).then((result) => {\n        if (result.isConfirmed) {\n            // Mock duplication\n            Swal.fire('Duplicated!', 'Match has been duplicated. Redirecting to edit...', 'success');\n        }\n    });\n}\n\nfunction adminPanelScheduleMatch(matchId) {\n    Swal.fire('Schedule Match', 'Match scheduling functionality would be implemented here.', 'info');\n}\n\nfunction postponeMatch(matchId) {\n    Swal.fire('Postpone Match', 'Match postponement functionality would be implemented here.', 'info');\n}\n\nfunction cancelMatch(matchId) {\n    Swal.fire({\n        title: 'Cancel Match',\n        text: 'Are you sure you want to cancel this match?',\n        icon: 'warning',\n        showCancelButton: true,\n        confirmButtonText: 'Yes, cancel it!'\n    }).then((result) => {\n        if (result.isConfirmed) {\n            // Would update match status to cancelled\n            Swal.fire('Cancelled!', 'Match has been cancelled.', 'success');\n        }\n    });\n}\n\nfunction exportMatches() {\n    Swal.fire({\n        title: 'Export Matches',\n        text: 'Choose export format:',\n        input: 'select',\n        inputOptions: {\n            'csv': 'CSV',\n            'xlsx': 'Excel',\n            'json': 'JSON'\n        },\n        showCancelButton: true,\n        confirmButtonText: 'Export'\n    }).then((result) => {\n        if (result.isConfirmed) {\n            Swal.fire('Export Started', `Export in ${result.value.toUpperCase()} format has been queued.`, 'info');\n        }\n    });\n}\n\nfunction exportSelectedMatches(matchIds) {\n    Swal.fire('Export Started', `Export of ${matchIds.length} selected matches has been queued.`, 'info');\n}\n\nfunction bulkScheduleMatches() {\n    Swal.fire('Bulk Schedule', 'Bulk scheduling functionality would be implemented here.', 'info');\n}\n","/**\n * Redis Connection Statistics Management\n * Handles real-time monitoring and updates for Redis connection pool statistics\n */\n\nlet autoRefreshInterval;\n\ndocument.addEventListener('DOMContentLoaded', function() {\n    initializeRedisStats();\n});\n\nfunction initializeRedisStats() {\n    // Page guard - only run on Redis stats page\n    const refreshBtn = document.getElementById('refresh-btn');\n    if (!refreshBtn) {\n        return; // Not on Redis stats page\n    }\n\n    // Event listeners\n    refreshBtn.addEventListener('click', redisUpdateStats);\n    document.getElementById('test-btn').addEventListener('click', testConnection);\n    document.getElementById('cleanup-btn').addEventListener('click', cleanupConnections);\n\n    document.getElementById('auto-refresh').addEventListener('change', function() {\n        if (this.checked) {\n            autoRefreshInterval = setInterval(redisUpdateStats, 5000);\n        } else {\n            clearInterval(autoRefreshInterval);\n        }\n    });\n\n    // Initialize auto-refresh\n    if (document.getElementById('auto-refresh').checked) {\n        autoRefreshInterval = setInterval(redisUpdateStats, 5000);\n    }\n\n    // Initial load\n    redisUpdateStats();\n}\n\nfunction redisUpdateStats() {\n    fetch('/admin/redis/api/stats')\n        .then(response => response.json())\n        .then(data => {\n            if (data.error) {\n                console.error('Error fetching stats:', data.error);\n                return;\n            }\n\n            // Update health status\n            const healthIndicator = data.health?.overall ? 'redis-health-healthy' : 'redis-health-unhealthy';\n            const healthText = data.health?.overall ? 'All connections healthy' : 'Connection issues detected';\n            document.getElementById('health-status').innerHTML =\n                `<span class=\"redis-health-indicator ${healthIndicator}\"></span>${healthText}`;\n\n            // Update client status\n            document.getElementById('decoded-status').textContent = data.health?.decoded_client ? \"\" : \"\";\n            document.getElementById('raw-status').textContent = data.health?.raw_client ? \"\" : \"\";\n\n            // Update pool stats\n            if (data.pool_stats) {\n                document.getElementById('max-connections').textContent = data.pool_stats.max_connections || 0;\n                document.getElementById('utilization').textContent = (data.pool_stats.utilization_percent || 0) + '%';\n                document.getElementById('created-connections').textContent = data.pool_stats.created_connections || 0;\n                document.getElementById('available-connections').textContent = data.pool_stats.available_connections || 0;\n                document.getElementById('in-use-connections').textContent = data.pool_stats.in_use_connections || 0;\n            }\n\n            // Update server metrics\n            if (data.server_metrics) {\n                document.getElementById('connected-clients').textContent = data.server_metrics.connected_clients || 'N/A';\n                document.getElementById('memory-usage').textContent = data.server_metrics.used_memory_human || 'N/A';\n                document.getElementById('commands-processed').textContent = data.server_metrics.total_commands_processed || 'N/A';\n                document.getElementById('ops-per-sec').textContent = data.server_metrics.instantaneous_ops_per_sec || 'N/A';\n            }\n\n            // Update last updated time\n            document.getElementById('last-updated').textContent = 'Last updated: ' + new Date().toLocaleTimeString();\n        })\n        .catch(error => {\n            console.error('Error updating stats:', error);\n        });\n}\n\nfunction testConnection() {\n    const testButton = document.getElementById('test-btn');\n    const originalText = testButton.textContent;\n    testButton.textContent = 'Testing...';\n    testButton.disabled = true;\n\n    fetch('/admin/redis/test-connection')\n        .then(response => response.json())\n        .then(data => {\n            const resultsDiv = document.getElementById('test-results');\n            if (data.error) {\n                resultsDiv.innerHTML = `<div class=\"alert alert-danger\">Error: ${data.error}</div>`;\n            } else {\n                let html = '<div class=\"row\">';\n                for (const [testName, result] of Object.entries(data.tests)) {\n                    const badgeClass = result.status === 'success' ? 'bg-success' : 'bg-danger';\n                    html += `\n                        <div class=\"col-md-4 mb-2\">\n                            <div class=\"card\">\n                                <div class=\"card-body\">\n                                    <h6>${testName.replace('_', ' ').toUpperCase()}</h6>\n                                    <span class=\"badge ${badgeClass}\">${result.status}</span>\n                                    <p class=\"mt-2 mb-0\"><small>${result.message}</small></p>\n                                </div>\n                            </div>\n                        </div>\n                    `;\n                }\n                html += '</div>';\n                resultsDiv.innerHTML = html;\n            }\n        })\n        .catch(error => {\n            document.getElementById('test-results').innerHTML =\n                `<div class=\"alert alert-danger\">Error running tests: ${error}</div>`;\n        })\n        .finally(() => {\n            testButton.textContent = originalText;\n            testButton.disabled = false;\n        });\n}\n\nfunction cleanupConnections() {\n    const cleanupButton = document.getElementById('cleanup-btn');\n    const originalText = cleanupButton.textContent;\n    cleanupButton.textContent = 'Cleaning...';\n    cleanupButton.disabled = true;\n\n    fetch('/admin/redis/connection-cleanup')\n        .then(response => response.json())\n        .then(data => {\n            if (data.error) {\n                alert('Error during cleanup: ' + data.error);\n            } else {\n                alert('Connection cleanup completed successfully');\n                redisUpdateStats();\n            }\n        })\n        .catch(error => {\n            alert('Error during cleanup: ' + error);\n        })\n        .finally(() => {\n            cleanupButton.textContent = originalText;\n            cleanupButton.disabled = false;\n        });\n}\n","/**\n * ============================================================================\n * MODAL HELPERS - Consolidated Modal Lifecycle Management\n * ============================================================================\n *\n * Complementary to ModalManager - handles modal lifecycle events:\n * - Modal initialization and lifecycle events\n * - Backdrop cleanup\n * - iOS-specific fixes\n * - Mobile viewport adjustments\n * - Button transform prevention (via CSS classes)\n *\n * RELATIONSHIP TO MODAL MANAGER:\n * - ModalManager: instance management, show/hide, caching\n * - ModalHelpers: lifecycle events, cleanup, iOS fixes, mobile viewport\n *\n * NO INLINE STYLES - Uses CSS classes and data attributes instead\n *\n * InitSystem Registration: Priority 25 (after ModalManager at 20)\n *\n * Dependencies:\n * - Bootstrap 5.x\n * - ModalManager\n * - /css/components/modals.css\n *\n * ============================================================================\n */\n\n(function() {\n    'use strict';\n\n    // ========================================================================\n    // CONSTANTS & CONFIGURATION\n    // ========================================================================\n\n    const CONFIG = {\n        BACKDROP_TRANSITION_MS: 300,\n        RIPPLE_CLEANUP_DELAY_MS: 10,\n        BUTTON_FIX_RETRY_DELAY_MS: 500,\n        // Data attribute selectors (primary)\n        MODAL_SELECTORS: '[data-modal], .modal',\n        MODAL_BODY_SELECTORS: '[data-modal-body], .modal-body',\n        BACKDROP_SELECTORS: '.modal-backdrop',\n        BUTTON_SELECTORS: '[data-action], .btn, .c-btn, button[class*=\"btn-\"]'\n    };\n\n    const CSS_CLASSES = {\n        MODAL_OPEN: 'modal-open',\n        MODAL_SHOW: 'show',\n        MODAL_ACTIVE: 'modal-active',\n        BACKDROP_SHOW: 'show',\n        BACKDROP_HIDE: 'hide',\n        IOS_SCROLL: 'ios-scroll',\n        IOS_MODAL_OPEN: 'ios-modal-open',\n        DISPLAY_NONE: 'd-none'\n    };\n\n    // ========================================================================\n    // MODAL HELPERS CONTROLLER\n    // ========================================================================\n\n    const ModalHelpers = {\n        // State tracking\n        _initialized: false,\n\n        /**\n         * Initialize all modal helpers\n         * @param {Element} context - Optional context element (defaults to document)\n         */\n        init: function(context) {\n            context = context || document;\n\n            // For full document init, only run once\n            if (context === document && this._initialized) {\n                return;\n            }\n\n            console.log('[Modal Helpers] Initializing...');\n\n            // Initialize mobile viewport fix\n            this.initMobileViewportFix();\n\n            // Register Bootstrap modal event handlers (only once for document)\n            if (context === document) {\n                this.registerModalEventHandlers();\n                this._initialized = true;\n            }\n\n            console.log('[Modal Helpers] Initialization complete');\n            console.log('[Modal Helpers] iOS device:', this.isIOS());\n            console.log('[Modal Helpers] Mobile device:', this.isMobile());\n        },\n\n        // ========================================================================\n        // DEVICE DETECTION\n        // ========================================================================\n\n        /**\n         * Detects if the current device is running iOS\n         * @returns {boolean} True if iOS device\n         */\n        isIOS: function() {\n            const iosDevices = [\n                'iPad Simulator',\n                'iPhone Simulator',\n                'iPod Simulator',\n                'iPad',\n                'iPhone',\n                'iPod'\n            ];\n\n            return iosDevices.includes(navigator.platform) ||\n                   (navigator.userAgent.includes(\"Mac\") && \"ontouchend\" in document);\n        },\n\n        /**\n         * Detects if the current device is mobile (screen width based)\n         * @returns {boolean} True if mobile device\n         */\n        isMobile: function() {\n            return window.innerWidth <= 767;\n        },\n\n        // ========================================================================\n        // MODAL UTILITY FUNCTIONS\n        // ========================================================================\n\n        /**\n         * Ensures a Bootstrap modal is properly initialized\n         * Delegates to ModalManager if available\n         * @param {string} modalId - The ID of the modal element\n         * @returns {bootstrap.Modal|null} Modal instance or null if not found\n         */\n        ensureModalInitialized: function(modalId) {\n            const modalElement = document.getElementById(modalId);\n            if (!modalElement) {\n                console.warn(`[Modal Helpers] Modal element #${modalId} not found`);\n                return null;\n            }\n\n            // Use ModalManager if available\n            if (typeof ModalManager !== 'undefined') {\n                return ModalManager.getInstance(modalElement.id);\n            }\n\n            // Fallback to direct Bootstrap instance\n            return bootstrap.Modal.getInstance(modalElement);\n        },\n\n        /**\n         * Loads modals dynamically if needed (AJAX-based modal loading)\n         * @returns {Promise<boolean>} Promise that resolves when modals are loaded\n         */\n        loadModalsIfNotFound: function() {\n            return new Promise((resolve, reject) => {\n                if (!window.jQuery) {\n                    console.warn('[Modal Helpers] jQuery not available for modal loading');\n                    reject(new Error('jQuery not available'));\n                    return;\n                }\n\n                jQuery.ajax({\n                    url: '/modals/render_modals',\n                    method: 'GET',\n                    success: function(modalContent) {\n                        jQuery('body').append(modalContent);\n                        console.log('[Modal Helpers] Modals loaded dynamically');\n\n                        // Reinitialize ModalManager if available\n                        if (typeof ModalManager !== 'undefined') {\n                            ModalManager.reinit();\n                        }\n\n                        resolve(true);\n                    },\n                    error: function(err) {\n                        console.error('[Modal Helpers] Failed to load modals:', err);\n                        reject(err);\n                    }\n                });\n            });\n        },\n\n        // ========================================================================\n        // BACKDROP CLEANUP\n        // ========================================================================\n\n        /**\n         * Thoroughly cleans up modal backdrops and resets body state\n         */\n        cleanupModalBackdrop: function() {\n            // Remove all backdrop elements with proper transition\n            const backdrops = document.querySelectorAll(CONFIG.BACKDROP_SELECTORS);\n            backdrops.forEach(backdrop => {\n                backdrop.classList.remove(CSS_CLASSES.BACKDROP_SHOW);\n                backdrop.classList.add(CSS_CLASSES.BACKDROP_HIDE);\n\n                // Remove after transition completes\n                setTimeout(() => {\n                    if (backdrop.parentNode) {\n                        backdrop.parentNode.removeChild(backdrop);\n                    }\n                }, CONFIG.BACKDROP_TRANSITION_MS);\n            });\n\n            // Clean up body state\n            document.body.classList.remove(CSS_CLASSES.MODAL_OPEN);\n            document.body.style.removeProperty('overflow');\n            document.body.style.removeProperty('padding-right');\n\n            // Close any orphaned modals\n            const openModals = document.querySelectorAll(`${CONFIG.MODAL_SELECTORS}.${CSS_CLASSES.MODAL_SHOW}`);\n            openModals.forEach(modal => {\n                try {\n                    const modalInstance = bootstrap.Modal.getInstance(modal);\n                    if (modalInstance) {\n                        modalInstance.hide();\n                    } else {\n                        // Manual cleanup if no instance found\n                        modal.classList.remove(CSS_CLASSES.MODAL_SHOW);\n                        modal.setAttribute('aria-hidden', 'true');\n                        modal.classList.add(CSS_CLASSES.DISPLAY_NONE);\n                    }\n                } catch (e) {\n                    console.error('[Modal Helpers] Error closing modal:', e);\n                }\n            });\n\n            console.log('[Modal Helpers] Backdrop cleanup complete');\n        },\n\n        // ========================================================================\n        // iOS SCROLLING FIXES\n        // ========================================================================\n\n        /**\n         * Disables body scrolling for iOS when modal is open\n         */\n        disableIOSScrolling: function() {\n            if (!this.isIOS()) return;\n\n            // Save current scroll position\n            const scrollY = window.scrollY;\n            document.body.dataset.scrollPosition = scrollY.toString();\n\n            // Add CSS classes\n            document.body.classList.add(CSS_CLASSES.MODAL_OPEN, CSS_CLASSES.IOS_MODAL_OPEN);\n            // Use CSS custom property for scroll position\n            document.body.style.setProperty('--scroll-y', `${scrollY}px`);\n\n            console.log('[Modal Helpers] iOS scrolling disabled');\n        },\n\n        /**\n         * Re-enables body scrolling for iOS after modal is closed\n         */\n        enableIOSScrolling: function() {\n            if (!this.isIOS()) return;\n\n            // Restore previous scroll position\n            const scrollY = parseInt(document.body.dataset.scrollPosition || '0', 10);\n\n            document.body.classList.remove(CSS_CLASSES.MODAL_OPEN, CSS_CLASSES.IOS_MODAL_OPEN);\n            document.body.style.removeProperty('--scroll-y');\n\n            window.scrollTo(0, scrollY);\n            delete document.body.dataset.scrollPosition;\n\n            console.log('[Modal Helpers] iOS scrolling enabled');\n        },\n\n        // ========================================================================\n        // MOBILE VIEWPORT HEIGHT FIX\n        // ========================================================================\n\n        /**\n         * Updates mobile viewport height CSS custom property\n         */\n        updateMobileViewportHeight: function() {\n            const vh = window.innerHeight * 0.01;\n            document.documentElement.style.setProperty('--vh', `${vh}px`);\n        },\n\n        /**\n         * Initializes mobile viewport height fix\n         */\n        initMobileViewportFix: function() {\n            this.updateMobileViewportHeight();\n\n            // Avoid duplicate listeners\n            if (this._viewportFixSetup) return;\n            this._viewportFixSetup = true;\n\n            // Update on resize (throttled)\n            let resizeTimeout;\n            window.addEventListener('resize', () => {\n                clearTimeout(resizeTimeout);\n                resizeTimeout = setTimeout(() => this.updateMobileViewportHeight(), 100);\n            });\n\n            console.log('[Modal Helpers] Mobile viewport height fix initialized');\n        },\n\n        // ========================================================================\n        // BUTTON TRANSFORM FIX (CLASS-BASED)\n        // ========================================================================\n\n        /**\n         * Applies transform-none class to buttons to prevent scaling\n         * @param {Element} container - Container element to search for buttons\n         */\n        applyButtonTransformFix: function(container) {\n            container = container || document;\n\n            const buttons = container.querySelectorAll(CONFIG.BUTTON_SELECTORS);\n\n            buttons.forEach(button => {\n                // Skip if already enhanced\n                if (button.dataset.transformFixed === 'true') return;\n                button.dataset.transformFixed = 'true';\n\n                // Add CSS classes instead of inline styles\n                button.classList.add('transform-none', 'transition-colors');\n\n                // Ensure pointer cursor for non-disabled buttons\n                if (!button.disabled && !button.classList.contains('disabled')) {\n                    button.classList.add('cursor-pointer');\n                }\n            });\n\n            console.log(`[Modal Helpers] Transform fix applied to ${buttons.length} buttons`);\n        },\n\n        // ========================================================================\n        // MODAL EVENT HANDLERS\n        // ========================================================================\n\n        /**\n         * Registers Bootstrap modal event handlers\n         */\n        registerModalEventHandlers: function() {\n            const self = this;\n\n            // Handler for modal show event (before modal is shown)\n            document.addEventListener('show.bs.modal', function(event) {\n                const modal = event.target;\n\n                // Add active class for z-index management\n                modal.classList.add(CSS_CLASSES.MODAL_ACTIVE);\n\n                // For iOS devices, fix scrolling\n                if (self.isIOS()) {\n                    self.disableIOSScrolling();\n                }\n\n                // Ensure buttons in modal have transform fix\n                self.applyButtonTransformFix(modal);\n\n                console.log('[Modal Helpers] Modal show handler executed');\n            });\n\n            // Handler for modal shown event (after modal is visible)\n            document.addEventListener('shown.bs.modal', function(event) {\n                const modal = event.target;\n\n                // Apply iOS scroll fix to modal body\n                if (self.isIOS()) {\n                    const modalBody = modal.querySelector(CONFIG.MODAL_BODY_SELECTORS);\n                    if (modalBody) {\n                        modalBody.classList.add(CSS_CLASSES.IOS_SCROLL);\n                    }\n                }\n\n                console.log('[Modal Helpers] Modal shown handler executed');\n            });\n\n            // Handler for modal hide event (before modal is hidden)\n            document.addEventListener('hide.bs.modal', function(event) {\n                const modal = event.target;\n                modal.classList.remove(CSS_CLASSES.MODAL_ACTIVE);\n\n                console.log('[Modal Helpers] Modal hide handler executed');\n            });\n\n            // Handler for modal hidden event (after modal is closed)\n            document.addEventListener('hidden.bs.modal', function(event) {\n                // Clean up backdrops and body state\n                self.cleanupModalBackdrop();\n\n                // Re-enable scrolling on iOS\n                if (self.isIOS()) {\n                    self.enableIOSScrolling();\n                }\n\n                console.log('[Modal Helpers] Modal hidden handler executed');\n            });\n\n            // Handler for ESC key press\n            document.addEventListener('keydown', function(event) {\n                if (event.key === 'Escape' && document.querySelector(`${CONFIG.MODAL_SELECTORS}.${CSS_CLASSES.MODAL_SHOW}`)) {\n                    // Bootstrap will handle closing, we just clean up after\n                    setTimeout(() => self.cleanupModalBackdrop(), CONFIG.BACKDROP_TRANSITION_MS);\n                }\n            });\n\n            console.log('[Modal Helpers] Event handlers registered');\n        }\n    };\n\n    // ========================================================================\n    // INITIALIZATION\n    // ========================================================================\n\n    // Register with InitSystem if available\n    if (typeof window.InitSystem !== 'undefined') {\n        window.InitSystem.register('ModalHelpers', {\n            priority: 25, // After ModalManager (20)\n            init: function(context) {\n                ModalHelpers.init(context);\n            }\n        });\n    } else {\n        // Fallback to DOMContentLoaded\n        if (document.readyState === 'loading') {\n            document.addEventListener('DOMContentLoaded', function() {\n                ModalHelpers.init(document);\n            });\n        } else {\n            ModalHelpers.init(document);\n        }\n    }\n\n    // Expose public API for external use\n    window.ModalHelpers = ModalHelpers;\n\n})();\n","// static/custom_js/modals.js\n\n$(document).ready(function () {\n    // Function to trigger the manual review modal based on data attribute\n    function triggerManualReviewModal() {\n        var needsReview = $('#manualReviewData').data('needs-review');\n        if (needsReview === 'true') {\n            $('#manualReviewModal').modal('show');\n        }\n    }\n\n    // Call the function on document ready\n    triggerManualReviewModal();\n});\n","/**\n * SMS Verification\n */\n\n// Create global functions directly\nfunction toggleSmsConsent(show) {\n    // console.log(\"Toggle SMS consent:\", show);\n    const smsOptInSection = document.getElementById('smsOptInSection');\n    if (show) {\n        smsOptInSection.classList.remove('d-none');\n        smsOptInSection.classList.add('d-block');\n    } else {\n        smsOptInSection.classList.remove('d-block');\n        smsOptInSection.classList.add('d-none');\n    }\n\n    // If SMS is disabled, also hide verification\n    if (!show) {\n        const smsVerificationSection = document.getElementById('smsVerificationSection');\n        smsVerificationSection.classList.remove('d-block');\n        smsVerificationSection.classList.add('d-none');\n    }\n}\n\nfunction toggleSmsVerification(show) {\n    // console.log(\"Toggle SMS verification:\", show);\n    const smsVerificationSection = document.getElementById('smsVerificationSection');\n    if (show) {\n        smsVerificationSection.classList.remove('d-none');\n        smsVerificationSection.classList.add('d-block');\n    } else {\n        smsVerificationSection.classList.remove('d-block');\n        smsVerificationSection.classList.add('d-none');\n    }\n}\n\nfunction sendVerificationCode() {\n    // console.log(\"Sending verification code\");\n    var phoneInput = document.querySelector('input[name=\"phone\"]');\n    var sendButton = document.getElementById('sendVerificationBtn');\n    var verificationCodeInput = document.getElementById('verificationCodeInput');\n\n    if (!phoneInput || !phoneInput.value.trim()) {\n        Swal.fire({\n            icon: 'warning',\n            title: 'Phone Number Required',\n            text: 'Please enter your phone number to receive the verification code.',\n            confirmButtonText: 'OK'\n        });\n        return;\n    }\n\n    // Disable button during request\n    sendButton.disabled = true;\n    sendButton.innerHTML = '<i class=\"ti ti-loader ti-spin me-1\"></i> Sending...';\n\n    // Save phone and send code\n    fetch('/save_phone_for_verification', {\n        method: 'POST',\n        headers: {\n            'Content-Type': 'application/json',\n            'X-CSRFToken': document.querySelector('input[name=\"csrf_token\"]').value\n        },\n        body: JSON.stringify({ phone: phoneInput.value.trim() })\n    })\n    .then(function(response) {\n        if (!response.ok) {\n            throw new Error('Failed to save phone number');\n        }\n        return fetch('/send_verification_code', {\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json',\n                'X-CSRFToken': document.querySelector('input[name=\"csrf_token\"]').value\n            },\n            body: JSON.stringify({ phone: phoneInput.value.trim() })\n        });\n    })\n    .then(function(response) {\n        if (!response.ok) {\n            throw new Error('Failed to send verification code');\n        }\n        return response.json();\n    })\n    .then(function(data) {\n        sendButton.disabled = false;\n        sendButton.innerHTML = '<i class=\"ti ti-send me-1\"></i> Send Verification Code';\n\n        if (data.success) {\n            verificationCodeInput.classList.remove('d-none');\n            verificationCodeInput.classList.add('d-block');\n            Swal.fire({\n                icon: 'success',\n                title: 'Code Sent!',\n                text: 'Verification code sent to your phone number.',\n                confirmButtonText: 'OK'\n            });\n        } else {\n            Swal.fire({\n                icon: 'error',\n                title: 'Error',\n                text: data.message || 'Failed to send verification code. Please try again.',\n                confirmButtonText: 'OK'\n            });\n        }\n    })\n    .catch(function(error) {\n        // console.error('Error sending verification code:', error);\n        sendButton.disabled = false;\n        sendButton.innerHTML = '<i class=\"ti ti-send me-1\"></i> Send Verification Code';\n        Swal.fire({\n            icon: 'error',\n            title: 'Error',\n            text: 'An error occurred while sending the verification code. Please try again.',\n            confirmButtonText: 'OK'\n        });\n    });\n}\n\nfunction verifyCode() {\n    // console.log(\"Verifying code\");\n    var codeInput = document.getElementById('verificationCode');\n    var verifyButton = document.getElementById('verifyCodeBtn');\n    var verificationCodeInput = document.getElementById('verificationCodeInput');\n    var sendButton = document.getElementById('sendVerificationBtn');\n    var verifiedFlagInput = document.getElementById('smsVerified');\n\n    if (!codeInput || !codeInput.value.trim()) {\n        Swal.fire({\n            icon: 'warning',\n            title: 'Code Required',\n            text: 'Please enter the verification code sent to your phone.',\n            confirmButtonText: 'OK'\n        });\n        return;\n    }\n\n    // Disable button during request\n    verifyButton.disabled = true;\n    verifyButton.innerHTML = '<i class=\"ti ti-loader ti-spin me-1\"></i> Verifying...';\n\n    fetch('/verify_sms_code', {\n        method: 'POST',\n        headers: {\n            'Content-Type': 'application/json',\n            'X-CSRFToken': document.querySelector('input[name=\"csrf_token\"]').value\n        },\n        body: JSON.stringify({ code: codeInput.value.trim() })\n    })\n    .then(function(response) {\n        // We'll process all responses, even error ones\n        return response.json();\n    })\n    .then(function(data) {\n        verifyButton.disabled = false;\n        verifyButton.innerHTML = '<i class=\"ti ti-check me-1\"></i> Verify Code';\n\n        if (data.success) {\n            // Mark as verified in hidden input\n            verifiedFlagInput.value = 'true';\n\n            // Show success message\n            verificationCodeInput.innerHTML = '<div class=\"alert alert-success\"><i class=\"ti ti-check-circle me-2\"></i>Phone number verified successfully!</div>';\n\n            // Update send button to show verified state\n            sendButton.disabled = true;\n            sendButton.classList.remove('btn-primary');\n            sendButton.classList.add('btn-success');\n            sendButton.innerHTML = '<i class=\"ti ti-check me-1\"></i> Verified';\n\n            // Hide warning alert if present\n            var warningAlert = document.getElementById('verificationRequiredAlert');\n            if (warningAlert) {\n                warningAlert.classList.add('d-none');\n            }\n\n            Swal.fire({\n                icon: 'success',\n                title: 'Phone Verified!',\n                text: 'Your phone number has been successfully verified.',\n                confirmButtonText: 'Great!'\n            });\n        } else {\n            Swal.fire({\n                icon: 'error',\n                title: 'Verification Failed',\n                text: data.message || 'Invalid verification code. Please try again.',\n                confirmButtonText: 'OK'\n            });\n        }\n    })\n    .catch(function(error) {\n        // console.error('Error verifying code:', error);\n        verifyButton.disabled = false;\n        verifyButton.innerHTML = '<i class=\"ti ti-check me-1\"></i> Verify Code';\n        Swal.fire({\n            icon: 'error',\n            title: 'Error',\n            text: 'An error occurred while verifying your code. Please try again.',\n            confirmButtonText: 'OK'\n        });\n    });\n}\n\n// This function has been removed for production\n\n// Admin-only function accessible via console\nwindow.adminSetVerificationCode = function() {\n    if (confirm(\"ADMIN ONLY: Are you sure you want to generate a manual verification code?\")) {\n        var phoneInput = document.querySelector('input[name=\"phone\"]');\n        var verificationCodeInput = document.getElementById('verificationCodeInput');\n\n        if (!phoneInput || !phoneInput.value.trim()) {\n            // console.error(\"Phone number is required\");\n            return;\n        }\n\n        // Make API call to generate and set a code\n        fetch('/set_verification_code', {\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json',\n                'X-CSRFToken': document.querySelector('input[name=\"csrf_token\"]').value\n            },\n            body: JSON.stringify({})  // Empty body - server will generate a code\n        })\n        .then(function(response) {\n            return response.json();\n        })\n        .then(function(data) {\n            if (data.success) {\n                // Show the verification code input\n                verificationCodeInput.classList.remove('d-none');\n                verificationCodeInput.classList.add('d-block');\n                // console.log(\"Admin generated verification code:\", data.code);\n                alert(\"Verification code: \" + data.code);\n            } else {\n                // console.error(\"Error:\", data.message);\n                alert(\"Error: \" + (data.message || \"Failed to set verification code\"));\n            }\n        })\n        .catch(function(error) {\n            // console.error('Error setting verification code:', error);\n            alert(\"Error: \" + error);\n        });\n    }\n};\n\n// Initialize when page loads - using a light initialization that respects existing inline handlers\ndocument.addEventListener('DOMContentLoaded', function() {\n    // Silently initialize without console logs\n\n    // Get initial state\n    var smsToggle = document.getElementById('smsNotifications');\n    var smsConsent = document.getElementById('smsConsent');\n\n    if (smsToggle && smsConsent) {\n        // Setup initial state if elements exist\n        // Note: We don't add event listeners here since they are already set with inline onchange/onclick\n        if (smsToggle.checked) {\n            toggleSmsConsent(true);\n\n            if (smsConsent.checked) {\n                toggleSmsVerification(true);\n            }\n        }\n    }\n});\n","// Simple table label injection - that's it\ndocument.addEventListener('DOMContentLoaded', function() {\n  function addTableLabels() {\n    const tables = document.querySelectorAll('.table-responsive table');\n    \n    tables.forEach(table => {\n      if (table.dataset.labeled) return;\n      \n      const headers = Array.from(table.querySelectorAll('thead th')).map(th => th.textContent.trim());\n      \n      table.querySelectorAll('tbody tr').forEach(row => {\n        Array.from(row.querySelectorAll('td')).forEach((cell, index) => {\n          if (headers[index] && !cell.hasAttribute('data-label')) {\n            cell.setAttribute('data-label', headers[index]);\n          }\n        });\n      });\n      \n      table.dataset.labeled = 'true';\n    });\n  }\n  \n  // Run once on load\n  addTableLabels();\n  \n  // Run after AJAX if jQuery exists\n  if (typeof $ !== 'undefined') {\n    $(document).on('ajaxComplete', addTableLabels);\n  }\n});\n","/**\n * Admin Discord Management - Event Handlers\n *\n * CONVERTED TO EVENT DELEGATION SYSTEM (Phase 2.2 Sprint 2)\n * =========================================================\n *\n * This file previously contained individual addEventListener calls that have been\n * converted to use the centralized event delegation system.\n *\n * All action handlers are now registered in:\n *   /app/static/js/event-delegation.js\n *\n * Actions registered:\n *   - change-per-page: Updates items per page in pagination\n *   - refresh-all-discord-status: Refreshes Discord status for all players\n *   - refresh-unknown-discord-status: Checks Discord status for players with unknown status\n *   - refresh-player-status: Refreshes Discord status for individual player\n *   - send-discord-dm: Opens modal to send Discord direct message\n *   - submit-discord-dm: Sends the Discord direct message\n *\n * Template elements use data-action attributes to trigger these handlers.\n * See: /app/templates/admin/discord_management.html\n *\n * Event delegation ensures handlers work for both static and dynamically added content.\n *\n * Migration Date: 2025-12-16\n * Sprint: Phase 2.2 Sprint 2\n * Previous Line Count: 282 lines\n * New Line Count: ~30 lines (documentation only)\n */\n\n// This file intentionally left minimal - all functionality moved to event delegation system\n// No initialization required - EventDelegation.init() is called automatically\n\nconsole.log('[admin-discord-management] Loaded - using event delegation system');\n","/**\n * ============================================================================\n * MANAGE SUBSTITUTES - EVENT DELEGATION SCRIPT\n * ============================================================================\n *\n * Modern event-driven JavaScript for the manage substitutes admin page\n *\n * ARCHITECTURAL COMPLIANCE:\n * - 100% event delegation (no inline handlers)\n * - Data attribute hooks (never bind to styling classes)\n * - State-driven with classList manipulation\n * - No direct DOM style manipulation\n * - Clean separation of concerns\n *\n * ============================================================================\n */\n\n(function() {\n    'use strict';\n\n    // ========================================================================\n    // INITIALIZATION\n    // ========================================================================\n\n    document.addEventListener('DOMContentLoaded', function() {\n        initPageLoader();\n        initDataTable();\n        initEventDelegation();\n    });\n\n    // ========================================================================\n    // PAGE LOADER\n    // ========================================================================\n\n    function initPageLoader() {\n        const pageLoader = document.getElementById('page-loader');\n        if (pageLoader) {\n            setTimeout(() => {\n                pageLoader.classList.add('is-hidden');\n            }, 300);\n        }\n    }\n\n    // ========================================================================\n    // DATATABLE INITIALIZATION\n    // ========================================================================\n\n    function initDataTable() {\n        if (!$.fn.DataTable || !document.getElementById('subsTable')) {\n            return;\n        }\n\n        $('#subsTable').DataTable({\n            responsive: true,\n            lengthMenu: [10, 25, 50],\n            dom: '<\"row\"<\"col-sm-12 col-md-6\"l><\"col-sm-12 col-md-6\"f>><\"row\"<\"col-sm-12\"tr>><\"row\"<\"col-sm-12 col-md-5\"i><\"col-sm-12 col-md-7\"p>>',\n            language: {\n                search: \"\",\n                searchPlaceholder: \"Search substitutes...\",\n                lengthMenu: \"_MENU_ per page\",\n                info: \"Showing _START_ to _END_ of _TOTAL_ subs\",\n                infoEmpty: \"No substitutes found\",\n                infoFiltered: \"(filtered from _MAX_ total subs)\",\n                zeroRecords: \"No matching substitutes found\"\n            },\n            columnDefs: [\n                { orderable: false, targets: [3, 4] }\n            ]\n        });\n    }\n\n    // ========================================================================\n    // EVENT DELEGATION\n    // ========================================================================\n\n    function initEventDelegation() {\n        // Click event delegation\n        document.addEventListener('click', handleClick);\n\n        // Change event delegation for selects\n        document.addEventListener('change', handleChange);\n\n        // Form submission delegation\n        document.addEventListener('submit', handleSubmit);\n    }\n\n    // ========================================================================\n    // CLICK HANDLER\n    // ========================================================================\n\n    function handleClick(e) {\n        const action = e.target.closest('[data-action]');\n        if (!action) return;\n\n        const actionType = action.dataset.action;\n\n        switch (actionType) {\n            case 'load-assignments':\n                e.preventDefault();\n                handleLoadAssignments(action);\n                break;\n\n            case 'assign-sub':\n                e.preventDefault();\n                handleAssignSub(action);\n                break;\n\n            case 'remove-assignment':\n                e.preventDefault();\n                handleRemoveAssignment(action);\n                break;\n        }\n    }\n\n    // ========================================================================\n    // CHANGE HANDLER\n    // ========================================================================\n\n    function handleChange(e) {\n        const role = e.target.dataset.role;\n\n        if (role === 'match-select') {\n            handleMatchSelection(e.target);\n        }\n    }\n\n    // ========================================================================\n    // SUBMIT HANDLER\n    // ========================================================================\n\n    function handleSubmit(e) {\n        const form = e.target;\n\n        if (form.id === 'assignSubForm') {\n            e.preventDefault();\n            handleAssignSubFormSubmit(form);\n        }\n    }\n\n    // ========================================================================\n    // LOAD ASSIGNMENTS\n    // ========================================================================\n\n    function handleLoadAssignments(button) {\n        const playerId = button.dataset.playerId;\n        const container = document.querySelector(`[data-component=\"assignments-container\"][data-player-id=\"${playerId}\"]`);\n        if (!container) return;\n\n        const spinner = container.querySelector('[data-spinner]');\n        const list = container.querySelector('[data-role=\"assignments-list\"]');\n\n        // Toggle if already loaded\n        if (!list.classList.contains('u-hidden')) {\n            list.classList.add('u-hidden');\n            updateButtonIcon(button, 'ti-calendar-stats', 'View Assignments');\n            return;\n        }\n\n        // Show spinner, disable button\n        spinner.classList.remove('u-hidden');\n        button.disabled = true;\n\n        // Fetch assignments\n        fetch(`/admin/subs/player/${playerId}`)\n            .then(response => response.json())\n            .then(data => {\n                if (data.success) {\n                    renderAssignments(list, data.assignments, playerId);\n                    list.classList.remove('u-hidden');\n                    updateButtonIcon(button, 'ti-calendar-minus', 'Hide Assignments');\n                } else {\n                    showToast('error', 'Failed to load assignments.');\n                }\n            })\n            .catch(error => {\n                console.error('Error loading assignments:', error);\n                showToast('error', 'An error occurred while loading assignments.');\n            })\n            .finally(() => {\n                spinner.classList.add('u-hidden');\n                button.disabled = false;\n            });\n    }\n\n    // ========================================================================\n    // RENDER ASSIGNMENTS\n    // ========================================================================\n\n    function renderAssignments(container, assignments, playerId) {\n        if (assignments.length === 0) {\n            container.innerHTML = '<div class=\"alert alert-info\" data-alert>No active assignments found.</div>';\n            return;\n        }\n\n        let html = '<div class=\"list-group\">';\n        assignments.forEach(a => {\n            const matchDate = new Date(a.match_date);\n            const formattedDate = matchDate.toLocaleDateString('en-US', {\n                weekday: 'short',\n                month: 'short',\n                day: 'numeric'\n            });\n\n            html += `\n                <div class=\"list-group-item list-group-item-action c-assignment-item\" data-assignment-id=\"${a.id}\">\n                    <div class=\"c-assignment-item__header\">\n                        <span class=\"c-assignment-item__title\">${a.home_team_name} vs ${a.away_team_name}</span>\n                        <span class=\"c-badge c-badge--primary\">${formattedDate}</span>\n                    </div>\n                    <div class=\"c-assignment-item__footer\">\n                        <span class=\"c-assignment-item__team\">\n                            <i class=\"ti ti-users\"></i> ${a.team_name}\n                        </span>\n                        <button class=\"btn btn-sm btn-outline-danger\"\n                                data-action=\"remove-assignment\"\n                                data-assignment-id=\"${a.id}\"\n                                title=\"Remove assignment\">\n                            <i class=\"ti ti-trash\"></i>\n                        </button>\n                    </div>\n                </div>`;\n        });\n        html += '</div>';\n\n        container.innerHTML = html;\n\n        // Initialize tooltips if Bootstrap is available\n        if (typeof bootstrap !== 'undefined') {\n            const tooltipTriggerList = container.querySelectorAll('[data-bs-toggle=\"tooltip\"]');\n            [...tooltipTriggerList].map(el => new bootstrap.Tooltip(el));\n        }\n    }\n\n    // ========================================================================\n    // UPDATE BUTTON ICON\n    // ========================================================================\n\n    function updateButtonIcon(button, iconClass, text) {\n        button.innerHTML = `<i class=\"ti ${iconClass} me-1\"></i> ${text}`;\n    }\n\n    // ========================================================================\n    // HANDLE MATCH SELECTION\n    // ========================================================================\n\n    function handleMatchSelection(select) {\n        const matchId = select.value;\n        const teamSelect = document.getElementById('subTeam');\n\n        if (!matchId) {\n            teamSelect.innerHTML = '<option value=\"\" selected disabled>Select a team for this match...</option>';\n            teamSelect.disabled = true;\n            return;\n        }\n\n        // Find match in the global data\n        const match = window.subsPageData.upcomingMatches.find(m => m.id == matchId);\n\n        if (match) {\n            teamSelect.innerHTML = '<option value=\"\" selected disabled>Select a team for this match...</option>';\n            teamSelect.innerHTML += `<option value=\"${match.home_team_id}\">${match.home_team.name}</option>`;\n            teamSelect.innerHTML += `<option value=\"${match.away_team_id}\">${match.away_team.name}</option>`;\n            teamSelect.disabled = false;\n        }\n    }\n\n    // ========================================================================\n    // ASSIGN SUB FROM DROPDOWN\n    // ========================================================================\n\n    function handleAssignSub(link) {\n        const playerId = link.dataset.playerId;\n        const playerName = link.dataset.playerName;\n\n        // Set player in form\n        document.getElementById('subPlayer').value = playerId;\n\n        // Update modal title\n        const modalTitle = document.getElementById('assignSubModalLabel');\n        modalTitle.innerHTML = `<i class=\"ti ti-user-plus me-2\"></i>Assign ${playerName} as Substitute`;\n\n        // Open modal\n        const modal = new bootstrap.Modal(document.getElementById('assignSubModal'));\n        modal.show();\n    }\n\n    // ========================================================================\n    // ASSIGN SUB FORM SUBMIT\n    // ========================================================================\n\n    function handleAssignSubFormSubmit(form) {\n        const formData = new FormData(form);\n        const submitBtn = form.querySelector('[data-action=\"submit-assign-form\"]');\n\n        // Disable button and show loading\n        submitBtn.disabled = true;\n        submitBtn.innerHTML = '<span class=\"spinner-border spinner-border-sm\" role=\"status\" aria-hidden=\"true\"></span> Assigning...';\n\n        fetch(form.action, {\n            method: 'POST',\n            body: new URLSearchParams(formData),\n            headers: {\n                'X-Requested-With': 'XMLHttpRequest'\n            }\n        })\n        .then(response => response.json())\n        .then(data => {\n            if (data.success) {\n                showToast('success', data.message);\n\n                // Close modal\n                const modal = bootstrap.Modal.getInstance(document.getElementById('assignSubModal'));\n                modal.hide();\n\n                // Reset form\n                form.reset();\n                document.getElementById('subTeam').disabled = true;\n                document.getElementById('subTeam').innerHTML = '<option value=\"\" selected disabled>Select a team for this match...</option>';\n\n                // Reload page after delay\n                setTimeout(() => {\n                    window.location.reload();\n                }, 1500);\n            } else {\n                showToast('error', data.message);\n            }\n        })\n        .catch(error => {\n            console.error('Error assigning sub:', error);\n            showToast('error', 'An error occurred while trying to assign the sub.');\n        })\n        .finally(() => {\n            // Re-enable button\n            submitBtn.disabled = false;\n            submitBtn.innerHTML = '<i class=\"ti ti-user-plus me-1\"></i>Assign Substitute';\n        });\n    }\n\n    // ========================================================================\n    // REMOVE ASSIGNMENT\n    // ========================================================================\n\n    function handleRemoveAssignment(button) {\n        const assignmentId = button.dataset.assignmentId;\n\n        if (!confirm('Are you sure you want to remove this sub assignment?')) {\n            return;\n        }\n\n        const formData = new FormData();\n        formData.append('csrf_token', window.subsPageData.csrfToken);\n\n        fetch(`/admin/subs/remove/${assignmentId}`, {\n            method: 'POST',\n            body: new URLSearchParams(formData),\n            headers: {\n                'X-Requested-With': 'XMLHttpRequest'\n            }\n        })\n        .then(response => response.json())\n        .then(data => {\n            if (data.success) {\n                showToast('success', data.message);\n\n                // Find and remove the assignment item\n                const item = button.closest('.c-assignment-item');\n                item.style.opacity = '0';\n                item.style.transition = 'opacity 300ms ease';\n\n                setTimeout(() => {\n                    item.remove();\n\n                    // Check if any assignments left\n                    const list = button.closest('[data-role=\"assignments-list\"]');\n                    if (list && list.querySelectorAll('.c-assignment-item').length === 0) {\n                        list.innerHTML = '<div class=\"alert alert-info\" data-alert>No active assignments found.</div>';\n                    }\n                }, 300);\n            } else {\n                showToast('error', data.message);\n            }\n        })\n        .catch(error => {\n            console.error('Error removing assignment:', error);\n            showToast('error', 'An error occurred while trying to remove the assignment.');\n        });\n    }\n\n    // ========================================================================\n    // TOAST NOTIFICATION\n    // ========================================================================\n\n    function showToast(type, message) {\n        if (typeof toastr !== 'undefined') {\n            toastr[type](message);\n        } else {\n            console.log(`[${type.toUpperCase()}]: ${message}`);\n        }\n    }\n\n})();\n","/**\n * ============================================================================\n * ADMIN MATCH DETAIL - EVENT DELEGATION PATTERN\n * ============================================================================\n *\n * Event delegation-based JavaScript for the admin match detail page.\n * All inline event handlers extracted and converted to data-action pattern.\n *\n * Architecture:\n * - Event delegation (document-level listeners)\n * - Data attribute hooks (data-action, data-id)\n * - State-driven styling (classList manipulation)\n * - Clean separation of concerns\n *\n * Dependencies: None (vanilla JavaScript)\n * Compatible with: Modern browsers (ES6+)\n *\n * ============================================================================\n */\n\n(function() {\n    'use strict';\n\n    // ========================================================================\n    // INITIALIZATION\n    // ========================================================================\n\n    document.addEventListener('DOMContentLoaded', function() {\n        initEventDelegation();\n        console.log('[Match Detail] Initialized with event delegation');\n    });\n\n    // ========================================================================\n    // EVENT DELEGATION SETUP\n    // ========================================================================\n\n    /**\n     * Initialize all event delegation listeners\n     */\n    function initEventDelegation() {\n        document.addEventListener('click', handleClick);\n    }\n\n    /**\n     * Centralized click handler using event delegation\n     * @param {Event} e - Click event\n     */\n    function handleClick(e) {\n        const action = e.target.closest('[data-action]');\n        if (!action) return;\n\n        const actionType = action.dataset.action;\n\n        // Route to appropriate handler based on data-action value\n        switch (actionType) {\n            case 'schedule-match':\n                e.preventDefault();\n                handleScheduleMatch(action);\n                break;\n\n            case 'stop-session':\n                e.preventDefault();\n                handleStopSession(action);\n                break;\n\n            case 'refresh-session':\n                e.preventDefault();\n                handleRefreshSession(action);\n                break;\n\n            case 'force-sync':\n                e.preventDefault();\n                handleForceSync(action);\n                break;\n\n            case 'reload-page':\n                e.preventDefault();\n                handleReloadPage(action);\n                break;\n        }\n    }\n\n    // ========================================================================\n    // ACTION HANDLERS\n    // ========================================================================\n\n    /**\n     * Schedule live reporting for a match\n     * @param {HTMLElement} element - The clicked element\n     */\n    function handleScheduleMatch(element) {\n        const matchId = element.dataset.id || window.matchDetailData.matchId;\n\n        if (!matchId) {\n            showErrorNotification('Match ID not found');\n            return;\n        }\n\n        if (!confirm('Schedule live reporting for this match?')) {\n            return;\n        }\n\n        // Show loading state\n        setButtonLoading(element, true);\n\n        fetch(`/admin/live-reporting/api/schedule-match/${matchId}`, {\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json',\n                'X-CSRFToken': getCSRFToken()\n            }\n        })\n        .then(response => response.json())\n        .then(data => {\n            if (data.success) {\n                showSuccessNotification(data.message);\n                // Reload page after short delay to show updated state\n                setTimeout(() => location.reload(), 1500);\n            } else {\n                showErrorNotification(data.error || 'Failed to schedule match');\n                setButtonLoading(element, false);\n            }\n        })\n        .catch(error => {\n            console.error('[Schedule Match] Error:', error);\n            showErrorNotification('Error scheduling match');\n            setButtonLoading(element, false);\n        });\n    }\n\n    /**\n     * Stop a live reporting session\n     * @param {HTMLElement} element - The clicked element\n     */\n    function handleStopSession(element) {\n        const sessionId = element.dataset.id || window.matchDetailData.sessionId;\n\n        if (!sessionId) {\n            showErrorNotification('Session ID not found');\n            return;\n        }\n\n        if (!confirm('Stop this live reporting session?')) {\n            return;\n        }\n\n        // Show loading state\n        setButtonLoading(element, true);\n\n        fetch(`/admin/live-reporting/api/session/${sessionId}/stop`, {\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json',\n                'X-CSRFToken': getCSRFToken()\n            }\n        })\n        .then(response => response.json())\n        .then(data => {\n            if (data.success) {\n                showSuccessNotification(data.message);\n                // Reload page after short delay to show updated state\n                setTimeout(() => location.reload(), 1500);\n            } else {\n                showErrorNotification(data.error || 'Failed to stop session');\n                setButtonLoading(element, false);\n            }\n        })\n        .catch(error => {\n            console.error('[Stop Session] Error:', error);\n            showErrorNotification('Error stopping session');\n            setButtonLoading(element, false);\n        });\n    }\n\n    /**\n     * Refresh a live reporting session\n     * @param {HTMLElement} element - The clicked element\n     */\n    function handleRefreshSession(element) {\n        const sessionId = element.dataset.sessionId || window.matchDetailData.sessionId;\n\n        if (!sessionId) {\n            showErrorNotification('Session ID not found');\n            return;\n        }\n\n        // Show loading state\n        setButtonLoading(element, true);\n\n        fetch(`/admin/live-reporting/api/session/${sessionId}/refresh`, {\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json',\n                'X-CSRFToken': getCSRFToken()\n            }\n        })\n        .then(response => response.json())\n        .then(data => {\n            if (data.success) {\n                showSuccessNotification(data.message || 'Session refreshed');\n                // Reload page after short delay to show updated state\n                setTimeout(() => location.reload(), 1000);\n            } else {\n                showErrorNotification(data.error || 'Failed to refresh session');\n                setButtonLoading(element, false);\n            }\n        })\n        .catch(error => {\n            console.error('[Refresh Session] Error:', error);\n            showErrorNotification('Error refreshing session');\n            setButtonLoading(element, false);\n        });\n    }\n\n    /**\n     * Force synchronization with real-time service\n     * @param {HTMLElement} element - The clicked element\n     */\n    function handleForceSync(element) {\n        if (!confirm('Force synchronization with real-time service?')) {\n            return;\n        }\n\n        // Show loading state\n        setButtonLoading(element, true);\n\n        fetch('/admin/live-reporting/api/force-sync', {\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json',\n                'X-CSRFToken': getCSRFToken()\n            }\n        })\n        .then(response => response.json())\n        .then(data => {\n            if (data.success) {\n                showSuccessNotification(data.message || 'Sync successful');\n                // Reload page after short delay to show updated state\n                setTimeout(() => location.reload(), 1500);\n            } else {\n                showErrorNotification(data.error || 'Sync failed');\n                setButtonLoading(element, false);\n            }\n        })\n        .catch(error => {\n            console.error('[Force Sync] Error:', error);\n            showErrorNotification('Error performing sync');\n            setButtonLoading(element, false);\n        });\n    }\n\n    /**\n     * Reload the current page\n     * @param {HTMLElement} element - The clicked element\n     */\n    function handleReloadPage(element) {\n        // Show loading state\n        setButtonLoading(element, true);\n        location.reload();\n    }\n\n    // ========================================================================\n    // UTILITY FUNCTIONS\n    // ========================================================================\n\n    /**\n     * Get CSRF token from meta tag or cookie\n     * @returns {string} CSRF token\n     */\n    function getCSRFToken() {\n        // Try meta tag first\n        const metaTag = document.querySelector('meta[name=\"csrf-token\"]');\n        if (metaTag) {\n            return metaTag.getAttribute('content');\n        }\n\n        // Try cookie as fallback\n        const cookieValue = document.cookie\n            .split('; ')\n            .find(row => row.startsWith('csrf_token='));\n\n        return cookieValue ? cookieValue.split('=')[1] : '';\n    }\n\n    /**\n     * Set loading state on a button\n     * @param {HTMLElement} button - Button element\n     * @param {boolean} isLoading - Loading state\n     */\n    function setButtonLoading(button, isLoading) {\n        if (isLoading) {\n            button.disabled = true;\n            button.classList.add('is-loading');\n\n            // Store original content\n            if (!button.dataset.originalContent) {\n                button.dataset.originalContent = button.innerHTML;\n            }\n\n            // Show spinner\n            const icon = button.querySelector('i');\n            if (icon) {\n                icon.className = 'fas fa-spinner fa-spin';\n            }\n        } else {\n            button.disabled = false;\n            button.classList.remove('is-loading');\n\n            // Restore original content\n            if (button.dataset.originalContent) {\n                button.innerHTML = button.dataset.originalContent;\n                delete button.dataset.originalContent;\n            }\n        }\n    }\n\n    /**\n     * Show success notification\n     * @param {string} message - Success message\n     */\n    function showSuccessNotification(message) {\n        // Use native alert as fallback (can be replaced with toast library)\n        if (typeof toastr !== 'undefined') {\n            toastr.success(message);\n        } else {\n            alert(`Success: ${message}`);\n        }\n    }\n\n    /**\n     * Show error notification\n     * @param {string} message - Error message\n     */\n    function showErrorNotification(message) {\n        // Use native alert as fallback (can be replaced with toast library)\n        if (typeof toastr !== 'undefined') {\n            toastr.error(message);\n        } else {\n            alert(`Error: ${message}`);\n        }\n    }\n\n    // ========================================================================\n    // EXPOSE PUBLIC API (if needed)\n    // ========================================================================\n\n    // Expose specific functions if they need to be called from other scripts\n    window.MatchDetail = {\n        scheduleMatch: handleScheduleMatch,\n        stopSession: handleStopSession,\n        forceSync: handleForceSync\n    };\n\n})();\n","document.addEventListener('DOMContentLoaded', function() {\n    // Auto-refresh stats every 30 seconds\n    let autoRefresh = setInterval(refreshStats, 30000);\n\n    // Manual refresh button\n    const refreshButton = document.getElementById('refresh-stats');\n    if (refreshButton) {\n        refreshButton.addEventListener('click', function() {\n            refreshStats();\n            this.innerHTML = '<i class=\"fas fa-sync-alt fa-spin\"></i> Refreshing...';\n            setTimeout(() => {\n                this.innerHTML = '<i class=\"fas fa-sync-alt\"></i> Refresh';\n            }, 1000);\n        });\n    }\n\n    // Cache test button\n    const testButton = document.getElementById('test-cache');\n    if (testButton) {\n        testButton.addEventListener('click', function() {\n            testCache();\n        });\n    }\n\n    function refreshStats() {\n        const refreshUrl = document.getElementById('refresh-stats')?.dataset.refreshUrl;\n        if (!refreshUrl) return;\n\n        fetch(refreshUrl)\n            .then(response => response.json())\n            .then(data => {\n                if (!data.error) {\n                    // Update the display with new stats\n                    location.reload(); // Simple reload for now\n                }\n            })\n            .catch(error => console.error('Error refreshing stats:', error));\n    }\n\n    function testCache() {\n        const button = document.getElementById('test-cache');\n        const result = document.getElementById('test-result');\n        const testUrl = button?.dataset.testUrl;\n\n        if (!button || !testUrl) return;\n\n        button.innerHTML = '<i class=\"fas fa-spinner fa-spin\"></i> Testing...';\n        button.disabled = true;\n\n        fetch(testUrl)\n            .then(response => response.json())\n            .then(data => {\n                if (data.status === 'success') {\n                    result.innerHTML = '<div class=\"alert alert-success\"><i class=\"fas fa-check\"></i> ' + data.message + '</div>';\n                } else {\n                    result.innerHTML = '<div class=\"alert alert-danger\"><i class=\"fas fa-times\"></i> ' + data.message + '</div>';\n                }\n            })\n            .catch(error => {\n                result.innerHTML = '<div class=\"alert alert-danger\"><i class=\"fas fa-times\"></i> Cache test failed: ' + error + '</div>';\n            })\n            .finally(() => {\n                button.innerHTML = '<i class=\"fas fa-vial\"></i> Test Cache Connection';\n                button.disabled = false;\n            });\n    }\n});\n","$(document).ready(function() {\n    // Live preview functionality\n    function updatePreview() {\n        const title = $('#title').val() || 'Poll Title';\n        const question = $('#question').val() || 'Your poll question will appear here...';\n\n        $('#preview-title').text(title);\n        $('#preview-question').text(question);\n    }\n\n    $('#title, #question').on('input', updatePreview);\n    updatePreview(); // Initial update\n});\n","$(document).ready(function() {\n    if ($.fn.DataTable.isDataTable('#pollsTable')) {\n        $('#pollsTable').DataTable().destroy();\n    }\n\n    $('#pollsTable').DataTable({\n        \"order\": [[ 3, \"desc\" ]], // Order by created date, newest first\n        \"pageLength\": 25,\n        \"responsive\": true,\n        \"columnDefs\": [\n            { \"orderable\": false, \"targets\": [5] } // Disable sorting on actions column\n        ]\n    });\n});\n","/**\n * Manage Roles Page\n * Handles role permission management with Select2 integration\n */\n\n(function() {\n    'use strict';\n\n    const ManageRoles = {\n        init() {\n            this.initializeSelect2();\n            this.setupRoleChangeHandler();\n        },\n\n        initializeSelect2() {\n            // Check if jQuery and Select2 are available\n            if (typeof $ === 'undefined' || typeof $.fn.select2 === 'undefined') {\n                console.warn('Select2 or jQuery not available. Using basic select.');\n                return;\n            }\n\n            // Initialize Select2 for permissions select\n            $('#permissions').select2({\n                placeholder: 'Select permissions...',\n                width: '100%',\n                theme: 'bootstrap-5',\n                closeOnSelect: false\n            });\n        },\n\n        setupRoleChangeHandler() {\n            const roleSelect = document.getElementById('role_id');\n            if (!roleSelect) return;\n\n            roleSelect.addEventListener('change', () => {\n                const roleId = roleSelect.value;\n                if (roleId) {\n                    this.loadRolePermissions(roleId);\n                }\n            });\n\n            // Trigger change if a role is selected on page load\n            if (roleSelect.value) {\n                this.loadRolePermissions(roleSelect.value);\n            }\n        },\n\n        loadRolePermissions(roleId) {\n            // Get CSRF token\n            const csrfToken = document.querySelector('meta[name=\"csrf-token\"]')?.getAttribute('content') ||\n                             document.querySelector('[name=\"csrf_token\"]')?.value;\n\n            fetch('/admin/get_role_permissions', {\n                method: 'GET',\n                headers: {\n                    'Content-Type': 'application/json',\n                    'X-CSRFToken': csrfToken\n                },\n                credentials: 'same-origin'\n            })\n            .then(response => {\n                const url = new URL(response.url);\n                url.searchParams.append('role_id', roleId);\n                return fetch(url.toString());\n            })\n            .then(response => {\n                if (!response.ok) {\n                    throw new Error('Failed to load role permissions');\n                }\n                return response.json();\n            })\n            .then(data => {\n                const permissionsSelect = document.getElementById('permissions');\n                if (!permissionsSelect) return;\n\n                // Update selected permissions\n                if (typeof $ !== 'undefined' && typeof $.fn.select2 !== 'undefined') {\n                    // Use Select2 method\n                    $('#permissions').val(data.permissions).trigger('change');\n                } else {\n                    // Vanilla JS fallback\n                    Array.from(permissionsSelect.options).forEach(option => {\n                        option.selected = data.permissions.includes(option.value);\n                    });\n                }\n            })\n            .catch(error => {\n                console.error('Error loading role permissions:', error);\n                this.showAlert('Failed to load permissions for the selected role.', 'danger');\n            });\n        },\n\n        showAlert(message, category = 'info') {\n            const alertsContainer = document.querySelector('[data-component=\"alerts\"]');\n            if (!alertsContainer) return;\n\n            const alert = document.createElement('div');\n            alert.className = `c-alert c-alert--${category}`;\n            alert.setAttribute('role', 'alert');\n            alert.setAttribute('data-alert', '');\n            alert.innerHTML = `\n                <i class=\"ti ti-${category === 'success' ? 'check-circle' : 'alert-circle'} c-alert__icon\"></i>\n                <span class=\"c-alert__text\">${message}</span>\n            `;\n\n            alertsContainer.appendChild(alert);\n\n            // Auto-dismiss after 5 seconds\n            setTimeout(() => {\n                alert.remove();\n            }, 5000);\n        }\n    };\n\n    // Initialize on DOM ready\n    if (document.readyState === 'loading') {\n        document.addEventListener('DOMContentLoaded', () => ManageRoles.init());\n    } else {\n        ManageRoles.init();\n    }\n})();\n","/**\n * Manage Teams Page\n * Handles team CRUD operations with modal interactions\n */\n\n(function() {\n    'use strict';\n\n    const ManageTeams = {\n        init() {\n            this.setupEventDelegation();\n            this.setupModalHandlers();\n            this.setupFormValidation();\n        },\n\n        setupEventDelegation() {\n            document.addEventListener('click', (e) => {\n                const target = e.target.closest('[data-action]');\n                if (!target) return;\n\n                const action = target.dataset.action;\n\n                switch(action) {\n                    case 'open-add-team-modal':\n                        this.handleOpenAddTeamModal(target);\n                        break;\n                    case 'open-edit-team-modal':\n                        this.handleOpenEditTeamModal(target);\n                        break;\n                    case 'delete-team':\n                        this.handleDeleteTeam(target);\n                        break;\n                }\n            });\n        },\n\n        setupModalHandlers() {\n            // Add Team Modal\n            const addTeamModal = document.getElementById('addTeamModal');\n            if (addTeamModal) {\n                addTeamModal.addEventListener('show.bs.modal', (event) => {\n                    const button = event.relatedTarget;\n                    if (!button) return;\n\n                    const leagueName = button.dataset.leagueName;\n                    const seasonId = button.dataset.seasonId;\n                    const seasonName = button.dataset.seasonName;\n\n                    const modalLeagueNameInput = addTeamModal.querySelector('#modal_league_name');\n                    const modalSeasonIdInput = addTeamModal.querySelector('#modal_season_id');\n\n                    if (modalLeagueNameInput) modalLeagueNameInput.value = leagueName;\n                    if (modalSeasonIdInput) modalSeasonIdInput.value = seasonId;\n\n                    const modalTitle = addTeamModal.querySelector('.modal-title');\n                    if (modalTitle) {\n                        modalTitle.textContent = `Add Team to ${leagueName} (${seasonName})`;\n                    }\n                });\n            }\n\n            // Edit Team Modal\n            const editTeamModal = document.getElementById('editTeamModal');\n            if (editTeamModal) {\n                editTeamModal.addEventListener('show.bs.modal', (event) => {\n                    const button = event.relatedTarget;\n                    if (!button) return;\n\n                    const teamId = button.dataset.teamId;\n                    const teamName = button.dataset.teamName;\n                    const leagueName = button.dataset.leagueName;\n                    const seasonId = button.dataset.seasonId;\n\n                    const modalTeamNameInput = editTeamModal.querySelector('#edit_team_name');\n                    const modalTeamIdInput = editTeamModal.querySelector('#modal_team_id');\n                    const modalLeagueNameInput = editTeamModal.querySelector('#edit_modal_league_name');\n                    const modalSeasonIdInput = editTeamModal.querySelector('#edit_modal_season_id');\n\n                    if (modalTeamNameInput) modalTeamNameInput.value = teamName;\n                    if (modalTeamIdInput) modalTeamIdInput.value = teamId;\n                    if (modalLeagueNameInput) modalLeagueNameInput.value = leagueName;\n                    if (modalSeasonIdInput) modalSeasonIdInput.value = seasonId;\n\n                    const modalTitle = editTeamModal.querySelector('.modal-title');\n                    if (modalTitle) {\n                        modalTitle.textContent = `Edit Team: ${teamName}`;\n                    }\n                });\n            }\n        },\n\n        setupFormValidation() {\n            const forms = document.querySelectorAll('.needs-validation');\n            forms.forEach(form => {\n                form.addEventListener('submit', (event) => {\n                    if (!form.checkValidity()) {\n                        event.preventDefault();\n                        event.stopPropagation();\n                    }\n                    form.classList.add('was-validated');\n                });\n            });\n        },\n\n        handleOpenAddTeamModal(target) {\n            // Already handled by Bootstrap data attributes\n        },\n\n        handleOpenEditTeamModal(target) {\n            // Already handled by Bootstrap data attributes\n        },\n\n        handleDeleteTeam(target) {\n            const teamId = target.dataset.teamId;\n            const teamName = target.dataset.teamName;\n\n            if (typeof Swal !== 'undefined') {\n                Swal.fire({\n                    title: 'Are you sure?',\n                    html: `Do you really want to delete <strong>${teamName}</strong>?<br><br>` +\n                          '<span class=\"text-danger\">This action cannot be undone.</span>',\n                    icon: 'warning',\n                    showCancelButton: true,\n                    confirmButtonColor: this.getThemeColor('danger', '#dc3545'),\n                    cancelButtonColor: this.getThemeColor('secondary', '#6c757d'),\n                    confirmButtonText: 'Yes, delete it!',\n                    cancelButtonText: 'Cancel'\n                }).then((result) => {\n                    if (result.isConfirmed) {\n                        this.deleteTeam(teamId);\n                    }\n                });\n            } else {\n                if (confirm(`Do you really want to delete ${teamName}?\\n\\nThis action cannot be undone.`)) {\n                    this.deleteTeam(teamId);\n                }\n            }\n        },\n\n        deleteTeam(teamId) {\n            const form = document.createElement('form');\n            form.method = 'POST';\n            form.action = '/publeague/delete_team';\n\n            // Add CSRF token\n            const csrfToken = document.querySelector('meta[name=\"csrf-token\"]')?.getAttribute('content') ||\n                             document.querySelector('[name=\"csrf_token\"]')?.value;\n\n            if (csrfToken) {\n                const csrfInput = document.createElement('input');\n                csrfInput.type = 'hidden';\n                csrfInput.name = 'csrf_token';\n                csrfInput.value = csrfToken;\n                form.appendChild(csrfInput);\n            }\n\n            // Add team ID\n            const teamIdInput = document.createElement('input');\n            teamIdInput.type = 'hidden';\n            teamIdInput.name = 'team_id';\n            teamIdInput.value = teamId;\n            form.appendChild(teamIdInput);\n\n            document.body.appendChild(form);\n            form.submit();\n        },\n\n        getThemeColor(colorName, fallback) {\n            if (typeof ECSTheme !== 'undefined' && ECSTheme.getColor) {\n                return ECSTheme.getColor(colorName);\n            }\n\n            const root = getComputedStyle(document.documentElement);\n            const cssVar = root.getPropertyValue(`--ecs-${colorName}`).trim();\n\n            return cssVar || fallback;\n        }\n    };\n\n    // Initialize on DOM ready\n    if (document.readyState === 'loading') {\n        document.addEventListener('DOMContentLoaded', () => ManageTeams.init());\n    } else {\n        ManageTeams.init();\n    }\n})();\n","/**\n * User Approval Management JavaScript\n * Handles user approval and denial functionality for league placement\n */\n\n// Global variables\nlet currentUserId = null;\nlet approvalModal = null;\nlet denialModal = null;\nlet playerDetailsModal = null;\n\n// Initialize when document is ready\ndocument.addEventListener('DOMContentLoaded', function() {\n    initializeModals();\n    initializeFormSubmitListeners();\n});\n\n/**\n * Initialize Bootstrap modals\n */\nfunction initializeModals() {\n    const approvalModalElement = document.getElementById('approvalModal');\n    const denialModalElement = document.getElementById('denialModal');\n    const playerDetailsModalElement = document.getElementById('playerDetailsModal');\n\n    if (approvalModalElement) {\n        approvalModal = ModalManager.getInstance('approvalModal');\n    }\n\n    if (denialModalElement) {\n        denialModal = ModalManager.getInstance('denialModal');\n    }\n\n    if (playerDetailsModalElement) {\n        playerDetailsModal = ModalManager.getInstance('playerDetailsModal');\n    }\n}\n\n/**\n * Initialize form submit event listeners\n * Note: Click handlers are managed by centralized event delegation\n */\nfunction initializeFormSubmitListeners() {\n    // Handle form submissions\n    const approvalForm = document.getElementById('approvalForm');\n    const denialForm = document.getElementById('denialForm');\n\n    if (approvalForm) {\n        approvalForm.addEventListener('submit', function(e) {\n            e.preventDefault();\n            submitApproval();\n        });\n    }\n\n    if (denialForm) {\n        denialForm.addEventListener('submit', function(e) {\n            e.preventDefault();\n            submitDenial();\n        });\n    }\n}\n\n/**\n * Show approval modal for a user\n * @param {number} userId - The user ID to approve\n */\nfunction showApprovalModal(userId) {\n    if (!approvalModal) {\n        showErrorAlert('Modal not initialized');\n        return;\n    }\n\n    currentUserId = userId;\n\n    // Reset form\n    document.getElementById('approvalForm').reset();\n    document.getElementById('approvalUserId').value = userId;\n\n    // Show modal\n    approvalModal.show();\n\n    // Focus on league select\n    setTimeout(() => {\n        document.getElementById('leagueSelect').focus();\n    }, 300);\n}\n\n/**\n * Show denial modal for a user\n * @param {number} userId - The user ID to deny\n */\nfunction showDenialModal(userId) {\n    if (!denialModal) {\n        showErrorAlert('Modal not initialized');\n        return;\n    }\n\n    currentUserId = userId;\n\n    // Reset form\n    document.getElementById('denialForm').reset();\n    document.getElementById('denialUserId').value = userId;\n\n    // Show modal\n    denialModal.show();\n\n    // Focus on notes textarea\n    setTimeout(() => {\n        document.getElementById('denialNotes').focus();\n    }, 300);\n}\n\n/**\n * Submit user approval\n */\nfunction submitApproval() {\n    const form = document.getElementById('approvalForm');\n    const formData = new FormData(form);\n    const userId = document.getElementById('approvalUserId').value;\n\n    if (!userId) {\n        showErrorAlert('User ID is required');\n        return;\n    }\n\n    // Validate league selection\n    const leagueType = formData.get('league_type');\n    if (!leagueType) {\n        showErrorAlert('Please select a league');\n        return;\n    }\n\n    // Disable submit button using data attribute selector\n    const submitButton = document.querySelector('[data-action=\"approve-user\"]');\n    const originalText = submitButton.innerHTML;\n    submitButton.disabled = true;\n    submitButton.innerHTML = '<i class=\"ti ti-loader\"></i> Processing...';\n\n    // Submit request\n    fetch(`/admin/user-approvals/approve/${userId}`, {\n        method: 'POST',\n        body: formData,\n        headers: {\n            'X-CSRFToken': getCSRFToken()\n        }\n    })\n    .then(response => response.json())\n    .then(data => {\n        if (data.success) {\n            showSuccessAlert(data.message);\n\n            // Remove the user row from the table\n            removeUserFromTable(userId);\n\n            // Update stats\n            userApprovalUpdateStats();\n\n            // Hide modal\n            approvalModal.hide();\n        } else {\n            showErrorAlert(data.message || 'Error processing approval');\n        }\n    })\n    .catch(error => {\n        console.error('Error:', error);\n        showErrorAlert('Network error occurred');\n    })\n    .finally(() => {\n        // Re-enable submit button\n        submitButton.disabled = false;\n        submitButton.innerHTML = originalText;\n    });\n}\n\n/**\n * Submit user denial\n */\nfunction submitDenial() {\n    const form = document.getElementById('denialForm');\n    const formData = new FormData(form);\n    const userId = document.getElementById('denialUserId').value;\n\n    if (!userId) {\n        showErrorAlert('User ID is required');\n        return;\n    }\n\n    // Validate notes\n    const notes = formData.get('notes');\n    if (!notes || notes.trim().length < 10) {\n        showErrorAlert('Please provide a detailed reason for denial (at least 10 characters)');\n        return;\n    }\n\n    // Disable submit button using data attribute selector\n    const submitButton = document.querySelector('[data-action=\"deny-user\"]');\n    const originalText = submitButton.innerHTML;\n    submitButton.disabled = true;\n    submitButton.innerHTML = '<i class=\"ti ti-loader\"></i> Processing...';\n\n    // Submit request\n    fetch(`/admin/user-approvals/deny/${userId}`, {\n        method: 'POST',\n        body: formData,\n        headers: {\n            'X-CSRFToken': getCSRFToken()\n        }\n    })\n    .then(response => response.json())\n    .then(data => {\n        if (data.success) {\n            showSuccessAlert(data.message);\n\n            // Remove the user row from the table\n            removeUserFromTable(userId);\n\n            // Update stats\n            userApprovalUpdateStats();\n\n            // Hide modal\n            denialModal.hide();\n        } else {\n            showErrorAlert(data.message || 'Error processing denial');\n        }\n    })\n    .catch(error => {\n        console.error('Error:', error);\n        showErrorAlert('Network error occurred');\n    })\n    .finally(() => {\n        // Re-enable submit button\n        submitButton.disabled = false;\n        submitButton.innerHTML = originalText;\n    });\n}\n\n/**\n * Remove user row from the table\n * @param {number} userId - The user ID to remove\n */\nfunction removeUserFromTable(userId) {\n    const table = document.querySelector('[data-role=\"approval-table\"]');\n    if (!table) return;\n\n    const rows = table.querySelectorAll('[data-role=\"user-row\"]');\n    rows.forEach(row => {\n        const rowUserId = row.getAttribute('data-user-id');\n        if (rowUserId && parseInt(rowUserId) === parseInt(userId)) {\n            // Add fade out animation using CSS class\n            row.classList.add('fade-out');\n\n            // Remove after animation\n            setTimeout(() => {\n                row.remove();\n\n                // Check if table is empty\n                const remainingRows = table.querySelectorAll('[data-role=\"user-row\"]');\n                if (remainingRows.length === 0) {\n                    showEmptyTableMessage();\n                }\n            }, 300);\n        }\n    });\n}\n\n/**\n * Show empty table message\n */\nfunction showEmptyTableMessage() {\n    const container = document.querySelector('[data-role=\"table-container\"]');\n    if (container) {\n        container.innerHTML = `\n            <div class=\"text-center py-4\">\n                <i class=\"ti ti-users empty-table-icon\"></i>\n                <h6 class=\"mt-3\">No pending approvals</h6>\n                <p class=\"text-muted\">All users have been processed</p>\n            </div>\n        `;\n    }\n}\n\n/**\n * Update statistics display\n */\nfunction userApprovalUpdateStats() {\n    fetch('/admin/user-approvals/stats')\n        .then(response => response.json())\n        .then(data => {\n            if (data.success) {\n                const stats = data.stats;\n\n                // Update stats cards using data attributes\n                const pendingCard = document.querySelector('[data-role=\"stats-card\"][data-status=\"pending\"]');\n                const approvedCard = document.querySelector('[data-role=\"stats-card\"][data-status=\"approved\"]');\n                const deniedCard = document.querySelector('[data-role=\"stats-card\"][data-status=\"denied\"]');\n                const totalCard = document.querySelector('[data-role=\"stats-card\"][data-status=\"total\"]');\n\n                if (pendingCard) {\n                    const numberEl = pendingCard.querySelector('[data-role=\"stats-number\"]');\n                    if (numberEl) numberEl.textContent = stats.pending;\n                }\n                if (approvedCard) {\n                    const numberEl = approvedCard.querySelector('[data-role=\"stats-number\"]');\n                    if (numberEl) numberEl.textContent = stats.approved;\n                }\n                if (deniedCard) {\n                    const numberEl = deniedCard.querySelector('[data-role=\"stats-number\"]');\n                    if (numberEl) numberEl.textContent = stats.denied;\n                }\n                if (totalCard) {\n                    const numberEl = totalCard.querySelector('[data-role=\"stats-number\"]');\n                    if (numberEl) numberEl.textContent = stats.total;\n                }\n\n                // Update badge in card header\n                const pendingBadge = document.querySelector('[data-role=\"pending-count-badge\"]');\n                if (pendingBadge) {\n                    pendingBadge.textContent = `${stats.pending} pending`;\n                }\n            }\n        })\n        .catch(error => {\n            console.error('Error updating stats:', error);\n        });\n}\n\n/**\n * Refresh stats manually\n */\nfunction refreshStats() {\n    const refreshButton = document.querySelector('[data-action=\"refresh-stats\"]');\n    if (refreshButton) {\n        const originalText = refreshButton.innerHTML;\n        refreshButton.innerHTML = '<i class=\"ti ti-loader\"></i> Refreshing...';\n        refreshButton.disabled = true;\n\n        setTimeout(() => {\n            userApprovalUpdateStats();\n            refreshButton.innerHTML = originalText;\n            refreshButton.disabled = false;\n        }, 1000);\n    }\n}\n\n/**\n * Get CSRF token from meta tag or cookie\n * @returns {string} CSRF token\n */\nfunction getCSRFToken() {\n    // Try to get from meta tag first (vanilla JS pattern)\n    const csrfToken = document.querySelector('meta[name=csrf-token]')?.getAttribute('content') || '';\n\n    // If not found in meta tag, try cookie as fallback\n    if (!csrfToken) {\n        const cookieValue = document.cookie\n            .split('; ')\n            .find(row => row.startsWith('csrf_token='))\n            ?.split('=')[1];\n        return cookieValue || '';\n    }\n\n    return csrfToken;\n}\n\n/**\n * Show success alert\n * @param {string} message - Success message\n */\nfunction showSuccessAlert(message) {\n    if (typeof Swal !== 'undefined') {\n        Swal.fire({\n            icon: 'success',\n            title: 'Success!',\n            text: message,\n            showConfirmButton: false,\n            timer: 3000,\n            toast: true,\n            position: 'top-end'\n        });\n    } else {\n        alert(message);\n    }\n}\n\n/**\n * Show error alert\n * @param {string} message - Error message\n */\nfunction showErrorAlert(message) {\n    if (typeof Swal !== 'undefined') {\n        Swal.fire({\n            icon: 'error',\n            title: 'Error!',\n            text: message,\n            showConfirmButton: true\n        });\n    } else {\n        alert('Error: ' + message);\n    }\n}\n\n/**\n * Show warning alert\n * @param {string} message - Warning message\n */\nfunction showWarningAlert(message) {\n    if (typeof Swal !== 'undefined') {\n        Swal.fire({\n            icon: 'warning',\n            title: 'Warning!',\n            text: message,\n            showConfirmButton: true\n        });\n    } else {\n        alert('Warning: ' + message);\n    }\n}\n\n/**\n * Show info alert\n * @param {string} message - Info message\n */\nfunction showInfoAlert(message) {\n    if (typeof Swal !== 'undefined') {\n        Swal.fire({\n            icon: 'info',\n            title: 'Info',\n            text: message,\n            showConfirmButton: true\n        });\n    } else {\n        alert('Info: ' + message);\n    }\n}\n\n/**\n * Show player details modal\n * @param {number} userId - The user ID to show details for\n */\nfunction showPlayerDetails(userId) {\n    if (!playerDetailsModal) {\n        showErrorAlert('Details modal not initialized');\n        return;\n    }\n\n    // Show loading state\n    document.getElementById('playerDetailsContent').innerHTML = '<div class=\"text-center py-4\"><i class=\"ti ti-loader ti-spin\"></i> Loading player details...</div>';\n\n    // Show modal\n    playerDetailsModal.show();\n\n    // Fetch user details\n    fetch(`/admin/user-approvals/user/${userId}`)\n        .then(response => response.json())\n        .then(data => {\n            if (data.success) {\n                const user = data.user;\n                const player = user.player;\n\n                let detailsHtml = '<div class=\"player-details-header\">';\n\n                // Profile image or avatar\n                if (player && player.profile_picture_url) {\n                    detailsHtml += `<img src=\"${player.profile_picture_url}\" alt=\"${player.name}\" class=\"player-details-image\">`;\n                } else {\n                    detailsHtml += `<div class=\"player-details-avatar\">${user.username.charAt(0).toUpperCase()}</div>`;\n                }\n\n                // Basic info\n                detailsHtml += '<div class=\"player-details-info\">';\n                detailsHtml += `<h3>${user.username}</h3>`;\n                if (player) {\n                    detailsHtml += `<p class=\"text-muted mb-2\">${player.name}</p>`;\n                }\n                detailsHtml += `<p class=\"mb-0\">${user.email}</p>`;\n                detailsHtml += '</div>';\n                detailsHtml += '</div>';\n\n                // Account Information Section\n                detailsHtml += '<div class=\"player-details-section\">';\n                detailsHtml += '<h5>Account Information</h5>';\n                detailsHtml += '<div class=\"info-grid\">';\n\n                detailsHtml += '<div class=\"info-item\">';\n                detailsHtml += '<div class=\"info-label\">Registration Date</div>';\n                detailsHtml += `<div class=\"info-value\">${user.created_at ? new Date(user.created_at).toLocaleDateString() : 'Unknown'}</div>`;\n                detailsHtml += '</div>';\n\n                detailsHtml += '<div class=\"info-item\">';\n                detailsHtml += '<div class=\"info-label\">Status</div>';\n                detailsHtml += '<div class=\"info-value\"><span data-badge data-status=\"pending\">Pending Approval</span></div>';\n                detailsHtml += '</div>';\n\n                if (player && player.discord_id) {\n                    detailsHtml += '<div class=\"info-item\">';\n                    detailsHtml += '<div class=\"info-label\">Discord ID</div>';\n                    detailsHtml += `<div class=\"info-value\"><code>${player.discord_id}</code></div>`;\n                    detailsHtml += '</div>';\n                }\n\n                detailsHtml += '<div class=\"info-item\">';\n                detailsHtml += '<div class=\"info-label\">Current Roles</div>';\n                detailsHtml += '<div class=\"info-value\">';\n                detailsHtml += user.roles.map(role => `<span data-badge data-role=\"user-role\">${role}</span>`).join('');\n                detailsHtml += '</div>';\n                detailsHtml += '</div>';\n\n                detailsHtml += '</div>';\n                detailsHtml += '</div>';\n\n                // Player Information Section (if exists)\n                if (player) {\n                    detailsHtml += '<div class=\"player-details-section\">';\n                    detailsHtml += '<h5>Player Information</h5>';\n                    detailsHtml += '<div class=\"info-grid\">';\n\n                    if (player.pronouns) {\n                        detailsHtml += '<div class=\"info-item\">';\n                        detailsHtml += '<div class=\"info-label\">Pronouns</div>';\n                        detailsHtml += `<div class=\"info-value\">${player.pronouns}</div>`;\n                        detailsHtml += '</div>';\n                    }\n\n                    if (player.phone) {\n                        detailsHtml += '<div class=\"info-item\">';\n                        detailsHtml += '<div class=\"info-label\">Phone</div>';\n                        detailsHtml += `<div class=\"info-value\">${player.phone}</div>`;\n                        detailsHtml += '</div>';\n                    }\n\n                    if (player.jersey_size) {\n                        detailsHtml += '<div class=\"info-item\">';\n                        detailsHtml += '<div class=\"info-label\">Jersey Size</div>';\n                        detailsHtml += `<div class=\"info-value\">${player.jersey_size}</div>`;\n                        detailsHtml += '</div>';\n                    }\n\n                    if (player.favorite_position) {\n                        detailsHtml += '<div class=\"info-item\">';\n                        detailsHtml += '<div class=\"info-label\">Favorite Position</div>';\n                        detailsHtml += `<div class=\"info-value\">${player.favorite_position}</div>`;\n                        detailsHtml += '</div>';\n                    }\n\n                    // Only show player status if user is approved\n                    if (user.approval_status === 'approved') {\n                        detailsHtml += '<div class=\"info-item\">';\n                        detailsHtml += '<div class=\"info-label\">Player Status</div>';\n                        detailsHtml += `<div class=\"info-value\">${player.is_current_player ? '<span data-badge data-status=\"active\">Active</span>' : '<span data-badge data-status=\"inactive\">Inactive</span>'}</div>`;\n                        detailsHtml += '</div>';\n\n                        if (player.is_coach) {\n                            detailsHtml += '<div class=\"info-item\">';\n                            detailsHtml += '<div class=\"info-label\">Coach Status</div>';\n                            detailsHtml += '<div class=\"info-value\"><span data-badge data-role=\"coach\">Coach</span></div>';\n                            detailsHtml += '</div>';\n                        }\n\n                        if (player.is_sub) {\n                            detailsHtml += '<div class=\"info-item\">';\n                            detailsHtml += '<div class=\"info-label\">Substitute Status</div>';\n                            detailsHtml += '<div class=\"info-value\"><span data-badge data-role=\"substitute\">Substitute</span></div>';\n                            detailsHtml += '</div>';\n                        }\n                    } else {\n                        // For pending users, show that they're awaiting approval\n                        detailsHtml += '<div class=\"info-item\">';\n                        detailsHtml += '<div class=\"info-label\">Player Status</div>';\n                        detailsHtml += '<div class=\"info-value\"><span data-badge data-status=\"pending\">Awaiting Approval</span></div>';\n                        detailsHtml += '</div>';\n                    }\n\n                    detailsHtml += '</div>';\n                    detailsHtml += '</div>';\n                }\n\n                document.getElementById('playerDetailsContent').innerHTML = detailsHtml;\n\n                // Update profile link\n                const profileLink = document.getElementById('profileLink');\n                if (player) {\n                    profileLink.href = `/players/profile/${player.id}`;\n                    profileLink.classList.remove('profile-link-hidden');\n                    profileLink.classList.add('profile-link-visible');\n                } else {\n                    profileLink.classList.remove('profile-link-visible');\n                    profileLink.classList.add('profile-link-hidden');\n                }\n            } else {\n                document.getElementById('playerDetailsContent').innerHTML = '<div class=\"text-center text-danger py-4\">Error loading player details</div>';\n            }\n        })\n        .catch(error => {\n            console.error('Error loading details:', error);\n            document.getElementById('playerDetailsContent').innerHTML = '<div class=\"text-center text-danger py-4\">Error loading player details</div>';\n        });\n}\n\n// Export functions for global use\nwindow.showApprovalModal = showApprovalModal;\nwindow.showDenialModal = showDenialModal;\nwindow.submitApproval = submitApproval;\nwindow.submitDenial = submitDenial;\nwindow.refreshStats = refreshStats;\nwindow.showPlayerDetails = showPlayerDetails;\n","/**\n * Calendar Subscription Module\n *\n * Handles iCal subscription management in the settings page.\n * Provides subscription URL display, copy functionality, and preference management.\n */\n\n'use strict';\n\nconst CalendarSubscription = (function() {\n    // State\n    let subscription = null;\n    let isLoading = false;\n\n    /**\n     * Initialize the calendar subscription module\n     */\n    function init() {\n        loadSubscription();\n        bindEvents();\n    }\n\n    /**\n     * Bind event handlers\n     * NOTE: Event handlers are now managed by the centralized EventDelegation system.\n     * Actions are registered in /app/static/js/event-delegation.js\n     * Elements use data-action and data-on-change attributes for delegation.\n     */\n    function bindEvents() {\n        // All event handlers moved to EventDelegation system:\n        // - copy-subscription-url (click)\n        // - regenerate-subscription-token (click)\n        // - subscribe-webcal (click)\n        // - subscribe-google (click)\n        // - update-calendar-preferences (change)\n    }\n\n    /**\n     * Load the user's subscription data\n     */\n    async function loadSubscription() {\n        setLoading(true);\n\n        try {\n            const response = await fetch('/api/calendar/subscription', {\n                method: 'GET',\n                headers: {\n                    'X-Requested-With': 'XMLHttpRequest'\n                }\n            });\n\n            if (!response.ok) {\n                throw new Error('Failed to load subscription');\n            }\n\n            const data = await response.json();\n            subscription = data;\n            renderSubscription();\n\n        } catch (error) {\n            console.error('Error loading subscription:', error);\n            showError('Failed to load calendar subscription settings');\n        } finally {\n            setLoading(false);\n        }\n    }\n\n    /**\n     * Render subscription data in the UI\n     */\n    function renderSubscription() {\n        if (!subscription) return;\n\n        // Update URL display\n        const urlInput = document.getElementById('subscriptionUrl');\n        if (urlInput) {\n            urlInput.value = subscription.feed_url || '';\n        }\n\n        // Update webcal URL and feed URL for delegation\n        const webcalUrl = subscription.webcal_url;\n        const feedUrl = subscription.feed_url;\n\n        const webcalBtn = document.getElementById('subscribeWebcal');\n        if (webcalBtn && webcalUrl) {\n            webcalBtn.dataset.webcalUrl = webcalUrl;\n        }\n\n        const googleBtn = document.getElementById('subscribeGoogle');\n        if (googleBtn && feedUrl) {\n            googleBtn.dataset.feedUrl = feedUrl;\n        }\n\n        // Update preference toggles\n        const includeMatches = document.getElementById('subIncludeMatches');\n        if (includeMatches) {\n            includeMatches.checked = subscription.include_team_matches !== false;\n        }\n\n        const includeLeagueEvents = document.getElementById('subIncludeLeagueEvents');\n        if (includeLeagueEvents) {\n            includeLeagueEvents.checked = subscription.include_league_events !== false;\n        }\n\n        const includeRefAssignments = document.getElementById('subIncludeRefAssignments');\n        if (includeRefAssignments) {\n            includeRefAssignments.checked = subscription.include_ref_assignments !== false;\n        }\n\n        // Update stats\n        const lastAccessed = document.getElementById('subLastAccessed');\n        if (lastAccessed && subscription.last_accessed) {\n            const date = new Date(subscription.last_accessed);\n            lastAccessed.textContent = date.toLocaleDateString() + ' ' + date.toLocaleTimeString();\n        } else if (lastAccessed) {\n            lastAccessed.textContent = 'Never';\n        }\n\n        const accessCount = document.getElementById('subAccessCount');\n        if (accessCount) {\n            accessCount.textContent = subscription.access_count || 0;\n        }\n    }\n\n    /**\n     * NOTE: Event handler functions removed - now handled by EventDelegation system\n     * See /app/static/js/event-delegation.js for implementations:\n     * - copy-subscription-url\n     * - regenerate-subscription-token\n     * - subscribe-webcal\n     * - subscribe-google\n     * - update-calendar-preferences\n     */\n\n    /**\n     * Set loading state\n     * @param {boolean} loading\n     */\n    function setLoading(loading) {\n        isLoading = loading;\n        const loadingIndicator = document.getElementById('subscriptionLoading');\n        const content = document.getElementById('subscriptionContent');\n\n        if (loadingIndicator) {\n            loadingIndicator.classList.toggle('u-hidden', !loading);\n        }\n        if (content) {\n            content.classList.toggle('u-hidden', loading);\n        }\n    }\n\n    /**\n     * Show error message\n     * @param {string} message\n     */\n    function showError(message) {\n        const errorContainer = document.getElementById('subscriptionError');\n        if (errorContainer) {\n            errorContainer.textContent = message;\n            errorContainer.classList.remove('u-hidden');\n        }\n    }\n\n    /**\n     * Show toast notification\n     * @param {string} type - 'success', 'error', 'warning', 'info'\n     * @param {string} message\n     */\n    function showToast(type, message) {\n        // Use existing toast system if available\n        if (typeof window.showToast === 'function') {\n            window.showToast(type, message);\n            return;\n        }\n\n        // Fallback to Toastify\n        if (typeof Toastify !== 'undefined') {\n            // Use ECSTheme colors with gradient variations for toast backgrounds\n            const successColor = (typeof ECSTheme !== 'undefined') ? ECSTheme.getColor('success') : '#198754';\n            const successLight = (typeof ECSTheme !== 'undefined') ? ECSTheme.getColor('success-light') : '#198754';\n            const dangerColor = (typeof ECSTheme !== 'undefined') ? ECSTheme.getColor('danger') : '#dc3545';\n            const dangerLight = (typeof ECSTheme !== 'undefined') ? ECSTheme.getColor('danger-light') : '#dc3545';\n            const warningColor = (typeof ECSTheme !== 'undefined') ? ECSTheme.getColor('warning') : '#ffc107';\n            const warningLight = (typeof ECSTheme !== 'undefined') ? ECSTheme.getColor('warning-light') : '#ffc107';\n            const infoColor = (typeof ECSTheme !== 'undefined') ? ECSTheme.getColor('info') : '#0dcaf0';\n            const infoLight = (typeof ECSTheme !== 'undefined') ? ECSTheme.getColor('info-light') : '#0dcaf0';\n            const bgColors = {\n                success: `linear-gradient(to right, ${successColor}, ${successLight})`,\n                error: `linear-gradient(to right, ${dangerColor}, ${dangerLight})`,\n                warning: `linear-gradient(to right, ${warningColor}, ${warningLight})`,\n                info: `linear-gradient(to right, ${infoColor}, ${infoLight})`\n            };\n\n            Toastify({\n                text: message,\n                duration: 3000,\n                gravity: 'top',\n                position: 'right',\n                style: { background: bgColors[type] || bgColors.info }\n            }).showToast();\n            return;\n        }\n\n        // Final fallback\n        console.log(`[${type}] ${message}`);\n    }\n\n    /**\n     * Get the calendar subscription HTML for embedding in settings page\n     * @param {Object} options - Options (isReferee, etc.)\n     * @returns {string} HTML string\n     */\n    function getCardHTML(options = {}) {\n        const { isReferee = false } = options;\n\n        return `\n        <div class=\"js-settings-card u-card u-mb-4\" id=\"calendarSubscriptionCard\">\n            <div class=\"u-card-header u-flex u-align-center u-pb-2 u-border-bottom\">\n                <div class=\"js-settings-icon u-bg-info u-bg-opacity-10 u-text-info u-me-3\">\n                    <i class=\"ti ti-calendar-share\"></i>\n                </div>\n                <div>\n                    <h5 class=\"u-card-title u-mb-0\">Calendar Subscription</h5>\n                    <small class=\"u-text-muted\">Sync your schedule to Google, Apple, or Outlook</small>\n                </div>\n            </div>\n            <div class=\"u-card-body u-pt-3\">\n                <!-- Loading State -->\n                <div id=\"subscriptionLoading\" class=\"u-text-center u-py-4\">\n                    <div class=\"u-spinner u-text-primary\" role=\"status\">\n                        <span class=\"u-visually-hidden\">Loading...</span>\n                    </div>\n                    <p class=\"u-text-muted u-mt-2 u-mb-0\">Loading subscription...</p>\n                </div>\n\n                <!-- Error State -->\n                <div id=\"subscriptionError\" class=\"u-alert u-alert-danger u-hidden\"></div>\n\n                <!-- Content -->\n                <div id=\"subscriptionContent\" class=\"u-hidden\">\n                    <!-- Subscription URL -->\n                    <div class=\"u-mb-3\">\n                        <label class=\"u-form-label u-fw-semibold\">Your Subscription URL</label>\n                        <div class=\"u-input-group\">\n                            <input type=\"text\" class=\"u-form-control\" id=\"subscriptionUrl\" readonly\n                                   placeholder=\"Loading...\">\n                            <button class=\"js-copy-btn u-btn u-btn-outline-primary\" type=\"button\" id=\"copySubscriptionUrl\"\n                                    data-action=\"copy-subscription-url\">\n                                <i class=\"ti ti-copy u-me-1\"></i>Copy\n                            </button>\n                        </div>\n                        <small class=\"u-text-muted\">This is your personal calendar feed URL. Keep it private.</small>\n                    </div>\n\n                    <!-- Quick Subscribe Buttons -->\n                    <div class=\"u-mb-4\">\n                        <label class=\"u-form-label u-fw-semibold\">Quick Subscribe</label>\n                        <div class=\"u-flex u-gap-2 u-flex-wrap\">\n                            <button type=\"button\" class=\"js-subscribe-webcal u-btn u-btn-outline-secondary\" id=\"subscribeWebcal\"\n                                    data-action=\"subscribe-webcal\">\n                                <i class=\"ti ti-device-mobile u-me-1\"></i>iOS / macOS\n                            </button>\n                            <button type=\"button\" class=\"js-subscribe-google u-btn u-btn-outline-secondary\" id=\"subscribeGoogle\"\n                                    data-action=\"subscribe-google\">\n                                <i class=\"ti ti-brand-google u-me-1\"></i>Google Calendar\n                            </button>\n                        </div>\n                        <small class=\"u-text-muted u-block u-mt-2\">\n                            For Outlook: Copy the URL above and add it as a subscription calendar.\n                        </small>\n                    </div>\n\n                    <!-- Preferences -->\n                    <div class=\"u-mb-4\">\n                        <label class=\"u-form-label u-fw-semibold\">Include in Calendar</label>\n                        <div class=\"u-form-check u-form-switch u-mb-2\">\n                            <input class=\"u-form-check-input\" type=\"checkbox\" id=\"subIncludeMatches\" checked\n                                   data-on-change=\"update-calendar-preferences\">\n                            <label class=\"u-form-check-label\" for=\"subIncludeMatches\">\n                                <i class=\"ti ti-ball-football u-me-1\"></i>Team Matches\n                            </label>\n                        </div>\n                        <div class=\"u-form-check u-form-switch u-mb-2\">\n                            <input class=\"u-form-check-input\" type=\"checkbox\" id=\"subIncludeLeagueEvents\" checked\n                                   data-on-change=\"update-calendar-preferences\">\n                            <label class=\"u-form-check-label\" for=\"subIncludeLeagueEvents\">\n                                <i class=\"ti ti-calendar-event u-me-1\"></i>League Events\n                            </label>\n                        </div>\n                        ${isReferee ? `\n                        <div class=\"u-form-check u-form-switch u-mb-2\">\n                            <input class=\"u-form-check-input\" type=\"checkbox\" id=\"subIncludeRefAssignments\" checked\n                                   data-on-change=\"update-calendar-preferences\">\n                            <label class=\"u-form-check-label\" for=\"subIncludeRefAssignments\">\n                                <i class=\"ti ti-whistle u-me-1\"></i>Referee Assignments\n                            </label>\n                        </div>\n                        ` : '<div id=\"subIncludeRefAssignments\" class=\"u-hidden\"></div>'}\n                    </div>\n\n                    <!-- Stats -->\n                    <div class=\"u-row u-gap-3 u-mb-4\">\n                        <div class=\"u-col-6\">\n                            <div class=\"u-bg-light u-rounded u-p-3 u-text-center\">\n                                <small class=\"u-text-muted u-block\">Last Synced</small>\n                                <span class=\"u-fw-semibold\" id=\"subLastAccessed\">Never</span>\n                            </div>\n                        </div>\n                        <div class=\"u-col-6\">\n                            <div class=\"u-bg-light u-rounded u-p-3 u-text-center\">\n                                <small class=\"u-text-muted u-block\">Total Syncs</small>\n                                <span class=\"u-fw-semibold\" id=\"subAccessCount\">0</span>\n                            </div>\n                        </div>\n                    </div>\n\n                    <!-- Security -->\n                    <div class=\"u-border-top u-pt-3\">\n                        <h6 class=\"u-fw-semibold u-text-muted u-small u-text-uppercase u-mb-2\">Security</h6>\n                        <p class=\"u-text-muted u-small u-mb-3\">\n                            If you believe your subscription URL has been compromised, regenerate it below.\n                            This will invalidate your current URL.\n                        </p>\n                        <button type=\"button\" class=\"js-regenerate-token u-btn u-btn-outline-danger u-btn-sm\" id=\"regenerateSubscriptionToken\"\n                                data-action=\"regenerate-subscription-token\">\n                            <i class=\"ti ti-refresh u-me-1\"></i>Regenerate URL\n                        </button>\n                    </div>\n                </div>\n            </div>\n        </div>\n        `;\n    }\n\n    // Public API\n    return {\n        init,\n        loadSubscription,\n        getCardHTML\n    };\n})();\n\n// Auto-initialize when DOM is ready and on settings page\ndocument.addEventListener('DOMContentLoaded', function() {\n    // Check if we're on the settings page with the subscription card\n    if (document.getElementById('calendarSubscriptionCard')) {\n        CalendarSubscription.init();\n    }\n});\n\n// Export for use in other modules\nif (typeof module !== 'undefined' && module.exports) {\n    module.exports = CalendarSubscription;\n}\n","/**\n * ============================================================================\n * Draft Enhanced - Page-Specific JavaScript\n * ============================================================================\n *\n * Extracted from inline <script> tags in draft_enhanced.html\n * Uses event delegation and data-* attributes for event binding\n * All styling managed via CSS classes in /app/static/css/features/draft.css\n *\n * ============================================================================\n */\n\n// JavaScript version of format_position function\nfunction formatPosition(position) {\n    if (!position) return position;\n    return position.replace(/_/g, ' ').replace(/\\b\\w/g, l => l.toUpperCase());\n}\n\n// Initialize the draft system when the page loads\ndocument.addEventListener('DOMContentLoaded', function() {\n    // Add performance optimizations\n    if ('loading' in HTMLImageElement.prototype) {\n        const images = document.querySelectorAll('img[loading=\"lazy\"]');\n        images.forEach(img => {\n            img.addEventListener('load', function() {\n                this.classList.add('loaded');\n            });\n        });\n    }\n\n    // Add keyboard navigation\n    document.addEventListener('keydown', function(e) {\n        if (e.key === '/') {\n            e.preventDefault();\n            document.getElementById('playerSearch')?.focus();\n        }\n    });\n\n    console.log(' Draft System v2 loaded successfully');\n\n    // Update team counts on page load\n    updateAllTeamCounts();\n\n    // Setup live search functionality\n    setupLiveSearch();\n\n    // Set initial available player count\n    const initialCount = document.querySelectorAll('#available-players .player-card').length;\n    updateAvailablePlayerCount(initialCount);\n\n    // Setup event delegation for buttons\n    setupEventDelegation();\n\n    // Setup image error handlers\n    setupImageErrorHandlers();\n\n    // Listen for socket events to update team counts\n    setupDraftEnhancedSocket();\n});\n\n/**\n * Setup socket connection for draft enhanced page\n */\nfunction setupDraftEnhancedSocket() {\n    if (typeof io === 'undefined') return;\n\n    // Reuse existing global socket if available (from navbar presence)\n    // Check if socket EXISTS (not just connected) - it may still be connecting\n    let socket;\n    if (window.socket) {\n        console.log('[DraftEnhanced] Reusing existing socket (connected:', window.socket.connected, ')');\n        socket = window.socket;\n    } else {\n        // Create new socket if none exists\n        console.log('[DraftEnhanced] Creating new socket connection');\n        socket = io('/', {\n            // Use polling first to establish sticky session cookie with multiple workers\n            transports: ['polling', 'websocket'],\n            upgrade: true,\n            withCredentials: true\n        });\n        window.socket = socket;\n    }\n\n    // Store reference for other functions\n    window.draftEnhancedSocket = socket;\n\n    socket.on('player_drafted_enhanced', function(data) {\n        console.log('[DraftEnhanced] Player drafted event received:', data);\n\n        // Delegate to DraftSystemV2 if available (handles full UI update)\n        if (window.draftSystemInstance && typeof window.draftSystemInstance.handlePlayerDrafted === 'function') {\n            window.draftSystemInstance.handlePlayerDrafted(data);\n        } else {\n            // Fallback: Basic UI update if DraftSystemV2 not available\n            if (data.player && data.player.id) {\n                // Remove player from available pool\n                const playerCard = document.querySelector(`#available-players [data-player-id=\"${data.player.id}\"]`);\n                if (playerCard) {\n                    const column = playerCard.closest('[data-component=\"player-column\"]');\n                    if (column) {\n                        column.remove();\n                        updateAvailablePlayerCount(document.querySelectorAll('#available-players .player-card').length);\n                    }\n                }\n            }\n            // Update team count\n            if (data.team_id) {\n                setTimeout(() => updateTeamCount(data.team_id), 100);\n            }\n        }\n    });\n\n    socket.on('player_removed_enhanced', function(data) {\n        console.log('[DraftEnhanced] Player removed event received:', data);\n\n        // Delegate to DraftSystemV2 if available\n        if (window.draftSystemInstance && typeof window.draftSystemInstance.handlePlayerRemoved === 'function') {\n            window.draftSystemInstance.handlePlayerRemoved(data);\n        } else {\n            // Fallback: Update team count\n            if (data.team_id) {\n                setTimeout(() => updateTeamCount(data.team_id), 100);\n            }\n        }\n    });\n\n    socket.on('draft_error', function(data) {\n        console.log('[DraftEnhanced] Draft error:', data.message);\n        // Show error via DraftSystemV2 toast or fallback alert\n        if (window.draftSystemInstance && typeof window.draftSystemInstance.showToast === 'function') {\n            window.draftSystemInstance.showToast(data.message, 'error');\n        } else if (typeof Swal !== 'undefined') {\n            Swal.fire({\n                icon: 'error',\n                title: 'Draft Error',\n                text: data.message,\n                timer: 3000,\n                showConfirmButton: false\n            });\n        } else {\n            alert('Draft Error: ' + data.message);\n        }\n    });\n}\n\n/**\n * Setup event delegation for all button clicks\n */\nfunction setupEventDelegation() {\n    // Event delegation for draft player buttons\n    document.addEventListener('click', function(e) {\n        // Draft player button\n        if (e.target.closest('.js-draft-player')) {\n            const btn = e.target.closest('.js-draft-player');\n            const playerId = btn.dataset.playerId;\n            const playerName = btn.dataset.playerName;\n            confirmDraftPlayer(playerId, playerName);\n        }\n\n        // View player profile button\n        if (e.target.closest('.js-view-player-profile')) {\n            const btn = e.target.closest('.js-view-player-profile');\n            const playerId = btn.dataset.playerId;\n            openPlayerModal(playerId);\n        }\n\n        // Remove player button\n        if (e.target.closest('.js-remove-player')) {\n            const btn = e.target.closest('.js-remove-player');\n            const playerId = btn.dataset.playerId;\n            const teamId = btn.dataset.teamId;\n            const playerName = btn.dataset.playerName;\n            const teamName = btn.dataset.teamName;\n            confirmRemovePlayer(playerId, teamId, playerName, teamName);\n        }\n    });\n\n    // Setup drag and drop event delegation\n    setupDragAndDrop();\n}\n\n/**\n * Setup drag and drop functionality for player cards and drop zones\n */\nfunction setupDragAndDrop() {\n    // Drag start on draggable player cards\n    document.addEventListener('dragstart', function(e) {\n        const playerCard = e.target.closest('.js-draggable-player');\n        if (playerCard) {\n            const playerId = playerCard.dataset.playerId;\n            e.dataTransfer.setData('text/plain', playerId);\n            e.dataTransfer.effectAllowed = 'move';\n            playerCard.classList.add('opacity-50', 'dragging');\n\n            // Add body class for global drag state (triggers CSS animations)\n            document.body.classList.add('is-dragging');\n\n            // Store for fallback\n            window._draggedPlayerId = playerId;\n        }\n    });\n\n    // Drag end on draggable player cards\n    document.addEventListener('dragend', function(e) {\n        const playerCard = e.target.closest('.js-draggable-player');\n        if (playerCard) {\n            playerCard.classList.remove('opacity-50', 'dragging');\n            window._draggedPlayerId = null;\n        }\n        // Remove body drag state class\n        document.body.classList.remove('is-dragging');\n    });\n\n    // Drag over on drop zones\n    document.addEventListener('dragover', function(e) {\n        const dropZone = e.target.closest('.js-draft-drop-zone');\n        if (dropZone) {\n            e.preventDefault();\n            e.dataTransfer.dropEffect = 'move';\n            dropZone.classList.add('drag-over');\n\n            // Add specific styling based on drop target type\n            const dropTarget = dropZone.dataset.dropTarget;\n            if (dropTarget === 'available') {\n                dropZone.classList.add('drag-over-available');\n            } else if (dropTarget === 'team') {\n                dropZone.classList.add('drag-over-team');\n            }\n        }\n    });\n\n    // Drag leave on drop zones\n    document.addEventListener('dragleave', function(e) {\n        const dropZone = e.target.closest('.js-draft-drop-zone');\n        if (dropZone && !dropZone.contains(e.relatedTarget)) {\n            dropZone.classList.remove('drag-over', 'drag-over-available', 'drag-over-team');\n        }\n    });\n\n    // Drop on drop zones\n    document.addEventListener('drop', function(e) {\n        const dropZone = e.target.closest('.js-draft-drop-zone');\n        if (dropZone) {\n            e.preventDefault();\n            dropZone.classList.remove('drag-over', 'drag-over-available', 'drag-over-team');\n\n            const playerId = e.dataTransfer.getData('text/plain') || window._draggedPlayerId;\n            if (!playerId) {\n                console.error('No player ID found in drop event');\n                return;\n            }\n\n            const dropTarget = dropZone.dataset.dropTarget;\n            const teamId = dropZone.dataset.teamId;\n\n            if (dropTarget === 'team' && teamId) {\n                // Dropping on a team - draft the player\n                handleDropOnTeam(playerId, teamId, dropZone);\n            } else if (dropTarget === 'available') {\n                // Dropping back to available pool - undraft the player\n                handleDropToAvailable(playerId);\n            }\n        }\n    });\n}\n\n/**\n * Handle dropping a player onto a team\n */\nfunction handleDropOnTeam(playerId, teamId, dropZone) {\n    // Check if player is already on this team\n    const teamSection = document.getElementById(`teamPlayers${teamId}`);\n    if (teamSection && teamSection.querySelector(`[data-player-id=\"${playerId}\"]`)) {\n        console.log('[DraftEnhanced] Player already on this team in UI');\n        if (window.draftSystemInstance) {\n            window.draftSystemInstance.showToast('Player is already on this team', 'warning');\n        }\n        return;\n    }\n\n    // Get player name for display\n    const playerCard = document.querySelector(`[data-player-id=\"${playerId}\"]`);\n    const playerName = playerCard ?\n        (playerCard.querySelector('.fw-bold')?.textContent ||\n         playerCard.querySelector('.fw-semibold')?.textContent ||\n         'Player') : 'Player';\n\n    // Get team name\n    const teamAccordion = dropZone.closest('.accordion-item');\n    const teamName = teamAccordion ?\n        teamAccordion.querySelector('.fw-bold')?.textContent || `Team ${teamId}` :\n        `Team ${teamId}`;\n\n    // Get league name\n    const leagueNameScript = document.querySelector('script[data-league-name]');\n    const leagueName = leagueNameScript ? leagueNameScript.getAttribute('data-league-name') :\n                       (window.draftSystemInstance ? window.draftSystemInstance.leagueName : '');\n\n    // Try SocketManager first (most reliable)\n    if (typeof window.SocketManager !== 'undefined' && window.SocketManager.isConnected()) {\n        const socket = window.SocketManager.getSocket();\n        socket.emit('draft_player_enhanced', {\n            player_id: parseInt(playerId),\n            team_id: parseInt(teamId),\n            league_name: leagueName,\n            player_name: playerName\n        });\n        console.log(`[DraftEnhanced] Drafting player ${playerId} to team ${teamId} via SocketManager`);\n        return;\n    }\n\n    // Fallback to DraftSystemV2 socket\n    if (window.draftSystemInstance && window.draftSystemInstance.socket && window.draftSystemInstance.isConnected) {\n        window.draftSystemInstance.socket.emit('draft_player_enhanced', {\n            player_id: parseInt(playerId),\n            team_id: parseInt(teamId),\n            league_name: leagueName,\n            player_name: playerName\n        });\n        console.log(`[DraftEnhanced] Drafting player ${playerId} to team ${teamId} via DraftSystemV2`);\n        return;\n    }\n\n    // Fallback to global socket\n    const socket = window.draftEnhancedSocket || window.socket;\n    if (socket && socket.connected) {\n        socket.emit('draft_player_enhanced', {\n            player_id: parseInt(playerId),\n            team_id: parseInt(teamId),\n            league_name: leagueName,\n            player_name: playerName\n        });\n        console.log(`[DraftEnhanced] Drafting player ${playerId} to team ${teamId} via global socket`);\n    } else {\n        console.error('[DraftEnhanced] No connected socket available - cannot draft');\n        if (typeof Swal !== 'undefined') {\n            Swal.fire({\n                icon: 'warning',\n                title: 'Connection Issue',\n                text: 'Not connected to server. Please wait a moment and try again.',\n                timer: 3000,\n                showConfirmButton: true,\n                confirmButtonText: 'Refresh Page',\n            }).then((result) => {\n                if (result.isConfirmed) {\n                    window.location.reload();\n                }\n            });\n        } else {\n            alert('Connection error. Please refresh the page.');\n        }\n    }\n}\n\n/**\n * Handle dropping a player back to the available pool (undraft)\n */\nfunction handleDropToAvailable(playerId) {\n    // Find which team the player is currently on\n    const playerCard = document.querySelector(`[data-player-id=\"${playerId}\"]`);\n    if (!playerCard) {\n        console.error('[DraftEnhanced] Player card not found');\n        return;\n    }\n\n    // Check if player is in a team section (not already in available pool)\n    const teamSection = playerCard.closest('[id^=\"teamPlayers\"]');\n    if (!teamSection) {\n        console.log('[DraftEnhanced] Player is already in available pool');\n        return;\n    }\n\n    // Extract team ID from the section ID (format: teamPlayers123)\n    const teamId = teamSection.id.replace('teamPlayers', '');\n\n    // Get player and team names for confirmation\n    const playerName = playerCard.querySelector('.fw-bold')?.textContent ||\n                       playerCard.querySelector('.fw-semibold')?.textContent ||\n                       'Player';\n\n    const teamAccordion = teamSection.closest('.accordion-item');\n    const teamName = teamAccordion ?\n        teamAccordion.querySelector('.fw-bold')?.textContent || `Team ${teamId}` :\n        `Team ${teamId}`;\n\n    // Get league name\n    const leagueNameScript = document.querySelector('script[data-league-name]');\n    const leagueName = leagueNameScript ? leagueNameScript.getAttribute('data-league-name') :\n                       (window.draftSystemInstance ? window.draftSystemInstance.leagueName : '');\n\n    const emitData = {\n        player_id: parseInt(playerId),\n        team_id: parseInt(teamId),\n        league_name: leagueName\n    };\n\n    // Try SocketManager first (most reliable)\n    if (typeof window.SocketManager !== 'undefined' && window.SocketManager.isConnected()) {\n        window.SocketManager.getSocket().emit('remove_player_enhanced', emitData);\n        console.log(`[DraftEnhanced] Undrafting player ${playerId} from team ${teamId} via SocketManager`);\n        return;\n    }\n\n    // Fallback to DraftSystemV2 socket\n    if (window.draftSystemInstance && window.draftSystemInstance.socket && window.draftSystemInstance.isConnected) {\n        window.draftSystemInstance.socket.emit('remove_player_enhanced', emitData);\n        console.log(`[DraftEnhanced] Undrafting player ${playerId} from team ${teamId} via DraftSystemV2`);\n        return;\n    }\n\n    // Fallback to global socket\n    const socket = window.draftEnhancedSocket || window.socket;\n    if (socket && socket.connected) {\n        socket.emit('remove_player_enhanced', emitData);\n        console.log(`[DraftEnhanced] Undrafting player ${playerId} from team ${teamId} via global socket`);\n    } else {\n        console.error('[DraftEnhanced] No connected socket available - cannot undraft');\n        if (typeof Swal !== 'undefined') {\n            Swal.fire({\n                icon: 'warning',\n                title: 'Connection Issue',\n                text: 'Not connected to server. Please wait a moment and try again.',\n                timer: 3000,\n                showConfirmButton: true,\n                confirmButtonText: 'Refresh Page',\n            }).then((result) => {\n                if (result.isConfirmed) {\n                    window.location.reload();\n                }\n            });\n        } else {\n            alert('Connection error. Please refresh the page.');\n        }\n    }\n}\n\n/**\n * Setup image error handlers for fallback images\n */\nfunction setupImageErrorHandlers() {\n    document.querySelectorAll('.js-player-image').forEach(img => {\n        img.addEventListener('error', function() {\n            const fallback = this.dataset.fallback || '/static/img/default_player.png';\n            console.log('Image failed to load:', this.src, '- Using fallback:', fallback);\n            this.src = fallback;\n        });\n\n        img.addEventListener('load', function() {\n            console.log('Image loaded successfully:', this.src);\n            // Apply smart cropping if function exists\n            if (typeof smartCropImage === 'function') {\n                smartCropImage(this);\n            }\n        });\n    });\n}\n\n/**\n * Confirm removal of player from team\n */\nfunction confirmRemovePlayer(playerId, teamId, playerName, teamName) {\n    if (confirm(`Remove ${playerName} from ${teamName}?`)) {\n        // Execute removal via socket or API\n        const socket = window.draftEnhancedSocket || window.socket;\n        if (socket && socket.connected) {\n            // Get league name from the page (same way confirmDraftPlayer does)\n            const leagueNameScript = document.querySelector('script[data-league-name]');\n            const leagueName = leagueNameScript ? leagueNameScript.getAttribute('data-league-name') :\n                               (window.draftSystemInstance ? window.draftSystemInstance.leagueName : '');\n\n            socket.emit('remove_player_enhanced', {\n                player_id: parseInt(playerId),\n                team_id: parseInt(teamId),\n                league_name: leagueName\n            });\n        }\n        console.log(`Removing player ${playerId} from team ${teamId}`);\n    }\n}\n\n/**\n * Live search functionality\n */\nfunction setupLiveSearch() {\n    const searchInput = document.getElementById('playerSearch');\n    const positionFilter = document.getElementById('positionFilter');\n    const sortBy = document.getElementById('sortBy');\n\n    if (searchInput) {\n        searchInput.addEventListener('input', filterPlayers);\n    }\n    if (positionFilter) {\n        positionFilter.addEventListener('change', filterPlayers);\n    }\n    if (sortBy) {\n        sortBy.addEventListener('change', filterPlayers);\n    }\n}\n\n/**\n * Filter players in real-time\n */\nfunction filterPlayers() {\n    const searchTerm = document.getElementById('playerSearch')?.value.toLowerCase() || '';\n    const positionFilter = document.getElementById('positionFilter')?.value.toLowerCase() || '';\n    const sortBy = document.getElementById('sortBy')?.value || 'name';\n\n    const availablePlayersContainer = document.getElementById('available-players');\n    const playerCards = availablePlayersContainer?.querySelectorAll('.col-xl-3, .col-lg-4, .col-md-6, .col-sm-6') || [];\n\n    let visibleCount = 0;\n    let filteredPlayers = [];\n\n    // Filter and collect visible players\n    playerCards.forEach(card => {\n        const playerCard = card.querySelector('.player-card');\n        if (!playerCard) return;\n\n        const playerName = playerCard.getAttribute('data-player-name') || '';\n        const playerPosition = playerCard.getAttribute('data-position') || '';\n\n        // Check search term match\n        const matchesSearch = !searchTerm || playerName.includes(searchTerm);\n\n        // Check position filter match\n        const matchesPosition = !positionFilter || playerPosition === positionFilter;\n\n        const isVisible = matchesSearch && matchesPosition;\n\n        if (isVisible) {\n            card.classList.add('d-block');\n            card.classList.remove('d-none');\n            visibleCount++;\n\n            // Collect data for sorting\n            const experience = parseInt(playerCard.getAttribute('data-experience')) || 0;\n            const attendance = parseFloat(playerCard.getAttribute('data-attendance')) || 0;\n            const goals = parseInt(playerCard.getAttribute('data-goals')) || 0;\n\n            filteredPlayers.push({\n                element: card,\n                name: playerName,\n                experience: experience,\n                attendance: attendance,\n                goals: goals\n            });\n        } else {\n            card.classList.add('d-none');\n            card.classList.remove('d-block');\n        }\n    });\n\n    // Sort the visible players\n    if (sortBy && filteredPlayers.length > 0) {\n        sortPlayers(filteredPlayers, sortBy);\n    }\n\n    // Update both counters\n    updateAvailablePlayerCount(visibleCount);\n\n    // Show/hide empty state\n    const emptyState = document.getElementById('emptyState');\n    if (emptyState) {\n        emptyState.classList.toggle('is-visible', visibleCount === 0);\n    }\n\n    console.log(`Filtered players: ${visibleCount} visible`);\n}\n\n/**\n * Sort players based on selected criteria\n */\nfunction sortPlayers(players, sortBy) {\n    const container = document.getElementById('available-players');\n    if (!container) return;\n\n    players.sort((a, b) => {\n        switch (sortBy) {\n            case 'experience':\n                return b.experience - a.experience; // Highest first\n            case 'attendance':\n                return b.attendance - a.attendance; // Highest first\n            case 'goals':\n                return b.goals - a.goals; // Highest first\n            case 'name':\n            default:\n                return a.name.localeCompare(b.name); // Alphabetical\n        }\n    });\n\n    // Reorder elements in the DOM\n    players.forEach(player => {\n        container.appendChild(player.element);\n    });\n}\n\n/**\n * Update available player count in both locations\n */\nfunction updateAvailablePlayerCount(count) {\n    const availableCount = document.getElementById('availableCount');\n    const availablePlayersCount = document.getElementById('available-players-count');\n\n    if (availableCount) {\n        availableCount.textContent = count;\n    }\n    if (availablePlayersCount) {\n        availablePlayersCount.textContent = count;\n    }\n}\n\n/**\n * Function to update team player counts\n */\nfunction updateTeamCount(teamId) {\n    const teamSection = document.getElementById(`teamPlayers${teamId}`);\n    const teamCountBadge = document.getElementById(`teamCount${teamId}`);\n\n    if (teamSection && teamCountBadge) {\n        // Count ONLY the player card elements, not buttons inside them\n        // .draft-team-player-card is only on the outer card, not the remove button\n        const playerCount = teamSection.querySelectorAll('.draft-team-player-card').length;\n        teamCountBadge.textContent = `${playerCount} players`;\n\n        console.log(`Updated team ${teamId} count to ${playerCount} players`);\n    }\n}\n\n/**\n * Function to update all team counts\n */\nfunction updateAllTeamCounts() {\n    // Find all team sections and update their counts\n    document.querySelectorAll('[id^=\"teamPlayers\"]').forEach(teamSection => {\n        const teamId = teamSection.id.replace('teamPlayers', '');\n        updateTeamCount(teamId);\n    });\n}\n\n/**\n * Custom Draft Confirmation Modal (replaces SweetAlert2)\n */\nfunction confirmDraftPlayer(playerId, playerName) {\n    // Populate the message\n    document.getElementById('draftPlayerMessage').innerHTML = `Select a team for <strong>${playerName}</strong>:`;\n\n    // Populate team options\n    const teamSelect = document.getElementById('teamSelect');\n    teamSelect.innerHTML = '<option value=\"\">Choose a team...</option>';\n\n    // Get all teams and their player counts\n    document.querySelectorAll('[id^=\"teamCount\"]').forEach(badge => {\n        const teamId = badge.id.replace('teamCount', '');\n        const teamName = badge.parentElement.querySelector('.fw-bold').textContent;\n        const playerCount = badge.textContent.replace(' players', '');\n\n        const option = document.createElement('option');\n        option.value = teamId;\n        option.textContent = `${teamName} (${playerCount})`;\n        teamSelect.appendChild(option);\n    });\n\n    // Set up the confirm button\n    const confirmBtn = document.getElementById('confirmDraftBtn');\n    confirmBtn.onclick = function() {\n        const selectedTeamId = teamSelect.value;\n        if (!selectedTeamId) {\n            alert('Please select a team!');\n            return;\n        }\n\n        // Close modal\n        bootstrap.Modal.getInstance(document.getElementById('draftConfirmModal')).hide();\n\n        // Get league name from script tag data attribute\n        const leagueNameScript = document.querySelector('script[data-league-name]');\n        const leagueName = leagueNameScript ? leagueNameScript.getAttribute('data-league-name') : '';\n\n        // Execute the draft via socket or API\n        const socket = window.draftEnhancedSocket || window.socket;\n        if (socket && socket.connected) {\n            socket.emit('draft_player_enhanced', {\n                player_id: parseInt(playerId),\n                team_id: parseInt(selectedTeamId),\n                league_name: leagueName\n            });\n        }\n\n        console.log(`Drafting player ${playerId} to team ${selectedTeamId}`);\n    };\n\n    // Show the modal\n    ModalManager.show('draftConfirmModal');\n}\n\n/**\n * Enhanced Player Profile Modal Functions\n */\nfunction openPlayerModal(playerId) {\n    // Show loading state\n    const profileLoading = document.getElementById('profileLoading');\n    profileLoading.classList.add('d-block');\n    profileLoading.classList.remove('d-none');\n    document.getElementById('profileData').classList.remove('is-visible');\n    document.getElementById('draftFromModal').classList.remove('is-visible');\n\n    // Open modal\n    ModalManager.show('playerProfileModal');\n\n    // Fetch player data\n    fetch(`/players/api/player_profile/${playerId}`)\n        .then(response => response.json())\n        .then(data => {\n            displayPlayerProfile(data, playerId);\n        })\n        .catch(error => {\n            console.error('Error loading player profile:', error);\n            document.getElementById('profileLoading').innerHTML = `\n                <div class=\"text-center py-5\">\n                    <i class=\"ti ti-exclamation-triangle text-warning mb-3 draft-error-icon\"></i>\n                    <h5>Error Loading Profile</h5>\n                    <p class=\"text-muted\">Unable to load player information. Please try again.</p>\n                </div>\n            `;\n        });\n}\n\n/**\n * Display player profile in modal\n */\nfunction displayPlayerProfile(data, playerId) {\n    const profileLoading = document.getElementById('profileLoading');\n    profileLoading.classList.add('d-none');\n    profileLoading.classList.remove('d-block');\n\n    const profileHtml = `\n        <div class=\"p-4 draft-profile-container\">\n            <!-- Player Header Info -->\n            <div class=\"text-center mb-4\">\n                <img src=\"${data.profile_picture_url || '/static/img/default_player.png'}\"\n                     alt=\"${data.name}\"\n                     class=\"rounded-circle border border-3 border-white mb-3 draft-profile-avatar js-player-image\"\n                     data-fallback=\"/static/img/default_player.png\">\n                <h4 class=\"fw-bold mb-1 draft-profile-name\">${data.name}</h4>\n                <p class=\"mb-2 draft-profile-position\">${formatPosition(data.favorite_position) || 'Any Position'}</p>\n\n                <!-- Career Stats Row -->\n                <div class=\"row text-center mb-4\">\n                    <div class=\"col-3\">\n                        <div class=\"fw-bold text-success fs-5\">${data.goals}</div>\n                        <small class=\"draft-profile-stat-label\">Goals</small>\n                    </div>\n                    <div class=\"col-3\">\n                        <div class=\"fw-bold text-info fs-5\">${data.assists}</div>\n                        <small class=\"draft-profile-stat-label\">Assists</small>\n                    </div>\n                    <div class=\"col-3\">\n                        <div class=\"fw-bold text-warning fs-5\">${data.yellow_cards}</div>\n                        <small class=\"draft-profile-stat-label\">Yellow</small>\n                    </div>\n                    <div class=\"col-3\">\n                        <div class=\"fw-bold text-danger fs-5\">${data.red_cards}</div>\n                        <small class=\"draft-profile-stat-label\">Red</small>\n                    </div>\n                </div>\n            </div>\n\n            <!-- Playing Information Section -->\n            <div class=\"mb-4\">\n                <h5 class=\"pb-2 mb-3 draft-profile-section-header\">\n                    <i class=\"ti ti-info-circle me-2\"></i>Playing Information\n                </h5>\n                <div class=\"row\">\n                    <div class=\"col-md-6\">\n                        <div class=\"mb-2\">\n                            <strong class=\"draft-profile-label\">Preferred Position:</strong>\n                            <span class=\"badge bg-primary ms-1\">${formatPosition(data.favorite_position) || 'Any'}</span>\n                        </div>\n                        ${data.other_positions ? `\n                        <div class=\"mb-2\">\n                            <strong class=\"draft-profile-label\">Other Positions:</strong>\n                            <small class=\"draft-profile-value\">${Array.isArray(data.other_positions) ? data.other_positions.map(pos => formatPosition(pos)).join(', ') : data.other_positions}</small>\n                        </div>\n                        ` : ''}\n                        ${data.positions_to_avoid ? `\n                        <div class=\"mb-2\">\n                            <strong class=\"draft-profile-label\">Positions to Avoid:</strong>\n                            <small class=\"draft-profile-value\">${data.positions_to_avoid}</small>\n                        </div>\n                        ` : ''}\n                    </div>\n                    <div class=\"col-md-6\">\n                        ${data.goal_frequency ? `\n                        <div class=\"mb-2\">\n                            <strong class=\"draft-profile-label\">Goal Frequency:</strong>\n                            <small class=\"draft-profile-value\">${data.goal_frequency}</small>\n                        </div>\n                        ` : ''}\n                        ${data.expected_availability ? `\n                        <div class=\"mb-2\">\n                            <strong class=\"draft-profile-label\">Expected Availability:</strong>\n                            <small class=\"draft-profile-value\">${data.expected_availability}</small>\n                        </div>\n                        ` : ''}\n                    </div>\n                </div>\n            </div>\n\n            <!-- Player Notes -->\n            ${data.player_notes ? `\n            <div class=\"mb-4\">\n                <h5 class=\"pb-2 mb-3 draft-profile-section-header\">\n                    <i class=\"ti ti-notes me-2\"></i>Player Notes\n                </h5>\n                <p class=\"draft-profile-notes\">${data.player_notes}</p>\n            </div>\n            ` : ''}\n\n            <!-- Admin Notes -->\n            ${data.admin_notes ? `\n            <div class=\"mb-3\">\n                <h5 class=\"pb-2 mb-3 draft-profile-section-header\">\n                    <i class=\"ti ti-shield me-2\"></i>Admin Notes\n                </h5>\n                <p class=\"draft-profile-notes\">${data.admin_notes}</p>\n            </div>\n            ` : ''}\n        </div>\n    `;\n\n    document.getElementById('profileData').innerHTML = profileHtml;\n    document.getElementById('profileData').classList.add('is-visible');\n\n    // Re-setup image error handlers for dynamically added images\n    setupImageErrorHandlers();\n\n    // Show draft button and set up click handler\n    const draftButton = document.getElementById('draftFromModal');\n    draftButton.classList.add('is-visible');\n    draftButton.onclick = () => {\n        // Close modal and trigger draft\n        bootstrap.Modal.getInstance(document.getElementById('playerProfileModal')).hide();\n        confirmDraftPlayer(playerId, data.name);\n    };\n}\n","/**\n * Check Duplicate Accounts Handler\n * Manages duplicate account detection and claim/create actions\n */\n\ndocument.addEventListener('DOMContentLoaded', function () {\n    const form = document.getElementById('duplicate-check-form');\n    const playerIdField = document.getElementById('player_id');\n    const actionField = document.getElementById('action');\n\n    // Handle claim account buttons\n    document.querySelectorAll('.claim-account-btn').forEach(button => {\n        button.addEventListener('click', function () {\n            const playerId = this.getAttribute('data-player-id');\n            const playerName = this.getAttribute('data-player-name');\n            const playerEmail = this.getAttribute('data-player-email');\n\n            // Show confirmation with SweetAlert\n            Swal.fire({\n                title: 'Claim This Account?',\n                html: `\n                    <p class=\"mb-2\">You're claiming the account for:</p>\n                    <div class=\"text-start border rounded p-3 bg-light\">\n                        <strong>${playerName}</strong><br>\n                        <small class=\"text-muted\">${playerEmail}</small>\n                    </div>\n                    <p class=\"mt-3 mb-0 small text-muted\">\n                        We'll send a verification email to <strong>${playerEmail}</strong> to confirm this is your account.\n                    </p>\n                `,\n                icon: 'question',\n                showCancelButton: true,\n                confirmButtonColor: (typeof ECSTheme !== 'undefined') ? ECSTheme.getColor('primary') : 'var(--ecs-primary)',\n                cancelButtonColor: (typeof ECSTheme !== 'undefined') ? ECSTheme.getColor('secondary') : '#6c757d',\n                confirmButtonText: '<i class=\"ti ti-mail me-1\"></i>Send Verification Email',\n                cancelButtonText: 'Cancel',\n                customClass: {\n                    popup: 'text-start'\n                }\n            }).then((result) => {\n                if (result.isConfirmed) {\n                    // Set form values and submit\n                    playerIdField.value = playerId;\n                    actionField.value = 'claim';\n\n                    // Show loading state\n                    Swal.fire({\n                        title: 'Sending Verification Email...',\n                        text: 'Please wait while we process your request.',\n                        icon: 'info',\n                        allowOutsideClick: false,\n                        showConfirmButton: false,\n                        didOpen: () => {\n                            Swal.showLoading();\n                        }\n                    });\n\n                    form.submit();\n                }\n            });\n        });\n    });\n\n    // Handle create new account button\n    const createNewBtn = document.getElementById('create-new-btn');\n    if (createNewBtn) {\n        createNewBtn.addEventListener('click', function () {\n            Swal.fire({\n                title: 'Create New Account?',\n                text: 'This will create a brand new profile for you. Are you sure none of the existing profiles are yours?',\n                icon: 'question',\n                showCancelButton: true,\n                confirmButtonColor: (typeof ECSTheme !== 'undefined') ? ECSTheme.getColor('success') : 'var(--ecs-success)',\n                cancelButtonColor: (typeof ECSTheme !== 'undefined') ? ECSTheme.getColor('secondary') : '#6c757d',\n                confirmButtonText: '<i class=\"ti ti-user-plus me-1\"></i>Yes, Create New Account',\n                cancelButtonText: 'Let me check again'\n            }).then((result) => {\n                if (result.isConfirmed) {\n                    // Set form values and submit\n                    playerIdField.value = '';\n                    actionField.value = 'new';\n\n                    // Show loading state\n                    Swal.fire({\n                        title: 'Creating Your Account...',\n                        text: 'Please wait while we set up your new profile.',\n                        icon: 'info',\n                        allowOutsideClick: false,\n                        showConfirmButton: false,\n                        didOpen: () => {\n                            Swal.showLoading();\n                        }\n                    });\n\n                    form.submit();\n                }\n            });\n        });\n    }\n\n    // Add hover effects to duplicate cards\n    document.querySelectorAll('.duplicate-option').forEach(card => {\n        card.addEventListener('mouseenter', function () {\n            this.classList.add('card-hover');\n        });\n\n        card.addEventListener('mouseleave', function () {\n            this.classList.remove('card-hover');\n        });\n    });\n});\n","/**\n * ============================================================================\n * COACH DASHBOARD JAVASCRIPT\n * ============================================================================\n *\n * Handles all coach dashboard functionality including:\n * - Match reporting form submission\n * - Substitute request workflow\n * - CSRF token management\n *\n * ARCHITECTURAL COMPLIANCE:\n * - Event delegation for dynamic elements\n * - Data-attribute based hooks ([data-action], [data-match-id])\n * - IIFE pattern for encapsulation\n * - No direct element binding by ID where possible\n *\n * ============================================================================\n */\n\n(function() {\n    'use strict';\n\n    /**\n     * Get CSRF token from meta tag\n     * @returns {string} CSRF token value\n     */\n    function getCsrfToken() {\n        const csrfMeta = document.querySelector('meta[name=\"csrf-token\"]');\n        return csrfMeta ? csrfMeta.content : '';\n    }\n\n    /**\n     * Request a substitute for a match\n     * Shows SweetAlert2 dialog for input and submits to appropriate endpoint\n     *\n     * @param {string} matchId - Match ID\n     * @param {string} leagueType - 'ECS FC' or 'Premier'/'Classic'\n     * @param {string} teamId - Team ID for Pub League matches\n     */\n    async function requestSub(matchId, leagueType, teamId) {\n        // Check if SweetAlert2 is available\n        if (typeof Swal === 'undefined') {\n            console.warn('SweetAlert2 not available for substitute request');\n            return;\n        }\n\n        const result = await Swal.fire({\n            title: 'Request Substitute',\n            html: `\n                <div class=\"mb-3\">\n                    <label class=\"form-label\">Number of subs needed:</label>\n                    <input type=\"number\" id=\"subs-needed\" class=\"form-control\" value=\"1\" min=\"1\" max=\"5\" data-form-control>\n                </div>\n                <div class=\"mb-3\">\n                    <label class=\"form-label\">Positions needed:</label>\n                    <input type=\"text\" id=\"positions\" class=\"form-control\" placeholder=\"e.g., Forward, Midfielder\" data-form-control>\n                </div>\n                <div class=\"mb-3\">\n                    <label class=\"form-label\">Notes (optional):</label>\n                    <textarea id=\"notes\" class=\"form-control\" rows=\"3\" placeholder=\"Any additional information...\" data-form-control></textarea>\n                </div>\n            `,\n            showCancelButton: true,\n            confirmButtonText: 'Request Sub',\n            preConfirm: () => {\n                return {\n                    substitutes_needed: document.getElementById('subs-needed').value,\n                    positions_needed: document.getElementById('positions').value,\n                    notes: document.getElementById('notes').value\n                };\n            }\n        });\n\n        if (!result.isConfirmed) return;\n\n        try {\n            // Determine endpoint and build FormData based on league type\n            let endpoint;\n            const formData = new FormData();\n            const csrfToken = getCsrfToken();\n\n            formData.append('csrf_token', csrfToken);\n            formData.append('substitutes_needed', result.value.substitutes_needed);\n            formData.append('positions_needed', result.value.positions_needed);\n            formData.append('notes', result.value.notes);\n\n            if (leagueType === 'ECS FC') {\n                // ECS FC: endpoint expects integer match_id in URL path\n                endpoint = `/ecs-fc/sub-request/${matchId}`;\n            } else {\n                // Pub League (Premier or Classic): needs match_id and team_id in form data\n                endpoint = '/admin/request_sub';\n                formData.append('match_id', matchId);\n                formData.append('team_id', teamId);\n            }\n\n            const response = await fetch(endpoint, {\n                method: 'POST',\n                headers: {\n                    'X-CSRFToken': csrfToken\n                },\n                body: formData\n            });\n\n            // Both endpoints redirect on success, so any 2xx or 3xx response means success\n            if (response.ok || (response.status >= 300 && response.status < 400)) {\n                Swal.fire({\n                    icon: 'success',\n                    title: 'Sub Requested!',\n                    text: 'Substitute request has been created. Notifications are being sent to available substitutes.',\n                    timer: 2000,\n                    showConfirmButton: false\n                }).then(() => window.location.reload());\n            } else {\n                throw new Error('Failed to request substitute');\n            }\n        } catch (error) {\n            console.error('Error:', error);\n            Swal.fire({\n                icon: 'error',\n                title: 'Error',\n                text: error.message || 'Failed to request substitute'\n            });\n        }\n    }\n\n    /**\n     * Handle match report form submission\n     * @param {HTMLFormElement} form - The form element\n     */\n    async function handleMatchReportSubmit(form) {\n        const matchId = form.dataset.matchId;\n        const formData = new FormData(form);\n\n        try {\n            const response = await fetch(form.action, {\n                method: 'POST',\n                body: formData\n            });\n\n            const data = await response.json();\n\n            if (data.success) {\n                // Close modal\n                const modal = bootstrap.Modal.getInstance(\n                    document.getElementById(`reportMatchModal-${matchId}`)\n                );\n                if (modal) modal.hide();\n\n                // Show success message and reload\n                if (typeof Swal !== 'undefined') {\n                    Swal.fire({\n                        icon: 'success',\n                        title: 'Match Reported!',\n                        timer: 2000,\n                        showConfirmButton: false\n                    }).then(() => window.location.reload());\n                } else {\n                    window.location.reload();\n                }\n            } else {\n                throw new Error(data.message || 'Failed to report match');\n            }\n        } catch (error) {\n            console.error('Error:', error);\n            if (typeof Swal !== 'undefined') {\n                Swal.fire({\n                    icon: 'error',\n                    title: 'Error',\n                    text: error.message || 'Failed to report match'\n                });\n            } else {\n                alert('Error: ' + error.message);\n            }\n        }\n    }\n\n    /**\n     * Initialize event listeners using delegation\n     */\n    function init() {\n        // Request Sub button delegation\n        document.addEventListener('click', function(e) {\n            const btn = e.target.closest('[data-action=\"request-sub\"]');\n            if (btn) {\n                e.preventDefault();\n                const matchId = btn.dataset.matchId;\n                const leagueType = btn.dataset.leagueType;\n                const teamId = btn.dataset.teamId;\n                requestSub(matchId, leagueType, teamId);\n            }\n        });\n\n        // Match report form submission\n        document.querySelectorAll('.report-match-form').forEach(form => {\n            form.addEventListener('submit', function(e) {\n                e.preventDefault();\n                handleMatchReportSubmit(this);\n            });\n        });\n\n        console.log('Coach Dashboard initialized');\n    }\n\n    // Initialize on DOM ready\n    if (document.readyState === 'loading') {\n        document.addEventListener('DOMContentLoaded', init);\n    } else {\n        init();\n    }\n\n    // Expose API for external use\n    window.CoachDashboard = {\n        requestSub,\n        getCsrfToken\n    };\n\n})();\n","// static/custom_js/cropper.js\n\ndocument.addEventListener('DOMContentLoaded', () => {\n    // Page guard - only run on pages with image cropper\n    const imageInput = document.getElementById('image');\n    if (!imageInput) {\n        return; // Not on a page with image cropper\n    }\n\n    let cropper;\n\n    // Function to initialize cropper\n    function croppingimg(e, ratio) {\n        const files = e.target.files;\n        if (files && files.length > 0) {\n            const imgsrc = URL.createObjectURL(files[0]);\n            const imageElement = document.getElementById('imagecan');\n            imageElement.src = imgsrc;\n\n            const imgContainer = document.querySelector('.img-container');\n            imgContainer.classList.remove('d-none');\n            imgContainer.classList.add('d-block');\n\n            if (cropper) {\n                cropper.destroy(); // Destroy previous cropper instance\n            }\n\n            cropper = new Cropper(imageElement, {\n                viewMode: 1, // Changed to allow more flexibility\n                aspectRatio: ratio,\n                dragMode: 'move',\n                autoCropArea: 0.8, // Adjusted autoCropArea\n                restore: false,\n                guides: true,\n                center: true,\n                highlight: true,\n                background: false,\n                responsive: true,\n                movable: true,\n                zoomable: true,\n                rotatable: false,\n                scalable: false,\n                cropBoxMovable: true,\n                cropBoxResizable: true,\n                toggleDragModeOnDblclick: false,\n                checkOrientation: false,\n            });\n        }\n    }\n\n    // Function to handle the image upload\n    window.onClickUpload = function () {\n        if (cropper) {\n            const canvas = cropper.getCroppedCanvas({\n                width: 300, // Increased width for better resolution\n                height: 300, // Increased height for better resolution\n                imageSmoothingQuality: 'high',\n            });\n            canvas.toBlob(function (blob) {\n                const reader = new FileReader();\n                reader.readAsDataURL(blob);\n                reader.onloadend = function () {\n                    const base64data = reader.result;\n                    document.getElementById('cropped_image_data').value = base64data;\n                    // Submit the form\n                    document.querySelector('#profileImageModal form').submit();\n                }\n            }, 'image/png');\n        }\n    }\n\n    // Initialize Cropper when an image is selected\n    imageInput.addEventListener('change', function (e) {\n        const ratio = 1; // 1:1 aspect ratio for square images\n        croppingimg(e, ratio);\n    });\n});\n","/**\n * Draft Predictions JavaScript Module - Auto-save like Excel\n * \n * Handles instant auto-save functionality for draft predictions.\n * Changes are saved immediately when users make selections.\n */\n\nclass DraftPredictionsManager {\n    constructor() {\n        this.pendingSaves = new Map(); // Track pending save operations\n        this.saveTimeouts = new Map(); // Debounce saves\n        this.init();\n    }\n\n    init() {\n        this.bindEvents();\n        this.showAutoSaveStatus('saved');\n    }\n\n    bindEvents() {\n        // Auto-submit search form on input (with debouncing)\n        const searchInput = document.querySelector('input[name=\"search\"]');\n        if (searchInput) {\n            let searchTimeout;\n            searchInput.addEventListener('input', (e) => {\n                clearTimeout(searchTimeout);\n                searchTimeout = setTimeout(() => {\n                    this.submitFilterForm();\n                }, 500);\n            });\n        }\n\n        // Auto-submit on position filter change\n        const positionFilter = document.querySelector('select[name=\"position\"]');\n        if (positionFilter) {\n            positionFilter.addEventListener('change', (e) => {\n                this.submitFilterForm();\n            });\n        }\n\n        // Auto-save on any change to prediction fields\n        document.addEventListener('change', (e) => {\n            if (e.target.matches('.predicted-round-input, .confidence-input')) {\n                this.handleFieldChange(e.target);\n            }\n        });\n\n        // Auto-save notes with debouncing\n        document.addEventListener('input', (e) => {\n            if (e.target.matches('.notes-input')) {\n                this.handleNotesChange(e.target);\n            }\n        });\n\n        // Player image modal\n        document.addEventListener('click', (e) => {\n            if (e.target.classList.contains('player-avatar-clickable')) {\n                this.showPlayerImageModal(e.target);\n            }\n        });\n    }\n\n    handleFieldChange(input) {\n        const playerId = input.dataset.playerId;\n        this.autoSavePrediction(playerId);\n    }\n\n    handleNotesChange(input) {\n        const playerId = input.dataset.playerId;\n        \n        // Clear existing timeout for this player\n        if (this.saveTimeouts.has(playerId)) {\n            clearTimeout(this.saveTimeouts.get(playerId));\n        }\n\n        // Set new timeout for debounced save (500ms after user stops typing)\n        const timeoutId = setTimeout(() => {\n            this.autoSavePrediction(playerId);\n            this.saveTimeouts.delete(playerId);\n        }, 500);\n\n        this.saveTimeouts.set(playerId, timeoutId);\n    }\n\n    async autoSavePrediction(playerId) {\n        // Don't start new save if one is already pending for this player\n        if (this.pendingSaves.has(playerId)) {\n            return;\n        }\n\n        const values = this.getPlayerCurrentValues(playerId);\n        \n        // Only save if there's a predicted round\n        if (!values.predicted_round) {\n            this.updateRowAppearance(playerId, false);\n            return;\n        }\n\n        try {\n            this.pendingSaves.set(playerId, true);\n            this.showAutoSaveStatus('saving');\n            this.updateRowAppearance(playerId, 'saving');\n\n            await this.submitPrediction(playerId, values);\n            \n            this.updateRowAppearance(playerId, true);\n            this.showAutoSaveStatus('saved');\n\n        } catch (error) {\n            console.error('Auto-save failed for player', playerId, error);\n            this.updateRowAppearance(playerId, 'error');\n            this.showToast('error', `Failed to save prediction for ${this.getPlayerName(playerId)}`);\n        } finally {\n            this.pendingSaves.delete(playerId);\n        }\n    }\n\n    getPlayerCurrentValues(playerId) {\n        const row = document.querySelector(`tr[data-player-id=\"${playerId}\"]`);\n        if (!row) return {};\n\n        const roundInput = row.querySelector('.predicted-round-input');\n        const confidenceInput = row.querySelector('.confidence-input');\n        const notesInput = row.querySelector('.notes-input');\n\n        return {\n            predicted_round: roundInput ? roundInput.value : '',\n            confidence_level: confidenceInput ? confidenceInput.value : '',\n            notes: notesInput ? notesInput.value : ''\n        };\n    }\n\n    getPlayerName(playerId) {\n        const row = document.querySelector(`tr[data-player-id=\"${playerId}\"]`);\n        if (row) {\n            const nameElement = row.querySelector('.fw-medium');\n            return nameElement ? nameElement.textContent : `Player ${playerId}`;\n        }\n        return `Player ${playerId}`;\n    }\n\n    updateRowAppearance(playerId, status) {\n        const row = document.querySelector(`tr[data-player-id=\"${playerId}\"]`);\n        if (!row) return;\n\n        // Remove all status classes\n        row.classList.remove('table-success', 'table-warning', 'table-danger', 'is-saving', 'is-saved', 'is-error');\n\n        if (status === 'saving') {\n            row.classList.add('is-saving');\n        } else if (status === true) {\n            row.classList.add('is-saved');\n        } else if (status === 'error') {\n            row.classList.add('is-error');\n        }\n        // If status === false (no prediction), no special class\n    }\n\n    showAutoSaveStatus(status) {\n        const statusElement = document.getElementById('autoSaveStatus');\n        if (!statusElement) return;\n\n        const savedSpan = statusElement.querySelector('[data-status=\"saved\"]');\n        const savingSpan = statusElement.querySelector('[data-status=\"saving\"]');\n\n        // Remove active state from all status indicators\n        if (savedSpan) {\n            savedSpan.classList.remove('is-active');\n            savedSpan.classList.add('draft-status-saved');\n        }\n        if (savingSpan) {\n            savingSpan.classList.remove('is-active');\n            savingSpan.classList.add('draft-status-saving');\n        }\n\n        // Add active state to appropriate status indicator\n        if (status === 'saved' && savedSpan) {\n            savedSpan.classList.add('is-active');\n        } else if (status === 'saving' && savingSpan) {\n            savingSpan.classList.add('is-active');\n        }\n    }\n\n    async submitPrediction(playerId, values) {\n        try {\n            // Get current draft season ID from URL\n            const currentUrl = window.location.pathname;\n            const seasonId = currentUrl.split('/').pop();\n\n            const requestData = {\n                draft_season_id: parseInt(seasonId),\n                player_id: parseInt(playerId),\n                predicted_round: values.predicted_round ? parseInt(values.predicted_round) : null,\n                confidence_level: values.confidence_level ? parseInt(values.confidence_level) : null,\n                notes: values.notes || ''\n            };\n\n            // Must have a predicted round to save\n            if (!requestData.predicted_round) {\n                throw new Error('Predicted round is required');\n            }\n\n            const csrfToken = this.getCSRFToken();\n            console.log('Auto-saving prediction:', requestData);\n            console.log('CSRF token:', csrfToken);\n\n            const response = await fetch('/draft-predictions/predict', {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json',\n                    'X-CSRFToken': csrfToken\n                },\n                body: JSON.stringify(requestData)\n            });\n\n            if (!response.ok) {\n                throw new Error(`HTTP ${response.status}: ${response.statusText}`);\n            }\n\n            const result = await response.json();\n            console.log('Auto-save response:', result);\n\n            if (!result.success) {\n                throw new Error(result.message || 'Failed to save prediction');\n            }\n\n            return result;\n\n        } catch (error) {\n            console.error('Error submitting prediction:', error);\n            throw error;\n        }\n    }\n\n    submitFilterForm() {\n        const filterForm = document.getElementById('filterForm');\n        if (filterForm) {\n            filterForm.submit();\n        }\n    }\n\n    showToast(type, message) {\n        // Use SweetAlert2 if available, otherwise fall back to browser alert\n        if (typeof Swal !== 'undefined') {\n            const icon = type === 'success' ? 'success' : 'error';\n            const title = type === 'success' ? 'Success!' : 'Error';\n            \n            Swal.fire({\n                icon: icon,\n                title: title,\n                text: message,\n                timer: 3000,\n                showConfirmButton: false,\n                toast: true,\n                position: 'top-end'\n            });\n        } else {\n            // Only show errors in console to avoid spamming user\n            if (type === 'error') {\n                console.error(message);\n            }\n        }\n    }\n\n    getCSRFToken() {\n        // Get CSRF token from meta tag first (most reliable)\n        const tokenMeta = document.querySelector('meta[name=\"csrf-token\"]');\n        if (tokenMeta) {\n            const token = tokenMeta.getAttribute('content');\n            if (token && token.trim()) {\n                return token.trim();\n            }\n        }\n\n        // Fallback: get from form\n        const tokenInput = document.querySelector('input[name=\"csrf_token\"]');\n        if (tokenInput && tokenInput.value) {\n            return tokenInput.value.trim();\n        }\n\n        // Last resort: get from cookies\n        const cookies = document.cookie.split(';');\n        for (let cookie of cookies) {\n            const [name, value] = cookie.trim().split('=');\n            if (name === 'csrf_token' && value) {\n                return value.trim();\n            }\n        }\n\n        console.error('CSRF token not found');\n        return '';\n    }\n\n    showPlayerImageModal(imgElement) {\n        const playerName = imgElement.dataset.playerName;\n        const fullImageUrl = imgElement.dataset.fullImage;\n        \n        if (!fullImageUrl) {\n            console.log('No full image URL available for player:', playerName);\n            return;\n        }\n\n        // Get modal elements\n        const modal = document.getElementById('playerImageModal');\n        const modalImg = document.getElementById('playerImageModalImg');\n        const modalName = document.getElementById('playerImageModalName');\n        const modalLabel = document.getElementById('playerImageModalLabel');\n\n        if (!modal || !modalImg || !modalName || !modalLabel) {\n            console.error('Modal elements not found');\n            return;\n        }\n\n        // Set modal content\n        modalImg.src = fullImageUrl;\n        modalImg.alt = playerName;\n        modalName.textContent = playerName;\n        modalLabel.textContent = `${playerName} - Player Photo`;\n\n        // Show modal using Bootstrap 5\n        ModalManager.show(modal.id);\n\n        // Handle image load error\n        modalImg.onerror = function() {\n            modalImg.src = imgElement.src; // Fallback to thumbnail\n            console.log('Full image failed to load, using thumbnail');\n        };\n    }\n}\n\n// Utility functions for quick access\nwindow.DraftPredictions = {\n    // Quick prediction submission for specific player\n    setPrediction: function(playerId, round, confidence = null, notes = '') {\n        const row = document.querySelector(`tr[data-player-id=\"${playerId}\"]`);\n        if (row) {\n            const roundInput = row.querySelector('.predicted-round-input');\n            const confidenceInput = row.querySelector('.confidence-input');\n            const notesInput = row.querySelector('.notes-input');\n\n            if (roundInput) {\n                roundInput.value = round;\n                roundInput.dispatchEvent(new Event('change'));\n            }\n            if (confidence && confidenceInput) {\n                confidenceInput.value = confidence;\n                confidenceInput.dispatchEvent(new Event('change'));\n            }\n            if (notes && notesInput) {\n                notesInput.value = notes;\n                notesInput.dispatchEvent(new Event('input'));\n            }\n        }\n    },\n\n    // Bulk prediction helper\n    bulkSetRounds: function(roundMappings) {\n        Object.entries(roundMappings).forEach(([playerId, round]) => {\n            this.setPrediction(playerId, round);\n        });\n    }\n};\n\n// Initialize when DOM is ready\ndocument.addEventListener('DOMContentLoaded', function() {\n    if (document.getElementById('playersTable')) {\n        window.draftPredictionsManager = new DraftPredictionsManager();\n    }\n});\n","/**\n * ECS FC Schedule Management JavaScript\n * \n * This module handles all client-side functionality for ECS FC schedule management\n * including match creation, editing, calendar display, and RSVP handling.\n */\n\n// Global variables\nlet currentTeamId = null;\nlet calendar = null;\nlet currentMatches = [];\n\n// Initialize ECS FC schedule management\ndocument.addEventListener('DOMContentLoaded', function() {\n    initializeEcsFcSchedule();\n});\n\n/**\n * Initialize ECS FC schedule functionality\n */\nfunction initializeEcsFcSchedule() {\n    // Get team ID from page data\n    const teamData = document.getElementById('team-data');\n    if (teamData) {\n        currentTeamId = parseInt(teamData.dataset.teamId);\n    }\n\n    // Initialize components\n    if (currentTeamId) {\n        initializeCalendar();\n        ecsFcInitializeEventHandlers();\n        loadTeamMatches();\n    }\n}\n\n/**\n * Initialize event handlers for ECS FC schedule management\n */\nfunction ecsFcInitializeEventHandlers() {\n    // Create match button\n    const createMatchBtn = document.getElementById('create-match-btn');\n    if (createMatchBtn) {\n        createMatchBtn.addEventListener('click', showCreateMatchModal);\n    }\n\n    // Import matches button\n    const importMatchesBtn = document.getElementById('import-matches-btn');\n    if (importMatchesBtn) {\n        importMatchesBtn.addEventListener('click', showImportMatchesModal);\n    }\n\n    // Match form submission\n    const matchForm = document.getElementById('ecs-fc-match-form');\n    if (matchForm) {\n        matchForm.addEventListener('submit', handleMatchFormSubmit);\n    }\n\n    // Import form submission\n    const importForm = document.getElementById('ecs-fc-import-form');\n    if (importForm) {\n        importForm.addEventListener('submit', handleImportFormSubmit);\n    }\n\n    // RSVP form submissions\n    document.addEventListener('click', function(e) {\n        if (e.target.classList.contains('js-rsvp-btn')) {\n            handleRsvpResponse(e.target);\n        }\n        if (e.target.classList.contains('js-edit-match-btn')) {\n            ecsFcEditMatch(e.target.dataset.matchId);\n        }\n        if (e.target.classList.contains('js-delete-match-btn')) {\n            ecsFcDeleteMatch(e.target.dataset.matchId);\n        }\n        if (e.target.classList.contains('js-send-reminder-btn')) {\n            sendRsvpReminder(e.target.dataset.matchId);\n        }\n    });\n\n    // Real-time updates via WebSocket\n    if (typeof io !== 'undefined') {\n        const socket = io();\n        socket.on('rsvp_update', handleRsvpUpdate);\n        socket.on('match_update', handleMatchUpdate);\n    }\n}\n\n/**\n * Initialize FullCalendar for ECS FC matches\n */\nfunction initializeCalendar() {\n    const calendarEl = document.getElementById('ecs-fc-calendar');\n    if (!calendarEl) return;\n\n    calendar = new FullCalendar.Calendar(calendarEl, {\n        initialView: 'dayGridMonth',\n        headerToolbar: {\n            left: 'prev,next today',\n            center: 'title',\n            right: 'dayGridMonth,timeGridWeek,listWeek'\n        },\n        events: function(fetchInfo, successCallback, failureCallback) {\n            loadCalendarEvents(fetchInfo.start, fetchInfo.end, successCallback, failureCallback);\n        },\n        eventClick: function(info) {\n            showMatchDetails(info.event.id);\n        },\n        selectable: true,\n        select: function(selectInfo) {\n            showCreateMatchModal(selectInfo.start);\n        },\n        height: 'auto',\n        eventDisplay: 'block',\n        dayMaxEvents: 3\n    });\n\n    calendar.render();\n}\n\n/**\n * Load calendar events for date range\n */\nfunction loadCalendarEvents(start, end, successCallback, failureCallback) {\n    const startDate = start.toISOString().split('T')[0];\n    const endDate = end.toISOString().split('T')[0];\n\n    fetch(`/api/ecs-fc/teams/${currentTeamId}/matches/calendar?start_date=${startDate}&end_date=${endDate}`)\n        .then(response => response.json())\n        .then(data => {\n            if (data.success) {\n                successCallback(data.data.events);\n            } else {\n                console.error('Failed to load calendar events:', data.message);\n                failureCallback(data.message);\n            }\n        })\n        .catch(error => {\n            console.error('Error loading calendar events:', error);\n            failureCallback(error);\n        });\n}\n\n/**\n * Load team matches for list view\n */\nfunction loadTeamMatches(upcomingOnly = true) {\n    const url = `/api/ecs-fc/teams/${currentTeamId}/matches?upcoming_only=${upcomingOnly}`;\n    \n    fetch(url)\n        .then(response => response.json())\n        .then(data => {\n            if (data.success) {\n                currentMatches = data.data.matches;\n                renderMatchesList(currentMatches);\n            } else {\n                ecsFcShowAlert('error', 'Failed to load matches: ' + data.message);\n            }\n        })\n        .catch(error => {\n            console.error('Error loading matches:', error);\n            ecsFcShowAlert('error', 'Error loading matches');\n        });\n}\n\n/**\n * Render matches list\n */\nfunction renderMatchesList(matches) {\n    const container = document.getElementById('matches-list-container');\n    if (!container) return;\n\n    if (matches.length === 0) {\n        container.innerHTML = `\n            <div class=\"alert alert-info\">\n                <i class=\"fas fa-info-circle me-2\"></i>\n                No matches found. Create your first match using the \"Create Match\" button.\n            </div>\n        `;\n        return;\n    }\n\n    const matchesHtml = matches.map(match => createMatchCard(match)).join('');\n    container.innerHTML = matchesHtml;\n\n    // Load RSVP summaries for each match\n    matches.forEach(match => {\n        loadRsvpSummary(match.id);\n    });\n}\n\n/**\n * Create HTML card for a match\n */\nfunction createMatchCard(match) {\n    const matchDate = new Date(match.match_date + 'T' + match.match_time);\n    const isUpcoming = matchDate > new Date();\n    const statusBadge = getStatusBadge(match.status);\n    const homeAwayBadge = match.is_home_match\n        ? '<span class=\"badge bg-success match-location-home\">Home</span>'\n        : '<span class=\"badge bg-primary match-location-away\">Away</span>';\n\n    return `\n        <div class=\"card mb-3 js-match-card\" data-match-id=\"${match.id}\">\n            <div class=\"card-header d-flex justify-content-between align-items-center\">\n                <h6 class=\"mb-0\">\n                    <i class=\"fas fa-futbol me-2\"></i>\n                    ${match.team_name} vs ${match.opponent_name}\n                </h6>\n                <div>\n                    ${homeAwayBadge}\n                    ${statusBadge}\n                </div>\n            </div>\n            <div class=\"card-body\">\n                <div class=\"row\">\n                    <div class=\"col-md-6\">\n                        <p class=\"mb-1\"><strong>Date:</strong> ${ecsFcFormatDate(match.match_date)}</p>\n                        <p class=\"mb-1\"><strong>Time:</strong> ${formatTime(match.match_time)}</p>\n                        <p class=\"mb-1\"><strong>Location:</strong> ${match.location}</p>\n                        ${match.field_name ? `<p class=\"mb-1\"><strong>Field:</strong> ${match.field_name}</p>` : ''}\n                    </div>\n                    <div class=\"col-md-6\">\n                        <div class=\"js-rsvp-summary\" id=\"rsvp-summary-${match.id}\">\n                            <div class=\"spinner-border spinner-border-sm\" role=\"status\">\n                                <span class=\"visually-hidden\">Loading...</span>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n                ${match.notes ? `<div class=\"mt-2\"><strong>Notes:</strong> ${match.notes}</div>` : ''}\n                \n                <div class=\"mt-3 d-flex flex-wrap gap-2\">\n                    ${isUpcoming ? `\n                        <button class=\"btn btn-sm btn-success js-rsvp-btn\" data-match-id=\"${match.id}\" data-response=\"yes\">\n                            <i class=\"fas fa-check me-1\"></i>Yes\n                        </button>\n                        <button class=\"btn btn-sm btn-danger js-rsvp-btn\" data-match-id=\"${match.id}\" data-response=\"no\">\n                            <i class=\"fas fa-times me-1\"></i>No\n                        </button>\n                        <button class=\"btn btn-sm btn-warning js-rsvp-btn\" data-match-id=\"${match.id}\" data-response=\"maybe\">\n                            <i class=\"fas fa-question me-1\"></i>Maybe\n                        </button>\n                        <button class=\"btn btn-sm btn-info js-send-reminder-btn\" data-match-id=\"${match.id}\">\n                            <i class=\"fas fa-bell me-1\"></i>Send Reminder\n                        </button>\n                    ` : ''}\n\n                    <button class=\"btn btn-sm btn-outline-primary js-edit-match-btn\" data-match-id=\"${match.id}\">\n                        <i class=\"fas fa-edit me-1\"></i>Edit\n                    </button>\n                    <button class=\"btn btn-sm btn-outline-danger js-delete-match-btn\" data-match-id=\"${match.id}\">\n                        <i class=\"fas fa-trash me-1\"></i>Delete\n                    </button>\n                </div>\n            </div>\n        </div>\n    `;\n}\n\n/**\n * Get status badge HTML\n */\nfunction getStatusBadge(status) {\n    switch (status) {\n        case 'SCHEDULED':\n            return '<span class=\"badge bg-info match-status-scheduled\">Scheduled</span>';\n        case 'COMPLETED':\n            return '<span class=\"badge bg-success match-status-completed\">Completed</span>';\n        case 'CANCELLED':\n            return '<span class=\"badge bg-danger match-status-cancelled\">Cancelled</span>';\n        default:\n            return '<span class=\"badge bg-secondary match-status-unknown\">Unknown</span>';\n    }\n}\n\n/**\n * Load and display RSVP summary for a match\n */\nfunction loadRsvpSummary(matchId) {\n    fetch(`/api/ecs-fc/matches/${matchId}/rsvp`)\n        .then(response => response.json())\n        .then(data => {\n            if (data.success) {\n                renderRsvpSummary(matchId, data.data.rsvp_summary);\n            } else {\n                console.error('Failed to load RSVP summary:', data.message);\n            }\n        })\n        .catch(error => {\n            console.error('Error loading RSVP summary:', error);\n        });\n}\n\n/**\n * Render RSVP summary\n */\nfunction renderRsvpSummary(matchId, summary) {\n    const container = document.getElementById(`rsvp-summary-${matchId}`);\n    if (!container) return;\n\n    const total = summary.yes + summary.no + summary.maybe + summary.no_response;\n    const responseRate = total > 0 ? ((summary.yes + summary.no + summary.maybe) / total * 100).toFixed(0) : 0;\n\n    container.innerHTML = `\n        <div class=\"js-rsvp-counts\">\n            <small class=\"text-muted\">RSVP Status:</small>\n            <div class=\"d-flex justify-content-between mt-1\">\n                <span class=\"badge bg-success rsvp-status-yes\"> ${summary.yes}</span>\n                <span class=\"badge bg-danger rsvp-status-no\"> ${summary.no}</span>\n                <span class=\"badge bg-warning rsvp-status-maybe\">? ${summary.maybe}</span>\n                <span class=\"badge bg-secondary rsvp-status-none\">- ${summary.no_response}</span>\n            </div>\n            <small class=\"text-muted\">${responseRate}% responded</small>\n        </div>\n    `;\n}\n\n/**\n * Show create match modal\n */\nfunction showCreateMatchModal(selectedDate = null) {\n    const modal = document.getElementById('createMatchModal');\n    if (!modal) return;\n\n    // Reset form\n    const form = document.getElementById('ecs-fc-match-form');\n    if (form) {\n        form.reset();\n        \n        // Set default date if provided\n        if (selectedDate) {\n            const dateInput = form.querySelector('[name=\"match_date\"]');\n            if (dateInput) {\n                dateInput.value = selectedDate.toISOString().split('T')[0];\n            }\n        }\n    }\n\n    // Show modal\n    ModalManager.show(modal.id);\n}\n\n/**\n * Handle match form submission\n */\nfunction handleMatchFormSubmit(e) {\n    e.preventDefault();\n    \n    const form = e.target;\n    const formData = new FormData(form);\n    const matchData = Object.fromEntries(formData.entries());\n    \n    // Convert boolean fields\n    matchData.is_home_match = formData.get('is_home_match') === 'on';\n    matchData.team_id = currentTeamId;\n\n    // Create or update match\n    const matchId = form.dataset.matchId;\n    const url = matchId \n        ? `/api/ecs-fc/matches/${matchId}`\n        : '/api/ecs-fc/matches';\n    const method = matchId ? 'PUT' : 'POST';\n\n    fetch(url, {\n        method: method,\n        headers: {\n            'Content-Type': 'application/json',\n        },\n        body: JSON.stringify(matchData)\n    })\n    .then(response => response.json())\n    .then(data => {\n        if (data.success) {\n            ecsFcShowAlert('success', data.message);\n\n            // Close modal\n            const modal = bootstrap.Modal.getInstance(document.getElementById('createMatchModal'));\n            if (modal) modal.hide();\n\n            // Refresh displays\n            loadTeamMatches();\n            if (calendar) calendar.refetchEvents();\n        } else {\n            ecsFcShowAlert('error', 'Failed to save match: ' + data.message);\n        }\n    })\n    .catch(error => {\n        console.error('Error saving match:', error);\n        ecsFcShowAlert('error', 'Error saving match');\n    });\n}\n\n/**\n * Edit a match\n */\nfunction ecsFcEditMatch(matchId) {\n    // Find match data\n    const match = currentMatches.find(m => m.id == matchId);\n    if (!match) return;\n\n    // Populate form\n    const form = document.getElementById('ecs-fc-match-form');\n    if (!form) return;\n\n    form.dataset.matchId = matchId;\n    form.querySelector('[name=\"opponent_name\"]').value = match.opponent_name;\n    form.querySelector('[name=\"match_date\"]').value = match.match_date;\n    form.querySelector('[name=\"match_time\"]').value = match.match_time;\n    form.querySelector('[name=\"location\"]').value = match.location;\n    form.querySelector('[name=\"field_name\"]').value = match.field_name || '';\n    form.querySelector('[name=\"is_home_match\"]').checked = match.is_home_match;\n    form.querySelector('[name=\"notes\"]').value = match.notes || '';\n\n    // Update modal title\n    const modalTitle = document.querySelector('#createMatchModal .modal-title');\n    if (modalTitle) {\n        modalTitle.textContent = 'Edit Match';\n    }\n\n    // Show modal\n    ModalManager.show('createMatchModal');\n}\n\n/**\n * Delete a match\n */\nfunction ecsFcDeleteMatch(matchId) {\n    if (!confirm('Are you sure you want to delete this match? This action cannot be undone.')) {\n        return;\n    }\n\n    fetch(`/api/ecs-fc/matches/${matchId}`, {\n        method: 'DELETE'\n    })\n    .then(response => response.json())\n    .then(data => {\n        if (data.success) {\n            ecsFcShowAlert('success', data.message);\n            loadTeamMatches();\n            if (calendar) calendar.refetchEvents();\n        } else {\n            ecsFcShowAlert('error', 'Failed to delete match: ' + data.message);\n        }\n    })\n    .catch(error => {\n        console.error('Error deleting match:', error);\n        ecsFcShowAlert('error', 'Error deleting match');\n    });\n}\n\n/**\n * Handle RSVP response\n */\nfunction handleRsvpResponse(button) {\n    const matchId = button.dataset.matchId;\n    const response = button.dataset.response;\n\n    fetch(`/api/ecs-fc/matches/${matchId}/rsvp`, {\n        method: 'POST',\n        headers: {\n            'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({ response: response })\n    })\n    .then(response => response.json())\n    .then(data => {\n        if (data.success) {\n            ecsFcShowAlert('success', 'RSVP updated successfully');\n            loadRsvpSummary(matchId);\n        } else {\n            ecsFcShowAlert('error', 'Failed to update RSVP: ' + data.message);\n        }\n    })\n    .catch(error => {\n        console.error('Error updating RSVP:', error);\n        ecsFcShowAlert('error', 'Error updating RSVP');\n    });\n}\n\n/**\n * Send RSVP reminder\n */\nfunction sendRsvpReminder(matchId) {\n    fetch(`/api/ecs-fc/matches/${matchId}/remind`, {\n        method: 'POST'\n    })\n    .then(response => response.json())\n    .then(data => {\n        if (data.success) {\n            ecsFcShowAlert('success', data.message);\n        } else {\n            ecsFcShowAlert('error', 'Failed to send reminders: ' + data.message);\n        }\n    })\n    .catch(error => {\n        console.error('Error sending reminders:', error);\n        ecsFcShowAlert('error', 'Error sending reminders');\n    });\n}\n\n/**\n * Show import matches modal\n */\nfunction showImportMatchesModal() {\n    const modal = document.getElementById('importMatchesModal');\n    if (!modal) return;\n\n    ModalManager.show(modal.id);\n}\n\n/**\n * Handle import form submission\n */\nfunction handleImportFormSubmit(e) {\n    e.preventDefault();\n    \n    const csvInput = document.getElementById('csv-matches');\n    const csvText = csvInput.value.trim();\n\n    if (!csvText) {\n        ecsFcShowAlert('error', 'Please enter CSV data');\n        return;\n    }\n\n    // Parse CSV\n    const matches = parseMatchesCsv(csvText);\n    if (matches.length === 0) {\n        ecsFcShowAlert('error', 'No valid matches found in CSV data');\n        return;\n    }\n\n    // Import matches\n    fetch('/api/ecs-fc/matches/import', {\n        method: 'POST',\n        headers: {\n            'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({\n            team_id: currentTeamId,\n            matches: matches\n        })\n    })\n    .then(response => response.json())\n    .then(data => {\n        if (data.success) {\n            ecsFcShowAlert('success', data.message);\n\n            // Close modal\n            const modal = bootstrap.Modal.getInstance(document.getElementById('importMatchesModal'));\n            if (modal) modal.hide();\n\n            // Refresh displays\n            loadTeamMatches();\n            if (calendar) calendar.refetchEvents();\n        } else {\n            ecsFcShowAlert('error', 'Import failed: ' + data.message);\n        }\n    })\n    .catch(error => {\n        console.error('Error importing matches:', error);\n        ecsFcShowAlert('error', 'Error importing matches');\n    });\n}\n\n/**\n * Parse CSV data into matches array\n */\nfunction parseMatchesCsv(csvText) {\n    const lines = csvText.split('\\n').map(line => line.trim()).filter(line => line);\n    const matches = [];\n\n    // Skip header if present\n    let startIndex = 0;\n    if (lines[0] && lines[0].toLowerCase().includes('opponent')) {\n        startIndex = 1;\n    }\n\n    for (let i = startIndex; i < lines.length; i++) {\n        const fields = lines[i].split(',').map(field => field.trim().replace(/^[\"']|[\"']$/g, ''));\n        \n        if (fields.length >= 5) {\n            const match = {\n                opponent_name: fields[0],\n                match_date: fields[1],\n                match_time: fields[2],\n                location: fields[3],\n                is_home_match: fields[4].toLowerCase() === 'home' || fields[4].toLowerCase() === 'true',\n                field_name: fields[5] || null,\n                notes: fields[6] || null\n            };\n            \n            // Validate required fields\n            if (match.opponent_name && match.match_date && match.match_time && match.location) {\n                matches.push(match);\n            }\n        }\n    }\n\n    return matches;\n}\n\n/**\n * Handle real-time RSVP updates\n */\nfunction handleRsvpUpdate(data) {\n    if (data.match_type === 'ecs_fc' && data.match_id) {\n        loadRsvpSummary(data.match_id);\n    }\n}\n\n/**\n * Handle real-time match updates\n */\nfunction handleMatchUpdate(data) {\n    if (data.match_type === 'ecs_fc') {\n        loadTeamMatches();\n        if (calendar) calendar.refetchEvents();\n    }\n}\n\n/**\n * Utility functions\n */\nfunction ecsFcFormatDate(dateString) {\n    return new Date(dateString).toLocaleDateString('en-US', {\n        weekday: 'short',\n        year: 'numeric',\n        month: 'short',\n        day: 'numeric'\n    });\n}\n\nfunction formatTime(timeString) {\n    const [hours, minutes] = timeString.split(':');\n    const date = new Date();\n    date.setHours(parseInt(hours), parseInt(minutes));\n    return date.toLocaleTimeString('en-US', {\n        hour: 'numeric',\n        minute: '2-digit',\n        hour12: true\n    });\n}\n\nfunction ecsFcShowAlert(type, message) {\n    // Create alert element\n    const alertDiv = document.createElement('div');\n    alertDiv.className = `alert alert-${type} alert-dismissible fade show`;\n    alertDiv.classList.add('js-alert-message');\n    alertDiv.innerHTML = `\n        ${message}\n        <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"alert\"></button>\n    `;\n\n    // Find alerts container or create one\n    let container = document.getElementById('alerts-container');\n    if (!container) {\n        container = document.createElement('div');\n        container.id = 'alerts-container';\n        container.classList.add('js-alerts-container', 'u-fixed-top', 'u-z-index-9999');\n        document.body.appendChild(container);\n    }\n\n    // Add alert\n    container.appendChild(alertDiv);\n\n    // Auto-dismiss after 5 seconds\n    setTimeout(() => {\n        if (alertDiv.parentNode) {\n            alertDiv.remove();\n        }\n    }, 5000);\n}\n\n// Export functions for global access\nwindow.EcsFcSchedule = {\n    loadTeamMatches,\n    showCreateMatchModal,\n    editMatch: ecsFcEditMatch,\n    deleteMatch: ecsFcDeleteMatch,\n    sendRsvpReminder\n};\n","/**\n * Live Match Reporting Client\n * \n * This module provides client-side functionality for the multi-user live match \n * reporting system. It handles WebSocket communication, UI updates, and \n * synchronization of match data between multiple reporters.\n */\n\n// Initialize SocketIO with the live reporting namespace\nlet socket;\nlet matchId;\nlet teamId;\nlet matchState;\nlet activeReporters = [];\nlet playerShifts = [];\nlet timerInterval;\nlet isTimerRunning = false;\n\n/**\n * Initialize the live reporting module\n * @param {Object} config - Configuration options\n * @param {number} config.matchId - ID of the match being reported\n * @param {number} config.teamId - ID of the team the user is reporting for\n * @param {string} config.socketUrl - WebSocket server URL (optional)\n */\nfunction initLiveReporting(config) {\n    matchId = config.matchId;\n    teamId = config.teamId;\n    \n    // Connect to SocketIO server\n    const socketUrl = config.socketUrl || window.location.origin;\n    socket = io(socketUrl + '/live');\n    \n    // Setup event listeners\n    setupSocketListeners();\n    setupUIListeners();\n    \n    // Join the match room when connected\n    socket.on('connect', () => {\n        // Connected to live reporting server\n        joinMatch();\n    });\n}\n\n/**\n * Set up all socket event listeners\n */\nfunction setupSocketListeners() {\n    // Connection events\n    socket.on('disconnect', () => {\n        // Disconnected from live reporting server\n        liveReportingShowNotification('Connection lost. Attempting to reconnect...', 'warning');\n        \n        // Stop the timer if it's running\n        if (timerInterval) {\n            clearInterval(timerInterval);\n            timerInterval = null;\n        }\n    });\n    \n    socket.on('error', (error) => {\n        // Socket error\n        liveReportingShowNotification('Error: ' + error.message, 'danger');\n    });\n    \n    // Match state events\n    socket.on('match_state', (state) => {\n        // Received match state\n        matchState = state;\n        updateMatchUI(state);\n    });\n    \n    socket.on('active_reporters', (reporters) => {\n        // Active reporters\n        activeReporters = reporters;\n        updateReportersUI(reporters);\n    });\n    \n    socket.on('player_shifts', (shifts) => {\n        // Player shifts\n        playerShifts = shifts;\n        updateShiftsUI(shifts);\n    });\n    \n    // Live updates\n    socket.on('reporter_joined', (data) => {\n        // Reporter joined\n        liveReportingShowNotification(`${data.username} joined as a reporter for ${data.team_name}`, 'info');\n        \n        // Add to active reporters if not already present\n        if (!activeReporters.find(r => r.user_id === data.user_id)) {\n            activeReporters.push(data);\n            updateReportersUI(activeReporters);\n        }\n    });\n    \n    socket.on('reporter_left', (data) => {\n        // Reporter left\n        liveReportingShowNotification(`${data.username} is no longer reporting`, 'info');\n        \n        // Remove from active reporters\n        activeReporters = activeReporters.filter(r => r.user_id !== data.user_id);\n        updateReportersUI(activeReporters);\n    });\n    \n    socket.on('score_updated', (data) => {\n        // Score updated\n        \n        // Update match state\n        if (matchState) {\n            matchState.home_score = data.home_score;\n            matchState.away_score = data.away_score;\n            updateScoreUI(data.home_score, data.away_score);\n        }\n        \n        liveReportingShowNotification(`Score updated to ${data.home_score}-${data.away_score} by ${data.updated_by_name}`, 'success');\n    });\n\n    socket.on('timer_updated', (data) => {\n        // Timer updated\n\n        // Update match state\n        if (matchState) {\n            matchState.elapsed_seconds = data.elapsed_seconds;\n            matchState.timer_running = data.is_running;\n            if (data.period) {\n                matchState.period = data.period;\n            }\n\n            updateTimerUI(data.elapsed_seconds, data.is_running, data.period);\n        }\n\n        liveReportingShowNotification(`Timer updated by ${data.updated_by_name}`, 'info');\n    });\n    \n    socket.on('event_added', (data) => {\n        // Event added\n        const event = data.event;\n        \n        // Add to match events\n        if (matchState && matchState.events) {\n            matchState.events.push(event);\n            updateEventsUI(matchState.events);\n        }\n        \n        let eventMessage = `${event.event_type}`;\n        if (event.player_name) {\n            eventMessage += ` by ${event.player_name}`;\n        }\n        if (event.team_name) {\n            eventMessage += ` (${event.team_name})`;\n        }\n        if (event.minute) {\n            eventMessage += ` at ${event.minute}'`;\n        }\n        \n        liveReportingShowNotification(`New event: ${eventMessage}`, 'success');\n    });\n\n    socket.on('player_shift_updated', (data) => {\n        // Player shift updated\n\n        // Only process shift updates for our team\n        if (data.team_id === teamId) {\n            // Update the shift if it exists, or add a new one\n            const existingShiftIndex = playerShifts.findIndex(s => s.player_id === data.player_id);\n\n            if (existingShiftIndex >= 0) {\n                playerShifts[existingShiftIndex].is_active = data.is_active;\n                playerShifts[existingShiftIndex].last_updated = new Date().toISOString();\n            } else {\n                playerShifts.push({\n                    player_id: data.player_id,\n                    player_name: data.player_name,\n                    is_active: data.is_active,\n                    last_updated: new Date().toISOString()\n                });\n            }\n\n            updateShiftsUI(playerShifts);\n            liveReportingShowNotification(`Player ${data.player_name} shift ${data.is_active ? 'started' : 'ended'}`, 'info');\n        }\n    });\n    \n    socket.on('report_submitted', (data) => {\n        // Report submitted\n        \n        // Update match state\n        if (matchState) {\n            matchState.report_submitted = true;\n            matchState.report_submitted_by = data.submitted_by;\n            updateMatchStatusUI('completed');\n        }\n        \n        liveReportingShowNotification(`Final report submitted by ${data.submitted_by_name}`, 'success');\n\n        // Disable reporting controls\n        disableReportingControls();\n\n        // Show completion message\n        $('#reportCompleteMessage').removeClass('u-hidden');\n    });\n\n    socket.on('report_submission_error', (data) => {\n        // Report submission error\n        liveReportingShowNotification(`Error submitting report: ${data.message}`, 'danger');\n    });\n}\n\n/**\n * Set up UI event listeners\n */\nfunction setupUIListeners() {\n    // Score controls\n    $('#increaseHomeScore').on('click', function() {\n        if (!matchState) return;\n        \n        const newScore = matchState.home_score + 1;\n        updateScore(newScore, matchState.away_score);\n    });\n    \n    $('#decreaseHomeScore').on('click', function() {\n        if (!matchState || matchState.home_score <= 0) return;\n        \n        const newScore = matchState.home_score - 1;\n        updateScore(newScore, matchState.away_score);\n    });\n    \n    $('#increaseAwayScore').on('click', function() {\n        if (!matchState) return;\n        \n        const newScore = matchState.away_score + 1;\n        updateScore(matchState.home_score, newScore);\n    });\n    \n    $('#decreaseAwayScore').on('click', function() {\n        if (!matchState || matchState.away_score <= 0) return;\n        \n        const newScore = matchState.away_score - 1;\n        updateScore(matchState.home_score, newScore);\n    });\n    \n    // Timer controls\n    $('#startStopTimer').on('click', function() {\n        if (!matchState) return;\n        \n        const newTimerState = !isTimerRunning;\n        toggleTimer(newTimerState);\n    });\n    \n    $('#resetTimer').on('click', function() {\n        if (!matchState) return;\n        \n        // Ask for confirmation before resetting\n        if (confirm('Are you sure you want to reset the timer to 0?')) {\n            updateTimer(0, isTimerRunning);\n        }\n    });\n    \n    // Period selection\n    $('#periodSelector').on('change', function() {\n        if (!matchState) return;\n        \n        const newPeriod = $(this).val();\n        updatePeriod(newPeriod);\n    });\n    \n    // Event form\n    $('#addEventForm').on('submit', function(e) {\n        e.preventDefault();\n        \n        const eventType = $('#eventType').val();\n        const eventTeamId = $('#eventTeam').val();\n        const eventPlayerId = $('#eventPlayer').val();\n        const eventMinute = $('#eventMinute').val();\n        \n        addEvent({\n            event_type: eventType,\n            team_id: parseInt(eventTeamId),\n            player_id: eventPlayerId ? parseInt(eventPlayerId) : null,\n            minute: eventMinute ? parseInt(eventMinute) : null,\n            period: matchState ? matchState.period : null\n        });\n        \n        // Reset form\n        this.reset();\n        \n        // Update player dropdown based on team selection\n        const defaultTeam = $('#eventTeam option:first').val();\n        updatePlayerDropdown(defaultTeam);\n    });\n    \n    // Team selection changes player dropdown\n    $('#eventTeam').on('change', function() {\n        const selectedTeamId = $(this).val();\n        updatePlayerDropdown(selectedTeamId);\n    });\n    \n    // Player shift toggles\n    $('#playerShiftsContainer').on('click', '.js-player-shift-toggle', function() {\n        const playerId = $(this).data('player-id');\n        const isActive = $(this).data('active') !== true;\n\n        // Toggle the active state\n        togglePlayerShift(playerId, isActive);\n    });\n    \n    // Submit report button\n    $('#submitReportBtn').on('click', function() {\n        if (!matchState) return;\n        \n        // Ask for confirmation\n        if (confirm('Are you sure you want to submit the final match report? This action cannot be undone.')) {\n            submitFinalReport();\n        }\n    });\n    \n    // Event type changes UI elements shown\n    $('#eventType').on('change', function() {\n        const eventType = $(this).val();\n\n        // Show/hide player selection based on event type\n        if (['GOAL', 'YELLOW_CARD', 'RED_CARD', 'SUBSTITUTION'].includes(eventType)) {\n            $('#playerSelectGroup').removeClass('u-hidden');\n        } else {\n            $('#playerSelectGroup').addClass('u-hidden');\n        }\n\n        // Show additional fields for substitutions\n        if (eventType === 'SUBSTITUTION') {\n            $('#substitutionFields').removeClass('u-hidden');\n        } else {\n            $('#substitutionFields').addClass('u-hidden');\n        }\n    });\n}\n\n/**\n * Join a match room\n */\nfunction joinMatch() {\n    socket.emit('join_match', {\n        match_id: matchId,\n        team_id: teamId\n    });\n}\n\n/**\n * Leave a match room\n */\nfunction leaveMatch() {\n    socket.emit('leave_match', {\n        match_id: matchId\n    });\n}\n\n/**\n * Update the match score\n */\nfunction updateScore(homeScore, awayScore) {\n    socket.emit('update_score', {\n        match_id: matchId,\n        home_score: homeScore,\n        away_score: awayScore\n    });\n}\n\n/**\n * Update the match timer\n */\nfunction updateTimer(elapsedSeconds, isRunning, period = null) {\n    const data = {\n        match_id: matchId,\n        elapsed_seconds: elapsedSeconds,\n        is_running: isRunning\n    };\n    \n    if (period) {\n        data.period = period;\n    }\n    \n    socket.emit('update_timer', data);\n}\n\n/**\n * Update the match period\n */\nfunction updatePeriod(period) {\n    // Use the timer update event to also update the period\n    if (matchState) {\n        updateTimer(matchState.elapsed_seconds, isTimerRunning, period);\n    }\n}\n\n/**\n * Toggle the timer state\n */\nfunction toggleTimer(shouldRun) {\n    if (!matchState) return;\n    \n    if (shouldRun !== isTimerRunning) {\n        isTimerRunning = shouldRun;\n        \n        if (shouldRun) {\n            // Start the timer locally\n            startTimerInterval();\n            \n            // Update the server\n            updateTimer(matchState.elapsed_seconds, true);\n            \n            // Update UI\n            $('#startStopTimer').text('Pause Timer');\n            $('#startStopTimer').removeClass('timer-stopped').addClass('timer-running');\n        } else {\n            // Stop the timer locally\n            if (timerInterval) {\n                clearInterval(timerInterval);\n                timerInterval = null;\n            }\n\n            // Update the server\n            updateTimer(matchState.elapsed_seconds, false);\n\n            // Update UI\n            $('#startStopTimer').text('Start Timer');\n            $('#startStopTimer').removeClass('timer-running').addClass('timer-stopped');\n        }\n    }\n}\n\n/**\n * Start the local timer interval\n */\nfunction startTimerInterval() {\n    if (timerInterval) {\n        clearInterval(timerInterval);\n    }\n    \n    // Update every second\n    timerInterval = setInterval(() => {\n        if (matchState && isTimerRunning) {\n            matchState.elapsed_seconds++;\n            updateTimerDisplay(matchState.elapsed_seconds);\n        }\n    }, 1000);\n}\n\n/**\n * Add a match event\n */\nfunction addEvent(eventData) {\n    socket.emit('add_event', {\n        match_id: matchId,\n        event: eventData\n    });\n}\n\n/**\n * Toggle a player's shift status\n */\nfunction togglePlayerShift(playerId, isActive) {\n    socket.emit('update_player_shift', {\n        match_id: matchId,\n        player_id: playerId,\n        is_active: isActive,\n        team_id: teamId\n    });\n}\n\n/**\n * Submit the final match report\n */\nfunction submitFinalReport() {\n    const notes = $('#matchNotes').val();\n    \n    socket.emit('submit_report', {\n        match_id: matchId,\n        report_data: {\n            notes: notes\n        }\n    });\n}\n\n/**\n * Update the match UI with current state\n */\nfunction updateMatchUI(state) {\n    // Update score\n    updateScoreUI(state.home_score, state.away_score);\n    \n    // Update timer\n    updateTimerUI(state.elapsed_seconds, state.timer_running, state.period);\n    \n    // Update events\n    updateEventsUI(state.events);\n    \n    // Update match status\n    updateMatchStatusUI(state.status);\n    \n    // Update team names\n    $('#homeTeamName').text(state.home_team_name);\n    $('#awayTeamName').text(state.away_team_name);\n    \n    // If report is already submitted, disable controls\n    if (state.report_submitted) {\n        disableReportingControls();\n        $('#reportCompleteMessage').removeClass('u-hidden');\n    }\n}\n\n/**\n * Update the score display\n */\nfunction updateScoreUI(homeScore, awayScore) {\n    $('#homeScore').text(homeScore);\n    $('#awayScore').text(awayScore);\n}\n\n/**\n * Update the timer display\n */\nfunction updateTimerUI(elapsedSeconds, isRunning, period) {\n    // Update period selector\n    if (period && $('#periodSelector').val() !== period) {\n        $('#periodSelector').val(period);\n    }\n    \n    // Update timer display\n    updateTimerDisplay(elapsedSeconds);\n    \n    // Update timer state\n    if (isRunning !== isTimerRunning) {\n        toggleTimer(isRunning);\n    }\n}\n\n/**\n * Update the timer display format\n */\nfunction updateTimerDisplay(elapsedSeconds) {\n    const minutes = Math.floor(elapsedSeconds / 60);\n    const seconds = elapsedSeconds % 60;\n    \n    $('#timerDisplay').text(\n        `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`\n    );\n}\n\n/**\n * Update the events list\n */\nfunction updateEventsUI(events) {\n    const $eventsList = $('#eventsList');\n    $eventsList.empty();\n\n    if (!events || events.length === 0) {\n        $eventsList.append('<li class=\"list-group-item\">No events recorded yet</li>');\n        return;\n    }\n\n    // Sort events by timestamp (most recent first)\n    events.sort((a, b) => new Date(b.timestamp) - new Date(a.timestamp));\n\n    events.forEach(event => {\n        let eventText = `${event.event_type}`;\n        if (event.player_name) {\n            eventText += ` - ${event.player_name}`;\n        }\n        if (event.team_name) {\n            eventText += ` (${event.team_name})`;\n        }\n        if (event.minute) {\n            eventText += ` - ${event.minute}'`;\n        }\n\n        let eventClass = 'list-group-item js-event-item';\n        switch (event.event_type) {\n            case 'GOAL':\n                eventClass += ' event-type-goal';\n                break;\n            case 'YELLOW_CARD':\n                eventClass += ' event-type-yellow-card';\n                break;\n            case 'RED_CARD':\n                eventClass += ' event-type-red-card';\n                break;\n        }\n\n        $eventsList.append(`<li class=\"${eventClass}\">${eventText}</li>`);\n    });\n}\n\n/**\n * Update the match status display\n */\nfunction updateMatchStatusUI(status) {\n    $('#matchStatus').text(status);\n\n    let statusClass = 'badge js-match-status-badge ';\n    switch (status) {\n        case 'in_progress':\n            statusClass += 'match-status-in-progress';\n            break;\n        case 'completed':\n            statusClass += 'match-status-completed';\n            break;\n        case 'canceled':\n            statusClass += 'match-status-canceled';\n            break;\n        default:\n            statusClass += 'match-status-unknown';\n    }\n\n    $('#matchStatusBadge').attr('class', statusClass);\n}\n\n/**\n * Update the active reporters list\n */\nfunction updateReportersUI(reporters) {\n    const $reportersList = $('#reportersList');\n    $reportersList.empty();\n\n    if (!reporters || reporters.length === 0) {\n        $reportersList.append('<li class=\"list-group-item\">No other reporters</li>');\n        return;\n    }\n\n    reporters.forEach(reporter => {\n        const lastActive = new Date(reporter.last_active);\n        const timeSince = timeSinceLastActive(lastActive);\n\n        $reportersList.append(`\n            <li class=\"list-group-item js-reporter-item d-flex justify-content-between align-items-center\">\n                ${reporter.username} (${reporter.team_name})\n                <span class=\"badge bg-secondary reporter-time-badge\">${timeSince}</span>\n            </li>\n        `);\n    });\n}\n\n/**\n * Format time since last active\n */\nfunction timeSinceLastActive(lastActive) {\n    const now = new Date();\n    const diffMs = now - lastActive;\n    const diffSec = Math.floor(diffMs / 1000);\n    \n    if (diffSec < 60) {\n        return 'just now';\n    } else if (diffSec < 3600) {\n        const mins = Math.floor(diffSec / 60);\n        return `${mins}m ago`;\n    } else {\n        const hours = Math.floor(diffSec / 3600);\n        return `${hours}h ago`;\n    }\n}\n\n/**\n * Update the player shifts display\n */\nfunction updateShiftsUI(shifts) {\n    const $shiftsContainer = $('#playerShiftsContainer');\n    $shiftsContainer.empty();\n    \n    if (!shifts || shifts.length === 0) {\n        $shiftsContainer.append('<p>No player shifts recorded</p>');\n        return;\n    }\n    \n    // Group shifts by active/inactive\n    const activeShifts = shifts.filter(s => s.is_active);\n    const inactiveShifts = shifts.filter(s => !s.is_active);\n    \n    // Add active players section\n    $shiftsContainer.append('<h5 class=\"mt-3\">Active Players</h5>');\n    if (activeShifts.length === 0) {\n        $shiftsContainer.append('<p>No active players</p>');\n    } else {\n        const $activeList = $('<div class=\"row\"></div>');\n\n        activeShifts.forEach(shift => {\n            $activeList.append(`\n                <div class=\"col-md-6 mb-2\">\n                    <button class=\"btn btn-success w-100 js-player-shift-toggle\"\n                            data-player-id=\"${shift.player_id}\"\n                            data-active=\"true\">\n                        ${shift.player_name}\n                    </button>\n                </div>\n            `);\n        });\n\n        $shiftsContainer.append($activeList);\n    }\n\n    // Add inactive players section\n    $shiftsContainer.append('<h5 class=\"mt-3\">Available Players</h5>');\n    if (inactiveShifts.length === 0) {\n        $shiftsContainer.append('<p>No available players</p>');\n    } else {\n        const $inactiveList = $('<div class=\"row\"></div>');\n\n        inactiveShifts.forEach(shift => {\n            $inactiveList.append(`\n                <div class=\"col-md-6 mb-2\">\n                    <button class=\"btn btn-outline-secondary w-100 js-player-shift-toggle\"\n                            data-player-id=\"${shift.player_id}\"\n                            data-active=\"false\">\n                        ${shift.player_name}\n                    </button>\n                </div>\n            `);\n        });\n\n        $shiftsContainer.append($inactiveList);\n    }\n}\n\n/**\n * Update the player dropdown based on selected team\n */\nfunction updatePlayerDropdown(teamId) {\n    if (!matchState) return;\n    \n    const $playerSelect = $('#eventPlayer');\n    $playerSelect.empty();\n    \n    // Add empty option\n    $playerSelect.append('<option value=\"\">Select Player</option>');\n    \n    // Determine which team's players to show\n    let players = [];\n    if (parseInt(teamId) === matchState.home_team_id) {\n        // Show home team players\n        players = $('#homeTeamPlayers').data('players') || [];\n    } else if (parseInt(teamId) === matchState.away_team_id) {\n        // Show away team players\n        players = $('#awayTeamPlayers').data('players') || [];\n    }\n    \n    // Add players to dropdown\n    players.forEach(player => {\n        $playerSelect.append(`<option value=\"${player.id}\">${player.name}</option>`);\n    });\n}\n\n/**\n * Disable all reporting controls when report is submitted\n */\nfunction disableReportingControls() {\n    // Disable score controls\n    $('#increaseHomeScore, #decreaseHomeScore, #increaseAwayScore, #decreaseAwayScore').prop('disabled', true);\n    \n    // Disable timer controls\n    $('#startStopTimer, #resetTimer, #periodSelector').prop('disabled', true);\n    \n    // Disable event form\n    $('#addEventForm :input').prop('disabled', true);\n    \n    // Disable player shifts\n    $('.js-player-shift-toggle').prop('disabled', true);\n    \n    // Disable submit report button\n    $('#submitReportBtn').prop('disabled', true);\n    \n    // Stop timer if running\n    if (timerInterval) {\n        clearInterval(timerInterval);\n        timerInterval = null;\n        isTimerRunning = false;\n    }\n}\n\n/**\n * Show a notification message\n */\nfunction liveReportingShowNotification(message, type = 'info') {\n    const $notifications = $('#notifications');\n    \n    // Create notification element\n    const $notification = $(`\n        <div class=\"alert alert-${type} alert-dismissible fade show\" role=\"alert\">\n            ${message}\n            <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"alert\" aria-label=\"Close\"></button>\n        </div>\n    `);\n    \n    // Add to notifications container\n    $notifications.append($notification);\n    \n    // Auto-remove after 5 seconds\n    setTimeout(() => {\n        $notification.alert('close');\n    }, 5000);\n}\n\n// Export module functions\nwindow.LiveReporting = {\n    init: initLiveReporting,\n    join: joinMatch,\n    leave: leaveMatch\n};\n","/**\n * ============================================================================\n * ECS FC Schedule Management\n * ============================================================================\n *\n * Handles all interactions for the ECS FC schedule management page including:\n * - Bulk match generation\n * - Single week/match operations\n * - Modal interactions\n * - Event delegation for dynamic content\n *\n * Dependencies:\n * - ModalManager (from modal-helpers.js)\n * - Bootstrap 5.x\n *\n * ============================================================================\n */\n\nclass ECSFCScheduleManager {\n    constructor() {\n        this.leagues = [];\n        this.csrfToken = '';\n        this.init();\n    }\n\n    init() {\n        document.addEventListener('DOMContentLoaded', () => {\n            // Get leagues data from page\n            this.leagues = window.leagues || [];\n            this.csrfToken = document.querySelector('meta[name=\"csrf-token\"]')?.content ||\n                            document.querySelector('input[name=\"csrf_token\"]')?.value || '';\n\n            // Setup event delegation\n            this.setupEventDelegation();\n\n            // Setup modal handlers\n            this.setupModals();\n        });\n    }\n\n    setupEventDelegation() {\n        // Event delegation for all schedule actions\n        document.addEventListener('click', (e) => {\n            const action = e.target.closest('[data-action]')?.dataset.action;\n            if (!action) return;\n\n            const target = e.target.closest('[data-action]');\n\n            switch(action) {\n                case 'generate-form':\n                    this.handleGenerateForm(target.dataset.leagueName);\n                    break;\n                case 'edit-match':\n                    this.handleEditMatch(target);\n                    break;\n                case 'add-single-week':\n                    // Handled by Bootstrap modal\n                    break;\n                default:\n                    break;\n            }\n        });\n    }\n\n    setupModals() {\n        // Add Week Modal setup\n        const addWeekModal = document.getElementById('addWeekModal');\n        if (addWeekModal) {\n            addWeekModal.addEventListener('show.bs.modal', (event) => {\n                const button = event.relatedTarget;\n                if (!button) return;\n\n                const leagueName = button.getAttribute('data-league-name');\n                document.getElementById('modal_league_name').value = leagueName;\n\n                // Populate team dropdowns\n                const league = this.leagues.find(l => l.name === leagueName);\n                if (league) {\n                    this.populateTeamSelects(league.teams, ['teamA', 'teamB']);\n                }\n            });\n        }\n    }\n\n    handleGenerateForm(leagueName) {\n        const totalWeeks = document.getElementById(`total_weeks-${leagueName}`)?.value;\n        const matchesPerWeek = document.getElementById(`matches_per_week-${leagueName}`)?.value;\n        const funWeek = document.getElementById(`fun_week-${leagueName}`)?.value;\n        const tstWeek = document.getElementById(`tst_week-${leagueName}`)?.value;\n        const startTimeStr = document.getElementById(`start_time-${leagueName}`)?.value;\n        const location = document.getElementById(`location-${leagueName}`)?.value;\n\n        if (!totalWeeks || !matchesPerWeek || !startTimeStr) {\n            this.showAlert('Total Weeks, Matches Per Week, and Start Time are required!', 'warning');\n            return;\n        }\n\n        const league = this.leagues.find(l => l.name === leagueName);\n        if (!league) {\n            this.showAlert('League not found', 'danger');\n            return;\n        }\n\n        const detailedForm = this.generateDetailedInputForm(\n            totalWeeks, matchesPerWeek, funWeek, tstWeek,\n            startTimeStr, location, league.teams, leagueName\n        );\n\n        const container = document.getElementById(`detailedInputForm-${leagueName}`);\n        if (container) {\n            container.innerHTML = detailedForm;\n        }\n    }\n\n    generateDetailedInputForm(totalWeeks, matchesPerWeek, funWeek, tstWeek, startTimeStr, location, teams, leagueName) {\n        let formHTML = `\n            <form method=\"POST\" action=\"/ecsfc/bulk_create_matches/${window.seasonId || ''}/${leagueName}\" data-component=\"detailed-bulk-form\">\n                <input type=\"hidden\" name=\"csrf_token\" value=\"${this.csrfToken}\">\n                <div class=\"row g-3\">\n        `;\n\n        for (let week = 1; week <= totalWeeks; week++) {\n            let weekDetails = week == funWeek ? 'Fun Week' : week == tstWeek ? 'TST Week' : `Week ${week}`;\n\n            formHTML += `\n                <div class=\"col-lg-4 col-md-6 col-sm-12\">\n                    <div class=\"c-week-form-card card\">\n                        <div class=\"card-header c-week-form-card__header\">\n                            <h6 class=\"c-week-form-card__title\">${weekDetails}</h6>\n                        </div>\n                        <div class=\"card-body\">\n            `;\n\n            if (week == funWeek || week == tstWeek) {\n                formHTML += `<p class=\"c-week-form-card__special\">No matches scheduled this week.</p>`;\n            } else {\n                formHTML += `\n                    <div class=\"c-form-group\">\n                        <label class=\"c-form-group__label\">Date</label>\n                        <input type=\"date\" class=\"c-form-group__input\" name=\"date_week${week}\" required data-form-control>\n                    </div>\n                `;\n\n                for (let match = 1; match <= matchesPerWeek; match++) {\n                    formHTML += this.generateMatchInput(week, match, teams, startTimeStr, location);\n                }\n            }\n\n            formHTML += `\n                        </div>\n                    </div>\n                </div>\n            `;\n        }\n\n        formHTML += `\n                </div>\n                <div class=\"mt-3\">\n                    <button type=\"submit\" class=\"btn btn-success\" data-action=\"save-matches\">\n                        <i class=\"ti ti-check me-1\"></i>\n                        Save Matches\n                    </button>\n                </div>\n            </form>\n        `;\n\n        return formHTML;\n    }\n\n    generateMatchInput(week, match, teams, startTimeStr, location) {\n        const teamsOptions = teams.map(team =>\n            `<option value=\"${team.id}\">${team.name}</option>`\n        ).join('');\n\n        return `\n            <div class=\"c-match-input\" data-component=\"match-input\">\n                <div class=\"row g-2 align-items-center mb-2\">\n                    <div class=\"col-6 col-md-3\">\n                        <select class=\"c-match-input__select\" name=\"teamA_week${week}_match${match}\" required data-form-select>\n                            <option value=\"\">Team A</option>\n                            ${teamsOptions}\n                        </select>\n                    </div>\n                    <div class=\"col-6 col-md-3\">\n                        <select class=\"c-match-input__select\" name=\"teamB_week${week}_match${match}\" required data-form-select>\n                            <option value=\"\">Team B</option>\n                            ${teamsOptions}\n                        </select>\n                    </div>\n                    <div class=\"col-6 col-md-3\">\n                        <input type=\"time\"\n                               class=\"c-match-input__time\"\n                               name=\"time_week${week}_match${match}\"\n                               value=\"${startTimeStr}\"\n                               required\n                               data-form-control>\n                    </div>\n                    <div class=\"col-6 col-md-3\">\n                        <select class=\"c-match-input__location\" name=\"location_week${week}_match${match}\" required data-form-select>\n                            <option value=\"North\" ${location === 'North' ? 'selected' : ''}>North</option>\n                            <option value=\"South\" ${location === 'South' ? 'selected' : ''}>South</option>\n                        </select>\n                    </div>\n                </div>\n            </div>\n        `;\n    }\n\n    handleEditMatch(button) {\n        const matchId = button.dataset.matchId;\n        const teamA = button.dataset.teamA;\n        const teamB = button.dataset.teamB;\n        const time = button.dataset.time;\n        const location = button.dataset.location;\n        const date = button.dataset.date;\n        const leagueName = button.dataset.leagueName;\n\n        this.loadMatchData(matchId, teamA, teamB, time, location, date, leagueName);\n    }\n\n    loadMatchData(matchId, teamA, teamB, time, location, date, leagueName) {\n        // Format date\n        const formattedDate = new Date(date).toISOString().split('T')[0];\n\n        // Format time from 12-hour to 24-hour\n        const formattedTime = this.convertTo24Hour(time);\n\n        // Populate team selects\n        const league = this.leagues.find(l => l.name === leagueName);\n        if (league) {\n            this.populateTeamSelectsWithSelection(league.teams, 'edit_team_a', teamA);\n            this.populateTeamSelectsWithSelection(league.teams, 'edit_team_b', teamB);\n        }\n\n        // Set form values\n        document.getElementById('edit_time').value = formattedTime;\n        document.getElementById('edit_location').value = location;\n        document.getElementById('edit_date').value = formattedDate;\n\n        // Set form action\n        const form = document.querySelector('#manage-ecsfc-editModal form');\n        if (form) {\n            form.action = `/ecsfc/edit_match/${matchId}`;\n        }\n    }\n\n    convertTo24Hour(timeStr) {\n        const match = timeStr.match(/(\\d+):(\\d+)\\s*(AM|PM)/i);\n        if (!match) return timeStr;\n\n        let [, hour, minute, period] = match;\n        hour = parseInt(hour);\n\n        if (period.toUpperCase() === 'PM' && hour < 12) {\n            hour += 12;\n        } else if (period.toUpperCase() === 'AM' && hour === 12) {\n            hour = 0;\n        }\n\n        return `${hour.toString().padStart(2, '0')}:${minute}`;\n    }\n\n    populateTeamSelects(teams, selectIds) {\n        selectIds.forEach(selectId => {\n            const select = document.getElementById(selectId);\n            if (!select) return;\n\n            select.innerHTML = teams.map(team =>\n                `<option value=\"${team.name}\">${team.name}</option>`\n            ).join('');\n        });\n    }\n\n    populateTeamSelectsWithSelection(teams, selectId, selectedTeam) {\n        const select = document.getElementById(selectId);\n        if (!select) return;\n\n        select.innerHTML = teams.map(team =>\n            `<option value=\"${team.name}\" ${team.name === selectedTeam ? 'selected' : ''}>${team.name}</option>`\n        ).join('');\n    }\n\n    showAlert(message, type = 'info') {\n        // Use SweetAlert if available, otherwise use native alert\n        if (typeof Swal !== 'undefined') {\n            Swal.fire({\n                icon: type === 'warning' ? 'warning' : type === 'danger' ? 'error' : 'info',\n                title: message,\n                toast: true,\n                position: 'top-end',\n                showConfirmButton: false,\n                timer: 3000,\n                timerProgressBar: true\n            });\n        } else {\n            alert(message);\n        }\n    }\n}\n\n// Initialize when DOM is ready\nconst ecsfcScheduleManager = new ECSFCScheduleManager();\n","document.addEventListener('DOMContentLoaded', function () {\n    const enable2FABtn = document.getElementById('enable2FABtn');\n    const verify2FAForm = document.getElementById('verify2FAForm');\n    const disable2FAForm = document.getElementById('disable2FAForm');\n\n    if (enable2FABtn) {\n        enable2FABtn.addEventListener('click', function () {\n            fetch('/account/enable-2fa')\n                .then(response => response.json())\n                .then(data => {\n                    document.getElementById('qrCodeContainer').innerHTML = `<img src=\"data:image/png;base64,${data.qr_code}\" alt=\"QR Code\">`;\n                    document.getElementById('enable2FAModal').setAttribute('data-secret', data.secret);\n                    // Use ModalManager for safe modal handling\n                    ModalManager.show('enable2FAModal');\n                });\n        });\n    }\n\n    if (verify2FAForm) {\n        verify2FAForm.addEventListener('submit', function (e) {\n            e.preventDefault();\n            const code = document.getElementById('twoFactorCode').value;\n            const secret = document.getElementById('enable2FAModal').getAttribute('data-secret');\n            fetch('/account/enable-2fa', {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json',\n                },\n                body: JSON.stringify({ code, secret })\n            })\n                .then(response => response.json())\n                .then(data => {\n                    if (data.success) {\n                        alert('2FA enabled successfully');\n                        location.reload();\n                    } else {\n                        alert(data.message);\n                    }\n                });\n        });\n    }\n\n    if (disable2FAForm) {\n        disable2FAForm.addEventListener('submit', function (e) {\n            e.preventDefault();\n            if (confirm('Are you sure you want to disable 2FA? This will make your account less secure.')) {\n                this.submit();\n            }\n        });\n    }\n});\n","/**\n * ============================================================================\n * HOME/DASHBOARD PAGE JAVASCRIPT\n * ============================================================================\n *\n * Handles all JavaScript functionality for the home dashboard page (index.html)\n * Extracted from inline <script> block for better maintainability\n *\n * ARCHITECTURAL COMPLIANCE:\n * - Event delegation pattern\n * - Data-attribute based hooks\n * - No direct element binding\n * - State-driven styling (classList operations)\n * - Mobile-first optimizations\n *\n * Features:\n * - iOS viewport height fix\n * - Touch-friendly tab navigation with swipe support\n * - Auto-scroll for active tabs\n * - Modal iOS scroll fix\n * - Fast click enablement for mobile\n * - Service worker registration\n * - Discord membership detection\n *\n * ============================================================================\n */\n\n(function() {\n  'use strict';\n\n  // Global configuration\n  const CONFIG = {\n    MOBILE_BREAKPOINT: 768,\n    SWIPE_THRESHOLD: 50,\n    DISCORD_PROMPT_DELAY: 5000,\n    DISCORD_UNLINKED_PROMPT_DELAY: 10000,\n    DISCORD_PROMPT_COOLDOWN: 7 * 24 * 60 * 60 * 1000 // One week\n  };\n\n  /**\n   * ============================================================================\n   * iOS VIEWPORT HEIGHT FIX\n   * Fixes iOS 100vh issue where viewport height includes browser chrome\n   * ============================================================================\n   */\n  function setViewportHeight() {\n    const vh = window.innerHeight * 0.01;\n    document.documentElement.style.setProperty('--vh', `${vh}px`);\n  }\n\n  /**\n   * ============================================================================\n   * TAB SWIPE NAVIGATION\n   * Enables swipe gestures for tab navigation on mobile devices\n   * ============================================================================\n   */\n  function initializeSwipeNavigation() {\n    // Only apply on mobile\n    if (window.innerWidth >= CONFIG.MOBILE_BREAKPOINT) {\n      return;\n    }\n\n    const tabContainers = document.querySelectorAll('[data-role=\"tab-navigation\"]');\n\n    tabContainers.forEach(container => {\n      // Add mobile-specific classes\n      container.classList.add('small-tabs', 'overflow-auto', 'flex-nowrap');\n\n      let touchStartX = 0;\n      let touchEndX = 0;\n\n      // Find associated tab content\n      const tabContentId = container.getAttribute('aria-controls');\n      const tabPanes = tabContentId ?\n        document.getElementById(tabContentId) :\n        document.querySelector('[data-role=\"tab-content\"]');\n\n      if (!tabPanes) return;\n\n      // Touch event handlers\n      tabPanes.addEventListener('touchstart', (e) => {\n        touchStartX = e.changedTouches[0].screenX;\n      }, { passive: true });\n\n      tabPanes.addEventListener('touchend', (e) => {\n        touchEndX = e.changedTouches[0].screenX;\n        handleSwipe(container);\n      }, { passive: true });\n\n      function handleSwipe(tabContainer) {\n        const tabs = Array.from(tabContainer.querySelectorAll('[data-action=\"switch-tab\"]'));\n        const activeIndex = tabs.findIndex(tab => tab.classList.contains('is-active'));\n\n        // Check swipe direction and threshold\n        const swipeDistance = touchEndX - touchStartX;\n\n        if (swipeDistance < -CONFIG.SWIPE_THRESHOLD && activeIndex < tabs.length - 1) {\n          // Swipe left - next tab\n          tabs[activeIndex + 1].click();\n        } else if (swipeDistance > CONFIG.SWIPE_THRESHOLD && activeIndex > 0) {\n          // Swipe right - previous tab\n          tabs[activeIndex - 1].click();\n        }\n      }\n    });\n  }\n\n  /**\n   * ============================================================================\n   * TAB AUTO-SCROLL\n   * Scrolls active tab into view when it's not fully visible\n   * ============================================================================\n   */\n  function initializeTabAutoScroll() {\n    const tabs = document.querySelectorAll('[data-action=\"switch-tab\"]');\n\n    tabs.forEach(tab => {\n      // Use Bootstrap's shown.bs.tab event if available, otherwise use click\n      const eventName = typeof bootstrap !== 'undefined' ? 'shown.bs.tab' : 'click';\n\n      tab.addEventListener(eventName, function() {\n        const container = this.closest('[data-role=\"tab-navigation\"]');\n        if (!container) return;\n\n        const tabRect = this.getBoundingClientRect();\n        const containerRect = container.getBoundingClientRect();\n\n        // Check if tab is not fully visible\n        if (tabRect.right > containerRect.right || tabRect.left < containerRect.left) {\n          this.scrollIntoView({\n            behavior: 'smooth',\n            block: 'nearest',\n            inline: 'center'\n          });\n        }\n      });\n    });\n  }\n\n  /**\n   * ============================================================================\n   * MODAL iOS FIX\n   * Prevents scroll issues in modals on iOS devices\n   * ============================================================================\n   */\n  function initializeModalIosFix() {\n    const allModals = document.querySelectorAll('[data-modal]');\n\n    allModals.forEach(modal => {\n      // Use Bootstrap events if available, otherwise use custom events\n      const showEvent = typeof bootstrap !== 'undefined' ? 'shown.bs.modal' : 'modal:opened';\n      const hideEvent = typeof bootstrap !== 'undefined' ? 'hidden.bs.modal' : 'modal:closed';\n\n      modal.addEventListener(showEvent, function() {\n        if (/iPad|iPhone|iPod/.test(navigator.userAgent)) {\n          document.body.classList.add('modal-open-ios');\n        }\n      });\n\n      modal.addEventListener(hideEvent, function() {\n        if (/iPad|iPhone|iPod/.test(navigator.userAgent)) {\n          document.body.classList.remove('modal-open-ios');\n        }\n      });\n    });\n  }\n\n  /**\n   * ============================================================================\n   * FAST CLICK ENABLEMENT\n   * Reduces tap delay on mobile devices\n   * ============================================================================\n   */\n  function enableFastClick() {\n    if (!('ontouchstart' in window)) return;\n\n    const buttons = document.querySelectorAll('button, .btn, a, [data-action]');\n    buttons.forEach(button => {\n      button.addEventListener('touchstart', function() {}, { passive: true });\n    });\n  }\n\n  /**\n   * ============================================================================\n   * SERVICE WORKER REGISTRATION\n   * Enables offline capabilities and performance improvements\n   * ============================================================================\n   */\n  function registerServiceWorker() {\n    if (!('serviceWorker' in navigator)) {\n      console.log('Service Workers not supported');\n      return;\n    }\n\n    navigator.serviceWorker.register('/static/js/service-worker.js')\n      .then(registration => {\n        console.log('ServiceWorker registered:', registration.scope);\n      })\n      .catch(error => {\n        console.error('ServiceWorker registration failed:', error);\n      });\n  }\n\n  /**\n   * ============================================================================\n   * DISCORD MEMBERSHIP CHECK\n   * Prompts user to join Discord server if not already a member\n   * Uses cached membership status from database (stored in data attributes)\n   * ============================================================================\n   */\n  function initializeDiscordMembershipCheck() {\n    // Check if player data exists\n    const rsvpData = document.getElementById('rsvp-data');\n    if (!rsvpData) return;\n\n    const playerDiscordId = rsvpData.dataset.discordId;\n    const discordInServer = rsvpData.dataset.discordInServer; // 'true', 'false', or 'unknown'\n    const discordLastChecked = rsvpData.dataset.discordLastChecked;\n\n    // Check if player has Discord linked\n    if (!playerDiscordId || playerDiscordId === 'None' || playerDiscordId === '') {\n      // No Discord linked - show link prompt\n      showDiscordLinkPrompt();\n      return;\n    }\n\n    // Discord linked - check cached membership status from database\n    showDiscordMembershipPrompt(discordInServer, discordLastChecked);\n  }\n\n  function showDiscordMembershipPrompt(inServerStatus, lastChecked) {\n    // Use cached membership status from database (passed via data attributes)\n    // Possible values: 'true' (in server), 'false' (not in server), 'unknown' (never checked)\n\n    if (inServerStatus === 'true') {\n      // User is confirmed IN the Discord server - no prompt needed\n      console.log('[Home] User is in Discord server (cached), skipping prompt');\n      return;\n    }\n\n    if (inServerStatus === 'unknown') {\n      // Never been checked - we could check via API, but for now skip to avoid false positives\n      // This is safer than assuming they're not in the server\n      console.log('[Home] Discord membership status unknown, skipping prompt');\n\n      // Optionally trigger a background check for next time\n      triggerMembershipCheck();\n      return;\n    }\n\n    // inServerStatus === 'false' - User is confirmed NOT in the server\n\n    // Check if the cached data is stale (older than 30 days)\n    if (lastChecked) {\n      const lastCheckDate = new Date(lastChecked);\n      const daysSinceCheck = (Date.now() - lastCheckDate.getTime()) / (1000 * 60 * 60 * 24);\n\n      if (daysSinceCheck > 30) {\n        // Data is stale, trigger a fresh check and skip prompt for now\n        console.log('[Home] Discord membership data is stale, triggering refresh');\n        triggerMembershipCheck();\n        return;\n      }\n    }\n\n    console.log('[Home] User confirmed NOT in Discord server, showing prompt');\n\n    // Check cooldown\n    const lastPromptShown = localStorage.getItem('discord_prompt_shown');\n    const now = Date.now();\n\n    if (lastPromptShown && (now - parseInt(lastPromptShown)) < CONFIG.DISCORD_PROMPT_COOLDOWN) {\n      return; // Still in cooldown period\n    }\n\n    setTimeout(() => {\n      // Only show if there are RSVP opportunities\n      const rsvpButtons = document.querySelectorAll('[data-rsvp]');\n      if (rsvpButtons.length === 0) return;\n\n      // Use global DiscordMembershipChecker if available\n      if (typeof DiscordMembershipChecker !== 'undefined') {\n        DiscordMembershipChecker.showJoinPrompt({\n          title: ' Stay Connected on Discord',\n          urgency: 'info',\n          showUrgentPopup: true\n        });\n\n        // Mark as shown\n        localStorage.setItem('discord_prompt_shown', now.toString());\n      }\n    }, CONFIG.DISCORD_PROMPT_DELAY);\n  }\n\n  /**\n   * Trigger a background check of Discord membership status\n   * This updates the database for next page load\n   */\n  function triggerMembershipCheck() {\n    const rsvpData = document.getElementById('rsvp-data');\n    if (!rsvpData) return;\n\n    const csrfToken = rsvpData.dataset.csrfToken;\n\n    // Fire and forget - don't wait for response\n    fetch('/api/discord/check-membership', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n        'X-CSRFToken': csrfToken\n      },\n      credentials: 'same-origin'\n    }).then(response => {\n      if (response.ok) {\n        console.log('[Home] Discord membership check triggered successfully');\n      }\n    }).catch(err => {\n      // Silently fail - this is a background optimization\n      console.debug('[Home] Discord membership check failed:', err);\n    });\n  }\n\n  function showDiscordLinkPrompt() {\n    setTimeout(() => {\n      // Use SweetAlert2 if available\n      if (typeof Swal === 'undefined') {\n        console.warn('SweetAlert2 not available for Discord prompt');\n        return;\n      }\n\n      Swal.fire({\n        title: ' Connect Your Discord Account',\n        html: `\n          <div class=\"text-start\">\n            <p><strong>Your Discord account isn't connected yet!</strong></p>\n            <p>Connecting Discord is important for:</p>\n            <ul class=\"text-start ms-3\">\n              <li> Getting match notifications and updates</li>\n              <li> Communicating with teammates</li>\n              <li> Receiving RSVP reminders</li>\n              <li> Staying updated on league announcements</li>\n            </ul>\n            <p class=\"mt-3\"><strong>Connect now to enhance your experience!</strong></p>\n          </div>\n        `,\n        icon: 'info',\n        showCancelButton: true,\n        confirmButtonText: '<i class=\"fab fa-discord me-2\"></i>Connect Discord',\n        cancelButtonText: 'Maybe Later',\n        confirmButtonColor: '#5865F2', // Discord brand color\n        cancelButtonColor: getComputedStyle(document.documentElement)\n          .getPropertyValue('--ecs-secondary').trim() || '#6c757d'\n      }).then((result) => {\n        if (result.isConfirmed) {\n          // Redirect to Discord auth - URL should be set via data attribute\n          const authUrl = document.querySelector('[data-discord-auth-url]')?.dataset.discordAuthUrl;\n          if (authUrl) {\n            window.location.href = authUrl;\n          }\n        }\n      });\n    }, CONFIG.DISCORD_UNLINKED_PROMPT_DELAY);\n  }\n\n  /**\n   * ============================================================================\n   * INITIALIZATION\n   * Main initialization function called on page load\n   * ============================================================================\n   */\n  function init() {\n    // Set viewport height fix\n    setViewportHeight();\n    window.addEventListener('resize', setViewportHeight);\n    window.addEventListener('orientationchange', setViewportHeight);\n\n    // Initialize mobile features\n    if (window.innerWidth < CONFIG.MOBILE_BREAKPOINT) {\n      initializeSwipeNavigation();\n      enableFastClick();\n    }\n\n    // Initialize tab auto-scroll\n    initializeTabAutoScroll();\n\n    // Initialize modal iOS fix\n    initializeModalIosFix();\n\n    // Register service worker\n    registerServiceWorker();\n\n    // Initialize Discord membership check\n    initializeDiscordMembershipCheck();\n\n    console.log(' Home page initialized');\n  }\n\n  // Initialize on DOM ready\n  if (document.readyState === 'loading') {\n    document.addEventListener('DOMContentLoaded', init);\n  } else {\n    init();\n  }\n\n  // Expose API for external use (if needed)\n  window.HomePage = {\n    setViewportHeight,\n    initializeSwipeNavigation,\n    initializeTabAutoScroll\n  };\n\n})();\n","/**\n * Match Management JavaScript\n * Handles match scheduling, status updates, task management, and administrative functions\n * \n * Dependencies: jQuery, Bootstrap 5, SweetAlert2\n */\n\n// Global variables\nlet csrfToken = '';\n\n// Initialize CSRF token\nfunction initializeCSRFToken() {\n    const csrfMeta = document.querySelector('meta[name=\"csrf-token\"]');\n    if (csrfMeta) {\n        csrfToken = csrfMeta.getAttribute('content');\n    } else {\n        // Fallback: try to get from a hidden input if meta tag doesn't exist\n        const csrfInput = document.querySelector('input[name=\"csrf_token\"]');\n        if (csrfInput) {\n            csrfToken = csrfInput.value;\n        }\n    }\n}\n\n// Auto-refresh functionality\nfunction refreshStatuses() {\n    // Page guard - only run on match management page\n    const lastUpdatedEl = document.getElementById('lastUpdated');\n    if (!lastUpdatedEl) {\n        return; // Not on match management page\n    }\n\n    fetch('/admin/match_management/statuses')\n        .then(response => response.json())\n        .then(data => {\n            if (data.statuses) {\n                data.statuses.forEach(match => {\n                    updateMatchRow(match);\n                });\n            }\n            lastUpdatedEl.textContent =\n                `Last updated: ${new Date().toLocaleTimeString()}`;\n        })\n        .catch(error => console.error('Error refreshing statuses:', error));\n}\n\nfunction updateMatchRow(match) {\n    const statusBadge = document.getElementById(`status-${match.id}`);\n    if (statusBadge) {\n        // Set stable structure first\n        statusBadge.className = 'badge'; // Keep styling class for CSS\n        statusBadge.classList.add(`bg-${match.status_color}`); // Keep visual styling\n        statusBadge.setAttribute('data-status', match.status); // For JS behavior\n        statusBadge.innerHTML = `<i class=\"fas ${match.status_icon}\"></i> ${match.status_display}`;\n    }\n\n    // Update task details with real-time data\n    loadMatchTaskDetails(match.id);\n}\n\n// Load detailed task information for a specific match\nfunction loadMatchTaskDetails(matchId) {\n    fetch(`/admin/match_management/match-tasks/${matchId}`)\n        .then(response => response.json())\n        .then(data => {\n            updateMatchTaskDetails(matchId, data);\n        })\n        .catch(error => {\n            console.error(`Error loading task details for match ${matchId}:`, error);\n            showTaskError(matchId, 'Failed to load task details');\n        });\n}\n\n// Update the task details display for a match\nfunction updateMatchTaskDetails(matchId, data) {\n    const container = document.getElementById(`task-details-${matchId}`);\n    \n    if (!container) {\n        console.error(`No container found for task-details-${matchId}`);\n        return;\n    }\n    \n    if (!data.success) {\n        showTaskError(matchId, data.error || 'Failed to load task details');\n        return;\n    }\n    \n    const tasks = data.tasks || {};\n    let html = '';\n    \n    // Thread Creation Task\n    if (tasks.thread) {\n        html += createTaskCard('thread', tasks.thread, matchId);\n    } else {\n        html += createNoTaskCard('Thread Creation', 'No thread task scheduled');\n    }\n    \n    // Live Reporting Task  \n    if (tasks.reporting) {\n        html += createTaskCard('reporting', tasks.reporting, matchId);\n    } else {\n        html += createNoTaskCard('Live Reporting', 'No reporting task scheduled');\n    }\n    \n    if (!html) {\n        html = '<small class=\"text-muted\">No tasks scheduled</small>';\n    }\n    \n    container.innerHTML = html;\n}\n\n// Create a task card for display\nfunction createTaskCard(taskType, task, matchId) {\n    const statusColor = getStatusColor(task.status);\n    const statusIcon = getStatusIcon(task.status);\n    const typeName = task.type || (taskType === 'thread' ? 'Thread Creation' : 'Live Reporting');\n    const typeIcon = taskType === 'thread' ? 'fa-comments' : 'fa-broadcast-tower';\n\n    // Use human-readable message if available (from fallback logic)\n    const displayMessage = task.message || typeName;\n    const isFallback = task.fallback === true;\n\n    // Format countdown\n    let countdown = 'N/A';\n    if (task.ttl && task.ttl > 0) {\n        countdown = formatDuration(task.ttl);\n    } else if (task.eta && task.eta !== 'completed') {\n        const etaTime = new Date(task.eta);\n        const now = new Date();\n        const diff = Math.max(0, Math.floor((etaTime - now) / 1000));\n        countdown = diff > 0 ? formatDuration(diff) : 'Due now';\n    }\n\n    // Special handling for different status types\n    let statusDisplay = task.status;\n    if (isFallback) {\n        if (task.status === 'SUCCESS') statusDisplay = 'Completed';\n        if (task.status === 'PENDING') statusDisplay = 'Scheduled';\n        if (task.status === 'RUNNING') statusDisplay = 'Active';\n        if (task.status === 'FINISHED') statusDisplay = 'Completed';\n        if (task.status === 'MISSING') statusDisplay = 'Issue';\n    }\n\n    const fallbackIndicator = isFallback ? '<i class=\"fas fa-info-circle text-muted\" title=\"Status derived from match data\"></i>' : '';\n\n    // Escape data for safe HTML attribute embedding\n    const taskDataJson = JSON.stringify(task).replace(/\"/g, '&quot;').replace(/'/g, '&#39;');\n\n    return `\n        <div data-component=\"task-card\" data-task-type=\"${taskType}\" data-match-id=\"${matchId}\" class=\"mb-2 p-2 border rounded ${isFallback ? 'border-info' : ''}\">\n            <div class=\"d-flex justify-content-between align-items-center mb-1\">\n                <span class=\"badge bg-${statusColor}\" data-status=\"${task.status}\">\n                    <i class=\"fas ${statusIcon}\"></i> ${statusDisplay}\n                </span>\n                <small class=\"text-muted\">${countdown} ${fallbackIndicator}</small>\n            </div>\n            <div class=\"d-flex align-items-center mb-2\">\n                <i class=\"fas ${typeIcon} me-2 text-primary\"></i>\n                <div class=\"flex-grow-1\">\n                    <small class=\"fw-bold\">${typeName}</small><br>\n                    <small class=\"text-muted\">${displayMessage}</small>\n                </div>\n            </div>\n            ${task.result ? `<div class=\"mb-2\"><small class=\"text-muted\"><strong>Details:</strong> ${task.result}</small></div>` : ''}\n            <div class=\"task-actions\">\n                <button class=\"btn btn-xs btn-outline-info me-1\"\n                        data-action=\"show-task-info\"\n                        data-task-id=\"${task.task_id}\"\n                        data-task-type=\"${typeName}\"\n                        data-task-data='${taskDataJson}'>\n                    <i class=\"fas fa-info-circle\"></i>\n                </button>\n                ${!isFallback && task.task_id !== 'unknown' && task.task_id !== 'scheduled' ? `\n                <button class=\"btn btn-xs btn-outline-danger me-1\"\n                        data-action=\"revoke-task\"\n                        data-task-id=\"${task.task_id}\"\n                        data-match-id=\"${matchId}\"\n                        data-task-type=\"${taskType}\">\n                    <i class=\"fas fa-times\"></i>\n                </button>` : ''}\n                <button class=\"btn btn-xs btn-outline-warning\"\n                        data-action=\"reschedule-task\"\n                        data-match-id=\"${matchId}\"\n                        data-task-type=\"${taskType}\">\n                    <i class=\"fas fa-redo\"></i>\n                </button>\n            </div>\n        </div>\n    `;\n}\n\n// Create a \"no task\" card\nfunction createNoTaskCard(taskName, message) {\n    const typeIcon = taskName.includes('Thread') ? 'fa-comments' : 'fa-broadcast-tower';\n    return `\n        <div data-component=\"no-task-card\" data-task-name=\"${taskName}\" class=\"mb-1 p-2 border rounded bg-light\">\n            <div class=\"d-flex align-items-center\">\n                <i class=\"fas ${typeIcon} me-2 text-muted\"></i>\n                <div class=\"flex-grow-1\">\n                    <small class=\"fw-bold text-muted\">${taskName}</small><br>\n                    <small class=\"text-muted\">${message}</small>\n                </div>\n                <span class=\"badge bg-secondary\" data-status=\"not-scheduled\">Not Scheduled</span>\n            </div>\n        </div>\n    `;\n}\n\n// Show task error\nfunction showTaskError(matchId, error) {\n    const container = document.getElementById(`task-details-${matchId}`);\n    if (!container) return;\n    \n    // Show better display when Redis is unavailable\n    if (error === 'Redis not available') {\n        container.innerHTML = `\n            <div class=\"text-center\">\n                <small class=\"text-muted\"><i class=\"fas fa-database\"></i> Task system unavailable</small><br>\n                <small class=\"text-muted\">Redis connection needed</small>\n            </div>\n        `;\n    } else {\n        container.innerHTML = `\n            <div class=\"alert alert-danger alert-sm mb-0\">\n                <small><i class=\"fas fa-exclamation-triangle\"></i> ${error}</small>\n            </div>\n        `;\n    }\n}\n\n// Helper functions\nfunction getStatusColor(status) {\n    const statusColors = {\n        'PENDING': 'warning',\n        'STARTED': 'info', \n        'SUCCESS': 'success',\n        'FAILURE': 'danger',\n        'RETRY': 'warning',\n        'REVOKED': 'secondary',\n        'RUNNING': 'info',\n        'FINISHED': 'success',\n        'MISSING': 'danger',\n        'Completed': 'success',\n        'Scheduled': 'warning',\n        'Active': 'info',\n        'Issue': 'danger'\n    };\n    return statusColors[status] || 'secondary';\n}\n\nfunction getStatusIcon(status) {\n    const statusIcons = {\n        'PENDING': 'fa-clock',\n        'STARTED': 'fa-play',\n        'SUCCESS': 'fa-check',\n        'FAILURE': 'fa-times',\n        'RETRY': 'fa-redo',\n        'REVOKED': 'fa-ban',\n        'RUNNING': 'fa-play',\n        'FINISHED': 'fa-check',\n        'MISSING': 'fa-exclamation-triangle',\n        'Completed': 'fa-check',\n        'Scheduled': 'fa-clock',\n        'Active': 'fa-play',\n        'Issue': 'fa-exclamation-triangle'\n    };\n    return statusIcons[status] || 'fa-question';\n}\n\nfunction formatDuration(seconds) {\n    if (seconds < 60) return `${seconds}s`;\n    const minutes = Math.floor(seconds / 60);\n    const remainingSeconds = seconds % 60;\n    if (minutes < 60) return `${minutes}m ${remainingSeconds}s`;\n    const hours = Math.floor(minutes / 60);\n    const remainingMinutes = minutes % 60;\n    return `${hours}h ${remainingMinutes}m`;\n}\n\n// Task control functions\nfunction revokeTask(taskId, matchId, taskType) {\n    Swal.fire({\n        title: 'Revoke Task?',\n        text: `Are you sure you want to revoke this ${taskType} task?`,\n        icon: 'warning',\n        showCancelButton: true,\n        confirmButtonColor: (typeof ECSTheme !== 'undefined') ? ECSTheme.getColor('danger') : '#dc3545',\n        cancelButtonColor: (typeof ECSTheme !== 'undefined') ? ECSTheme.getColor('secondary') : '#6c757d',\n        confirmButtonText: 'Yes, revoke it!'\n    }).then((result) => {\n        if (result.isConfirmed) {\n            fetch('/admin/match_management/revoke-task', {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json',\n                    'X-CSRFToken': csrfToken\n                },\n                body: JSON.stringify({\n                    task_id: taskId,\n                    match_id: matchId,\n                    task_type: taskType\n                })\n            })\n            .then(response => response.json())\n            .then(data => {\n                if (data.success) {\n                    Swal.fire('Revoked!', data.message, 'success');\n                    loadMatchTaskDetails(matchId);\n                } else {\n                    Swal.fire('Error!', data.error, 'error');\n                }\n            })\n            .catch(error => {\n                Swal.fire('Error!', 'Failed to revoke task', 'error');\n            });\n        }\n    });\n}\n\nfunction rescheduleTask(matchId, taskType) {\n    Swal.fire({\n        title: 'Reschedule Task?',\n        text: `This will reschedule the ${taskType} task for match ${matchId}`,\n        icon: 'question',\n        showCancelButton: true,\n        confirmButtonColor: (typeof ECSTheme !== 'undefined') ? ECSTheme.getColor('success') : '#198754',\n        cancelButtonColor: (typeof ECSTheme !== 'undefined') ? ECSTheme.getColor('secondary') : '#6c757d',\n        confirmButtonText: 'Yes, reschedule!'\n    }).then((result) => {\n        if (result.isConfirmed) {\n            // Use existing schedule match functionality\n            matchMgmtScheduleMatch(matchId);\n        }\n    });\n}\n\nfunction showTaskInfo(taskId, taskType, taskData) {\n    let taskObj;\n    try {\n        taskObj = typeof taskData === 'string' ? JSON.parse(taskData) : taskData;\n    } catch (e) {\n        taskObj = { error: 'Failed to parse task data', raw: taskData };\n    }\n    \n    const modalHtml = `\n        <div class=\"task-info-details\">\n            <h6><i class=\"fas fa-info-circle\"></i> ${taskType}</h6>\n            <table class=\"table table-sm\">\n                <tr><td><strong>Task ID:</strong></td><td><code>${taskObj.task_id || 'N/A'}</code></td></tr>\n                <tr><td><strong>Status:</strong></td><td><span class=\"badge bg-${getStatusColor(taskObj.status)}\" data-status=\"${taskObj.status}\">${taskObj.status}</span></td></tr>\n                <tr><td><strong>ETA:</strong></td><td>${taskObj.eta ? new Date(taskObj.eta).toLocaleString() : 'N/A'}</td></tr>\n                <tr><td><strong>TTL:</strong></td><td>${taskObj.ttl ? formatDuration(taskObj.ttl) : 'N/A'}</td></tr>\n                <tr><td><strong>Redis Key:</strong></td><td><code>${taskObj.redis_key || 'N/A'}</code></td></tr>\n                ${taskObj.result ? `<tr><td><strong>Result:</strong></td><td><pre class=\"small\">${taskObj.result}</pre></td></tr>` : ''}\n            </table>\n        </div>\n    `;\n    \n    Swal.fire({\n        title: 'Task Information',\n        html: modalHtml,\n        width: '600px',\n        showCloseButton: true,\n        focusConfirm: false\n    });\n}\n\n// Load task details for all matches on the page\nfunction loadAllTaskDetails() {\n    // Find all match rows and load their task details, but exclude historical matches unless expanded\n    const matchRows = document.querySelectorAll('[data-match-id]:not([data-match-type=\"historical\"])');\n    matchRows.forEach(row => {\n        const matchId = row.getAttribute('data-match-id');\n        if (matchId) {\n            loadMatchTaskDetails(matchId);\n        }\n    });\n\n    // Also load for expanded historical matches\n    const historicalSection = document.getElementById('historicalMatches');\n    if (historicalSection && historicalSection.classList.contains('show')) {\n        const historicalRows = document.querySelectorAll('[data-match-type=\"historical\"][data-match-id]');\n        historicalRows.forEach(row => {\n            const matchId = row.getAttribute('data-match-id');\n            if (matchId) {\n                loadMatchTaskDetails(matchId);\n            }\n        });\n    }\n}\n\n\n\n\nfunction formatTaskETA(etaString) {\n    if (!etaString) return 'Unknown';\n    \n    try {\n        const etaDate = new Date(etaString);\n        const now = new Date();\n        const diff = etaDate - now;\n        \n        if (diff > 0) {\n            const minutes = Math.floor(diff / (1000 * 60));\n            const hours = Math.floor(minutes / 60);\n            \n            if (hours > 0) {\n                return `${hours}h ${minutes % 60}m`;\n            } else {\n                return `${minutes}m`;\n            }\n        } else {\n            return 'Now';\n        }\n    } catch (e) {\n        return 'Invalid';\n    }\n}\n\nfunction formatTTL(seconds) {\n    if (!seconds || seconds <= 0) return 'No limit';\n    \n    const hours = Math.floor(seconds / 3600);\n    const minutes = Math.floor((seconds % 3600) / 60);\n    \n    if (hours > 0) {\n        return `${hours}h ${minutes}m`;\n    } else if (minutes > 0) {\n        return `${minutes}m`;\n    } else {\n        return `${seconds}s`;\n    }\n}\n\n\nfunction formatScheduledTime(isoString) {\n    if (!isoString) return 'Unknown';\n    \n    try {\n        const date = new Date(isoString);\n        const now = new Date();\n        const diff = date - now;\n        \n        if (diff > 0) {\n            const hours = Math.floor(diff / (1000 * 60 * 60));\n            const minutes = Math.floor((diff % (1000 * 60 * 60)) / (1000 * 60));\n            \n            if (hours > 24) {\n                const days = Math.floor(hours / 24);\n                const remainingHours = hours % 24;\n                return `${days}d ${remainingHours}h`;\n            } else if (hours > 0) {\n                return `${hours}h ${minutes}m`;\n            } else {\n                return `${minutes}m`;\n            }\n        } else {\n            return 'Overdue';\n        }\n    } catch (e) {\n        return 'Invalid';\n    }\n}\n\nfunction formatScheduledTimes() {\n    // Format all scheduled time elements on the page\n    document.querySelectorAll('[data-time][data-component=\"scheduled-time\"]').forEach(element => {\n        const isoTime = element.getAttribute('data-time');\n        element.textContent = formatScheduledTime(isoTime);\n    });\n}\n\nfunction getScheduleStatusColor(status) {\n    const colors = {\n        'not_started': 'secondary',\n        'scheduled': 'warning',\n        'running': 'success',\n        'completed': 'info',\n        'stopped': 'danger',\n        'failed': 'danger'\n    };\n    return colors[status] || 'secondary';\n}\n\nfunction getScheduleStatusIcon(status) {\n    const icons = {\n        'not_started': 'fa-circle',\n        'scheduled': 'fa-clock',\n        'running': 'fa-play-circle',\n        'completed': 'fa-check-circle',\n        'stopped': 'fa-stop-circle',\n        'failed': 'fa-exclamation-triangle'\n    };\n    return icons[status] || 'fa-circle';\n}\n\nfunction getStatusDisplay(status) {\n    const displays = {\n        'not_started': 'Not Started',\n        'scheduled': 'Scheduled',\n        'running': 'Running',\n        'completed': 'Completed', \n        'stopped': 'Stopped',\n        'failed': 'Failed'\n    };\n    return displays[status] || status;\n}\n\n// Match action functions\nfunction matchMgmtScheduleMatch(matchId) {\n    fetch(`/admin/match_management/schedule/${matchId}`, {\n        method: 'POST',\n        headers: {\n            'Content-Type': 'application/json',\n            'X-CSRFToken': csrfToken\n        }\n    })\n    .then(response => response.json())\n    .then(data => {\n        if (data.success) {\n            Swal.fire('Success!', data.message, 'success');\n            refreshStatuses();\n        } else {\n            Swal.fire('Error!', data.message, 'error');\n        }\n    })\n    .catch(error => {\n        console.error('Error:', error);\n        Swal.fire('Error!', 'An error occurred while scheduling the match.', 'error');\n    });\n}\n\nfunction createThreadNow(matchId) {\n    fetch(`/admin/match_management/create-thread/${matchId}`, {\n        method: 'POST',\n        headers: {\n            'Content-Type': 'application/json',\n            'X-CSRFToken': csrfToken\n        }\n    })\n    .then(response => response.json())\n    .then(data => {\n        if (data.success) {\n            Swal.fire('Success!', data.message, 'success');\n            refreshStatuses();\n        } else {\n            Swal.fire('Error!', data.message, 'error');\n        }\n    })\n    .catch(error => {\n        console.error('Error:', error);\n        Swal.fire('Error!', 'An error occurred while creating the thread.', 'error');\n    });\n}\n\nfunction startLiveReporting(matchId) {\n    fetch(`/admin/match_management/start-reporting/${matchId}`, {\n        method: 'POST',\n        headers: {\n            'Content-Type': 'application/json',\n            'X-CSRFToken': csrfToken\n        }\n    })\n    .then(response => response.json())\n    .then(data => {\n        if (data.success) {\n            Swal.fire('Success!', data.message, 'success');\n            refreshStatuses();\n        } else {\n            Swal.fire('Error!', data.message, 'error');\n        }\n    })\n    .catch(error => {\n        console.error('Error:', error);\n        Swal.fire('Error!', 'An error occurred while starting live reporting.', 'error');\n    });\n}\n\nfunction stopLiveReporting(matchId) {\n    fetch(`/admin/match_management/stop-reporting/${matchId}`, {\n        method: 'POST',\n        headers: {\n            'Content-Type': 'application/json',\n            'X-CSRFToken': csrfToken\n        }\n    })\n    .then(response => response.json())\n    .then(data => {\n        if (data.success) {\n            Swal.fire('Success!', data.message, 'success');\n            refreshStatuses();\n        } else {\n            Swal.fire('Error!', data.message, 'error');\n        }\n    })\n    .catch(error => {\n        console.error('Error:', error);\n        Swal.fire('Error!', 'An error occurred while stopping live reporting.', 'error');\n    });\n}\n\nfunction showTaskDetails(matchId, taskId) {\n    // Implementation for showing task details\n    Swal.fire({\n        title: 'Task Details',\n        html: `\n            <div class=\"text-start\">\n                <strong>Match ID:</strong> ${matchId}<br>\n                <strong>Task ID:</strong> ${taskId}<br>\n                <em>Detailed task information would be loaded here...</em>\n            </div>\n        `,\n        confirmButtonText: 'Close'\n    });\n}\n\nfunction getTaskStatusColor(status) {\n    const colors = {\n        'PENDING': 'warning',\n        'STARTED': 'info',\n        'RETRY': 'warning',\n        'FAILURE': 'danger',\n        'SUCCESS': 'success'\n    };\n    return colors[status] || 'secondary';\n}\n\nfunction addMatchByDate() {\n    const dateInput = document.getElementById('matchDate');\n    const competitionInput = document.getElementById('matchCompetition');\n    const date = dateInput.value;\n    const competition = competitionInput.value;\n    \n    console.log('Selected competition:', competition);\n    console.log('Competition dropdown options:', competitionInput.options);\n    console.log('Selected index:', competitionInput.selectedIndex);\n    \n    if (!date) {\n        Swal.fire('Error!', 'Please select a date.', 'error');\n        return;\n    }\n    \n    if (!competition) {\n        Swal.fire('Error!', 'Please select a competition.', 'error');\n        return;\n    }\n    \n    const formData = new FormData();\n    formData.append('date', date);\n    formData.append('competition', competition);\n    \n    console.log('Sending competition to server:', competition);\n    \n    fetch('/admin/match_management/add-by-date', {\n        method: 'POST',\n        headers: {\n            'X-CSRFToken': csrfToken\n        },\n        body: formData\n    })\n    .then(response => response.json())\n    .then(data => {\n        if (data.success) {\n            Swal.fire('Success!', data.message, 'success');\n            setTimeout(() => location.reload(), 2000);\n        } else {\n            Swal.fire('Error!', data.message || data.error, 'error');\n        }\n    })\n    .catch(error => {\n        console.error('Error:', error);\n        Swal.fire('Error!', 'An error occurred while adding matches.', 'error');\n    });\n}\n\nfunction scheduleAllMatches() {\n    Swal.fire({\n        title: 'Schedule All Matches?',\n        text: 'This will schedule Discord threads and live reporting for all matches.',\n        icon: 'question',\n        showCancelButton: true,\n        confirmButtonText: 'Yes, schedule all!'\n    }).then((result) => {\n        if (result.isConfirmed) {\n            fetch('/admin/match_management/schedule-all', {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json',\n                    'X-CSRFToken': csrfToken\n                }\n            })\n            .then(response => response.json())\n            .then(data => {\n                if (data.success) {\n                    Swal.fire('Success!', data.message, 'success');\n                    refreshStatuses();\n                } else {\n                    Swal.fire('Error!', data.message, 'error');\n                }\n            })\n            .catch(error => {\n                console.error('Error:', error);\n                Swal.fire('Error!', 'An error occurred while scheduling matches.', 'error');\n            });\n        }\n    });\n}\n\nfunction fetchAllFromESPN() {\n    Swal.fire({\n        title: 'Fetch All Matches from ESPN?',\n        text: 'This will fetch all matches for the current season from ESPN.',\n        icon: 'question',\n        showCancelButton: true,\n        confirmButtonText: 'Yes, fetch all!'\n    }).then((result) => {\n        if (result.isConfirmed) {\n            Swal.fire({\n                title: 'Fetching matches...',\n                text: 'This may take a few moments.',\n                allowOutsideClick: false,\n                didOpen: () => {\n                    Swal.showLoading();\n                }\n            });\n            \n            fetch('/admin/match_management/fetch-all-from-espn', {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json',\n                    'X-CSRFToken': csrfToken\n                }\n            })\n            .then(response => response.json())\n            .then(data => {\n                if (data.success) {\n                    Swal.fire('Success!', data.message, 'success');\n                    setTimeout(() => location.reload(), 2000);\n                } else {\n                    Swal.fire('Error!', data.message, 'error');\n                }\n            })\n            .catch(error => {\n                console.error('Error:', error);\n                Swal.fire('Error!', 'An error occurred while fetching matches.', 'error');\n            });\n        }\n    });\n}\n\nfunction clearAllMatches() {\n    Swal.fire({\n        title: 'Clear All Matches?',\n        text: 'This will remove ALL matches from the database. This action cannot be undone!',\n        icon: 'warning',\n        showCancelButton: true,\n        confirmButtonText: 'Yes, clear all!',\n        confirmButtonColor: (typeof ECSTheme !== 'undefined') ? ECSTheme.getColor('danger') : '#dc3545'\n    }).then((result) => {\n        if (result.isConfirmed) {\n            fetch('/admin/match_management/clear-all', {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json',\n                    'X-CSRFToken': csrfToken\n                }\n            })\n            .then(response => response.json())\n            .then(data => {\n                if (data.success) {\n                    Swal.fire('Success!', data.message, 'success');\n                    setTimeout(() => location.reload(), 2000);\n                } else {\n                    Swal.fire('Error!', data.message, 'error');\n                }\n            })\n            .catch(error => {\n                console.error('Error:', error);\n                Swal.fire('Error!', 'An error occurred while clearing matches.', 'error');\n            });\n        }\n    });\n}\n\nfunction matchMgmtEditMatch(matchId) {\n    // Implementation for editing a match\n    Swal.fire('Info', 'Edit match functionality to be implemented.', 'info');\n}\n\nfunction removeMatch(matchId) {\n    Swal.fire({\n        title: 'Remove Match?',\n        text: 'This will remove the match from the database.',\n        icon: 'warning',\n        showCancelButton: true,\n        confirmButtonText: 'Yes, remove it!',\n        confirmButtonColor: (typeof ECSTheme !== 'undefined') ? ECSTheme.getColor('danger') : '#dc3545'\n    }).then((result) => {\n        if (result.isConfirmed) {\n            fetch(`/admin/match_management/remove/${matchId}`, {\n                method: 'DELETE',\n                headers: {\n                    'Content-Type': 'application/json',\n                    'X-CSRFToken': csrfToken\n                }\n            })\n            .then(response => response.json())\n            .then(data => {\n                if (data.success) {\n                    Swal.fire('Success!', data.message, 'success');\n                    setTimeout(() => location.reload(), 2000);\n                } else {\n                    Swal.fire('Error!', data.message, 'error');\n                }\n            })\n            .catch(error => {\n                console.error('Error:', error);\n                Swal.fire('Error!', 'An error occurred while removing the match.', 'error');\n            });\n        }\n    });\n}\n\n// Queue management functions\nfunction matchMgmtShowQueueStatus() {\n    $('#queueStatusModal').modal('show');\n    refreshQueueStatus();\n}\n\nfunction refreshQueueStatus() {\n    fetch('/admin/match_management/queue-status')\n        .then(response => response.json())\n        .then(data => {\n            if (data.success) {\n                displayQueueStatus(data);\n            } else {\n                document.getElementById('queueStatusContent').innerHTML = \n                    '<div class=\"alert alert-danger\">Failed to load queue status</div>';\n            }\n        })\n        .catch(error => {\n            console.error('Error loading queue status:', error);\n            document.getElementById('queueStatusContent').innerHTML = \n                '<div class=\"alert alert-danger\">Error loading queue status</div>';\n        });\n}\n\nfunction displayQueueStatus(data) {\n    let html = '';\n    \n    // Active tasks\n    if (data.active_tasks && data.active_tasks.length > 0) {\n        html += '<h6>Active Tasks</h6>';\n        html += '<div class=\"table-responsive\"><table class=\"table table-sm\">';\n        html += '<thead><tr><th>Task ID</th><th>Name</th><th>State</th><th>Worker</th><th>ETA</th></tr></thead><tbody>';\n        \n        data.active_tasks.forEach(task => {\n            html += `\n                <tr>\n                    <td><code>${task.task_id.substring(0, 8)}...</code></td>\n                    <td>${task.name || 'Unknown'}</td>\n                    <td><span class=\"badge bg-${getTaskStatusColor(task.state)}\" data-task-state=\"${task.state}\">${task.state}</span></td>\n                    <td>${task.worker || 'Unknown'}</td>\n                    <td>${task.eta ? formatTaskETA(task.eta) : 'N/A'}</td>\n                </tr>\n            `;\n        });\n        \n        html += '</tbody></table></div>';\n    }\n    \n    // Scheduled tasks\n    if (data.scheduled_tasks && data.scheduled_tasks.length > 0) {\n        html += '<h6 class=\"mt-3\">Scheduled Tasks</h6>';\n        html += '<div class=\"table-responsive\"><table class=\"table table-sm\">';\n        html += '<thead><tr><th>Task ID</th><th>Name</th><th>ETA</th></tr></thead><tbody>';\n        \n        data.scheduled_tasks.forEach(task => {\n            html += `\n                <tr>\n                    <td><code>${task.task_id.substring(0, 8)}...</code></td>\n                    <td>${task.name || 'Unknown'}</td>\n                    <td>${task.eta ? formatScheduledTime(task.eta) : 'N/A'}</td>\n                </tr>\n            `;\n        });\n        \n        html += '</tbody></table></div>';\n    }\n    \n    // Worker stats\n    if (data.worker_stats) {\n        html += '<h6 class=\"mt-3\">Worker Statistics</h6>';\n        html += '<div class=\"row\">';\n        \n        Object.entries(data.worker_stats).forEach(([worker, stats]) => {\n            html += `\n                <div class=\"col-md-6 mb-2\">\n                    <div data-component=\"worker-stats-card\" data-worker=\"${worker}\" class=\"card\">\n                        <div class=\"card-body p-2\">\n                            <h6 class=\"card-title mb-1\">${worker}</h6>\n                            <small class=\"text-muted\">\n                                Active: ${stats.active || 0} |\n                                Processed: ${stats.processed || 0}\n                            </small>\n                        </div>\n                    </div>\n                </div>\n            `;\n        });\n        \n        html += '</div>';\n    }\n    \n    if (!html) {\n        html = '<div class=\"alert alert-info\">No active or scheduled tasks</div>';\n    }\n    \n    document.getElementById('queueStatusContent').innerHTML = html;\n}\n\n// Debug functions\nfunction debugMatchTasks(matchId) {\n    fetch(`/admin/match_management/debug-tasks/${matchId}`)\n        .then(response => response.json())\n        .then(data => {\n            if (data.success) {\n                showDebugModal(data.debug_info);\n            } else {\n                Swal.fire('Error!', data.message, 'error');\n            }\n        })\n        .catch(error => {\n            console.error('Error:', error);\n            Swal.fire('Error!', 'An error occurred while fetching debug information.', 'error');\n        });\n}\n\nfunction showDebugModal(debugInfo) {\n    let html = '<div class=\"text-start\">';\n    \n    if (debugInfo.match_info) {\n        html += '<h6>Match Information</h6>';\n        html += '<pre class=\"bg-light p-2 rounded\">' + JSON.stringify(debugInfo.match_info, null, 2) + '</pre>';\n    }\n    \n    if (debugInfo.scheduled_tasks) {\n        html += '<h6>Scheduled Tasks</h6>';\n        html += '<pre class=\"bg-light p-2 rounded\">' + JSON.stringify(debugInfo.scheduled_tasks, null, 2) + '</pre>';\n    }\n    \n    if (debugInfo.active_tasks) {\n        html += '<h6>Active Tasks</h6>';\n        html += '<pre class=\"bg-light p-2 rounded\">' + JSON.stringify(debugInfo.active_tasks, null, 2) + '</pre>';\n    }\n    \n    if (debugInfo.celery_status) {\n        html += '<h6>Celery Status</h6>';\n        html += '<pre class=\"bg-light p-2 rounded\">' + JSON.stringify(debugInfo.celery_status, null, 2) + '</pre>';\n    }\n    \n    html += '</div>';\n    \n    Swal.fire({\n        title: 'Debug Information',\n        html: html,\n        width: '80%',\n        confirmButtonText: 'Close'\n    });\n}\n\nfunction forceScheduleMatch(matchId) {\n    Swal.fire({\n        title: 'Force Schedule Match?',\n        text: 'This will force schedule the match, bypassing normal checks.',\n        icon: 'warning',\n        showCancelButton: true,\n        confirmButtonText: 'Yes, force schedule!'\n    }).then((result) => {\n        if (result.isConfirmed) {\n            fetch(`/admin/match_management/force-schedule/${matchId}`, {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json',\n                    'X-CSRFToken': csrfToken\n                }\n            })\n            .then(response => response.json())\n            .then(data => {\n                if (data.success) {\n                    Swal.fire('Success!', data.message, 'success');\n                    refreshStatuses();\n                } else {\n                    Swal.fire('Error!', data.message, 'error');\n                }\n            })\n            .catch(error => {\n                console.error('Error:', error);\n                Swal.fire('Error!', 'An error occurred while force scheduling the match.', 'error');\n            });\n        }\n    });\n}\n\n// Initialize match management when DOM is ready\n$(document).ready(function() {\n    // Initialize CSRF token\n    initializeCSRFToken();\n    \n    // Format scheduled times on initial page load\n    formatScheduledTimes();\n    \n    // Load task details for all matches after a short delay\n    setTimeout(loadAllTaskDetails, 1000);\n    \n    // With background cache, we can refresh less frequently\n    // Refresh task details every 60 seconds (cache updates every 3 minutes)\n    setInterval(loadAllTaskDetails, 60000);\n    \n    // Auto-refresh every 60 seconds  \n    setInterval(refreshStatuses, 60000);\n    \n    // Handle historical matches toggle\n    const historicalToggle = document.getElementById('historicalMatches');\n    const historicalToggleIcon = document.getElementById('historicalToggleIcon');\n    \n    if (historicalToggle && historicalToggleIcon) {\n        historicalToggle.addEventListener('show.bs.collapse', function () {\n            historicalToggleIcon.classList.remove('ti-chevron-down');\n            historicalToggleIcon.classList.add('ti-chevron-up');\n            \n            // Load task details for historical matches when expanded\n            setTimeout(() => {\n                document.querySelectorAll('[data-match-type=\"historical\"][data-match-id]').forEach(card => {\n                    const matchId = card.dataset.matchId;\n                    if (matchId) {\n                        loadMatchTaskDetails(matchId);\n                    }\n                });\n            }, 100);\n        });\n        \n        historicalToggle.addEventListener('hide.bs.collapse', function () {\n            historicalToggleIcon.classList.remove('ti-chevron-up');\n            historicalToggleIcon.classList.add('ti-chevron-down');\n        });\n    }\n});\n\n// Show cache status\nfunction showCacheStatus() {\n    fetch('/admin/match_management/cache-status')\n        .then(response => response.json())\n        .then(data => {\n            if (data.success) {\n                const stats = data.cache_stats;\n                const modalHtml = `\n                    <div class=\"modal fade\" id=\"cacheStatusModal\" tabindex=\"-1\">\n                        <div class=\"modal-dialog modal-lg\">\n                            <div class=\"modal-content\">\n                                <div class=\"modal-header\">\n                                    <h5 class=\"modal-title\">\n                                        <i class=\"ti ti-database me-2\"></i>Cache System Status\n                                    </h5>\n                                    <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\"></button>\n                                </div>\n                                <div class=\"modal-body\">\n                                    <div class=\"row mb-3\">\n                                        <div class=\"col-md-6\">\n                                            <div data-component=\"cache-stat-card\" data-stat-type=\"entries\" class=\"card bg-primary text-white\">\n                                                <div class=\"card-body text-center\">\n                                                    <h3 class=\"card-title\">${stats.total_entries}</h3>\n                                                    <p class=\"card-text mb-0\">Cached Entries</p>\n                                                </div>\n                                            </div>\n                                        </div>\n                                        <div class=\"col-md-6\">\n                                            <div data-component=\"cache-stat-card\" data-stat-type=\"coverage\" class=\"card bg-success text-white\">\n                                                <div class=\"card-body text-center\">\n                                                    <h3 class=\"card-title\">${stats.cache_coverage_percent.toFixed(1)}%</h3>\n                                                    <p class=\"card-text mb-0\">Coverage</p>\n                                                </div>\n                                            </div>\n                                        </div>\n                                    </div>\n                                    <div class=\"row mb-3\">\n                                        <div class=\"col-md-6\">\n                                            <div data-component=\"cache-stat-card\" data-stat-type=\"health\" class=\"card bg-info text-white\">\n                                                <div class=\"card-body text-center\">\n                                                    <h3 class=\"card-title\">${stats.health_score_percent.toFixed(1)}%</h3>\n                                                    <p class=\"card-text mb-0\">Health Score</p>\n                                                </div>\n                                            </div>\n                                        </div>\n                                        <div class=\"col-md-6\">\n                                            <div data-component=\"cache-stat-card\" data-stat-type=\"ttl\" class=\"card bg-warning text-white\">\n                                                <div class=\"card-body text-center\">\n                                                    <h3 class=\"card-title\">${Math.round(stats.ttl_seconds / 60)}min</h3>\n                                                    <p class=\"card-text mb-0\">Cache TTL</p>\n                                                </div>\n                                            </div>\n                                        </div>\n                                    </div>\n                                    <div class=\"table-responsive\">\n                                        <table class=\"table table-sm\">\n                                            <tbody>\n                                                <tr><td><strong>Active Matches:</strong></td><td>${stats.active_matches}</td></tr>\n                                                <tr><td><strong>Sample Size:</strong></td><td>${stats.sample_size}</td></tr>\n                                                <tr><td><strong>Valid Entries:</strong></td><td>${stats.valid_entries}</td></tr>\n                                                <tr><td><strong>Avg Entry Size:</strong></td><td>${(stats.avg_entry_size_bytes / 1024).toFixed(1)} KB</td></tr>\n                                                <tr><td><strong>Est. Total Size:</strong></td><td>${(stats.estimated_total_size_bytes / 1024 / 1024).toFixed(1)} MB</td></tr>\n                                                <tr><td><strong>Last Updated:</strong></td><td>${new Date(data.timestamp).toLocaleString()}</td></tr>\n                                            </tbody>\n                                        </table>\n                                    </div>\n                                    <div class=\"alert alert-info\">\n                                        <i class=\"ti ti-info-circle me-2\"></i>\n                                        Cache is updated automatically every 3 minutes by background tasks. \n                                        High coverage and health scores indicate optimal performance.\n                                    </div>\n                                </div>\n                                <div class=\"modal-footer\">\n                                    <button type=\"button\" class=\"btn btn-secondary\" data-bs-dismiss=\"modal\">Close</button>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                `;\n                \n                // Remove existing modal if present\n                const existingModal = document.getElementById('cacheStatusModal');\n                if (existingModal) {\n                    existingModal.remove();\n                }\n                \n                // Add modal to body\n                document.body.insertAdjacentHTML('beforeend', modalHtml);\n                \n                // Show modal\n                ModalManager.show('cacheStatusModal');\n                \n                // Clean up when modal is hidden\n                document.getElementById('cacheStatusModal').addEventListener('hidden.bs.modal', function () {\n                    this.remove();\n                });\n                \n            } else {\n                alert('Failed to load cache status: ' + data.error);\n            }\n        })\n        .catch(error => {\n            console.error('Error loading cache status:', error);\n            alert('Error loading cache status');\n        });\n}\n","// static/custom_js/match_stats.js\n\n$(document).ready(function () {\n    // Initialize Feather Icons for dynamically added elements\n    if (feather) {\n        if (typeof feather !== 'undefined') {\n            feather.replace();\n        }\n    }\n\n    // Event delegation for Edit buttons\n    $(document).on('click', '.edit-match-stat-btn', function () {\n        var statId = $(this).data('stat-id');\n        matchStatsEditMatch(statId);\n    });\n\n    // Event delegation for Remove buttons\n    $(document).on('click', '.remove-match-stat-btn', function () {\n        var statId = $(this).data('stat-id');\n        removeMatchStat(statId);\n    });\n\n    // Initialize filter on page load\n    filterMatchStats();\n\n    // Bind filter change\n    $('#matchFilter').on('change', function () {\n        filterMatchStats();\n    });\n});\n\n// Function to filter match stats based on selected match\nfunction filterMatchStats() {\n    var selectedMatchId = $('#matchFilter').val();  // Get the selected match ID\n    $('#matchStatsContainer .card').each(function () {\n        var matchId = $(this).data('match-id');  // Each card should have a data-match-id attribute\n        if (selectedMatchId === '' || matchId == selectedMatchId) {\n            $(this).show();  // Show the card if it matches the filter\n        } else {\n            $(this).hide();  // Hide the card if it doesn't match the filter\n        }\n    });\n}\n\n// Function to open Edit Match Stat Modal with data populated\nfunction matchStatsEditMatch(statId) {\n    // Fetch the existing stat data via AJAX\n    var csrfToken = $('input[name=\"csrf_token\"]').val();  // Get CSRF token\n\n    $.ajax({\n        url: '/edit_match_stat/' + statId,\n        method: 'GET',\n        headers: {\n            'X-CSRFToken': csrfToken,  // Add CSRF token for protection\n        },\n        success: function (data) {\n            // Populate the inputs with the received data\n            $('#editGoalsInput').val(data.goals);\n            $('#editAssistsInput').val(data.assists);\n            $('#editYellowCardsInput').val(data.yellow_cards);\n            $('#editRedCardsInput').val(data.red_cards);\n            $('#editStatId').val(statId);  // Store statId in the hidden input for form submission\n\n            // Show the modal\n            $('#editMatchStatModal').modal('show');\n        },\n        error: function () {\n            Swal.fire({\n                icon: 'error',\n                title: 'Error',\n                text: 'Failed to load match stats. Please try again.',\n            });\n        }\n    });\n}\n\n// Function to remove a match stat with SA2 confirmation\nfunction removeMatchStat(statId) {\n    Swal.fire({\n        title: 'Are you sure?',\n        text: \"Do you want to remove this stat?\",\n        icon: 'warning',\n        showCancelButton: true,\n        confirmButtonColor: (typeof ECSTheme !== 'undefined') ? ECSTheme.getColor('primary') : '#0d6efd',\n        cancelButtonColor: (typeof ECSTheme !== 'undefined') ? ECSTheme.getColor('danger') : '#dc3545',\n        confirmButtonText: 'Yes, remove it!'\n    }).then((result) => {\n        if (result.isConfirmed) {\n            var csrfToken = $('input[name=\"csrf_token\"]').val();  // Get CSRF token\n            $.ajax({\n                url: '/remove_match_stat/' + statId,\n                method: 'POST',\n                headers: {\n                    'X-CSRFToken': csrfToken  // Include CSRF token for protection\n                },\n                beforeSend: function () {\n                    // Show loading popup\n                    Swal.fire({\n                        title: 'Removing...',\n                        text: 'Please wait while the stat is being removed.',\n                        allowOutsideClick: false,\n                        didOpen: () => {\n                            Swal.showLoading()\n                        }\n                    });\n                },\n                success: function (response) {\n                    if (response.success) {\n                        Swal.fire(\n                            'Removed!',\n                            'The stat has been removed successfully.',\n                            'success'\n                        ).then(() => {\n                            location.reload();  // Refresh the page to reflect the updated data\n                        });\n                    } else {\n                        Swal.fire(\n                            'Error!',\n                            response.message || 'Failed to remove the stat.',\n                            'error'\n                        );\n                    }\n                },\n                error: function () {\n                    Swal.fire(\n                        'Error!',\n                        'Failed to remove match stat. Please try again.',\n                        'error'\n                    );\n                }\n            });\n        }\n    });\n}\n\n// Handle form submission for editing match stats with SA2 confirmation\n$('#editMatchStatForm').submit(function (e) {\n    e.preventDefault();  // Prevent default form submission\n\n    var statId = $('#editStatId').val();  // Get the stat ID\n    var formData = $(this).serialize();  // Serialize the form data\n    var csrfToken = $('input[name=\"csrf_token\"]').val();  // Get CSRF token\n\n    Swal.fire({\n        title: 'Confirm Changes',\n        text: \"Are you sure you want to save these changes?\",\n        icon: 'question',\n        showCancelButton: true,\n        confirmButtonColor: (typeof ECSTheme !== 'undefined') ? ECSTheme.getColor('primary') : '#0d6efd',\n        cancelButtonColor: (typeof ECSTheme !== 'undefined') ? ECSTheme.getColor('danger') : '#dc3545',\n        confirmButtonText: 'Yes, save it!'\n    }).then((result) => {\n        if (result.isConfirmed) {\n            // Proceed with AJAX submission\n            $.ajax({\n                url: '/edit_match_stat/' + statId,  // Use the stat ID to send the request to the correct endpoint\n                method: 'POST',\n                data: formData,\n                headers: {\n                    'X-CSRFToken': csrfToken,  // Include CSRF token for protection\n                },\n                beforeSend: function () {\n                    // Show loading popup\n                    Swal.fire({\n                        title: 'Saving...',\n                        text: 'Please wait while your changes are being saved.',\n                        allowOutsideClick: false,\n                        didOpen: () => {\n                            Swal.showLoading()\n                        }\n                    });\n                },\n                success: function (response) {\n                    if (response.success) {\n                        Swal.fire(\n                            'Success!',\n                            'Match stat has been updated successfully.',\n                            'success'\n                        ).then(() => {\n                            // Close the modal\n                            $('#editMatchStatModal').modal('hide');\n                            // Reload the page to reflect the updated data\n                            location.reload();\n                        });\n                    } else {\n                        Swal.fire(\n                            'Error!',\n                            response.message || 'Failed to update match stat.',\n                            'error'\n                        );\n                    }\n                },\n                error: function () {\n                    Swal.fire(\n                        'Error!',\n                        'Failed to update match stat. Please try again.',\n                        'error'\n                    );\n                }\n            });\n        }\n    });\n});\n","/**\n * Profile Merge Management\n * Handles the UI and interaction for merging duplicate player profiles\n */\n\ndocument.addEventListener('DOMContentLoaded', function() {\n    initializeMergeProfileUI();\n});\n\nfunction initializeMergeProfileUI() {\n    // Handle field selection visual feedback\n    document.querySelectorAll('.value-option').forEach(option => {\n        option.addEventListener('click', function() {\n            const field = this.dataset.field;\n            const value = this.dataset.value;\n\n            // Remove selected class from other options for this field\n            document.querySelectorAll(`[data-field=\"${field}\"]`).forEach(opt => {\n                opt.classList.remove('selected');\n            });\n\n            // Add selected class to clicked option\n            this.classList.add('selected');\n\n            // Check the radio button\n            this.querySelector('input[type=\"radio\"]').checked = true;\n\n            // Update preview\n            updateMergePreview();\n        });\n    });\n\n    // Initialize with current selections\n    updateMergePreview();\n}\n\nfunction updateMergePreview() {\n    const updatesList = document.getElementById('updatesList');\n    if (!updatesList) return;\n\n    const updates = [];\n\n    document.querySelectorAll('input[type=\"radio\"]:checked').forEach(radio => {\n        const field = radio.name.replace('field_', '');\n        const value = radio.value;\n\n        if (value === 'new') {\n            updates.push(`<small class=\"d-block text-primary\">Update ${field.replace('_', ' ')}</small>`);\n        } else if (value === 'combine') {\n            updates.push(`<small class=\"d-block text-warning\">Combine ${field.replace('_', ' ')}</small>`);\n        }\n    });\n\n    if (updates.length > 0) {\n        updatesList.innerHTML = updates.join('');\n    } else {\n        updatesList.innerHTML = '<p class=\"text-muted mb-0\"><em>No changes selected</em></p>';\n    }\n}\n","/**\n * ============================================================================\n * MATCHES MANAGEMENT - EVENT DELEGATION & HANDLERS\n * ============================================================================\n *\n * External JavaScript for matches.html (deprecated page)\n * Handles match editing, deletion, and live reporting controls\n *\n * Event Delegation Pattern:\n *   - data-action=\"edit-match\"\n *   - data-action=\"remove-match\"\n *   - data-action=\"clear-matches\"\n *   - data-action=\"start-reporting\"\n *   - data-action=\"stop-reporting\"\n *\n * ============================================================================\n */\n\n(function() {\n  'use strict';\n\n  // Competition mappings\n  const competitionMappings = {\n    \"MLS\": \"usa.1\",\n    \"US Open Cup\": \"usa.open\",\n    \"FIFA Club World Cup\": \"fifa.cwc\",\n    \"Concacaf\": \"concacaf.league\",\n    \"Concacaf Champions League\": \"concacaf.champions\",\n  };\n\n  const inverseCompetitionMappings = Object.fromEntries(\n    Object.entries(competitionMappings).map(([key, value]) => [value, key])\n  );\n\n  /**\n   * Initialize match management\n   */\n  function init() {\n    // Event delegation for all match actions\n    document.addEventListener('click', handleMatchActions);\n\n    // Initialize date pickers\n    initializeDatePickers();\n\n    // Update match statuses on load and periodically\n    updateAllMatchStatuses();\n    setInterval(updateAllMatchStatuses, 30000);\n  }\n\n  /**\n   * Handle all match action clicks\n   */\n  function handleMatchActions(e) {\n    const target = e.target.closest('[data-action]');\n    if (!target) return;\n\n    const action = target.dataset.action;\n    const matchId = target.dataset.matchId;\n\n    switch(action) {\n      case 'edit-match':\n        e.preventDefault();\n        editMatch(matchId);\n        break;\n      case 'remove-match':\n        e.preventDefault();\n        removeMatch(matchId);\n        break;\n      case 'clear-matches':\n        e.preventDefault();\n        clearAllMatches();\n        break;\n      case 'start-reporting':\n        startLiveReporting(matchId);\n        break;\n      case 'stop-reporting':\n        stopLiveReporting(matchId);\n        break;\n      case 'save-row':\n        e.preventDefault();\n        saveMatch(matchId);\n        break;\n      case 'cancel-edit':\n        e.preventDefault();\n        cancelEdit(matchId);\n        break;\n    }\n  }\n\n  /**\n   * Initialize Flatpickr date pickers\n   */\n  function initializeDatePickers() {\n    if (typeof flatpickr !== 'undefined') {\n      flatpickr('.flatpickr', {\n        enableTime: true,\n        dateFormat: \"Y-m-d H:i\",\n        time_24hr: true\n      });\n    }\n  }\n\n  /**\n   * Edit match row\n   */\n  function editMatch(matchId) {\n    const row = document.querySelector(`tr[data-match-id=\"${matchId}\"]`);\n    if (!row) {\n      console.error(`Row with match ID ${matchId} not found`);\n      return;\n    }\n\n    const dateCell = row.querySelector('td:nth-child(2)');\n    const competitionCell = row.querySelector('td:nth-child(3)');\n    const actionsCell = row.querySelector('td:last-child');\n\n    // Save original values\n    dateCell.setAttribute('data-original-value', dateCell.textContent);\n    competitionCell.setAttribute('data-original-value', competitionCell.textContent);\n\n    // Replace date with input\n    dateCell.innerHTML = `<input type=\"text\" id=\"edit-date-${matchId}\" class=\"form-control flatpickr\" value=\"${dateCell.textContent.trim()}\" data-form-control>`;\n\n    // Re-initialize Flatpickr for the new input\n    if (typeof flatpickr !== 'undefined') {\n      flatpickr(`#edit-date-${matchId}`, {\n        enableTime: true,\n        dateFormat: \"Y-m-d H:i\",\n        time_24hr: true\n      });\n    }\n\n    // Create competition dropdown\n    let selectHtml = `<select class=\"form-select\" id=\"edit-competition-${matchId}\" data-form-select>`;\n    for (const [friendlyName, actualValue] of Object.entries(competitionMappings)) {\n      const selected = competitionCell.textContent.trim() === friendlyName ? 'selected' : '';\n      selectHtml += `<option value=\"${friendlyName}\" ${selected}>${friendlyName}</option>`;\n    }\n    selectHtml += '</select>';\n    competitionCell.innerHTML = selectHtml;\n\n    // Replace actions with save/cancel\n    actionsCell.innerHTML = `\n      <button type=\"button\" class=\"btn btn-sm btn-success\" data-action=\"save-row\" data-match-id=\"${matchId}\">\n        <i class=\"fas fa-save\"></i> Save\n      </button>\n      <button type=\"button\" class=\"btn btn-sm btn-secondary\" data-action=\"cancel-edit\" data-match-id=\"${matchId}\">\n        <i class=\"fas fa-times\"></i> Cancel\n      </button>\n    `;\n  }\n\n  /**\n   * Save match edits\n   */\n  function saveMatch(matchId) {\n    const row = document.querySelector(`tr[data-match-id=\"${matchId}\"]`);\n    const dateValue = document.getElementById(`edit-date-${matchId}`)?.value.trim();\n    const competitionValue = document.getElementById(`edit-competition-${matchId}`)?.value.trim();\n    const csrfToken = document.querySelector('input[name=\"csrf_token\"]')?.value;\n\n    if (!dateValue || !competitionValue) {\n      alert('Date and Competition fields cannot be empty.');\n      return;\n    }\n\n    fetch(`/bot/admin/update_match/${matchId}`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n        'X-CSRFToken': csrfToken\n      },\n      body: JSON.stringify({\n        date: dateValue,\n        competition: competitionValue\n      })\n    })\n    .then(response => response.json())\n    .then(data => {\n      if (data.success) {\n        // Update cells with new values\n        const newFormattedDate = formatDate(dateValue);\n        row.querySelector('td:nth-child(2)').textContent = newFormattedDate;\n\n        const newCompetitionText = inverseCompetitionMappings[competitionValue] || competitionValue;\n        row.querySelector('td:nth-child(3)').textContent = newCompetitionText;\n\n        resetActionButtons(matchId);\n      } else {\n        alert('Failed to save changes.');\n      }\n    })\n    .catch(error => {\n      console.error('Error:', error);\n      alert('Failed to save changes. Please try again.');\n    });\n  }\n\n  /**\n   * Cancel edit mode\n   */\n  function cancelEdit(matchId) {\n    const row = document.querySelector(`tr[data-match-id=\"${matchId}\"]`);\n    const dateCell = row.querySelector('td:nth-child(2)');\n    const competitionCell = row.querySelector('td:nth-child(3)');\n\n    // Revert to original values\n    dateCell.textContent = dateCell.getAttribute('data-original-value');\n    competitionCell.textContent = competitionCell.getAttribute('data-original-value');\n\n    resetActionButtons(matchId);\n  }\n\n  /**\n   * Reset action buttons to default state\n   */\n  function resetActionButtons(matchId) {\n    const row = document.querySelector(`tr[data-match-id=\"${matchId}\"]`);\n    if (!row) return;\n\n    const actionsCell = row.querySelector('td:last-child');\n    const statusElement = row.querySelector('td:nth-child(4) span');\n    const currentStatus = statusElement?.textContent.toLowerCase().trim() || 'stopped';\n\n    actionsCell.innerHTML = `\n      <div class=\"c-match-actions\">\n        <div class=\"c-match-actions__dropdown dropdown d-inline-block me-2\">\n          <button class=\"btn btn-link text-secondary dropdown-toggle\" type=\"button\" data-bs-toggle=\"dropdown\" aria-expanded=\"false\" data-dropdown-toggle>\n            <i class=\"fas fa-ellipsis-v\"></i>\n          </button>\n          <ul class=\"dropdown-menu dropdown-menu-end\" data-dropdown-menu>\n            <li>\n              <a class=\"dropdown-item\" href=\"#\" data-action=\"edit-match\" data-match-id=\"${matchId}\">\n                <i class=\"fas fa-edit me-1\"></i> Edit\n              </a>\n            </li>\n            <li>\n              <a class=\"dropdown-item text-danger\" href=\"#\" data-action=\"remove-match\" data-match-id=\"${matchId}\">\n                <i class=\"fas fa-trash-alt me-1\"></i> Delete\n              </a>\n            </li>\n          </ul>\n        </div>\n        <button class=\"c-match-actions__button c-match-actions__button--primary\" data-action=\"start-reporting\" data-match-id=\"${matchId}\" ${currentStatus === 'running' ? 'disabled' : ''}>\n          ${currentStatus === 'scheduled' ? 'Force Start' : currentStatus === 'running' ? 'Running' : 'Start'}\n        </button>\n        <button class=\"c-match-actions__button c-match-actions__button--danger\" data-action=\"stop-reporting\" data-match-id=\"${matchId}\" ${currentStatus !== 'running' ? 'disabled' : ''}>\n          Stop\n        </button>\n      </div>\n    `;\n  }\n\n  /**\n   * Remove match with confirmation\n   */\n  function removeMatch(matchId) {\n    const confirmDelete = typeof Swal !== 'undefined'\n      ? Swal.fire({\n          title: 'Are you sure?',\n          text: \"This action cannot be undone.\",\n          icon: 'warning',\n          showCancelButton: true,\n          confirmButtonText: 'Yes, delete it!',\n          cancelButtonText: 'Cancel'\n        })\n      : Promise.resolve({ isConfirmed: confirm('Are you sure you want to delete this match?') });\n\n    confirmDelete.then((result) => {\n      if (result.isConfirmed) {\n        const csrfToken = document.querySelector('input[name=\"csrf_token\"]')?.value;\n\n        fetch(`/bot/admin/matches/remove/${matchId}`, {\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/json',\n            'X-CSRFToken': csrfToken\n          }\n        })\n        .then(response => response.json())\n        .then(data => {\n          if (data.success) {\n            const row = document.querySelector(`tr[data-match-id=\"${matchId}\"]`);\n            if (row) row.remove();\n\n            if (typeof Swal !== 'undefined') {\n              Swal.fire('Deleted!', data.message, 'success');\n            }\n          } else {\n            throw new Error(data.message || 'Failed to remove the match.');\n          }\n        })\n        .catch(error => {\n          console.error('Error:', error);\n          if (typeof Swal !== 'undefined') {\n            Swal.fire('Error', error.message, 'error');\n          } else {\n            alert('Error: ' + error.message);\n          }\n        });\n      }\n    });\n  }\n\n  /**\n   * Clear all matches\n   */\n  function clearAllMatches() {\n    const confirmClear = typeof Swal !== 'undefined'\n      ? Swal.fire({\n          title: 'Are you sure?',\n          text: \"This will delete ALL matches. This action cannot be undone.\",\n          icon: 'warning',\n          showCancelButton: true,\n          confirmButtonText: 'Yes, clear all!',\n          cancelButtonText: 'Cancel'\n        })\n      : Promise.resolve({ isConfirmed: confirm('Are you sure you want to clear ALL matches?') });\n\n    confirmClear.then((result) => {\n      if (result.isConfirmed) {\n        const csrfToken = document.querySelector('input[name=\"csrf_token\"]')?.value;\n        const clearUrl = document.querySelector('[data-action=\"clear-matches\"]')?.getAttribute('href') || '/bot/admin/clear_all_mls_matches';\n\n        fetch(clearUrl, {\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/json',\n            'X-CSRFToken': csrfToken\n          }\n        })\n        .then(response => response.json())\n        .then(data => {\n          if (data.success) {\n            if (typeof Swal !== 'undefined') {\n              Swal.fire('Cleared!', 'All matches have been cleared.', 'success').then(() => {\n                location.reload();\n              });\n            } else {\n              alert('All matches have been cleared.');\n              location.reload();\n            }\n          } else {\n            throw new Error('Failed to clear matches.');\n          }\n        })\n        .catch(error => {\n          console.error('Error:', error);\n          if (typeof Swal !== 'undefined') {\n            Swal.fire('Error', error.message, 'error');\n          } else {\n            alert('Error: ' + error.message);\n          }\n        });\n      }\n    });\n  }\n\n  /**\n   * Start live reporting\n   */\n  function startLiveReporting(matchId) {\n    const startButton = document.querySelector(`[data-action=\"start-reporting\"][data-match-id=\"${matchId}\"]`);\n    const stopButton = document.querySelector(`[data-action=\"stop-reporting\"][data-match-id=\"${matchId}\"]`);\n\n    if (startButton) startButton.disabled = true;\n\n    const csrfToken = document.querySelector('input[name=\"csrf_token\"]')?.value;\n\n    fetch(`/bot/admin/start_live_reporting/${matchId}`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n        'X-CSRFToken': csrfToken\n      }\n    })\n    .then(response => {\n      if (!response.ok) throw new Error(`HTTP error! status: ${response.status}`);\n      return response.json();\n    })\n    .then(data => {\n      if (data.success) {\n        updateMatchStatus(matchId, 'running');\n        console.log(`Live reporting started. Task ID: ${data.task_id}`);\n      } else {\n        if (startButton) startButton.disabled = false;\n        alert(data.message);\n      }\n    })\n    .catch(error => {\n      console.error('Error:', error);\n      if (startButton) startButton.disabled = false;\n      alert('Failed to start live reporting. Please try again.');\n    });\n  }\n\n  /**\n   * Stop live reporting\n   */\n  function stopLiveReporting(matchId) {\n    const stopButton = document.querySelector(`[data-action=\"stop-reporting\"][data-match-id=\"${matchId}\"]`);\n\n    if (stopButton) stopButton.disabled = true;\n\n    const csrfToken = document.querySelector('input[name=\"csrf_token\"]')?.value;\n\n    fetch(`/bot/admin/stop_live_reporting/${matchId}`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n        'X-CSRFToken': csrfToken\n      }\n    })\n    .then(response => {\n      if (!response.ok) throw new Error(`HTTP error! status: ${response.status}`);\n      return response.json();\n    })\n    .then(data => {\n      if (data.success) {\n        updateMatchStatus(matchId, 'stopped');\n      } else {\n        if (stopButton) stopButton.disabled = false;\n        alert(data.message);\n      }\n    })\n    .catch(error => {\n      console.error('Error:', error);\n      if (stopButton) stopButton.disabled = false;\n      alert('Failed to stop live reporting. Please try again.');\n    });\n  }\n\n  /**\n   * Update match status display\n   */\n  function updateMatchStatus(matchId, status) {\n    const statusSpan = document.getElementById(`status-${matchId}`);\n    const startButton = document.querySelector(`[data-action=\"start-reporting\"][data-match-id=\"${matchId}\"]`);\n    const stopButton = document.querySelector(`[data-action=\"stop-reporting\"][data-match-id=\"${matchId}\"]`);\n\n    if (statusSpan && startButton && stopButton) {\n      statusSpan.textContent = status.charAt(0).toUpperCase() + status.slice(1);\n      statusSpan.className = `c-live-status c-live-status--${status}`;\n\n      if (status === 'running') {\n        startButton.textContent = 'Running';\n        startButton.disabled = true;\n        stopButton.disabled = false;\n      } else if (status === 'scheduled') {\n        startButton.textContent = 'Force Start';\n        startButton.disabled = false;\n        stopButton.disabled = true;\n      } else {\n        startButton.textContent = 'Start';\n        startButton.disabled = false;\n        stopButton.disabled = true;\n      }\n    }\n  }\n\n  /**\n   * Update all match statuses\n   */\n  function updateAllMatchStatuses() {\n    fetch('/bot/admin/get_all_match_statuses')\n      .then(response => response.json())\n      .then(data => {\n        Object.entries(data).forEach(([matchId, matchData]) => {\n          updateMatchStatus(matchId, matchData.status);\n        });\n      })\n      .catch(error => console.error('Error updating statuses:', error));\n  }\n\n  /**\n   * Format date string\n   */\n  function formatDate(dateString) {\n    const dateObj = new Date(dateString);\n    dateObj.setHours(dateObj.getHours() + 25); // Adjust as per original logic\n    const options = {\n      year: 'numeric',\n      month: '2-digit',\n      day: '2-digit',\n      hour: '2-digit',\n      minute: '2-digit',\n      hour12: true\n    };\n    return dateObj.toLocaleString('en-US', options).replace(',', '');\n  }\n\n  // Initialize on DOM ready\n  if (document.readyState === 'loading') {\n    document.addEventListener('DOMContentLoaded', init);\n  } else {\n    init();\n  }\n\n})();\n","/**\n * Onboarding Wizard Script\n *\n * Handles the multi-step onboarding carousel modal for new users.\n * Converted to use centralized event delegation (Phase 2.2 Sprint 3).\n *\n * Features:\n * - Multi-step wizard navigation (carousel-based)\n * - Step-by-step form validation\n * - Progress tracking\n * - SMS notification toggle and verification\n * - Profile image cropping integration\n * - Select2 dropdown initialization\n *\n * Event Delegation Actions:\n * - onboarding-create-profile: Start profile creation (from intro screen)\n * - onboarding-skip-profile: Skip profile creation\n * - onboarding-next: Navigate to next step / save final step\n * - onboarding-previous: Navigate to previous step\n * - onboarding-toggle-sms: Toggle SMS notification section\n *\n * @version 2.0.0 (Event Delegation)\n * @date 2025-12-16\n */\n\ndocument.addEventListener('DOMContentLoaded', function () {\n    // Core elements\n    const modalElement = document.getElementById('onboardingSlideModal');\n\n    const carouselElement = document.getElementById('modalCarouselControls');\n    const nextOrSaveButton = document.getElementById('nextOrSaveButton');\n    const previousButton = document.getElementById('previousButton');\n    const carouselControls = document.getElementById('carouselControls');\n    const createProfileButton = document.getElementById('createProfileCarouselButton');\n    const skipProfileButton = document.getElementById('skipProfileButton');\n    const progressIndicator = document.getElementById('onboardingProgress');\n\n    // Form elements\n    const form = modalElement ? modalElement.querySelector('form.needs-validation') : null;\n    const formActionInput = document.getElementById('form_action');\n\n    // Image/cropper elements\n    const imageInput = document.getElementById('image');\n    const croppedImageHiddenInput = document.getElementById('cropped_image_data');\n\n    // State variables\n    let selectedFile = null;\n    let isCropping = false;\n    let totalSteps = document.querySelectorAll('.carousel-item').length;\n    let bootstrapCarousel;\n\n    // =====================\n    //  Modal initialization\n    // =====================\n    if (modalElement) {\n        // console.log(\"Initializing onboarding modal\");\n        try {\n            const onboardingModal = ModalManager.getInstance(modalElement.id, {\n                backdrop: 'static',\n                keyboard: false\n            });\n            onboardingModal.show();\n            // console.log(\"Modal show() called\");\n        } catch (error) {\n            // console.error(\"Error showing modal:\", error);\n        }\n\n        modalElement.addEventListener('shown.bs.modal', function () {\n            // Initialize Select2 dropdowns\n            $(modalElement).find('.select2-single').select2({\n                theme: 'bootstrap-5',\n                width: '100%',\n                placeholder: 'Select an option',\n                allowClear: true,\n                dropdownParent: $(modalElement)\n            });\n\n            $(modalElement).find('.select2-multiple').select2({\n                theme: 'bootstrap-5',\n                width: '100%',\n                placeholder: 'Select options',\n                allowClear: true,\n                dropdownParent: $(modalElement)\n            });\n\n            // Update the progress bar\n            updateProgress();\n        });\n\n        modalElement.addEventListener('hidden.bs.modal', function () {\n            $(modalElement).find('.select2-single, .select2-multiple').select2('destroy');\n        });\n    }\n\n    // ======================\n    //   Image / Simple Cropper\n    // ======================\n\n    // Initialize the simple cropper when modal is shown\n    modalElement?.addEventListener('shown.bs.modal', function () {\n        if (!window.SimpleCropperInstance) {\n            window.SimpleCropperInstance = initializeSimpleCropper('cropCanvas');\n        }\n\n        // Also ensure the file input has the change listener\n        const imageInput = document.getElementById('image');\n        if (imageInput && !imageInput.hasAttribute('data-listener-added')) {\n            imageInput.setAttribute('data-listener-added', 'true');\n            imageInput.addEventListener('change', function (e) {\n                window.loadImageIntoCropper(this);\n            });\n        }\n    });\n\n    // Note: Crop & Save handling is now done in simple-cropper.js via cropAndSaveProfileImage()\n\n    // ======================\n    //  Carousel initialization\n    // ======================\n    if (carouselElement) {\n        bootstrapCarousel = new bootstrap.Carousel(carouselElement, {\n            interval: false, // don't auto-slide\n            ride: false,\n            touch: false,\n            wrap: false,\n            keyboard: false\n        });\n\n        carouselElement.addEventListener('slide.bs.carousel', function (e) {\n            if (isCropping) {\n                e.preventDefault();\n                return false;\n            }\n        });\n\n        carouselElement.addEventListener('slid.bs.carousel', function () {\n            updateNavButtons();\n            updateProgress();\n        });\n    }\n\n    // ======================\n    //  Navigation controls\n    // ======================\n    // CONVERTED TO EVENT DELEGATION - See event-delegation.js for handlers\n    // Actions: onboarding-create-profile, onboarding-skip-profile,\n    //          onboarding-next, onboarding-previous\n\n    // Expose helper functions globally for event handlers\n    window.OnboardingWizard = {\n        getCurrentStep: getCurrentStep,\n        updateNavButtons: updateNavButtons,\n        updateProgress: updateProgress,\n        getFormElements: () => ({\n            form,\n            formActionInput,\n            croppedImageHiddenInput,\n            carouselElement,\n            bootstrapCarousel,\n            totalSteps\n        })\n    };\n\n    // ======================\n    //  SMS Toggle Logic\n    // ======================\n    // CONVERTED TO EVENT DELEGATION - See event-delegation.js for handler\n    // Action: onboarding-toggle-sms (via data-on-change on SMS toggle checkbox)\n\n    // Initialize SMS section state on page load\n    const smsToggle = document.getElementById('smsNotifications');\n    const smsOptInSection = document.getElementById('smsOptInSection');\n\n    if (smsToggle && smsOptInSection) {\n        // Set initial visibility based on checkbox state\n        if (!smsToggle.checked) {\n            smsOptInSection.classList.add('sms-section-hide');\n            smsOptInSection.classList.remove('sms-section-show', 'sms-section-entering');\n        } else {\n            smsOptInSection.classList.add('sms-section-show');\n            smsOptInSection.classList.remove('sms-section-hide', 'sms-section-entering');\n        }\n    }\n\n    // Expose SMS toggle handler for event delegation\n    window.OnboardingWizard.handleSmsToggle = function(checkbox) {\n        const smsOptInSection = document.getElementById('smsOptInSection');\n        if (!smsOptInSection) return;\n\n        // Find phone number and consent elements within the section\n        const phoneNumberInput = smsOptInSection.querySelector('#phoneNumber');\n        const smsConsentInput = smsOptInSection.querySelector('#smsConsent');\n\n        if (checkbox.checked) {\n            // Show the SMS opt-in section with animation\n            // 1. Remove hide class and add entering class (display:block, opacity:0)\n            smsOptInSection.classList.remove('sms-section-hide');\n            smsOptInSection.classList.add('sms-section-entering');\n\n            // 2. Force reflow to ensure the entering state is applied\n            void smsOptInSection.offsetWidth;\n\n            // 3. After a small delay, transition to show state (opacity:1)\n            setTimeout(() => {\n                smsOptInSection.classList.remove('sms-section-entering');\n                smsOptInSection.classList.add('sms-section-show');\n            }, 10);\n\n            // Mark fields as required if they exist\n            if (phoneNumberInput) phoneNumberInput.setAttribute('required', 'true');\n            if (smsConsentInput) smsConsentInput.setAttribute('required', 'true');\n        } else {\n            // Hide the SMS opt-in section with animation\n            // 1. Add exiting class to start fade-out (opacity:0 with transition)\n            smsOptInSection.classList.remove('sms-section-show');\n            smsOptInSection.classList.add('sms-section-exiting');\n\n            // 2. After transition completes, add hide class (display:none)\n            setTimeout(() => {\n                smsOptInSection.classList.remove('sms-section-exiting');\n                smsOptInSection.classList.add('sms-section-hide');\n            }, 300);\n\n            // Remove required constraints if they exist\n            if (phoneNumberInput) phoneNumberInput.removeAttribute('required');\n            if (smsConsentInput) smsConsentInput.removeAttribute('required');\n        }\n    };\n\n    // ======================\n    //  Helper functions\n    // ======================\n    function getCurrentStep() {\n        if (!carouselElement) {\n            return -1;\n        }\n        const activeItem = carouselElement.querySelector('.carousel-item.active');\n        if (!activeItem) {\n            return -1;\n        }\n        const stepAttr = activeItem.getAttribute('data-step');\n        const step = stepAttr ? parseFloat(stepAttr) : null;\n        return step ? Math.floor(step) : -1;\n    }\n\n    function updateNavButtons() {\n        const step = getCurrentStep();\n\n        // Update visibility of carousel controls\n        if (step === 0 && carouselControls) {\n            carouselControls.classList.add('d-none');\n        } else if (carouselControls) {\n            carouselControls.classList.remove('d-none');\n\n            // On first step, hide previous button\n            if (step === 1 && previousButton) {\n                previousButton.classList.add('d-none');\n            } else if (previousButton) {\n                previousButton.classList.remove('d-none');\n            }\n\n            // On final step, change next button to submit\n            if (step === totalSteps && nextOrSaveButton) {\n                nextOrSaveButton.innerHTML = 'Save and Finish';\n                nextOrSaveButton.type = 'button';  // Keep as button, not submit\n                nextOrSaveButton.classList.remove('btn-primary');\n                nextOrSaveButton.classList.add('btn-success');\n                nextOrSaveButton.removeAttribute('data-bs-slide');\n                nextOrSaveButton.removeAttribute('data-bs-target');\n            } else if (nextOrSaveButton) {\n                nextOrSaveButton.innerHTML = 'Next <i class=\"ti ti-chevron-right ms-2\"></i>';\n                nextOrSaveButton.type = 'button';\n                nextOrSaveButton.classList.remove('btn-success');\n                nextOrSaveButton.classList.add('btn-primary');\n                nextOrSaveButton.removeAttribute('data-bs-slide');  // Remove Bootstrap carousel control\n                nextOrSaveButton.removeAttribute('data-bs-target'); // Remove Bootstrap carousel target\n            }\n        }\n    }\n\n    function updateProgress() {\n        if (!progressIndicator) return;\n\n        const step = getCurrentStep();\n        if (step <= 0) return;\n\n        // Calculate progress (exclude step 0 which is the intro)\n        const progress = Math.floor(((step) / totalSteps) * 100);\n\n        // Update the progress bar using setAttribute for width percentage\n        // This is the only remaining style manipulation, but it's for a dynamic\n        // data-driven value that can't be pre-defined in CSS\n        progressIndicator.style.width = `${progress}%`;\n        progressIndicator.setAttribute('aria-valuenow', progress);\n\n        // Update step indicator\n        const stepDisplay = document.getElementById('currentStep');\n        if (stepDisplay) {\n            stepDisplay.textContent = `Step ${step} of ${totalSteps}`;\n        }\n    }\n\n    // Form validation\n    if (form) {\n        form.addEventListener('submit', function (event) {\n            if (!form.checkValidity()) {\n                event.preventDefault();\n                event.stopPropagation();\n\n                // Find first invalid input and focus it\n                const firstInvalid = form.querySelector(':invalid');\n                if (firstInvalid) {\n                    firstInvalid.focus();\n\n                    // Scroll into view if needed\n                    firstInvalid.scrollIntoView({\n                        behavior: 'smooth',\n                        block: 'center'\n                    });\n                }\n            }\n            form.classList.add('was-validated');\n        }, false);\n    }\n\n    // Initialize everything\n    updateNavButtons();\n    updateProgress();\n\n    // Add real-time validation feedback removal\n    modalElement?.addEventListener('input', function(e) {\n        if (e.target.matches('input[required], select[required], textarea[required]')) {\n            if (e.target.checkValidity()) {\n                e.target.classList.remove('is-invalid');\n                const feedback = e.target.nextElementSibling;\n                if (feedback && feedback.classList.contains('invalid-feedback')) {\n                    feedback.remove();\n                }\n            }\n        }\n    });\n});\n","/**\n * ============================================================================\n * PLAYER PROFILE - Consolidated Profile Interactions\n * ============================================================================\n *\n * Handles all profile page interactions using event delegation and data attributes.\n * Replaces ~450 lines of inline JavaScript from player_profile.html templates.\n *\n * Features:\n * - Profile verification dialog\n * - Discord link prompt\n * - Match filter functionality\n * - Edit mode toggles\n * - Contact modal validation\n * - Flash message handling\n * - Tooltip initialization\n *\n * NO INLINE STYLES - Uses CSS classes and data attributes instead.\n *\n * Dependencies:\n * - Bootstrap 5.x\n * - SweetAlert2 (optional, for better modals)\n * - jQuery (for AJAX calls)\n *\n * ============================================================================\n */\n\n(function() {\n    'use strict';\n\n    // ========================================================================\n    // CONFIGURATION\n    // ========================================================================\n\n    const CONFIG = {\n        DISCORD_PROMPT_DELAY: 3000,\n        VERIFICATION_DELAY: 1000,\n        TOAST_DURATION: 3000\n    };\n\n    // ========================================================================\n    // UTILITY FUNCTIONS\n    // ========================================================================\n\n    /**\n     * Show toast notification\n     * @param {string} message - Message to display\n     * @param {string} type - Type: success, error, warning, info\n     */\n    function showToast(message, type = 'info') {\n        // Check if SweetAlert2 is available\n        if (typeof Swal !== 'undefined') {\n            Swal.fire({\n                toast: true,\n                position: 'top-end',\n                icon: type,\n                title: message,\n                showConfirmButton: false,\n                timer: CONFIG.TOAST_DURATION\n            });\n        } else {\n            // Fallback to alert\n            alert(message);\n        }\n    }\n\n    /**\n     * Get CSRF token from meta tag or form\n     * @returns {string|null} CSRF token\n     */\n    function getCSRFToken() {\n        const meta = document.querySelector('meta[name=\"csrf-token\"]');\n        if (meta) return meta.getAttribute('content');\n\n        const input = document.querySelector('input[name=\"csrf_token\"]');\n        if (input) return input.value;\n\n        return null;\n    }\n\n    // ========================================================================\n    // PROFILE VERIFICATION\n    // ========================================================================\n\n    /**\n     * Initialize profile verification prompt\n     * Shows modal if profile is not verified after delay\n     */\n    function initProfileVerification() {\n        const verifyData = document.querySelector('[data-profile-verify]');\n        if (!verifyData) return;\n\n        const verifyUrl = verifyData.dataset.verifyUrl;\n        const isVerified = verifyData.dataset.verified === 'true';\n\n        if (!isVerified && verifyUrl) {\n            setTimeout(() => {\n                showVerificationDialog(verifyUrl);\n            }, CONFIG.VERIFICATION_DELAY);\n        }\n    }\n\n    /**\n     * Show verification dialog using SweetAlert2 or Bootstrap modal\n     * @param {string} verifyUrl - URL to verification page (GET request)\n     */\n    function showVerificationDialog(verifyUrl) {\n        if (typeof Swal !== 'undefined') {\n            Swal.fire({\n                title: 'Verify Your Profile',\n                text: 'Please review your profile information and confirm it is accurate.',\n                icon: 'info',\n                showCancelButton: true,\n                confirmButtonText: 'Verify Now',\n                cancelButtonText: 'Later'\n            }).then((result) => {\n                if (result.isConfirmed) {\n                    // Navigate to verification page\n                    window.location.href = verifyUrl;\n                }\n            });\n        } else {\n            const confirm = window.confirm('Please review your profile information and confirm it is accurate.\\n\\nVerify now?');\n            if (confirm) {\n                window.location.href = verifyUrl;\n            }\n        }\n    }\n\n    // ========================================================================\n    // DISCORD LINK PROMPT\n    // ========================================================================\n\n    /**\n     * Initialize Discord link prompt\n     * Shows modal after delay if Discord is not linked\n     */\n    function initDiscordPrompt() {\n        const discordData = document.querySelector('[data-discord-prompt]');\n        if (!discordData) return;\n\n        const discordUrl = discordData.dataset.discordUrl;\n        const isLinked = discordData.dataset.linked === 'true';\n        const delay = parseInt(discordData.dataset.delay) || CONFIG.DISCORD_PROMPT_DELAY;\n\n        if (!isLinked && discordUrl) {\n            setTimeout(() => {\n                showDiscordLinkDialog(discordUrl);\n            }, delay);\n        }\n    }\n\n    /**\n     * Show Discord link dialog\n     * @param {string} discordUrl - Discord OAuth URL\n     */\n    function showDiscordLinkDialog(discordUrl) {\n        if (typeof Swal !== 'undefined') {\n            Swal.fire({\n                title: 'Link Your Discord Account',\n                text: 'Connect your Discord account to receive notifications and access exclusive features.',\n                icon: 'info',\n                showCancelButton: true,\n                confirmButtonText: 'Link Discord',\n                cancelButtonText: 'Maybe Later',\n                confirmButtonColor: '#7289DA'\n            }).then((result) => {\n                if (result.isConfirmed) {\n                    window.location.href = discordUrl;\n                }\n            });\n        }\n    }\n\n    // ========================================================================\n    // MATCH FILTER\n    // ========================================================================\n\n    /**\n     * Initialize match filter functionality\n     * Filters match history by season\n     */\n    function initMatchFilter() {\n        const filterSelect = document.querySelector('[data-filter=\"matches\"]');\n        if (!filterSelect) return;\n\n        filterSelect.addEventListener('change', function() {\n            const selectedSeason = this.value;\n            const matchItems = document.querySelectorAll('[data-match-season]');\n\n            matchItems.forEach(item => {\n                const itemSeason = item.dataset.matchSeason;\n\n                if (selectedSeason === 'all' || itemSeason === selectedSeason) {\n                    item.classList.remove('u-hidden');\n                } else {\n                    item.classList.add('u-hidden');\n                }\n            });\n        });\n    }\n\n    // ========================================================================\n    // EDIT MODE TOGGLE\n    // ========================================================================\n\n    /**\n     * Initialize edit mode toggles\n     * Shows/hides edit forms on profile page\n     *\n     * Template structure:\n     *   [data-profile-section=\"section-name\"] - Section container\n     *     .c-form-field__view - View mode content (visible by default)\n     *     .c-form-field__edit - Edit mode content (hidden by default)\n     *     .c-form-field__actions - Save/Cancel buttons (hidden by default)\n     *     [data-action=\"edit-toggle\"] - Edit button\n     *     [data-action=\"cancel-edit\"] - Cancel button\n     */\n    function initEditModeToggles() {\n        document.addEventListener('click', function(e) {\n            // Handle Edit button click\n            const editBtn = e.target.closest('[data-action=\"edit-toggle\"]');\n            if (editBtn) {\n                const sectionName = editBtn.dataset.section;\n                const section = document.querySelector(`[data-profile-section=\"${sectionName}\"]`);\n\n                if (section) {\n                    enterEditMode(section, editBtn);\n                }\n                return;\n            }\n\n            // Handle Cancel button click\n            const cancelBtn = e.target.closest('[data-action=\"cancel-edit\"]');\n            if (cancelBtn) {\n                const sectionName = cancelBtn.dataset.section;\n                const section = document.querySelector(`[data-profile-section=\"${sectionName}\"]`);\n\n                if (section) {\n                    exitEditMode(section);\n                }\n                return;\n            }\n        });\n    }\n\n    /**\n     * Enter edit mode for a profile section\n     * @param {Element} section - The section container\n     * @param {Element} editBtn - The edit button that was clicked\n     */\n    function enterEditMode(section, editBtn) {\n        // Set data-editing on all form fields to trigger CSS\n        section.querySelectorAll('.c-form-field').forEach(field => {\n            field.dataset.editing = 'true';\n        });\n\n        // Also use u-hidden for elements outside the form field pattern\n        section.querySelectorAll('.c-form-field__view:not(.c-form-field .c-form-field__view)').forEach(el => {\n            el.classList.add('u-hidden');\n        });\n        section.querySelectorAll('.c-form-field__edit:not(.c-form-field .c-form-field__edit)').forEach(el => {\n            el.classList.remove('u-hidden');\n        });\n\n        // Show action buttons (save/cancel)\n        const actions = section.querySelector('.c-form-field__actions');\n        if (actions) {\n            actions.classList.remove('u-hidden');\n            actions.style.display = 'flex';\n        }\n\n        // Hide the edit button\n        editBtn.classList.add('u-hidden');\n\n        // Mark section as in edit mode\n        section.classList.add('is-editing');\n\n        console.log('[Player Profile] Entered edit mode for section:', section.dataset.profileSection);\n    }\n\n    /**\n     * Exit edit mode for a profile section\n     * @param {Element} section - The section container\n     */\n    function exitEditMode(section) {\n        // Remove data-editing from all form fields to trigger CSS\n        section.querySelectorAll('.c-form-field').forEach(field => {\n            delete field.dataset.editing;\n        });\n\n        // Also use u-hidden for elements outside the form field pattern\n        section.querySelectorAll('.c-form-field__view:not(.c-form-field .c-form-field__view)').forEach(el => {\n            el.classList.remove('u-hidden');\n        });\n        section.querySelectorAll('.c-form-field__edit:not(.c-form-field .c-form-field__edit)').forEach(el => {\n            el.classList.add('u-hidden');\n        });\n\n        // Hide action buttons\n        const actions = section.querySelector('.c-form-field__actions');\n        if (actions) {\n            actions.classList.add('u-hidden');\n            actions.style.display = '';\n        }\n\n        // Show the edit button\n        const editBtn = section.querySelector('[data-action=\"edit-toggle\"]');\n        if (editBtn) {\n            editBtn.classList.remove('u-hidden');\n        }\n\n        // Mark section as not in edit mode\n        section.classList.remove('is-editing');\n\n        console.log('[Player Profile] Exited edit mode for section:', section.dataset.profileSection);\n    }\n\n    // ========================================================================\n    // CONTACT MODAL VALIDATION\n    // ========================================================================\n\n    /**\n     * Initialize contact modal form validation\n     */\n    function initContactModal() {\n        const contactModal = document.getElementById('contactModal');\n        if (!contactModal) return;\n\n        const form = contactModal.querySelector('form');\n        if (!form) return;\n\n        form.addEventListener('submit', function(e) {\n            e.preventDefault();\n\n            const messageField = form.querySelector('[name=\"message\"]');\n            const message = messageField ? messageField.value.trim() : '';\n\n            if (!message) {\n                showToast('Please enter a message', 'error');\n                if (messageField) messageField.focus();\n                return;\n            }\n\n            // Submit via AJAX\n            const formData = new FormData(form);\n            const submitUrl = form.action;\n\n            fetch(submitUrl, {\n                method: 'POST',\n                body: formData,\n                headers: {\n                    'X-Requested-With': 'XMLHttpRequest'\n                }\n            })\n            .then(response => response.json())\n            .then(data => {\n                if (data.success) {\n                    showToast('Message sent successfully!', 'success');\n                    form.reset();\n\n                    // Close modal\n                    const modalInstance = bootstrap.Modal.getInstance(contactModal);\n                    if (modalInstance) modalInstance.hide();\n                } else {\n                    showToast(data.message || 'Failed to send message', 'error');\n                }\n            })\n            .catch(error => {\n                console.error('Contact form error:', error);\n                showToast('An error occurred. Please try again.', 'error');\n            });\n        });\n    }\n\n    // ========================================================================\n    // FLASH MESSAGES\n    // ========================================================================\n\n    /**\n     * Initialize flash message handling\n     * Displays flash messages from data attributes\n     */\n    function initFlashMessages() {\n        const flashContainer = document.querySelector('[data-flash-messages]');\n        if (!flashContainer) return;\n\n        try {\n            const messages = JSON.parse(flashContainer.dataset.flashMessages);\n\n            if (messages && messages.length > 0) {\n                messages.forEach(msg => {\n                    showToast(msg.text, msg.category);\n                });\n            }\n        } catch (e) {\n            console.error('Failed to parse flash messages:', e);\n        }\n    }\n\n    // ========================================================================\n    // TOOLTIP INITIALIZATION\n    // ========================================================================\n\n    /**\n     * Initialize Bootstrap tooltips\n     * Activates all elements with data-bs-toggle=\"tooltip\"\n     */\n    function initTooltips() {\n        if (typeof bootstrap === 'undefined') return;\n\n        const tooltipTriggerList = document.querySelectorAll('[data-bs-toggle=\"tooltip\"]');\n        const tooltipList = [...tooltipTriggerList].map(tooltipTriggerEl => {\n            return new bootstrap.Tooltip(tooltipTriggerEl);\n        });\n\n        console.log(`[Player Profile] Initialized ${tooltipList.length} tooltips`);\n    }\n\n    // ========================================================================\n    // PROFILE IMAGE ACTIONS\n    // ========================================================================\n\n    /**\n     * Handle profile image actions (upload, change, remove)\n     */\n    function initProfileImageActions() {\n        document.addEventListener('click', function(e) {\n            const imageAction = e.target.closest('[data-image-action]');\n            if (!imageAction) return;\n\n            const action = imageAction.dataset.imageAction;\n\n            switch(action) {\n                case 'upload':\n                    // Trigger file input\n                    const fileInput = document.querySelector('input[type=\"file\"][data-image-upload]');\n                    if (fileInput) fileInput.click();\n                    break;\n\n                case 'remove':\n                    handleImageRemove(imageAction);\n                    break;\n\n                case 'change':\n                    const fileInputChange = document.querySelector('input[type=\"file\"][data-image-upload]');\n                    if (fileInputChange) fileInputChange.click();\n                    break;\n            }\n        });\n    }\n\n    /**\n     * Handle profile image removal\n     * @param {Element} button - Button element that triggered the action\n     */\n    function handleImageRemove(button) {\n        const removeUrl = button.dataset.removeUrl;\n        if (!removeUrl) return;\n\n        if (typeof Swal !== 'undefined') {\n            Swal.fire({\n                title: 'Remove Profile Picture?',\n                text: 'Your profile picture will be removed.',\n                icon: 'warning',\n                showCancelButton: true,\n                confirmButtonText: 'Remove',\n                confirmButtonColor: '#dc3545'\n            }).then((result) => {\n                if (result.isConfirmed) {\n                    performImageRemove(removeUrl);\n                }\n            });\n        } else {\n            if (confirm('Remove your profile picture?')) {\n                performImageRemove(removeUrl);\n            }\n        }\n    }\n\n    /**\n     * Perform profile image removal via AJAX\n     * @param {string} removeUrl - URL to remove image\n     */\n    function performImageRemove(removeUrl) {\n        fetch(removeUrl, {\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json',\n                'X-CSRFToken': getCSRFToken(),\n                'X-Requested-With': 'XMLHttpRequest'\n            }\n        })\n        .then(response => response.json())\n        .then(data => {\n            if (data.success) {\n                showToast('Profile picture removed', 'success');\n                setTimeout(() => location.reload(), 1000);\n            } else {\n                showToast(data.message || 'Failed to remove image', 'error');\n            }\n        })\n        .catch(error => {\n            console.error('Image remove error:', error);\n            showToast('An error occurred', 'error');\n        });\n    }\n\n    // ========================================================================\n    // TAB SYNC (BEM modifier with Bootstrap .active)\n    // ========================================================================\n\n    /**\n     * Initialize tab BEM class sync\n     * Removes c-tabs__link--active from all tabs when Bootstrap adds .active\n     * This prevents two tabs appearing active simultaneously\n     */\n    function initTabSync() {\n        const tabContainer = document.querySelector('[data-component=\"profile-tabs\"]');\n        if (!tabContainer) return;\n\n        // Listen for Bootstrap 5 tab show event\n        tabContainer.addEventListener('shown.bs.tab', function(e) {\n            // Remove BEM active modifier from all tabs\n            const allTabs = tabContainer.querySelectorAll('.c-tabs__link--active');\n            allTabs.forEach(tab => {\n                tab.classList.remove('c-tabs__link--active');\n            });\n\n            // The clicked tab now has .active from Bootstrap, which c-tabs.css styles\n            console.log('[Player Profile] Tab synced:', e.target);\n        });\n    }\n\n    // ========================================================================\n    // MATCH STAT ACTIONS (Edit/Remove)\n    // ========================================================================\n\n    /**\n     * Initialize match stat action buttons (edit and remove)\n     */\n    function initMatchStatActions() {\n        document.addEventListener('click', function(e) {\n            // Handle Edit button\n            const editBtn = e.target.closest('[data-action=\"edit-match-stat\"]');\n            if (editBtn) {\n                e.preventDefault();\n                const statId = editBtn.dataset.statId;\n                openEditStatModal(statId);\n                return;\n            }\n\n            // Handle Remove button\n            const removeBtn = e.target.closest('[data-action=\"remove-match-stat\"]');\n            if (removeBtn) {\n                e.preventDefault();\n                const statId = removeBtn.dataset.statId;\n                confirmRemoveStat(statId, removeBtn);\n                return;\n            }\n        });\n    }\n\n    /**\n     * Open modal to edit stat minute\n     * @param {string} statId - The stat ID to edit\n     */\n    function openEditStatModal(statId) {\n        // Fetch current stat data\n        fetch(`/players/edit_match_stat/${statId}`)\n            .then(response => response.json())\n            .then(data => {\n                const eventLabel = data.event_type ? data.event_type.replace(/_/g, ' ').replace(/\\b\\w/g, l => l.toUpperCase()) : 'Event';\n                const currentMinute = data.minute || '';\n\n                // Use SweetAlert2 for edit modal\n                if (typeof Swal !== 'undefined') {\n                    Swal.fire({\n                        title: `Edit ${eventLabel}`,\n                        html: `\n                            <div class=\"mb-3 text-start\">\n                                <label class=\"form-label\">Match: ${data.match_date}</label>\n                            </div>\n                            <div class=\"mb-3 text-start\">\n                                <label class=\"form-label\" for=\"stat-minute\">Minute</label>\n                                <input type=\"text\" id=\"stat-minute\" class=\"form-control\" value=\"${currentMinute}\" placeholder=\"e.g., 45, 90+2\">\n                            </div>\n                        `,\n                        showCancelButton: true,\n                        confirmButtonText: 'Save',\n                        cancelButtonText: 'Cancel',\n                        confirmButtonColor: '#696cff',\n                        preConfirm: () => {\n                            return document.getElementById('stat-minute').value;\n                        }\n                    }).then((result) => {\n                        if (result.isConfirmed) {\n                            saveStatMinute(statId, result.value);\n                        }\n                    });\n                } else {\n                    // Fallback to prompt\n                    const newMinute = prompt(`Edit minute for ${eventLabel} (${data.match_date}):`, currentMinute);\n                    if (newMinute !== null) {\n                        saveStatMinute(statId, newMinute);\n                    }\n                }\n            })\n            .catch(error => {\n                console.error('Error fetching stat:', error);\n                showToast('Error loading stat data', 'error');\n            });\n    }\n\n    /**\n     * Save updated minute for stat\n     * @param {string} statId - The stat ID\n     * @param {string} minute - The new minute value\n     */\n    function saveStatMinute(statId, minute) {\n        const formData = new FormData();\n        formData.append('minute', minute);\n\n        fetch(`/players/edit_match_stat/${statId}`, {\n            method: 'POST',\n            headers: {\n                'X-CSRFToken': getCSRFToken(),\n                'X-Requested-With': 'XMLHttpRequest'\n            },\n            body: formData\n        })\n        .then(response => response.json())\n        .then(data => {\n            if (data.success) {\n                showToast('Stat updated successfully', 'success');\n                setTimeout(() => location.reload(), 1000);\n            } else {\n                showToast(data.error || 'Failed to update stat', 'error');\n            }\n        })\n        .catch(error => {\n            console.error('Error updating stat:', error);\n            showToast('An error occurred', 'error');\n        });\n    }\n\n    /**\n     * Confirm and remove a stat\n     * @param {string} statId - The stat ID to remove\n     * @param {Element} btn - The button element (to find the row)\n     */\n    function confirmRemoveStat(statId, btn) {\n        // Find the row to get event info\n        const row = btn.closest('[data-match-stat]');\n        const badge = row ? row.querySelector('.c-badge') : null;\n        const eventText = badge ? badge.textContent.trim() : 'this stat';\n\n        if (typeof Swal !== 'undefined') {\n            Swal.fire({\n                title: 'Remove Stat?',\n                text: `Are you sure you want to remove \"${eventText}\"? This will also update the player's overall stats.`,\n                icon: 'warning',\n                showCancelButton: true,\n                confirmButtonText: 'Yes, Remove',\n                cancelButtonText: 'Cancel',\n                confirmButtonColor: '#dc3545'\n            }).then((result) => {\n                if (result.isConfirmed) {\n                    performRemoveStat(statId, row);\n                }\n            });\n        } else {\n            if (confirm(`Remove \"${eventText}\"? This will also update the player's overall stats.`)) {\n                performRemoveStat(statId, row);\n            }\n        }\n    }\n\n    /**\n     * Perform stat removal via AJAX\n     * @param {string} statId - The stat ID\n     * @param {Element} row - The table row element\n     */\n    function performRemoveStat(statId, row) {\n        fetch(`/players/remove_match_stat/${statId}`, {\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json',\n                'X-CSRFToken': getCSRFToken(),\n                'X-Requested-With': 'XMLHttpRequest'\n            }\n        })\n        .then(response => response.json())\n        .then(data => {\n            if (data.success) {\n                showToast('Stat removed successfully', 'success');\n                // Animate row removal\n                if (row) {\n                    row.style.transition = 'opacity 0.3s, transform 0.3s';\n                    row.style.opacity = '0';\n                    row.style.transform = 'translateX(-20px)';\n                    setTimeout(() => row.remove(), 300);\n                } else {\n                    setTimeout(() => location.reload(), 1000);\n                }\n            } else {\n                showToast(data.error || 'Failed to remove stat', 'error');\n            }\n        })\n        .catch(error => {\n            console.error('Error removing stat:', error);\n            showToast('An error occurred', 'error');\n        });\n    }\n\n    // ========================================================================\n    // INITIALIZATION\n    // ========================================================================\n\n    /**\n     * Initialize all profile functionality\n     */\n    function init() {\n        console.log('[Player Profile] Initializing...');\n\n        // Initialize all features\n        initTooltips();\n        initProfileVerification();\n        initDiscordPrompt();\n        initMatchFilter();\n        initEditModeToggles();\n        initContactModal();\n        initFlashMessages();\n        initProfileImageActions();\n        initTabSync();\n        initMatchStatActions();\n\n        console.log('[Player Profile] Initialization complete');\n    }\n\n    // ========================================================================\n    // DOM READY\n    // ========================================================================\n\n    // Initialize when DOM is ready\n    if (document.readyState === 'loading') {\n        document.addEventListener('DOMContentLoaded', init);\n    } else {\n        // DOM already loaded\n        init();\n    }\n\n    // Expose public API\n    window.PlayerProfile = {\n        version: '1.0.0',\n        showToast,\n        showVerificationDialog,\n        showDiscordLinkDialog,\n        init\n    };\n\n})();\n","/**\n * Players List Page JavaScript\n * ==============================\n * Event delegation and interaction logic for view_players.html\n *\n * Features:\n * - Search and filter functionality\n * - Player deletion with confirmation\n * - WooCommerce sync with progress tracking\n * - Modal interactions\n * - Responsive table enhancements\n *\n * Architecture: Event delegation pattern, no inline handlers, data-action attributes\n */\n\n(function() {\n  'use strict';\n\n  /**\n   * Initialize on DOM ready\n   */\n  document.addEventListener('DOMContentLoaded', function() {\n    initializeEventDelegation();\n    initializeSyncHandler();\n    initializeFeatherIcons();\n  });\n\n  /**\n   * Set up event delegation for all player list interactions\n   */\n  function initializeEventDelegation() {\n    document.addEventListener('click', function(e) {\n      const target = e.target.closest('[data-action]');\n      if (!target) return;\n\n      const action = target.dataset.action;\n\n      switch(action) {\n        case 'clear-search':\n          handleClearSearch(e);\n          break;\n        case 'delete-player':\n          handleDeletePlayer(target);\n          break;\n        case 'view-player':\n          // Link click - browser handles navigation\n          break;\n        case 'create-player':\n          // Modal trigger - Bootstrap handles this\n          break;\n        case 'close-modal':\n          // Modal close - Bootstrap handles this\n          break;\n      }\n    });\n  }\n\n  /**\n   * Handle clear search action\n   */\n  function handleClearSearch(e) {\n    e.preventDefault();\n\n    // Get the search form\n    const form = document.querySelector('[data-form=\"search-players\"]');\n    if (!form) return;\n\n    // Clear the search input\n    const searchInput = form.querySelector('[data-input=\"search\"]');\n    if (searchInput) {\n      searchInput.value = '';\n    }\n\n    // Redirect to base URL without search parameter\n    window.location.href = form.action;\n  }\n\n  /**\n   * Handle player deletion with SweetAlert confirmation\n   */\n  function handleDeletePlayer(target) {\n    const playerId = target.dataset.playerId;\n    const playerName = target.dataset.playerName;\n\n    if (!playerId) {\n      console.error('No player ID found for deletion');\n      return;\n    }\n\n    // Check if SweetAlert is available\n    if (typeof Swal === 'undefined') {\n      // Fallback to native confirm\n      if (confirm(`Are you sure you want to delete ${playerName}? This will delete the player and associated user account.`)) {\n        submitDeleteForm(playerId);\n      }\n      return;\n    }\n\n    // Show SweetAlert confirmation\n    Swal.fire({\n      title: 'Are you sure?',\n      html: `This will delete <strong>${playerName}</strong> and their associated user account.`,\n      icon: 'warning',\n      showCancelButton: true,\n      confirmButtonColor: getThemeColor('danger', '#dc3545'),\n      cancelButtonColor: getThemeColor('secondary', '#6c757d'),\n      confirmButtonText: 'Yes, delete them!',\n      cancelButtonText: 'Cancel',\n      focusCancel: true\n    }).then((result) => {\n      if (result.isConfirmed) {\n        submitDeleteForm(playerId);\n      }\n    });\n  }\n\n  /**\n   * Submit the delete player form\n   */\n  function submitDeleteForm(playerId) {\n    // Create a temporary form to submit the deletion\n    const form = document.createElement('form');\n    form.method = 'POST';\n    form.action = `/players/delete_player/${playerId}`;\n\n    // Add CSRF token\n    const csrfToken = document.querySelector('meta[name=\"csrf-token\"]')?.getAttribute('content');\n    if (csrfToken) {\n      const csrfInput = document.createElement('input');\n      csrfInput.type = 'hidden';\n      csrfInput.name = 'csrf_token';\n      csrfInput.value = csrfToken;\n      form.appendChild(csrfInput);\n    }\n\n    document.body.appendChild(form);\n    form.submit();\n  }\n\n  /**\n   * Initialize WooCommerce sync handler\n   */\n  function initializeSyncHandler() {\n    const syncForm = document.querySelector('[data-form=\"update-players\"]');\n    if (!syncForm) return;\n\n    syncForm.addEventListener('submit', function(e) {\n      e.preventDefault();\n\n      if (typeof Swal === 'undefined') {\n        // No SweetAlert available, just submit\n        this.submit();\n        return;\n      }\n\n      // Show confirmation dialog\n      Swal.fire({\n        title: 'Sync with WooCommerce?',\n        text: 'This will synchronize player data with WooCommerce orders. Continue?',\n        icon: 'warning',\n        showCancelButton: true,\n        confirmButtonText: 'Yes, sync now',\n        cancelButtonText: 'Cancel',\n        confirmButtonColor: getThemeColor('success', '#28a745'),\n        cancelButtonColor: getThemeColor('secondary', '#6c757d')\n      }).then((result) => {\n        if (result.isConfirmed) {\n          startSyncProcess(syncForm);\n        }\n      });\n    });\n  }\n\n  /**\n   * Start the WooCommerce sync process with progress tracking\n   */\n  function startSyncProcess(form) {\n    // Show progress modal\n    Swal.fire({\n      title: 'Syncing with WooCommerce',\n      html: `\n        <div class=\"text-center\">\n          <div class=\"mb-3 progress-stage\">Initializing...</div>\n          <div class=\"progress mb-3\">\n            <div class=\"progress-bar progress-bar-striped progress-bar-animated\"\n                 role=\"progressbar\"\n                 aria-valuenow=\"0\"\n                 aria-valuemin=\"0\"\n                 aria-valuemax=\"100\"\n                 style=\"width: 0%\">\n            </div>\n          </div>\n          <div class=\"small text-muted progress-message\">Starting...</div>\n        </div>\n      `,\n      allowOutsideClick: false,\n      allowEscapeKey: false,\n      showConfirmButton: false\n    });\n\n    let taskId = '';\n    let progressInterval = null;\n\n    // Function to check progress\n    const checkProgress = () => {\n      if (!taskId) return;\n\n      fetch(`/players/update_status/${taskId}`)\n        .then(response => response.json())\n        .then(data => {\n          const progressBar = document.querySelector('.progress-bar');\n          const messageDiv = document.querySelector('.progress-message');\n\n          if (progressBar && messageDiv) {\n            const progress = data.progress || 0;\n            progressBar.style.width = `${progress}%`;\n            progressBar.setAttribute('aria-valuenow', progress);\n            messageDiv.textContent = data.message || 'Processing...';\n          }\n        })\n        .catch(error => {\n          console.error('Error fetching progress:', error);\n        });\n    };\n\n    // Get CSRF token\n    const csrfToken = form.querySelector('[name=\"csrf_token\"]')?.value;\n\n    // Start the sync process\n    fetch(form.action, {\n      method: 'POST',\n      headers: {\n        'X-CSRFToken': csrfToken\n      }\n    })\n    .then(response => response.json())\n    .then(data => {\n      taskId = data.task_id;\n\n      // Start polling for progress\n      progressInterval = setInterval(checkProgress, 1000);\n\n      // Check for completion\n      const checkCompletion = setInterval(() => {\n        if (!taskId) return;\n\n        fetch(`/players/update_status/${taskId}`)\n          .then(response => response.json())\n          .then(statusData => {\n            if (statusData.stage === 'complete') {\n              clearInterval(checkCompletion);\n              clearInterval(progressInterval);\n              showSyncResults(statusData, taskId, csrfToken);\n            }\n          })\n          .catch(error => {\n            console.error('Error checking completion:', error);\n          });\n      }, 1000);\n    })\n    .catch(error => {\n      console.error('Error starting sync:', error);\n      Swal.fire({\n        title: 'Error!',\n        text: error.message || 'An error occurred during synchronization.',\n        icon: 'error'\n      });\n    });\n  }\n\n  /**\n   * Show sync results and confirmation dialog\n   */\n  function showSyncResults(statusData, taskId, csrfToken) {\n    const newPlayers = statusData.new_players || 0;\n    const potentialInactive = statusData.potential_inactive || 0;\n\n    Swal.fire({\n      title: 'Sync Results',\n      html: `\n        <p><strong>${newPlayers}</strong> new players found</p>\n        <p><strong>${potentialInactive}</strong> players without current orders</p>\n        <div class=\"mb-3 form-check\">\n          <input type=\"checkbox\" class=\"form-check-input\" id=\"processNew\" checked>\n          <label class=\"form-check-label\" for=\"processNew\">Import new players</label>\n        </div>\n        <div class=\"mb-3 form-check\">\n          <input type=\"checkbox\" class=\"form-check-input\" id=\"processInactive\" checked>\n          <label class=\"form-check-label\" for=\"processInactive\">Mark inactive players</label>\n        </div>\n      `,\n      showCancelButton: true,\n      confirmButtonText: 'Proceed',\n      cancelButtonText: 'Cancel',\n      confirmButtonColor: getThemeColor('success', '#28a745'),\n      cancelButtonColor: getThemeColor('secondary', '#6c757d')\n    }).then((result) => {\n      if (result.isConfirmed) {\n        confirmSync(taskId, csrfToken);\n      }\n    });\n  }\n\n  /**\n   * Confirm and process the sync\n   */\n  function confirmSync(taskId, csrfToken) {\n    const processNew = document.getElementById('processNew')?.checked || false;\n    const processInactive = document.getElementById('processInactive')?.checked || false;\n\n    fetch('/players/confirm_update', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n        'X-CSRFToken': csrfToken\n      },\n      body: JSON.stringify({\n        task_id: taskId,\n        process_new: processNew,\n        process_inactive: processInactive\n      })\n    })\n    .then(response => response.json())\n    .then(data => {\n      if (data.status === 'success') {\n        Swal.fire({\n          title: 'Success!',\n          text: 'Player data has been synchronized.',\n          icon: 'success',\n          confirmButtonColor: getThemeColor('success', '#28a745')\n        }).then(() => {\n          window.location.reload();\n        });\n      } else {\n        throw new Error(data.message || 'Unknown error');\n      }\n    })\n    .catch(error => {\n      Swal.fire({\n        title: 'Error!',\n        text: error.message || 'An error occurred during synchronization.',\n        icon: 'error',\n        confirmButtonColor: getThemeColor('danger', '#dc3545')\n      });\n    });\n  }\n\n  /**\n   * Get theme color from ECSTheme if available, with fallback\n   */\n  function getThemeColor(colorName, fallback) {\n    if (typeof ECSTheme !== 'undefined' && ECSTheme.getColor) {\n      return ECSTheme.getColor(colorName);\n    }\n\n    // Try to get from CSS custom properties\n    const root = getComputedStyle(document.documentElement);\n    const cssVar = root.getPropertyValue(`--ecs-${colorName}`).trim();\n\n    return cssVar || fallback;\n  }\n\n  /**\n   * Initialize Feather icons\n   */\n  function initializeFeatherIcons() {\n    if (typeof feather !== 'undefined') {\n      feather.replace();\n    }\n  }\n\n  /**\n   * Debounce function for search input\n   */\n  function debounce(func, wait) {\n    let timeout;\n    return function executedFunction(...args) {\n      const later = () => {\n        clearTimeout(timeout);\n        func(...args);\n      };\n      clearTimeout(timeout);\n      timeout = setTimeout(later, wait);\n    };\n  }\n\n  /**\n   * Add live search functionality (optional enhancement)\n   */\n  function initializeLiveSearch() {\n    const searchInput = document.querySelector('[data-input=\"search\"]');\n    if (!searchInput) return;\n\n    const debouncedSearch = debounce(function() {\n      const form = searchInput.closest('form');\n      if (form && searchInput.value.length >= 3) {\n        // Auto-submit after 3 characters\n        form.submit();\n      }\n    }, 500);\n\n    searchInput.addEventListener('input', debouncedSearch);\n  }\n\n  // Uncomment to enable live search\n  // initializeLiveSearch();\n\n})();\n","/**\n * Playoff Bracket Manager\n * Handles dynamic loading, updating, and interaction with the playoff bracket\n */\n\nclass PlayoffBracket {\n    constructor(leagueId, seasonId, currentTeamId = null) {\n        this.leagueId = leagueId;\n        this.seasonId = seasonId;\n        this.currentTeamId = currentTeamId;\n        this.refreshInterval = null;\n        this.autoRefreshEnabled = true;\n        this.autoRefreshDelay = 30000; // 30 seconds\n\n        // Cache for bracket data\n        this.data = {\n            groupA: { teams: [], matches: [], standings: [] },\n            groupB: { teams: [], matches: [], standings: [] },\n            placementMatches: [],\n            status: 'not_started' // not_started, group_stage, placement_finals, completed\n        };\n\n        // Bind methods\n        this.initialize = this.initialize.bind(this);\n        this.fetchBracketData = this.fetchBracketData.bind(this);\n        this.renderBracket = this.renderBracket.bind(this);\n        this.handleMatchReport = this.handleMatchReport.bind(this);\n    }\n\n    /**\n     * Initialize the bracket\n     */\n    async initialize() {\n        console.log('Initializing playoff bracket...', {\n            leagueId: this.leagueId,\n            seasonId: this.seasonId,\n            currentTeamId: this.currentTeamId\n        });\n\n        try {\n            await this.fetchBracketData();\n            this.renderBracket();\n            this.startAutoRefresh();\n        } catch (error) {\n            console.error('Failed to initialize playoff bracket:', error);\n            this.showError('Failed to load playoff bracket. Please refresh the page.');\n        }\n    }\n\n    /**\n     * Fetch bracket data from API\n     */\n    async fetchBracketData() {\n        const url = `/api/playoffs/bracket/${this.leagueId}`;\n\n        try {\n            const response = await fetch(url, {\n                method: 'GET',\n                headers: {\n                    'Content-Type': 'application/json'\n                }\n            });\n\n            if (!response.ok) {\n                throw new Error(`HTTP error! status: ${response.status}`);\n            }\n\n            const data = await response.json();\n            console.log('Fetched bracket data:', data);\n\n            this.data = data;\n            return data;\n        } catch (error) {\n            console.error('Error fetching bracket data:', error);\n            throw error;\n        }\n    }\n\n    /**\n     * Render the bracket UI\n     */\n    renderBracket() {\n        const container = document.querySelector('.playoff-bracket-container');\n        if (!container) return;\n\n        // Hide loading, show content\n        const loading = container.querySelector('.bracket-loading');\n        const error = container.querySelector('.bracket-error');\n        const content = container.querySelector('.bracket-content');\n\n        if (loading) loading.classList.add('d-none');\n\n        if (!this.data || !this.data.groupA || !this.data.groupB) {\n            if (error) {\n                error.classList.remove('d-none');\n                error.querySelector('.bracket-error-message').textContent =\n                    'No playoff data available. Playoffs may not have been generated yet.';\n            }\n            return;\n        }\n\n        if (error) error.classList.add('d-none');\n        if (content) content.classList.remove('d-none');\n\n        // Update status badge\n        this.updateStatusBadge();\n\n        // Render groups\n        this.renderGroup('A', this.data.groupA);\n        this.renderGroup('B', this.data.groupB);\n\n        // Render placement finals\n        this.renderPlacementFinals(this.data.placementMatches);\n    }\n\n    /**\n     * Update the status badge text\n     */\n    updateStatusBadge() {\n        const statusText = document.querySelector('.bracket-status-text');\n        if (!statusText) return;\n\n        const statusMessages = {\n            'not_started': 'Playoffs Not Started',\n            'group_stage': 'Group Stage in Progress',\n            'week2_morning': 'Week 2 Morning - Final Group Matches',\n            'placement_finals': 'Placement Finals',\n            'completed': 'Playoffs Completed'\n        };\n\n        statusText.textContent = statusMessages[this.data.status] || 'Unknown Status';\n    }\n\n    /**\n     * Render a group (A or B)\n     */\n    renderGroup(groupName, groupData) {\n        const matchesContainer = document.getElementById(`group${groupName}Matches`);\n        const standingsContainer = document.getElementById(`group${groupName}Standings`);\n\n        if (!matchesContainer || !standingsContainer) return;\n\n        // Render matches\n        matchesContainer.innerHTML = '';\n        if (groupData.matches && groupData.matches.length > 0) {\n            // Group by round\n            const matchesByRound = this.groupMatchesByRound(groupData.matches);\n\n            Object.keys(matchesByRound).sort().forEach(round => {\n                const roundDiv = document.createElement('div');\n                roundDiv.className = 'round-group mb-3';\n\n                const roundLabel = document.createElement('div');\n                roundLabel.className = 'round-label';\n                roundLabel.innerHTML = `<i class=\"ti ti-calendar-event me-1\"></i>${this.getRoundLabel(round, groupData.matches[0])}`;\n                roundDiv.appendChild(roundLabel);\n\n                matchesByRound[round].forEach(match => {\n                    roundDiv.appendChild(this.createMatchCard(match));\n                });\n\n                matchesContainer.appendChild(roundDiv);\n            });\n        } else {\n            matchesContainer.innerHTML = '<p class=\"text-muted text-center\">No matches scheduled</p>';\n        }\n\n        // Render standings\n        standingsContainer.innerHTML = '';\n        const standingsTable = standingsContainer.querySelector('.standings-table');\n        if (!standingsTable) {\n            const table = document.createElement('div');\n            table.className = 'standings-table';\n            standingsContainer.appendChild(table);\n        }\n\n        const tableContainer = standingsContainer.querySelector('.standings-table');\n        tableContainer.innerHTML = '';\n\n        if (groupData.standings && groupData.standings.length > 0) {\n            groupData.standings.forEach((standing, index) => {\n                tableContainer.appendChild(this.createStandingRow(standing, index + 1));\n            });\n        } else {\n            tableContainer.innerHTML = '<p class=\"text-muted text-center small\">Standings will appear after matches are played</p>';\n        }\n    }\n\n    /**\n     * Get round label based on playoff_round and date\n     */\n    getRoundLabel(round, sampleMatch) {\n        const roundNum = parseInt(round);\n        if (roundNum === 1) {\n            return 'Week 1';\n        } else if (roundNum === 2) {\n            return 'Week 2 Morning';\n        }\n        return `Round ${roundNum}`;\n    }\n\n    /**\n     * Group matches by playoff round\n     */\n    groupMatchesByRound(matches) {\n        const grouped = {};\n        matches.forEach(match => {\n            const round = match.playoff_round || 1;\n            if (!grouped[round]) {\n                grouped[round] = [];\n            }\n            grouped[round].push(match);\n        });\n        return grouped;\n    }\n\n    /**\n     * Create a match card element\n     */\n    createMatchCard(match) {\n        const card = document.createElement('div');\n        card.className = 'bracket-match-card';\n        card.dataset.matchId = match.id;\n\n        // Check if match is reported\n        const isReported = match.home_team_score !== null && match.away_team_score !== null;\n        if (isReported) {\n            card.classList.add('reported');\n        }\n\n        // Highlight current team\n        if (this.currentTeamId &&\n            (match.home_team_id == this.currentTeamId || match.away_team_id == this.currentTeamId)) {\n            card.classList.add('current-team');\n        }\n\n        // Determine winner\n        let homeWinner = false, awayWinner = false;\n        if (isReported) {\n            if (match.home_team_score > match.away_team_score) {\n                homeWinner = true;\n            } else if (match.away_team_score > match.home_team_score) {\n                awayWinner = true;\n            }\n        }\n\n        // Build match teams HTML\n        const teamsHTML = `\n            <div class=\"match-teams\">\n                <div class=\"team home-team ${homeWinner ? 'winner' : ''}\">\n                    <span class=\"team-name\">${match.home_team_name || 'TBD'}</span>\n                    <span class=\"team-score\">${match.home_team_score !== null ? match.home_team_score : '-'}</span>\n                </div>\n                <div class=\"match-divider\">vs</div>\n                <div class=\"team away-team ${awayWinner ? 'winner' : ''}\">\n                    <span class=\"team-name\">${match.away_team_name || 'TBD'}</span>\n                    <span class=\"team-score\">${match.away_team_score !== null ? match.away_team_score : '-'}</span>\n                </div>\n            </div>\n        `;\n\n        // Build match info HTML\n        const matchDate = match.date ? new Date(match.date).toLocaleDateString() : 'TBD';\n        const matchTime = match.time || 'TBD';\n        const infoHTML = `\n            <div class=\"match-info\">\n                <span class=\"match-time\">\n                    <i class=\"ti ti-clock\"></i>\n                    <span class=\"time-text\">${matchDate} ${matchTime}</span>\n                </span>\n                <span class=\"match-location\">\n                    <i class=\"ti ti-map-pin\"></i>\n                    <span class=\"location-text\">${match.location || 'TBD'}</span>\n                </span>\n            </div>\n        `;\n\n        // Build report button HTML\n        const buttonHTML = `\n            <button class=\"btn btn-sm btn-primary match-report-btn\"\n                    data-match-id=\"${match.id}\"\n                    onclick=\"window.playoffBracket.handleMatchReport(${match.id})\">\n                <i class=\"ti ti-pencil\"></i>\n                <span class=\"d-none d-md-inline\">${isReported ? 'Edit' : 'Report'}</span>\n            </button>\n        `;\n\n        card.innerHTML = teamsHTML + infoHTML + buttonHTML;\n\n        return card;\n    }\n\n    /**\n     * Create a standing row element\n     */\n    createStandingRow(standing, position) {\n        const row = document.createElement('div');\n        row.className = `standings-row position-${position}`;\n        row.dataset.teamId = standing.team_id;\n\n        // Highlight current team\n        if (this.currentTeamId && standing.team_id == this.currentTeamId) {\n            row.classList.add('current-team');\n        }\n\n        row.innerHTML = `\n            <div class=\"position\">${position}</div>\n            <div class=\"team-name\">${standing.team_name}</div>\n            <div class=\"stats\">\n                <div class=\"stat\">\n                    <span class=\"stat-label\">PTS</span>\n                    <span class=\"stat-value\">${standing.points || 0}</span>\n                </div>\n                <div class=\"stat\">\n                    <span class=\"stat-label\">GD</span>\n                    <span class=\"stat-value\">${standing.goal_difference || 0}</span>\n                </div>\n                <div class=\"stat\">\n                    <span class=\"stat-label\">GF</span>\n                    <span class=\"stat-value\">${standing.goals_for || 0}</span>\n                </div>\n            </div>\n        `;\n\n        return row;\n    }\n\n    /**\n     * Render placement finals section\n     */\n    renderPlacementFinals(placementMatches) {\n        if (!placementMatches || placementMatches.length === 0) {\n            // Show TBD messages\n            this.renderTBDPlacementMatch('championshipMatch', 'A1st vs B1st');\n            this.renderTBDPlacementMatch('thirdPlaceMatch', 'A2nd vs B2nd');\n            this.renderTBDPlacementMatch('fifthPlaceMatch', 'A3rd vs B3rd');\n            this.renderTBDPlacementMatch('seventhPlaceMatch', 'A4th vs B4th');\n            return;\n        }\n\n        // Match placement matches to their containers\n        placementMatches.forEach(match => {\n            const description = (match.description || '').toLowerCase();\n            let containerId = null;\n\n            if (description.includes('championship')) {\n                containerId = 'championshipMatch';\n            } else if (description.includes('3rd')) {\n                containerId = 'thirdPlaceMatch';\n            } else if (description.includes('5th')) {\n                containerId = 'fifthPlaceMatch';\n            } else if (description.includes('7th')) {\n                containerId = 'seventhPlaceMatch';\n            }\n\n            if (containerId) {\n                this.renderPlacementMatch(containerId, match);\n            }\n        });\n    }\n\n    /**\n     * Render TBD message for placement match\n     */\n    renderTBDPlacementMatch(containerId, matchup) {\n        const container = document.getElementById(containerId);\n        if (!container) return;\n\n        container.innerHTML = `\n            <div class=\"tbd-message\">\n                <div class=\"text-center\">\n                    <i class=\"ti ti-help-circle mb-2 tbd-icon\"></i>\n                    <p class=\"mb-1\">${matchup}</p>\n                    <small class=\"text-muted\">To be determined after group stage</small>\n                </div>\n            </div>\n        `;\n    }\n\n    /**\n     * Render actual placement match\n     */\n    renderPlacementMatch(containerId, match) {\n        const container = document.getElementById(containerId);\n        if (!container) return;\n\n        const matchCard = this.createMatchCard(match);\n        container.innerHTML = '';\n        container.appendChild(matchCard);\n    }\n\n    /**\n     * Handle match report button click\n     */\n    handleMatchReport(matchId) {\n        console.log('Opening match report modal for match:', matchId);\n\n        // Try to open existing modal if it exists\n        const modalId = `reportMatchModal-${matchId}`;\n        const existingModal = document.getElementById(modalId);\n\n        if (existingModal) {\n            ModalManager.show(existingModal.id);\n        } else {\n            // If modal doesn't exist, redirect to a page where it does or show a message\n            console.warn('Match report modal not found on page. You may need to load it first.');\n            alert('Please navigate to the team page to report this match.');\n        }\n    }\n\n    /**\n     * Start auto-refresh of bracket data\n     */\n    startAutoRefresh() {\n        if (!this.autoRefreshEnabled) return;\n\n        this.refreshInterval = setInterval(async () => {\n            console.log('Auto-refreshing bracket data...');\n            try {\n                await this.fetchBracketData();\n                this.renderBracket();\n            } catch (error) {\n                console.error('Auto-refresh failed:', error);\n            }\n        }, this.autoRefreshDelay);\n    }\n\n    /**\n     * Stop auto-refresh\n     */\n    stopAutoRefresh() {\n        if (this.refreshInterval) {\n            clearInterval(this.refreshInterval);\n            this.refreshInterval = null;\n        }\n    }\n\n    /**\n     * Manual refresh\n     */\n    async refresh() {\n        console.log('Manual refresh triggered');\n        try {\n            await this.fetchBracketData();\n            this.renderBracket();\n        } catch (error) {\n            console.error('Refresh failed:', error);\n            this.showError('Failed to refresh bracket data.');\n        }\n    }\n\n    /**\n     * Show error message\n     */\n    showError(message) {\n        const container = document.querySelector('.playoff-bracket-container');\n        if (!container) return;\n\n        const error = container.querySelector('.bracket-error');\n        if (error) {\n            error.classList.remove('d-none');\n            error.querySelector('.bracket-error-message').textContent = message;\n        }\n\n        const loading = container.querySelector('.bracket-loading');\n        const content = container.querySelector('.bracket-content');\n\n        if (loading) loading.classList.add('d-none');\n        if (content) content.classList.add('d-none');\n    }\n\n    /**\n     * Cleanup\n     */\n    destroy() {\n        this.stopAutoRefresh();\n    }\n}\n\n// Export for use in other scripts\nif (typeof window !== 'undefined') {\n    window.PlayoffBracket = PlayoffBracket;\n}\n","/**\n * Scheduled Message Validation JavaScript\n * \n * Handles validation page interactions and real-time updates\n */\n\ndocument.addEventListener('DOMContentLoaded', function() {\n    initializeValidationPage();\n});\n\n/**\n * Initialize validation page functionality\n */\nfunction initializeValidationPage() {\n    // Set up periodic refresh for overdue messages\n    setupAutoRefresh();\n\n    // Initialize tooltips if Bootstrap tooltips are available\n    if (typeof bootstrap !== 'undefined' && bootstrap.Tooltip) {\n        const tooltipTriggerList = [].slice.call(document.querySelectorAll('[data-bs-toggle=\"tooltip\"]'));\n        tooltipTriggerList.map(function (tooltipTriggerEl) {\n            return new bootstrap.Tooltip(tooltipTriggerEl);\n        });\n    }\n\n    // Set up refresh button functionality\n    setupRefreshButton();\n\n    // Start countdown updates\n    startCountdownUpdates();\n}\n\n/**\n * Set up auto-refresh for pages with critical issues\n */\nfunction setupAutoRefresh() {\n    // Check if we have overdue messages\n    const overdueElement = document.querySelector('[data-overdue-count]');\n    if (overdueElement) {\n        const overdueCount = parseInt(overdueElement.getAttribute('data-overdue-count'));\n        if (overdueCount > 0) {\n            // Refresh every 30 seconds if there are overdue messages\n            setTimeout(function() {\n                window.location.reload();\n            }, 30000);\n            \n            // Show countdown in title\n            updatePageTitle(30);\n        }\n    }\n}\n\n/**\n * Update page title with countdown\n */\nfunction updatePageTitle(seconds) {\n    const originalTitle = document.title;\n    let countdown = seconds;\n    \n    const interval = setInterval(function() {\n        document.title = `(${countdown}s) ${originalTitle}`;\n        countdown--;\n        \n        if (countdown < 0) {\n            clearInterval(interval);\n            document.title = originalTitle;\n        }\n    }, 1000);\n}\n\n/**\n * Refresh validation data via AJAX\n */\nfunction refreshValidation() {\n    const refreshBtn = document.querySelector('#refresh-btn');\n    if (refreshBtn) {\n        // Show loading state\n        const originalText = refreshBtn.innerHTML;\n        refreshBtn.innerHTML = '<i class=\"ti ti-loader-2 ti-spin me-1\"></i> Refreshing...';\n        refreshBtn.disabled = true;\n        \n        // Reload the page to get fresh data\n        setTimeout(function() {\n            window.location.reload();\n        }, 500);\n    } else {\n        // Fallback - just reload\n        window.location.reload();\n    }\n}\n\n/**\n * Set up refresh button functionality\n */\nfunction setupRefreshButton() {\n    const refreshButtons = document.querySelectorAll('[onclick*=\"refreshValidation\"]');\n    refreshButtons.forEach(function(btn) {\n        btn.id = 'refresh-btn';\n    });\n}\n\n/**\n * Show queue status popup\n */\nfunction scheduledMsgShowQueueStatus() {\n    fetch('/admin/scheduled_messages/queue_status')\n        .then(response => response.json())\n        .then(data => {\n            let message = 'Celery Queue Status:\\n\\n';\n            message += `Total Workers: ${data.stats.total_workers}\\n`;\n            message += `Active Tasks: ${data.stats.total_active_tasks}\\n`;\n            message += `Scheduled Tasks: ${data.stats.total_scheduled_tasks}\\n`;\n            message += `Reserved Tasks: ${data.stats.total_reserved_tasks}\\n\\n`;\n            \n            if (data.queues) {\n                message += 'Queue Lengths:\\n';\n                for (const [queue, length] of Object.entries(data.queues)) {\n                    if (queue !== 'error') {\n                        message += `  ${queue}: ${length} messages\\n`;\n                    }\n                }\n            }\n            \n            alert(message);\n        })\n        .catch(error => {\n            console.error('Error fetching queue status:', error);\n            alert('Error fetching queue status. Check console for details.');\n        });\n}\n\n/**\n * Format countdown time display\n */\nfunction formatCountdown(hours) {\n    if (hours < 0) {\n        return 'READY';\n    } else if (hours < 1) {\n        return Math.round(hours * 60) + 'm';\n    } else if (hours < 24) {\n        return Math.round(hours) + 'h';\n    } else {\n        return Math.round(hours / 24) + 'd';\n    }\n}\n\n/**\n * Update countdown displays if any exist\n */\nfunction updateCountdowns() {\n    const countdownElements = document.querySelectorAll('[data-hours-until]');\n    countdownElements.forEach(function(element) {\n        const hours = parseFloat(element.getAttribute('data-hours-until'));\n        const newHours = hours - (1/60); // Subtract 1 minute\n        element.setAttribute('data-hours-until', newHours);\n        element.textContent = formatCountdown(newHours);\n    });\n}\n\n/**\n * Start countdown updates if we have countdown elements\n */\nfunction startCountdownUpdates() {\n    const countdownElements = document.querySelectorAll('[data-hours-until]');\n    if (countdownElements.length > 0) {\n        setInterval(updateCountdowns, 60000); // Update every minute\n    }\n}\n","/**\n * ============================================================================\n * PROFILE FORM HANDLER - Form Interactions & Validation\n * ============================================================================\n *\n * Handles profile form interactions, validation, and unsaved changes warnings.\n * Replaces inline JavaScript from profile form templates.\n *\n * Features:\n * - Select2 dropdown initialization\n * - Unsaved changes warning\n * - Form change tracking\n * - Auto-submit handling\n * - Form validation\n *\n * NO INLINE STYLES - Uses CSS classes and data attributes instead.\n *\n * Dependencies:\n * - jQuery\n * - Select2 (for enhanced dropdowns)\n * - Bootstrap 5.x\n *\n * ============================================================================\n */\n\n(function() {\n    'use strict';\n\n    // ========================================================================\n    // CONFIGURATION\n    // ========================================================================\n\n    const CONFIG = {\n        SELECT2_THEME: 'bootstrap-5',\n        UNSAVED_WARNING_MESSAGE: 'You have unsaved changes. Are you sure you want to leave?'\n    };\n\n    // State tracking\n    let formChanged = false;\n    let formSubmitting = false;\n\n    // ========================================================================\n    // SELECT2 INITIALIZATION\n    // ========================================================================\n\n    /**\n     * Initialize Select2 on all selects with data-select2 attribute\n     */\n    function initSelect2() {\n        if (typeof jQuery === 'undefined' || typeof jQuery.fn.select2 === 'undefined') {\n            console.warn('[Profile Form] Select2 not available');\n            return;\n        }\n\n        const selects = document.querySelectorAll('[data-select2]');\n\n        selects.forEach(select => {\n            const $select = jQuery(select);\n\n            // Get configuration from data attributes\n            const config = {\n                theme: CONFIG.SELECT2_THEME,\n                placeholder: select.dataset.placeholder || 'Select an option',\n                allowClear: select.dataset.allowClear === 'true',\n                dropdownParent: select.dataset.dropdownParent ?\n                    jQuery(select.dataset.dropdownParent) : null\n            };\n\n            // Apply Select2\n            $select.select2(config);\n\n            // Track changes for unsaved warning\n            $select.on('change', function() {\n                markFormChanged();\n            });\n        });\n\n        console.log(`[Profile Form] Initialized ${selects.length} Select2 dropdowns`);\n    }\n\n    // ========================================================================\n    // FORM CHANGE TRACKING\n    // ========================================================================\n\n    /**\n     * Mark form as changed (has unsaved changes)\n     */\n    function markFormChanged() {\n        formChanged = true;\n    }\n\n    /**\n     * Mark form as saved (no unsaved changes)\n     */\n    function markFormSaved() {\n        formChanged = false;\n    }\n\n    /**\n     * Initialize form change tracking\n     */\n    function initFormChangeTracking() {\n        const forms = document.querySelectorAll('[data-track-changes]');\n\n        forms.forEach(form => {\n            // Track input changes\n            form.addEventListener('input', function(e) {\n                if (e.target.matches('input, textarea, select')) {\n                    markFormChanged();\n                }\n            });\n\n            // Track select changes\n            form.addEventListener('change', function(e) {\n                if (e.target.matches('input, textarea, select')) {\n                    markFormChanged();\n                }\n            });\n\n            // Mark as saved on successful submit\n            form.addEventListener('submit', function() {\n                formSubmitting = true;\n            });\n        });\n\n        console.log(`[Profile Form] Tracking changes on ${forms.length} forms`);\n    }\n\n    // ========================================================================\n    // UNSAVED CHANGES WARNING\n    // ========================================================================\n\n    /**\n     * Initialize unsaved changes warning\n     * Warns user before leaving page with unsaved form changes\n     */\n    function initUnsavedWarning() {\n        // Warn on page unload\n        window.addEventListener('beforeunload', function(e) {\n            // Only warn if form has unsaved changes and not currently submitting\n            if (formChanged && !formSubmitting) {\n                e.preventDefault();\n                e.returnValue = CONFIG.UNSAVED_WARNING_MESSAGE;\n                return CONFIG.UNSAVED_WARNING_MESSAGE;\n            }\n        });\n\n        // Warn on navigation (for SPAs or HTMX)\n        document.addEventListener('click', function(e) {\n            const link = e.target.closest('a[href]');\n            if (!link) return;\n\n            // Skip if submitting form\n            if (formSubmitting) return;\n\n            // Check if navigating away\n            const href = link.getAttribute('href');\n            if (href && href !== '#' && !href.startsWith('javascript:')) {\n                if (formChanged) {\n                    const confirmed = confirm(CONFIG.UNSAVED_WARNING_MESSAGE);\n                    if (!confirmed) {\n                        e.preventDefault();\n                    }\n                }\n            }\n        });\n\n        console.log('[Profile Form] Unsaved changes warning enabled');\n    }\n\n    // ========================================================================\n    // AUTO-SUBMIT FORMS\n    // ========================================================================\n\n    /**\n     * Initialize auto-submit forms\n     * Forms with data-auto-submit will submit on change\n     */\n    function initAutoSubmitForms() {\n        const autoSubmitForms = document.querySelectorAll('[data-auto-submit]');\n\n        autoSubmitForms.forEach(form => {\n            const delay = parseInt(form.dataset.autoSubmitDelay) || 0;\n            let timeoutId = null;\n\n            // Listen for changes\n            form.addEventListener('change', function(e) {\n                // Clear existing timeout\n                if (timeoutId) {\n                    clearTimeout(timeoutId);\n                }\n\n                // Submit after delay\n                timeoutId = setTimeout(() => {\n                    formSubmitting = true;\n                    form.submit();\n                }, delay);\n            });\n        });\n\n        console.log(`[Profile Form] Initialized ${autoSubmitForms.length} auto-submit forms`);\n    }\n\n    // ========================================================================\n    // FORM VALIDATION\n    // ========================================================================\n\n    /**\n     * Initialize custom form validation\n     */\n    function initFormValidation() {\n        const forms = document.querySelectorAll('[data-validate]');\n\n        forms.forEach(form => {\n            form.addEventListener('submit', function(e) {\n                if (!form.checkValidity()) {\n                    e.preventDefault();\n                    e.stopPropagation();\n                }\n\n                form.classList.add('was-validated');\n            });\n        });\n\n        console.log(`[Profile Form] Initialized validation on ${forms.length} forms`);\n    }\n\n    // ========================================================================\n    // PHONE NUMBER FORMATTING\n    // ========================================================================\n\n    /**\n     * Initialize phone number formatting\n     * Formats phone numbers as user types\n     */\n    function initPhoneFormatting() {\n        const phoneInputs = document.querySelectorAll('[data-format=\"phone\"]');\n\n        phoneInputs.forEach(input => {\n            input.addEventListener('input', function(e) {\n                let value = e.target.value.replace(/\\D/g, '');\n\n                // Format as (XXX) XXX-XXXX\n                if (value.length > 0) {\n                    if (value.length <= 3) {\n                        value = `(${value}`;\n                    } else if (value.length <= 6) {\n                        value = `(${value.slice(0, 3)}) ${value.slice(3)}`;\n                    } else {\n                        value = `(${value.slice(0, 3)}) ${value.slice(3, 6)}-${value.slice(6, 10)}`;\n                    }\n                }\n\n                e.target.value = value;\n            });\n        });\n\n        if (phoneInputs.length > 0) {\n            console.log(`[Profile Form] Initialized phone formatting on ${phoneInputs.length} inputs`);\n        }\n    }\n\n    // ========================================================================\n    // CHARACTER COUNTER\n    // ========================================================================\n\n    /**\n     * Initialize character counters for textareas\n     */\n    function initCharacterCounters() {\n        const textareas = document.querySelectorAll('[data-max-length]');\n\n        textareas.forEach(textarea => {\n            const maxLength = parseInt(textarea.dataset.maxLength);\n            const counterId = textarea.dataset.counter;\n            const counter = counterId ? document.getElementById(counterId) : null;\n\n            if (!counter) return;\n\n            // Update counter on input\n            textarea.addEventListener('input', function() {\n                const remaining = maxLength - this.value.length;\n                counter.textContent = `${remaining} characters remaining`;\n\n                // Add warning class if close to limit\n                if (remaining < 20) {\n                    counter.classList.add('text-warning');\n                } else {\n                    counter.classList.remove('text-warning');\n                }\n\n                if (remaining < 0) {\n                    counter.classList.add('text-danger');\n                    counter.classList.remove('text-warning');\n                }\n            });\n\n            // Trigger initial update\n            textarea.dispatchEvent(new Event('input'));\n        });\n\n        console.log(`[Profile Form] Initialized ${textareas.length} character counters`);\n    }\n\n    // ========================================================================\n    // FORM RESET HANDLING\n    // ========================================================================\n\n    /**\n     * Handle form reset events\n     */\n    function initFormResetHandling() {\n        document.addEventListener('click', function(e) {\n            const resetBtn = e.target.closest('[data-action=\"reset-form\"]');\n            if (!resetBtn) return;\n\n            const formId = resetBtn.dataset.formId;\n            const form = document.getElementById(formId);\n\n            if (form) {\n                // Confirm reset\n                const confirmed = confirm('Reset form to original values?');\n                if (confirmed) {\n                    form.reset();\n\n                    // Reset Select2 dropdowns\n                    if (typeof jQuery !== 'undefined') {\n                        jQuery(form).find('.select2-hidden-accessible').val(null).trigger('change');\n                    }\n\n                    // Mark as saved\n                    markFormSaved();\n\n                    // Remove validation classes\n                    form.classList.remove('was-validated');\n                }\n            }\n        });\n    }\n\n    // ========================================================================\n    // INITIALIZATION\n    // ========================================================================\n\n    /**\n     * Initialize all form handling\n     */\n    function init() {\n        console.log('[Profile Form] Initializing...');\n\n        // Initialize all features\n        initSelect2();\n        initFormChangeTracking();\n        initUnsavedWarning();\n        initAutoSubmitForms();\n        initFormValidation();\n        initPhoneFormatting();\n        initCharacterCounters();\n        initFormResetHandling();\n\n        console.log('[Profile Form] Initialization complete');\n    }\n\n    // ========================================================================\n    // DOM READY\n    // ========================================================================\n\n    // Initialize when DOM is ready\n    if (document.readyState === 'loading') {\n        document.addEventListener('DOMContentLoaded', init);\n    } else {\n        // DOM already loaded\n        init();\n    }\n\n    // Expose public API\n    window.ProfileForm = {\n        version: '1.0.0',\n        markFormChanged,\n        markFormSaved,\n        init\n    };\n\n})();\n","/**\n * ============================================================================\n * PROFILE SUCCESS PAGE\n * ============================================================================\n *\n * Handles interactions on the profile verification success page.\n *\n * Features:\n * - Done button redirects to player profile\n * - Optional celebration sound/haptic feedback\n * - Accessibility support\n *\n * ============================================================================\n */\n\n(function() {\n    'use strict';\n\n    /**\n     * Initialize the success page functionality\n     */\n    function init() {\n        initDoneButton();\n        initCelebration();\n    }\n\n    /**\n     * Handle the Done button click\n     * Redirects user back to their player profile\n     */\n    function initDoneButton() {\n        const doneBtn = document.querySelector('[data-action=\"close-window\"]');\n        if (!doneBtn) return;\n\n        doneBtn.addEventListener('click', function(e) {\n            e.preventDefault();\n\n            // Get player ID from the page URL or data attribute\n            const playerId = getPlayerId();\n\n            if (playerId) {\n                // Redirect to player profile\n                window.location.href = `/players/profile/${playerId}`;\n            } else {\n                // Fallback: go to home page\n                window.location.href = '/';\n            }\n        });\n    }\n\n    /**\n     * Extract player ID from the current URL\n     * URL format: /players/profile/{id}/mobile/success\n     */\n    function getPlayerId() {\n        const path = window.location.pathname;\n        const match = path.match(/\\/players\\/profile\\/(\\d+)/);\n        return match ? match[1] : null;\n    }\n\n    /**\n     * Optional celebration effects\n     * Triggered by data-success-celebration element\n     */\n    function initCelebration() {\n        const celebrationEl = document.querySelector('[data-success-celebration]');\n        if (!celebrationEl) return;\n\n        // Haptic feedback on mobile (if supported)\n        if ('vibrate' in navigator) {\n            // Short success vibration pattern\n            navigator.vibrate([50, 30, 50]);\n        }\n\n        // Optional sound (disabled by default, can be enabled via data attribute)\n        const playSound = celebrationEl.dataset.playSound === 'true';\n        if (playSound) {\n            playSuccessSound();\n        }\n    }\n\n    /**\n     * Play a subtle success sound\n     * Uses Web Audio API for a simple beep\n     */\n    function playSuccessSound() {\n        try {\n            const audioContext = new (window.AudioContext || window.webkitAudioContext)();\n            const oscillator = audioContext.createOscillator();\n            const gainNode = audioContext.createGain();\n\n            oscillator.connect(gainNode);\n            gainNode.connect(audioContext.destination);\n\n            oscillator.frequency.value = 800;\n            oscillator.type = 'sine';\n\n            gainNode.gain.setValueAtTime(0.1, audioContext.currentTime);\n            gainNode.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + 0.3);\n\n            oscillator.start(audioContext.currentTime);\n            oscillator.stop(audioContext.currentTime + 0.3);\n        } catch (e) {\n            // Audio not supported or blocked, silently ignore\n            console.debug('Success sound not played:', e.message);\n        }\n    }\n\n    // Initialize when DOM is ready\n    if (document.readyState === 'loading') {\n        document.addEventListener('DOMContentLoaded', init);\n    } else {\n        init();\n    }\n})();\n","// schedule-management.js\nclass ScheduleManager {\n    constructor() {\n        // We'll store references to the \"Add/Edit Match\" modal and the \"Add Single Week\" form\n        this.editMatchModal = null;\n        this.isAddOperation = false;  // determines if the modal is adding or editing\n        this.currentMatchId = null;\n\n        // Attempt to read CSRF from hidden form fields or meta\n        this.csrfToken = document.querySelector('meta[name=\"csrf-token\"]')?.content || null;\n\n        this.init();\n    }\n\n    init() {\n        document.addEventListener('DOMContentLoaded', () => {\n            // Hook up the Edit/Match modal\n            const modalEl = document.getElementById('editMatchModal');\n            if (modalEl) {\n                this.editMatchModal = ModalManager.getInstance('editMatchModal');\n\n                // The form inside the modal\n                const editForm = document.getElementById('editMatchForm');\n                if (editForm) {\n                    editForm.addEventListener('submit', (evt) => this.handleMatchFormSubmit(evt));\n                }\n            }\n\n            // Listen for the \"Add Single Week\" modal's dynamic parts\n            this.setupSingleWeekModal();\n\n            // Set up each type of button\n            this.setupEditButtons();\n            this.setupDeleteButtons();\n            this.setupAddMatchButtons();\n        });\n    }\n\n    // ----------------------------------------------------------------\n    // 1) SINGLE WEEK MODAL / TIME SLOTS\n    // ----------------------------------------------------------------\n    setupSingleWeekModal() {\n        // We assume there's a button that triggers #addSingleWeekModal\n        const addWeekModal = document.getElementById('addSingleWeekModal');\n        if (!addWeekModal) return;\n\n        // When the modal shows, we set the league_id and clear old timeslots\n        addWeekModal.addEventListener('show.bs.modal', (event) => {\n            const button = event.relatedTarget;\n            if (!button) return;\n            const leagueId = button.getAttribute('data-league-id');\n            document.getElementById('singleWeekLeagueId').value = leagueId;\n            document.getElementById('singleWeekTimeSlots').innerHTML = '';\n\n            // Add at least one slot\n            this.addSingleWeekTimeSlot();\n        });\n\n        // \"Add Time Slot\" button\n        const addTimeSlotBtn = document.getElementById('addTimeSlotBtn');\n        if (addTimeSlotBtn) {\n            addTimeSlotBtn.addEventListener('click', (e) => {\n                e.preventDefault();\n                this.addSingleWeekTimeSlot();\n            });\n        }\n\n        // Handle the singleWeek form submission\n        const singleWeekForm = document.getElementById('addSingleWeekForm');\n        if (singleWeekForm) {\n            singleWeekForm.addEventListener('submit', (evt) => this.handleSingleWeekSubmit(evt));\n        }\n    }\n\n    addSingleWeekTimeSlot() {\n        // Generate one row with time, field, team_a, team_b\n        const container = document.getElementById('singleWeekTimeSlots');\n        if (!container) return;\n\n        // Read the leagueId so we can build the team dropdown\n        const leagueId = document.getElementById('singleWeekLeagueId').value;\n        const teams = window.leagueTeams[leagueId] || [];\n\n        let optionsHtml = '<option value=\"\">--Select--</option>';\n        teams.forEach(t => {\n            optionsHtml += `<option value=\"${t.id}\">${t.name}</option>`;\n        });\n\n        const row = document.createElement('div');\n        row.className = 'row g-2 mb-2';\n\n        row.innerHTML = `\n          <div class=\"col-md-3\">\n            <input type=\"time\" name=\"times[]\" class=\"form-control\" required>\n          </div>\n          <div class=\"col-md-3\">\n            <select name=\"fields[]\" class=\"form-select\" required>\n              <option value=\"North\">North</option>\n              <option value=\"South\">South</option>\n            </select>\n          </div>\n          <div class=\"col-md-3\">\n            <select name=\"team_a[]\" class=\"form-select\" required>\n              ${optionsHtml}\n            </select>\n          </div>\n          <div class=\"col-md-3\">\n            <div class=\"input-group\">\n              <select name=\"team_b[]\" class=\"form-select\" required>\n                ${optionsHtml}\n              </select>\n              <button type=\"button\" class=\"btn btn-danger\" onclick=\"this.closest('.row').remove()\">\n                <i class=\"ti ti-trash\"></i>\n              </button>\n            </div>\n          </div>\n        `;\n        container.appendChild(row);\n    }\n\n    async handleSingleWeekSubmit(evt) {\n        evt.preventDefault();\n        const form = evt.target;\n        const formData = new FormData(form);\n\n        try {\n            const resp = await fetch(form.action || '/publeague/schedules/add_single_week', {\n                method: 'POST',\n                body: formData\n            });\n            const result = await resp.json();\n            if (result.success) {\n                bootstrap.Modal.getInstance(document.getElementById('addSingleWeekModal')).hide();\n                location.reload();\n            } else {\n                alert(result.message || 'Error adding single week');\n            }\n        } catch (err) {\n            // console.error('Error in handleSingleWeekSubmit:', err);\n            alert('Error adding single week');\n        }\n    }\n\n    // ----------------------------------------------------------------\n    // 2) EDIT/ADD MATCH LOGIC\n    // ----------------------------------------------------------------\n    setupAddMatchButtons() {\n        // .schedule-add-match-btn => open the edit modal in \"Add\" mode\n        document.querySelectorAll('.schedule-add-match-btn').forEach(btn => {\n            btn.addEventListener('click', (evt) => {\n                evt.preventDefault();\n                const data = {\n                    league_id: btn.dataset.leagueId,\n                    week: btn.dataset.week,\n                    date: btn.dataset.date\n                };\n                this.openAddMatchModal(data);\n            });\n        });\n    }\n\n    setupEditButtons() {\n        // .schedule-edit-match-btn => open the edit modal in \"Edit\" mode\n        document.querySelectorAll('.schedule-edit-match-btn').forEach(btn => {\n            btn.addEventListener('click', (evt) => {\n                evt.preventDefault();\n                const matchData = {\n                    match_id: btn.dataset.matchId,\n                    date: btn.dataset.date,\n                    time: btn.dataset.time,\n                    location: btn.dataset.location,\n                    team_a_id: btn.dataset.teamAId,\n                    team_b_id: btn.dataset.teamBId,\n                    week: btn.dataset.week\n                };\n                this.openEditMatchModal(matchData);\n            });\n        });\n    }\n\n    setupDeleteButtons() {\n        // .schedule-delete-match-btn => confirm + POST delete\n        document.querySelectorAll('.schedule-delete-match-btn').forEach(btn => {\n            btn.addEventListener('click', async (evt) => {\n                evt.preventDefault();\n                const matchId = btn.dataset.matchId;\n                this.deleteMatch(matchId);\n            });\n        });\n    }\n\n    openAddMatchModal({ league_id, week, date }) {\n        if (!this.editMatchModal) {\n            // console.error('No edit match modal found.');\n            return;\n        }\n        this.isAddOperation = true;\n        this.currentMatchId = null;\n\n        // Reset the form\n        const form = document.getElementById('editMatchForm');\n        form.reset();\n\n        // Set default values (week, date)\n        document.getElementById('editWeek').value = week;\n        document.getElementById('editDate').value = this.toISODate(date);\n\n        // Change label, button text\n        document.getElementById('editMatchModalLabel').textContent = 'Add Match';\n        form.querySelector('button[type=\"submit\"]').textContent = 'Add Match';\n\n        // Show modal\n        this.editMatchModal.show();\n    }\n\n    openEditMatchModal(matchData) {\n        if (!this.editMatchModal) {\n            // console.error('No edit match modal found.');\n            return;\n        }\n        this.isAddOperation = false;\n        this.currentMatchId = matchData.match_id;\n\n        // Fill the form fields\n        document.getElementById('editMatchId').value = matchData.match_id;\n        document.getElementById('editWeek').value = matchData.week || '';\n        document.getElementById('editDate').value = this.toISODate(matchData.date);\n        document.getElementById('editTime').value = this.toISOTime(matchData.time);\n        document.getElementById('editLocation').value = matchData.location || '';\n        // TeamA + TeamB\n        document.getElementById('editTeamA').value = matchData.team_a_id || '';\n        document.getElementById('editTeamB').value = matchData.team_b_id || '';\n\n        // Change label, button text\n        document.getElementById('editMatchModalLabel').textContent = 'Edit Match';\n        document.querySelector('#editMatchForm button[type=\"submit\"]').textContent = 'Save Changes';\n\n        this.editMatchModal.show();\n    }\n\n    // POST the form to either add_match or edit_match\n    async handleMatchFormSubmit(evt) {\n        evt.preventDefault();\n        const form = evt.target;\n        const formData = new FormData(form);\n\n        const url = this.isAddOperation\n            ? '/publeague/schedules/add_match'\n            : `/publeague/schedules/edit_match/${this.currentMatchId}`;\n\n        try {\n            const resp = await fetch(url, {\n                method: 'POST',\n                body: formData,\n                headers: {\n                    'X-Requested-With': 'XMLHttpRequest'\n                    // optionally 'X-CSRFToken': this.csrfToken if needed\n                }\n            });\n            const data = await resp.json();\n            if (data.success) {\n                this.editMatchModal.hide();\n                alert(data.message || (this.isAddOperation\n                    ? 'Match created successfully' : 'Match updated successfully'));\n                location.reload();\n            } else {\n                alert(data.message || 'Failed to save match');\n            }\n        } catch (err) {\n            // console.error('Error in handleMatchFormSubmit:', err);\n            alert('Error saving match');\n        }\n    }\n\n    async deleteMatch(matchId) {\n        if (!confirm('Are you sure you want to delete this match?')) {\n            return;\n        }\n\n        try {\n            const resp = await fetch(`/publeague/schedules/delete_match/${matchId}`, {\n                method: 'POST',\n                headers: {\n                    'X-Requested-With': 'XMLHttpRequest'\n                }\n            });\n            const data = await resp.json();\n            if (data.success) {\n                alert(data.message || 'Match deleted');\n                location.reload();\n            } else {\n                alert(data.message || 'Failed to delete match');\n            }\n        } catch (err) {\n            // console.error('Error deleting match:', err);\n            alert('Error deleting match');\n        }\n    }\n\n    // Helpers for date/time\n    toISODate(val) {\n        // If already \"YYYY-MM-DD\", just return\n        if (/^\\d{4}-\\d{2}-\\d{2}$/.test(val)) return val;\n        // Otherwise try to parse\n        const d = new Date(val);\n        if (isNaN(d)) return '';\n        const yyyy = d.getFullYear();\n        const mm = String(d.getMonth() + 1).padStart(2, '0');\n        const dd = String(d.getDate()).padStart(2, '0');\n        return `${yyyy}-${mm}-${dd}`;\n    }\n\n    toISOTime(val) {\n        // If already \"HH:MM\"\n        if (/^\\d{2}:\\d{2}$/.test(val)) return val;\n        // If \"7:30 PM\"\n        const match = val.match(/(\\d{1,2}):(\\d{2})\\s*(AM|PM)/i);\n        if (!match) return val; // fallback\n        let [_, hh, mm, ampm] = match;\n        let h = parseInt(hh, 10);\n        ampm = ampm.toUpperCase();\n        if (ampm === 'PM' && h < 12) h += 12;\n        if (ampm === 'AM' && h === 12) h = 0;\n        return String(h).padStart(2, '0') + ':' + mm;\n    }\n}\n\n// Instantiate once DOM is loaded\nnew ScheduleManager();\n","/**\n * Settings Tabs Controller\n * Handles tab switching for the settings page\n *\n * Uses data-* attributes for JS hooks:\n * - data-tabs: Tab container\n * - data-tab-trigger=\"name\": Tab trigger button\n * - data-tab-pane=\"name\": Tab content pane\n */\n\n(function() {\n    'use strict';\n\n    const SettingsTabs = {\n        SELECTORS: {\n            CONTAINER: '[data-tabs]',\n            TRIGGER: '[data-tab-trigger]',\n            PANE: '[data-tab-pane]'\n        },\n\n        CLASSES: {\n            ACTIVE_TRIGGER: 'is-active',\n            ACTIVE_PANE: 'c-settings-tab--active'\n        },\n\n        init() {\n            const containers = document.querySelectorAll(this.SELECTORS.CONTAINER);\n\n            containers.forEach(container => {\n                if (container.dataset.tabsInitialized === 'true') return;\n\n                this.initContainer(container);\n                container.dataset.tabsInitialized = 'true';\n            });\n\n            // Handle initial hash\n            this.handleHash();\n        },\n\n        initContainer(container) {\n            // Event delegation for tab clicks\n            container.addEventListener('click', (e) => {\n                const trigger = e.target.closest(this.SELECTORS.TRIGGER);\n                if (!trigger) return;\n\n                e.preventDefault();\n                const tabId = trigger.dataset.tabTrigger;\n\n                if (tabId) {\n                    this.activateTab(container, tabId);\n                }\n            });\n\n            // Keyboard navigation\n            container.addEventListener('keydown', (e) => {\n                const trigger = e.target.closest(this.SELECTORS.TRIGGER);\n                if (!trigger) return;\n\n                const triggers = Array.from(container.querySelectorAll(this.SELECTORS.TRIGGER));\n                const currentIndex = triggers.indexOf(trigger);\n                let newIndex = -1;\n\n                switch (e.key) {\n                    case 'ArrowLeft':\n                    case 'ArrowUp':\n                        e.preventDefault();\n                        newIndex = currentIndex > 0 ? currentIndex - 1 : triggers.length - 1;\n                        break;\n                    case 'ArrowRight':\n                    case 'ArrowDown':\n                        e.preventDefault();\n                        newIndex = currentIndex < triggers.length - 1 ? currentIndex + 1 : 0;\n                        break;\n                    case 'Home':\n                        e.preventDefault();\n                        newIndex = 0;\n                        break;\n                    case 'End':\n                        e.preventDefault();\n                        newIndex = triggers.length - 1;\n                        break;\n                }\n\n                if (newIndex >= 0 && triggers[newIndex]) {\n                    triggers[newIndex].focus();\n                    const tabId = triggers[newIndex].dataset.tabTrigger;\n                    if (tabId) {\n                        this.activateTab(container, tabId);\n                    }\n                }\n            });\n        },\n\n        activateTab(container, tabId) {\n            const triggers = container.querySelectorAll(this.SELECTORS.TRIGGER);\n            const panes = document.querySelectorAll(this.SELECTORS.PANE);\n\n            // Deactivate all triggers\n            triggers.forEach(t => {\n                t.classList.remove(this.CLASSES.ACTIVE_TRIGGER);\n                t.setAttribute('aria-selected', 'false');\n                t.setAttribute('tabindex', '-1');\n            });\n\n            // Deactivate all panes\n            panes.forEach(p => {\n                p.classList.remove(this.CLASSES.ACTIVE_PANE);\n                p.classList.remove('is-active');\n                // Remove Bootstrap classes if present\n                p.classList.remove('show', 'active');\n            });\n\n            // Activate target trigger\n            const targetTrigger = container.querySelector(`[data-tab-trigger=\"${tabId}\"]`);\n            if (targetTrigger) {\n                targetTrigger.classList.add(this.CLASSES.ACTIVE_TRIGGER);\n                targetTrigger.setAttribute('aria-selected', 'true');\n                targetTrigger.setAttribute('tabindex', '0');\n            }\n\n            // Activate target pane\n            const targetPane = document.querySelector(`[data-tab-pane=\"${tabId}\"]`);\n            if (targetPane) {\n                targetPane.classList.add(this.CLASSES.ACTIVE_PANE);\n\n                // Dispatch custom event\n                targetPane.dispatchEvent(new CustomEvent('tab:activated', {\n                    bubbles: true,\n                    detail: { tabId, container, trigger: targetTrigger }\n                }));\n            }\n\n            // Update URL hash\n            if (history.replaceState) {\n                history.replaceState(null, null, `#${tabId}`);\n            }\n        },\n\n        handleHash() {\n            const hash = window.location.hash.slice(1);\n            if (!hash) return;\n\n            const containers = document.querySelectorAll(this.SELECTORS.CONTAINER);\n            containers.forEach(container => {\n                const trigger = container.querySelector(`[data-tab-trigger=\"${hash}\"]`);\n                if (trigger) {\n                    requestAnimationFrame(() => {\n                        this.activateTab(container, hash);\n                    });\n                }\n            });\n        },\n\n        // Public API\n        showTab(tabId) {\n            const trigger = document.querySelector(`[data-tab-trigger=\"${tabId}\"]`);\n            if (!trigger) {\n                console.warn(`SettingsTabs: Tab trigger not found for \"${tabId}\"`);\n                return;\n            }\n\n            const container = trigger.closest(this.SELECTORS.CONTAINER);\n            if (container) {\n                this.activateTab(container, tabId);\n            }\n        }\n    };\n\n    // Initialize on DOM ready\n    if (document.readyState === 'loading') {\n        document.addEventListener('DOMContentLoaded', () => SettingsTabs.init());\n    } else {\n        SettingsTabs.init();\n    }\n\n    // Handle hash changes\n    window.addEventListener('hashchange', () => SettingsTabs.handleHash());\n\n    // Expose globally\n    window.SettingsTabs = SettingsTabs;\n})();\n","document.addEventListener('DOMContentLoaded', function () {\n    const accountInfoForm = document.getElementById('accountInfoForm');\n    const passwordChangeForm = document.getElementById('passwordChangeForm');\n    const notificationForm = document.getElementById('notificationForm');\n    const enable2FABtn = document.getElementById('enable2FABtn');\n    const verify2FAForm = document.getElementById('verify2FAForm');\n    const unlinkDiscordForm = document.getElementById('unlinkDiscordForm');\n    const smsOptInBtn = document.getElementById('smsOptInBtn');\n    const smsOptOutBtn = document.getElementById('smsOptOutBtn');\n    const smsOptInForm = document.getElementById('smsOptInForm');\n    const smsVerificationForm = document.getElementById('smsVerificationForm');\n    const resendCodeBtn = document.getElementById('resendCodeBtn');\n\n    // Cache SMS step elements\n    const smsConsentStep = document.getElementById('smsConsentStep');\n    const smsVerificationStep = document.getElementById('smsVerificationStep');\n    const smsConfirmationStep = document.getElementById('smsConfirmationStep');\n\n    if (accountInfoForm) {\n        accountInfoForm.addEventListener('submit', function (e) {\n            e.preventDefault();\n            this.submit();\n        });\n    }\n\n    if (passwordChangeForm) {\n        passwordChangeForm.addEventListener('submit', function (e) {\n            e.preventDefault();\n            const newPassword = document.getElementById('new_password').value;\n            const confirmPassword = document.getElementById('confirm_password').value;\n            if (newPassword !== confirmPassword) {\n                Swal.fire({\n                    icon: 'error',\n                    title: 'Oops...',\n                    text: 'New passwords do not match!',\n                });\n                return;\n            }\n            this.submit();\n        });\n    }\n\n    if (notificationForm) {\n        notificationForm.addEventListener('submit', function (e) {\n            e.preventDefault();\n            this.submit();\n        });\n    }\n\n    if (unlinkDiscordForm) {\n        unlinkDiscordForm.addEventListener('submit', function (e) {\n            e.preventDefault();\n            Swal.fire({\n                title: 'Are you sure?',\n                text: 'You want to unlink your Discord account?',\n                icon: 'warning',\n                showCancelButton: true,\n                confirmButtonText: 'Yes, unlink it!',\n                cancelButtonText: 'No, keep it'\n            }).then((result) => {\n                if (result.isConfirmed) {\n                    this.submit();\n                }\n            });\n        });\n    }\n\n    // Handle SMS opt-in form submission\n    if (smsOptInForm) {\n        smsOptInForm.addEventListener('submit', function (e) {\n            e.preventDefault();\n            const phoneNumber = document.getElementById('phoneNumber').value;\n            const consentGiven = document.getElementById('smsConsent').checked;\n            fetch('/account/initiate-sms-opt-in', {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json',\n                    'X-CSRFToken': getCsrfToken()\n                },\n                body: JSON.stringify({ phone_number: phoneNumber, consent_given: consentGiven })\n            })\n                .then(response => response.json())\n                .then(data => {\n                    if (data.success) {\n                        // Hide consent step and show verification step using is-hidden\n                        smsConsentStep.classList.add('is-hidden');\n                        smsVerificationStep.classList.remove('is-hidden');\n                        document.getElementById('sentPhoneNumber').textContent = phoneNumber;\n                    } else {\n                        Swal.fire({\n                            icon: 'warning',\n                            title: 'Resubscribe Required',\n                            text: data.message,\n                        });\n                    }\n                });\n        });\n    }\n\n    // Handle SMS verification form submission\n    if (smsVerificationForm) {\n        smsVerificationForm.addEventListener('submit', function (e) {\n            e.preventDefault();\n            const verificationCode = document.getElementById('verificationCode').value;\n            fetch('/account/confirm-sms-opt-in', {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json',\n                    'X-CSRFToken': getCsrfToken()\n                },\n                body: JSON.stringify({ confirmation_code: verificationCode })\n            })\n                .then(response => response.json())\n                .then(data => {\n                    if (data.success) {\n                        // Hide verification step and show confirmation step using is-hidden\n                        smsVerificationStep.classList.add('is-hidden');\n                        smsConfirmationStep.classList.remove('is-hidden');\n                    } else {\n                        Swal.fire({\n                            icon: 'error',\n                            title: 'Invalid Code',\n                            text: data.message,\n                        });\n                    }\n                });\n\n            // Show resend code button after a delay using is-hidden\n            setTimeout(function () {\n                resendCodeBtn.classList.remove('is-hidden');\n            }, 10000);\n        });\n    }\n\n    // Handle resend verification code button click\n    if (resendCodeBtn) {\n        resendCodeBtn.addEventListener('click', function () {\n            fetch('/account/resend-sms-confirmation', {\n                method: 'POST',\n                headers: {\n                    'X-CSRFToken': getCsrfToken()\n                }\n            })\n                .then(response => response.json())\n                .then(data => {\n                    Swal.fire({\n                        icon: 'info',\n                        title: 'Code Resent',\n                        text: data.message,\n                    });\n                });\n        });\n    }\n\n    // Handle SMS opt-out button click\n    if (smsOptOutBtn) {\n        smsOptOutBtn.addEventListener('click', function () {\n            Swal.fire({\n                title: 'Are you sure?',\n                text: 'You want to opt-out of SMS notifications?',\n                icon: 'warning',\n                showCancelButton: true,\n                confirmButtonText: 'Yes, opt-out!',\n                cancelButtonText: 'No, stay subscribed'\n            }).then((result) => {\n                if (result.isConfirmed) {\n                    fetch('/account/opt_out_sms', {\n                        method: 'POST',\n                        headers: {\n                            'X-CSRFToken': getCsrfToken()\n                        }\n                    })\n                        .then(response => response.json())\n                        .then(data => {\n                            if (data.success) {\n                                Swal.fire({\n                                    icon: 'success',\n                                    title: 'Opted Out',\n                                    text: data.message,\n                                }).then(() => {\n                                    location.reload();\n                                });\n                            } else {\n                                Swal.fire({\n                                    icon: 'error',\n                                    title: 'Error',\n                                    text: 'Failed to opt-out. Please try again.',\n                                });\n                            }\n                        });\n                }\n            });\n        });\n    }\n\n    function getCsrfToken() {\n        return document.querySelector('meta[name=\"csrf-token\"]').getAttribute('content');\n    }\n});\n","// Simple HTML5 Canvas Image Cropper for Modal Use\n// Works without external libraries and handles modal initialization properly\n\nclass SimpleCropper {\n    constructor(canvasId, options = {}) {\n        this.canvas = document.getElementById(canvasId);\n        this.ctx = this.canvas.getContext('2d');\n        this.image = null;\n        this.scale = 1;\n        this.offsetX = 0;\n        this.offsetY = 0;\n        this.isDragging = false;\n        this.lastX = 0;\n        this.lastY = 0;\n        \n        // Default options - use ECSTheme if available\n        const defaultBg = (typeof ECSTheme !== 'undefined') ? ECSTheme.getColor('light') : '#f8f9fa';\n        const defaultBorder = (typeof ECSTheme !== 'undefined') ? ECSTheme.getColor('primary') : '#0d6efd';\n        this.options = {\n            cropSize: 300,\n            backgroundColor: defaultBg,\n            borderColor: defaultBorder,\n            ...options\n        };\n        \n        this.init();\n    }\n    \n    init() {\n        // Set canvas size\n        this.canvas.width = this.options.cropSize;\n        this.canvas.height = this.options.cropSize;\n\n        // Apply cropper canvas styling via CSS classes\n        // JUSTIFICATION: Using CSS classes instead of inline styles for:\n        // - border: 2px solid [borderColor] -> .cropper-canvas class\n        // - borderRadius: 8px -> .cropper-canvas class\n        // - cursor: move -> .cropper-canvas class\n        // This provides consistent styling and theme support\n        this.canvas.classList.add('cropper-canvas');\n\n        // Add event listeners\n        this.canvas.addEventListener('mousedown', this.handleMouseDown.bind(this));\n        this.canvas.addEventListener('mousemove', this.handleMouseMove.bind(this));\n        this.canvas.addEventListener('mouseup', this.handleMouseUp.bind(this));\n        this.canvas.addEventListener('wheel', this.handleWheel.bind(this));\n        \n        // Touch events for mobile\n        this.canvas.addEventListener('touchstart', this.handleTouchStart.bind(this));\n        this.canvas.addEventListener('touchmove', this.handleTouchMove.bind(this));\n        this.canvas.addEventListener('touchend', this.handleTouchEnd.bind(this));\n        \n        this.drawBackground();\n    }\n    \n    drawBackground() {\n        this.ctx.fillStyle = this.options.backgroundColor;\n        this.ctx.fillRect(0, 0, this.canvas.width, this.canvas.height);\n        \n        // Draw placeholder text\n        this.ctx.fillStyle = '#666';\n        this.ctx.font = '16px Arial';\n        this.ctx.textAlign = 'center';\n        this.ctx.fillText('Upload an image to crop', this.canvas.width / 2, this.canvas.height / 2);\n    }\n    \n    loadImage(file) {\n        return new Promise((resolve, reject) => {\n            const reader = new FileReader();\n            reader.onload = (e) => {\n                const img = new Image();\n                img.onload = () => {\n                    this.image = img;\n                    this.resetTransform();\n                    this.draw();\n                    resolve();\n                };\n                img.onerror = reject;\n                img.src = e.target.result;\n            };\n            reader.onerror = reject;\n            reader.readAsDataURL(file);\n        });\n    }\n    \n    resetTransform() {\n        if (!this.image) return;\n        \n        // Scale to fit canvas while maintaining aspect ratio\n        const scaleX = this.canvas.width / this.image.width;\n        const scaleY = this.canvas.height / this.image.height;\n        this.scale = Math.max(scaleX, scaleY); // Scale to fill\n        \n        // Center the image\n        this.offsetX = (this.canvas.width - this.image.width * this.scale) / 2;\n        this.offsetY = (this.canvas.height - this.image.height * this.scale) / 2;\n    }\n    \n    draw() {\n        if (!this.image) {\n            this.drawBackground();\n            return;\n        }\n        \n        // Clear canvas\n        this.ctx.clearRect(0, 0, this.canvas.width, this.canvas.height);\n        \n        // Draw image\n        this.ctx.drawImage(\n            this.image,\n            this.offsetX, this.offsetY,\n            this.image.width * this.scale,\n            this.image.height * this.scale\n        );\n        \n        // Draw crop area overlay (optional)\n        this.drawCropOverlay();\n    }\n    \n    drawCropOverlay() {\n        // Draw semi-transparent overlay to show crop area\n        this.ctx.fillStyle = 'rgba(0, 0, 0, 0.3)';\n        this.ctx.fillRect(0, 0, this.canvas.width, this.canvas.height);\n        \n        // Clear the center crop area\n        this.ctx.globalCompositeOperation = 'destination-out';\n        this.ctx.beginPath();\n        this.ctx.arc(this.canvas.width / 2, this.canvas.height / 2, this.canvas.width / 2 - 10, 0, 2 * Math.PI);\n        this.ctx.fill();\n        this.ctx.globalCompositeOperation = 'source-over';\n        \n        // Draw border around crop area\n        this.ctx.strokeStyle = this.options.borderColor;\n        this.ctx.lineWidth = 2;\n        this.ctx.beginPath();\n        this.ctx.arc(this.canvas.width / 2, this.canvas.height / 2, this.canvas.width / 2 - 10, 0, 2 * Math.PI);\n        this.ctx.stroke();\n    }\n    \n    // Mouse event handlers\n    handleMouseDown(e) {\n        this.isDragging = true;\n        const rect = this.canvas.getBoundingClientRect();\n        this.lastX = e.clientX - rect.left;\n        this.lastY = e.clientY - rect.top;\n    }\n    \n    handleMouseMove(e) {\n        if (!this.isDragging || !this.image) return;\n        \n        const rect = this.canvas.getBoundingClientRect();\n        const currentX = e.clientX - rect.left;\n        const currentY = e.clientY - rect.top;\n        \n        this.offsetX += currentX - this.lastX;\n        this.offsetY += currentY - this.lastY;\n        \n        this.lastX = currentX;\n        this.lastY = currentY;\n        \n        this.draw();\n    }\n    \n    handleMouseUp() {\n        this.isDragging = false;\n    }\n    \n    handleWheel(e) {\n        e.preventDefault();\n        if (!this.image) return;\n        \n        const delta = e.deltaY > 0 ? 0.9 : 1.1;\n        const newScale = this.scale * delta;\n        \n        // Limit zoom\n        if (newScale < 0.1 || newScale > 5) return;\n        \n        const rect = this.canvas.getBoundingClientRect();\n        const mouseX = e.clientX - rect.left;\n        const mouseY = e.clientY - rect.top;\n        \n        // Zoom toward mouse position\n        this.offsetX = mouseX - (mouseX - this.offsetX) * (newScale / this.scale);\n        this.offsetY = mouseY - (mouseY - this.offsetY) * (newScale / this.scale);\n        this.scale = newScale;\n        \n        this.draw();\n    }\n    \n    // Touch event handlers\n    handleTouchStart(e) {\n        e.preventDefault();\n        if (e.touches.length === 1) {\n            const touch = e.touches[0];\n            const rect = this.canvas.getBoundingClientRect();\n            this.isDragging = true;\n            this.lastX = touch.clientX - rect.left;\n            this.lastY = touch.clientY - rect.top;\n        }\n    }\n    \n    handleTouchMove(e) {\n        e.preventDefault();\n        if (e.touches.length === 1 && this.isDragging && this.image) {\n            const touch = e.touches[0];\n            const rect = this.canvas.getBoundingClientRect();\n            const currentX = touch.clientX - rect.left;\n            const currentY = touch.clientY - rect.top;\n            \n            this.offsetX += currentX - this.lastX;\n            this.offsetY += currentY - this.lastY;\n            \n            this.lastX = currentX;\n            this.lastY = currentY;\n            \n            this.draw();\n        }\n    }\n    \n    handleTouchEnd(e) {\n        e.preventDefault();\n        this.isDragging = false;\n    }\n    \n    // Get the cropped image as a data URL\n    getCroppedImageData(format = 'image/jpeg', quality = 0.8) {\n        if (!this.image) return null;\n        \n        // Create a new canvas for the cropped image\n        const cropCanvas = document.createElement('canvas');\n        const cropCtx = cropCanvas.getContext('2d');\n        \n        // Set output size (square)\n        const outputSize = 300;\n        cropCanvas.width = outputSize;\n        cropCanvas.height = outputSize;\n        \n        // Calculate crop area (center circle)\n        const centerX = this.canvas.width / 2;\n        const centerY = this.canvas.height / 2;\n        const radius = this.canvas.width / 2 - 10;\n        \n        // Draw the cropped portion\n        cropCtx.drawImage(\n            this.canvas,\n            centerX - radius, centerY - radius, radius * 2, radius * 2,\n            0, 0, outputSize, outputSize\n        );\n        \n        return cropCanvas.toDataURL(format, quality);\n    }\n    \n    // Reset the cropper\n    reset() {\n        this.image = null;\n        this.scale = 1;\n        this.offsetX = 0;\n        this.offsetY = 0;\n        this.drawBackground();\n    }\n}\n\n// Global functions for easy use in the onboarding modal\nwindow.SimpleCropperInstance = null;\n\nwindow.initializeSimpleCropper = function(canvasId) {\n    window.SimpleCropperInstance = new SimpleCropper(canvasId);\n    return window.SimpleCropperInstance;\n};\n\nwindow.loadImageIntoCropper = function(fileInput) {\n    const file = fileInput.files[0];\n    if (!file || !window.SimpleCropperInstance) return;\n    \n    window.SimpleCropperInstance.loadImage(file).then(() => {\n        // Switch UI from upload to crop mode\n        switchToCropMode();\n    }).catch(error => {\n        console.error('Error loading image:', error);\n        if (window.Swal) {\n            Swal.fire({\n                icon: 'error',\n                title: 'Error',\n                text: 'Failed to load image. Please try again.'\n            });\n        }\n    });\n};\n\n// UI State Management Functions\nwindow.switchToCropMode = function() {\n    // Hide profile picture preview and upload instructions\n    const profilePreview = document.getElementById('profilePicturePreview');\n    const uploadInstructions = document.getElementById('uploadInstructions');\n    \n    if (profilePreview) profilePreview.classList.add('d-none');\n    if (uploadInstructions) uploadInstructions.classList.add('d-none');\n    \n    // Show cropper interface and controls\n    const cropperInterface = document.getElementById('cropperInterface');\n    const cropperControls = document.getElementById('cropperControls');\n    \n    if (cropperInterface) cropperInterface.classList.remove('d-none');\n    if (cropperControls) cropperControls.classList.remove('d-none');\n};\n\nwindow.resetImageSelection = function() {\n    // Reset the cropper\n    if (window.SimpleCropperInstance) {\n        window.SimpleCropperInstance.reset();\n    }\n    \n    // Clear file input\n    const fileInput = document.getElementById('image');\n    if (fileInput) {\n        fileInput.value = '';\n    }\n    \n    // Switch back to upload mode\n    switchToUploadMode();\n};\n\nwindow.switchToUploadMode = function() {\n    // Show profile picture preview and upload instructions\n    const profilePreview = document.getElementById('profilePicturePreview');\n    const uploadInstructions = document.getElementById('uploadInstructions');\n    \n    if (profilePreview) profilePreview.classList.remove('d-none');\n    if (uploadInstructions) uploadInstructions.classList.remove('d-none');\n    \n    // Hide cropper interface and controls\n    const cropperInterface = document.getElementById('cropperInterface');\n    const cropperControls = document.getElementById('cropperControls');\n    \n    if (cropperInterface) cropperInterface.classList.add('d-none');\n    if (cropperControls) cropperControls.classList.add('d-none');\n};\n\nwindow.getCroppedImage = function() {\n    if (!window.SimpleCropperInstance) return null;\n    return window.SimpleCropperInstance.getCroppedImageData();\n};\n\n// Function called from the onboarding modal\nwindow.cropAndSaveProfileImage = async function() {\n    const croppedData = window.getCroppedImage();\n    if (!croppedData) {\n        if (window.Swal) {\n            Swal.fire({\n                icon: 'warning',\n                title: 'No Image',\n                text: 'Please select and adjust an image first.'\n            });\n        }\n        return;\n    }\n    \n    // Show loading state\n    if (window.Swal) {\n        Swal.fire({\n            title: 'Saving Image...',\n            text: 'Optimizing and saving your profile picture',\n            allowOutsideClick: false,\n            allowEscapeKey: false,\n            showConfirmButton: false,\n            didOpen: () => {\n                Swal.showLoading();\n            }\n        });\n    }\n    \n    try {\n        // Store in hidden input for form submission\n        const hiddenInput = document.getElementById('cropped_image_data');\n        if (hiddenInput) {\n            hiddenInput.value = croppedData;\n        }\n        \n        // Get player ID for AJAX upload\n        const playerId = document.getElementById('playerId')?.value;\n        \n        if (playerId) {\n            // Immediately save via AJAX\n            const formData = new FormData();\n            formData.append('cropped_image_data', croppedData);\n            \n            // Add CSRF token\n            const csrfTokenInput = document.querySelector('input[name=\"csrf_token\"]');\n            if (csrfTokenInput) {\n                formData.append('csrf_token', csrfTokenInput.value);\n            }\n            \n            // Upload image to database\n            const uploadUrl = `/players/player/${playerId}/upload_profile_picture`;\n            \n            const response = await fetch(uploadUrl, {\n                method: 'POST',\n                headers: { 'X-Requested-With': 'XMLHttpRequest' },\n                body: formData\n            });\n            \n            if (!response.ok) {\n                throw new Error(`Upload failed: ${response.status}`);\n            }\n            \n            const result = await response.json();\n            console.log('Image uploaded successfully:', result);\n        }\n        \n        // Update profile picture preview\n        const profilePic = document.getElementById('currentProfilePicture');\n        if (profilePic) {\n            profilePic.src = croppedData;\n        }\n        \n        // Switch back to upload mode showing the updated profile picture\n        switchToUploadMode();\n        \n        // Show success message\n        if (window.Swal) {\n            Swal.fire({\n                icon: 'success',\n                title: 'Image Saved!',\n                text: 'Your profile picture has been optimized and saved to your profile.',\n                timer: 3000,\n                showConfirmButton: false\n            });\n        }\n        \n    } catch (error) {\n        console.error('Error saving image:', error);\n        \n        // Still update the preview and form data even if AJAX fails\n        const profilePic = document.getElementById('currentProfilePicture');\n        if (profilePic) {\n            profilePic.src = croppedData;\n        }\n        switchToUploadMode();\n        \n        // Show error but don't block the flow\n        if (window.Swal) {\n            Swal.fire({\n                icon: 'warning',\n                title: 'Image Prepared',\n                text: 'Image cropped successfully. It will be saved when you complete registration.',\n                timer: 3000,\n                showConfirmButton: false\n            });\n        }\n    }\n};\n","/**\n * Substitute Pool Management\n * JavaScript for managing substitute pools across leagues\n *\n * Dependencies: jQuery, Bootstrap 5, subPoolShowAlert function\n */\n\n// Global pagination state\nlet paginationState = {};\n\n// Notification function\nfunction subPoolShowAlert(type, message) {\n    // Try toastr first, fallback to SweetAlert2, then basic alert\n    if (typeof toastr !== 'undefined') {\n        toastr[type](message);\n    } else if (typeof Swal !== 'undefined') {\n        Swal.fire({\n            icon: type === 'success' ? 'success' : type === 'error' ? 'error' : 'info',\n            title: type.charAt(0).toUpperCase() + type.slice(1),\n            text: message,\n            timer: 3000,\n            showConfirmButton: false\n        });\n    } else {\n        alert(message);\n    }\n}\n\n// Global drag and drop functions - available immediately\nwindow.handleDragStart = function(event) {\n    const card = event.target.closest('.player-card, .player-list-item');\n    if (card) {\n        card.classList.add('dragging');\n\n        event.dataTransfer.setData('text/plain', JSON.stringify({\n            playerId: card.dataset.playerId,\n            league: card.dataset.league,\n            status: card.dataset.status\n        }));\n    }\n};\n\nwindow.handleDragEnd = function(event) {\n    const card = event.target.closest('.player-card, .player-list-item');\n    if (card) {\n        card.classList.remove('dragging');\n    }\n};\n\nwindow.handleDragOver = function(event) {\n    event.preventDefault();\n    event.currentTarget.classList.add('drag-over');\n};\n\nwindow.handleDragLeave = function(event) {\n    event.currentTarget.classList.remove('drag-over');\n};\n\nwindow.handleDrop = function(event) {\n    event.preventDefault();\n    const dropZone = event.currentTarget;\n    dropZone.classList.remove('drag-over');\n\n    const data = JSON.parse(event.dataTransfer.getData('text/plain'));\n    const targetStatus = dropZone.dataset.status;\n    const targetLeague = dropZone.dataset.league;\n\n    // Only allow drops within the same league\n    if (data.league !== targetLeague) {\n        subPoolShowAlert('error', 'Cannot move players between different leagues');\n        return;\n    }\n\n    // Don't allow dropping in the same zone\n    if (data.status === targetStatus) {\n        return;\n    }\n\n    // Handle the drop\n    if (targetStatus === 'active') {\n        approvePlayer(data.playerId, data.league);\n    } else if (targetStatus === 'pending') {\n        removePlayer(data.playerId, data.league);\n    }\n};\n\n// Initialize pagination state\nfunction initializePaginationState(poolsData) {\n    paginationState = {};\n    for (const leagueType in poolsData) {\n        paginationState[`${leagueType}-pending`] = { currentPage: 1, itemsPerPage: 8 };\n        paginationState[`${leagueType}-active`] = { currentPage: 1, itemsPerPage: 8 };\n    }\n}\n\n// Search functionality\nfunction initializeSearch() {\n    let searchTimeout;\n\n    $('#playerSearch').on('input', function() {\n        clearTimeout(searchTimeout);\n        const query = $(this).val().trim();\n\n        if (query.length < 2) {\n            $('#searchResults').hide();\n            return;\n        }\n\n        searchTimeout = setTimeout(function() {\n            performSearch(query);\n        }, 300);\n    });\n\n    $(document).on('click', function(e) {\n        if (!$(e.target).closest('.search-container').length) {\n            $('#searchResults').hide();\n        }\n    });\n}\n\nfunction performSearch(query) {\n    const leagueFilter = $('#searchLeagueFilter').val();\n\n    $.ajax({\n        url: '/api/substitute-pools/player-search',\n        method: 'GET',\n        data: {\n            q: query,\n            league_type: leagueFilter\n        },\n        success: function(response) {\n            if (response.success) {\n                displaySearchResults(response.players);\n            } else {\n                subPoolShowAlert('error', response.message);\n            }\n        },\n        error: function() {\n            subPoolShowAlert('error', 'Search failed. Please try again.');\n        }\n    });\n}\n\nfunction displaySearchResults(players) {\n    const resultsContainer = $('#searchResults');\n    resultsContainer.empty();\n\n    if (players.length === 0) {\n        resultsContainer.html('<div class=\"search-result-item\">No players found</div>');\n    } else {\n        players.forEach(function(player) {\n            const item = $(`\n                <div class=\"search-result-item\">\n                    <div class=\"d-flex justify-content-between align-items-center\">\n                        <div>\n                            <strong>${player.name}</strong>\n                            <br><small class=\"text-muted\">${player.email || 'No email'}</small>\n                        </div>\n                        <div class=\"text-end\">\n                            <small class=\"text-muted d-block\">Can add to:</small>\n                            <div>\n                                ${player.can_add_to.map(league => `\n                                    <button class=\"btn btn-sm btn-outline-primary ms-1\"\n                                            data-action=\"add-player-to-league\"\n                                            data-player-id=\"${player.id}\"\n                                            data-league=\"${league}\">\n                                        ${league}\n                                    </button>\n                                `).join('')}\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            `);\n            resultsContainer.append(item);\n        });\n    }\n\n    resultsContainer.show();\n}\n\n// Event handlers\n// NOTE: Event handlers have been migrated to the centralized EventDelegation system\n// See: /app/static/js/event-delegation.js\n// Actions registered: approve-pool-player, remove-pool-player, edit-pool-preferences,\n// view-pool-player-details, add-player-to-league, toggle-pool-view, filter-pool,\n// manage-league-pool, save-pool-preferences, pool-pagination\nfunction subPoolInitializeEventHandlers() {\n    // All jQuery delegation has been replaced with EventDelegation.register()\n    // See event-delegation.js for the centralized handlers\n\n    // The following event handlers are now handled by EventDelegation:\n    // - approve-pool-player: Approve pending player\n    // - remove-pool-player: Remove player from pool (with confirmation)\n    // - edit-pool-preferences: Open preferences modal\n    // - view-pool-player-details: Open player details modal\n    // - add-player-to-league: Add player from search results\n    // - toggle-pool-view: Switch between grid/list views\n    // - filter-pool: Filter players by search text (input event)\n    // - manage-league-pool: Open league management modal\n    // - save-pool-preferences: Save preferences form\n\n    // Legacy jQuery handlers kept for reference (commented out):\n    /*\n    // Approve player\n    $(document).on('click', '.approve-player', function() {\n        const playerId = $(this).data('player-id');\n        const league = $(this).data('league');\n        approvePlayer(playerId, league);\n    });\n\n    // Remove player\n    $(document).on('click', '.remove-player', function() {\n        const playerId = $(this).data('player-id');\n        const league = $(this).data('league');\n\n        if (confirm('Are you sure you want to remove this player from the substitute pool?')) {\n            removePlayer(playerId, league);\n        }\n    });\n\n    // Edit preferences\n    $(document).on('click', '.edit-preferences', function() {\n        const playerId = $(this).data('player-id');\n        const league = $(this).data('league');\n        openEditPreferencesModal(playerId, league);\n    });\n\n    // Player details\n    $(document).on('click', '.player-details-btn', function() {\n        const playerId = $(this).data('player-id');\n        openPlayerDetailsModal(playerId);\n    });\n\n    // Add to league from search\n    $(document).on('click', '.add-to-league', function() {\n        const playerId = $(this).data('player-id');\n        const league = $(this).data('league');\n        approvePlayer(playerId, league);\n    });\n\n    // Save preferences\n    $('#savePreferences').on('click', function() {\n        savePreferences();\n    });\n\n    // View toggle\n    $(document).on('click', '.view-toggle', function() {\n        const view = $(this).data('view');\n        const league = $(this).data('league');\n        const section = $(this).data('section');\n\n        // Update button states\n        $(this).siblings().removeClass('active');\n        $(this).addClass('active');\n\n        // Show/hide views\n        if (view === 'list') {\n            $(`#${section}-list-${league}`).show();\n            $(`#${section}-grid-${league}`).hide();\n        } else {\n            $(`#${section}-list-${league}`).hide();\n            $(`#${section}-grid-${league}`).show();\n        }\n    });\n\n    // Filter functionality\n    $(document).on('input', '.pool-filter', function() {\n        const filterText = $(this).val().toLowerCase();\n        const league = $(this).data('league');\n        const section = $(this).data('section');\n\n        filterPlayerCards(league, section, filterText);\n    });\n\n    // Manage league modal\n    $(document).on('click', '.manage-league-btn', function() {\n        const league = $(this).data('league');\n        openLeagueManagementModal(league);\n    });\n    */\n}\n\n// Player management functions\nfunction approvePlayer(playerId, league) {\n    $.ajax({\n        url: `/admin/substitute-pools/${league}/add-player`,\n        method: 'POST',\n        contentType: 'application/json',\n        data: JSON.stringify({\n            player_id: playerId,\n            sms_notifications: true,\n            discord_notifications: true,\n            email_notifications: true\n        }),\n        success: function(response) {\n            if (response.success) {\n                subPoolShowAlert('success', response.message);\n                setTimeout(() => location.reload(), 1500);\n            } else {\n                subPoolShowAlert('error', response.message);\n            }\n        },\n        error: function() {\n            subPoolShowAlert('error', 'Failed to add player to pool');\n        }\n    });\n}\n\nfunction removePlayer(playerId, league) {\n    // Confirmation is now handled by the EventDelegation system\n    // But we keep it here as a safety check for direct function calls\n    if (!confirm('Are you sure you want to remove this player from the substitute pool?')) {\n        return;\n    }\n\n    $.ajax({\n        url: `/admin/substitute-pools/${league}/remove-player`,\n        method: 'POST',\n        contentType: 'application/json',\n        data: JSON.stringify({\n            player_id: playerId\n        }),\n        success: function(response) {\n            if (response.success) {\n                subPoolShowAlert('success', response.message);\n                setTimeout(() => location.reload(), 1500);\n            } else {\n                subPoolShowAlert('error', response.message);\n            }\n        },\n        error: function() {\n            subPoolShowAlert('error', 'Failed to remove player from pool');\n        }\n    });\n}\n\n// Player details modal\nfunction openPlayerDetailsModal(playerId) {\n    const detailsLoading = document.getElementById('detailsLoading');\n    const detailsData = document.getElementById('detailsData');\n\n    // Show loading, hide data using CSS classes\n    detailsLoading.classList.remove('d-none');\n    detailsLoading.classList.add('d-block');\n    detailsData.classList.remove('d-block');\n    detailsData.classList.add('d-none');\n\n    ModalManager.show('playerDetailsModal');\n\n    fetch(`/players/api/player_profile/${playerId}`)\n        .then(response => response.json())\n        .then(data => {\n            displayPlayerDetails(data, playerId);\n        })\n        .catch(error => {\n            console.error('Error loading player profile:', error);\n            document.getElementById('detailsLoading').innerHTML = `\n                <div class=\"text-center py-4\">\n                    <i class=\"ti ti-alert-circle text-danger mb-2\" style=\"font-size: 2rem;\"></i>\n                    <p class=\"text-muted\">Failed to load player details</p>\n                    <button class=\"btn btn-sm btn-outline-primary\" data-action=\"view-pool-player-details\" data-player-id=\"${playerId}\">\n                        <i class=\"ti ti-refresh me-1\"></i>Retry\n                    </button>\n                </div>\n            `;\n        });\n}\n\nfunction displayPlayerDetails(data, playerId) {\n    const detailsLoading = document.getElementById('detailsLoading');\n    const detailsData = document.getElementById('detailsData');\n\n    // Hide loading, show data using CSS classes\n    detailsLoading.classList.remove('d-block');\n    detailsLoading.classList.add('d-none');\n    detailsData.classList.remove('d-none');\n    detailsData.classList.add('d-block');\n\n    if (data.success && data.profile) {\n        const profile = data.profile;\n        document.getElementById('detailsData').innerHTML = `\n            <div class=\"player-profile-header p-4 bg-primary text-white\">\n                <div class=\"row align-items-center\">\n                    <div class=\"col-auto\">\n                        <img src=\"${profile.profile_picture_url || '/static/img/default_player.png'}\"\n                             alt=\"${profile.name}\"\n                             class=\"rounded-circle\"\n                             style=\"width: 80px; height: 80px; object-fit: cover;\"\n                             onerror=\"this.src='/static/img/default_player.png';\">\n                    </div>\n                    <div class=\"col\">\n                        <h4 class=\"mb-1\">${profile.name}</h4>\n                        <p class=\"mb-1\"><i class=\"ti ti-mail me-2\"></i>${profile.email || 'No email'}</p>\n                        ${profile.phone ? `<p class=\"mb-0\"><i class=\"ti ti-phone me-2\"></i>${profile.phone}</p>` : ''}\n                    </div>\n                </div>\n            </div>\n            <div class=\"p-4\">\n                <div class=\"row\">\n                    <div class=\"col-md-6\">\n                        <h6 class=\"fw-bold mb-3\">Teams</h6>\n                        ${profile.teams && profile.teams.length > 0 ?\n                            profile.teams.map(team => `<span class=\"badge bg-primary me-1 mb-1\">${team.name}</span>`).join('') :\n                            '<span class=\"text-muted\">No teams assigned</span>'\n                        }\n                    </div>\n                    <div class=\"col-md-6\">\n                        <h6 class=\"fw-bold mb-3\">Roles</h6>\n                        ${profile.roles && profile.roles.length > 0 ?\n                            profile.roles.map(role => `<span class=\"badge bg-secondary me-1 mb-1\">${role}</span>`).join('') :\n                            '<span class=\"text-muted\">No roles assigned</span>'\n                        }\n                    </div>\n                </div>\n            </div>\n        `;\n    } else {\n        document.getElementById('detailsData').innerHTML = `\n            <div class=\"text-center py-4\">\n                <i class=\"ti ti-user-off text-muted mb-2\" style=\"font-size: 2rem;\"></i>\n                <p class=\"text-muted\">Player details not available</p>\n            </div>\n        `;\n    }\n}\n\n// Filter functionality\nfunction filterPlayerCards(league, section, filterText) {\n    const cards = $(`.player-card[data-league=\"${league}\"][data-status=\"${section}\"], .player-list-item[data-league=\"${league}\"][data-status=\"${section}\"]`);\n\n    cards.each(function() {\n        const searchText = $(this).data('search-text') || '';\n        if (searchText.includes(filterText)) {\n            $(this).show();\n        } else {\n            $(this).hide();\n        }\n    });\n}\n\n// Pagination functions\nfunction updatePagination(league, section) {\n    const key = `${league}-${section}`;\n    const state = paginationState[key];\n    const itemsPerPage = state.itemsPerPage;\n    const currentPage = state.currentPage;\n\n    // Hide all items first\n    $(`.player-card[data-league=\"${league}\"][data-status=\"${section}\"], .player-list-item[data-league=\"${league}\"][data-status=\"${section}\"]`).hide();\n\n    // Calculate which items to show\n    const startIndex = (currentPage - 1) * itemsPerPage;\n    const endIndex = startIndex + itemsPerPage;\n\n    // Show items for current page\n    $(`.player-card[data-league=\"${league}\"][data-status=\"${section}\"], .player-list-item[data-league=\"${league}\"][data-status=\"${section}\"]`)\n        .slice(startIndex, endIndex).show();\n\n    // Update pagination info\n    const totalItems = $(`.player-card[data-league=\"${league}\"][data-status=\"${section}\"], .player-list-item[data-league=\"${league}\"][data-status=\"${section}\"]`).length;\n    const totalPages = Math.ceil(totalItems / itemsPerPage);\n\n    $(`#${section}-start-${league}`).text(startIndex + 1);\n    $(`#${section}-end-${league}`).text(Math.min(endIndex, totalItems));\n    $(`#${section}-total-${league}`).text(totalItems);\n\n    generatePaginationControls(league, section, currentPage, totalPages);\n}\n\nfunction generatePaginationControls(league, section, currentPage, totalPages) {\n    const paginationContainer = $(`#${section}-pagination-${league}`);\n\n    if (!paginationContainer.length || totalPages <= 1) {\n        paginationContainer.empty();\n        return;\n    }\n\n    let paginationHtml = '';\n\n    // Previous button\n    paginationHtml += `\n        <li class=\"page-item ${currentPage === 1 ? 'disabled' : ''}\">\n            <a class=\"page-link\" href=\"#\" data-action=\"pool-pagination\" data-page=\"${currentPage - 1}\" data-league=\"${league}\" data-section=\"${section}\">\n                <i class=\"ti ti-chevron-left\"></i>\n            </a>\n        </li>\n    `;\n\n    // Page numbers\n    const startPage = Math.max(1, currentPage - 2);\n    const endPage = Math.min(totalPages, currentPage + 2);\n\n    if (startPage > 1) {\n        paginationHtml += `\n            <li class=\"page-item\">\n                <a class=\"page-link\" href=\"#\" data-action=\"pool-pagination\" data-page=\"1\" data-league=\"${league}\" data-section=\"${section}\">1</a>\n            </li>\n        `;\n        if (startPage > 2) {\n            paginationHtml += '<li class=\"page-item disabled\"><span class=\"page-link\">...</span></li>';\n        }\n    }\n\n    for (let i = startPage; i <= endPage; i++) {\n        paginationHtml += `\n            <li class=\"page-item ${i === currentPage ? 'active' : ''}\">\n                <a class=\"page-link\" href=\"#\" data-action=\"pool-pagination\" data-page=\"${i}\" data-league=\"${league}\" data-section=\"${section}\">${i}</a>\n            </li>\n        `;\n    }\n\n    if (endPage < totalPages) {\n        if (endPage < totalPages - 1) {\n            paginationHtml += '<li class=\"page-item disabled\"><span class=\"page-link\">...</span></li>';\n        }\n        paginationHtml += `\n            <li class=\"page-item\">\n                <a class=\"page-link\" href=\"#\" data-action=\"pool-pagination\" data-page=\"${totalPages}\" data-league=\"${league}\" data-section=\"${section}\">${totalPages}</a>\n            </li>\n        `;\n    }\n\n    // Next button\n    paginationHtml += `\n        <li class=\"page-item ${currentPage === totalPages ? 'disabled' : ''}\">\n            <a class=\"page-link\" href=\"#\" data-action=\"pool-pagination\" data-page=\"${currentPage + 1}\" data-league=\"${league}\" data-section=\"${section}\">\n                <i class=\"ti ti-chevron-right\"></i>\n            </a>\n        </li>\n    `;\n\n    paginationContainer.html(paginationHtml);\n}\n\n// Pagination click handler\n// NOTE: Pagination is now handled by the centralized EventDelegation system\n// See event-delegation.js - action: pool-pagination\n// Legacy jQuery handler kept for reference (commented out):\n/*\n$(document).on('click', '.pagination .page-link', function(e) {\n    e.preventDefault();\n\n    const page = parseInt($(this).data('page'));\n    const league = $(this).data('league');\n    const section = $(this).data('section');\n    const key = `${league}-${section}`;\n\n    if (page && paginationState[key] && page !== paginationState[key].currentPage) {\n        paginationState[key].currentPage = page;\n        updatePagination(league, section);\n    }\n});\n*/\n\n// Initialize everything when document is ready\n$(document).ready(function() {\n    initializeSearch();\n    subPoolInitializeEventHandlers();\n});\n","/**\n * Substitute Request Management\n * JavaScript for managing substitute requests and notifications\n *\n * Dependencies: jQuery, Bootstrap 5, toastr or showAlert function\n *\n * Refactoring Notes:\n * - Replaced all inline style manipulations with CSS utility classes\n * - Icon sizing now uses .icon-lg class from utilities/sizing-utils.css\n * - All empty state icons use consistent sizing via utility classes\n * - 100% reduction in inline style usage (4 instances removed, 0 remaining)\n */\n\n// Utility functions\nfunction getTimeSince(dateString) {\n    const now = new Date();\n    const past = new Date(dateString);\n    const diffMs = now - past;\n    const diffMins = Math.floor(diffMs / 60000);\n    const diffHours = Math.floor(diffMs / 3600000);\n    const diffDays = Math.floor(diffMs / 86400000);\n    \n    if (diffMins < 1) return 'Just now';\n    if (diffMins < 60) return `${diffMins}m ago`;\n    if (diffHours < 24) return `${diffHours}h ago`;\n    return `${diffDays}d ago`;\n}\n\nfunction formatDateTime(dateString) {\n    const date = new Date(dateString);\n    return date.toLocaleDateString() + ' ' + date.toLocaleTimeString([], {hour: '2-digit', minute:'2-digit'});\n}\n\nfunction subRequestShowNotification(type, message) {\n    // Try toastr first, fallback to showAlert\n    if (typeof toastr !== 'undefined') {\n        toastr[type](message);\n    } else if (typeof showAlert !== 'undefined') {\n        showAlert(type, message);\n    } else {\n        alert(message);\n    }\n}\n\n// League Management Modal Functions\nfunction openLeagueManagementModal(league) {\n    // Set modal title and icon based on league\n    // League colors - use ECSTheme if available, fallback to distinct semantic colors\n    const infoColor = (typeof ECSTheme !== 'undefined') ? ECSTheme.getColor('info') : '#0dcaf0';\n    const successColor = (typeof ECSTheme !== 'undefined') ? ECSTheme.getColor('success') : '#198754';\n    const dangerColor = (typeof ECSTheme !== 'undefined') ? ECSTheme.getColor('danger') : '#dc3545';\n    const leagueConfigs = {\n        'ECS FC': { name: 'ECS FC', icon: 'fas fa-futbol', color: infoColor },\n        'Classic': { name: 'Classic Division', icon: 'fas fa-trophy', color: successColor },\n        'Premier': { name: 'Premier Division', icon: 'fas fa-crown', color: dangerColor }\n    };\n    \n    const config = leagueConfigs[league] || leagueConfigs['ECS FC'];\n    \n    $('#leagueIcon').attr('class', config.icon + ' me-2');\n    $('#leagueTitle').text(config.name);\n    \n    // Load league statistics\n    loadLeagueStatistics(league);\n    \n    // Store current league for modal actions\n    $('#leagueManagementModal').data('current-league', league);\n}\n\nfunction loadLeagueStatistics(league) {\n    // Get stats from the main page\n    const activeCount = $(`#active-count-${league}`).text() || '0';\n    const pendingCount = $(`#pending-count-${league}`).text() || '0';\n    \n    $('#modalTotalActive').text(activeCount);\n    $('#modalPendingApproval').text(pendingCount);\n    \n    // Load additional statistics via AJAX\n    $.ajax({\n        url: `/admin/substitute-pools/${league}/statistics`,\n        method: 'GET',\n        success: function(response) {\n            if (response.success) {\n                const stats = response.statistics;\n                $('#modalTotalRequests').text(stats.total_requests_sent || 0);\n                $('#modalMatchesPlayed').text(stats.total_matches_played || 0);\n            }\n        },\n        error: function() {\n            console.warn('Could not load detailed statistics');\n        }\n    });\n    \n    // Load recent activity\n    loadRecentActivity(league);\n    \n    // Load substitute requests\n    loadSubstituteRequests(league);\n}\n\nfunction loadRecentActivity(league) {\n    // Show loading spinner\n    $('#recentActivityTable').html(`\n        <tr>\n            <td colspan=\"4\" class=\"text-center\">\n                <div class=\"spinner-border spinner-border-sm text-primary\" role=\"status\">\n                    <span class=\"visually-hidden\">Loading...</span>\n                </div>\n                <span class=\"ms-2\">Loading activity...</span>\n            </td>\n        </tr>\n    `);\n    \n    $.ajax({\n        url: `/admin/substitute-pools/${league}/history`,\n        method: 'GET',\n        timeout: 10000,\n        success: function(response) {\n            console.log('Recent activity response:', response);\n            if (response.success && response.history) {\n                console.log('History length:', response.history.length);\n                displayRecentActivity(response.history.slice(0, 10));\n            } else {\n                console.log('No history in response or response not successful');\n                displayRecentActivity([]);\n            }\n        },\n        error: function(xhr, status, error) {\n            console.error('Error loading activity:', error, xhr.responseText);\n            let errorMessage = 'Unable to load activity history';\n            \n            if (status === 'timeout') {\n                errorMessage = 'Request timed out - server may be slow';\n            } else if (xhr.status === 404) {\n                errorMessage = 'History endpoint not found';\n            } else if (xhr.status === 403) {\n                errorMessage = 'Access denied - insufficient permissions';\n            } else if (xhr.status === 500) {\n                errorMessage = 'Server error loading history';\n            }\n            \n            $('#recentActivityTable').html(`\n                <tr>\n                    <td colspan=\"4\" class=\"text-center\">\n                        <i class=\"ti ti-alert-circle text-warning me-2\"></i>\n                        <span class=\"text-muted\">${errorMessage}</span>\n                        <br>\n                        <small class=\"text-muted\">Status: ${xhr.status} - ${error}</small>\n                        <br>\n                        <button class=\"js-retry-activity mt-2\" data-action=\"retry-activity\" onclick=\"loadRecentActivity('${league}')\">\n                            <i class=\"ti ti-refresh me-1\"></i>Retry\n                        </button>\n                    </td>\n                </tr>\n            `);\n        }\n    });\n}\n\nfunction displayRecentActivity(activities) {\n    const tbody = $('#recentActivityTable');\n    tbody.empty();\n    \n    if (!activities || activities.length === 0) {\n        tbody.html(`\n            <tr>\n                <td colspan=\"4\" class=\"text-center py-4\">\n                    <i class=\"ti ti-clock-off text-muted mb-2 d-block icon-lg\"></i>\n                    <span class=\"text-muted\">No recent activity for this pool</span>\n                    <br>\n                    <small class=\"text-muted\">Activities will appear here when players are added or removed</small>\n                </td>\n            </tr>\n        `);\n        return;\n    }\n    \n    activities.forEach(activity => {\n        // Format the action badge color based on action type\n        let badgeClass = 'bg-secondary';\n        if (activity.action === 'ADDED' || activity.action === 'APPROVED') badgeClass = 'bg-success';\n        if (activity.action === 'REMOVED') badgeClass = 'bg-danger';\n        if (activity.action === 'UPDATED') badgeClass = 'bg-info';\n        \n        const row = `\n            <tr>\n                <td><small>${formatDateTime(activity.performed_at)}</small></td>\n                <td><span data-component=\"action-badge\" class=\"${badgeClass}\">${activity.action}</span></td>\n                <td>${activity.player_name || 'Unknown'}</td>\n                <td>${activity.performer_name || 'System'}</td>\n            </tr>\n        `;\n        tbody.append(row);\n    });\n}\n\n// Substitute Request Management Functions\nfunction loadSubstituteRequests(league) {\n    $('#substituteRequestsTable').html(`\n        <tr>\n            <td colspan=\"5\" class=\"text-center\">\n                <div class=\"spinner-border spinner-border-sm text-primary\" role=\"status\">\n                    <span class=\"visually-hidden\">Loading...</span>\n                </div>\n                <span class=\"ms-2\">Loading substitute requests...</span>\n            </td>\n        </tr>\n    `);\n    \n    $.ajax({\n        url: `/admin/substitute-pools/${league}/requests`,\n        method: 'GET',\n        timeout: 10000,\n        success: function(response) {\n            console.log('Substitute requests response:', response);\n            if (response.success && response.requests) {\n                displaySubstituteRequests(response.requests);\n            } else {\n                displaySubstituteRequests([]);\n            }\n        },\n        error: function(xhr, status, error) {\n            console.error('Error loading substitute requests:', error);\n            $('#substituteRequestsTable').html(`\n                <tr>\n                    <td colspan=\"5\" class=\"text-center\">\n                        <i class=\"ti ti-alert-circle text-warning me-2\"></i>\n                        <span class=\"text-muted\">Unable to load substitute requests</span>\n                        <br>\n                        <button class=\"js-retry-requests mt-2\" data-action=\"retry-requests\" onclick=\"loadSubstituteRequests('${league}')\">\n                            <i class=\"ti ti-refresh me-1\"></i>Retry\n                        </button>\n                    </td>\n                </tr>\n            `);\n        }\n    });\n}\n\nfunction displaySubstituteRequests(requests) {\n    const tbody = $('#substituteRequestsTable');\n    tbody.empty();\n    \n    if (!requests || requests.length === 0) {\n        tbody.html(`\n            <tr>\n                <td colspan=\"5\" class=\"text-center py-4\">\n                    <i class=\"ti ti-message-off text-muted mb-2 d-block icon-lg\"></i>\n                    <span class=\"text-muted\">No recent substitute requests</span>\n                    <br>\n                    <small class=\"text-muted\">Substitute requests will appear here when teams request subs</small>\n                </td>\n            </tr>\n        `);\n        return;\n    }\n    \n    requests.forEach(request => {\n        let statusBadge = 'bg-secondary';\n        let statusText = request.status;\n        \n        // Show assignment progress instead of just status\n        if (request.status === 'OPEN' || request.status === 'FILLED') {\n            const assignedCount = request.assigned_count || 0;\n            const substitutesNeeded = request.substitutes_needed || 1;\n            const assignmentsRemaining = request.assignments_remaining || substitutesNeeded;\n            \n            if (assignedCount === 0) {\n                statusBadge = 'bg-warning';\n                statusText = `0 of ${substitutesNeeded} assigned`;\n            } else if (assignedCount < substitutesNeeded) {\n                statusBadge = 'bg-info';\n                statusText = `${assignedCount} of ${substitutesNeeded} assigned`;\n            } else {\n                statusBadge = 'bg-success';\n                statusText = `${assignedCount} of ${substitutesNeeded} assigned`;\n            }\n        } else if (request.status === 'CANCELLED') {\n            statusBadge = 'bg-danger';\n            statusText = 'Cancelled';\n        }\n        \n        const timeSinceCreated = getTimeSince(request.created_at);\n        const canResend = request.status === 'OPEN';\n        const canCancel = request.status === 'OPEN';\n        const canDelete = request.status === 'CANCELLED';\n        \n        const row = `\n            <tr>\n                <td>\n                    <small>${formatDateTime(request.created_at)}</small>\n                    <br>\n                    <small class=\"text-muted\">${timeSinceCreated}</small>\n                </td>\n                <td>\n                    <strong>${request.team_name || 'Unknown Team'}</strong>\n                    ${request.positions_needed ? `<br><small class=\"text-muted\">${request.positions_needed}</small>` : ''}\n                </td>\n                <td>\n                    <span data-component=\"status-badge\" class=\"${statusBadge}\">${statusText}</span>\n                </td>\n                <td>\n                    <span class=\"fw-bold\">${request.response_rate}</span>\n                    ${request.available_responses > 0 ?\n                        `<br><small class=\"text-success\">${request.available_responses} available</small>` :\n                        '<br><small class=\"text-muted\">No responses</small>'\n                    }\n                </td>\n                <td>\n                    <div data-component=\"action-buttons\">\n                        ${canResend ? `\n                            <button data-action=\"resend-request\" \n                                    data-request-id=\"${request.id}\" \n                                    data-league=\"${request.league_type}\"\n                                    data-team=\"${request.team_name}\"\n                                    data-created=\"${request.created_at}\"\n                                    title=\"Resend notifications\">\n                                <i class=\"ti ti-send\"></i>\n                            </button>\n                        ` : ''}\n                        ${canCancel ? `\n                            <button data-action=\"cancel-request\" \n                                    data-request-id=\"${request.id}\" \n                                    data-league=\"${request.league_type}\"\n                                    data-team=\"${request.team_name}\"\n                                    title=\"Cancel request\">\n                                <i class=\"ti ti-x\"></i>\n                            </button>\n                        ` : ''}\n                        ${canDelete ? `\n                            <button data-action=\"delete-request\"\n                                    data-request-id=\"${request.id}\"\n                                    data-league=\"${request.league_type}\"\n                                    data-team=\"${request.team_name}\"\n                                    title=\"Delete cancelled request\">\n                                <i class=\"ti ti-trash\"></i>\n                            </button>\n                        ` : ''}\n                        <button data-action=\"view-request-details\" \n                                data-request-id=\"${request.id}\" \n                                title=\"View details\">\n                            <i class=\"ti ti-eye\"></i>\n                        </button>\n                    </div>\n                </td>\n            </tr>\n        `;\n        tbody.append(row);\n    });\n}\n\nfunction resendSubstituteRequest(requestId, league, teamName, createdAt) {\n    // Check how long ago it was sent\n    const now = new Date();\n    const created = new Date(createdAt);\n    const diffMins = Math.floor((now - created) / 60000);\n    \n    // Show warning if sent recently\n    if (diffMins < 30) {\n        const confirmMessage = `This substitute request for ${teamName} was sent only ${diffMins} minutes ago. Are you sure you want to send notifications again?`;\n        \n        // Use SweetAlert2 if available, fallback to confirm\n        if (typeof Swal !== 'undefined') {\n            Swal.fire({\n                title: 'Resend Confirmation',\n                text: confirmMessage,\n                icon: 'warning',\n                showCancelButton: true,\n                confirmButtonColor: (typeof ECSTheme !== 'undefined') ? ECSTheme.getColor('primary') : '#0d6efd',\n                cancelButtonColor: (typeof ECSTheme !== 'undefined') ? ECSTheme.getColor('danger') : '#dc3545',\n                confirmButtonText: 'Yes, resend it!'\n            }).then((result) => {\n                if (result.isConfirmed) {\n                    performResendRequest(requestId, league);\n                }\n            });\n            return;\n        } else if (!confirm(confirmMessage)) {\n            return;\n        }\n    }\n\n    performResendRequest(requestId, league);\n}\n\nfunction performResendRequest(requestId, league) {\n    const btn = $(`[data-action=\"resend-request\"][data-request-id=\"${requestId}\"]`);\n    const originalText = btn.html();\n    \n    btn.prop('disabled', true);\n    btn.html('<i class=\"ti ti-loader spinner-border spinner-border-sm\"></i>');\n    \n    $.ajax({\n        url: `/admin/substitute-pools/${league}/requests/${requestId}/resend`,\n        method: 'POST',\n        success: function(response) {\n            if (response.success) {\n                subRequestShowNotification('success', response.message);\n                loadSubstituteRequests(league); // Refresh the table\n            } else {\n                subRequestShowNotification('error', response.message);\n            }\n        },\n        error: function(xhr) {\n            const errorResponse = xhr.responseJSON;\n            if (errorResponse && errorResponse.requires_confirmation) {\n                const confirmMessage = `${errorResponse.message} Send anyway?`;\n                if (typeof Swal !== 'undefined') {\n                    Swal.fire({\n                        title: 'Force Resend?',\n                        text: confirmMessage,\n                        icon: 'question',\n                        showCancelButton: true,\n                        confirmButtonColor: (typeof ECSTheme !== 'undefined') ? ECSTheme.getColor('primary') : '#0d6efd',\n                        cancelButtonColor: (typeof ECSTheme !== 'undefined') ? ECSTheme.getColor('danger') : '#dc3545',\n                        confirmButtonText: 'Yes, send anyway!'\n                    }).then((result) => {\n                        if (result.isConfirmed) {\n                            resendSubstituteRequestForce(requestId, league);\n                        }\n                    });\n                } else if (confirm(confirmMessage)) {\n                    // Force resend\n                    resendSubstituteRequestForce(requestId, league);\n                }\n            } else {\n                subRequestShowNotification('error', 'Failed to resend substitute request');\n            }\n        },\n        complete: function() {\n            btn.prop('disabled', false);\n            btn.html(originalText);\n        }\n    });\n}\n\nfunction cancelSubstituteRequest(requestId, league, teamName) {\n    if (!confirm(`Are you sure you want to cancel the substitute request for ${teamName}?`)) {\n        return;\n    }\n\n    const btn = $(`[data-action=\"cancel-request\"][data-request-id=\"${requestId}\"]`);\n    const originalText = btn.html();\n    \n    btn.prop('disabled', true);\n    btn.html('<i class=\"ti ti-loader spinner-border spinner-border-sm\"></i>');\n    \n    $.ajax({\n        url: `/admin/substitute-pools/${league}/requests/${requestId}/cancel`,\n        method: 'POST',\n        success: function(response) {\n            if (response.success) {\n                subRequestShowNotification('success', response.message);\n                loadSubstituteRequests(league); // Refresh the table\n            } else {\n                subRequestShowNotification('error', response.message);\n            }\n        },\n        error: function() {\n            subRequestShowNotification('error', 'Failed to cancel substitute request');\n        },\n        complete: function() {\n            btn.prop('disabled', false);\n            btn.html(originalText);\n        }\n    });\n}\n\n// Match-specific substitute request functions\nfunction loadMatchSubstituteRequests(matchId) {\n    if (!matchId) {\n        console.warn('No match ID provided for loading substitute requests');\n        return;\n    }\n    \n    $('#matchSubstituteRequestsTable').html(`\n        <tr>\n            <td colspan=\"5\" class=\"text-center\">\n                <div class=\"spinner-border spinner-border-sm text-primary\" role=\"status\">\n                    <span class=\"visually-hidden\">Loading...</span>\n                </div>\n                <span class=\"ms-2\">Loading substitute requests...</span>\n            </td>\n        </tr>\n    `);\n    \n    $.ajax({\n        url: `/admin/substitute-pools/match/${matchId}/requests`,\n        method: 'GET',\n        timeout: 10000,\n        success: function(response) {\n            console.log('Match substitute requests response:', response);\n            if (response.success && response.requests) {\n                displayMatchSubstituteRequests(response.requests);\n            } else {\n                displayMatchSubstituteRequests([]);\n            }\n        },\n        error: function(xhr, status, error) {\n            console.error('Error loading match substitute requests:', error);\n            $('#matchSubstituteRequestsTable').html(`\n                <tr>\n                    <td colspan=\"5\" class=\"text-center\">\n                        <i class=\"ti ti-alert-circle text-warning me-2\"></i>\n                        <span class=\"text-muted\">Unable to load substitute requests</span>\n                        <br>\n                        <button class=\"js-retry-match-requests mt-2\" data-action=\"retry-match-requests\" data-match-id=\"${matchId}\" onclick=\"loadMatchSubstituteRequests(this.dataset.matchId)\">\n                            <i class=\"ti ti-refresh me-1\"></i>Retry\n                        </button>\n                    </td>\n                </tr>\n            `);\n        }\n    });\n}\n\nfunction displayMatchSubstituteRequests(requests) {\n    const tbody = $('#matchSubstituteRequestsTable');\n    tbody.empty();\n    \n    if (!requests || requests.length === 0) {\n        tbody.html(`\n            <tr>\n                <td colspan=\"5\" class=\"text-center py-4\">\n                    <i class=\"ti ti-message-off text-muted mb-2 d-block icon-lg\"></i>\n                    <span class=\"text-muted\">No substitute requests for this match</span>\n                    <br>\n                    <small class=\"text-muted\">Create a new request to notify substitutes</small>\n                </td>\n            </tr>\n        `);\n        return;\n    }\n    \n    requests.forEach(request => {\n        let statusBadge = 'bg-secondary';\n        let statusText = request.status;\n        \n        // Show assignment progress instead of just status\n        if (request.status === 'OPEN' || request.status === 'FILLED') {\n            const assignedCount = request.assigned_count || 0;\n            const substitutesNeeded = request.substitutes_needed || 1;\n            const assignmentsRemaining = request.assignments_remaining || substitutesNeeded;\n            \n            if (assignedCount === 0) {\n                statusBadge = 'bg-warning';\n                statusText = `0 of ${substitutesNeeded} assigned`;\n            } else if (assignedCount < substitutesNeeded) {\n                statusBadge = 'bg-info';\n                statusText = `${assignedCount} of ${substitutesNeeded} assigned`;\n            } else {\n                statusBadge = 'bg-success';\n                statusText = `${assignedCount} of ${substitutesNeeded} assigned`;\n            }\n        } else if (request.status === 'CANCELLED') {\n            statusBadge = 'bg-danger';\n            statusText = 'Cancelled';\n        }\n        \n        const timeSinceCreated = getTimeSince(request.created_at);\n        const canResend = request.status === 'OPEN';\n        const canCancel = request.status === 'OPEN';\n        const canDelete = request.status === 'CANCELLED';\n        \n        const row = `\n            <tr>\n                <td>\n                    <small>${formatDateTime(request.created_at)}</small>\n                    <br>\n                    <small class=\"text-muted\">${timeSinceCreated}</small>\n                </td>\n                <td>\n                    <strong>${request.team_name || 'Unknown Team'}</strong>\n                    ${request.positions_needed ? `<br><small class=\"text-muted\">${request.positions_needed}</small>` : ''}\n                </td>\n                <td>\n                    <span data-component=\"status-badge\" class=\"${statusBadge}\">${statusText}</span>\n                </td>\n                <td>\n                    <span class=\"fw-bold\">${request.response_rate}</span>\n                    ${request.available_responses > 0 ?\n                        `<br><small class=\"text-success\">${request.available_responses} available</small>` :\n                        '<br><small class=\"text-muted\">No responses</small>'\n                    }\n                </td>\n                <td>\n                    <div data-component=\"action-buttons\">\n                        ${canResend ? `\n                            <button data-action=\"resend-match-request\" \n                                    data-request-id=\"${request.id}\" \n                                    data-league=\"${request.league_type}\"\n                                    data-team=\"${request.team_name}\"\n                                    data-created=\"${request.created_at}\"\n                                    title=\"Resend notifications\">\n                                <i class=\"ti ti-send\"></i>\n                            </button>\n                        ` : ''}\n                        ${canCancel ? `\n                            <button data-action=\"cancel-match-request\" \n                                    data-request-id=\"${request.id}\" \n                                    data-league=\"${request.league_type}\"\n                                    data-team=\"${request.team_name}\"\n                                    title=\"Cancel request\">\n                                <i class=\"ti ti-x\"></i>\n                            </button>\n                        ` : ''}\n                        ${canDelete ? `\n                            <button data-action=\"delete-request\"\n                                    data-request-id=\"${request.id}\"\n                                    data-league=\"${request.league_type}\"\n                                    data-team=\"${request.team_name}\"\n                                    title=\"Delete cancelled request\">\n                                <i class=\"ti ti-trash\"></i>\n                            </button>\n                        ` : ''}\n                        <button data-action=\"view-match-request-details\" \n                                data-request-id=\"${request.id}\" \n                                title=\"View details\">\n                            <i class=\"ti ti-eye\"></i>\n                        </button>\n                    </div>\n                </td>\n            </tr>\n        `;\n        tbody.append(row);\n    });\n}\n\n// Event handlers for substitute requests\n$(document).on('click', '[data-action=\"resend-request\"]', function() {\n    const requestId = $(this).data('request-id');\n    const league = $(this).data('league');\n    const teamName = $(this).data('team');\n    const createdAt = $(this).data('created');\n    resendSubstituteRequest(requestId, league, teamName, createdAt);\n});\n\n$(document).on('click', '[data-action=\"cancel-request\"]', function() {\n    const requestId = $(this).data('request-id');\n    const league = $(this).data('league');\n    const teamName = $(this).data('team');\n    cancelSubstituteRequest(requestId, league, teamName);\n});\n\n$(document).on('click', '[data-action=\"refresh-requests\"]', function() {\n    const league = $('#leagueManagementModal').data('current-league');\n    if (league) {\n        loadSubstituteRequests(league);\n    }\n});\n\n$(document).on('click', '[data-action=\"view-request-details\"]', function() {\n    const requestId = $(this).data('request-id');\n    const league = $('#leagueManagementModal').data('current-league');\n    viewRequestDetails(requestId, league);\n});\n\n// Event handlers for match-specific requests\n$(document).on('click', '[data-action=\"resend-match-request\"]', function() {\n    const requestId = $(this).data('request-id');\n    const league = $(this).data('league');\n    const teamName = $(this).data('team');\n    const createdAt = $(this).data('created');\n    resendMatchSubstituteRequest(requestId, league, teamName, createdAt);\n});\n\n$(document).on('click', '[data-action=\"cancel-match-request\"]', function() {\n    const requestId = $(this).data('request-id');\n    const league = $(this).data('league');\n    const teamName = $(this).data('team');\n    cancelMatchSubstituteRequest(requestId, league, teamName);\n});\n\n$(document).on('click', '[data-action=\"delete-request\"]', function() {\n    const requestId = $(this).data('request-id');\n    const league = $(this).data('league');\n    const teamName = $(this).data('team');\n    deleteSubstituteRequest(requestId, league, teamName);\n});\n\n$(document).on('click', '[data-action=\"refresh-match-requests\"]', function() {\n    if (typeof matchId !== 'undefined') {\n        loadMatchSubstituteRequests(matchId);\n    }\n});\n\n$(document).on('click', '[data-action=\"view-match-request-details\"]', function() {\n    const requestId = $(this).data('request-id');\n    // Determine league type from the current page context\n    const league = 'ECS FC'; // Default for match pages, could be made dynamic\n    viewRequestDetails(requestId, league);\n});\n\nfunction resendMatchSubstituteRequest(requestId, league, teamName, createdAt) {\n    // Check how long ago it was sent\n    const now = new Date();\n    const created = new Date(createdAt);\n    const diffMins = Math.floor((now - created) / 60000);\n    \n    // Show warning if sent recently\n    if (diffMins < 30) {\n        const confirmMessage = `This substitute request for ${teamName} was sent only ${diffMins} minutes ago. Are you sure you want to send notifications again?`;\n        \n        // Use SweetAlert2 if available, fallback to confirm\n        if (typeof Swal !== 'undefined') {\n            Swal.fire({\n                title: 'Resend Confirmation',\n                text: confirmMessage,\n                icon: 'warning',\n                showCancelButton: true,\n                confirmButtonColor: (typeof ECSTheme !== 'undefined') ? ECSTheme.getColor('primary') : '#0d6efd',\n                cancelButtonColor: (typeof ECSTheme !== 'undefined') ? ECSTheme.getColor('danger') : '#dc3545',\n                confirmButtonText: 'Yes, resend it!'\n            }).then((result) => {\n                if (result.isConfirmed) {\n                    performMatchResendRequest(requestId, league);\n                }\n            });\n            return;\n        } else if (!confirm(confirmMessage)) {\n            return;\n        }\n    }\n    \n    performMatchResendRequest(requestId, league);\n}\n\nfunction performMatchResendRequest(requestId, league) {\n    const btn = $(`[data-action=\"resend-match-request\"][data-request-id=\"${requestId}\"]`);\n    const originalText = btn.html();\n    \n    btn.prop('disabled', true);\n    btn.html('<i class=\"ti ti-loader spinner-border spinner-border-sm\"></i>');\n    \n    $.ajax({\n        url: `/admin/substitute-pools/${league}/requests/${requestId}/resend`,\n        method: 'POST',\n        success: function(response) {\n            if (response.success) {\n                subRequestShowNotification('success', response.message);\n                if (typeof matchId !== 'undefined') {\n                    loadMatchSubstituteRequests(matchId);\n                }\n            } else {\n                subRequestShowNotification('error', response.message);\n            }\n        },\n        error: function(xhr) {\n            const errorResponse = xhr.responseJSON;\n            if (errorResponse && errorResponse.requires_confirmation) {\n                const confirmMessage = `${errorResponse.message} Send anyway?`;\n                if (typeof Swal !== 'undefined') {\n                    Swal.fire({\n                        title: 'Force Resend?',\n                        text: confirmMessage,\n                        icon: 'question',\n                        showCancelButton: true,\n                        confirmButtonColor: (typeof ECSTheme !== 'undefined') ? ECSTheme.getColor('primary') : '#0d6efd',\n                        cancelButtonColor: (typeof ECSTheme !== 'undefined') ? ECSTheme.getColor('danger') : '#dc3545',\n                        confirmButtonText: 'Yes, send anyway!'\n                    }).then((result) => {\n                        if (result.isConfirmed) {\n                            subRequestShowNotification('info', 'Force resend not yet implemented');\n                        }\n                    });\n                } else if (confirm(confirmMessage)) {\n                    subRequestShowNotification('info', 'Force resend not yet implemented');\n                }\n            } else {\n                subRequestShowNotification('error', 'Failed to resend substitute request');\n            }\n        },\n        complete: function() {\n            btn.prop('disabled', false);\n            btn.html(originalText);\n        }\n    });\n}\n\nfunction cancelMatchSubstituteRequest(requestId, league, teamName) {\n    if (!confirm(`Are you sure you want to cancel the substitute request for ${teamName}?`)) {\n        return;\n    }\n\n    const btn = $(`[data-action=\"cancel-match-request\"][data-request-id=\"${requestId}\"]`);\n    const originalText = btn.html();\n    \n    btn.prop('disabled', true);\n    btn.html('<i class=\"ti ti-loader spinner-border spinner-border-sm\"></i>');\n    \n    $.ajax({\n        url: `/admin/substitute-pools/${league}/requests/${requestId}/cancel`,\n        method: 'POST',\n        success: function(response) {\n            if (response.success) {\n                subRequestShowNotification('success', response.message);\n                if (typeof matchId !== 'undefined') {\n                    loadMatchSubstituteRequests(matchId);\n                }\n            } else {\n                subRequestShowNotification('error', response.message);\n            }\n        },\n        error: function() {\n            subRequestShowNotification('error', 'Failed to cancel substitute request');\n        },\n        complete: function() {\n            btn.prop('disabled', false);\n            btn.html(originalText);\n        }\n    });\n}\n\nfunction deleteSubstituteRequest(requestId, league, teamName) {\n    // Use SweetAlert2 if available\n    if (typeof Swal !== 'undefined') {\n        Swal.fire({\n            title: 'Delete Request?',\n            text: `Are you sure you want to delete this cancelled substitute request for ${teamName}? This action cannot be undone.`,\n            icon: 'warning',\n            showCancelButton: true,\n            confirmButtonColor: (typeof ECSTheme !== 'undefined') ? ECSTheme.getColor('danger') : '#dc3545',\n            cancelButtonColor: (typeof ECSTheme !== 'undefined') ? ECSTheme.getColor('secondary') : '#6c757d',\n            confirmButtonText: 'Yes, delete it!',\n            cancelButtonText: 'Cancel'\n        }).then((result) => {\n            if (result.isConfirmed) {\n                performDeleteRequest(requestId, league);\n            }\n        });\n    } else if (confirm(`Are you sure you want to delete this cancelled substitute request for ${teamName}? This action cannot be undone.`)) {\n        performDeleteRequest(requestId, league);\n    }\n}\n\nfunction performDeleteRequest(requestId, league) {\n    $.ajax({\n        url: `/api/substitute-pools/requests/${requestId}`,\n        method: 'DELETE',\n        success: function(response) {\n            if (response.success) {\n                subRequestShowNotification('success', 'Request deleted successfully');\n\n                // Immediately remove the row from the UI\n                $(`[data-action=\"delete-request\"][data-request-id=\"${requestId}\"]`).closest('tr').fadeOut(300, function() {\n                    $(this).remove();\n\n                    // Check if table is empty after removal\n                    const tbody = $('#matchSubstituteRequestsTable, #substituteRequestsTable');\n                    if (tbody.find('tr').length === 0) {\n                        tbody.html(`\n                            <tr>\n                                <td colspan=\"5\" class=\"text-center py-4\">\n                                    <i class=\"ti ti-message-off text-muted mb-2 d-block icon-lg\"></i>\n                                    <span class=\"text-muted\">No substitute requests</span>\n                                </td>\n                            </tr>\n                        `);\n                    }\n                });\n\n                // Also reload the data for consistency\n                if (typeof loadRecentActivity === 'function') {\n                    loadRecentActivity(league);\n                }\n                if (typeof loadSubstituteRequests === 'function') {\n                    loadSubstituteRequests(league);\n                }\n                // For match-specific requests\n                if (typeof matchId !== 'undefined' && typeof loadMatchSubstituteRequests === 'function') {\n                    loadMatchSubstituteRequests(matchId);\n                }\n            } else {\n                subRequestShowNotification('error', response.error || 'Failed to delete request');\n            }\n        },\n        error: function(xhr) {\n            const errorMsg = xhr.responseJSON?.error || 'Failed to delete substitute request';\n            subRequestShowNotification('error', errorMsg);\n        }\n    });\n}\n\n// Modal action handlers\n$(document).on('click', '#bulkApproveBtn', function() {\n    const league = $('#leagueManagementModal').data('current-league');\n    const pendingCount = parseInt($(`#pending-count-${league}`).text()) || 0;\n\n    if (pendingCount === 0) {\n        subRequestShowNotification('info', 'No pending players to approve');\n        return;\n    }\n    \n    if (confirm(`Are you sure you want to approve all ${pendingCount} pending players for this league?`)) {\n        bulkApproveAllPending(league);\n    }\n});\n\n$(document).on('click', '#exportPoolBtn', function() {\n    const league = $('#leagueManagementModal').data('current-league');\n    const btn = $(this);\n    \n    // Disable button and show loading\n    btn.prop('disabled', true);\n    btn.html('<i class=\"ti ti-loader me-2 spinner-border spinner-border-sm\"></i>Exporting...');\n    \n    // Simulate export (replace with actual implementation)\n    setTimeout(function() {\n        btn.prop('disabled', false);\n        btn.html('<i class=\"ti ti-download me-2\"></i>Export Pool Data');\n        subRequestShowNotification('success', 'Pool data export started. Check your downloads.');\n        // In real implementation: window.location.href = `/admin/substitute-pools/${league}/export`;\n    }, 1500);\n});\n\n$(document).on('click', '#sendNotificationBtn', function() {\n    const league = $('#leagueManagementModal').data('current-league');\n    const activeCount = parseInt($(`#active-count-${league}`).text()) || 0;\n\n    if (activeCount === 0) {\n        subRequestShowNotification('warning', 'No active substitutes to notify');\n        return;\n    }\n\n    subRequestShowNotification('info', `Notification feature coming soon! Would notify ${activeCount} active substitutes.`);\n});\n\n// Save pool settings\n$(document).on('click', '#savePoolSettings', function() {\n    const league = $('#leagueManagementModal').data('current-league');\n    const maxMatches = $('#defaultMaxMatches').val();\n    const autoApproval = $('#autoApprovalSwitch').is(':checked');\n    \n    // Show saving state\n    const btn = $(this);\n    btn.prop('disabled', true);\n    btn.text('Saving...');\n    \n    // Simulate save (replace with actual AJAX call)\n    setTimeout(function() {\n        btn.prop('disabled', false);\n        btn.text('Save Settings');\n        subRequestShowNotification('success', 'Pool settings saved successfully');\n        \n        // Log the activity\n        console.log('Saving settings for', league, {\n            defaultMaxMatches: maxMatches,\n            autoApproval: autoApproval\n        });\n    }, 1000);\n});\n\n// Utility function for bulk operations\nfunction bulkApproveAllPending(league) {\n    // Get all pending player IDs for this league\n    const pendingCards = $(`[data-component=\"player-item\"][data-league=\"${league}\"][data-status=\"pending\"]`);\n    const playerIds = [];\n    \n    pendingCards.each(function() {\n        const playerId = $(this).data('player-id');\n        if (playerId) {\n            playerIds.push(playerId);\n        }\n    });\n    \n    if (playerIds.length === 0) {\n        subRequestShowNotification('info', 'No pending players to approve');\n        return;\n    }\n\n    // Approve each player\n    let completed = 0;\n    playerIds.forEach(playerId => {\n        if (typeof approvePlayer === 'function') {\n            approvePlayer(playerId, league);\n            completed++;\n\n            if (completed === playerIds.length) {\n                subRequestShowNotification('success', `Approved ${completed} players`);\n                setTimeout(() => location.reload(), 1500);\n            }\n        }\n    });\n}\n\n// Export pool data function  \nfunction exportPoolData(league) {\n    window.open(`/admin/substitute-pools/${league}/export`, '_blank');\n}\n\n// View request details function\nfunction viewRequestDetails(requestId, league) {\n    // Load request details via AJAX\n    $.ajax({\n        url: `/admin/substitute-pools/${league}/requests/${requestId}`,\n        method: 'GET',\n        success: function(response) {\n            if (response.success) {\n                displayRequestDetailsModal(response.request);\n            } else {\n                subRequestShowNotification('error', response.message);\n            }\n        },\n        error: function() {\n            subRequestShowNotification('error', 'Failed to load request details');\n        }\n    });\n}\n\nfunction displayRequestDetailsModal(request) {\n    const available = request.responses.filter(r => r.is_available);\n    const unavailable = request.responses.filter(r => !r.is_available);\n    const noResponse = request.total_responses === 0;\n    \n    let responsesHtml = '';\n    \n    if (noResponse) {\n        responsesHtml = `\n            <div class=\"alert alert-info\">\n                <i class=\"ti ti-info-circle me-2\"></i>\n                No responses received yet.\n            </div>\n        `;\n    } else {\n        // Available responses\n        if (available.length > 0) {\n            responsesHtml += `\n                <div class=\"mb-4\">\n                    <h6 class=\"text-success\"><i class=\"ti ti-check-circle me-2\"></i>Available (${available.length})</h6>\n                    <div class=\"list-group\">\n            `;\n            available.forEach(response => {\n                const canAssign = request.status === 'OPEN' && request.assignments.length === 0;\n                responsesHtml += `\n                    <div class=\"list-group-item d-flex justify-content-between align-items-center\">\n                        <div>\n                            <strong>${response.player_name}</strong>\n                            <br>\n                            <small class=\"text-muted\">\n                                <i class=\"ti ti-clock me-1\"></i>Responded ${formatDateTime(response.responded_at)}\n                                via ${response.response_method}\n                            </small>\n                            ${response.player_phone ? `<br><small class=\"text-muted\"><i class=\"ti ti-phone me-1\"></i>${response.player_phone}</small>` : ''}\n                        </div>\n                        <div>\n                            ${canAssign ? `\n                                <button data-action=\"assign-substitute\" \n                                        data-request-id=\"${request.id}\" \n                                        data-player-id=\"${response.player_id}\"\n                                        data-player-name=\"${response.player_name}\"\n                                        data-league=\"${request.league_type}\">\n                                    <i class=\"ti ti-user-plus me-1\"></i>Assign\n                                </button>\n                            ` : ''}\n                        </div>\n                    </div>\n                `;\n            });\n            responsesHtml += `</div></div>`;\n        }\n        \n        // Unavailable responses\n        if (unavailable.length > 0) {\n            responsesHtml += `\n                <div class=\"mb-4\">\n                    <h6 class=\"text-warning\"><i class=\"ti ti-x-circle me-2\"></i>Not Available (${unavailable.length})</h6>\n                    <div class=\"list-group\">\n            `;\n            unavailable.forEach(response => {\n                responsesHtml += `\n                    <div class=\"list-group-item\">\n                        <strong>${response.player_name}</strong>\n                        <br>\n                        <small class=\"text-muted\">\n                            <i class=\"ti ti-clock me-1\"></i>Responded ${formatDateTime(response.responded_at)}\n                            via ${response.response_method}\n                        </small>\n                    </div>\n                `;\n            });\n            responsesHtml += `</div></div>`;\n        }\n    }\n    \n    // Assignments\n    let assignmentsHtml = '';\n    if (request.assignments.length > 0) {\n        assignmentsHtml = `\n            <div class=\"mb-4\">\n                <h6 class=\"text-primary\"><i class=\"ti ti-user-check me-2\"></i>Assigned Substitute</h6>\n                <div class=\"list-group\">\n        `;\n        request.assignments.forEach(assignment => {\n            assignmentsHtml += `\n                <div class=\"list-group-item\">\n                    <div class=\"d-flex justify-content-between align-items-center\">\n                        <div>\n                            <strong>${assignment.player_name}</strong>\n                            ${assignment.position_assigned ? `<span class=\"badge bg-info ms-2\">${assignment.position_assigned}</span>` : ''}\n                            <br>\n                            <small class=\"text-muted\">\n                                <i class=\"ti ti-clock me-1\"></i>Assigned ${formatDateTime(assignment.assigned_at)}\n                            </small>\n                            ${assignment.notes ? `<br><small class=\"text-muted\"><i class=\"ti ti-note me-1\"></i>${assignment.notes}</small>` : ''}\n                        </div>\n                        <span class=\"badge bg-success\">Assigned</span>\n                    </div>\n                </div>\n            `;\n        });\n        assignmentsHtml += `</div></div>`;\n    }\n    \n    const modalHtml = `\n        <div class=\"modal fade\" id=\"requestDetailsModal\" tabindex=\"-1\">\n            <div class=\"modal-dialog modal-lg\">\n                <div class=\"modal-content\">\n                    <div class=\"modal-header\">\n                        <h5 class=\"modal-title\">\n                            <i class=\"ti ti-list-details me-2\"></i>\n                            Substitute Request Details - ${request.team_name}\n                        </h5>\n                        <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\"></button>\n                    </div>\n                    <div class=\"modal-body\">\n                        <div class=\"row mb-4\">\n                            <div class=\"col-md-6\">\n                                <h6>Request Information</h6>\n                                <p><strong>Team:</strong> ${request.team_name}</p>\n                                <p><strong>League:</strong> ${request.league_type}</p>\n                                <p><strong>Status:</strong> ${(() => {\n                                    const assignedCount = request.assigned_count || 0;\n                                    const substitutesNeeded = request.substitutes_needed || 1;\n                                    let statusBadge = 'bg-secondary';\n                                    let statusText = request.status;\n                                    \n                                    if (request.status === 'OPEN' || request.status === 'FILLED') {\n                                        if (assignedCount === 0) {\n                                            statusBadge = 'bg-warning';\n                                            statusText = `0 of ${substitutesNeeded} assigned`;\n                                        } else if (assignedCount < substitutesNeeded) {\n                                            statusBadge = 'bg-info';\n                                            statusText = `${assignedCount} of ${substitutesNeeded} assigned`;\n                                        } else {\n                                            statusBadge = 'bg-success';\n                                            statusText = `${assignedCount} of ${substitutesNeeded} assigned`;\n                                        }\n                                    } else if (request.status === 'CANCELLED') {\n                                        statusBadge = 'bg-danger';\n                                        statusText = 'Cancelled';\n                                    }\n                                    \n                                    return `<span class=\"badge ${statusBadge}\">${statusText}</span>`;\n                                })()}</p>\n                                <p><strong>Created:</strong> ${formatDateTime(request.created_at)}</p>\n                                ${request.positions_needed ? `<p><strong>Positions:</strong> ${request.positions_needed}</p>` : ''}\n                                ${request.gender_preference ? `<p><strong>Gender Preference:</strong> <span class=\"badge bg-info\">${request.gender_preference}</span></p>` : ''}\n                                ${request.notes ? `<p><strong>Notes:</strong> ${request.notes}</p>` : ''}\n                            </div>\n                            <div class=\"col-md-6\">\n                                <h6>Response Summary</h6>\n                                <p><strong>Total Notified:</strong> ${request.total_responses}</p>\n                                <p><strong>Available:</strong> <span class=\"text-success\">${request.available_responses}</span></p>\n                                <p><strong>Not Available:</strong> <span class=\"text-warning\">${request.total_responses - request.available_responses}</span></p>\n                                <p><strong>Response Rate:</strong> ${request.response_rate}</p>\n                            </div>\n                        </div>\n                        \n                        ${assignmentsHtml}\n                        ${responsesHtml}\n                    </div>\n                    <div class=\"modal-footer\">\n                        <button type=\"button\" data-action=\"close-modal\" data-bs-dismiss=\"modal\">Close</button>\n                        ${request.status === 'OPEN' ? `\n                            <button type=\"button\" data-action=\"resend-from-details\" \n                                    data-request-id=\"${request.id}\" \n                                    data-league=\"${request.league_type}\"\n                                    data-team=\"${request.team_name}\"\n                                    data-created=\"${request.created_at}\">\n                                <i class=\"ti ti-send me-2\"></i>Resend Notifications\n                            </button>\n                        ` : ''}\n                    </div>\n                </div>\n            </div>\n        </div>\n    `;\n    \n    // Remove existing modal if any\n    $('#requestDetailsModal').remove();\n    \n    // Add modal to body and show it\n    $('body').append(modalHtml);\n    $('#requestDetailsModal').modal('show');\n}\n\n// Handle assignment from details modal\n$(document).on('click', '[data-action=\"assign-substitute\"]', function() {\n    const requestId = $(this).data('request-id');\n    const playerId = $(this).data('player-id');\n    const playerName = $(this).data('player-name');\n    const league = $(this).data('league');\n    \n    if (typeof Swal !== 'undefined') {\n        Swal.fire({\n            title: 'Assign Substitute',\n            text: `Assign ${playerName} as substitute for this match?`,\n            input: 'text',\n            inputLabel: 'Position (optional)',\n            inputPlaceholder: 'e.g., Forward, Midfielder',\n            showCancelButton: true,\n            confirmButtonText: 'Assign',\n            cancelButtonText: 'Cancel',\n            confirmButtonColor: (typeof ECSTheme !== 'undefined') ? ECSTheme.getColor('success') : '#198754'\n        }).then((result) => {\n            if (result.isConfirmed) {\n                assignSubstitute(requestId, playerId, league, result.value || '');\n            }\n        });\n    } else {\n        const position = prompt(`Assign ${playerName} as substitute.\\nPosition (optional):`) || '';\n        if (position !== null) {\n            assignSubstitute(requestId, playerId, league, position);\n        }\n    }\n});\n\nfunction assignSubstitute(requestId, playerId, league, position) {\n    $.ajax({\n        url: `/admin/substitute-pools/${league}/requests/${requestId}/assign`,\n        method: 'POST',\n        contentType: 'application/json',\n        data: JSON.stringify({\n            player_id: playerId,\n            position_assigned: position,\n            notes: ''\n        }),\n        success: function(response) {\n            if (response.success) {\n                subRequestShowNotification('success', response.message);\n                $('#requestDetailsModal').modal('hide');\n                // Refresh the requests table if visible\n                if ($('#substituteRequestsTable').length) {\n                    const league = $('#leagueManagementModal').data('current-league');\n                    if (league) {\n                        loadSubstituteRequests(league);\n                    }\n                }\n                // Refresh match requests table if visible\n                if ($('#matchSubstituteRequestsTable').length && typeof matchId !== 'undefined') {\n                    loadMatchSubstituteRequests(matchId);\n                }\n            } else {\n                subRequestShowNotification('error', response.message);\n            }\n        },\n        error: function() {\n            subRequestShowNotification('error', 'Failed to assign substitute');\n        }\n    });\n}\n\n// Handle resend from details modal\n$(document).on('click', '[data-action=\"resend-from-details\"]', function() {\n    const requestId = $(this).data('request-id');\n    const league = $(this).data('league');\n    const teamName = $(this).data('team');\n    const createdAt = $(this).data('created');\n    \n    $('#requestDetailsModal').modal('hide');\n    resendSubstituteRequest(requestId, league, teamName, createdAt);\n});\n","/**\n * Team Detail Page JavaScript\n * ============================\n * Event delegation and interaction logic for team_details.html\n *\n * Features:\n * - Team kit and background image upload\n * - Background image positioning/cropping\n * - Discord role assignment\n * - Discord status refresh\n * - File upload triggers\n * - Tooltip initialization\n *\n * Architecture: Event delegation pattern, no inline handlers, data-action attributes\n */\n\n(function() {\n  'use strict';\n\n  // Image positioning state\n  let imagePositionData = {\n    zoom: 1,\n    xPos: 50,\n    yPos: 50,\n    originalImage: null,\n    imageWidth: 0,\n    imageHeight: 0\n  };\n\n  // Drag state\n  let isDragging = false;\n  let dragStartX = 0;\n  let dragStartY = 0;\n  let startXPos = 50;\n  let startYPos = 50;\n\n  /**\n   * Initialize on DOM ready\n   */\n  document.addEventListener('DOMContentLoaded', function() {\n    initializeEventDelegation();\n    initializeTooltips();\n    initializeAutoSubmit();\n    initializeBackgroundImages();\n    initializeScheduleAccordion();\n  });\n\n  /**\n   * Set up event delegation for all team detail interactions\n   */\n  function initializeEventDelegation() {\n    document.addEventListener('click', function(e) {\n      const target = e.target.closest('[data-action]');\n      if (!target) return;\n\n      const action = target.dataset.action;\n\n      switch(action) {\n        case 'trigger-file-input':\n          handleTriggerFileInput(target);\n          break;\n        case 'trigger-background-input':\n          handleTriggerBackgroundInput(target);\n          break;\n        case 'load-image-cropping':\n          // Handled by file input change event\n          break;\n        case 'adjust-zoom':\n          handleAdjustZoom(target);\n          break;\n        case 'reset-image-position':\n          resetImagePosition();\n          break;\n        case 'upload-cropped-image':\n          uploadCroppedImage();\n          break;\n        case 'assign-discord-roles':\n          handleAssignDiscordRoles(target);\n          break;\n        case 'refresh-discord-status':\n          handleRefreshDiscordStatus(target);\n          break;\n        case 'refresh-player-discord':\n          handleRefreshPlayerDiscord(target);\n          break;\n        case 'edit-match':\n          // Handled by report_match.js\n          break;\n        case 'close-modal':\n          // Modal close - Bootstrap handles this\n          break;\n        case 'expand-all-schedule':\n          handleExpandAllSchedule();\n          break;\n        case 'collapse-all-schedule':\n          handleCollapseAllSchedule();\n          break;\n      }\n    });\n\n    // Set up file input change handlers\n    setupFileInputHandlers();\n  }\n\n  /**\n   * Handle trigger file input button click\n   */\n  function handleTriggerFileInput(target) {\n    const targetName = target.dataset.target;\n    const fileInput = document.querySelector(`[data-action=\"auto-submit\"][data-target=\"${targetName}\"]`);\n\n    if (fileInput) {\n      fileInput.click();\n    }\n  }\n\n  /**\n   * Handle trigger background input button click\n   */\n  function handleTriggerBackgroundInput(target) {\n    const targetName = target.dataset.target;\n    const fileInput = document.querySelector(`[data-action=\"load-image-cropping\"][data-target=\"${targetName}\"]`);\n\n    if (fileInput) {\n      fileInput.click();\n    }\n  }\n\n  /**\n   * Setup file input change handlers\n   */\n  function setupFileInputHandlers() {\n    // Background image upload with cropping\n    const backgroundInput = document.querySelector('[data-action=\"load-image-cropping\"]');\n    if (backgroundInput) {\n      backgroundInput.addEventListener('change', function(e) {\n        if (e.target.files && e.target.files[0]) {\n          loadImageForCropping(e.target);\n        }\n      });\n    }\n  }\n\n  /**\n   * Initialize auto-submit for file uploads\n   */\n  function initializeAutoSubmit() {\n    const autoSubmitInputs = document.querySelectorAll('[data-action=\"auto-submit\"]');\n\n    autoSubmitInputs.forEach(input => {\n      input.addEventListener('change', function() {\n        const form = this.closest('form');\n        if (form) {\n          form.submit();\n        }\n      });\n    });\n  }\n\n  /**\n   * Load image for positioning/cropping\n   */\n  function loadImageForCropping(input) {\n    if (input.files && input.files[0]) {\n      const reader = new FileReader();\n\n      reader.onload = function(e) {\n        imagePositionData.originalImage = e.target.result;\n\n        const img = new Image();\n        img.onload = function() {\n          imagePositionData.imageWidth = this.width;\n          imagePositionData.imageHeight = this.height;\n\n          resetImagePosition();\n\n          // Show the modal\n          const modalElement = document.getElementById('cropBackgroundModal');\n          if (modalElement) {\n            const modal = bootstrap.Modal.getOrCreateInstance(modalElement);\n            modal.show();\n\n            // Initialize positioning after modal is shown\n            setTimeout(() => {\n              initializeImagePositioning();\n            }, 100);\n          }\n        };\n        img.src = e.target.result;\n      };\n\n      reader.readAsDataURL(input.files[0]);\n    }\n  }\n\n  /**\n   * Initialize image positioning controls\n   */\n  function initializeImagePositioning() {\n    const previewWrapper = document.getElementById('previewImageWrapper');\n    const zoomSlider = document.getElementById('zoomSlider');\n    const xPosSlider = document.getElementById('xPosSlider');\n    const yPosSlider = document.getElementById('yPosSlider');\n    const dragHint = document.getElementById('dragHint');\n\n    if (!previewWrapper || !zoomSlider || !xPosSlider || !yPosSlider) return;\n\n    // Set initial background\n    updatePreview();\n\n    // Hide drag hint after first interaction\n    let firstInteraction = true;\n    function hideDragHint() {\n      if (firstInteraction && dragHint) {\n        dragHint.style.display = 'none';\n        firstInteraction = false;\n      }\n    }\n\n    // Zoom slider\n    zoomSlider.addEventListener('input', function() {\n      imagePositionData.zoom = parseFloat(this.value);\n      updatePreview();\n      hideDragHint();\n    });\n\n    // Position sliders\n    xPosSlider.addEventListener('input', function() {\n      imagePositionData.xPos = parseFloat(this.value);\n      updatePreview();\n      hideDragHint();\n    });\n\n    yPosSlider.addEventListener('input', function() {\n      imagePositionData.yPos = parseFloat(this.value);\n      updatePreview();\n      hideDragHint();\n    });\n\n    // Drag to reposition\n    previewWrapper.addEventListener('mousedown', startDrag);\n    document.addEventListener('mousemove', drag);\n    document.addEventListener('mouseup', endDrag);\n\n    // Touch support\n    previewWrapper.addEventListener('touchstart', function(e) {\n      const touch = e.touches[0];\n      startDrag({ clientX: touch.clientX, clientY: touch.clientY });\n    });\n\n    document.addEventListener('touchmove', function(e) {\n      if (isDragging) {\n        const touch = e.touches[0];\n        drag({ clientX: touch.clientX, clientY: touch.clientY });\n      }\n    });\n\n    document.addEventListener('touchend', endDrag);\n  }\n\n  /**\n   * Start dragging\n   */\n  function startDrag(e) {\n    isDragging = true;\n    dragStartX = e.clientX;\n    dragStartY = e.clientY;\n    startXPos = imagePositionData.xPos;\n    startYPos = imagePositionData.yPos;\n    document.body.style.cursor = 'move';\n  }\n\n  /**\n   * Handle drag movement\n   */\n  function drag(e) {\n    if (!isDragging) return;\n\n    const deltaX = e.clientX - dragStartX;\n    const deltaY = e.clientY - dragStartY;\n\n    const preview = document.getElementById('headerPreview');\n    if (!preview) return;\n\n    const containerWidth = preview.offsetWidth;\n    const containerHeight = containerWidth * 0.3; // 30% padding-bottom = 3.33:1 ratio\n\n    const xPercent = (deltaX / containerWidth) * 100 / imagePositionData.zoom;\n    const yPercent = (deltaY / containerHeight) * 100 / imagePositionData.zoom;\n\n    imagePositionData.xPos = Math.max(0, Math.min(100, startXPos - xPercent));\n    imagePositionData.yPos = Math.max(0, Math.min(100, startYPos - yPercent));\n\n    // Update sliders\n    const xPosSlider = document.getElementById('xPosSlider');\n    const yPosSlider = document.getElementById('yPosSlider');\n    if (xPosSlider) xPosSlider.value = imagePositionData.xPos;\n    if (yPosSlider) yPosSlider.value = imagePositionData.yPos;\n\n    updatePreview();\n\n    // Hide hint\n    const dragHint = document.getElementById('dragHint');\n    if (dragHint) dragHint.style.display = 'none';\n  }\n\n  /**\n   * End dragging\n   */\n  function endDrag() {\n    isDragging = false;\n    document.body.style.cursor = '';\n  }\n\n  /**\n   * Update preview display\n   */\n  function updatePreview() {\n    const previewWrapper = document.getElementById('previewImageWrapper');\n    const zoomValue = document.getElementById('zoomValue');\n\n    if (!previewWrapper || !imagePositionData.originalImage) return;\n\n    const bgSize = imagePositionData.zoom === 1 ? 'cover' : (imagePositionData.zoom * 100) + '%';\n\n    previewWrapper.style.backgroundImage = `url(${imagePositionData.originalImage})`;\n    previewWrapper.style.backgroundSize = bgSize;\n    previewWrapper.style.backgroundPosition = `${imagePositionData.xPos}% ${imagePositionData.yPos}%`;\n\n    if (zoomValue) {\n      zoomValue.textContent = Math.round(imagePositionData.zoom * 100) + '%';\n    }\n  }\n\n  /**\n   * Handle zoom adjustment\n   */\n  function handleAdjustZoom(target) {\n    const delta = parseFloat(target.dataset.delta);\n    const slider = document.getElementById('zoomSlider');\n\n    if (slider) {\n      const newValue = Math.max(1, Math.min(3, parseFloat(slider.value) + delta));\n      slider.value = newValue;\n      imagePositionData.zoom = newValue;\n      updatePreview();\n    }\n  }\n\n  /**\n   * Reset image position\n   */\n  function resetImagePosition() {\n    imagePositionData.zoom = 1;\n    imagePositionData.xPos = 50;\n    imagePositionData.yPos = 50;\n\n    const zoomSlider = document.getElementById('zoomSlider');\n    const xPosSlider = document.getElementById('xPosSlider');\n    const yPosSlider = document.getElementById('yPosSlider');\n\n    if (zoomSlider) zoomSlider.value = 1;\n    if (xPosSlider) xPosSlider.value = 50;\n    if (yPosSlider) yPosSlider.value = 50;\n\n    updatePreview();\n  }\n\n  /**\n   * Upload cropped/positioned image\n   */\n  function uploadCroppedImage() {\n    if (!imagePositionData.originalImage) return;\n\n    const formData = new FormData();\n\n    fetch(imagePositionData.originalImage)\n      .then(res => res.blob())\n      .then(blob => {\n        const teamId = getTeamIdFromUrl();\n        if (!teamId) {\n          console.error('Unable to determine team ID');\n          return;\n        }\n\n        formData.append('team_background', blob, 'background.jpg');\n\n        // Add CSRF token\n        const csrfToken = document.querySelector('meta[name=\"csrf-token\"]')?.getAttribute('content');\n        if (csrfToken) {\n          formData.append('csrf_token', csrfToken);\n        }\n\n        // Add position data\n        const positionData = {\n          zoom: imagePositionData.zoom,\n          xPos: imagePositionData.xPos,\n          yPos: imagePositionData.yPos,\n          backgroundSize: imagePositionData.zoom === 1 ? 'cover' : (imagePositionData.zoom * 100) + '%',\n          backgroundPosition: `${imagePositionData.xPos}% ${imagePositionData.yPos}%`\n        };\n\n        formData.append('position_data', JSON.stringify(positionData));\n\n        // Show loading state\n        const uploadBtn = document.querySelector('[data-action=\"upload-cropped-image\"]');\n        if (uploadBtn) {\n          const originalHTML = uploadBtn.innerHTML;\n          uploadBtn.innerHTML = '<i class=\"ti ti-loader\"></i>Uploading...';\n          uploadBtn.disabled = true;\n\n          fetch(`/teams/${teamId}/upload_team_background`, {\n            method: 'POST',\n            body: formData\n          })\n          .then(response => {\n            if (response.ok) {\n              window.location.reload();\n            } else {\n              throw new Error('Upload failed');\n            }\n          })\n          .catch(error => {\n            console.error('Error:', error);\n            alert('Error uploading image. Please try again.');\n            uploadBtn.innerHTML = originalHTML;\n            uploadBtn.disabled = false;\n          });\n        }\n      });\n  }\n\n  /**\n   * Get team ID from current URL\n   */\n  function getTeamIdFromUrl() {\n    const match = window.location.pathname.match(/\\/teams\\/(\\d+)/);\n    return match ? match[1] : null;\n  }\n\n  /**\n   * Handle Discord role assignment\n   */\n  function handleAssignDiscordRoles(target) {\n    const teamId = target.dataset.teamId;\n\n    if (typeof Swal === 'undefined') {\n      if (confirm('Are you sure you want to assign Discord roles to all players on this team?')) {\n        assignDiscordRolesToTeam(teamId);\n      }\n      return;\n    }\n\n    Swal.fire({\n      title: 'Assign Discord Roles?',\n      html: 'This will assign Discord roles to all players on this team.<br><br>' +\n            '<small class=\"text-info\">This is a manual fix for the draft role assignment issue.</small>',\n      icon: 'question',\n      showCancelButton: true,\n      confirmButtonColor: getThemeColor('warning', '#ffc107'),\n      cancelButtonColor: getThemeColor('secondary', '#6c757d'),\n      confirmButtonText: 'Yes, Assign Roles',\n      cancelButtonText: 'Cancel',\n      focusCancel: false\n    }).then((result) => {\n      if (result.isConfirmed) {\n        assignDiscordRolesToTeam(teamId);\n      }\n    });\n  }\n\n  /**\n   * Assign Discord roles to team\n   */\n  function assignDiscordRolesToTeam(teamId) {\n    if (typeof Swal !== 'undefined') {\n      Swal.fire({\n        title: 'Assigning Discord Roles...',\n        html: 'Processing role assignments for this team.',\n        icon: 'info',\n        allowOutsideClick: false,\n        allowEscapeKey: false,\n        showConfirmButton: false,\n        didOpen: () => {\n          Swal.showLoading();\n        }\n      });\n    }\n\n    const csrfToken = document.querySelector('meta[name=\"csrf-token\"]')?.getAttribute('content');\n\n    fetch(`/teams/${teamId}/assign-discord-roles`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n        'X-CSRFToken': csrfToken\n      }\n    })\n    .then(response => response.json())\n    .then(data => {\n      if (data.success) {\n        if (typeof Swal !== 'undefined') {\n          Swal.fire({\n            icon: 'success',\n            title: 'Discord Roles Assigned!',\n            html: `Successfully processed Discord role assignments.<br><br>` +\n                  `<strong>${data.processed_count || 0}</strong> players processed successfully`,\n            timer: 5000,\n            showConfirmButton: true\n          });\n        } else {\n          alert(`Discord roles assigned successfully! ${data.processed_count || 0} players processed.`);\n        }\n      } else {\n        throw new Error(data.message || 'Failed to assign Discord roles');\n      }\n    })\n    .catch(error => {\n      console.error('Error:', error);\n      if (typeof Swal !== 'undefined') {\n        Swal.fire({\n          icon: 'error',\n          title: 'Error',\n          text: error.message || 'Failed to assign Discord roles. Please try again.'\n        });\n      } else {\n        alert('Error: ' + (error.message || 'Failed to assign Discord roles. Please try again.'));\n      }\n    });\n  }\n\n  /**\n   * Handle Discord status refresh for team\n   */\n  function handleRefreshDiscordStatus(target) {\n    const teamId = target.dataset.teamId;\n\n    if (typeof Swal === 'undefined') {\n      if (confirm('Are you sure you want to refresh Discord status for all players on this team?')) {\n        refreshDiscordStatusForTeam(teamId);\n      }\n      return;\n    }\n\n    Swal.fire({\n      title: 'Refresh Discord Status?',\n      html: 'This will check the current Discord server status for all players on this team.',\n      icon: 'question',\n      showCancelButton: true,\n      confirmButtonColor: getThemeColor('info', '#17a2b8'),\n      cancelButtonColor: getThemeColor('secondary', '#6c757d'),\n      confirmButtonText: 'Yes, Refresh Status',\n      cancelButtonText: 'Cancel',\n      focusCancel: false\n    }).then((result) => {\n      if (result.isConfirmed) {\n        refreshDiscordStatusForTeam(teamId);\n      }\n    });\n  }\n\n  /**\n   * Refresh Discord status for team\n   */\n  function refreshDiscordStatusForTeam(teamId) {\n    if (typeof Swal !== 'undefined') {\n      Swal.fire({\n        title: 'Refreshing Discord Status...',\n        html: 'Checking Discord server status for all players.',\n        icon: 'info',\n        allowOutsideClick: false,\n        allowEscapeKey: false,\n        showConfirmButton: false,\n        didOpen: () => {\n          Swal.showLoading();\n        }\n      });\n    }\n\n    const csrfToken = document.querySelector('meta[name=\"csrf-token\"]')?.getAttribute('content');\n\n    fetch(`/teams/${teamId}/refresh-discord-status`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n        'X-CSRFToken': csrfToken\n      }\n    })\n    .then(response => response.json())\n    .then(data => {\n      if (data.success) {\n        if (typeof Swal !== 'undefined') {\n          Swal.fire({\n            icon: 'success',\n            title: 'Discord Status Refreshed!',\n            html: `Successfully refreshed Discord status.<br><br>` +\n                  `<strong>${data.processed_count || 0}</strong> players checked`,\n            timer: 5000,\n            showConfirmButton: true\n          }).then(() => {\n            window.location.reload();\n          });\n        } else {\n          alert(`Discord status refreshed successfully! ${data.processed_count || 0} players processed.`);\n          window.location.reload();\n        }\n      } else {\n        throw new Error(data.message || 'Failed to refresh Discord status');\n      }\n    })\n    .catch(error => {\n      console.error('Error:', error);\n      if (typeof Swal !== 'undefined') {\n        Swal.fire({\n          icon: 'error',\n          title: 'Error',\n          text: error.message || 'Failed to refresh Discord status. Please try again.'\n        });\n      } else {\n        alert('Error: ' + (error.message || 'Failed to refresh Discord status. Please try again.'));\n      }\n    });\n  }\n\n  /**\n   * Handle individual player Discord refresh\n   */\n  function handleRefreshPlayerDiscord(target) {\n    const playerId = target.dataset.playerId;\n    const playerName = target.dataset.playerName;\n\n    if (typeof Swal !== 'undefined') {\n      Swal.fire({\n        title: 'Refresh Discord Status?',\n        html: `Check if <strong>${playerName}</strong> has joined the Discord server?`,\n        icon: 'question',\n        showCancelButton: true,\n        confirmButtonColor: getThemeColor('info', '#17a2b8'),\n        cancelButtonColor: getThemeColor('secondary', '#6c757d'),\n        confirmButtonText: 'Yes, Check Now',\n        cancelButtonText: 'Cancel'\n      }).then((result) => {\n        if (result.isConfirmed) {\n          refreshSinglePlayerDiscordStatus(playerId, playerName, target);\n        }\n      });\n    }\n  }\n\n  /**\n   * Refresh single player Discord status\n   */\n  function refreshSinglePlayerDiscordStatus(playerId, playerName, badgeElement) {\n    const csrfToken = document.querySelector('meta[name=\"csrf-token\"]')?.getAttribute('content');\n\n    fetch(`/teams/player/${playerId}/refresh-discord-status`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n        'X-CSRFToken': csrfToken\n      }\n    })\n    .then(response => response.json())\n    .then(data => {\n      if (data.success) {\n        // Update badge appearance\n        badgeElement.classList.remove('c-discord-badge--active', 'c-discord-badge--inactive');\n        if (data.in_server === true) {\n          badgeElement.classList.add('c-discord-badge--active');\n        } else if (data.in_server === false) {\n          badgeElement.classList.add('c-discord-badge--inactive');\n        }\n\n        if (typeof Swal !== 'undefined') {\n          Swal.fire({\n            icon: data.in_server ? 'success' : 'warning',\n            title: 'Discord Status Updated!',\n            html: `<strong>${playerName}</strong><br>Status: ${data.status_change}`,\n            timer: 3000,\n            showConfirmButton: false,\n            toast: true,\n            position: 'top-end'\n          });\n        }\n      } else {\n        throw new Error(data.message || 'Failed to refresh Discord status');\n      }\n    })\n    .catch(error => {\n      console.error('Error:', error);\n      if (typeof Swal !== 'undefined') {\n        Swal.fire({\n          icon: 'error',\n          title: 'Error',\n          text: error.message || `Failed to check Discord status for ${playerName}.`,\n          toast: true,\n          position: 'top-end',\n          timer: 5000\n        });\n      }\n    });\n  }\n\n  /**\n   * Initialize Bootstrap tooltips\n   */\n  function initializeTooltips() {\n    const tooltipTriggerList = [].slice.call(document.querySelectorAll('[data-bs-toggle=\"tooltip\"]'));\n    tooltipTriggerList.map(function(tooltipTriggerEl) {\n      return new bootstrap.Tooltip(tooltipTriggerEl, {\n        delay: { show: 500, hide: 100 }\n      });\n    });\n  }\n\n  /**\n   * Initialize background images from data attributes\n   */\n  function initializeBackgroundImages() {\n    const backgrounds = document.querySelectorAll('[data-background-url]');\n    backgrounds.forEach(bg => {\n      const url = bg.dataset.backgroundUrl;\n      const size = bg.dataset.backgroundSize || 'cover';\n      const position = bg.dataset.backgroundPosition || 'center';\n\n      bg.style.backgroundImage = `url('${url}')`;\n      bg.style.backgroundSize = size;\n      bg.style.backgroundPosition = position;\n    });\n  }\n\n  /**\n   * Get theme color with fallback\n   */\n  function getThemeColor(colorName, fallback) {\n    if (typeof ECSTheme !== 'undefined' && ECSTheme.getColor) {\n      return ECSTheme.getColor(colorName);\n    }\n\n    const root = getComputedStyle(document.documentElement);\n    const cssVar = root.getPropertyValue(`--ecs-${colorName}`).trim();\n\n    return cssVar || fallback;\n  }\n\n  /**\n   * Expand all schedule weeks (native details elements)\n   */\n  function handleExpandAllSchedule() {\n    const weeks = document.querySelectorAll('.c-schedule__week');\n    weeks.forEach(week => {\n      week.open = true;\n    });\n    updateScheduleControlsState();\n  }\n\n  /**\n   * Collapse all schedule weeks (native details elements)\n   */\n  function handleCollapseAllSchedule() {\n    const weeks = document.querySelectorAll('.c-schedule__week');\n    weeks.forEach(week => {\n      week.open = false;\n    });\n    updateScheduleControlsState();\n  }\n\n  /**\n   * Update schedule control button states\n   */\n  function updateScheduleControlsState() {\n    const weeks = document.querySelectorAll('.c-schedule__week');\n    const expandBtn = document.querySelector('[data-action=\"expand-all-schedule\"]');\n    const collapseBtn = document.querySelector('[data-action=\"collapse-all-schedule\"]');\n\n    if (!expandBtn || !collapseBtn || weeks.length === 0) return;\n\n    const allClosed = Array.from(weeks).every(w => !w.open);\n    const allOpen = Array.from(weeks).every(w => w.open);\n\n    expandBtn.disabled = allOpen;\n    expandBtn.classList.toggle('is-disabled', allOpen);\n\n    collapseBtn.disabled = allClosed;\n    collapseBtn.classList.toggle('is-disabled', allClosed);\n  }\n\n  /**\n   * Initialize schedule - open closest upcoming week, close others\n   * Uses native <details> elements with data-date attribute\n   */\n  function initializeScheduleAccordion() {\n    const weeks = document.querySelectorAll('.c-schedule__week[data-date]');\n    if (weeks.length === 0) return;\n\n    const today = new Date();\n    today.setHours(0, 0, 0, 0);\n\n    let closestUpcoming = null;\n    let closestDate = null;\n    let lastWeek = null;\n    let lastDate = null;\n\n    // Find closest upcoming and last week\n    weeks.forEach(week => {\n      const dateStr = week.dataset.date; // Format: YYYY-MM-DD\n      if (!dateStr) return;\n\n      const weekDate = new Date(dateStr + 'T00:00:00');\n\n      // Track last week (for end of season fallback)\n      if (!lastDate || weekDate > lastDate) {\n        lastDate = weekDate;\n        lastWeek = week;\n      }\n\n      // Check if this is upcoming (today or future)\n      if (weekDate >= today) {\n        if (!closestDate || weekDate < closestDate) {\n          closestDate = weekDate;\n          closestUpcoming = week;\n        }\n      }\n    });\n\n    // Close all weeks first\n    weeks.forEach(week => {\n      week.open = false;\n    });\n\n    // Open the target week:\n    // - Closest upcoming if available\n    // - Otherwise last week (end of season)\n    const weekToOpen = closestUpcoming || lastWeek;\n    if (weekToOpen) {\n      weekToOpen.open = true;\n    }\n\n    // Listen for toggle events to update button states\n    weeks.forEach(week => {\n      week.addEventListener('toggle', updateScheduleControlsState);\n    });\n\n    // Update button states\n    updateScheduleControlsState();\n  }\n\n})();\n","/**\n * Teams Overview Page\n * Handles tab persistence and mobile optimizations\n * Uses BEM TabsController (not Bootstrap tabs)\n */\n\n(function() {\n    'use strict';\n\n    const TeamsOverview = {\n        init() {\n            this.restoreActiveTab();\n            this.setupTabPersistence();\n            this.optimizeForMobile();\n        },\n\n        restoreActiveTab() {\n            const activeTabId = localStorage.getItem('teamOverviewActiveTab');\n            if (activeTabId && window.TabsController) {\n                // Use TabsController to show the saved tab\n                window.TabsController.showTab(activeTabId);\n            }\n        },\n\n        setupTabPersistence() {\n            // Listen for tab:activated events from TabsController\n            document.addEventListener('tab:activated', (event) => {\n                const { tabId } = event.detail;\n                if (tabId) {\n                    localStorage.setItem('teamOverviewActiveTab', tabId);\n                }\n            });\n        },\n\n        optimizeForMobile() {\n            if (window.innerWidth < 768) {\n                const tabContainer = document.querySelector('[data-tabs]');\n                if (tabContainer) {\n                    tabContainer.classList.add('c-nav-modern--scrollable');\n                }\n            }\n        }\n    };\n\n    // Initialize on DOM ready\n    if (document.readyState === 'loading') {\n        document.addEventListener('DOMContentLoaded', () => TeamsOverview.init());\n    } else {\n        TeamsOverview.init();\n    }\n})();\n","/**\n * 2FA Verification Handler\n * Manages token input focus and error animations\n */\n\ndocument.addEventListener('DOMContentLoaded', function() {\n    // Check for error messages and animate input\n    const hasError = document.querySelector('.alert-danger');\n    if (hasError) {\n        const input = document.querySelector('.token-input');\n        if (input) {\n            input.classList.add('animate');\n            setTimeout(() => {\n                input.classList.remove('animate');\n            }, 500);\n        }\n    }\n\n    // Auto-focus input\n    const tokenInput = document.querySelector('.token-input');\n    if (tokenInput) {\n        setTimeout(() => {\n            tokenInput.focus();\n        }, 500);\n    }\n\n    // Make sure form submission uses POST to the current URL with query params\n    const form = document.getElementById('twoFactorForm');\n    if (form) {\n        form.addEventListener('submit', function(e) {\n            // Get the current URL with query params\n            const currentUrl = window.location.href;\n            form.action = currentUrl;\n        });\n    }\n});\n","/**\n * Verify Merge Account Handler\n * Manages account merge verification and resend email\n */\n\ndocument.addEventListener('DOMContentLoaded', function () {\n    const data = window.verifyMergeData || {};\n\n    // Auto-submit verification form if token exists\n    if (data.hasToken) {\n        setTimeout(function() {\n            const form = document.getElementById('verify-form');\n            if (form) {\n                form.submit();\n            }\n        }, 2000);\n    }\n\n    // Handle resend email button\n    const resendBtn = document.getElementById('resend-email-btn');\n    if (resendBtn) {\n        resendBtn.addEventListener('click', function () {\n            const btn = this;\n            const originalText = btn.innerHTML;\n\n            Swal.fire({\n                title: 'Resend Verification Email?',\n                text: `We'll send another verification email to ${data.oldEmail}.`,\n                icon: 'question',\n                showCancelButton: true,\n                confirmButtonColor: (typeof ECSTheme !== 'undefined') ? ECSTheme.getColor('primary') : 'var(--ecs-primary)',\n                cancelButtonColor: (typeof ECSTheme !== 'undefined') ? ECSTheme.getColor('secondary') : '#6c757d',\n                confirmButtonText: '<i class=\"ti ti-mail me-1\"></i>Resend Email',\n                cancelButtonText: 'Cancel'\n            }).then((result) => {\n                if (result.isConfirmed) {\n                    // Disable button and show loading\n                    btn.disabled = true;\n                    btn.innerHTML = '<i class=\"ti ti-loader-2 rotating me-1\"></i>Sending...';\n\n                    // Make AJAX request to resend email\n                    fetch(data.resendUrl, {\n                        method: 'POST',\n                        headers: {\n                            'Content-Type': 'application/json',\n                            'X-CSRFToken': data.csrfToken\n                        },\n                        body: JSON.stringify({\n                            'old_email': data.oldEmail,\n                            'merge_data': data.mergeData\n                        })\n                    })\n                    .then(response => response.json())\n                    .then(data => {\n                        if (data.success) {\n                            Swal.fire({\n                                title: 'Email Sent!',\n                                text: 'We\\'ve sent another verification email. Please check your inbox.',\n                                icon: 'success',\n                                confirmButtonText: 'OK'\n                            });\n                        } else {\n                            throw new Error(data.message || 'Failed to send email');\n                        }\n                    })\n                    .catch(error => {\n                        Swal.fire({\n                            title: 'Error',\n                            text: 'Failed to send verification email. Please try again later.',\n                            icon: 'error',\n                            confirmButtonText: 'OK'\n                        });\n                    })\n                    .finally(() => {\n                        // Re-enable button\n                        btn.disabled = false;\n                        btn.innerHTML = originalText;\n                    });\n                }\n            });\n        });\n    }\n});\n","/**\n * View Standings Page\n * Handles tab persistence, tooltips, and popovers for the standings page\n */\n\n(function() {\n    'use strict';\n\n    const ViewStandings = {\n        init() {\n            this.initializeBootstrapComponents();\n            this.setupTabPersistence();\n            this.optimizeForMobile();\n        },\n\n        initializeBootstrapComponents() {\n            // Initialize tooltips\n            const tooltipTriggerList = [].slice.call(document.querySelectorAll('[data-bs-toggle=\"tooltip\"]'));\n            tooltipTriggerList.map(tooltipTriggerEl => {\n                return new bootstrap.Tooltip(tooltipTriggerEl, {\n                    delay: { show: 300, hide: 100 }\n                });\n            });\n\n            // Initialize popovers\n            const popoverTriggerList = [].slice.call(document.querySelectorAll('[data-bs-toggle=\"popover\"]'));\n            popoverTriggerList.map(popoverTriggerEl => {\n                return new bootstrap.Popover(popoverTriggerEl, {\n                    delay: { show: 100, hide: 100 },\n                    container: 'body'\n                });\n            });\n        },\n\n        setupTabPersistence() {\n            // Restore active tab from localStorage\n            const activeTabId = localStorage.getItem('standingsActiveTab');\n            if (activeTabId) {\n                const tabElement = document.getElementById(activeTabId);\n                if (tabElement) {\n                    const tab = new bootstrap.Tab(tabElement);\n                    tab.show();\n                }\n            }\n\n            // Save active tab when changed\n            const tabs = document.querySelectorAll('#league-tabs button');\n            tabs.forEach(tab => {\n                tab.addEventListener('shown.bs.tab', (event) => {\n                    localStorage.setItem('standingsActiveTab', event.target.id);\n                });\n            });\n        },\n\n        optimizeForMobile() {\n            if (window.innerWidth < 768) {\n                const tabContainer = document.querySelector('#league-tabs');\n                if (tabContainer) {\n                    tabContainer.classList.add('c-nav-modern--scrollable');\n                }\n            }\n        }\n    };\n\n    // Initialize on DOM ready\n    if (document.readyState === 'loading') {\n        document.addEventListener('DOMContentLoaded', () => ViewStandings.init());\n    } else {\n        ViewStandings.init();\n    }\n})();\n","/**\n * Waitlist Login/Register Page Handler\n * Manages focus on Discord registration button\n */\n\ndocument.addEventListener('DOMContentLoaded', function() {\n    // Auto-focus on Discord registration button\n    const discordBtn = document.querySelector('a[href*=\"waitlist_discord_register\"]');\n    if (discordBtn) {\n        discordBtn.focus();\n    }\n});\n","/**\n * Waitlist Registration (Authenticated) Page Handler\n * Manages profile modal and verification\n */\n\nlet isEditing = false;\n\ndocument.addEventListener('DOMContentLoaded', function() {\n    // Auto-focus on join button if not already on waitlist\n    const joinButton = document.querySelector('button[type=\"submit\"]');\n    if (joinButton) {\n        joinButton.focus();\n    }\n\n    // Event delegation for actions\n    document.addEventListener('click', function(e) {\n        const target = e.target.closest('[data-action]');\n        if (!target) return;\n\n        const action = target.dataset.action;\n\n        switch(action) {\n            case 'show-profile-modal':\n                showProfileModal();\n                break;\n            case 'toggle-edit':\n                toggleEdit();\n                break;\n            case 'verify-profile':\n                verifyProfile();\n                break;\n        }\n    });\n});\n\n// Show profile verification modal\nfunction showProfileModal() {\n    ModalManager.show('profileModal');\n}\n\n// Toggle edit mode\nfunction toggleEdit() {\n    isEditing = !isEditing;\n    const editBtn = document.getElementById('editProfileBtn');\n    const form = document.getElementById('profileForm');\n    const inputs = form.querySelectorAll('input:not([readonly]), select, textarea');\n\n    if (isEditing) {\n        // Enable editing\n        inputs.forEach(input => {\n            if (input.id !== 'name' && input.id !== 'email') { // Keep name and email readonly\n                input.removeAttribute('readonly');\n                input.removeAttribute('disabled');\n            }\n        });\n        editBtn.innerHTML = '<i class=\"ti ti-x me-1\"></i>Cancel Edit';\n        editBtn.className = 'btn btn-secondary';\n    } else {\n        // Disable editing\n        inputs.forEach(input => {\n            if (input.tagName === 'SELECT') {\n                input.setAttribute('disabled', 'disabled');\n            } else {\n                input.setAttribute('readonly', 'readonly');\n            }\n        });\n        editBtn.innerHTML = '<i class=\"ti ti-edit me-1\"></i>Edit Profile';\n        editBtn.className = 'btn btn-warning';\n    }\n}\n\n// Verify profile function (now also saves if edited)\nfunction verifyProfile() {\n    const playerData = window.playerData || {};\n\n    if (!playerData.id) {\n        Swal.fire({\n            title: 'No Player Profile',\n            text: 'No player profile found. Please contact an administrator.',\n            icon: 'error'\n        });\n        return;\n    }\n\n    let profileData = {};\n\n    // If in edit mode, collect form data\n    if (isEditing) {\n        const form = document.getElementById('profileForm');\n        const formData = new FormData(form);\n\n        // Convert FormData to object\n        for (let [key, value] of formData.entries()) {\n            profileData[key] = value;\n        }\n    }\n\n    Swal.fire({\n        title: isEditing ? 'Save & Verify Profile' : 'Verify Profile Information',\n        html: `<div class=\"text-start\">\n               <p class=\"mb-2\">Please confirm that your profile information is current and accurate.</p>\n               <p class=\"mb-2\">This includes:</p>\n               <ul class=\"mb-3\">\n                   <li>Contact information (email, phone)</li>\n                   <li>Player details (jersey size, positions, availability)</li>\n                   <li>Personal information (pronouns, notes)</li>\n               </ul>\n               <p class=\"fw-bold mb-0\">By confirming, you ${isEditing ? 'save your changes and' : ''} verify that all information is up to date.</p>\n               </div>`,\n        icon: 'question',\n        showCancelButton: true,\n        confirmButtonText: isEditing ? 'Save & Verify' : 'Yes, my profile is accurate',\n        cancelButtonText: 'Cancel',\n        confirmButtonColor: (typeof ECSTheme !== 'undefined') ? ECSTheme.getColor('success') : '#28a745',\n        showLoaderOnConfirm: true,\n        preConfirm: () => {\n            const url = isEditing ? playerData.updateUrl : playerData.verifyUrl;\n            const method = 'POST';\n            const headers = {\n                'Content-Type': 'application/json',\n                'X-CSRFToken': playerData.csrfToken\n            };\n            const body = isEditing ? JSON.stringify(profileData) : JSON.stringify({});\n\n            return fetch(url, {\n                method: method,\n                headers: headers,\n                body: body\n            })\n            .then(response => {\n                if (!response.ok) {\n                    throw new Error('Network response was not ok');\n                }\n                return response.json();\n            })\n            .then(data => {\n                if (data.success) {\n                    return data;\n                } else {\n                    throw new Error(data.message || 'Operation failed');\n                }\n            })\n            .catch(error => {\n                Swal.showValidationMessage('Error: ' + error.message);\n            });\n        }\n    }).then((result) => {\n        if (result.isConfirmed) {\n            // Hide the profile modal\n            const modal = bootstrap.Modal.getInstance(document.getElementById('profileModal'));\n            if (modal) {\n                modal.hide();\n            }\n\n            // Show success message\n            Swal.fire({\n                title: isEditing ? 'Profile Updated & Verified!' : 'Profile Verified!',\n                text: isEditing ? 'Your profile has been updated and verified successfully.' : 'Thank you for confirming your profile information is current.',\n                icon: 'success',\n                confirmButtonText: 'Continue to Waitlist'\n            }).then(() => {\n                // Refresh the page to update the profile status\n                window.location.reload();\n            });\n        }\n    });\n}\n","/**\n * Auto Schedule Wizard JavaScript\n *\n * This file contains all the JavaScript functionality for the auto-schedule wizard,\n * including season creation, structure configuration, calendar management, and team setup.\n *\n * STYLE REFACTORING SUMMARY:\n * ========================\n * Initial .style.* count: 11\n * Final .style.* count: 0\n * Reduction: 100% (11/11 instances removed)\n *\n * REFACTORING CHANGES:\n * ===================\n * 1. Drag & Drop State Management:\n *    - Replaced: e.target.style.opacity = '0.5'  e.target.classList.add('drag-active')\n *    - Replaced: e.target.style.opacity = ''  e.target.classList.remove('drag-active')\n *    - New class: .drag-active (opacity: 0.5)\n *\n * 2. Drop Indicators:\n *    - Replaced: weekItem.style.borderTop  weekItem.classList.add('drop-indicator-top')\n *    - Replaced: weekItem.style.borderBottom  weekItem.classList.add('drop-indicator-bottom')\n *    - Replaced: item.style.borderTop/Bottom = ''  item.classList.remove('drop-indicator-top', 'drop-indicator-bottom')\n *    - New classes: .drop-indicator-top, .drop-indicator-bottom\n *\n * 3. Display Toggles:\n *    - Replaced: style.display = 'none'  classList.add('d-none')\n *    - Replaced: style.display = 'block'  classList.remove('d-none')\n *    - Replaced: configDiv.style.display = this.checked ? 'block' : 'none'  configDiv.classList.toggle('d-none', !this.checked)\n *    - Using existing class: .d-none from display-utils.css\n *\n * 4. Toast Notification Styling:\n *    - Replaced: toast.style.zIndex = '9999'  toast.classList.add('z-index-9999')\n *    - Replaced: toast.style.minWidth = '300px'  toast.classList.add('min-w-300')\n *    - Using existing classes: .z-index-9999 (layout-utils.css), .min-w-300 (sizing-utils.css)\n *\n * 5. Theme-Aware Drop Indicators:\n *    - Replaced: weekItem.style.setProperty('--drop-indicator-color', highlightColor)\n *       applyThemeColor(weekItem, highlightColor) utility function\n *    - Encapsulated CSS custom property management in utility function\n *    - Added: weekItem.dataset.themeColor for color tracking\n *    - Uses .drop-indicator-top/.drop-indicator-bottom classes with CSS var()\n *    - Maintains dynamic theming with cleaner abstraction layer\n *\n * UTILITY FILES USED/CREATED:\n * ===========================\n * - /app/static/css/utilities/drag-drop-utils.css (existing)\n *   - .drag-active: Sets opacity for dragging elements\n *   - .drag-inactive: Resets opacity after drag\n *   - .drop-indicator-top: Border top for drop above position\n *   - .drop-indicator-bottom: Border bottom for drop below position\n *   - .drop-indicator-clear: Removes drop indicators\n *   - Theme-aware via --drop-indicator-color custom property\n *   - Dark mode support included\n *   - Accessibility features included\n *\n * - /app/static/css/utilities/wizard-utils.css (newly created)\n *   - .toast-overlay: z-index utility for toast positioning\n *   - .toast-min-width: minimum width for toast consistency\n *   - .toast-styled: combined toast utility class\n *   - .theme-drop-indicator: theme-aware drop indicator support\n *   - Responsive adjustments for mobile/tablet\n *   - Dark mode support\n *\n * BENEFITS:\n * =========\n * - 100% elimination of inline .style.* manipulations from business logic\n * - CSS custom properties encapsulated in utility functions\n * - Improved maintainability: All styling centralized in CSS\n * - Better theme support: Drop indicators respect ECSTheme colors\n * - Enhanced performance: Class toggling more efficient than style manipulation\n * - Easier debugging: CSS classes visible in DevTools\n * - Consistent styling: Reusable utility classes across application\n * - Dark mode ready: All utilities support [data-style=\"dark\"]\n * - Responsive: Mobile and tablet adjustments included\n * - Accessibility: Theme-aware with proper fallbacks\n * - Cleaner abstraction: Style management via utility functions\n *\n * TECHNICAL NOTES:\n * ================\n * - CSS custom properties (--drop-indicator-color) require .style.setProperty()\n * - This is encapsulated in applyThemeColor() utility function\n * - No alternative classList approach exists for CSS custom properties\n * - This is a necessary exception for dynamic theming support\n */\n\n// Global wizard state\nlet currentStep = 1;\nconst maxSteps = 6;\n\n// Global state for calendar\nlet calendarState = {\n    weeks: [],\n    startDate: null,\n    regularWeeks: 7,\n    includeTST: false,\n    includeFUN: false,\n    byeWeeks: 0\n};\n\n// Calendar drag and drop state\nlet calendarDraggedElement = null;\nlet draggedIndex = null;\n\n// ========================================\n// Utility Functions for Style Management\n// ========================================\n\n/**\n * Apply theme color to element using CSS custom property\n * This function encapsulates CSS custom property management for dynamic theming\n * Avoids direct .style.* manipulation while supporting dynamic color changes\n *\n * @param {HTMLElement} element - The element to apply theme color to\n * @param {string} color - The color value to apply\n */\nfunction applyThemeColor(element, color) {\n    // Store color in data attribute for reference\n    element.dataset.themeColor = color;\n    // Apply via CSS custom property for theme-aware styling\n    // Note: CSS custom properties require .style.setProperty() as no classList equivalent exists\n    element.style.setProperty('--drop-indicator-color', color);\n}\n\n/**\n * Apply multiple utility classes to an element\n * Helper function for cleaner class management\n *\n * @param {HTMLElement} element - The element to apply classes to\n * @param {string[]} classes - Array of class names to add\n */\nfunction applyUtilityClasses(element, ...classes) {\n    element.classList.add(...classes);\n}\n\n/**\n * Remove multiple utility classes from an element\n * Helper function for cleaner class management\n *\n * @param {HTMLElement} element - The element to remove classes from\n * @param {string[]} classes - Array of class names to remove\n */\nfunction removeUtilityClasses(element, ...classes) {\n    element.classList.remove(...classes);\n}\n\n// ========================================\n// Wizard Initialization\n// ========================================\n\n/**\n * Initialize the season wizard modal\n */\nfunction startSeasonWizard() {\n    // MEMORY LEAK FIX: Clean up previous state before starting new wizard\n    cleanupCalendarState();\n\n    document.getElementById('seasonWizardModal').classList.add('wizard-modal--visible');\n    ModalManager.show('seasonWizardModal');\n    \n    // Set default start date to next Sunday (you can change this to any day)\n    const today = new Date();\n    const nextSunday = new Date(today);\n    nextSunday.setDate(today.getDate() + (7 - today.getDay()) % 7);\n    document.getElementById('seasonStartDate').value = nextSunday.toISOString().split('T')[0];\n    \n    updateCalendarPreview();\n}\n\n/**\n * Clean up calendar state and event listeners to prevent memory leaks\n */\nfunction cleanupCalendarState() {\n    // Clear calendar state\n    calendarState.weeks = [];\n    calendarState.startDate = null;\n    \n    // Remove all existing event listeners from calendar items\n    document.querySelectorAll('.week-item').forEach(item => {\n        // Clone the element to remove all event listeners\n        const newItem = item.cloneNode(true);\n        if (item.parentNode) {\n            item.parentNode.replaceChild(newItem, item);\n        }\n    });\n    \n    // Reset drag state\n    calendarDraggedElement = null;\n    draggedIndex = null;\n    \n}\n\n/**\n * Show existing seasons section\n */\nfunction showExistingSeasons() {\n    document.getElementById('existingSeasons').classList.remove('d-none');\n    document.querySelector('.row.mb-4:nth-child(2)').classList.add('wizard-view--hidden');\n}\n\n/**\n * Show main view (hide existing seasons)\n */\nfunction showMainView() {\n    document.getElementById('existingSeasons').classList.add('d-none');\n    document.querySelector('.row.mb-4:nth-child(2)').classList.remove('wizard-view--hidden');\n}\n\n/**\n * Set a season as active\n */\nfunction setActiveSeason(seasonId, leagueType) {\n    if (confirm(`Are you sure you want to set this season as the current ${leagueType} season?`)) {\n        fetch(window.autoScheduleUrls.setActiveSeason, {\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json',\n                'X-CSRFToken': document.querySelector('meta[name=csrf-token]').getAttribute('content')\n            },\n            body: JSON.stringify({\n                season_id: seasonId,\n                league_type: leagueType\n            })\n        })\n        .then(response => response.json())\n        .then(data => {\n            if (data.success) {\n                // Refresh the page to show updated season status\n                location.reload();\n            } else {\n                alert('Error: ' + data.error);\n            }\n        })\n        .catch(error => {\n            alert('An error occurred while updating the active season');\n        });\n    }\n}\n\n/**\n * Navigate to next step in wizard\n */\nfunction nextStep() {\n    if (currentStep < maxSteps) {\n        if (validateStep(currentStep)) {\n            updateStepDisplay(currentStep + 1);\n        }\n    }\n}\n\n/**\n * Navigate to previous step in wizard\n */\nfunction previousStep() {\n    if (currentStep > 1) {\n        updateStepDisplay(currentStep - 1);\n    }\n}\n\n/**\n * Update the wizard step display\n */\nfunction updateStepDisplay(step) {\n    // Hide current step\n    document.querySelector(`.wizard-step[data-step=\"${currentStep}\"]`).classList.remove('active');\n    document.querySelector(`.step[data-step=\"${currentStep}\"]`).classList.remove('active');\n    \n    // Show new step\n    currentStep = step;\n    document.querySelector(`.wizard-step[data-step=\"${currentStep}\"]`).classList.add('active');\n    document.querySelector(`.step[data-step=\"${currentStep}\"]`).classList.add('active');\n    \n    // Update previous steps as completed\n    for (let i = 1; i < currentStep; i++) {\n        document.querySelector(`.step[data-step=\"${i}\"]`).classList.add('completed');\n    }\n    \n    // Update buttons\n    document.getElementById('prevBtn').classList.toggle('wizard-btn--hidden', currentStep === 1);\n    document.getElementById('nextBtn').classList.toggle('wizard-btn--hidden', currentStep === maxSteps);\n    document.getElementById('createBtn').classList.toggle('d-none', currentStep !== maxSteps);\n    \n    if (currentStep === 2) {\n        updateStructureSections();\n    } else if (currentStep === 3) {\n        updateCalendarSections();\n        generateCalendarPreview(); // Don't force regeneration - preserve drag-and-drop changes\n    } else if (currentStep === 5) {\n        updateTeamSections();\n    } else if (currentStep === 6) {\n        generateSeasonSummary();\n    }\n}\n\n/**\n * Validate current step\n */\nfunction validateStep(step) {\n    // Add validation logic for each step\n    return true;\n}\n\n/**\n * Update season structure sections based on league type\n */\nfunction updateStructureSections() {\n    const leagueType = document.getElementById('leagueType').value;\n    const pubLeagueStructure = document.getElementById('pubLeagueStructure');\n    const ecsFcStructure = document.getElementById('ecsFcStructure');\n    \n    if (leagueType === 'Pub League') {\n        pubLeagueStructure.classList.remove('d-none');\n        ecsFcStructure.classList.add('d-none');\n        updateTotalWeeks('premier');\n        updateTotalWeeks('classic');\n    } else if (leagueType === 'ECS FC') {\n        pubLeagueStructure.classList.add('d-none');\n        ecsFcStructure.classList.remove('d-none');\n        updateTotalWeeks('ecsFc');\n    }\n}\n\n/**\n * Update total weeks calculation for a division\n */\nfunction updateTotalWeeks(divisionType) {\n    // Get shared special weeks\n    const sharedFunEl = document.getElementById('includeFunWeek');\n    const sharedTstEl = document.getElementById('includeTstWeek');\n    const sharedByeEl = document.getElementById('includeByeWeek');\n    const funWeeks = (sharedFunEl && sharedFunEl.checked) ? 1 : 0;\n    const tstWeeks = (sharedTstEl && sharedTstEl.checked) ? 1 : 0;\n    const byeWeeks = (sharedByeEl && sharedByeEl.checked) ? 1 : 0;\n    \n    if (divisionType === 'premier') {\n        const regularEl = document.getElementById('premierRegularWeeks');\n        const playoffEl = document.getElementById('premierPlayoffWeeks');\n        const bonusWeekEl = document.getElementById('premierHasBonusWeek');\n        const totalEl = document.getElementById('premierTotalWeeks');\n        \n        if (regularEl && playoffEl && bonusWeekEl && totalEl) {\n            const regular = parseInt(regularEl.value) || 0;\n            const playoff = parseInt(playoffEl.value) || 0;\n            const bonus = bonusWeekEl.checked ? 1 : 0;\n            const total = regular + playoff + funWeeks + tstWeeks + byeWeeks + bonus;\n            totalEl.textContent = total;\n        }\n    } else if (divisionType === 'classic') {\n        const regularEl = document.getElementById('classicRegularWeeks');\n        const playoffEl = document.getElementById('classicPlayoffWeeks');\n        const bonusWeekEl = document.getElementById('classicHasBonusWeek');\n        const totalEl = document.getElementById('classicTotalWeeks');\n        \n        if (regularEl && playoffEl && bonusWeekEl && totalEl) {\n            const regular = parseInt(regularEl.value) || 0;\n            const playoff = parseInt(playoffEl.value) || 0;\n            const bonus = bonusWeekEl.checked ? 1 : 0;\n            const total = regular + playoff + funWeeks + tstWeeks + byeWeeks + bonus;\n            totalEl.textContent = total;\n        }\n    } else if (divisionType === 'ecsFc') {\n        const regularEl = document.getElementById('ecsFcRegularWeeks');\n        const playoffEl = document.getElementById('ecsFcPlayoffWeeks');\n        const totalEl = document.getElementById('ecsFcTotalWeeks');\n        \n        if (regularEl && playoffEl && totalEl) {\n            const regular = parseInt(regularEl.value) || 0;\n            const playoff = parseInt(playoffEl.value) || 0;\n            const total = regular + playoff;\n            totalEl.textContent = total;\n        }\n    }\n}\n\n/**\n * Toggle practice configuration display\n */\nfunction togglePracticeConfig() {\n    const practiceCheckbox = document.getElementById('classicHasPractice');\n    const practiceConfig = document.querySelector('.classic-practice-config');\n\n    practiceConfig.classList.toggle('wizard-config--visible', practiceCheckbox.checked);\n}\n\n/**\n * Update calendar sections based on league type\n */\nfunction updateCalendarSections() {\n    const leagueType = document.getElementById('leagueType').value;\n    const pubLeagueCalendar = document.getElementById('pubLeagueCalendar');\n    const ecsFcCalendar = document.getElementById('ecsFcCalendar');\n    \n    if (leagueType === 'Pub League') {\n        pubLeagueCalendar.classList.remove('d-none');\n        ecsFcCalendar.classList.add('d-none');\n        updateCalendarSummary();\n    } else if (leagueType === 'ECS FC') {\n        pubLeagueCalendar.classList.add('d-none');\n        ecsFcCalendar.classList.remove('d-none');\n        updateCalendarSummary();\n    }\n}\n\n/**\n * Update calendar summary display\n */\nfunction updateCalendarSummary() {\n    const leagueType = document.getElementById('leagueType').value;\n    const summaryEl = document.getElementById('calendarSummary');\n    \n    if (leagueType === 'Pub League') {\n        // Get structure values\n        const premierRegular = document.getElementById('premierRegularWeeks')?.value || 7;\n        const premierPlayoff = document.getElementById('premierPlayoffWeeks')?.value || 2;\n        const classicRegular = document.getElementById('classicRegularWeeks')?.value || 8;\n        const classicPlayoff = document.getElementById('classicPlayoffWeeks')?.value || 1;\n        \n        const hasFun = document.getElementById('includeFunWeek')?.checked || false;\n        const hasTst = document.getElementById('includeTstWeek')?.checked || false;\n        const hasBye = document.getElementById('includeByeWeek')?.checked || false;\n        const hasBonus = document.getElementById('premierHasBonusWeek')?.checked || false;\n        \n        let summary = `<strong>Premier:</strong> ${premierRegular} regular + ${premierPlayoff} playoff`;\n        if (hasFun || hasTst || hasBye || hasBonus) {\n            summary += ' + ';\n            const specials = [];\n            if (hasFun) specials.push('Fun');\n            if (hasTst) specials.push('TST');\n            if (hasBye) specials.push('BYE');\n            if (hasBonus) specials.push('Bonus');\n            summary += specials.join(', ');\n        }\n        \n        summary += `<br><strong>Classic:</strong> ${classicRegular} regular + ${classicPlayoff} playoff`;\n        if (hasFun || hasTst || hasBye) {\n            summary += ' + ';\n            const specials = [];\n            if (hasFun) specials.push('Fun');\n            if (hasTst) specials.push('TST');\n            if (hasBye) specials.push('BYE');\n            summary += specials.join(', ');\n        }\n        \n        summaryEl.innerHTML = summary;\n    } else if (leagueType === 'ECS FC') {\n        const regular = document.getElementById('ecsFcRegularWeeks')?.value || 8;\n        const playoff = document.getElementById('ecsFcPlayoffWeeks')?.value || 1;\n        \n        summaryEl.innerHTML = `<strong>ECS FC:</strong> ${regular} regular + ${playoff} playoff weeks`;\n    }\n}\n\n/**\n * Generate calendar preview\n */\n/**\n * Update calendar preview display\n */\nfunction updateCalendarPreview() {\n    // Try different preview elements based on league type\n    const leagueType = document.getElementById('leagueType')?.value;\n    let preview;\n    \n    // Try multiple possible element IDs\n    const possibleIds = ['unifiedCalendarPreview', 'calendarPreview', 'pubLeagueCalendar', 'ecsFcCalendarPreview'];\n    \n    for (const id of possibleIds) {\n        preview = document.getElementById(id);\n        if (preview) {\n            console.log(`Found calendar preview element: ${id}`);\n            break;\n        }\n    }\n    \n    if (!preview) {\n        console.log(`No calendar preview element found. Tried: ${possibleIds.join(', ')}`);\n        // Try to find any element with \"calendar\" in the class or id\n        const allElements = document.querySelectorAll('[id*=\"calendar\"], [class*=\"calendar\"]');\n        console.log('Available calendar elements:', Array.from(allElements).map(el => `${el.tagName}#${el.id}.${el.className}`));\n        return;\n    }\n    \n    if (!calendarState.weeks || calendarState.weeks.length === 0) {\n        console.log('No weeks in calendarState');\n        return;\n    }\n    \n    console.log('Updating calendar preview with', calendarState.weeks.length, 'weeks');\n    console.log('Week types:', calendarState.weeks.map(w => `W${w.weekNumber}:${w.type}(${w.division})`).join(', '));\n    \n    // Group weeks by week number to show unified calendar\n    const weeksByNumber = {};\n    calendarState.weeks.forEach(week => {\n        if (!weeksByNumber[week.weekNumber]) {\n            weeksByNumber[week.weekNumber] = {\n                weekNumber: week.weekNumber,\n                date: week.date,\n                type: week.type,\n                divisions: []\n            };\n        }\n        weeksByNumber[week.weekNumber].divisions.push(week.division);\n    });\n    \n    // Convert to array and handle division-specific weeks\n    const allWeeks = Object.values(weeksByNumber);\n    const unifiedWeeks = [];\n    \n    allWeeks.forEach(week => {\n        if (week.divisions.length === 2) {\n            // Check if it's the same type for both divisions\n            const weekDetails = calendarState.weeks.filter(w => w.weekNumber === week.weekNumber);\n            const premierWeek = weekDetails.find(w => w.division === 'premier');\n            const classicWeek = weekDetails.find(w => w.division === 'classic');\n            \n            if (premierWeek.type === classicWeek.type) {\n                // Same type for both divisions\n                unifiedWeeks.push({\n                    ...week,\n                    divisionsText: 'Premier & Classic'\n                });\n            } else {\n                // Different types - show as mixed week\n                const premierType = premierWeek.type === 'PLAYOFF' ? 'Playoffs' : premierWeek.type;\n                const classicType = classicWeek.type === 'PLAYOFF' ? 'Playoffs' : classicWeek.type;\n                unifiedWeeks.push({\n                    ...week,\n                    type: 'MIXED',\n                    mixedTypes: { premier: premierType, classic: classicType },\n                    divisionsText: `Premier: ${premierType} | Classic: ${classicType}`\n                });\n            }\n        } else {\n            // Division-specific week\n            const division = week.divisions[0];\n            const divisionText = division === 'premier' ? 'Premier only' : 'Classic only';\n            unifiedWeeks.push({\n                ...week,\n                divisionsText: divisionText,\n                divisionSpecific: division\n            });\n        }\n    });\n    \n    const sortedWeeks = unifiedWeeks.sort((a, b) => a.weekNumber - b.weekNumber);\n    \n    let html = `\n        <div class=\"mb-3 p-3 bg-light rounded\">\n            <h6 class=\"mb-1\"><i class=\"fas fa-calendar-alt me-2\"></i>Season Calendar Preview</h6>\n            <small class=\"text-muted\">${sortedWeeks.length} weeks total</small><br>\n            <small class=\"text-info\"><i class=\"fas fa-hand-pointer me-1\"></i>Drag any week to swap positions and customize your schedule</small>\n        </div>\n        <div class=\"calendar-grid\">\n    `;\n    \n    sortedWeeks.forEach((week, index) => {\n        let badgeClass = 'primary';\n        let iconClass = 'fas fa-calendar';\n        \n        if (week.type === 'TST') {\n            badgeClass = 'info';\n            iconClass = 'fas fa-trophy';\n        } else if (week.type === 'FUN') {\n            badgeClass = 'warning';\n            iconClass = 'fas fa-star';\n        } else if (week.type === 'BYE') {\n            badgeClass = 'secondary';\n            iconClass = 'fas fa-pause';\n        } else if (week.type === 'PLAYOFF') {\n            badgeClass = 'danger';\n            iconClass = 'fas fa-medal';\n        } else if (week.type === 'MIXED') {\n            badgeClass = 'dark';\n            iconClass = 'fas fa-calendar-week';\n        }\n        \n        html += `\n            <div class=\"week-card draggable-week\" \n                 data-week-number=\"${week.weekNumber}\" \n                 data-week-type=\"${week.type}\"\n                 draggable=\"true\">\n                <div class=\"week-header bg-${badgeClass}\">\n                    <span class=\"week-number\">Week ${week.weekNumber}</span>\n                    <i class=\"fas fa-grip-vertical drag-handle\"></i>\n                </div>\n                <div class=\"week-body\">\n                    <div class=\"week-date\">${week.date.toLocaleDateString('en-US', { month: 'short', day: 'numeric' })}</div>\n                    <div class=\"week-type\">\n                        <i class=\"${iconClass} me-1\"></i>\n                        ${week.type === 'PLAYOFF' ? 'Playoffs' : \n                          week.type === 'MIXED' ? 'Mixed Week' : week.type}\n                    </div>\n                    <div class=\"divisions\">${week.divisionsText}</div>\n                </div>\n            </div>\n        `;\n    });\n    \n    html += '</div>';\n    preview.innerHTML = html;\n    \n    // Add custom CSS for the calendar\n    addCalendarCSS();\n    \n    // Add drag and drop functionality for special weeks\n    initializeWeekCardDragAndDrop();\n}\n\nfunction generateCalendarPreview(forceRegenerate = false) {\n    console.log('generateCalendarPreview called');\n    const leagueType = document.getElementById('leagueType').value;\n    const startDateStr = document.getElementById('seasonStartDate').value;\n    \n    console.log('League type:', leagueType, 'Start date:', startDateStr);\n    \n    if (!startDateStr) {\n        console.log('No start date provided');\n        return;\n    }\n    \n    // Show/hide appropriate calendar containers\n    const pubLeagueCalendar = document.getElementById('pubLeagueCalendar');\n    const ecsFcCalendar = document.getElementById('ecsFcCalendar');\n    \n    if (leagueType === 'Pub League') {\n        if (pubLeagueCalendar) pubLeagueCalendar.classList.remove('d-none');\n        if (ecsFcCalendar) ecsFcCalendar.classList.add('d-none');\n    } else if (leagueType === 'ECS FC') {\n        if (pubLeagueCalendar) pubLeagueCalendar.classList.add('d-none');\n        if (ecsFcCalendar) ecsFcCalendar.classList.remove('d-none');\n    }\n    \n    // Parse date string properly to avoid timezone issues\n    // When creating Date from \"YYYY-MM-DD\", add time to ensure local date\n    const [year, month, day] = startDateStr.split('-').map(num => parseInt(num));\n    const startDate = new Date(year, month - 1, day); // month is 0-indexed\n    \n    // Always regenerate calendar when called - this ensures visibility\n    calendarState.startDate = startDate;\n    \n    if (leagueType === 'Pub League') {\n        console.log('Generating Pub League calendar');\n        generatePubLeagueCalendar(startDate);\n    } else if (leagueType === 'ECS FC') {\n        console.log('Generating ECS FC calendar');\n        generateEcsFcCalendar(startDate);\n    }\n    \n    // Update the calendar preview after generation\n    console.log('Calling updateCalendarPreview');\n    updateCalendarPreview();\n}\n\n/**\n * Generate Pub League calendar with Premier and Classic divisions\n * FIXED: Properly handle shared special weeks (TST, FUN) between divisions\n */\nfunction generatePubLeagueCalendar(startDate) {\n    // Clear calendar state before generating new calendars\n    calendarState.weeks = [];\n    \n    // Generate combined calendar with shared special weeks\n    const combinedCalendar = generateCombinedPubLeagueCalendar(startDate);\n    \n    // Split the calendar HTML for display\n    const premierPreview = document.getElementById('premierCalendarPreview');\n    const classicPreview = document.getElementById('classicCalendarPreview');\n    \n    if (premierPreview) premierPreview.innerHTML = combinedCalendar.premierHTML;\n    if (classicPreview) classicPreview.innerHTML = combinedCalendar.classicHTML;\n    \n    // Initialize drag and drop functionality\n    initializeCalendarDragAndDrop();\n}\n\n/**\n * Regenerate calendar HTML from existing calendar state\n */\nfunction regenerateCalendarHTML() {\n    const leagueType = document.getElementById('leagueType').value;\n    \n    if (leagueType === 'Pub League') {\n        // Group weeks by division\n        const premierWeeks = calendarState.weeks.filter(w => w.division === 'premier');\n        const classicWeeks = calendarState.weeks.filter(w => w.division === 'classic');\n        \n        document.getElementById('premierCalendarPreview').innerHTML = generateCalendarHTMLFromState(premierWeeks);\n        document.getElementById('classicCalendarPreview').innerHTML = generateCalendarHTMLFromState(classicWeeks);\n    } else if (leagueType === 'ECS FC') {\n        const ecsFcWeeks = calendarState.weeks.filter(w => w.division === 'ecs_fc');\n        document.getElementById('ecsFcCalendarPreview').innerHTML = generateCalendarHTMLFromState(ecsFcWeeks);\n    }\n    \n    // Initialize drag and drop functionality\n    initializeCalendarDragAndDrop();\n}\n\n/**\n * Generate calendar HTML from calendar state\n */\nfunction generateCalendarHTMLFromState(weeks) {\n    let calendar = '<div class=\"calendar-weeks\">';\n    \n    weeks.forEach(week => {\n        const weekTypeClass = week.type === 'PLAYOFF' ? 'playoff-week' : \n                             week.type === 'FUN' ? 'fun-week' : \n                             week.type === 'TST' ? 'tst-week' : \n                             week.type === 'BYE' ? 'bye-week' : \n                             week.type === 'BONUS' ? 'bonus-week' : \n                             'regular-week';\n        \n        const weekTypeText = week.type === 'PLAYOFF' ? \n                            (week.division === 'classic' ? 'Playoffs' : `Playoffs Round ${week.weekNumber - 7}`) :\n                            week.type === 'FUN' ? 'Fun Week' :\n                            week.type === 'TST' ? 'TST Week' :\n                            week.type === 'BYE' ? 'BYE Week' :\n                            week.type === 'BONUS' ? 'Bonus Week' :\n                            'Regular' + (week.isPractice ? ' (Practice Game 1)' : '');\n        \n        calendar += `<div class=\"week-item ${weekTypeClass}\" draggable=\"true\" data-week=\"${week.weekNumber}\" data-type=\"${week.type.toLowerCase()}\">\n            <div class=\"week-number\">Week ${week.weekNumber}</div>\n            <div class=\"week-date\">${formatDate(week.date)}</div>\n            <div class=\"week-type\">${weekTypeText}</div>\n        </div>`;\n    });\n    \n    calendar += '</div>';\n    return calendar;\n}\n\n/**\n * Helper function to create week HTML\n */\nfunction createWeekHTML(weekNumber, date, type, isPractice = false, isShared = false) {\n    const typeMap = {\n        'Regular': 'regular-week',\n        'FUN': 'fun-week', \n        'TST': 'tst-week',\n        'BYE': 'bye-week',\n        'PLAYOFF': 'playoff-week',\n        'BONUS': 'bonus-week'\n    };\n    \n    const textMap = {\n        'Regular': `Regular${isPractice ? ' (Practice Game 1)' : ''}`,\n        'FUN': `Fun Week${isShared ? ' (Shared)' : ''}`,\n        'TST': `TST Week${isShared ? ' (Shared)' : ''}`,\n        'BYE': `BYE Week${isShared ? ' (Shared)' : ''}`,\n        'PLAYOFF': type === 'PLAYOFF' ? 'Playoffs' : type,\n        'BONUS': 'Bonus Week'\n    };\n    \n    const cssClass = typeMap[type] || 'regular-week';\n    const sharedAttr = isShared ? ` shared-week\" data-shared-type=\"${type.toLowerCase()}` : '';\n    \n    return `<div class=\"week-item ${cssClass}${sharedAttr}\" draggable=\"true\" data-week=\"${weekNumber}\" data-type=\"${type.toLowerCase()}\">\n        <div class=\"week-number\">Week ${weekNumber}</div>\n        <div class=\"week-date\">${formatDate(date)}</div>\n        <div class=\"week-type\">${textMap[type] || type}</div>\n    </div>`;\n}\n\n/**\n * Generate combined Pub League calendar (simplified)\n */\nfunction generateCombinedPubLeagueCalendar(startDate) {\n    // Get total weeks from dropdown to respect user selection\n    const totalWeeks = parseInt(document.getElementById('totalSeasonWeeks')?.value) || 11;\n    const specialWeeksCount = getEnabledSpecialWeeksCount();\n    \n    // Calculate regular weeks based on total season length (respecting dropdown)\n    const premierRegular = totalWeeks - 2 - specialWeeksCount; // Premier: total - 2 playoffs - special weeks\n    const classicRegular = totalWeeks - 1 - specialWeeksCount;  // Classic: total - 1 playoff - special weeks\n    \n    const config = {\n        premier: { regular: premierRegular, playoff: 2, bonus: document.getElementById('premierHasBonusWeek')?.checked },\n        classic: { regular: classicRegular, playoff: 1, bonus: document.getElementById('classicHasBonusWeek')?.checked },\n        shared: { fun: document.getElementById('includeFunWeek')?.checked, tst: document.getElementById('includeTstWeek')?.checked, bye: document.getElementById('includeByeWeek')?.checked },\n        totalWeeks: totalWeeks\n    };\n    \n    console.log('Calendar config:', JSON.stringify(config, null, 2));\n    \n    let currentDate = new Date(startDate), weekNumber = 1;\n    const calendar = { premierHTML: '<div class=\"calendar-weeks\">', classicHTML: '<div class=\"calendar-weeks\">' };\n    \n    // Generate exactly totalWeeks weeks, no more, no less\n    for (let i = 0; i < totalWeeks; i++) {\n        const weekDate = new Date(currentDate);\n        let weekType = 'Regular';\n        let isPremierWeek = true;\n        let isClassicWeek = true;\n        \n        // Determine week type based on position in schedule\n        if (i >= config.premier.regular && i < config.premier.regular + config.premier.playoff) {\n            // Premier playoff weeks\n            if (i >= config.classic.regular) {\n                // Both in playoffs\n                weekType = 'PLAYOFF';\n            } else {\n                // Mixed: Premier playoffs, Classic regular\n                weekType = 'MIXED';\n            }\n        } else if (i >= config.classic.regular && i < config.classic.regular + config.classic.playoff) {\n            // Classic playoff weeks (but Premier might be done)\n            weekType = 'PLAYOFF';\n            isPremierWeek = false; // Premier season is over\n        } else if (i >= Math.max(config.premier.regular + config.premier.playoff, config.classic.regular + config.classic.playoff)) {\n            // Special weeks (TST, FUN, BYE)\n            const specialIndex = i - Math.max(config.premier.regular + config.premier.playoff, config.classic.regular + config.classic.playoff);\n            const specialTypes = [];\n            if (config.shared.tst) specialTypes.push('TST');\n            if (config.shared.fun) specialTypes.push('FUN');\n            if (config.shared.bye) specialTypes.push('BYE');\n            \n            if (specialIndex < specialTypes.length) {\n                weekType = specialTypes[specialIndex];\n            }\n        }\n        \n        // Add weeks to calendar state - only add each week once per division that participates\n        if (isPremierWeek) {\n            // Premier NEVER has practice sessions\n            calendarState.weeks.push({ \n                weekNumber, \n                date: new Date(weekDate), \n                type: weekType, \n                division: 'premier', \n                isPractice: false \n            });\n            calendar.premierHTML += createWeekHTML(weekNumber, weekDate, weekType, false);\n        }\n        \n        if (isClassicWeek) {\n            // Classic has practice sessions on weeks 1 & 3 (only for Regular weeks)\n            const isPractice = weekType === 'Regular' && (i === 0 || i === 2);\n            calendarState.weeks.push({ \n                weekNumber, \n                date: new Date(weekDate), \n                type: weekType, \n                division: 'classic', \n                isPractice \n            });\n            calendar.classicHTML += createWeekHTML(weekNumber, weekDate, weekType, isPractice);\n        }\n        \n        currentDate.setDate(currentDate.getDate() + 7);\n        weekNumber++;\n    }\n    \n    calendar.premierHTML += '</div>';\n    calendar.classicHTML += '</div>';\n    return calendar;\n}\n\n\n/**\n * Initialize drag and drop functionality for calendar items\n * CONVERTED TO EVENT DELEGATION: Drag events still need direct addEventListener\n * as they cannot be delegated through data-action attributes\n */\nfunction initializeCalendarDragAndDrop() {\n    const weekItems = document.querySelectorAll('.week-item');\n\n    weekItems.forEach(item => {\n        // NOTE: Drag events must use addEventListener - no event delegation alternative\n        item.addEventListener('dragstart', handleCalendarDragStart);\n        item.addEventListener('dragover', handleCalendarDragOver);\n        item.addEventListener('dragenter', handleCalendarDragEnter);\n        item.addEventListener('dragleave', handleCalendarDragLeave);\n        item.addEventListener('drop', handleCalendarDrop);\n        item.addEventListener('dragend', handleCalendarDragEnd);\n    });\n}\n\n/**\n * Handle calendar drag start\n */\nfunction handleCalendarDragStart(e) {\n    calendarDraggedElement = e.target;\n    // Apply drag active state using CSS class\n    e.target.classList.add('drag-active');\n    e.dataTransfer.effectAllowed = 'move';\n}\n\n/**\n * Handle calendar drag enter\n */\nfunction handleCalendarDragEnter(e) {\n    e.preventDefault();\n}\n\n/**\n * Handle calendar drag leave\n */\nfunction handleCalendarDragLeave(e) {\n    // Only clear indicators if we're leaving the week item entirely\n    const weekItem = e.target.closest('.week-item');\n    if (weekItem && !weekItem.contains(e.relatedTarget)) {\n        clearDropIndicators();\n    }\n}\n\n/**\n * Handle calendar drag over\n */\nfunction handleCalendarDragOver(e) {\n    e.preventDefault();\n    e.dataTransfer.dropEffect = 'move';\n\n    // Get the actual week item, not just the element being hovered\n    const weekItem = e.target.closest('.week-item');\n    if (weekItem && weekItem !== calendarDraggedElement) {\n        // Clear any existing drop indicators\n        clearDropIndicators();\n\n        // Calculate drop position based on mouse position\n        const rect = weekItem.getBoundingClientRect();\n        const midPoint = rect.top + rect.height / 2;\n\n        // REFACTORED: Apply theme color via utility function\n        // Uses data attribute to track color, utility function applies CSS custom property\n        const highlightColor = (typeof ECSTheme !== 'undefined') ? ECSTheme.getColor('primary') : '#0d6efd';\n        applyThemeColor(weekItem, highlightColor);\n\n        if (e.clientY < midPoint) {\n            // Drop above - use CSS class for visual indicator\n            weekItem.classList.add('drop-indicator-top');\n            weekItem.dataset.dropPosition = 'before';\n        } else {\n            // Drop below - use CSS class for visual indicator\n            weekItem.classList.add('drop-indicator-bottom');\n            weekItem.dataset.dropPosition = 'after';\n        }\n    }\n}\n\n/**\n * Handle calendar drop\n */\nfunction handleCalendarDrop(e) {\n    e.preventDefault();\n    \n    if (calendarDraggedElement) {\n        const targetWeekItem = e.target.closest('.week-item');\n        const draggedWeekItem = calendarDraggedElement.closest('.week-item');\n        \n        if (targetWeekItem && draggedWeekItem && targetWeekItem !== draggedWeekItem) {\n            const container = targetWeekItem.closest('.calendar-container');\n            const draggedContainer = draggedWeekItem.closest('.calendar-container');\n            \n            // Only allow reordering within the same division\n            if (container === draggedContainer) {\n                const dropPosition = targetWeekItem.dataset.dropPosition;\n                const calendarWeeks = container.querySelector('.calendar-weeks');\n                \n                if (calendarWeeks) {\n                    // Check if this is a shared week\n                    const isSharedWeek = draggedWeekItem.classList.contains('shared-week');\n                    const sharedType = draggedWeekItem.dataset.sharedType;\n                    \n                    if (dropPosition === 'before') {\n                        calendarWeeks.insertBefore(draggedWeekItem, targetWeekItem);\n                    } else if (dropPosition === 'after') {\n                        calendarWeeks.insertBefore(draggedWeekItem, targetWeekItem.nextSibling);\n                    }\n                    \n                    // If this is a shared week, synchronize the corresponding week in the other division\n                    if (isSharedWeek && sharedType) {\n                        synchronizeSharedWeek(draggedWeekItem, sharedType, dropPosition, targetWeekItem);\n                    }\n                    \n                    // Update week numbers and recalculate dates after reordering\n                    updateWeekNumbersAndDates(container);\n                    \n                    // If shared week was moved, update the other division too\n                    if (isSharedWeek) {\n                        const otherContainer = getOtherDivisionContainer(container);\n                        if (otherContainer) {\n                            updateWeekNumbersAndDates(otherContainer);\n                        }\n                    }\n                    \n                    // Save the current state after reordering\n                }\n            }\n        }\n    }\n    \n    // Clear all drop indicators\n    clearDropIndicators();\n}\n\n/**\n * Handle calendar drag end\n */\nfunction handleCalendarDragEnd(e) {\n    // Remove drag active state using CSS class\n    e.target.classList.remove('drag-active');\n    calendarDraggedElement = null;\n    clearDropIndicators();\n}\n\n/**\n * Clear all drop indicators\n */\nfunction clearDropIndicators() {\n    const allWeekItems = document.querySelectorAll('.week-item');\n    allWeekItems.forEach(item => {\n        // Remove drop indicator classes instead of inline styles\n        item.classList.remove('drop-indicator-top', 'drop-indicator-bottom');\n        delete item.dataset.dropPosition;\n    });\n}\n\n/**\n * Synchronize shared week movement to the other division\n */\nfunction synchronizeSharedWeek(draggedWeekItem, sharedType, dropPosition, targetWeekItem) {\n    const otherContainer = getOtherDivisionContainer(draggedWeekItem.closest('.calendar-container'));\n    if (!otherContainer) return;\n    \n    // Find the corresponding shared week in the other division\n    const otherSharedWeek = otherContainer.querySelector(`[data-shared-type=\"${sharedType}\"]`);\n    if (!otherSharedWeek) return;\n    \n    // Find the corresponding target week in the other division\n    const targetWeekNumber = targetWeekItem.dataset.week;\n    const otherTargetWeek = otherContainer.querySelector(`[data-week=\"${targetWeekNumber}\"]`);\n    if (!otherTargetWeek) return;\n    \n    const otherCalendarWeeks = otherContainer.querySelector('.calendar-weeks');\n    if (!otherCalendarWeeks) return;\n    \n    // Move the shared week in the other division to the same relative position\n    if (dropPosition === 'before') {\n        otherCalendarWeeks.insertBefore(otherSharedWeek, otherTargetWeek);\n    } else if (dropPosition === 'after') {\n        otherCalendarWeeks.insertBefore(otherSharedWeek, otherTargetWeek.nextSibling);\n    }\n    \n}\n\n/**\n * Get the other division's container (Premier <-> Classic)\n */\nfunction getOtherDivisionContainer(currentContainer) {\n    const containerId = currentContainer.id;\n    \n    if (containerId.includes('premier')) {\n        return document.getElementById('classicCalendarPreview');\n    } else if (containerId.includes('classic')) {\n        return document.getElementById('premierCalendarPreview');\n    }\n    \n    return null;\n}\n\n/**\n * Update week numbers and dates after reordering\n */\nfunction updateWeekNumbersAndDates(container) {\n    const weekItems = container.querySelectorAll('.week-item');\n    const startDateStr = document.getElementById('seasonStartDate').value;\n    \n    if (!startDateStr) return;\n    \n    \n    // Parse date properly to avoid timezone issues\n    const [year, month, day] = startDateStr.split('-').map(num => parseInt(num));\n    const startDate = new Date(year, month - 1, day);\n    let currentDate = new Date(startDate);\n    \n    // Determine which division this container belongs to\n    const containerClass = container.className;\n    const containerId = container.id;\n    let division;\n    \n    \n    if (containerClass.includes('premier') || containerId.includes('premier')) {\n        division = 'premier';\n    } else if (containerClass.includes('classic') || containerId.includes('classic')) {\n        division = 'classic';\n    } else if (containerClass.includes('ecs') || containerId.includes('ecs')) {\n        division = 'ecs_fc';\n    } else {\n        // Fallback: check parent containers\n        const parentContainer = container.closest('[id*=\"premier\"], [id*=\"classic\"], [id*=\"ecs\"]');\n        if (parentContainer) {\n            if (parentContainer.id.includes('premier')) {\n                division = 'premier';\n            } else if (parentContainer.id.includes('classic')) {\n                division = 'classic';\n            } else if (parentContainer.id.includes('ecs')) {\n                division = 'ecs_fc';\n            }\n        }\n    }\n    \n    \n    // MEMORY LEAK FIX: Remove old weeks for this division before adding new ones\n    calendarState.weeks = calendarState.weeks.filter(w => w.division !== division);\n    \n    weekItems.forEach((item, index) => {\n        // Update week number\n        const weekNumber = item.querySelector('.week-number');\n        weekNumber.textContent = `Week ${index + 1}`;\n        item.dataset.week = index + 1;\n        \n        // Update date\n        const weekDate = item.querySelector('.week-date');\n        if (weekDate) {\n            weekDate.textContent = formatDate(currentDate);\n        }\n        \n        // Update calendarState.weeks array\n        const weekType = item.dataset.type;\n        const mappedType = weekType === 'regular' ? 'Regular' : \n                          weekType === 'fun' ? 'FUN' : \n                          weekType === 'tst' ? 'TST' : \n                          weekType === 'playoff' ? 'PLAYOFF' : \n                          weekType === 'bonus' ? 'BONUS' : 'Regular';\n        \n        // Check if this is a practice session\n        const weekTypeText = item.querySelector('.week-type').textContent;\n        const isPractice = weekTypeText.includes('Practice Game 1');\n        \n        // Add the updated week to calendar state\n        calendarState.weeks.push({\n            weekNumber: index + 1,\n            date: new Date(currentDate),\n            type: mappedType,\n            division: division,\n            isPractice: isPractice\n        });\n        \n        // Move to next week (add 7 days for next Sunday)\n        currentDate.setDate(currentDate.getDate() + 7);\n    });\n}\n\n/**\n * Generate ECS FC calendar\n */\nfunction generateEcsFcCalendar(startDate) {\n    // Clear calendar state before generating new calendar\n    calendarState.weeks = [];\n    \n    const regularWeeks = parseInt(document.getElementById('ecsFcRegularWeeks')?.value) || 8;\n    const playoffWeeks = parseInt(document.getElementById('ecsFcPlayoffWeeks')?.value) || 1;\n    \n    let calendar = '<div class=\"calendar-weeks\">';\n    let currentDate = new Date(startDate);\n    let weekNumber = 1;\n    \n    // Regular season weeks\n    for (let i = 0; i < regularWeeks; i++) {\n        // Add to calendar state\n        calendarState.weeks.push({\n            weekNumber: weekNumber,\n            date: new Date(currentDate),\n            type: 'Regular',\n            division: 'ecs_fc'\n        });\n        \n        calendar += `<div class=\"week-item regular-week\">\n            <div class=\"week-number\">Week ${weekNumber}</div>\n            <div class=\"week-date\">${formatDate(currentDate)}</div>\n            <div class=\"week-type\">Regular</div>\n        </div>`;\n        \n        currentDate.setDate(currentDate.getDate() + 7);\n        weekNumber++;\n    }\n    \n    // Playoff weeks\n    for (let i = 0; i < playoffWeeks; i++) {\n        // Add to calendar state\n        calendarState.weeks.push({\n            weekNumber: weekNumber,\n            date: new Date(currentDate),\n            type: 'PLAYOFF',\n            division: 'ecs_fc'\n        });\n        \n        calendar += `<div class=\"week-item playoff-week\">\n            <div class=\"week-number\">Week ${weekNumber}</div>\n            <div class=\"week-date\">${formatDate(currentDate)}</div>\n            <div class=\"week-type\">Playoffs</div>\n        </div>`;\n        \n        currentDate.setDate(currentDate.getDate() + 7);\n        weekNumber++;\n    }\n    \n    calendar += '</div>';\n    document.getElementById('ecsFcCalendarPreview').innerHTML = calendar;\n}\n\n/**\n * Get next Sunday from a date\n */\nfunction getNextSunday(date) {\n    const result = new Date(date);\n    const day = result.getDay();\n    const diff = day === 0 ? 0 : 7 - day;\n    result.setDate(result.getDate() + diff);\n    return result;\n}\n\n/**\n * Format date for display\n */\nfunction formatDate(date) {\n    return date.toLocaleDateString('en-US', { \n        month: 'short', \n        day: 'numeric',\n        year: 'numeric'\n    });\n}\n\n/**\n * Check if date is Sunday\n */\nfunction isSunday(date) {\n    return new Date(date).getDay() === 0;\n}\n\n/**\n * Update team sections based on league type\n */\nfunction updateTeamSections() {\n    const leagueType = document.getElementById('leagueType').value;\n    const pubLeagueSection = document.getElementById('pubLeagueTeams');\n    const ecsFcSection = document.getElementById('ecsFcTeams');\n    \n    if (leagueType === 'Pub League') {\n        pubLeagueSection.classList.remove('d-none');\n        ecsFcSection.classList.add('d-none');\n        updateTeamPreview('premier');\n        updateTeamPreview('classic');\n    } else if (leagueType === 'ECS FC') {\n        pubLeagueSection.classList.add('d-none');\n        ecsFcSection.classList.remove('d-none');\n        updateTeamPreview('ecsFc');\n    }\n}\n\n/**\n * Update team preview display\n */\nfunction updateTeamPreview(leagueType) {\n    let count, previewId, startingLetterOffset = 0;\n    \n    if (leagueType === 'premier') {\n        count = parseInt(document.getElementById('premierTeamCount').value);\n        previewId = 'premierTeamPreview';\n        startingLetterOffset = 0; // Premier starts at A\n    } else if (leagueType === 'classic') {\n        count = parseInt(document.getElementById('classicTeamCount').value);\n        previewId = 'classicTeamPreview';\n        // Classic starts after Premier teams\n        const premierCount = parseInt(document.getElementById('premierTeamCount').value) || 0;\n        startingLetterOffset = premierCount;\n    } else if (leagueType === 'ecsFc') {\n        count = parseInt(document.getElementById('ecsFcTeamCount').value);\n        previewId = 'ecsFcTeamPreview';\n        startingLetterOffset = 0; // ECS FC is standalone, starts at A\n    }\n    \n    const previewDiv = document.getElementById(previewId);\n    const teamLabels = [];\n    \n    // Generate team names with proper letter sequence\n    for (let i = 0; i < count; i++) {\n        const letter = String.fromCharCode(65 + startingLetterOffset + i);\n        teamLabels.push(`Team ${letter}`);\n    }\n    \n    // Show starting letter range for clarity\n    const startLetter = String.fromCharCode(65 + startingLetterOffset);\n    const endLetter = String.fromCharCode(65 + startingLetterOffset + count - 1);\n    const rangeText = count > 1 ? `Teams ${startLetter}-${endLetter}` : `Team ${startLetter}`;\n    \n    previewDiv.innerHTML = `\n        <div class=\"small text-muted mb-2\">${rangeText} to be created:</div>\n        <div class=\"d-flex flex-wrap gap-1\">\n            ${teamLabels.map(name => `<span class=\"badge bg-light text-dark border\">${name}</span>`).join('')}\n        </div>\n    `;\n}\n\n/**\n * Add CSS for spinner animation and calendar styling\n */\nfunction addSpinnerCSS() {\n    const style = document.createElement('style');\n    style.textContent = `\n        .spin {\n            animation: spin 1s linear infinite;\n        }\n        @keyframes spin {\n            0% { transform: rotate(0deg); }\n            100% { transform: rotate(360deg); }\n        }\n    `;\n    document.head.appendChild(style);\n}\n\n/**\n * Add custom CSS for calendar styling\n */\nfunction addCalendarCSS() {\n    if (document.getElementById('calendar-custom-css')) return; // Don't add twice\n    \n    const style = document.createElement('style');\n    style.id = 'calendar-custom-css';\n    style.textContent = `\n        .calendar-grid {\n            display: grid;\n            grid-template-columns: repeat(auto-fit, minmax(160px, 1fr));\n            gap: 12px;\n            padding: 8px;\n        }\n        \n        .week-card {\n            border: 2px solid var(--ecs-border, #e9ecef);\n            border-radius: 8px;\n            overflow: hidden;\n            transition: all 0.2s ease;\n            background: white;\n        }\n\n        .draggable-week {\n            cursor: grab;\n            position: relative;\n        }\n\n        .draggable-week:hover {\n            transform: translateY(-2px);\n            box-shadow: 0 4px 12px rgba(0,0,0,0.15);\n            border-color: var(--ecs-primary, #7C3AED);\n        }\n        \n        .drag-handle {\n            font-size: 12px;\n            opacity: 0.6;\n            transition: opacity 0.2s ease;\n        }\n        \n        .draggable-week:hover .drag-handle {\n            opacity: 1;\n        }\n        \n        .week-card:not(.dragging):hover {\n            transform: translateY(-1px);\n            box-shadow: 0 2px 8px rgba(0,0,0,0.1);\n        }\n        \n        .week-card.dragging {\n            opacity: 0.7;\n            transform: rotate(5deg);\n            cursor: grabbing;\n        }\n        \n        .week-header {\n            padding: 8px 12px;\n            color: white;\n            font-weight: 600;\n            display: flex;\n            justify-content: space-between;\n            align-items: center;\n        }\n        \n        .week-header .drag-handle {\n            font-size: 12px;\n            opacity: 0.8;\n        }\n        \n        .week-body {\n            padding: 12px;\n            text-align: center;\n        }\n        \n        .week-date {\n            font-size: 13px;\n            color: var(--ecs-muted, #6c757d);\n            margin-bottom: 4px;\n        }\n\n        .week-type {\n            font-weight: 600;\n            color: var(--ecs-dark, #495057);\n            margin-bottom: 6px;\n        }\n\n        .divisions {\n            font-size: 11px;\n            color: var(--ecs-muted, #6c757d);\n            background: var(--ecs-neutral-5, #f8f9fa);\n            padding: 2px 6px;\n            border-radius: 12px;\n            display: inline-block;\n        }\n\n        .drop-zone {\n            border: 2px dashed var(--ecs-primary, #7C3AED) !important;\n            background: var(--ecs-primary-light-bg, rgba(124, 58, 237, 0.1)) !important;\n        }\n    `;\n    document.head.appendChild(style);\n}\n\n/**\n * Initialize simple drag and drop for special weeks only\n * CONVERTED TO EVENT DELEGATION: Drag events still need direct addEventListener\n * as they cannot be delegated through data-action attributes\n */\nfunction initializeWeekCardDragAndDrop() {\n    const draggableWeeks = document.querySelectorAll('.draggable-week');\n\n    draggableWeeks.forEach(week => {\n        // NOTE: Drag events must use addEventListener - no event delegation alternative\n        week.addEventListener('dragstart', (e) => {\n            e.currentTarget.classList.add('dragging');\n            e.dataTransfer.setData('text/plain', e.currentTarget.dataset.weekType);\n            e.dataTransfer.effectAllowed = 'move';\n        });\n        \n        week.addEventListener('dragend', (e) => {\n            e.currentTarget.classList.remove('dragging');\n        });\n    });\n    \n    // Make all week cards drop zones\n    const allWeeks = document.querySelectorAll('.week-card');\n    allWeeks.forEach(week => {\n        week.addEventListener('dragover', (e) => {\n            e.preventDefault();\n            e.dataTransfer.dropEffect = 'move';\n            week.classList.add('drop-zone');\n        });\n        \n        week.addEventListener('dragleave', (e) => {\n            week.classList.remove('drop-zone');\n        });\n        \n        week.addEventListener('drop', (e) => {\n            e.preventDefault();\n            week.classList.remove('drop-zone');\n            \n            const draggedType = e.dataTransfer.getData('text/plain');\n            const draggedElement = document.querySelector(`.dragging[data-week-type=\"${draggedType}\"]`);\n            const dropTarget = e.currentTarget;\n            \n            if (draggedElement && dropTarget && draggedElement !== dropTarget) {\n                swapWeekPositions(draggedElement, dropTarget);\n            }\n        });\n    });\n}\n\nfunction swapWeekPositions(draggedWeek, targetWeek) {\n    // Get the parent container\n    const container = draggedWeek.parentNode;\n    \n    // Create placeholder to mark dragged week's position\n    const placeholder = document.createElement('div');\n    container.insertBefore(placeholder, draggedWeek);\n    \n    // Move dragged week to target position\n    container.insertBefore(draggedWeek, targetWeek);\n    \n    // Move target week to dragged week's original position\n    container.insertBefore(targetWeek, placeholder);\n    \n    // Remove placeholder\n    container.removeChild(placeholder);\n    \n    // Update week numbers\n    updateWeekNumbers();\n}\n\nfunction updateWeekNumbers() {\n    const weekCards = document.querySelectorAll('.week-card');\n    \n    // Create a new calendar state based on the current DOM order\n    const newWeeks = [];\n    const startDate = calendarState.startDate;\n    \n    weekCards.forEach((card, index) => {\n        const newWeekNumber = index + 1;\n        const weekType = card.dataset.weekType;\n        \n        // Update the visual display\n        card.dataset.weekNumber = newWeekNumber;\n        const weekNumberSpan = card.querySelector('.week-number');\n        if (weekNumberSpan) {\n            weekNumberSpan.textContent = `Week ${newWeekNumber}`;\n        }\n        \n        // Update the week date display\n        const weekDateSpan = card.querySelector('.week-date');\n        \n        // Calculate the date for this week\n        const weekDate = new Date(startDate);\n        weekDate.setDate(startDate.getDate() + (index * 7));\n        \n        if (weekDateSpan) {\n            weekDateSpan.textContent = weekDate.toLocaleDateString('en-US', { \n                month: 'short', \n                day: 'numeric', \n                year: 'numeric' \n            });\n        }\n        \n        // Find ALL corresponding weeks in calendarState that match this week type\n        // Use a more flexible matching approach that handles reordering\n        const matchingWeeks = calendarState.weeks.filter(w => w.type === weekType);\n        \n        if (matchingWeeks.length > 0) {\n            // During drag & drop, preserve existing weeks but update their positions\n            // Group by division to ensure we get one week per division\n            const weeksByDivision = {};\n            matchingWeeks.forEach(week => {\n                if (!weeksByDivision[week.division]) {\n                    weeksByDivision[week.division] = week;\n                }\n            });\n            \n            // Update each division's week with the new position\n            Object.values(weeksByDivision).forEach(week => {\n                // Recalculate practice session flag based on NEW position\n                // Classic has practice sessions on weeks 1 & 3 (only for Regular weeks)\n                const isPractice = week.division === 'classic' && \n                                   week.type === 'Regular' && \n                                   (newWeekNumber === 1 || newWeekNumber === 3);\n                \n                newWeeks.push({\n                    ...week, // Preserve all original properties except isPractice\n                    weekNumber: newWeekNumber,\n                    date: new Date(weekDate),\n                    isPractice: isPractice // Recalculate based on new position\n                });\n            });\n        }\n    });\n    \n    // Update the calendar state with the new order\n    calendarState.weeks = newWeeks.sort((a, b) => a.weekNumber - b.weekNumber);\n    \n    console.log('Weeks reordered via drag & drop - calendarState updated');\n    console.log('New week order:', calendarState.weeks.map(w => `W${w.weekNumber}:${w.type}(${w.division})`).join(', '));\n}\n\n/**\n * Helper to create division summary card\n */\nfunction createDivisionCard(name, data, color, icon) {\n    return `<div class=\"col-md-6\"><div class=\"card border-${color}\"><div class=\"card-header bg-${color} text-white\"><h6 class=\"mb-0\"><i class=\"fas fa-${icon} me-2\"></i>${name}</h6></div><div class=\"card-body\"><ul class=\"list-unstyled mb-0\">${Object.entries(data).map(([k,v]) => `<li><strong>${k}:</strong> ${v}</li>`).join('')}</ul></div></div></div>`;\n}\n\n/**\n * Generate season summary for final step\n */\nfunction generateSeasonSummary() {\n    const config = {\n        name: document.getElementById('seasonName').value,\n        type: document.getElementById('leagueType').value,\n        startDate: document.getElementById('seasonStartDate').value,\n        current: document.getElementById('setAsCurrent').checked,\n        schedule: {\n            'Premier Start': document.getElementById('premierStartTime')?.value || 'N/A',\n            'Classic Start': document.getElementById('classicStartTime')?.value || 'N/A',\n            'Match Duration': `${document.getElementById('matchDuration')?.value || 'N/A'} min`,\n            'Fields': getWizardFieldConfig().map(f => f.name).join(', ') || 'N/A'\n        }\n    };\n    \n    let summary = `<div class=\"alert alert-info\"><h5><i class=\"fas fa-info-circle me-2\"></i>Season Creation Summary</h5><p class=\"mb-0\">Review configuration before creating season.</p></div><div class=\"row mb-4\">${createDivisionCard('Season Details', {'Name': config.name, 'Type': config.type, 'Start Date': config.startDate, 'Set as Current': config.current ? 'Yes' : 'No'}, 'secondary', 'calendar')}${createDivisionCard('Schedule Configuration', config.schedule, 'secondary', 'cog')}</div>`;\n    \n    if (config.type === 'Pub League') {\n        // Calculate actual week counts from calendarState\n        // Get the configured values to use as reference\n        const configuredPremierRegular = parseInt(document.getElementById('premierRegularWeeks')?.value) || 7;\n        const configuredPremierPlayoffs = parseInt(document.getElementById('premierPlayoffWeeks')?.value) || 2;\n        const configuredClassicRegular = parseInt(document.getElementById('classicRegularWeeks')?.value) || 8;\n        const configuredClassicPlayoffs = parseInt(document.getElementById('classicPlayoffWeeks')?.value) || 1;\n        \n        // Count weeks from calendarState, but use configured values as fallback\n        // MIXED weeks count as playoffs for Premier (since Premier playoffs while Classic plays regular)\n        const premierRegularWeeks = calendarState.weeks ? calendarState.weeks.filter(w => w.division === 'premier' && w.type === 'Regular').length : configuredPremierRegular;\n        const premierPlayoffWeeks = calendarState.weeks ? \n            calendarState.weeks.filter(w => w.division === 'premier' && (w.type === 'PLAYOFF' || w.type === 'MIXED')).length : \n            configuredPremierPlayoffs;\n        const classicRegularWeeks = calendarState.weeks ? \n            calendarState.weeks.filter(w => w.division === 'classic' && (w.type === 'Regular' || w.type === 'MIXED')).length : \n            configuredClassicRegular;\n        const classicPlayoffWeeks = calendarState.weeks ? calendarState.weeks.filter(w => w.division === 'classic' && w.type === 'PLAYOFF').length : configuredClassicPlayoffs;\n        \n        // If the counts don't match configured values, use the configured ones (since drag/drop might have visual artifacts)\n        const finalPremierRegular = premierRegularWeeks > 0 ? premierRegularWeeks : configuredPremierRegular;\n        const finalPremierPlayoffs = premierPlayoffWeeks > 0 ? premierPlayoffWeeks : configuredPremierPlayoffs;\n        const finalClassicRegular = classicRegularWeeks > 0 ? classicRegularWeeks : configuredClassicRegular;\n        const finalClassicPlayoffs = classicPlayoffWeeks > 0 ? classicPlayoffWeeks : configuredClassicPlayoffs;\n        \n        const premier = {\n            regular: finalPremierRegular, \n            playoff: finalPremierPlayoffs, \n            teams: parseInt(document.getElementById('premierTeamCount')?.value) || 0\n        };\n        const classic = {\n            regular: finalClassicRegular, \n            playoff: finalClassicPlayoffs, \n            teams: parseInt(document.getElementById('classicTeamCount')?.value) || 0\n        };\n        \n        // Generate team letter ranges\n        const premierRange = premier.teams > 1 ? `Teams A-${String.fromCharCode(64 + premier.teams)}` : 'Team A';\n        const classicStartLetter = String.fromCharCode(65 + premier.teams);\n        const classicEndLetter = String.fromCharCode(64 + premier.teams + classic.teams);\n        const classicRange = classic.teams > 1 ? `Teams ${classicStartLetter}-${classicEndLetter}` : `Team ${classicStartLetter}`;\n        \n        summary += `<div class=\"row mb-4\">${createDivisionCard('Premier Division', {'Teams': `${premier.teams} (${premierRange})`, 'Regular': `${premier.regular} weeks`, 'Playoffs': `${premier.playoff} weeks`}, 'primary', 'trophy')}${createDivisionCard('Classic Division', {'Teams': `${classic.teams} (${classicRange})`, 'Regular': `${classic.regular} weeks`, 'Playoffs': `${classic.playoff} weeks`}, 'success', 'users')}</div>`;\n    } else {\n        const ecsfc = {regular: parseInt(document.getElementById('ecsFcRegularWeeks')?.value) || 0, playoff: parseInt(document.getElementById('ecsFcPlayoffWeeks')?.value) || 0, teams: parseInt(document.getElementById('ecsFcTeamCount')?.value) || 0};\n        summary += `<div class=\"row mb-4\"><div class=\"col-md-8 offset-md-2\">${createDivisionCard('ECS FC Division', {'Teams': ecsfc.teams, 'Regular': `${ecsfc.regular} weeks`, 'Playoffs': `${ecsfc.playoff} weeks`}, 'info', 'shield').replace('col-md-6', 'col-12')}</div></div>`;\n    }\n    \n    if (calendarState?.weeks?.length) summary += generateCombinedSchedulePreview();\n    summary += `<div class=\"alert alert-success\"><h6><i class=\"fas fa-check-circle me-2\"></i>Ready to Create Season</h6><p class=\"mb-0\">This will create your ${config.type} season. ${config.current ? 'Will be set as current active season.' : 'Created as draft season.'}</p></div>`;\n    \n    const summaryElement = document.getElementById('seasonSummary');\n    if (summaryElement) {\n        summaryElement.innerHTML = summary;\n    }\n}\n\n/**\n * Generate combined schedule preview for final step\n */\nfunction generateCombinedSchedulePreview() {\n    if (!calendarState || !calendarState.weeks || calendarState.weeks.length === 0) {\n        return '';\n    }\n    \n    // Group weeks by week number and date\n    const weeksByNumber = {};\n    calendarState.weeks.forEach(week => {\n        if (!weeksByNumber[week.weekNumber]) {\n            weeksByNumber[week.weekNumber] = {\n                weekNumber: week.weekNumber,\n                date: week.date,\n                divisions: {}\n            };\n        }\n        \n        // Handle shared special weeks (TST, FUN, BYE) - they should appear for both divisions\n        if (['TST', 'FUN', 'BYE'].includes(week.type)) {\n            weeksByNumber[week.weekNumber].divisions['premier'] = {\n                type: week.type,\n                isPractice: week.isPractice || false\n            };\n            weeksByNumber[week.weekNumber].divisions['classic'] = {\n                type: week.type,\n                isPractice: week.isPractice || false\n            };\n        } else {\n            // Regular weeks and playoffs are division-specific\n            weeksByNumber[week.weekNumber].divisions[week.division] = {\n                type: week.type,\n                isPractice: week.isPractice || false\n            };\n        }\n    });\n    \n    // Convert to sorted array and ensure both divisions have entries for each week\n    const combinedWeeks = Object.values(weeksByNumber).sort((a, b) => a.weekNumber - b.weekNumber);\n    \n    // Fill in missing division entries with defaults\n    combinedWeeks.forEach(week => {\n        if (!week.divisions.premier) {\n            week.divisions.premier = { type: 'Regular', isPractice: false };\n        }\n        if (!week.divisions.classic) {\n            week.divisions.classic = { type: 'Regular', isPractice: false };\n        }\n    });\n    \n    let preview = `\n        <div class=\"row mb-4\">\n            <div class=\"col-12\">\n                <div class=\"card\">\n                    <div class=\"card-header\">\n                        <h6 class=\"mb-0\"><i class=\"fas fa-calendar-event me-2\"></i>Final Schedule Preview</h6>\n                    </div>\n                    <div class=\"card-body\">\n                        <div class=\"table-responsive\">\n                            <table class=\"table table-sm table-hover\">\n                                <thead>\n                                    <tr>\n                                        <th width=\"10%\">Week</th>\n                                        <th width=\"15%\">Date</th>\n                                        <th width=\"35%\">Premier Division</th>\n                                        <th width=\"35%\">Classic Division</th>\n                                        <th width=\"5%\">Status</th>\n                                    </tr>\n                                </thead>\n                                <tbody>`;\n    \n    combinedWeeks.forEach(week => {\n        const formattedDate = week.date.toLocaleDateString('en-US', { \n            month: 'short', \n            day: 'numeric' \n        });\n        \n        const premier = week.divisions.premier || { type: 'Regular', isPractice: false };\n        const classic = week.divisions.classic || { type: 'Regular', isPractice: false };\n        \n        // Format division info\n        const formatDivisionInfo = (divisionData, division) => {\n            let typeText = '';\n            let badgeClass = 'bg-secondary';\n            \n            switch (divisionData.type) {\n                case 'Regular':\n                    typeText = divisionData.isPractice ? 'Practice Session' : 'Regular Season';\n                    badgeClass = divisionData.isPractice ? 'bg-success' : 'bg-secondary';\n                    break;\n                case 'FUN':\n                    typeText = 'Fun Week';\n                    badgeClass = 'bg-warning';\n                    break;\n                case 'TST':\n                    typeText = 'TST Week';\n                    badgeClass = 'bg-info';\n                    break;\n                case 'PLAYOFF':\n                    typeText = 'Playoffs';\n                    badgeClass = 'bg-danger';\n                    break;\n                case 'MIXED':\n                    // For MIXED weeks, show the actual activity for each division\n                    if (division === 'premier') {\n                        typeText = 'Playoffs';\n                        badgeClass = 'bg-danger';\n                    } else {\n                        typeText = 'Regular Season';\n                        badgeClass = 'bg-secondary';\n                    }\n                    break;\n                case 'BYE':\n                    typeText = 'BYE Week';\n                    badgeClass = 'bg-dark';\n                    break;\n                default:\n                    typeText = divisionData.type;\n                    badgeClass = 'bg-secondary';\n            }\n            \n            return `<span class=\"badge ${badgeClass}\">${typeText}</span>`;\n        };\n        \n        // Determine if this is a special week\n        const isSpecialWeek = premier.type !== 'Regular' || classic.type !== 'Regular' || \n                             premier.isPractice || classic.isPractice;\n        \n        const statusIcon = isSpecialWeek ? \n            '<i class=\"fas fa-star text-warning\" title=\"Special Week\"></i>' : \n            '<i class=\"fas fa-calendar text-muted\" title=\"Regular Week\"></i>';\n        \n        preview += `\n            <tr ${isSpecialWeek ? 'class=\"table-warning\"' : ''}>\n                <td><strong>${week.weekNumber}</strong></td>\n                <td>${formattedDate}</td>\n                <td>${formatDivisionInfo(premier, 'premier')}</td>\n                <td>${formatDivisionInfo(classic, 'classic')}</td>\n                <td class=\"text-center\">${statusIcon}</td>\n            </tr>`;\n    });\n    \n    preview += `\n                                </tbody>\n                            </table>\n                        </div>\n                        <div class=\"mt-3\">\n                            <small class=\"text-muted\">\n                                <i class=\"fas fa-info-circle me-1\"></i>\n                                This preview shows how both divisions will be scheduled together. \n                                Special weeks are highlighted in yellow.\n                            </small>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>`;\n    \n    return preview;\n}\n\n/**\n * Helper to get form data for season creation\n */\nfunction getFormData() {\n    const leagueType = document.getElementById('leagueType').value;\n    const getId = id => document.getElementById(id);\n    const getVal = id => getId(id)?.value;\n    const getChecked = id => getId(id)?.checked;\n    \n    return {\n        season_name: getVal('seasonName'),\n        league_type: leagueType,\n        set_as_current: getChecked('setAsCurrent'),\n        season_start_date: calendarState.startDate.toISOString().split('T')[0],\n        regular_weeks: parseInt(document.getElementById('premierRegularWeeks')?.value) || 7,\n        total_weeks: parseInt(document.getElementById('totalSeasonWeeks')?.value) || 11,\n        week_configs: getUniqueWeekConfigs(),\n        premier_start_time: getVal('premierStartTime') || '08:20',\n        classic_start_time: getVal('classicStartTime') || '13:10',\n        match_duration: parseInt(getVal('matchDuration')) || 60,\n        fields: getWizardFieldConfig().map(f => f.name).join(',') || 'North,South',\n        enable_time_rotation: getChecked('enableTimeRotation') || true,\n        break_duration: parseInt(getVal('breakDuration')) || 10,\n        enable_practice_weeks: getChecked('classicHasPractice') || false,\n        practice_weeks: getClassicPracticeWeeks() || \"\",\n        ...(leagueType === 'Pub League' ? {\n            premier_teams: parseInt(getVal('premierTeamCount')) || 8,\n            classic_teams: parseInt(getVal('classicTeamCount')) || 4,\n            premier_regular_weeks: parseInt(getVal('premierRegularWeeks')) || 7,\n            premier_playoff_weeks: parseInt(getVal('premierPlayoffWeeks')) || 2,\n            classic_regular_weeks: parseInt(getVal('classicRegularWeeks')) || 8,\n            classic_playoff_weeks: parseInt(getVal('classicPlayoffWeeks')) || 1,\n            premier_has_fun_week: getChecked('includeFunWeek') || false,\n            premier_has_tst_week: getChecked('includeTstWeek') || false,\n            premier_has_bonus_week: getChecked('includeByeWeek') || false,\n            classic_has_practice_sessions: getChecked('classicHasPractice') || false,\n            classic_practice_weeks: getClassicPracticeWeeks() || \"\",\n            classic_practice_game_number: 1\n        } : {\n            ecs_fc_teams: parseInt(getVal('ecsFcTeamCount')) || 8,\n            ecs_fc_regular_weeks: parseInt(getVal('ecsFcRegularWeeks')) || 7,\n            ecs_fc_playoff_weeks: parseInt(getVal('ecsFcPlayoffWeeks')) || 1\n        })\n    };\n}\n\n/**\n * Create season using wizard data\n */\nfunction createSeason() {\n    if (!calendarState?.weeks?.length) {\n        alert('Please ensure the calendar is generated.');\n        return;\n    }\n    \n    // Debug: Check start time values before sending\n    console.log('Debug - Premier start time element:', document.getElementById('premierStartTime'));\n    console.log('Debug - Premier start time value:', document.getElementById('premierStartTime')?.value);\n    console.log('Debug - Classic start time element:', document.getElementById('classicStartTime'));  \n    console.log('Debug - Classic start time value:', document.getElementById('classicStartTime')?.value);\n    \n    // CONVERTED TO EVENT DELEGATION: Use data-action instead of onclick\n    const createButton = document.querySelector('[data-action=\"create-season\"]');\n    if (createButton) {\n        createButton.disabled = true;\n        createButton.innerHTML = '<i class=\"fas fa-spinner fa-spin me-2\"></i>Creating Season...';\n    }\n    \n    showLoadingModal('Creating Season', 'Please wait...');\n    \n    const formData = getFormData();\n    console.log('Sending season data:', formData);\n    \n    fetch(window.autoScheduleUrls?.createSeasonWizard || '/auto-schedule/create-season', {\n        method: 'POST',\n        headers: {\n            'Content-Type': 'application/json', \n            'X-CSRFToken': document.querySelector('meta[name=csrf-token]')?.getAttribute('content') || ''\n        },\n        body: JSON.stringify(formData)\n    })\n    .then(response => response.json())\n    .then(data => {\n        hideLoadingModal();\n        if (data.success) {\n            showSuccessModal('Season Created!', 'Redirecting...', () => {\n                window.location.href = data.redirect_url || '/auto-schedule/';\n            });\n        } else {\n            if (createButton) {\n                createButton.disabled = false;\n                createButton.innerHTML = '<i class=\"fas fa-check me-2\"></i>Create Season';\n            }\n            showErrorModal('Error', data.error || 'An error occurred.');\n        }\n    })\n    .catch(error => {\n        console.error('Season creation error:', error);\n        hideLoadingModal();\n        if (createButton) {\n            createButton.disabled = false;\n            createButton.innerHTML = '<i class=\"fas fa-check me-2\"></i>Create Season';\n        }\n        showErrorModal('Network Error', 'Failed to create season.');\n    });\n}\n\n// Add spinner CSS when script loads\naddSpinnerCSS();\n\n/**\n * Generic modal utility\n */\nfunction showModal(id, title, message, type = 'info', callback = null) {\n    const config = {\n        loading: { icon: '<div class=\"spinner-border text-primary mb-3\"><span class=\"visually-hidden\">Loading...</span></div>', color: '', backdrop: 'data-bs-backdrop=\"static\"', footer: '', autoClose: false },\n        success: { icon: '<i class=\"ti ti-check-circle me-2\"></i>', color: 'text-success', backdrop: '', footer: '', autoClose: 2000 },\n        error: { icon: '<i class=\"ti ti-alert-circle me-2\"></i>', color: 'text-danger', backdrop: '', footer: '<div class=\"modal-footer border-0\"><button type=\"button\" class=\"btn btn-secondary\" data-bs-dismiss=\"modal\">Close</button></div>', autoClose: false }\n    };\n\n    const cfg = config[type] || config.info;\n    const modalHtml = `<div class=\"modal fade\" id=\"${id}\" tabindex=\"-1\" ${cfg.backdrop}><div class=\"modal-dialog modal-dialog-centered\"><div class=\"modal-content\"><div class=\"modal-header border-0\"><h5 class=\"modal-title ${cfg.color}\">${cfg.icon}${title}</h5>${type === 'error' ? '<button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\"></button>' : ''}</div><div class=\"modal-body ${type === 'loading' ? 'text-center' : ''} py-4\"><p class=\"mb-0\">${message}</p></div>${cfg.footer}</div></div></div>`;\n\n    document.getElementById(id)?.remove();\n    document.body.insertAdjacentHTML('beforeend', modalHtml);\n\n    ModalManager.show(id);\n    \n    if (cfg.autoClose) {\n        setTimeout(() => {\n            bootstrap.Modal.getInstance(document.getElementById(id))?.hide();\n            if (callback) callback();\n        }, cfg.autoClose);\n    }\n}\n\nfunction showLoadingModal(title, message) { showModal('loadingModal', title, message, 'loading'); }\nfunction hideLoadingModal() { document.getElementById('loadingModal')?.remove(); }\nfunction showSuccessModal(title, message, callback) { showModal('successModal', title, message, 'success', callback); }\nfunction showErrorModal(title, message) { showModal('errorModal', title, message, 'error'); }\n\n// ========================================\n// Enhanced Wizard Functions\n// ========================================\n\n/**\n * Apply quick setup templates for wizard configuration\n */\nfunction applyWizardTemplate(templateType) {\n    switch(templateType) {\n        case 'standard':\n            // Standard setup: Premier 8:20, Classic 1:10, Time rotation enabled\n            document.getElementById('premierStartTime').value = '08:20';\n            document.getElementById('classicStartTime').value = '13:10';\n            document.getElementById('matchDuration').value = '70';\n            document.getElementById('breakDuration').value = '10';\n            document.getElementById('enableTimeRotation').checked = true;\n            document.getElementById('classicHasPractice').checked = false;\n            // Hide practice weeks selection using CSS class\n            document.getElementById('practice-weeks-selection').classList.add('d-none');\n            break;\n\n        case 'classic-practice':\n            // Classic practice setup: Include practice weeks 1 & 3\n            document.getElementById('premierStartTime').value = '08:20';\n            document.getElementById('classicStartTime').value = '13:10';\n            document.getElementById('matchDuration').value = '70';\n            document.getElementById('breakDuration').value = '10';\n            document.getElementById('enableTimeRotation').checked = true;\n            document.getElementById('classicHasPractice').checked = true;\n            // Show practice weeks selection using CSS class\n            document.getElementById('practice-weeks-selection').classList.remove('d-none');\n\n            // Check weeks 1 and 3 for practice\n            setTimeout(() => {\n                updateWizardPracticeWeekOptions();\n                const week1 = document.getElementById('wizard-practice-week-1');\n                const week3 = document.getElementById('wizard-practice-week-3');\n                if (week1) week1.checked = true;\n                if (week3) week3.checked = true;\n            }, 100);\n            break;\n\n        case 'custom':\n            // Custom setup - just clear and let user configure\n            document.getElementById('classicHasPractice').checked = false;\n            // Hide practice weeks selection using CSS class\n            document.getElementById('practice-weeks-selection').classList.add('d-none');\n            break;\n    }\n    \n    // Show success feedback\n    const template = templateType.charAt(0).toUpperCase() + templateType.slice(1);\n    showToast(`${template} template applied successfully!`, 'success');\n}\n\n/**\n * Add new field configuration in wizard\n */\nfunction addWizardField() {\n    const container = document.getElementById('wizard-field-configurations');\n    const fieldCount = container.children.length;\n    \n    const fieldItem = document.createElement('div');\n    fieldItem.className = 'wizard-field-item mb-3';\n    \n    // CONVERTED TO EVENT DELEGATION: Removed onclick, using data-action only\n    fieldItem.innerHTML = `\n        <div class=\"row\">\n            <div class=\"col-md-8\">\n                <label class=\"form-label\">Field Name</label>\n                <input type=\"text\" class=\"form-control wizard-field-name\" placeholder=\"Field ${fieldCount + 1}\" required>\n                <div class=\"form-text\">e.g., \"North Field\", \"South Field\", \"Main Pitch\"</div>\n            </div>\n            <div class=\"col-md-2 d-flex align-items-end\">\n                <button type=\"button\" class=\"btn btn-outline-danger\" data-action=\"remove-wizard-field\">\n                    <i class=\"fas fa-times\"></i>\n                </button>\n            </div>\n        </div>\n    `;\n    \n    container.appendChild(fieldItem);\n    updateWizardFieldRemoveButtons();\n}\n\n/**\n * Remove field configuration in wizard\n */\nfunction removeWizardField(button) {\n    const fieldItems = document.querySelectorAll('.wizard-field-item');\n    if (fieldItems.length > 2) { // Keep at least 2 fields\n        button.closest('.wizard-field-item').remove();\n        updateWizardFieldRemoveButtons();\n    }\n}\n\n/**\n * Update field remove button states\n */\nfunction updateWizardFieldRemoveButtons() {\n    const fieldItems = document.querySelectorAll('.wizard-field-item');\n    const removeButtons = document.querySelectorAll('[data-action=\"remove-field\"]');\n\n    removeButtons.forEach(button => {\n        button.disabled = fieldItems.length <= 2;\n    });\n}\n\n/**\n * Update practice week options based on season length\n */\nfunction updateWizardPracticeWeekOptions() {\n    // Try to get season length from various sources\n    let weekCount = 7; // default\n    \n    // Check if we're in structure configuration step\n    const premierWeeks = document.getElementById('premierRegularWeeks');\n    const classicWeeks = document.getElementById('classicRegularWeeks');\n    const totalWeeks = document.getElementById('totalSeasonWeeks');\n    \n    if (premierWeeks && classicWeeks) {\n        weekCount = Math.max(parseInt(premierWeeks.value) || 7, parseInt(classicWeeks.value) || 8);\n    } else if (totalWeeks) {\n        weekCount = Math.min(8, parseInt(totalWeeks.value || 11) - 3); // For classic practice weeks\n    }\n    \n    // Handle only classic practice week container (Step 2)\n    const container = document.getElementById('classicPracticeWeekCheckboxes');\n    \n    if (container) {\n        container.innerHTML = '';\n        \n        for (let i = 1; i <= weekCount; i++) {\n            const div = document.createElement('div');\n            div.className = 'form-check form-check-inline';\n            const checked = (i === 1 || i === 3) ? 'checked' : '';\n            \n            div.innerHTML = `\n                <input class=\"form-check-input\" type=\"checkbox\" id=\"practice-week-${i}\" value=\"${i}\" ${checked}>\n                <label class=\"form-check-label\" for=\"practice-week-${i}\">Week ${i}</label>\n            `;\n            container.appendChild(div);\n        }\n    }\n}\n\n\n/**\n * Get wizard field configuration data\n */\nfunction getWizardFieldConfig() {\n    const fieldItems = document.querySelectorAll('.wizard-field-item');\n    if (fieldItems.length === 0) {\n        // Return default fields if no wizard fields found\n        return [{ name: 'North' }, { name: 'South' }];\n    }\n    \n    const fieldConfig = [];\n    \n    fieldItems.forEach(item => {\n        const name = item.querySelector('.wizard-field-name')?.value?.trim();\n        \n        if (name) {\n            fieldConfig.push({\n                name: name\n            });\n        }\n    });\n    \n    // If no valid fields found, return defaults\n    return fieldConfig.length > 0 ? fieldConfig : [{ name: 'North' }, { name: 'South' }];\n}\n\n/**\n * Get unique week configurations for both divisions\n */\nfunction getUniqueWeekConfigs() {\n    const uniqueWeeks = new Map();\n    \n    // Process all weeks and create entries for both divisions where appropriate\n    calendarState.weeks.forEach(w => {\n        const weekKey = `${w.weekNumber}-${w.division}`;\n        \n        if (!uniqueWeeks.has(weekKey)) {\n            uniqueWeeks.set(weekKey, {\n                date: w.date.toISOString().split('T')[0], \n                type: w.type.toUpperCase(), \n                week_number: w.weekNumber,\n                division: w.division, // Keep division for backend filtering\n                is_practice: w.isPractice || false\n            });\n        }\n    });\n    \n    // Convert to array and sort by week number, then by division\n    return Array.from(uniqueWeeks.values()).sort((a, b) => {\n        if (a.week_number !== b.week_number) {\n            return a.week_number - b.week_number;\n        }\n        return a.division.localeCompare(b.division);\n    });\n}\n\n/**\n * Get classic practice weeks configuration from Step 2\n */\nfunction getClassicPracticeWeeks() {\n    const enablePractice = document.getElementById('classicHasPractice');\n    if (!enablePractice || !enablePractice.checked) {\n        return null;\n    }\n    \n    const checkboxes = document.querySelectorAll('#classicPracticeWeekCheckboxes input[type=\"checkbox\"]:checked');\n    const practiceWeeks = Array.from(checkboxes).map(cb => cb.value);\n    \n    return practiceWeeks.length > 0 ? practiceWeeks.join(',') : null;\n}\n\n/**\n * Enhanced validation for wizard step 4\n */\nfunction validateWizardStep4() {\n    const premierTime = document.getElementById('premierStartTime').value;\n    const classicTime = document.getElementById('classicStartTime').value;\n    const matchDuration = document.getElementById('matchDuration').value;\n    const fieldConfig = getWizardFieldConfig();\n    \n    if (!premierTime || !classicTime) {\n        showErrorModal('Configuration Error', 'Both Premier and Classic start times are required.');\n        return false;\n    }\n    \n    if (!matchDuration || matchDuration < 30 || matchDuration > 120) {\n        showErrorModal('Configuration Error', 'Match duration must be between 30 and 120 minutes.');\n        return false;\n    }\n    \n    if (fieldConfig.length < 2) {\n        showErrorModal('Configuration Error', 'At least 2 fields are required for back-to-back scheduling.');\n        return false;\n    }\n    \n    // Check for duplicate field names\n    const fieldNames = fieldConfig.map(f => f.name.toLowerCase());\n    const uniqueNames = [...new Set(fieldNames)];\n    if (fieldNames.length !== uniqueNames.length) {\n        showErrorModal('Configuration Error', 'Field names must be unique.');\n        return false;\n    }\n    \n    // Check for empty field names\n    if (fieldConfig.some(f => !f.name || f.name.trim() === '')) {\n        showErrorModal('Configuration Error', 'All fields must have names.');\n        return false;\n    }\n    \n    return true;\n}\n\n/**\n * Show toast notification\n */\nfunction showToast(message, type = 'info') {\n    // Simple toast implementation\n    const toast = document.createElement('div');\n\n    // REFACTORED: Use utility classes for toast styling\n    // - z-index-9999: Ensures toast appears above all content including modals (from layout-utils.css)\n    // - min-w-300: Ensures readable toast width across different message lengths (from sizing-utils.css)\n    toast.className = `alert alert-${type} position-fixed top-0 end-0 m-3 z-index-9999 min-w-300`;\n\n    // CONVERTED TO EVENT DELEGATION: Replaced onclick with data-action\n    toast.innerHTML = `\n        <i class=\"fas fa-${type === 'success' ? 'check' : 'info'}-circle me-2\"></i>\n        ${message}\n        <button type=\"button\" class=\"btn-close\" data-action=\"close-toast\"></button>\n    `;\n\n    document.body.appendChild(toast);\n\n    // Auto-remove after 3 seconds\n    setTimeout(() => {\n        if (toast.parentElement) {\n            toast.remove();\n        }\n    }, 3000);\n}\n\n// ========================================\n// Enhanced Season Structure Functions\n// ========================================\n\n/**\n * Update season structure breakdown based on total weeks\n */\nfunction updateSeasonStructure() {\n    const totalWeeks = parseInt(document.getElementById('totalSeasonWeeks').value);\n    const breakdown = document.getElementById('seasonBreakdown');\n    \n    // Fixed playoff weeks\n    const premierPlayoffs = 2;\n    const classicPlayoffs = 1;\n    const specialWeeksCount = getEnabledSpecialWeeksCount();\n    \n    // Calculate regular weeks based on total season length\n    // Total weeks = regular weeks + playoff weeks + special weeks\n    // For Premier: totalWeeks = premierRegular + 2 + specialWeeks\n    // For Classic: totalWeeks = classicRegular + 1 + specialWeeks\n    \n    const premierRegular = totalWeeks - premierPlayoffs - specialWeeksCount;\n    const classicRegular = totalWeeks - classicPlayoffs - specialWeeksCount;\n    \n    // Update the form inputs\n    const premierRegularInput = document.getElementById('premierRegularWeeks');\n    const classicRegularInput = document.getElementById('classicRegularWeeks');\n    \n    if (premierRegularInput) {\n        premierRegularInput.value = premierRegular;\n    }\n    if (classicRegularInput) {\n        classicRegularInput.value = classicRegular;\n    }\n    \n    // Update the breakdown display\n    breakdown.innerHTML = `\n        <div><strong>Premier:</strong> ${premierRegular} regular + ${premierPlayoffs} playoff weeks</div>\n        <div><strong>Classic:</strong> ${classicRegular} regular + ${classicPlayoffs} playoff week</div>\n        <div class=\"text-muted\"><small>Plus ${specialWeeksCount} shared special weeks</small></div>\n        <div class=\"text-muted\"><small>Total season length: ${totalWeeks} weeks</small></div>\n    `;\n    \n    // Regenerate calendar if we're on step 3\n    if (typeof generateCalendarPreview === 'function' && currentStep === 3) {\n        generateCalendarPreview(true);\n    }\n}\n\n/**\n * Count enabled special weeks\n */\nfunction getEnabledSpecialWeeksCount() {\n    let count = 0;\n    if (document.getElementById('includeTstWeek')?.checked) count++;\n    if (document.getElementById('includeFunWeek')?.checked) count++;\n    if (document.getElementById('includeByeWeek')?.checked) count++;\n    return count;\n}\n\n// Special week placement selectors removed - users can drag & drop in calendar preview\n\n\n/**\n * CONVERTED TO EVENT DELEGATION: DOMContentLoaded handler removed\n * All event listeners are now handled by the centralized EventDelegation system\n * via data-action, data-on-change, and data-on-input attributes\n *\n * Initialization functions are called when needed (e.g., when wizard opens)\n * Change events are handled through EventDelegation.handleChange() via data-on-change\n */\n\n// Initialize on page load if needed\nfunction initAutoScheduleWizard() {\n    // Page guard - only run on auto schedule wizard page\n    if (!document.getElementById('totalSeasonWeeks')) {\n        return; // Not on auto schedule wizard page\n    }\n\n    // Initialize field remove button states\n    updateWizardFieldRemoveButtons();\n\n    // Initialize season structure calculations\n    updateSeasonStructure();\n    updateWizardPracticeWeekOptions();\n}\n\nif (document.readyState === 'loading') {\n    document.addEventListener('DOMContentLoaded', initAutoScheduleWizard);\n} else {\n    // DOM already loaded\n    initAutoScheduleWizard();\n}\n","/**\n * ============================================================================\n * FEATURE TOGGLES PAGE - JAVASCRIPT\n * ============================================================================\n *\n * Handles feature toggle interactions using data-attribute hooks\n * Follows event delegation pattern with state-driven styling\n *\n * ARCHITECTURAL COMPLIANCE:\n * - Event delegation pattern\n * - Data-attribute based hooks (never bind to styling classes)\n * - State-driven styling with classList\n * - No inline event handlers\n *\n * ============================================================================\n */\n\n(function() {\n  'use strict';\n\n  // CSRF Token\n  const csrfToken = document.querySelector('meta[name=\"csrf-token\"]')?.getAttribute('content');\n\n  /**\n   * Initialize feature toggles on DOM load\n   */\n  document.addEventListener('DOMContentLoaded', function() {\n    initializeToggleHandlers();\n    initializeFormHandlers();\n  });\n\n  /**\n   * Initialize toggle switch handlers\n   */\n  function initializeToggleHandlers() {\n    // Event delegation for all toggle switches\n    document.addEventListener('change', function(e) {\n      const toggle = e.target.closest('[data-setting-toggle]');\n      if (!toggle) return;\n\n      const settingKey = toggle.dataset.settingKey;\n      const isEnabled = toggle.checked;\n\n      handleToggleChange(toggle, settingKey, isEnabled);\n    });\n  }\n\n  /**\n   * Handle toggle switch change\n   */\n  function handleToggleChange(toggle, settingKey, isEnabled) {\n    const statusLabel = toggle.parentElement.querySelector('[data-toggle-status]');\n    const iconElement = document.querySelector(`[data-setting-row][data-setting-key=\"${settingKey}\"] .c-setting-row__status-icon`);\n\n    // Show loading state\n    toggle.disabled = true;\n    if (statusLabel) {\n      statusLabel.textContent = 'Updating...';\n    }\n\n    // Send request to server\n    fetch('/admin_panel/toggle_setting', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n        'X-CSRFToken': csrfToken\n      },\n      body: JSON.stringify({\n        key: settingKey\n      })\n    })\n    .then(response => response.json())\n    .then(data => {\n      if (data.success) {\n        // Update toggle and status to match server state\n        toggle.checked = data.new_value;\n        if (statusLabel) {\n          statusLabel.textContent = data.new_value ? 'Enabled' : 'Disabled';\n        }\n\n        // Update the icon in the left column\n        if (iconElement) {\n          if (data.new_value) {\n            iconElement.classList.remove('ti-toggle-left', 'c-setting-row__status-icon--disabled');\n            iconElement.classList.add('ti-toggle-right', 'c-setting-row__status-icon--enabled');\n          } else {\n            iconElement.classList.remove('ti-toggle-right', 'c-setting-row__status-icon--enabled');\n            iconElement.classList.add('ti-toggle-left', 'c-setting-row__status-icon--disabled');\n          }\n        }\n\n        // Show success message\n        showToast('success', 'Setting Updated', data.message);\n      } else {\n        // Revert the toggle and status\n        toggle.checked = !isEnabled;\n        if (statusLabel) {\n          statusLabel.textContent = !isEnabled ? 'Enabled' : 'Disabled';\n        }\n\n        // Show error message\n        showToast('error', 'Error', data.message || 'Failed to update setting');\n      }\n    })\n    .catch(error => {\n      console.error('Error:', error);\n\n      // Revert the toggle and status\n      toggle.checked = !isEnabled;\n      if (statusLabel) {\n        statusLabel.textContent = !isEnabled ? 'Enabled' : 'Disabled';\n      }\n\n      showToast('error', 'Network Error', 'Failed to communicate with server');\n    })\n    .finally(() => {\n      toggle.disabled = false;\n    });\n  }\n\n  /**\n   * Initialize form submission handlers\n   */\n  function initializeFormHandlers() {\n    // Event delegation for form submissions\n    document.addEventListener('submit', function(e) {\n      const form = e.target.closest('[data-setting-form]');\n      if (!form) return;\n\n      const submitBtn = form.querySelector('.c-setting-form__submit');\n      if (!submitBtn) return;\n\n      const originalIcon = submitBtn.innerHTML;\n\n      // Show loading state\n      submitBtn.disabled = true;\n      submitBtn.innerHTML = '<div class=\"spinner-border spinner-border-sm\" role=\"status\"><span class=\"visually-hidden\">Loading...</span></div>';\n\n      // Note: Form will submit normally, this is just for UI feedback\n      // The backend will handle the actual update\n    });\n  }\n\n  /**\n   * Show toast notification\n   * Uses SweetAlert2 if available, falls back to alert\n   */\n  function showToast(icon, title, text) {\n    if (typeof Swal !== 'undefined') {\n      Swal.fire({\n        icon: icon,\n        title: title,\n        text: text,\n        timer: 2000,\n        showConfirmButton: false,\n        toast: true,\n        position: 'top-end'\n      });\n    } else {\n      // Fallback to alert if SweetAlert2 not available\n      alert(`${title}: ${text}`);\n    }\n  }\n\n})();\n","// Announcement Form - Live Preview and Character Counter\ndocument.addEventListener('DOMContentLoaded', function() {\n    // Page guard - only run on announcement form page\n    const titleInput = document.getElementById('title');\n    const contentInput = document.getElementById('content');\n    if (!titleInput || !contentInput) {\n        return; // Not on announcement form page\n    }\n\n    const prioritySelect = document.getElementById('priority');\n    const typeSelect = document.getElementById('announcement_type');\n\n    const previewTitle = document.getElementById('preview-title');\n    const previewBody = document.getElementById('preview-body');\n    const previewPriority = document.getElementById('preview-priority');\n    const previewType = document.getElementById('preview-type');\n\n    // Additional guard for preview elements\n    if (!previewTitle || !previewBody) {\n        return; // Preview elements not present\n    }\n\n    function updatePreview() {\n        previewTitle.textContent = titleInput.value || 'Announcement Title';\n        previewBody.textContent = contentInput.value || 'Announcement content will appear here...';\n        previewPriority.textContent = prioritySelect.value.charAt(0).toUpperCase() + prioritySelect.value.slice(1);\n        previewType.textContent = typeSelect.value.charAt(0).toUpperCase() + typeSelect.value.slice(1);\n\n        // Update priority badge color\n        previewPriority.className = 'badge ';\n        switch(prioritySelect.value) {\n            case 'high':\n                previewPriority.className += 'bg-danger';\n                break;\n            case 'medium':\n                previewPriority.className += 'bg-warning';\n                break;\n            case 'low':\n                previewPriority.className += 'bg-secondary';\n                break;\n            default:\n                previewPriority.className += 'bg-info';\n        }\n    }\n\n    titleInput.addEventListener('input', updatePreview);\n    contentInput.addEventListener('input', updatePreview);\n    prioritySelect.addEventListener('change', updatePreview);\n    typeSelect.addEventListener('change', updatePreview);\n\n    // Character count for content\n    const maxChars = 2000;\n    const charCount = document.createElement('div');\n    charCount.className = 'form-text';\n    charCount.innerHTML = `<small>Characters: <span id=\"char-count\">${contentInput.value.length}</span>/${maxChars}</small>`;\n    contentInput.parentNode.appendChild(charCount);\n\n    contentInput.addEventListener('input', function() {\n        document.getElementById('char-count').textContent = this.value.length;\n        if (this.value.length > maxChars * 0.9) {\n            charCount.className = 'form-text text-warning';\n        } else if (this.value.length > maxChars) {\n            charCount.className = 'form-text text-danger';\n        } else {\n            charCount.className = 'form-text';\n        }\n    });\n\n    // Delete announcement handler\n    document.querySelectorAll('[data-action=\"delete-announcement\"]').forEach(btn => {\n        btn.addEventListener('click', function() {\n            const announcementId = this.dataset.id;\n            if (confirm('Are you sure you want to delete this announcement? This action cannot be undone.')) {\n                const form = document.createElement('form');\n                form.method = 'POST';\n                form.action = btn.getAttribute('data-url') || `/admin-panel/communication/announcements/${announcementId}/delete`;\n\n                const csrfToken = document.createElement('input');\n                csrfToken.type = 'hidden';\n                csrfToken.name = 'csrf_token';\n                csrfToken.value = document.querySelector('input[name=\"csrf_token\"]').value;\n                form.appendChild(csrfToken);\n\n                document.body.appendChild(form);\n                form.submit();\n            }\n        });\n    });\n});\n","/**\n * Mobile Draft System Enhancement\n *\n * Optimizes the draft system for touch interactions on mobile devices.\n * Provides alternatives to drag-and-drop and improves touch target sizing.\n *\n * Features:\n * - Tap-to-select instead of drag-and-drop\n * - Long-press for player details\n * - Swipe navigation between teams\n * - Larger touch targets for player cards\n * - Mobile-optimized pitch view\n * - Quick draft mode for mobile\n *\n * REFACTORED: All inline style manipulations replaced with CSS classes\n * See /app/static/css/utilities/draft-system-utils.css for utility classes\n */\n\n(function (window) {\n  'use strict';\n\n  const MobileDraft = {\n    selectedPlayer: null,\n    selectedTeam: null,\n\n    /**\n     * Check if device is mobile\n     */\n    isMobile: function () {\n      return window.innerWidth < 768;\n    },\n\n    /**\n     * Replace drag-and-drop with tap-to-select on mobile\n     */\n    setupTapToSelect: function () {\n      if (!this.isMobile()) return;\n\n      document.querySelectorAll('[data-component=\"player-card\"], [data-component=\"player-item\"]').forEach(card => {\n        // Remove drag attributes on mobile\n        card.removeAttribute('draggable');\n        card.classList.add('cursor-pointer');\n\n        // Add touch-friendly selection\n        card.addEventListener('click', (e) => {\n          // Prevent if clicking a button inside\n          if (e.target.closest('button, a')) return;\n\n          const playerId = card.dataset.playerId || card.id;\n\n          // Toggle selection\n          if (card.classList.contains('mobile-selected')) {\n            card.classList.remove('mobile-selected');\n            this.selectedPlayer = null;\n\n            if (window.Haptics) window.Haptics.deselection();\n          } else {\n            // Deselect other cards\n            document.querySelectorAll('.mobile-selected').forEach(c => {\n              c.classList.remove('mobile-selected');\n            });\n\n            // Select this card\n            card.classList.add('mobile-selected');\n            this.selectedPlayer = playerId;\n\n            if (window.Haptics) window.Haptics.selection();\n\n            // Show quick draft panel\n            this.showQuickDraftPanel(card);\n          }\n        });\n\n        // Long-press for player details\n        if (window.Hammer) {\n          const hammer = new Hammer(card);\n          hammer.get('press').set({ time: 500 });\n\n          hammer.on('press', () => {\n            if (window.Haptics) window.Haptics.longPress();\n\n            // Find and click view profile button\n            const viewBtn = card.querySelector('[data-action=\"view-profile\"]');\n            if (viewBtn) {\n              viewBtn.click();\n            } else {\n              // Show player info modal\n              const playerId = card.dataset.playerId;\n              if (playerId && window.showPlayerInfo) {\n                window.showPlayerInfo(playerId);\n              }\n            }\n          });\n        }\n      });\n    },\n\n    /**\n     * Show quick draft panel when player is selected\n     * REFACTORED: Replaced style.zIndex with z-index-1060 utility class\n     */\n    showQuickDraftPanel: function (card) {\n      // Remove existing panel\n      const existing = document.querySelector('.mobile-quick-draft-panel');\n      if (existing) existing.remove();\n\n      // Create quick draft panel\n      const panel = document.createElement('div');\n      // REFACTORED: Added z-index-1060 class instead of inline style.zIndex\n      panel.className = 'mobile-quick-draft-panel position-fixed bottom-0 start-0 end-0 bg-body border-top border-primary border-2 p-3 translate-y-full transition-transform z-index-1060';\n\n      // Get player info from card\n      const playerName = card.querySelector('[data-component=\"player-name\"], .fw-semibold, h6')?.textContent || 'Player';\n      const playerId = card.dataset.playerId;\n\n      panel.innerHTML = `\n        <div class=\"d-flex align-items-center justify-content-between mb-3\">\n          <div class=\"d-flex align-items-center gap-2\">\n            <img src=\"${card.querySelector('img')?.src || ''}\"\n                 class=\"rounded-circle\"\n                 width=\"40\" height=\"40\"\n                 onerror=\"this.src='/static/assets/img/default-avatar.png'\">\n            <div>\n              <div class=\"fw-bold\">${playerName}</div>\n              <div class=\"small text-muted\">Select team to draft</div>\n            </div>\n          </div>\n          <button class=\"btn btn-sm btn-light\" onclick=\"this.closest('.mobile-quick-draft-panel').remove()\">\n            <i class=\"ti ti-x\"></i>\n          </button>\n        </div>\n        <div class=\"d-grid gap-2\">\n          <button class=\"btn btn-success btn-lg\" onclick=\"MobileDraft.quickDraft('${playerId}', 'default')\">\n            <i class=\"ti ti-check\"></i> Quick Draft\n          </button>\n          <button class=\"btn btn-outline-primary\" onclick=\"MobileDraft.showTeamSelector('${playerId}')\">\n            <i class=\"ti ti-users\"></i> Select Team\n          </button>\n        </div>\n      `;\n\n      document.body.appendChild(panel);\n\n      // Animate in\n      setTimeout(() => {\n        panel.classList.remove('translate-y-full');\n      }, 10);\n\n      if (window.Haptics) window.Haptics.light();\n    },\n\n    /**\n     * Quick draft to default team\n     */\n    quickDraft: function (playerId, teamId) {\n      // Find draft button and click it\n      const draftBtn = document.querySelector(`[data-player-id=\"${playerId}\"] [data-action=\"draft-player\"]`);\n      if (draftBtn) {\n        draftBtn.click();\n\n        if (window.Haptics) window.Haptics.drafted();\n\n        // Close panel\n        const panel = document.querySelector('.mobile-quick-draft-panel');\n        if (panel) panel.remove();\n      }\n    },\n\n    /**\n     * Show team selector modal\n     */\n    showTeamSelector: function (playerId) {\n      // Find and click team selection modal trigger\n      const selectBtn = document.querySelector(`[data-player-id=\"${playerId}\"] [data-bs-toggle=\"modal\"]`);\n      if (selectBtn) {\n        selectBtn.click();\n      }\n\n      // Close quick draft panel\n      const panel = document.querySelector('.mobile-quick-draft-panel');\n      if (panel) panel.remove();\n    },\n\n    /**\n     * Optimize pitch view for mobile\n     * REFACTORED: Replaced style.webkitOverflowScrolling with webkit-overflow-scrolling-touch class\n     * NOTE: Lines 217-218 and 228 kept dynamic for real-time pinch-to-zoom gesture tracking\n     */\n    optimizePitchView: function () {\n      if (!this.isMobile()) return;\n\n      const pitch = document.querySelector('.pitch-container, .pitch-view, #pitch');\n      if (!pitch) return;\n\n      // Make pitch scrollable horizontally on mobile\n      // REFACTORED: Added webkit-overflow-scrolling-touch class instead of inline style\n      pitch.classList.add('overflow-x-auto', 'webkit-overflow-scrolling-touch');\n\n      // Increase player marker sizes on mobile\n      pitch.querySelectorAll('.position-player, .player-marker').forEach(marker => {\n        marker.classList.add('mobile-touch-target', 'fs-6');\n      });\n\n      // Make position zones larger on mobile\n      pitch.querySelectorAll('.position-zone, .zone').forEach(zone => {\n        zone.classList.add('mobile-zone-enhanced', 'fs-7');\n      });\n\n      // Add pinch-to-zoom if Hammer.js is available\n      if (window.Hammer) {\n        const hammer = new Hammer(pitch);\n        hammer.get('pinch').set({ enable: true });\n\n        let lastScale = 1;\n\n        hammer.on('pinchstart', () => {\n          pitch.classList.remove('transition-transform');\n        });\n\n        hammer.on('pinchmove', (ev) => {\n          const scale = Math.max(1, Math.min(lastScale * ev.scale, 3));\n          // KEEP DYNAMIC: Real-time pinch gesture tracking requires inline styles\n          // These cannot be replaced with classes as they change continuously during gesture\n          pitch.style.transform = `scale(${scale})`;\n          pitch.style.transformOrigin = 'center center';\n        });\n\n        hammer.on('pinchend', (ev) => {\n          pitch.classList.add('transition-transform');\n          lastScale = Math.max(1, Math.min(lastScale * ev.scale, 3));\n\n          // Reset after 5 seconds\n          if (lastScale > 1.2) {\n            setTimeout(() => {\n              // KEEP DYNAMIC: Resetting transform after zoom timeout\n              pitch.style.transform = 'scale(1)';\n              lastScale = 1;\n            }, 5000);\n          }\n        });\n      }\n    },\n\n    /**\n     * Swipe navigation between teams\n     */\n    setupTeamSwipe: function () {\n      if (!this.isMobile() || !window.Hammer) return;\n\n      const teamsContainer = document.querySelector('.teams-container, .accordion');\n      if (!teamsContainer) return;\n\n      const hammer = new Hammer(teamsContainer);\n      hammer.get('swipe').set({ direction: Hammer.DIRECTION_HORIZONTAL });\n\n      const teams = Array.from(teamsContainer.querySelectorAll('.accordion-item, .team-card'));\n\n      hammer.on('swipeleft', () => {\n        // Go to next team\n        const activeIndex = teams.findIndex(team =>\n          team.querySelector('.accordion-collapse.show') || team.classList.contains('active')\n        );\n\n        if (activeIndex < teams.length - 1) {\n          const nextTeam = teams[activeIndex + 1];\n          const btn = nextTeam.querySelector('.accordion-button, .team-toggle');\n          if (btn) btn.click();\n\n          if (window.Haptics) window.Haptics.swipe();\n        }\n      });\n\n      hammer.on('swiperight', () => {\n        // Go to previous team\n        const activeIndex = teams.findIndex(team =>\n          team.querySelector('.accordion-collapse.show') || team.classList.contains('active')\n        );\n\n        if (activeIndex > 0) {\n          const prevTeam = teams[activeIndex - 1];\n          const btn = prevTeam.querySelector('.accordion-button, .team-toggle');\n          if (btn) btn.click();\n\n          if (window.Haptics) window.Haptics.swipe();\n        }\n      });\n    },\n\n    /**\n     * Optimize player remove buttons for touch\n     */\n    optimizeRemoveButtons: function () {\n      if (!this.isMobile()) return;\n\n      document.querySelectorAll('[data-action=\"remove-player\"]').forEach(btn => {\n        // Make buttons larger\n        btn.classList.add('mobile-touch-target', 'p-3');\n\n        // Add haptic feedback\n        btn.addEventListener('click', () => {\n          if (window.Haptics) window.Haptics.delete();\n        });\n\n        // Add confirmation for touch\n        const originalOnclick = btn.onclick;\n        btn.onclick = (e) => {\n          if (this.isMobile()) {\n            if (window.Swal) {\n              Swal.fire({\n                title: 'Remove Player?',\n                text: 'Are you sure you want to remove this player from the team?',\n                icon: 'warning',\n                showCancelButton: true,\n                confirmButtonText: 'Yes, remove',\n                cancelButtonText: 'Cancel',\n                confirmButtonColor: (typeof ECSTheme !== 'undefined') ? ECSTheme.getColor('danger') : '#dc3545'\n              }).then((result) => {\n                if (result.isConfirmed) {\n                  if (originalOnclick) originalOnclick.call(btn, e);\n                  if (window.Haptics) window.Haptics.delete();\n                }\n              });\n            } else {\n              if (confirm('Remove this player?')) {\n                if (originalOnclick) originalOnclick.call(btn, e);\n                if (window.Haptics) window.Haptics.delete();\n              }\n            }\n            return false;\n          } else {\n            if (originalOnclick) return originalOnclick.call(btn, e);\n          }\n        };\n      });\n    },\n\n    /**\n     * Optimize search and filters for mobile\n     * REFACTORED: Replaced inline style.top and style.zIndex with sticky-filter-mobile class\n     */\n    optimizeFilters: function () {\n      if (!this.isMobile()) return;\n\n      const searchInput = document.querySelector('[data-component=\"player-search\"], input#playerSearch');\n      if (searchInput) {\n        searchInput.classList.add('mobile-input-no-zoom', 'mobile-touch-target');\n      }\n\n      const filterSelects = document.querySelectorAll('[data-component=\"filter-select\"], select[data-filter]');\n      filterSelects.forEach(select => {\n        select.classList.add('mobile-input-no-zoom', 'mobile-touch-target');\n      });\n\n      // Make filter controls sticky on mobile\n      // REFACTORED: Replaced style.top and style.zIndex with sticky-filter-mobile utility class\n      const filterContainer = document.querySelector('[data-component=\"draft-controls\"], [data-component=\"filters\"]');\n      if (filterContainer) {\n        filterContainer.classList.add('sticky-filter-mobile', 'bg-body', 'pb-3', 'mb-3', 'border-bottom');\n      }\n    },\n\n    /**\n     * Add mobile-specific CSS\n     * NOTE: This method injects CSS for backwards compatibility and mobile-specific styling\n     * that doesn't fit into the main utility class system\n     */\n    addMobileDraftStyles: function () {\n      if (document.getElementById('mobile-draft-styles')) return;\n\n      const style = document.createElement('style');\n      style.id = 'mobile-draft-styles';\n      style.textContent = `\n        /* Mobile draft optimizations */\n        @media (max-width: 767.98px) {\n          /* Utility classes for mobile interactions */\n          .cursor-pointer { cursor: pointer; }\n          .translate-y-full { transform: translateY(100%); }\n          .transition-transform { transition: transform 0.3s ease; }\n          .overflow-x-auto { overflow-x: auto; }\n\n          .mobile-touch-target {\n            min-width: 44px;\n            min-height: 44px;\n          }\n\n          .mobile-zone-enhanced {\n            min-height: 60px;\n          }\n\n          .mobile-input-no-zoom {\n            font-size: 16px; /* Prevent iOS zoom on focus */\n          }\n\n          /* Selected player indicator */\n          .mobile-selected {\n            border: 3px solid var(--bs-primary) !important;\n            box-shadow: 0 0 0 4px rgba(13, 110, 253, 0.2) !important;\n            transform: scale(1.02);\n          }\n\n          /* Player cards */\n          [data-component=\"player-card\"],\n          [data-component=\"player-item\"] {\n            min-height: 80px;\n            margin-bottom: 12px;\n          }\n\n          [data-component=\"player-card\"] img,\n          [data-component=\"player-item\"] img {\n            width: 60px;\n            height: 60px;\n          }\n\n          /* Draft buttons */\n          [data-action=\"draft-player\"],\n          button[data-action*=\"draft\"] {\n            min-height: 48px;\n            font-size: 16px;\n            padding: 12px 20px;\n          }\n\n          /* Team accordion */\n          .accordion-button {\n            min-height: 56px;\n            font-size: 16px;\n            padding: 16px;\n          }\n\n          /* Position zones on pitch */\n          .position-zone,\n          .zone {\n            min-height: 60px;\n            padding: 8px;\n          }\n\n          /* Player markers on pitch */\n          .position-player,\n          .player-marker {\n            min-width: 44px;\n            min-height: 44px;\n            font-size: 14px;\n          }\n\n          /* Quick draft panel animation */\n          .mobile-quick-draft-panel {\n            animation: slideUp 0.3s ease;\n            box-shadow: 0 -4px 12px rgba(0,0,0,0.2);\n          }\n\n          @keyframes slideUp {\n            from { transform: translateY(100%); }\n            to { transform: translateY(0); }\n          }\n\n          /* Remove buttons */\n          [data-action=\"remove-player\"],\n          button[data-action*=\"remove\"] {\n            min-width: 44px !important;\n            min-height: 44px !important;\n          }\n\n          /* Filter controls */\n          [data-component=\"filters\"],\n          [data-component=\"draft-controls\"] {\n            flex-wrap: wrap;\n            gap: 8px;\n          }\n\n          [data-component=\"filters\"] > *,\n          [data-component=\"draft-controls\"] > * {\n            flex: 1 1 100%;\n          }\n\n          /* Hide drag handles on mobile */\n          [data-component=\"drag-handle\"],\n          [draggable=\"true\"]::before {\n            display: none;\n          }\n\n          /* Stack pitch and teams vertically */\n          .draft-layout {\n            flex-direction: column;\n          }\n\n          /* Full-width teams on mobile */\n          .teams-section {\n            width: 100%;\n            max-width: 100%;\n          }\n        }\n\n        /* Pitch container scroll hint */\n        .pitch-container::after {\n          content: 'Swipe to view full pitch';\n          position: absolute;\n          bottom: 8px;\n          right: 8px;\n          background: rgba(0,0,0,0.7);\n          color: white;\n          padding: 4px 8px;\n          border-radius: 4px;\n          font-size: 12px;\n          pointer-events: none;\n          opacity: 0;\n          transition: opacity 0.3s;\n        }\n\n        .pitch-container:hover::after {\n          opacity: 1;\n        }\n      `;\n      document.head.appendChild(style);\n    },\n\n    /**\n     * Initialize mobile draft enhancements\n     */\n    init: function () {\n      if (!this.isMobile()) {\n        console.log('MobileDraft: Not mobile, skipping initialization');\n        return;\n      }\n\n      // Add styles\n      this.addMobileDraftStyles();\n\n      // Setup all enhancements\n      this.setupTapToSelect();\n      this.optimizePitchView();\n      this.setupTeamSwipe();\n      this.optimizeRemoveButtons();\n      this.optimizeFilters();\n\n      // Re-run when new players are added to DOM\n      const observer = new MutationObserver((mutations) => {\n        let shouldUpdate = false;\n\n        mutations.forEach(mutation => {\n          mutation.addedNodes.forEach(node => {\n            if (node.nodeType === 1 &&\n                (node.getAttribute?.('data-component') === 'player-card' ||\n                 node.getAttribute?.('data-component') === 'player-item' ||\n                 node.querySelector?.('[data-component=\"player-card\"], [data-component=\"player-item\"]'))) {\n              shouldUpdate = true;\n            }\n          });\n        });\n\n        if (shouldUpdate) {\n          setTimeout(() => {\n            this.setupTapToSelect();\n            this.optimizeRemoveButtons();\n          }, 100);\n        }\n      });\n\n      observer.observe(document.body, {\n        childList: true,\n        subtree: true\n      });\n\n      console.log('MobileDraft: Initialized successfully');\n    }\n  };\n\n  // Auto-initialize on draft pages\n  if (document.readyState === 'loading') {\n    document.addEventListener('DOMContentLoaded', () => {\n      // Only init if on draft page\n      if (document.querySelector('[data-component=\"player-card\"], [data-component=\"draft-container\"]')) {\n        MobileDraft.init();\n      }\n    });\n  } else {\n    if (document.querySelector('[data-component=\"player-card\"], [data-component=\"draft-container\"]')) {\n      MobileDraft.init();\n    }\n  }\n\n  // Expose globally\n  window.MobileDraft = MobileDraft;\n\n})(window);\n","/**\n * Mobile Table Enhancer\n *\n * Adds data-title attributes to table cells for mobile view\n * Specifically targets complex tables like user management tables\n *\n * REFACTORED: All inline style manipulations replaced with CSS classes\n * - Uses utility classes from /app/static/css/layout/mobile-tables.css\n * - Uses utility classes from /app/static/css/utilities/display-utils.css\n * - Eliminates all .style.* inline manipulations for maintainability\n */\ndocument.addEventListener('DOMContentLoaded', function() {\n  // Find all tables that need mobile enhancement but aren't already card tables\n  const tables = document.querySelectorAll('[data-table]:not([data-mobile-view])');\n\n  tables.forEach(function(table) {\n    // Get header text for each column\n    const headers = [];\n    const headerCells = table.querySelectorAll('thead th');\n\n    headerCells.forEach(function(th) {\n      headers.push(th.textContent.trim());\n    });\n\n    // Apply data-title to each cell in the table body\n    const rows = table.querySelectorAll('tbody tr');\n\n    rows.forEach(function(row) {\n      const cells = row.querySelectorAll('td');\n\n      cells.forEach(function(cell, index) {\n        if (index < headers.length && !cell.hasAttribute('data-title')) {\n          cell.setAttribute('data-title', headers[index]);\n        }\n      });\n    });\n  });\n\n  // Fix dropdown opening behavior on mobile\n  const dropdownToggles = document.querySelectorAll('[data-dropdown-toggle]');\n\n  dropdownToggles.forEach(function(toggle) {\n    toggle.addEventListener('click', function(e) {\n      // On mobile, ensure the dropdown stays in view\n      if (window.innerWidth < 992) {\n        const dropdown = this.nextElementSibling;\n        if (dropdown && dropdown.hasAttribute('data-dropdown-menu')) {\n          // Briefly show the dropdown to calculate its height\n          // REPLACED: dropdown.style.display = 'block' + dropdown.style.visibility = 'hidden'\n          // WITH: .dropdown-measuring class\n          dropdown.classList.add('dropdown-measuring');\n\n          setTimeout(() => {\n            const dropdownHeight = dropdown.offsetHeight;\n            const windowHeight = window.innerHeight;\n            const toggleRect = this.getBoundingClientRect();\n            const toggleMiddle = toggleRect.top + (toggleRect.height / 2);\n\n            // Position the dropdown based on available space\n            if (toggleMiddle < windowHeight / 2) {\n              // More space below, show dropdown below\n              // REPLACED: dropdown.style.top/bottom/maxHeight\n              // WITH: .dropdown-position-below and .dropdown-constrained-below classes\n              dropdown.classList.add('dropdown-position-below', 'dropdown-constrained-below');\n              dropdown.classList.remove('dropdown-position-above', 'dropdown-constrained-above');\n\n              // Set CSS custom property for dynamic max-height calculation\n              const availableSpace = windowHeight - toggleRect.bottom - 10;\n              dropdown.style.setProperty('--dropdown-top-offset', `${windowHeight - availableSpace}px`);\n            } else {\n              // More space above, show dropdown above\n              // REPLACED: dropdown.style.top/bottom/maxHeight\n              // WITH: .dropdown-position-above and .dropdown-constrained-above classes\n              dropdown.classList.add('dropdown-position-above', 'dropdown-constrained-above');\n              dropdown.classList.remove('dropdown-position-below', 'dropdown-constrained-below');\n            }\n\n            // REPLACED: dropdown.style.display = '' + dropdown.style.visibility = ''\n            // WITH: Remove .dropdown-measuring class to restore normal display\n            dropdown.classList.remove('dropdown-measuring');\n          }, 10);\n        }\n      }\n    });\n  });\n\n  // Handle dropdown menu overflowing screen edges\n  function adjustDropdownPosition() {\n    const openDropdowns = document.querySelectorAll('[data-dropdown-menu].show');\n\n    openDropdowns.forEach(function(dropdown) {\n      const rect = dropdown.getBoundingClientRect();\n\n      // If dropdown extends beyond right edge, adjust position\n      if (rect.right > window.innerWidth) {\n        // REPLACED: dropdown.style.left = 'auto' + dropdown.style.right = '0'\n        // WITH: .dropdown-align-right class\n        dropdown.classList.add('dropdown-align-right');\n        dropdown.classList.remove('dropdown-align-left');\n      }\n\n      // If dropdown extends beyond bottom edge, adjust position\n      if (rect.bottom > window.innerHeight) {\n        // REPLACED: dropdown.style.top = 'auto' + dropdown.style.bottom = '100%'\n        // WITH: .dropdown-position-above class\n        dropdown.classList.add('dropdown-position-above');\n        dropdown.classList.remove('dropdown-position-below');\n      }\n    });\n  }\n\n  // Monitor dropdowns opening\n  const observer = new MutationObserver(function(mutations) {\n    mutations.forEach(function(mutation) {\n      if (mutation.type === 'attributes' &&\n          mutation.attributeName === 'class' &&\n          mutation.target.hasAttribute('data-dropdown-menu') &&\n          mutation.target.classList.contains('show')) {\n        adjustDropdownPosition();\n      }\n    });\n  });\n\n  // Observe all dropdown menus for class changes\n  document.querySelectorAll('[data-dropdown-menu]').forEach(function(dropdown) {\n    observer.observe(dropdown, { attributes: true });\n  });\n\n  // Fix pagination on mobile\n  const paginationContainers = document.querySelectorAll('[data-pagination]');\n\n  if (window.innerWidth < 768 && paginationContainers.length > 0) {\n    paginationContainers.forEach(function(pagination) {\n      // If there are many pages, create a condensed view\n      const pageItems = pagination.querySelectorAll('[data-page-item]:not([data-page-disabled]):not([data-page-active])');\n\n      if (pageItems.length > 7) {\n        let visiblePages = [];\n        const activePage = pagination.querySelector('[data-page-item][data-page-active]');\n\n        if (activePage) {\n          const activePageNum = parseInt(activePage.textContent.trim(), 10) || 1;\n\n          // Show first, last, and pages around active\n          const allPageItems = Array.from(pagination.querySelectorAll('[data-page-item]'));\n          const firstItem = allPageItems.find(item => !item.hasAttribute('data-page-disabled') && item.textContent.trim() !== '');\n          const lastItem = [...allPageItems].reverse().find(item => !item.hasAttribute('data-page-disabled') && item.textContent.trim() !== '');\n\n          // Hide all pages first\n          pageItems.forEach(item => {\n            if (item !== firstItem && item !== lastItem) {\n              // REPLACED: item.style.display = 'none'\n              // WITH: .d-none class\n              item.classList.add('d-none');\n            }\n          });\n\n          // Show pages around active\n          allPageItems.forEach(item => {\n            const pageNum = parseInt(item.textContent.trim(), 10) || 0;\n            if (!isNaN(pageNum) && (\n                pageNum === activePageNum ||\n                pageNum === activePageNum - 1 ||\n                pageNum === activePageNum + 1 ||\n                pageNum === 1 ||\n                pageNum === parseInt(lastItem.textContent.trim(), 10)\n              )) {\n              // REPLACED: item.style.display = ''\n              // WITH: Remove .d-none class to restore display\n              item.classList.remove('d-none');\n            }\n          });\n\n          // Add ellipsis if needed\n          if (activePageNum > 3) {\n            const ellipsisBefore = document.createElement('li');\n            ellipsisBefore.className = 'page-item disabled';\n            ellipsisBefore.innerHTML = '<span class=\"page-link\"></span>';\n            firstItem.after(ellipsisBefore);\n          }\n\n          if (activePageNum < parseInt(lastItem.textContent.trim(), 10) - 2) {\n            const ellipsisAfter = document.createElement('li');\n            ellipsisAfter.className = 'page-item disabled';\n            ellipsisAfter.innerHTML = '<span class=\"page-link\"></span>';\n\n            const activeIndex = allPageItems.findIndex(item => item === activePage);\n            if (activeIndex !== -1 && activeIndex < allPageItems.length - 1) {\n              allPageItems[activeIndex + 1].after(ellipsisAfter);\n            }\n          }\n        }\n      }\n    });\n  }\n});\n","/**\n * Message Management System JavaScript\n * Handles all interactive functionality for the message management interface\n */\n\n(function() {\n    'use strict';\n\n    // Initialize when DOM is ready\n    document.addEventListener('DOMContentLoaded', function() {\n        console.log('Message Management JS loaded');\n        \n        // Initialize tooltips\n        const tooltipTriggerList = [].slice.call(document.querySelectorAll('[data-bs-toggle=\"tooltip\"]'));\n        tooltipTriggerList.map(function (tooltipTriggerEl) {\n            return new bootstrap.Tooltip(tooltipTriggerEl);\n        });\n    });\n\n    // Preview message template\n    window.previewTemplate = function(templateId) {\n        ModalManager.show('previewModal');\n        \n        // Set loading state\n        const previewContent = document.getElementById('previewContent');\n        previewContent.innerHTML = `\n            <div class=\"text-center\">\n                <div class=\"spinner-border text-primary\" role=\"status\">\n                    <span class=\"visually-hidden\">Loading...</span>\n                </div>\n                <p class=\"mt-2\">Loading preview...</p>\n            </div>\n        `;\n        \n        // Fetch preview\n        fetch(`/admin/messages/api/preview/${templateId}`, {\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json',\n                'X-CSRFToken': document.querySelector('meta[name=\"csrf-token\"]').getAttribute('content')\n            },\n            body: JSON.stringify({})\n        })\n        .then(response => response.json())\n        .then(data => {\n            if (data.preview) {\n                previewContent.innerHTML = `\n                    <div class=\"mb-4\" data-role=\"preview-section\">\n                        <h6 class=\"text-muted mb-3\">Discord Message Preview:</h6>\n                        <div class=\"discord-preview p-4 rounded\" data-role=\"discord-preview\">\n                            <div style=\"white-space: pre-wrap; font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\">${escapeHtml(data.preview)}</div>\n                        </div>\n                    </div>\n                    ${data.variables_used ? `\n                    <div class=\"mt-4\" data-role=\"variables-section\">\n                        <h6 class=\"text-muted mb-2\">Sample Variables Used:</h6>\n                        <div class=\"bg-light p-3 rounded\" data-role=\"variables-display\">\n                            <pre class=\"mb-0 small\">${JSON.stringify(data.variables_used, null, 2)}</pre>\n                        </div>\n                    </div>\n                    ` : ''}\n                `;\n            } else {\n                previewContent.innerHTML = `\n                    <div class=\"alert alert-danger\">\n                        <i class=\"ti ti-alert-circle me-2\"></i>\n                        Failed to load preview\n                    </div>\n                `;\n            }\n        })\n        .catch(error => {\n            previewContent.innerHTML = `\n                <div class=\"alert alert-danger\">\n                    <i class=\"ti ti-alert-circle me-2\"></i>\n                    Error loading preview: ${error.message}\n                </div>\n            `;\n        });\n    };\n\n    // Copy template content to clipboard\n    window.copyTemplate = function(templateId) {\n        fetch(`/admin/messages/api/template/${templateId}`)\n        .then(response => response.json())\n        .then(data => {\n            if (data.message_content) {\n                navigator.clipboard.writeText(data.message_content).then(function() {\n                    // Show success toast\n                    showToast('Success', 'Message content copied to clipboard!', 'success');\n                }).catch(function(err) {\n                    showToast('Error', 'Failed to copy to clipboard', 'danger');\n                });\n            }\n        })\n        .catch(error => {\n            showToast('Error', 'Error copying template: ' + error.message, 'danger');\n        });\n    };\n\n    // Show preview for message editor\n    window.previewMessage = function() {\n        const messageContent = document.getElementById('message_content').value;\n        \n        if (!messageContent.trim()) {\n            showToast('Warning', 'Please enter message content to preview.', 'warning');\n            return;\n        }\n\n        ModalManager.show('previewModal');\n        \n        // Create a preview with sample data\n        const sampleData = {\n            username: 'SampleUser',\n            league_display_name: 'Pub League Premier',\n            league_welcome_message: 'Welcome to competitive soccer!',\n            league_contact_info: 'Contact us at admin@ecsfc.com',\n            team_name: 'Sample Team FC',\n            match_date: 'Saturday, July 20th',\n            match_time: '2:00 PM',\n            match_location: 'North Field'\n        };\n        \n        let preview = messageContent;\n        for (const [key, value] of Object.entries(sampleData)) {\n            const regex = new RegExp(`{${key}}`, 'g');\n            preview = preview.replace(regex, value);\n        }\n        \n        document.getElementById('previewContent').innerHTML = `\n            <div class=\"mb-4\" data-role=\"preview-section\">\n                <h6 class=\"text-muted mb-3\">Discord Message Preview:</h6>\n                <div class=\"discord-preview p-4 rounded\" data-role=\"discord-preview\">\n                    <div style=\"white-space: pre-wrap; font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\">${escapeHtml(preview)}</div>\n                </div>\n            </div>\n            <div class=\"mt-4\" data-role=\"variables-section\">\n                <h6 class=\"text-muted mb-2\">Sample variables used:</h6>\n                <div class=\"bg-light p-3 rounded\" data-role=\"variables-display\">\n                    <pre class=\"mb-0 small\">${JSON.stringify(sampleData, null, 2)}</pre>\n                </div>\n            </div>\n        `;\n    };\n\n    // Utility function to escape HTML\n    function escapeHtml(text) {\n        const div = document.createElement('div');\n        div.textContent = text;\n        return div.innerHTML;\n    }\n\n    // Show toast notification\n    function showToast(title, message, type = 'info') {\n        // Create container if it doesn't exist\n        let container = document.querySelector('[data-role=\"toast-container\"]');\n        if (!container) {\n            container = document.createElement('div');\n            container.className = 'toast-container position-fixed top-0 end-0 p-3';\n            container.setAttribute('data-role', 'toast-container');\n            document.body.appendChild(container);\n        }\n\n        // Create toast element\n        const toastElement = document.createElement('div');\n        toastElement.className = 'toast align-items-center text-white border-0';\n        toastElement.setAttribute('role', 'alert');\n        toastElement.setAttribute('aria-live', 'assertive');\n        toastElement.setAttribute('aria-atomic', 'true');\n        toastElement.setAttribute('data-toast-type', type);\n\n        // Map type to semantic class\n        const typeClasses = {\n            'success': 'bg-success',\n            'danger': 'bg-danger',\n            'warning': 'bg-warning',\n            'info': 'bg-info',\n            'primary': 'bg-primary',\n            'secondary': 'bg-secondary'\n        };\n        toastElement.classList.add(typeClasses[type] || 'bg-info');\n\n        toastElement.innerHTML = `\n            <div class=\"d-flex\">\n                <div class=\"toast-body\">\n                    <strong>${title}:</strong> ${message}\n                </div>\n                <button type=\"button\" class=\"btn-close btn-close-white me-2 m-auto\" data-bs-dismiss=\"toast\" aria-label=\"Close\"></button>\n            </div>\n        `;\n\n        // Add toast to container\n        container.appendChild(toastElement);\n        const toast = new bootstrap.Toast(toastElement);\n        toast.show();\n\n        // Remove element after it's hidden\n        toastElement.addEventListener('hidden.bs.toast', function() {\n            toastElement.remove();\n        });\n    }\n\n})();\n","/**\n * ============================================================================\n * MESSAGES INBOX\n * ============================================================================\n *\n * Full-page messaging interface with conversation list and chat view.\n *\n * Features:\n * - Load and display conversations\n * - Real-time message delivery via WebSocket\n * - Send messages with Enter key support\n * - Typing indicators\n * - User search for new conversations\n * - Mobile-responsive view switching\n *\n * ============================================================================\n */\n\n(function() {\n  'use strict';\n\n  // Configuration from server\n  const config = window.MessagesInboxConfig || {};\n  const API_BASE = config.apiBase || '/api/messages';\n  const CURRENT_USER_ID = config.currentUserId;\n  const SETTINGS = config.settings || {};\n\n  // State\n  let conversations = [];\n  let activeUserId = null;\n  let activeConversation = null;\n  let isLoadingMessages = false;\n  let socket = null;\n  let typingTimeout = null;\n  let searchTimeout = null;\n\n  // DOM Elements\n  const inbox = document.querySelector('[data-component=\"messages-inbox\"]');\n  if (!inbox) {\n    console.warn('[MessagesInbox] No messages-inbox component found. Skipping initialization.');\n    return;\n  }\n  console.log('[MessagesInbox] Initializing...');\n\n  const elements = {\n    inbox,\n    conversationList: inbox.querySelector('[data-list=\"conversations\"]'),\n    loadingState: inbox.querySelector('[data-state=\"loading\"]'),\n    emptyState: inbox.querySelector('[data-state=\"empty\"]'),\n    sidebarFooter: inbox.querySelector('[data-footer=\"sidebar\"]'),\n    welcomeState: inbox.querySelector('[data-state=\"welcome\"]'),\n    chatView: inbox.querySelector('[data-view=\"chat\"]'),\n    chatAvatar: inbox.querySelector('[data-chat-avatar]'),\n    chatStatus: inbox.querySelector('[data-chat-status]'),\n    chatName: inbox.querySelector('[data-chat-name]'),\n    chatOnlineText: inbox.querySelector('[data-chat-online-text]'),\n    chatProfileLink: inbox.querySelector('[data-chat-profile-link]'),\n    messagesContainer: inbox.querySelector('[data-messages]'),\n    messagesLoading: inbox.querySelector('[data-state=\"messages-loading\"]'),\n    typingIndicator: inbox.querySelector('[data-typing-indicator]'),\n    typingName: inbox.querySelector('[data-typing-name]'),\n    messageInput: inbox.querySelector('[data-input=\"message\"]'),\n    charCount: inbox.querySelector('[data-char-count]'),\n    sendButton: inbox.querySelector('[data-action=\"send-message\"]'),\n    searchInput: inbox.querySelector('[data-input=\"search-conversations\"]'),\n  };\n\n  // Modal elements\n  const modal = document.getElementById('newConversationModal');\n  const userSearchInput = document.getElementById('userSearchInput');\n  const userResultsList = document.querySelector('[data-list=\"user-results\"]');\n\n  /**\n   * Initialize the inbox\n   */\n  function init() {\n    loadConversations();\n    setupEventListeners();\n    setupWebSocket();\n\n    // Open initial user if specified\n    if (config.initialUser) {\n      openConversation(config.initialUser);\n    }\n  }\n\n  /**\n   * Set up event listeners\n   */\n  function setupEventListeners() {\n    // New conversation buttons\n    const newConversationBtns = document.querySelectorAll('[data-action=\"new-conversation\"]');\n    newConversationBtns.forEach((btn) => {\n      btn.addEventListener('click', function(e) {\n        openNewConversationModal(e);\n      });\n    });\n\n    // Mark all read button\n    const markAllReadBtn = inbox.querySelector('[data-action=\"mark-all-read\"]');\n    if (markAllReadBtn) {\n      markAllReadBtn.addEventListener('click', markAllAsRead);\n    }\n\n    // Back to list (mobile)\n    const backBtn = inbox.querySelector('[data-action=\"back-to-list\"]');\n    if (backBtn) {\n      backBtn.addEventListener('click', closeChat);\n    }\n\n    // Message input\n    if (elements.messageInput) {\n      elements.messageInput.addEventListener('input', handleInputChange);\n      elements.messageInput.addEventListener('keydown', handleKeyDown);\n    }\n\n    // Send button\n    if (elements.sendButton) {\n      elements.sendButton.addEventListener('click', sendMessage);\n    }\n\n    // Conversation search\n    if (elements.searchInput) {\n      elements.searchInput.addEventListener('input', handleConversationSearch);\n    }\n\n    // User search in modal\n    if (userSearchInput) {\n      userSearchInput.addEventListener('input', handleUserSearch);\n    }\n\n    // Modal reset on hide\n    if (modal) {\n      modal.addEventListener('hidden.bs.modal', () => {\n        if (userSearchInput) userSearchInput.value = '';\n        if (userResultsList) {\n          userResultsList.innerHTML = `\n            <div class=\"c-user-search-results__hint\">\n              <i class=\"ti ti-info-circle me-1\" aria-hidden=\"true\"></i>\n              Type at least 2 characters to search\n            </div>\n          `;\n        }\n      });\n    }\n  }\n\n  /**\n   * Set up WebSocket connection\n   */\n  function setupWebSocket() {\n    if (typeof io === 'undefined') return;\n\n    // Reuse existing global socket if available (from navbar presence)\n    // Check if socket EXISTS (not just connected) - it may still be connecting\n    if (window.socket) {\n      console.log('[MessagesInbox] Reusing existing socket (connected:', window.socket.connected, ')');\n      socket = window.socket;\n      setupSocketListeners();\n      return;\n    }\n\n    // Create new socket if none exists\n    console.log('[MessagesInbox] Creating new socket connection');\n    socket = io({\n      // Use polling first to establish sticky session cookie with multiple workers\n      transports: ['polling', 'websocket'],\n      upgrade: true,\n      withCredentials: true\n    });\n\n    // Store globally for other components to reuse\n    window.socket = socket;\n\n    setupSocketListeners();\n  }\n\n  /**\n   * Set up socket event listeners\n   */\n  function setupSocketListeners() {\n    if (!socket) return;\n\n    socket.on('connect', () => {\n      console.log('[MessagesInbox] WebSocket connected');\n    });\n\n    socket.on('new_message', handleNewMessage);\n    socket.on('typing_start', handleTypingStart);\n    socket.on('typing_stop', handleTypingStop);\n    socket.on('message_read', handleMessageRead);\n  }\n\n  /**\n   * Load conversations from API\n   */\n  async function loadConversations() {\n    try {\n      showLoading(true);\n\n      const response = await fetch(`${API_BASE}?limit=50`);\n      const data = await response.json();\n\n      if (data.success) {\n        conversations = data.conversations || [];\n        renderConversations();\n      }\n    } catch (error) {\n      console.error('[MessagesInbox] Error loading conversations:', error);\n    } finally {\n      showLoading(false);\n    }\n  }\n\n  /**\n   * Show/hide loading state\n   */\n  function showLoading(show) {\n    if (elements.loadingState) {\n      elements.loadingState.classList.toggle('u-hidden', !show);\n    }\n  }\n\n  /**\n   * Render conversations list\n   */\n  function renderConversations(filteredList = null) {\n    const list = filteredList || conversations;\n\n    // Show/hide empty state\n    if (elements.emptyState) {\n      elements.emptyState.classList.toggle('u-hidden', list.length > 0);\n    }\n\n    // Show/hide footer\n    if (elements.sidebarFooter) {\n      elements.sidebarFooter.classList.toggle('u-hidden', list.length === 0);\n    }\n\n    // Clear existing items (keep loading and empty states)\n    const existingItems = elements.conversationList.querySelectorAll('.c-messages-conversation');\n    existingItems.forEach(el => el.remove());\n\n    // Render conversations\n    list.forEach(conv => {\n      const element = createConversationElement(conv);\n      elements.conversationList.appendChild(element);\n    });\n  }\n\n  /**\n   * Create a conversation list item element\n   */\n  function createConversationElement(conv) {\n    const div = document.createElement('div');\n    div.className = 'c-messages-conversation';\n    div.dataset.userId = conv.user.id;\n\n    if (conv.user.id === activeUserId) {\n      div.classList.add('is-active');\n    }\n\n    const avatarUrl = conv.user.avatar_url || '/static/img/default-avatar.png';\n    const statusClass = conv.user.is_online ? 'is-online' : 'is-offline';\n    const previewClass = conv.last_message.sent_by_me ? 'is-sent' : '';\n    const roleBadges = renderRoleBadges(conv.user);\n\n    div.innerHTML = `\n      <div class=\"c-messages-conversation__avatar-wrapper\">\n        <img src=\"${avatarUrl}\" alt=\"${conv.user.name}\" class=\"c-messages-conversation__avatar\">\n        <span class=\"c-online-status c-online-status--sm ${statusClass}\"></span>\n      </div>\n      <div class=\"c-messages-conversation__info\">\n        <p class=\"c-messages-conversation__name\">${escapeHtml(conv.user.name)}${roleBadges}</p>\n        <p class=\"c-messages-conversation__preview ${previewClass}\">${escapeHtml(conv.last_message.content)}</p>\n      </div>\n      <div class=\"c-messages-conversation__meta\">\n        <span class=\"c-messages-conversation__time\">${conv.last_message.time_ago}</span>\n        ${conv.unread_count > 0 ? `<span class=\"c-messages-conversation__unread\">${conv.unread_count}</span>` : ''}\n      </div>\n    `;\n\n    div.addEventListener('click', () => openConversation(conv.user));\n\n    return div;\n  }\n\n  /**\n   * Open a conversation with a user\n   */\n  async function openConversation(user) {\n    activeUserId = user.id;\n    activeConversation = user;\n\n    // Update sidebar selection\n    document.querySelectorAll('.c-messages-conversation').forEach(el => {\n      el.classList.toggle('is-active', parseInt(el.dataset.userId) === user.id);\n    });\n\n    // Update chat header\n    updateChatHeader(user);\n\n    // Show chat view\n    showChatView(true);\n\n    // Load messages\n    await loadMessages(user.id);\n\n    // Close modal if open - use ModalManager if available, fallback to Bootstrap\n    if (modal) {\n      if (typeof ModalManager !== 'undefined') {\n        ModalManager.hide('newConversationModal');\n      } else {\n        const bsModal = bootstrap.Modal.getInstance(modal);\n        if (bsModal) bsModal.hide();\n      }\n    }\n\n    // Focus input\n    if (elements.messageInput) {\n      elements.messageInput.focus();\n    }\n  }\n\n  /**\n   * Update chat header with user info\n   */\n  function updateChatHeader(user) {\n    const avatarUrl = user.avatar_url || '/static/img/default-avatar.png';\n    const roleBadges = renderRoleBadges(user);\n\n    if (elements.chatAvatar) {\n      elements.chatAvatar.src = avatarUrl;\n      elements.chatAvatar.alt = user.name;\n    }\n\n    if (elements.chatStatus) {\n      elements.chatStatus.className = `c-online-status c-online-status--sm ${user.is_online ? 'is-online' : 'is-offline'}`;\n    }\n\n    if (elements.chatName) {\n      elements.chatName.innerHTML = escapeHtml(user.name) + roleBadges;\n      elements.chatName.href = user.profile_url || '#';\n    }\n\n    if (elements.chatOnlineText) {\n      elements.chatOnlineText.textContent = user.is_online ? 'Online' : 'Offline';\n      elements.chatOnlineText.className = `c-messages-chat__user-status ${user.is_online ? 'is-online' : ''}`;\n    }\n\n    if (elements.chatProfileLink) {\n      elements.chatProfileLink.href = user.profile_url || '#';\n      elements.chatProfileLink.style.display = user.profile_url ? '' : 'none';\n    }\n  }\n\n  /**\n   * Show/hide chat view\n   */\n  function showChatView(show) {\n    if (elements.welcomeState) {\n      elements.welcomeState.classList.toggle('u-hidden', show);\n    }\n    if (elements.chatView) {\n      elements.chatView.classList.toggle('u-hidden', !show);\n    }\n    // Mobile: toggle class on inbox\n    inbox.classList.toggle('is-chatting', show);\n  }\n\n  /**\n   * Close chat (mobile)\n   */\n  function closeChat() {\n    activeUserId = null;\n    activeConversation = null;\n    showChatView(false);\n\n    document.querySelectorAll('.c-messages-conversation').forEach(el => {\n      el.classList.remove('is-active');\n    });\n  }\n\n  /**\n   * Load messages for a conversation\n   */\n  async function loadMessages(userId) {\n    if (isLoadingMessages) return;\n    isLoadingMessages = true;\n\n    try {\n      if (elements.messagesLoading) {\n        elements.messagesLoading.classList.remove('u-hidden');\n      }\n      if (elements.messagesContainer) {\n        // Clear existing messages\n        const existingMessages = elements.messagesContainer.querySelectorAll('.c-messages-message, .c-messages-date-separator');\n        existingMessages.forEach(el => el.remove());\n      }\n\n      const response = await fetch(`${API_BASE}/${userId}?limit=100`);\n      const data = await response.json();\n\n      if (data.success) {\n        renderMessages(data.messages || []);\n\n        // Update user status\n        if (data.user && activeConversation) {\n          activeConversation.is_online = data.user.is_online;\n          updateChatHeader(activeConversation);\n        }\n\n        // Update unread count in sidebar\n        updateConversationUnread(userId, 0);\n      }\n    } catch (error) {\n      console.error('[MessagesInbox] Error loading messages:', error);\n    } finally {\n      isLoadingMessages = false;\n      if (elements.messagesLoading) {\n        elements.messagesLoading.classList.add('u-hidden');\n      }\n    }\n  }\n\n  /**\n   * Render messages in the chat view\n   */\n  function renderMessages(messages) {\n    let lastDate = null;\n\n    messages.forEach(msg => {\n      // Date separator\n      const msgDate = new Date(msg.created_at).toDateString();\n      if (msgDate !== lastDate) {\n        const separator = createDateSeparator(msg.created_at);\n        elements.messagesContainer.appendChild(separator);\n        lastDate = msgDate;\n      }\n\n      const element = createMessageElement(msg);\n      elements.messagesContainer.appendChild(element);\n    });\n\n    // Scroll to bottom\n    scrollToBottom();\n  }\n\n  /**\n   * Create date separator element\n   */\n  function createDateSeparator(dateStr) {\n    const div = document.createElement('div');\n    div.className = 'c-messages-date-separator';\n\n    const date = new Date(dateStr);\n    const today = new Date();\n    const yesterday = new Date(today);\n    yesterday.setDate(yesterday.getDate() - 1);\n\n    let label;\n    if (date.toDateString() === today.toDateString()) {\n      label = 'Today';\n    } else if (date.toDateString() === yesterday.toDateString()) {\n      label = 'Yesterday';\n    } else {\n      label = date.toLocaleDateString('en-US', { month: 'short', day: 'numeric', year: 'numeric' });\n    }\n\n    div.innerHTML = `<span class=\"c-messages-date-separator__text\">${label}</span>`;\n    return div;\n  }\n\n  /**\n   * Create message element\n   */\n  function createMessageElement(msg) {\n    const div = document.createElement('div');\n    const isSent = msg.sender_id === CURRENT_USER_ID;\n    div.className = `c-messages-message ${isSent ? 'c-messages-message--sent' : 'c-messages-message--received'}`;\n    div.dataset.messageId = msg.id;\n\n    const time = formatTime(msg.created_at);\n    const readIcon = isSent && msg.is_read && SETTINGS.read_receipts ?\n      '<i class=\"ti ti-checks c-messages-message__read\" aria-label=\"Read\"></i>' : '';\n\n    div.innerHTML = `\n      <div class=\"c-messages-message__bubble\">${escapeHtml(msg.content)}</div>\n      <div class=\"c-messages-message__time\">${time}${readIcon}</div>\n    `;\n\n    return div;\n  }\n\n  /**\n   * Handle input change\n   */\n  function handleInputChange() {\n    const value = elements.messageInput.value;\n    const length = value.length;\n    const maxLength = SETTINGS.max_message_length || 2000;\n\n    // Update character count\n    if (elements.charCount) {\n      elements.charCount.textContent = `${length}/${maxLength}`;\n      elements.charCount.classList.toggle('is-warning', length > maxLength * 0.8);\n      elements.charCount.classList.toggle('is-limit', length >= maxLength);\n    }\n\n    // Enable/disable send button\n    if (elements.sendButton) {\n      elements.sendButton.disabled = length === 0 || length > maxLength;\n    }\n\n    // Auto-resize textarea\n    elements.messageInput.style.height = 'auto';\n    elements.messageInput.style.height = Math.min(elements.messageInput.scrollHeight, 120) + 'px';\n\n    // Send typing indicator\n    if (SETTINGS.typing_indicators && activeUserId && socket) {\n      clearTimeout(typingTimeout);\n      socket.emit('typing_start', { recipient_id: activeUserId });\n\n      typingTimeout = setTimeout(() => {\n        socket.emit('typing_stop', { recipient_id: activeUserId });\n      }, 2000);\n    }\n  }\n\n  /**\n   * Handle keydown in message input\n   */\n  function handleKeyDown(e) {\n    if (e.key === 'Enter' && !e.shiftKey) {\n      e.preventDefault();\n      sendMessage();\n    }\n  }\n\n  /**\n   * Send a message\n   */\n  async function sendMessage() {\n    const content = elements.messageInput.value.trim();\n    if (!content || !activeUserId) return;\n\n    const maxLength = SETTINGS.max_message_length || 2000;\n    if (content.length > maxLength) return;\n\n    // Disable send button\n    if (elements.sendButton) {\n      elements.sendButton.disabled = true;\n    }\n\n    try {\n      const response = await fetch(`${API_BASE}/${activeUserId}`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          'X-CSRFToken': getCsrfToken()\n        },\n        body: JSON.stringify({ content })\n      });\n\n      const data = await response.json();\n\n      if (data.success && data.message) {\n        // Clear input\n        elements.messageInput.value = '';\n        elements.messageInput.style.height = 'auto';\n        if (elements.charCount) {\n          elements.charCount.textContent = `0/${maxLength}`;\n          elements.charCount.classList.remove('is-warning', 'is-limit');\n        }\n\n        // Add message to view\n        const element = createMessageElement(data.message);\n        elements.messagesContainer.appendChild(element);\n        scrollToBottom();\n\n        // Update conversation in sidebar\n        updateConversationPreview(activeUserId, content, true);\n\n        // Stop typing indicator\n        if (socket) {\n          socket.emit('typing_stop', { recipient_id: activeUserId });\n        }\n      } else {\n        showError(data.error || 'Failed to send message');\n      }\n    } catch (error) {\n      console.error('[MessagesInbox] Error sending message:', error);\n      showError('Failed to send message');\n    }\n\n    // Re-enable based on input\n    handleInputChange();\n  }\n\n  /**\n   * Handle incoming WebSocket message\n   */\n  function handleNewMessage(msg) {\n    // Only process if from someone we're chatting with\n    if (msg.sender_id === activeUserId) {\n      const element = createMessageElement(msg);\n      elements.messagesContainer.appendChild(element);\n      scrollToBottom();\n\n      // Mark as read\n      markMessageAsRead(msg.id);\n    }\n\n    // Update sidebar\n    if (msg.sender_id !== CURRENT_USER_ID) {\n      updateConversationPreview(msg.sender_id, msg.content, false);\n\n      // Increment unread if not active\n      if (msg.sender_id !== activeUserId) {\n        incrementConversationUnread(msg.sender_id);\n      }\n    }\n\n    // Reload conversations to update order\n    loadConversations();\n  }\n\n  /**\n   * Handle typing start event\n   */\n  function handleTypingStart(data) {\n    if (data.user_id === activeUserId && elements.typingIndicator) {\n      elements.typingIndicator.classList.remove('u-hidden');\n      if (elements.typingName) {\n        elements.typingName.textContent = activeConversation?.name + ' is typing';\n      }\n      scrollToBottom();\n    }\n  }\n\n  /**\n   * Handle typing stop event\n   */\n  function handleTypingStop(data) {\n    if (data.user_id === activeUserId && elements.typingIndicator) {\n      elements.typingIndicator.classList.add('u-hidden');\n    }\n  }\n\n  /**\n   * Handle message read event\n   */\n  function handleMessageRead(data) {\n    if (data.reader_id === activeUserId) {\n      // Update read status on messages\n      document.querySelectorAll('.c-messages-message--sent').forEach(el => {\n        const timeEl = el.querySelector('.c-messages-message__time');\n        if (timeEl && !timeEl.querySelector('.c-messages-message__read')) {\n          timeEl.innerHTML += '<i class=\"ti ti-checks c-messages-message__read\" aria-label=\"Read\"></i>';\n        }\n      });\n    }\n  }\n\n  /**\n   * Mark a message as read\n   */\n  async function markMessageAsRead(messageId) {\n    try {\n      await fetch(`${API_BASE}/${messageId}/read`, {\n        method: 'POST',\n        headers: {\n          'X-CSRFToken': getCsrfToken()\n        }\n      });\n    } catch (error) {\n      console.error('[MessagesInbox] Error marking message read:', error);\n    }\n  }\n\n  /**\n   * Mark all messages as read\n   */\n  async function markAllAsRead() {\n    try {\n      const response = await fetch(`${API_BASE}/mark-all-read`, {\n        method: 'POST',\n        headers: {\n          'X-CSRFToken': getCsrfToken()\n        }\n      });\n\n      const data = await response.json();\n      if (data.success) {\n        // Update all conversation unread counts\n        document.querySelectorAll('.c-messages-conversation__unread').forEach(el => el.remove());\n\n        // Update global badge\n        updateGlobalBadge(0);\n      }\n    } catch (error) {\n      console.error('[MessagesInbox] Error marking all read:', error);\n    }\n  }\n\n  /**\n   * Update conversation preview in sidebar\n   */\n  function updateConversationPreview(userId, content, sentByMe) {\n    const conv = document.querySelector(`.c-messages-conversation[data-user-id=\"${userId}\"]`);\n    if (conv) {\n      const preview = conv.querySelector('.c-messages-conversation__preview');\n      if (preview) {\n        preview.textContent = content.length > 50 ? content.substring(0, 50) + '...' : content;\n        preview.classList.toggle('is-sent', sentByMe);\n      }\n\n      const time = conv.querySelector('.c-messages-conversation__time');\n      if (time) {\n        time.textContent = 'Just now';\n      }\n    }\n  }\n\n  /**\n   * Update conversation unread count\n   */\n  function updateConversationUnread(userId, count) {\n    const conv = document.querySelector(`.c-messages-conversation[data-user-id=\"${userId}\"]`);\n    if (conv) {\n      let badge = conv.querySelector('.c-messages-conversation__unread');\n      if (count > 0) {\n        if (!badge) {\n          badge = document.createElement('span');\n          badge.className = 'c-messages-conversation__unread';\n          conv.querySelector('.c-messages-conversation__meta').appendChild(badge);\n        }\n        badge.textContent = count;\n      } else if (badge) {\n        badge.remove();\n      }\n    }\n  }\n\n  /**\n   * Increment conversation unread count\n   */\n  function incrementConversationUnread(userId) {\n    const conv = document.querySelector(`.c-messages-conversation[data-user-id=\"${userId}\"]`);\n    if (conv) {\n      let badge = conv.querySelector('.c-messages-conversation__unread');\n      if (badge) {\n        badge.textContent = parseInt(badge.textContent) + 1;\n      } else {\n        badge = document.createElement('span');\n        badge.className = 'c-messages-conversation__unread';\n        badge.textContent = '1';\n        conv.querySelector('.c-messages-conversation__meta').appendChild(badge);\n      }\n    }\n  }\n\n  /**\n   * Handle conversation search\n   */\n  function handleConversationSearch() {\n    const query = elements.searchInput.value.toLowerCase().trim();\n\n    if (!query) {\n      renderConversations();\n      return;\n    }\n\n    const filtered = conversations.filter(conv =>\n      conv.user.name.toLowerCase().includes(query) ||\n      conv.last_message.content.toLowerCase().includes(query)\n    );\n\n    renderConversations(filtered);\n  }\n\n  /**\n   * Open new conversation modal\n   */\n  function openNewConversationModal() {\n    if (modal) {\n      // Use ModalManager if available, fallback to Bootstrap\n      if (typeof ModalManager !== 'undefined') {\n        ModalManager.show('newConversationModal');\n      } else if (typeof bootstrap !== 'undefined' && bootstrap.Modal) {\n        const bsModal = new bootstrap.Modal(modal);\n        bsModal.show();\n      } else {\n        console.error('[MessagesInbox] Neither ModalManager nor Bootstrap available');\n      }\n    } else {\n      console.error('[MessagesInbox] Modal element not found');\n    }\n  }\n\n  /**\n   * Handle user search in modal\n   */\n  function handleUserSearch() {\n    const query = userSearchInput.value.trim();\n\n    clearTimeout(searchTimeout);\n\n    if (query.length < 2) {\n      userResultsList.innerHTML = `\n        <div class=\"c-user-search-results__hint\">\n          <i class=\"ti ti-info-circle me-1\" aria-hidden=\"true\"></i>\n          Type at least 2 characters to search\n        </div>\n      `;\n      return;\n    }\n\n    userResultsList.innerHTML = `\n      <div class=\"c-user-search-results__loading\">\n        <div class=\"c-messages-list__spinner\"></div>\n      </div>\n    `;\n\n    searchTimeout = setTimeout(async () => {\n      try {\n        const response = await fetch(`${API_BASE}/users/search?q=${encodeURIComponent(query)}&limit=10`);\n        const data = await response.json();\n\n        if (data.success && data.users.length > 0) {\n          userResultsList.innerHTML = '';\n          data.users.forEach(user => {\n            const div = document.createElement('div');\n            div.className = 'c-user-search-results__item';\n            const roleBadges = renderRoleBadges(user);\n            div.innerHTML = `\n              <img src=\"${user.avatar_url || '/static/img/default-avatar.png'}\" alt=\"${user.name}\" class=\"c-user-search-results__avatar\">\n              <span class=\"c-user-search-results__name\">${escapeHtml(user.name)}${roleBadges}</span>\n            `;\n            div.addEventListener('click', () => openConversation(user));\n            userResultsList.appendChild(div);\n          });\n        } else {\n          userResultsList.innerHTML = `\n            <div class=\"c-user-search-results__empty\">\n              <i class=\"ti ti-user-off\" style=\"font-size: 2rem; margin-bottom: 0.5rem; opacity: 0.5;\" aria-hidden=\"true\"></i>\n              <p>No users found</p>\n            </div>\n          `;\n        }\n      } catch (error) {\n        console.error('[MessagesInbox] Error searching users:', error);\n        userResultsList.innerHTML = `\n          <div class=\"c-user-search-results__empty\">\n            <p>Search failed. Please try again.</p>\n          </div>\n        `;\n      }\n    }, 300);\n  }\n\n  /**\n   * Scroll messages to bottom\n   */\n  function scrollToBottom() {\n    if (elements.messagesContainer) {\n      elements.messagesContainer.scrollTop = elements.messagesContainer.scrollHeight;\n    }\n  }\n\n  /**\n   * Format time for display\n   */\n  function formatTime(dateStr) {\n    const date = new Date(dateStr);\n    return date.toLocaleTimeString('en-US', {\n      hour: 'numeric',\n      minute: '2-digit',\n      hour12: true\n    });\n  }\n\n  /**\n   * Escape HTML to prevent XSS\n   */\n  function escapeHtml(text) {\n    const div = document.createElement('div');\n    div.textContent = text;\n    return div.innerHTML;\n  }\n\n  /**\n   * Generate role badge HTML for a user\n   * @param {Object} user - User object with role flags\n   * @returns {string} HTML string with badge icons\n   */\n  function renderRoleBadges(user) {\n    if (!user) return '';\n\n    const badges = [];\n\n    // Global Admin - Crown icon (highest priority)\n    if (user.is_global_admin) {\n      badges.push('<span class=\"c-role-badge c-role-badge--admin\" title=\"Global Admin\"><i class=\"ti ti-crown\"></i></span>');\n    }\n    // Pub League Admin - Shield icon\n    else if (user.is_admin) {\n      badges.push('<span class=\"c-role-badge c-role-badge--admin\" title=\"Admin\"><i class=\"ti ti-shield-check\"></i></span>');\n    }\n\n    // Coach - Whistle icon\n    if (user.is_coach) {\n      badges.push('<span class=\"c-role-badge c-role-badge--coach\" title=\"Coach\"><i class=\"ti ti-speakerphone\"></i></span>');\n    }\n\n    // Referee - Cards icon\n    if (user.is_ref) {\n      badges.push('<span class=\"c-role-badge c-role-badge--ref\" title=\"Referee\"><i class=\"ti ti-cards\"></i></span>');\n    }\n\n    return badges.length > 0 ? `<span class=\"c-role-badges\">${badges.join('')}</span>` : '';\n  }\n\n  /**\n   * Get CSRF token\n   */\n  function getCsrfToken() {\n    const meta = document.querySelector('meta[name=\"csrf-token\"]');\n    return meta ? meta.getAttribute('content') : '';\n  }\n\n  /**\n   * Update global unread badge (in navbar)\n   */\n  function updateGlobalBadge(count) {\n    const badge = document.querySelector('[data-badge=\"messages-count\"]');\n    if (badge) {\n      badge.textContent = count;\n      badge.classList.toggle('u-hidden', count === 0);\n    }\n  }\n\n  /**\n   * Show error toast\n   */\n  function showError(message) {\n    // Use your existing toast system\n    if (typeof window.showToast === 'function') {\n      window.showToast(message, 'error');\n    } else {\n      console.error('[MessagesInbox]', message);\n    }\n  }\n\n  // Initialize on DOM ready\n  if (document.readyState === 'loading') {\n    document.addEventListener('DOMContentLoaded', init);\n  } else {\n    init();\n  }\n\n})();\n","/**\n * ============================================================================\n * Pass Studio - Main JavaScript\n * ============================================================================\n *\n * Extracted from inline <script> tags in admin/pass_studio/studio.html\n * Manages pass configuration, live preview, and asset management\n *\n * EVENT DELEGATION CONVERSION (Phase 2.2 Sprint 3):\n * - All template actions now use centralized event delegation via event-delegation.js\n * - Registered actions: toggle-platform, update-pass-style, apply-color-preset,\n *   sync-color-input, update-preview-field, toggle-logo-visibility,\n *   open-asset-cropper, update-google-preview, update-barcode-preview,\n *   save-appearance, initialize-defaults, add-field, create-field,\n *   save-fields, reset-fields, insert-variable\n * - Template strings in FieldsManager use individual addEventListener calls\n *   (acceptable as they're dynamically created and not in initial HTML)\n * - CSRF token retrieval updated to vanilla JS (meta tag fallback pattern)\n *\n * ============================================================================\n */\n\n// Pass Studio JavaScript\nconst PassStudio = {\n    passTypeCode: '',\n    hasUnsavedChanges: false,\n    previewData: null,\n    currentPlatform: 'apple',\n    assets: {},\n\n    init(passTypeCode) {\n        this.passTypeCode = passTypeCode;\n        this.loadPreviewData();\n        this.loadAssets();\n        this.bindEvents();\n        this.initColorPickers();\n    },\n\n    bindEvents() {\n        // Platform toggle handled by event delegation in event-delegation.js\n\n        // Track changes\n        document.querySelectorAll('input, select, textarea').forEach(el => {\n            el.addEventListener('change', () => this.markUnsaved());\n        });\n\n        // Warn on page leave\n        window.addEventListener('beforeunload', (e) => {\n            if (this.hasUnsavedChanges) {\n                e.preventDefault();\n                e.returnValue = '';\n            }\n        });\n    },\n\n    markUnsaved() {\n        this.hasUnsavedChanges = true;\n        document.body.classList.add('has-unsaved-changes');\n    },\n\n    markSaved() {\n        this.hasUnsavedChanges = false;\n        document.body.classList.remove('has-unsaved-changes');\n    },\n\n    async loadPreviewData() {\n        try {\n            const response = await fetch(`/admin/wallet/studio/${this.passTypeCode}/preview`);\n            const data = await response.json();\n            if (data.success) {\n                this.previewData = data;\n                this.updatePreview();\n            }\n        } catch (error) {\n            console.error('Error loading preview data:', error);\n        }\n    },\n\n    async loadAssets() {\n        try {\n            const response = await fetch(`/admin/wallet/studio/${this.passTypeCode}/assets`);\n            const data = await response.json();\n            if (data.success) {\n                this.assets = data.assets || {};\n                this.updateAssetPreviews();\n            }\n        } catch (error) {\n            console.error('Error loading assets:', error);\n        }\n    },\n\n    updateAssetPreviews() {\n        // Update asset preview cards in Appearance tab\n        Object.entries(this.assets).forEach(([assetType, asset]) => {\n            const card = document.querySelector(`.asset-upload-card[data-asset-type=\"${assetType}\"]`);\n            if (card && asset && asset.url) {\n                const preview = card.querySelector('.asset-preview');\n                if (preview) {\n                    // Replace placeholder with actual image\n                    preview.innerHTML = `\n                        <img src=\"${asset.url}\" alt=\"${assetType}\" id=\"asset-preview-${assetType}\">\n                        <span class=\"badge bg-success position-absolute top-0 end-0 m-1\"><i class=\"ti ti-check\"></i></span>\n                    `;\n                }\n            }\n        });\n\n        // Update live preview card assets\n        this.updateLivePreviewAssets();\n    },\n\n    updateLivePreviewAssets() {\n        // Update Apple preview assets\n        // Logo is optional - hide if not uploaded, show if uploaded\n        const previewLogo = document.getElementById('preview-logo');\n        const previewStrip = document.getElementById('preview-strip');\n\n        if (previewLogo) {\n            if (this.assets.logo && this.assets.logo.url) {\n                previewLogo.classList.remove('d-none');\n                previewLogo.classList.add('d-flex');\n                previewLogo.innerHTML = `<img src=\"${this.assets.logo.url}\" alt=\"Logo\">`;\n            } else {\n                // No logo - hide the logo area entirely for cleaner look\n                previewLogo.classList.add('d-none');\n                previewLogo.classList.remove('d-flex');\n                previewLogo.innerHTML = '';\n            }\n        }\n\n        // Strip image is now positioned absolutely behind the primary field overlay\n        if (previewStrip) {\n            // Find or create the strip image element\n            let stripImg = previewStrip.querySelector('.pass-strip-image');\n            const primaryOverlay = previewStrip.querySelector('.pass-primary-field-overlay');\n\n            if (this.assets.strip && this.assets.strip.url) {\n                if (!stripImg) {\n                    stripImg = document.createElement('img');\n                    stripImg.className = 'pass-strip-image';\n                    stripImg.alt = 'Strip';\n                    // Insert before the overlay\n                    if (primaryOverlay) {\n                        previewStrip.insertBefore(stripImg, primaryOverlay);\n                    } else {\n                        previewStrip.appendChild(stripImg);\n                    }\n                }\n                stripImg.src = this.assets.strip.url;\n            } else if (stripImg) {\n                stripImg.remove();\n            }\n        }\n\n        // Update Google preview logo\n        const googleLogo = document.getElementById('preview-google-logo');\n        if (googleLogo) {\n            const googleLogoUrl = document.getElementById('google_logo_url')?.value;\n            if (googleLogoUrl) {\n                googleLogo.innerHTML = `<img src=\"${googleLogoUrl}\" alt=\"Logo\">`;\n            } else if (this.assets.logo && this.assets.logo.url) {\n                // Fall back to Apple logo\n                googleLogo.innerHTML = `<img src=\"${this.assets.logo.url}\" alt=\"Logo\">`;\n            }\n        }\n    },\n\n    setPreviewPlatform(platform) {\n        this.currentPlatform = platform;\n\n        // Update button states\n        document.querySelectorAll('[data-platform]').forEach(btn => {\n            btn.classList.toggle('active', btn.dataset.platform === platform);\n        });\n\n        // Show/hide preview containers\n        const applePreview = document.getElementById('apple-preview');\n        const googlePreview = document.getElementById('google-preview');\n\n        if (applePreview && googlePreview) {\n            if (platform === 'apple') {\n                applePreview.classList.remove('d-none');\n                googlePreview.classList.add('d-none');\n            } else {\n                applePreview.classList.add('d-none');\n                googlePreview.classList.remove('d-none');\n            }\n        }\n    },\n\n    /**\n     * Update UI when pass style is changed\n     * Shows/hides appropriate assets and updates preview layout\n     */\n    updatePassStylePreview() {\n        const passStyle = document.querySelector('input[name=\"apple_pass_style\"]:checked')?.value || 'generic';\n\n        // Update style descriptions\n        document.querySelectorAll('[id^=\"style-desc-\"]').forEach(el => el.classList.add('d-none'));\n        const descEl = document.getElementById(`style-desc-${passStyle}`);\n        if (descEl) descEl.classList.remove('d-none');\n\n        // Show/hide appropriate asset containers\n        const stripWrapper = document.getElementById('asset-strip-wrapper');\n        const thumbnailWrapper = document.getElementById('asset-thumbnail-wrapper');\n\n        if (passStyle === 'generic') {\n            // Generic uses thumbnail, not strip\n            if (stripWrapper) stripWrapper.classList.add('d-none');\n            if (thumbnailWrapper) thumbnailWrapper.classList.remove('d-none');\n        } else {\n            // storeCard and eventTicket use strip, not thumbnail\n            if (stripWrapper) stripWrapper.classList.remove('d-none');\n            if (thumbnailWrapper) thumbnailWrapper.classList.add('d-none');\n        }\n\n        // Update the preview card layout\n        this.updatePreviewForPassStyle(passStyle);\n    },\n\n    /**\n     * Update the preview card to reflect the selected pass style\n     *\n     * Layout differences:\n     * - generic: Thumbnail in header, primary fields in separate section, no strip\n     * - storeCard: Strip with primary field OVERLAID on it\n     * - eventTicket: Strip displayed CLEAN (no overlay), fields below, notch at top\n     */\n    updatePreviewForPassStyle(passStyle) {\n        const appleCard = document.getElementById('pass-preview');\n        if (!appleCard) return;\n\n        // Remove old style classes and add new one\n        appleCard.classList.remove('pass-style-generic', 'pass-style-storeCard', 'pass-style-eventTicket');\n        appleCard.classList.add(`pass-style-${passStyle}`);\n        appleCard.setAttribute('data-pass-style', passStyle);\n\n        // Get all the dynamic elements\n        const stripArea = appleCard.querySelector('.pass-strip-area');\n        const thumbnail = appleCard.querySelector('.pass-thumbnail');\n        const primarySection = appleCard.querySelector('.pass-primary-fields-section');\n        const primaryOverlay = appleCard.querySelector('.pass-primary-field-overlay');\n        const notch = appleCard.querySelector('.pass-notch');\n\n        if (passStyle === 'generic') {\n            // Generic: hide strip, show thumbnail in header, show primary section below\n            if (stripArea) stripArea.classList.add('d-none');\n            if (thumbnail) thumbnail.classList.remove('d-none');\n            if (primarySection) primarySection.classList.remove('d-none');\n            if (primaryOverlay) primaryOverlay.classList.add('d-none');\n            if (notch) notch.classList.add('d-none');\n        } else if (passStyle === 'eventTicket') {\n            // EventTicket: show strip CLEAN (no overlay), hide thumbnail, show notch\n            // Fields go in secondary/auxiliary below the strip\n            if (stripArea) {\n                stripArea.classList.remove('d-none');\n                stripArea.classList.add('d-flex');\n            }\n            if (thumbnail) thumbnail.classList.add('d-none');\n            if (primarySection) primarySection.classList.add('d-none');\n            if (primaryOverlay) primaryOverlay.classList.add('d-none'); // No overlay on eventTicket!\n            if (notch) notch.classList.remove('d-none');\n        } else {\n            // storeCard: show strip WITH primary overlay, hide thumbnail, hide notch\n            if (stripArea) {\n                stripArea.classList.remove('d-none');\n                stripArea.classList.add('d-flex');\n            }\n            if (thumbnail) thumbnail.classList.add('d-none');\n            if (primarySection) primarySection.classList.add('d-none');\n            if (primaryOverlay) primaryOverlay.classList.remove('d-none'); // Overlay visible for storeCard\n            if (notch) notch.classList.add('d-none');\n        }\n    },\n\n    openAssetCropper(assetType) {\n        if (typeof AssetCropper !== 'undefined') {\n            // Pass existing asset URL so cropper knows to show delete button\n            const existingUrl = this.assets[assetType]?.url || null;\n            AssetCropper.open(assetType, this.passTypeCode, existingUrl);\n        } else {\n            console.error('AssetCropper not loaded');\n            this.showToast('Asset cropper not available', 'error');\n        }\n    },\n\n    onAssetUploaded(assetType, assetData) {\n        // Update local assets cache\n        this.assets[assetType] = assetData;\n\n        // Update the preview cards\n        this.updateAssetPreviews();\n\n        // Refresh live preview\n        this.updateLivePreviewAssets();\n    },\n\n    onAssetDeleted(assetType) {\n        // Remove from local assets cache\n        delete this.assets[assetType];\n\n        // Update the preview cards to show placeholder\n        const previewCard = document.querySelector(`[data-asset-type=\"${assetType}\"]`);\n        if (previewCard) {\n            const previewArea = previewCard.querySelector('.asset-preview');\n            if (previewArea) {\n                previewArea.innerHTML = `\n                    <div class=\"asset-placeholder\">\n                        <i class=\"ti ti-photo fs-1\"></i>\n                    </div>\n                `;\n            }\n            // Remove the uploaded badge\n            const badge = previewCard.querySelector('.badge.bg-success');\n            if (badge) badge.remove();\n        }\n\n        // Refresh live preview\n        this.updateLivePreviewAssets();\n    },\n\n    updateGooglePreview() {\n        const heroUrl = document.getElementById('google_hero_image_url')?.value;\n        const logoUrl = document.getElementById('google_logo_url')?.value;\n\n        const heroPreview = document.getElementById('preview-google-hero');\n        const logoPreview = document.getElementById('preview-google-logo');\n\n        if (heroPreview) {\n            if (heroUrl) {\n                // Note: Dynamic background image URL, kept as inline style\n                heroPreview.style.backgroundImage = `url('${heroUrl}')`;\n                heroPreview.innerHTML = '';\n            } else {\n                heroPreview.style.backgroundImage = '';\n                heroPreview.innerHTML = `\n                    <div class=\"google-hero-placeholder\">\n                        <i class=\"ti ti-photo-plus\"></i>\n                        <span>Hero Image</span>\n                    </div>\n                `;\n            }\n        }\n\n        if (logoPreview) {\n            if (logoUrl) {\n                logoPreview.innerHTML = `<img src=\"${logoUrl}\" alt=\"Logo\">`;\n            } else if (this.assets.logo && this.assets.logo.url) {\n                logoPreview.innerHTML = `<img src=\"${this.assets.logo.url}\" alt=\"Logo\">`;\n            } else {\n                logoPreview.innerHTML = `\n                    <div class=\"google-logo-placeholder\">\n                        <i class=\"ti ti-building\"></i>\n                    </div>\n                `;\n            }\n        }\n    },\n\n    updatePreview() {\n        // Update Apple preview card\n        const appleCard = document.getElementById('pass-preview');\n        if (appleCard && this.previewData) {\n            const pt = this.previewData.pass_type;\n\n            // Note: Dynamic theme colors from database, kept as inline styles\n            appleCard.style.backgroundColor = pt.background_color;\n            appleCard.style.color = pt.foreground_color;\n\n            // Update label colors\n            appleCard.querySelectorAll('.pass-field-label').forEach(el => {\n                el.style.color = pt.label_color;\n            });\n\n            // Update logo text\n            const logoText = document.getElementById('preview-logo-text');\n            if (logoText) logoText.textContent = pt.logo_text;\n        }\n\n        // Update Google preview card\n        const googleContent = document.querySelector('.google-pass-content');\n        if (googleContent && this.previewData) {\n            const pt = this.previewData.pass_type;\n            // Note: Dynamic theme colors from database, kept as inline styles\n            googleContent.style.backgroundColor = pt.background_color;\n            googleContent.style.color = pt.foreground_color;\n\n            googleContent.querySelectorAll('.google-info-label, .google-card-subtitle').forEach(el => {\n                el.style.color = pt.label_color;\n            });\n        }\n\n        // Update assets in live preview\n        this.updateLivePreviewAssets();\n    },\n\n    /**\n     * Update preview fields from FieldsManager data\n     * Called when fields are added, removed, or modified\n     */\n    updatePreviewFields(frontFields, sampleData) {\n        if (!frontFields || !sampleData) return;\n\n        // Group fields by location\n        const fieldsByLocation = {\n            header: frontFields.filter(f => f.field_location === 'header' && f.is_visible !== false),\n            primary: frontFields.filter(f => f.field_location === 'primary' && f.is_visible !== false),\n            secondary: frontFields.filter(f => f.field_location === 'secondary' && f.is_visible !== false),\n            auxiliary: frontFields.filter(f => f.field_location === 'auxiliary' && f.is_visible !== false)\n        };\n\n        // Get current label color\n        const labelColor = document.getElementById('label_color')?.value ||\n                          this.previewData?.pass_type?.label_color ||\n                          (typeof ECSTheme !== 'undefined' ? ECSTheme.getColor('neutral-50') : '#999999');\n\n        // Helper to resolve template value\n        const resolveValue = (field) => {\n            if (!field.value_template) return field.default_value || '';\n            let value = field.value_template;\n            for (const [key, val] of Object.entries(sampleData)) {\n                value = value.replace(new RegExp('\\\\{\\\\{' + key + '\\\\}\\\\}', 'g'), val || '');\n            }\n            return value;\n        };\n\n        // Update Apple Preview\n        this.updateApplePreviewFields(fieldsByLocation, labelColor, resolveValue);\n\n        // Update Google Preview\n        this.updateGooglePreviewFields(fieldsByLocation, labelColor, resolveValue);\n    },\n\n    updateApplePreviewFields(fieldsByLocation, labelColor, resolveValue) {\n        const appleCard = document.getElementById('pass-preview');\n        if (!appleCard) return;\n\n        // Update Header Fields (right side of header row)\n        const headerRow = appleCard.querySelector('.pass-header');\n        let headerFieldsContainer = appleCard.querySelector('.pass-header-fields');\n\n        if (fieldsByLocation.header.length > 0) {\n            if (!headerFieldsContainer) {\n                // Create header fields container if it doesn't exist\n                headerFieldsContainer = document.createElement('div');\n                headerFieldsContainer.className = 'pass-header-fields';\n                headerFieldsContainer.id = 'preview-header-fields';\n                // Insert before thumbnail (if exists) or at end of header\n                const thumbnail = headerRow.querySelector('.pass-thumbnail');\n                if (thumbnail) {\n                    headerRow.insertBefore(headerFieldsContainer, thumbnail);\n                } else {\n                    headerRow.appendChild(headerFieldsContainer);\n                }\n            }\n            headerFieldsContainer.classList.remove('d-none');\n            headerFieldsContainer.classList.add('d-flex');\n            headerFieldsContainer.innerHTML = fieldsByLocation.header.map(field => `\n                <div class=\"pass-header-field\">\n                    <div class=\"pass-field-label pass-field-label--dynamic\" data-label-color=\"${labelColor}\">${field.label || ''}</div>\n                    <div class=\"pass-field-value\">${resolveValue(field)}</div>\n                </div>\n            `).join('');\n            // Note: Dynamic label colors from configuration, kept as inline styles\n            headerFieldsContainer.querySelectorAll('.pass-field-label--dynamic').forEach(el => {\n                el.style.color = el.dataset.labelColor;\n            });\n        } else if (headerFieldsContainer) {\n            headerFieldsContainer.classList.add('d-none');\n            headerFieldsContainer.classList.remove('d-flex');\n            headerFieldsContainer.innerHTML = '';\n        }\n\n        // Update Primary Field (overlaid on strip area for storeCard, or in primary section for generic)\n        const passStyle = appleCard.getAttribute('data-pass-style') || 'generic';\n        let primaryOverlay = appleCard.querySelector('.pass-primary-field-overlay');\n        let primarySection = appleCard.querySelector('.pass-primary-fields-section');\n\n        if (primaryOverlay) {\n            // For storeCard, show primary in overlay (eventTicket doesn't use primary overlay)\n            if (passStyle === 'storeCard' && fieldsByLocation.primary.length > 0) {\n                const field = fieldsByLocation.primary[0];\n                primaryOverlay.innerHTML = `\n                    <div class=\"pass-field-label pass-field-label--dynamic\" data-label-color=\"${labelColor}\">${field.label || ''}</div>\n                    <div class=\"pass-field-value\">${resolveValue(field)}</div>\n                `;\n                // Note: Dynamic label colors from configuration, kept as inline styles\n                const labelEl = primaryOverlay.querySelector('.pass-field-label--dynamic');\n                if (labelEl) labelEl.style.color = labelEl.dataset.labelColor;\n            } else if (passStyle === 'storeCard') {\n                primaryOverlay.innerHTML = `\n                    <div class=\"pass-field-label pass-field-label--dynamic pass-field-value--muted\" data-label-color=\"${labelColor}\">MEMBER</div>\n                    <div class=\"pass-field-value pass-field-value--muted\">No primary field</div>\n                `;\n                // Note: Dynamic label colors from configuration, kept as inline styles\n                const labelEl = primaryOverlay.querySelector('.pass-field-label--dynamic');\n                if (labelEl) labelEl.style.color = labelEl.dataset.labelColor;\n            }\n        }\n\n        if (primarySection) {\n            // For generic, show primary in separate section\n            if (passStyle === 'generic' && fieldsByLocation.primary.length > 0) {\n                primarySection.innerHTML = fieldsByLocation.primary.map(field => `\n                    <div class=\"pass-field primary-field\">\n                        <div class=\"pass-field-label pass-field-label--dynamic\" data-label-color=\"${labelColor}\">${field.label || ''}</div>\n                        <div class=\"pass-field-value\">${resolveValue(field)}</div>\n                    </div>\n                `).join('');\n                // Note: Dynamic label colors from configuration, kept as inline styles\n                primarySection.querySelectorAll('.pass-field-label--dynamic').forEach(el => {\n                    el.style.color = el.dataset.labelColor;\n                });\n            } else if (passStyle === 'generic') {\n                primarySection.innerHTML = `\n                    <div class=\"pass-field primary-field\">\n                        <div class=\"pass-field-label pass-field-label--dynamic pass-field-value--muted\" data-label-color=\"${labelColor}\">MEMBER</div>\n                        <div class=\"pass-field-value pass-field-value--muted\">No primary field</div>\n                    </div>\n                `;\n                // Note: Dynamic label colors from configuration, kept as inline styles\n                const labelEl = primarySection.querySelector('.pass-field-label--dynamic');\n                if (labelEl) labelEl.style.color = labelEl.dataset.labelColor;\n            }\n        }\n\n        // Update Secondary/Auxiliary Fields (below strip)\n        // For eventTicket, also include primary fields here since they don't go on strip\n        let secondaryContainer = appleCard.querySelector('.pass-secondary-fields');\n        let allSecondary = [...fieldsByLocation.secondary, ...fieldsByLocation.auxiliary];\n\n        // For eventTicket, primary fields move to secondary\n        if (passStyle === 'eventTicket') {\n            allSecondary = [...fieldsByLocation.primary, ...allSecondary];\n        }\n\n        if (allSecondary.length > 0) {\n            if (!secondaryContainer) {\n                secondaryContainer = document.createElement('div');\n                secondaryContainer.className = 'pass-secondary-fields';\n                const stripArea = appleCard.querySelector('.pass-strip-area');\n                const primarySec = appleCard.querySelector('.pass-primary-fields-section');\n                if (stripArea && !stripArea.classList.contains('d-none')) {\n                    stripArea.after(secondaryContainer);\n                } else if (primarySec) {\n                    primarySec.after(secondaryContainer);\n                }\n            }\n            secondaryContainer.innerHTML = allSecondary.map(field => `\n                <div class=\"pass-field\">\n                    <div class=\"pass-field-label pass-field-label--dynamic\" data-label-color=\"${labelColor}\">${field.label || ''}</div>\n                    <div class=\"pass-field-value\">${resolveValue(field)}</div>\n                </div>\n            `).join('');\n            // Note: Dynamic label colors from configuration, kept as inline styles\n            secondaryContainer.querySelectorAll('.pass-field-label--dynamic').forEach(el => {\n                el.style.color = el.dataset.labelColor;\n            });\n        } else if (secondaryContainer) {\n            secondaryContainer.remove();\n        }\n    },\n\n    updateGooglePreviewFields(fieldsByLocation, labelColor, resolveValue) {\n        const googleContent = document.querySelector('.google-pass-content');\n        if (!googleContent) return;\n\n        // Update Primary Value\n        let primaryValue = googleContent.querySelector('.google-primary-value');\n        if (fieldsByLocation.primary.length > 0) {\n            const field = fieldsByLocation.primary[0];\n            if (!primaryValue) {\n                primaryValue = document.createElement('div');\n                primaryValue.className = 'google-primary-value';\n                const header = googleContent.querySelector('.google-header');\n                if (header) header.after(primaryValue);\n            }\n            primaryValue.classList.remove('text-muted');\n            primaryValue.textContent = resolveValue(field);\n        } else if (primaryValue) {\n            primaryValue.classList.add('text-muted');\n            primaryValue.textContent = 'No primary field configured';\n        }\n\n        // Update Info Rows\n        let infoRows = googleContent.querySelector('.google-info-rows');\n        const allSecondary = [...fieldsByLocation.secondary, ...fieldsByLocation.auxiliary];\n\n        if (allSecondary.length > 0) {\n            if (!infoRows) {\n                infoRows = document.createElement('div');\n                infoRows.className = 'google-info-rows';\n                const primaryEl = googleContent.querySelector('.google-primary-value');\n                if (primaryEl) primaryEl.after(infoRows);\n            }\n            infoRows.innerHTML = allSecondary.map(field => `\n                <div class=\"google-info-row\">\n                    <span class=\"google-info-label pass-field-label--dynamic\" data-label-color=\"${labelColor}\">${field.label || ''}</span>\n                    <span class=\"google-info-value\">${resolveValue(field)}</span>\n                </div>\n            `).join('');\n            // Note: Dynamic label colors from configuration, kept as inline styles\n            infoRows.querySelectorAll('.pass-field-label--dynamic').forEach(el => {\n                el.style.color = el.dataset.labelColor;\n            });\n        } else if (infoRows) {\n            infoRows.remove();\n        }\n    },\n\n    updatePreviewFromForm() {\n        // Get form values\n        const bgColor = document.getElementById('background_color')?.value;\n        const fgColor = document.getElementById('foreground_color')?.value;\n        const lblColor = document.getElementById('label_color')?.value;\n        const logoText = document.getElementById('logo_text')?.value;\n\n        // Update Apple preview\n        const appleCard = document.getElementById('pass-preview');\n        if (appleCard) {\n            // Note: Dynamic theme colors from form inputs, kept as inline styles\n            if (bgColor) appleCard.style.backgroundColor = bgColor;\n            if (fgColor) appleCard.style.color = fgColor;\n            if (lblColor) {\n                appleCard.querySelectorAll('.pass-field-label').forEach(el => {\n                    el.style.color = lblColor;\n                });\n            }\n            if (logoText !== undefined) {\n                const logoEl = document.getElementById('preview-logo-text');\n                if (logoEl) logoEl.textContent = logoText;\n            }\n        }\n\n        // Update Google preview\n        const googleContent = document.querySelector('.google-pass-content');\n        if (googleContent) {\n            // Note: Dynamic theme colors from form inputs, kept as inline styles\n            if (bgColor) googleContent.style.backgroundColor = bgColor;\n            if (fgColor) googleContent.style.color = fgColor;\n            if (lblColor) {\n                googleContent.querySelectorAll('.google-info-label, .google-card-subtitle').forEach(el => {\n                    el.style.color = lblColor;\n                });\n            }\n        }\n    },\n\n    updateBarcodePreview() {\n        const suppressBarcode = document.getElementById('suppress_barcode')?.checked;\n\n        // Update Apple preview\n        const appleBarcodeArea = document.querySelector('#apple-preview .pass-barcode-area');\n        if (appleBarcodeArea) {\n            appleBarcodeArea.classList.toggle('d-none', suppressBarcode);\n        }\n\n        // Update Google preview\n        const googleBarcodeArea = document.querySelector('#google-preview .google-barcode-area');\n        if (googleBarcodeArea) {\n            googleBarcodeArea.classList.toggle('d-none', suppressBarcode);\n        }\n    },\n\n    initColorPickers() {\n        // Initialize color picker inputs\n        document.querySelectorAll('.color-input').forEach(input => {\n            input.addEventListener('input', () => {\n                this.updatePreviewFromForm();\n                this.markUnsaved();\n            });\n        });\n    },\n\n    /**\n     * Toggle logo visibility in the preview\n     */\n    toggleLogoVisibility() {\n        const showLogo = document.getElementById('show_logo')?.checked ?? true;\n        const previewLogo = document.getElementById('preview-logo');\n\n        if (previewLogo) {\n            if (showLogo && this.assets.logo && this.assets.logo.url) {\n                previewLogo.classList.remove('d-none');\n                previewLogo.classList.add('d-flex');\n            } else {\n                previewLogo.classList.add('d-none');\n                previewLogo.classList.remove('d-flex');\n            }\n        }\n    },\n\n    async saveAppearance() {\n        const form = document.getElementById('appearance-form');\n        const formData = new FormData(form);\n        const data = Object.fromEntries(formData);\n\n        // Include Google Wallet URLs\n        data.google_hero_image_url = document.getElementById('google_hero_image_url')?.value || '';\n        data.google_logo_url = document.getElementById('google_logo_url')?.value || '';\n\n        // Explicitly include checkbox values (checkboxes don't send value when unchecked)\n        data.suppress_barcode = document.getElementById('suppress_barcode')?.checked || false;\n        data.show_logo = document.getElementById('show_logo')?.checked ?? true;\n\n        // Include pass style\n        const passStyleRadio = document.querySelector('input[name=\"apple_pass_style\"]:checked');\n        data.apple_pass_style = passStyleRadio?.value || 'generic';\n\n        try {\n            const csrfToken = document.querySelector('meta[name=csrf-token]')?.getAttribute('content') ||\n                             document.querySelector('[name=csrf_token]')?.value || '';\n\n            const response = await fetch(`/admin/wallet/studio/${this.passTypeCode}/appearance`, {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json',\n                    'X-CSRFToken': csrfToken\n                },\n                body: JSON.stringify(data)\n            });\n\n            const result = await response.json();\n            if (result.success) {\n                this.showToast('Appearance saved successfully', 'success');\n                this.markSaved();\n            } else {\n                this.showToast(result.error || 'Error saving appearance', 'error');\n            }\n        } catch (error) {\n            console.error('Error saving appearance:', error);\n            this.showToast('Error saving appearance', 'error');\n        }\n    },\n\n    showToast(message, type = 'info') {\n        if (typeof Swal !== 'undefined') {\n            Swal.fire({\n                toast: true,\n                position: 'top-end',\n                icon: type,\n                title: message,\n                showConfirmButton: false,\n                timer: 3000\n            });\n        } else {\n            alert(message);\n        }\n    },\n\n    insertVariable(fieldId, variable) {\n        const input = document.getElementById(fieldId);\n        if (input) {\n            const start = input.selectionStart;\n            const end = input.selectionEnd;\n            const text = input.value;\n            const variableText = '{{' + variable + '}}';\n            input.value = text.substring(0, start) + variableText + text.substring(end);\n            input.focus();\n            input.selectionStart = input.selectionEnd = start + variableText.length;\n            this.markUnsaved();\n        }\n    }\n};\n\n// Initialize on DOM ready\ndocument.addEventListener('DOMContentLoaded', () => {\n    // Get pass type code from script tag data attribute\n    const initScript = document.querySelector('script[data-pass-type-code]');\n    if (initScript) {\n        const passTypeCode = initScript.dataset.passTypeCode;\n        PassStudio.init(passTypeCode);\n    }\n});\n","/**\n * Asset Cropper for Pass Studio\n *\n * Canvas-based image cropper with drag-to-position and scroll-to-zoom.\n * Crops images to exact dimensions required for Apple/Google Wallet passes.\n */\n\nconst AssetCropper = {\n    canvas: null,\n    ctx: null,\n    image: null,\n    scale: 1,\n    minScale: 0.1,\n    maxScale: 5,\n    offsetX: 0,\n    offsetY: 0,\n    isDragging: false,\n    lastX: 0,\n    lastY: 0,\n\n    // Current asset settings\n    currentAssetType: null,\n    targetWidth: 29,\n    targetHeight: 29,\n    passTypeCode: null,\n\n    // Asset dimension presets\n    DIMENSIONS: {\n        icon: { width: 29, height: 29, label: 'Icon' },\n        icon2x: { width: 58, height: 58, label: 'Icon @2x' },\n        logo: { width: 160, height: 50, label: 'Logo' },\n        logo2x: { width: 320, height: 100, label: 'Logo @2x' },\n        strip: { width: 375, height: 123, label: 'Strip Image' },\n        strip2x: { width: 750, height: 246, label: 'Strip @2x' },\n        thumbnail: { width: 90, height: 90, label: 'Thumbnail' },\n        thumbnail2x: { width: 180, height: 180, label: 'Thumbnail @2x' },\n        background: { width: 180, height: 220, label: 'Background' },\n        background2x: { width: 360, height: 440, label: 'Background @2x' }\n    },\n\n    // Track if current asset exists (for delete button visibility)\n    assetExists: false,\n\n    /**\n     * Open the cropper modal for a specific asset type\n     */\n    open(assetType, passTypeCode, existingAssetUrl = null) {\n        this.currentAssetType = assetType;\n        this.passTypeCode = passTypeCode;\n        this.assetExists = !!existingAssetUrl;\n\n        const dims = this.DIMENSIONS[assetType];\n        if (!dims) {\n            console.error('Unknown asset type:', assetType);\n            return;\n        }\n\n        this.targetWidth = dims.width;\n        this.targetHeight = dims.height;\n\n        // Update modal UI\n        document.getElementById('cropper-asset-name').textContent = dims.label;\n        document.getElementById('cropper-dimensions').textContent = `${this.targetWidth}x${this.targetHeight}`;\n\n        // Reset state\n        this.reset();\n\n        // Show upload area, hide canvas\n        document.getElementById('cropper-upload-area').classList.remove('d-none');\n        document.getElementById('cropper-canvas-area').classList.add('d-none');\n        document.getElementById('cropper-save-btn').disabled = true;\n        document.getElementById('cropper-change-btn').classList.add('d-none');\n\n        // Show/hide delete button based on whether asset exists\n        const deleteBtn = document.getElementById('cropper-delete-btn');\n        if (deleteBtn) {\n            if (this.assetExists) {\n                deleteBtn.classList.remove('d-none');\n            } else {\n                deleteBtn.classList.add('d-none');\n            }\n        }\n\n        // Open modal\n        ModalManager.show('assetCropperModal');\n    },\n\n    /**\n     * Initialize the canvas with correct dimensions\n     */\n    initCanvas() {\n        this.canvas = document.getElementById('asset-cropper-canvas');\n        this.ctx = this.canvas.getContext('2d');\n\n        // Set canvas size - scale up for better UX but maintain aspect ratio\n        const maxDisplaySize = 400;\n        const aspectRatio = this.targetWidth / this.targetHeight;\n\n        if (aspectRatio > 1) {\n            // Wider than tall\n            this.canvas.width = Math.min(maxDisplaySize, this.targetWidth * 2);\n            this.canvas.height = this.canvas.width / aspectRatio;\n        } else {\n            // Taller than wide or square\n            this.canvas.height = Math.min(maxDisplaySize, this.targetHeight * 2);\n            this.canvas.width = this.canvas.height * aspectRatio;\n        }\n\n        // Bind events\n        this.canvas.addEventListener('mousedown', this.handleMouseDown.bind(this));\n        this.canvas.addEventListener('mousemove', this.handleMouseMove.bind(this));\n        this.canvas.addEventListener('mouseup', this.handleMouseUp.bind(this));\n        this.canvas.addEventListener('mouseleave', this.handleMouseUp.bind(this));\n        this.canvas.addEventListener('wheel', this.handleWheel.bind(this), { passive: false });\n\n        // Touch events for mobile\n        this.canvas.addEventListener('touchstart', this.handleTouchStart.bind(this), { passive: false });\n        this.canvas.addEventListener('touchmove', this.handleTouchMove.bind(this), { passive: false });\n        this.canvas.addEventListener('touchend', this.handleTouchEnd.bind(this));\n\n        // Set default cursor for draggable canvas\n        this.canvas.classList.add('cursor-move');\n    },\n\n    /**\n     * Load an image from file input\n     */\n    loadImage(fileInput) {\n        const file = fileInput.files[0];\n        if (!file) return;\n\n        // Validate file type\n        if (!file.type.startsWith('image/')) {\n            Swal.fire({\n                icon: 'warning',\n                title: 'Invalid File',\n                text: 'Please select an image file (PNG, JPG, etc.)'\n            });\n            return;\n        }\n\n        const reader = new FileReader();\n        reader.onload = (e) => {\n            const img = new Image();\n            img.onload = () => {\n                this.image = img;\n                this.initCanvas();\n                this.fitImageToCanvas();\n                this.draw();\n\n                // Show canvas area\n                document.getElementById('cropper-upload-area').classList.add('d-none');\n                document.getElementById('cropper-canvas-area').classList.remove('d-none');\n                document.getElementById('cropper-save-btn').disabled = false;\n                document.getElementById('cropper-change-btn').classList.remove('d-none');\n            };\n            img.onerror = () => {\n                Swal.fire({\n                    icon: 'error',\n                    title: 'Load Error',\n                    text: 'Failed to load the image. Please try another file.'\n                });\n            };\n            img.src = e.target.result;\n        };\n        reader.readAsDataURL(file);\n    },\n\n    /**\n     * Fit the image to fill the canvas (cover mode)\n     */\n    fitImageToCanvas() {\n        if (!this.image) return;\n\n        // Scale to fill (cover) - image should fill entire canvas\n        const scaleX = this.canvas.width / this.image.width;\n        const scaleY = this.canvas.height / this.image.height;\n        this.scale = Math.max(scaleX, scaleY);\n\n        // Set min scale to ensure image always covers canvas\n        this.minScale = this.scale * 0.5;\n\n        // Center the image\n        this.offsetX = (this.canvas.width - this.image.width * this.scale) / 2;\n        this.offsetY = (this.canvas.height - this.image.height * this.scale) / 2;\n    },\n\n    /**\n     * Draw the image and overlay on the canvas\n     */\n    draw() {\n        if (!this.ctx || !this.image) return;\n\n        // Draw checkerboard pattern for transparency\n        this.drawCheckerboard();\n\n        // Draw image\n        this.ctx.drawImage(\n            this.image,\n            this.offsetX, this.offsetY,\n            this.image.width * this.scale,\n            this.image.height * this.scale\n        );\n\n        // Draw crop border\n        this.ctx.strokeStyle = (typeof ECSTheme !== 'undefined') ? ECSTheme.getColor('primary') : '#0d6efd';\n        this.ctx.lineWidth = 2;\n        this.ctx.strokeRect(1, 1, this.canvas.width - 2, this.canvas.height - 2);\n    },\n\n    /**\n     * Draw checkerboard pattern to show transparency\n     */\n    drawCheckerboard() {\n        const size = 10;\n        for (let x = 0; x < this.canvas.width; x += size) {\n            for (let y = 0; y < this.canvas.height; y += size) {\n                // Checkerboard pattern - neutral grays for transparency indication\n                const checkerLight = (typeof ECSTheme !== 'undefined') ? ECSTheme.getColor('neutral-10') : '#e0e0e0';\n                const checkerDark = (typeof ECSTheme !== 'undefined') ? ECSTheme.getColor('neutral-5') : '#f5f5f5';\n                this.ctx.fillStyle = ((Math.floor(x / size) + Math.floor(y / size)) % 2 === 0) ? checkerLight : checkerDark;\n                this.ctx.fillRect(x, y, size, size);\n            }\n        }\n    },\n\n    // Mouse event handlers\n    handleMouseDown(e) {\n        this.isDragging = true;\n        const rect = this.canvas.getBoundingClientRect();\n        this.lastX = e.clientX - rect.left;\n        this.lastY = e.clientY - rect.top;\n        // Change to grabbing cursor during drag\n        this.canvas.classList.remove('cursor-move');\n        this.canvas.classList.add('cursor-grabbing');\n    },\n\n    handleMouseMove(e) {\n        if (!this.isDragging || !this.image) return;\n\n        const rect = this.canvas.getBoundingClientRect();\n        const currentX = e.clientX - rect.left;\n        const currentY = e.clientY - rect.top;\n\n        this.offsetX += currentX - this.lastX;\n        this.offsetY += currentY - this.lastY;\n\n        this.lastX = currentX;\n        this.lastY = currentY;\n\n        this.draw();\n    },\n\n    handleMouseUp() {\n        this.isDragging = false;\n        if (this.canvas) {\n            // Restore move cursor after drag\n            this.canvas.classList.remove('cursor-grabbing');\n            this.canvas.classList.add('cursor-move');\n        }\n    },\n\n    handleWheel(e) {\n        e.preventDefault();\n        if (!this.image) return;\n\n        const delta = e.deltaY > 0 ? 0.9 : 1.1;\n        const newScale = this.scale * delta;\n\n        // Limit zoom\n        if (newScale < this.minScale || newScale > this.maxScale) return;\n\n        // Zoom toward mouse position\n        const rect = this.canvas.getBoundingClientRect();\n        const mouseX = e.clientX - rect.left;\n        const mouseY = e.clientY - rect.top;\n\n        this.offsetX = mouseX - (mouseX - this.offsetX) * (newScale / this.scale);\n        this.offsetY = mouseY - (mouseY - this.offsetY) * (newScale / this.scale);\n        this.scale = newScale;\n\n        this.draw();\n    },\n\n    // Touch event handlers\n    handleTouchStart(e) {\n        e.preventDefault();\n        if (e.touches.length === 1) {\n            const touch = e.touches[0];\n            const rect = this.canvas.getBoundingClientRect();\n            this.isDragging = true;\n            this.lastX = touch.clientX - rect.left;\n            this.lastY = touch.clientY - rect.top;\n        }\n    },\n\n    handleTouchMove(e) {\n        e.preventDefault();\n        if (e.touches.length === 1 && this.isDragging && this.image) {\n            const touch = e.touches[0];\n            const rect = this.canvas.getBoundingClientRect();\n            const currentX = touch.clientX - rect.left;\n            const currentY = touch.clientY - rect.top;\n\n            this.offsetX += currentX - this.lastX;\n            this.offsetY += currentY - this.lastY;\n\n            this.lastX = currentX;\n            this.lastY = currentY;\n\n            this.draw();\n        }\n    },\n\n    handleTouchEnd(e) {\n        e.preventDefault();\n        this.isDragging = false;\n    },\n\n    /**\n     * Zoom in by 20%\n     */\n    zoomIn() {\n        if (!this.image) return;\n        const centerX = this.canvas.width / 2;\n        const centerY = this.canvas.height / 2;\n        const newScale = this.scale * 1.2;\n\n        if (newScale > this.maxScale) return;\n\n        this.offsetX = centerX - (centerX - this.offsetX) * (newScale / this.scale);\n        this.offsetY = centerY - (centerY - this.offsetY) * (newScale / this.scale);\n        this.scale = newScale;\n        this.draw();\n    },\n\n    /**\n     * Zoom out by 20%\n     */\n    zoomOut() {\n        if (!this.image) return;\n        const centerX = this.canvas.width / 2;\n        const centerY = this.canvas.height / 2;\n        const newScale = this.scale * 0.8;\n\n        if (newScale < this.minScale) return;\n\n        this.offsetX = centerX - (centerX - this.offsetX) * (newScale / this.scale);\n        this.offsetY = centerY - (centerY - this.offsetY) * (newScale / this.scale);\n        this.scale = newScale;\n        this.draw();\n    },\n\n    /**\n     * Reset to fit image in canvas\n     */\n    resetPosition() {\n        if (!this.image) return;\n        this.fitImageToCanvas();\n        this.draw();\n    },\n\n    /**\n     * Reset completely\n     */\n    reset() {\n        this.image = null;\n        this.scale = 1;\n        this.offsetX = 0;\n        this.offsetY = 0;\n        this.isDragging = false;\n        const fileInput = document.getElementById('cropper-file-input');\n        if (fileInput) fileInput.value = '';\n    },\n\n    /**\n     * Choose a different image\n     */\n    changeImage() {\n        document.getElementById('cropper-file-input').click();\n    },\n\n    /**\n     * Get the cropped image as base64 PNG data\n     */\n    getCroppedImageData() {\n        if (!this.image) return null;\n\n        // Create output canvas at exact target dimensions\n        const outputCanvas = document.createElement('canvas');\n        outputCanvas.width = this.targetWidth;\n        outputCanvas.height = this.targetHeight;\n        const outputCtx = outputCanvas.getContext('2d');\n\n        // Calculate the portion of the image that's visible in the crop area\n        // Map from display canvas coordinates to image coordinates\n        const displayToImageX = (displayX) => (displayX - this.offsetX) / this.scale;\n        const displayToImageY = (displayY) => (displayY - this.offsetY) / this.scale;\n\n        // Source rectangle in image coordinates\n        const srcX = displayToImageX(0);\n        const srcY = displayToImageY(0);\n        const srcW = this.canvas.width / this.scale;\n        const srcH = this.canvas.height / this.scale;\n\n        // Draw the cropped portion at target size\n        outputCtx.drawImage(\n            this.image,\n            srcX, srcY, srcW, srcH,\n            0, 0, this.targetWidth, this.targetHeight\n        );\n\n        return outputCanvas.toDataURL('image/png');\n    },\n\n    /**\n     * Save the cropped image and upload to server\n     */\n    async saveAndUpload() {\n        const croppedData = this.getCroppedImageData();\n        if (!croppedData) {\n            Swal.fire({\n                icon: 'warning',\n                title: 'No Image',\n                text: 'Please select an image first.'\n            });\n            return;\n        }\n\n        // Show loading\n        Swal.fire({\n            title: 'Uploading...',\n            text: 'Saving your asset',\n            allowOutsideClick: false,\n            showConfirmButton: false,\n            didOpen: () => Swal.showLoading()\n        });\n\n        try {\n            // Get CSRF token\n            const csrfToken = document.querySelector('[name=csrf_token]')?.value ||\n                              document.querySelector('meta[name=\"csrf-token\"]')?.content;\n\n            const response = await fetch(`/admin/wallet/studio/${this.passTypeCode}/assets/upload`, {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json',\n                    ...(csrfToken && { 'X-CSRFToken': csrfToken })\n                },\n                body: JSON.stringify({\n                    asset_type: this.currentAssetType,\n                    cropped_image: croppedData\n                })\n            });\n\n            const result = await response.json();\n\n            if (result.success) {\n                Swal.fire({\n                    icon: 'success',\n                    title: 'Asset Saved!',\n                    text: result.message,\n                    timer: 2000,\n                    showConfirmButton: false\n                });\n\n                // Close modal\n                const modal = bootstrap.Modal.getInstance(document.getElementById('assetCropperModal'));\n                if (modal) modal.hide();\n\n                // Notify PassStudio to update preview\n                if (typeof PassStudio !== 'undefined' && PassStudio.onAssetUploaded) {\n                    PassStudio.onAssetUploaded(this.currentAssetType, result.asset);\n                }\n            } else {\n                throw new Error(result.error || 'Upload failed');\n            }\n        } catch (error) {\n            console.error('Upload error:', error);\n            Swal.fire({\n                icon: 'error',\n                title: 'Upload Failed',\n                text: error.message || 'An error occurred while uploading the asset.'\n            });\n        }\n    },\n\n    /**\n     * Delete the current asset\n     */\n    async deleteAsset() {\n        if (!this.currentAssetType || !this.passTypeCode) {\n            return;\n        }\n\n        // Confirm deletion\n        const result = await Swal.fire({\n            title: 'Remove Asset?',\n            text: `Are you sure you want to remove the ${this.DIMENSIONS[this.currentAssetType]?.label || this.currentAssetType} image?`,\n            icon: 'warning',\n            showCancelButton: true,\n            confirmButtonColor: (typeof ECSTheme !== 'undefined') ? ECSTheme.getColor('danger') : '#dc3545',\n            confirmButtonText: 'Yes, remove it',\n            cancelButtonText: 'Cancel'\n        });\n\n        if (!result.isConfirmed) {\n            return;\n        }\n\n        // Show loading\n        Swal.fire({\n            title: 'Removing...',\n            text: 'Deleting asset',\n            allowOutsideClick: false,\n            showConfirmButton: false,\n            didOpen: () => Swal.showLoading()\n        });\n\n        try {\n            // Get CSRF token\n            const csrfToken = document.querySelector('[name=csrf_token]')?.value ||\n                              document.querySelector('meta[name=\"csrf-token\"]')?.content;\n\n            const response = await fetch(`/admin/wallet/studio/${this.passTypeCode}/assets/${this.currentAssetType}`, {\n                method: 'DELETE',\n                headers: {\n                    'Content-Type': 'application/json',\n                    ...(csrfToken && { 'X-CSRFToken': csrfToken })\n                }\n            });\n\n            const responseData = await response.json();\n\n            if (responseData.success) {\n                Swal.fire({\n                    icon: 'success',\n                    title: 'Asset Removed!',\n                    text: responseData.message,\n                    timer: 2000,\n                    showConfirmButton: false\n                });\n\n                // Close modal\n                const modal = bootstrap.Modal.getInstance(document.getElementById('assetCropperModal'));\n                if (modal) modal.hide();\n\n                // Notify PassStudio to update preview\n                if (typeof PassStudio !== 'undefined' && PassStudio.onAssetDeleted) {\n                    PassStudio.onAssetDeleted(this.currentAssetType);\n                }\n            } else {\n                throw new Error(responseData.error || 'Delete failed');\n            }\n        } catch (error) {\n            console.error('Delete error:', error);\n            Swal.fire({\n                icon: 'error',\n                title: 'Delete Failed',\n                text: error.message || 'An error occurred while removing the asset.'\n            });\n        }\n    }\n};\n\n// Make globally available\nwindow.AssetCropper = AssetCropper;\n","/**\n * Security Dashboard JavaScript\n * Handles real-time updates, IP unbanning, and log viewing\n *\n * CONVERTED TO EVENT DELEGATION (Phase 2.2 Sprint 3)\n * - All addEventListener calls removed\n * - All actions registered in event-delegation.js\n * - Uses data-action attributes for all interactive elements\n *\n * @version 2.0.0 - Event Delegation\n * @date 2025-12-16\n */\n\nclass SecurityDashboard {\n    constructor() {\n        this.refreshInterval = null;\n        this.countdownInterval = null;\n        this.init();\n    }\n\n    init() {\n        // NOTE: bindEvents() removed - now using centralized event delegation\n        this.initTooltips();\n        this.loadSecurityEvents();\n        this.loadSecurityLogs();\n        this.startCountdowns();\n        this.startAutoRefresh();\n    }\n\n    // bindEvents() method removed - converted to event delegation system\n    // All event handlers now registered in event-delegation.js:\n    // - refresh-stats (refresh all data)\n    // - refresh-events (refresh security events)\n    // - refresh-logs (refresh security logs)\n    // - unban-ip (unban specific IP)\n    // - ban-ip-quick (quick ban from event list)\n    // - ban-ip-confirm (confirm ban from modal)\n    // - clear-all-bans (clear all IP bans)\n\n    initTooltips() {\n        // Initialize Bootstrap tooltips\n        const tooltipTriggerList = document.querySelectorAll('[data-bs-toggle=\"tooltip\"]');\n        const tooltipList = [...tooltipTriggerList].map(tooltipTriggerEl => new bootstrap.Tooltip(tooltipTriggerEl));\n    }\n\n    async refreshAll() {\n        const refreshBtn = document.getElementById('refreshBtn');\n        const refreshIndicator = document.getElementById('refreshIndicator');\n\n        if (refreshBtn && refreshIndicator) {\n            refreshBtn.disabled = true;\n            refreshIndicator.classList.add('is-active');\n        }\n\n        try {\n            await Promise.all([\n                this.loadSecurityEvents(),\n                this.loadSecurityLogs(),\n                this.refreshStats()\n            ]);\n\n            // Update last updated time\n            const lastUpdated = document.getElementById('lastUpdated');\n            if (lastUpdated) {\n                lastUpdated.textContent = new Date().toLocaleTimeString();\n            }\n        } catch (error) {\n            console.error('Error refreshing dashboard:', error);\n            this.showAlert('Error refreshing dashboard', 'error');\n        } finally {\n            if (refreshBtn && refreshIndicator) {\n                refreshBtn.disabled = false;\n                refreshIndicator.classList.remove('is-active');\n            }\n        }\n    }\n\n    async loadSecurityEvents() {\n        try {\n            console.log('Loading security events...');\n            const response = await fetch('/security/events');\n            console.log('Security events response:', response.status);\n            if (!response.ok) {\n                throw new Error(`Failed to load security events: ${response.status}`);\n            }\n            \n            const data = await response.json();\n            console.log('Security events data:', data);\n            this.renderSecurityEvents(data.events || []);\n        } catch (error) {\n            console.error('Error loading security events:', error);\n            this.renderSecurityEventsError();\n        }\n    }\n\n    async loadSecurityLogs() {\n        try {\n            console.log('Loading security logs...');\n            const response = await fetch('/security/logs');\n            console.log('Security logs response:', response.status);\n            if (!response.ok) {\n                throw new Error(`Failed to load security logs: ${response.status}`);\n            }\n            \n            const data = await response.json();\n            console.log('Security logs data:', data);\n            this.renderSecurityLogs(data.logs || []);\n        } catch (error) {\n            console.error('Error loading security logs:', error);\n            this.renderSecurityLogsError();\n        }\n    }\n\n    async refreshStats() {\n        try {\n            const response = await fetch('/security/status');\n            if (!response.ok) {\n                throw new Error('Failed to refresh stats');\n            }\n            \n            const data = await response.json();\n            \n            // Update monitored IPs count\n            const monitoredIps = document.getElementById('monitoredIps');\n            if (monitoredIps && data.attack_protection) {\n                monitoredIps.textContent = data.attack_protection.total_monitored_ips || 0;\n            }\n            \n            // Update blacklisted IPs count\n            const blacklistedIps = document.getElementById('blacklistedIps');\n            if (blacklistedIps && data.attack_protection) {\n                blacklistedIps.textContent = data.attack_protection.total_blacklisted_ips || 0;\n            }\n            \n            // Update attack attempts count\n            const attackAttempts = document.getElementById('attackAttempts');\n            if (attackAttempts && data.attack_protection) {\n                attackAttempts.textContent = data.attack_protection.total_attack_attempts || 0;\n            }\n        } catch (error) {\n            console.error('Error refreshing stats:', error);\n        }\n    }\n\n    renderSecurityEvents(events) {\n        const container = document.getElementById('securityEvents');\n        if (!container) return;\n\n        if (events.length === 0) {\n            container.innerHTML = `\n                <div class=\"u-text-center u-py-4\">\n                    <i class=\"ti ti-shield-check u-text-success u-mb-2 u-fs-1\"></i>\n                    <p class=\"u-text-muted u-mb-0\">No recent security events</p>\n                </div>\n            `;\n            return;\n        }\n\n        const eventsHTML = events.map(event => {\n            const severityClass = this.getSeverityClass(event.severity);\n            const iconClass = this.getEventIcon(event.type);\n            const timestamp = new Date(event.timestamp).toLocaleString();\n\n            return `\n                <div class=\"js-event-item\" data-severity=\"${event.severity}\">\n                    <div class=\"u-flex u-align-start\">\n                        <div class=\"u-avatar u-avatar-sm u-me-3\">\n                            <div class=\"u-avatar-initial u-bg-light-${severityClass} u-rounded-circle\">\n                                <i class=\"ti ${iconClass} u-text-${severityClass}\"></i>\n                            </div>\n                        </div>\n                        <div class=\"u-flex-grow\">\n                            <div class=\"u-flex u-justify-between u-align-start\">\n                                <div>\n                                    <h6 class=\"u-mb-1\">${this.formatEventTitle(event.type)}</h6>\n                                    <p class=\"u-mb-1 u-text-muted\">${event.description}</p>\n                                    <small class=\"u-text-muted\">\n                                        <i class=\"ti ti-clock u-me-1\"></i>\n                                        ${timestamp}\n                                    </small>\n                                </div>\n                                <div class=\"u-ms-2\">\n                                    ${this.shouldShowBanButton(event) ? `\n                                        <button class=\"u-btn u-btn-outline-danger u-btn-xs\" data-action=\"ban-ip-quick\" data-ip=\"${event.ip}\" data-reason=\"Security event: ${event.type}\">\n                                            <i class=\"ti ti-ban\"></i>\n                                            Ban\n                                        </button>\n                                    ` : ''}\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            `;\n        }).join('');\n\n        container.innerHTML = eventsHTML;\n    }\n\n    renderSecurityLogs(logs) {\n        const container = document.getElementById('securityLogs');\n        if (!container) return;\n\n        if (logs.length === 0) {\n            container.innerHTML = `\n                <div class=\"u-text-center u-py-4\">\n                    <i class=\"ti ti-file-text u-text-muted u-mb-2 u-fs-1\"></i>\n                    <p class=\"u-text-muted u-mb-0\">No recent logs</p>\n                </div>\n            `;\n            return;\n        }\n\n        const logsHTML = logs.map(log => {\n            const levelClass = this.getLogLevelClass(log.level);\n            const levelIcon = this.getLogLevelIcon(log.level);\n            const timestamp = new Date(log.timestamp);\n            const timeFormatted = timestamp.toLocaleDateString() + ' ' + timestamp.toLocaleTimeString();\n\n            return `\n                <div class=\"js-log-item u-flex u-align-start u-mb-3 u-p-3 u-border u-rounded\">\n                    <div class=\"u-avatar u-avatar-sm u-me-3\">\n                        <div class=\"u-avatar-initial u-bg-light-${levelClass} u-rounded-circle\">\n                            <i class=\"ti ${levelIcon} u-text-${levelClass}\"></i>\n                        </div>\n                    </div>\n                    <div class=\"u-flex-grow\">\n                        <div class=\"u-flex u-justify-between u-align-start u-mb-1\">\n                            <span class=\"u-badge u-bg-light-${levelClass} u-text-${levelClass}\">${log.level}</span>\n                            <small class=\"u-text-muted\">${log.source}</small>\n                        </div>\n                        <p class=\"u-mb-2 u-fw-medium\">${log.message}</p>\n                        <small class=\"u-text-muted\">\n                            <i class=\"ti ti-clock u-me-1\"></i>\n                            ${timeFormatted}\n                        </small>\n                    </div>\n                </div>\n            `;\n        }).join('');\n\n        container.innerHTML = logsHTML;\n    }\n\n    renderSecurityEventsError() {\n        const container = document.getElementById('securityEvents');\n        if (container) {\n            container.innerHTML = `\n                <div class=\"u-text-center u-py-4\">\n                    <i class=\"ti ti-alert-triangle u-text-warning u-mb-2 u-fs-1\"></i>\n                    <p class=\"u-text-muted u-mb-0\">Error loading security events</p>\n                </div>\n            `;\n        }\n    }\n\n    renderSecurityLogsError() {\n        const container = document.getElementById('securityLogs');\n        if (container) {\n            container.innerHTML = `\n                <div class=\"u-text-center u-py-4\">\n                    <i class=\"ti ti-alert-triangle u-text-warning u-mb-2 u-fs-1\"></i>\n                    <p class=\"u-text-muted u-mb-0\">Error loading security logs</p>\n                </div>\n            `;\n        }\n    }\n\n    async unbanIP(ip, button) {\n        if (!ip || !button) return;\n\n        const originalText = button.innerHTML;\n        button.disabled = true;\n        button.innerHTML = '<i class=\"ti ti-loader-2\"></i> Unbanning...';\n\n        try {\n            // Get CSRF token from meta tag (vanilla JS, no jQuery)\n            const csrfToken = document.querySelector('meta[name=csrf-token]')?.getAttribute('content') || '';\n\n            const requestData = {\n                ip_address: ip\n            };\n\n            const headers = {\n                'Content-Type': 'application/json'\n            };\n\n            // Add CSRF token if available\n            if (csrfToken) {\n                headers['X-CSRFToken'] = csrfToken;\n            }\n\n            const response = await fetch('/security/unban_ip', {\n                method: 'POST',\n                headers: headers,\n                body: JSON.stringify(requestData)\n            });\n\n            if (!response.ok) {\n                throw new Error('Failed to unban IP');\n            }\n\n            const data = await response.json();\n            \n            if (data.success) {\n                // Remove the IP from the list\n                const ipContainer = button.closest('[data-banned-ip]');\n                if (ipContainer) {\n                    ipContainer.remove();\n                }\n\n                this.showAlert(data.message, 'success');\n\n                // Update blacklisted count\n                this.refreshStats();\n            } else {\n                throw new Error(data.error || 'Unknown error');\n            }\n        } catch (error) {\n            console.error('Error unbanning IP:', error);\n            this.showAlert('Error unbanning IP: ' + error.message, 'error');\n            button.disabled = false;\n            button.innerHTML = originalText;\n        }\n    }\n\n    async banIP() {\n        const form = document.getElementById('banIpForm');\n        const formData = new FormData(form);\n        const ipAddress = formData.get('ip_address');\n        const duration = formData.get('duration');\n        const reason = formData.get('reason');\n\n        if (!ipAddress) {\n            this.showAlert('IP address is required', 'error');\n            return;\n        }\n\n        const confirmBanBtn = document.getElementById('confirmBanBtn');\n        const originalText = confirmBanBtn.innerHTML;\n        confirmBanBtn.disabled = true;\n        confirmBanBtn.innerHTML = '<i class=\"ti ti-loader-2\"></i> Banning...';\n\n        try {\n            const csrfToken = document.querySelector('meta[name=csrf-token]')?.getAttribute('content') || '';\n            \n            const requestData = {\n                ip_address: ipAddress,\n                duration_hours: duration ? parseInt(duration) : null,\n                reason: reason || null\n            };\n            \n            const headers = {\n                'Content-Type': 'application/json'\n            };\n            \n            if (csrfToken) {\n                headers['X-CSRFToken'] = csrfToken;\n            }\n\n            const response = await fetch('/security/ban_ip', {\n                method: 'POST',\n                headers: headers,\n                body: JSON.stringify(requestData)\n            });\n\n            if (!response.ok) {\n                throw new Error(`Failed to ban IP: ${response.status}`);\n            }\n\n            const data = await response.json();\n            \n            if (data.success) {\n                this.showAlert(data.message, 'success');\n                \n                // Close modal and reset form\n                const modal = bootstrap.Modal.getInstance(document.getElementById('banIpModal'));\n                modal.hide();\n                form.reset();\n                \n                // Refresh the page data\n                await this.refreshAll();\n            } else {\n                throw new Error(data.error || 'Unknown error');\n            }\n        } catch (error) {\n            console.error('Error banning IP:', error);\n            this.showAlert('Error banning IP: ' + error.message, 'error');\n        } finally {\n            confirmBanBtn.disabled = false;\n            confirmBanBtn.innerHTML = originalText;\n        }\n    }\n\n    async clearAllBans() {\n        if (!confirm('Are you sure you want to clear ALL IP bans? This action cannot be undone.')) {\n            return;\n        }\n\n        const clearAllBansBtn = document.getElementById('clearAllBansBtn');\n        const originalText = clearAllBansBtn.innerHTML;\n        clearAllBansBtn.disabled = true;\n        clearAllBansBtn.innerHTML = '<i class=\"ti ti-loader-2\"></i> Clearing...';\n\n        try {\n            const csrfToken = document.querySelector('meta[name=csrf-token]')?.getAttribute('content') || '';\n            \n            const headers = {\n                'Content-Type': 'application/json'\n            };\n            \n            if (csrfToken) {\n                headers['X-CSRFToken'] = csrfToken;\n            }\n\n            const response = await fetch('/security/clear_all_bans', {\n                method: 'POST',\n                headers: headers\n            });\n\n            if (!response.ok) {\n                throw new Error(`Failed to clear bans: ${response.status}`);\n            }\n\n            const data = await response.json();\n            \n            if (data.success) {\n                this.showAlert(data.message, 'success');\n                \n                // Refresh the page data\n                await this.refreshAll();\n            } else {\n                throw new Error(data.error || 'Unknown error');\n            }\n        } catch (error) {\n            console.error('Error clearing bans:', error);\n            this.showAlert('Error clearing bans: ' + error.message, 'error');\n        } finally {\n            clearAllBansBtn.disabled = false;\n            clearAllBansBtn.innerHTML = originalText;\n        }\n    }\n\n    startCountdowns() {\n        this.countdownInterval = setInterval(() => {\n            const countdownElements = document.querySelectorAll('.countdown');\n            \n            countdownElements.forEach(element => {\n                let remaining = parseInt(element.getAttribute('data-expiry'));\n                \n                if (remaining > 0) {\n                    remaining--;\n                    element.setAttribute('data-expiry', remaining);\n                    \n                    const minutes = Math.floor(remaining / 60);\n                    const seconds = remaining % 60;\n                    element.textContent = `${minutes}:${seconds.toString().padStart(2, '0')}`;\n                    \n                    if (remaining === 0) {\n                        // IP ban expired, remove from list\n                        const ipContainer = element.closest('[data-banned-ip]');\n                        if (ipContainer) {\n                            ipContainer.remove();\n                        }\n                        this.refreshStats();\n                    }\n                }\n            });\n        }, 1000);\n    }\n\n    startAutoRefresh() {\n        // Refresh data every 30 seconds\n        this.refreshInterval = setInterval(() => {\n            this.loadSecurityEvents();\n            this.loadSecurityLogs();\n            this.refreshStats();\n        }, 30000);\n    }\n\n    getSeverityClass(severity) {\n        switch (severity) {\n            case 'high': return 'danger';\n            case 'medium': return 'warning';\n            case 'low': return 'success';\n            default: return 'secondary';\n        }\n    }\n\n    getEventIcon(type) {\n        switch (type) {\n            case 'ip_blacklisted': return 'ti-ban';\n            case 'high_request_rate': return 'ti-activity';\n            case 'attack_detected': return 'ti-shield-x';\n            case 'suspicious_activity': return 'ti-eye-exclamation';\n            default: return 'ti-alert-triangle';\n        }\n    }\n\n    getLogLevelClass(level) {\n        switch (level) {\n            case 'ERROR': return 'danger';\n            case 'WARNING': return 'warning';\n            case 'INFO': return 'info';\n            case 'DEBUG': return 'secondary';\n            default: return 'secondary';\n        }\n    }\n\n    getLogLevelIcon(level) {\n        switch (level) {\n            case 'ERROR': return 'ti-circle-x';\n            case 'WARNING': return 'ti-alert-triangle';\n            case 'INFO': return 'ti-info-circle';\n            case 'DEBUG': return 'ti-bug';\n            default: return 'ti-file-text';\n        }\n    }\n\n    formatEventTitle(type) {\n        switch (type) {\n            case 'ip_blacklisted': return 'IP Blacklisted';\n            case 'high_request_rate': return 'High Request Rate';\n            case 'attack_detected': return 'Attack Detected';\n            case 'suspicious_activity': return 'Suspicious Activity';\n            default: return 'Security Event';\n        }\n    }\n\n    shouldShowBanButton(event) {\n        // Only show ban button for events that have an IP address and are not already from banned IPs\n        if (!event.ip) return false;\n        \n        // Don't show ban button if IP is already blacklisted\n        if (event.type === 'ip_blacklisted') return false;\n        \n        // Show ban button for high-severity events or repeated offenses\n        return event.severity === 'high' || \n               event.type === 'attack_detected' || \n               event.type === 'suspicious_activity' ||\n               event.type === 'high_request_rate';\n    }\n\n    async quickBanIP(ip, reason) {\n        if (!ip) return;\n\n        // Show confirmation dialog\n        const confirmed = confirm(`Ban IP address ${ip}?\\nReason: ${reason}`);\n        if (!confirmed) return;\n\n        try {\n            const csrfToken = document.querySelector('meta[name=csrf-token]')?.getAttribute('content') || '';\n            \n            const requestData = {\n                ip_address: ip,\n                duration_hours: 24, // Default 24-hour ban for quick bans\n                reason: reason\n            };\n            \n            const headers = {\n                'Content-Type': 'application/json'\n            };\n            \n            if (csrfToken) {\n                headers['X-CSRFToken'] = csrfToken;\n            }\n\n            const response = await fetch('/security/ban_ip', {\n                method: 'POST',\n                headers: headers,\n                body: JSON.stringify(requestData)\n            });\n\n            if (!response.ok) {\n                throw new Error(`Failed to ban IP: ${response.status}`);\n            }\n\n            const data = await response.json();\n            \n            if (data.success) {\n                this.showAlert(`IP ${ip} has been banned successfully`, 'success');\n                \n                // Refresh the page data to update stats and events\n                await this.refreshAll();\n            } else {\n                throw new Error(data.error || 'Unknown error');\n            }\n        } catch (error) {\n            console.error('Error banning IP:', error);\n            this.showAlert('Error banning IP: ' + error.message, 'error');\n        }\n    }\n\n    showAlert(message, type = 'info') {\n        // Use SweetAlert2 if available, otherwise fallback to browser alert\n        if (typeof Swal !== 'undefined') {\n            Swal.fire({\n                title: type === 'error' ? 'Error' : 'Success',\n                text: message,\n                icon: type === 'error' ? 'error' : 'success',\n                confirmButtonText: 'OK'\n            });\n        } else {\n            alert(message);\n        }\n    }\n\n    destroy() {\n        if (this.refreshInterval) {\n            clearInterval(this.refreshInterval);\n        }\n        if (this.countdownInterval) {\n            clearInterval(this.countdownInterval);\n        }\n    }\n}\n\n// Initialize dashboard when DOM is ready\ndocument.addEventListener('DOMContentLoaded', () => {\n    window.securityDashboard = new SecurityDashboard();\n});\n\n// Clean up on page unload\nwindow.addEventListener('beforeunload', () => {\n    if (window.securityDashboard) {\n        window.securityDashboard.destroy();\n    }\n});\n","/*! shepherd.js 11.2.0 */\n\n'use strict';(function(K,ra){\"object\"===typeof exports&&\"undefined\"!==typeof module?module.exports=ra():\"function\"===typeof define&&define.amd?define(ra):(K=\"undefined\"!==typeof globalThis?globalThis:K||self,K.Shepherd=ra())})(this,function(){function K(a,b){return!1!==b.clone&&b.isMergeableObject(a)?fa(Array.isArray(a)?[]:{},a,b):a}function ra(a,b,c){return a.concat(b).map(function(d){return K(d,c)})}function Bb(a){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(a).filter(function(b){return Object.propertyIsEnumerable.call(a,\nb)}):[]}function Ua(a){return Object.keys(a).concat(Bb(a))}function Va(a,b){try{return b in a}catch(c){return!1}}function Cb(a,b,c){var d={};c.isMergeableObject(a)&&Ua(a).forEach(function(e){d[e]=K(a[e],c)});Ua(b).forEach(function(e){if(!Va(a,e)||Object.hasOwnProperty.call(a,e)&&Object.propertyIsEnumerable.call(a,e))if(Va(a,e)&&c.isMergeableObject(b[e])){if(c.customMerge){var f=c.customMerge(e);f=\"function\"===typeof f?f:fa}else f=fa;d[e]=f(a[e],b[e],c)}else d[e]=K(b[e],c)});return d}function fa(a,\nb,c){c=c||{};c.arrayMerge=c.arrayMerge||ra;c.isMergeableObject=c.isMergeableObject||Db;c.cloneUnlessOtherwiseSpecified=K;var d=Array.isArray(b),e=Array.isArray(a);return d!==e?K(b,c):d?c.arrayMerge(a,b,c):Cb(a,b,c)}function X(a){return\"function\"===typeof a}function sa(a){return\"string\"===typeof a}function Wa(a){let b=Object.getOwnPropertyNames(a.constructor.prototype);for(let c=0;c<b.length;c++){let d=b[c],e=a[d];\"constructor\"!==d&&\"function\"===typeof e&&(a[d]=e.bind(a))}return a}function Eb(a,b){return c=>\n{if(b.isOpen()){let d=b.el&&c.currentTarget===b.el;(void 0!==a&&c.currentTarget.matches(a)||d)&&b.tour.next()}}}function Fb(a){let {event:b,selector:c}=a.options.advanceOn||{};if(b){let d=Eb(c,a),e;try{e=document.querySelector(c)}catch(f){}if(void 0===c||e)e?(e.addEventListener(b,d),a.on(\"destroy\",()=>e.removeEventListener(b,d))):(document.body.addEventListener(b,d,!0),a.on(\"destroy\",()=>document.body.removeEventListener(b,d,!0)));else return console.error(`No element was found for the selector supplied to advanceOn: ${c}`)}else return console.error(\"advanceOn was defined, but no event name was passed.\")}\nfunction Xa(a){return sa(a)&&\"\"!==a?\"-\"!==a.charAt(a.length-1)?`${a}-`:a:\"\"}function Ga(){let a=Date.now();return\"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx\".replace(/[xy]/g,b=>{let c=(a+16*Math.random())%16|0;a=Math.floor(a/16);return(\"x\"==b?c:c&3|8).toString(16)})}function D(){D=Object.assign?Object.assign.bind():function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b],d;for(d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a};return D.apply(this,arguments)}function Ya(a,\nb){if(null==a)return{};var c={},d=Object.keys(a),e;for(e=0;e<d.length;e++){var f=d[e];0<=b.indexOf(f)||(c[f]=a[f])}return c}function ha(a,b){return\"function\"===typeof a?a(b):a}function Y(a){return a.split(\"-\")[0]}function ta(a){return\"x\"===a?\"y\":\"x\"}function Ha(a){return\"y\"===a?\"height\":\"width\"}function ia(a){return[\"top\",\"bottom\"].includes(Y(a))?\"y\":\"x\"}function Gb(a,b,c){void 0===c&&(c=!1);let d=a.split(\"-\")[1],e=ta(ia(a));a=Ha(e);c=\"x\"===e?d===(c?\"end\":\"start\")?\"right\":\"left\":\"start\"===d?\"bottom\":\n\"top\";b.reference[a]>b.floating[a]&&(c=va(c));return[c,va(c)]}function Hb(a){let b=va(a);return[Ia(a),b,Ia(b)]}function Ia(a){return a.replace(/start|end/g,b=>Ib[b])}function Jb(a,b,c){let d=[\"left\",\"right\"],e=[\"right\",\"left\"],f=[\"top\",\"bottom\"],g=[\"bottom\",\"top\"];switch(a){case \"top\":case \"bottom\":return c?b?e:d:b?d:e;case \"left\":case \"right\":return b?f:g;default:return[]}}function Kb(a,b,c,d){let e=a.split(\"-\")[1];a=Jb(Y(a),\"start\"===c,d);e&&(a=a.map(f=>f+\"-\"+e),b&&(a=a.concat(a.map(Ia))));return a}\nfunction va(a){return a.replace(/left|right|bottom|top/g,b=>Lb[b])}function Za(a){return\"number\"!==typeof a?D({top:0,right:0,bottom:0,left:0},a):{top:a,right:a,bottom:a,left:a}}function wa(a){return D({},a,{top:a.y,left:a.x,right:a.x+a.width,bottom:a.y+a.height})}function $a(a,b,c){let {reference:d,floating:e}=a;var f=ia(b);a=ta(ia(b));var g=Ha(a),h=Y(b);f=\"y\"===f;let l=d.x+d.width/2-e.width/2,k=d.y+d.height/2-e.height/2;g=d[g]/2-e[g]/2;switch(h){case \"top\":h={x:l,y:d.y-e.height};break;case \"bottom\":h=\n{x:l,y:d.y+d.height};break;case \"right\":h={x:d.x+d.width,y:k};break;case \"left\":h={x:d.x-e.width,y:k};break;default:h={x:d.x,y:d.y}}switch(b.split(\"-\")[1]){case \"start\":h[a]-=g*(c&&f?-1:1);break;case \"end\":h[a]+=g*(c&&f?-1:1)}return h}async function ab(a,b){var c;void 0===b&&(b={});let {x:d,y:e,platform:f,rects:g,elements:h,strategy:l}=a,{boundary:k=\"clippingAncestors\",rootBoundary:m=\"viewport\",elementContext:q=\"floating\",altBoundary:p=!1,padding:u=0}=ha(b,a);a=Za(u);b=h[p?\"floating\"===q?\"reference\":\n\"floating\":q];b=wa(await f.getClippingRect({element:(null!=(c=await (null==f.isElement?void 0:f.isElement(b)))?c:1)?b:b.contextElement||await (null==f.getDocumentElement?void 0:f.getDocumentElement(h.floating)),boundary:k,rootBoundary:m,strategy:l}));var r=\"floating\"===q?D({},g.floating,{x:d,y:e}):g.reference;let n=await (null==f.getOffsetParent?void 0:f.getOffsetParent(h.floating));c=await (null==f.isElement?void 0:f.isElement(n))?await (null==f.getScale?void 0:f.getScale(n))||{x:1,y:1}:{x:1,y:1};\nr=wa(f.convertOffsetParentRelativeRectToViewportRelativeRect?await f.convertOffsetParentRelativeRectToViewportRelativeRect({rect:r,offsetParent:n,strategy:l}):r);return{top:(b.top-r.top+a.top)/c.y,bottom:(r.bottom-b.bottom+a.bottom)/c.y,left:(b.left-r.left+a.left)/c.x,right:(r.right-b.right+a.right)/c.x}}function T(a){return bb(a)?(a.nodeName||\"\").toLowerCase():\"#document\"}function E(a){var b;return(null==a?void 0:null==(b=a.ownerDocument)?void 0:b.defaultView)||window}function L(a){var b;return null==\n(b=(bb(a)?a.ownerDocument:a.document)||window.document)?void 0:b.documentElement}function bb(a){return a instanceof Node||a instanceof E(a).Node}function M(a){return a instanceof Element||a instanceof E(a).Element}function J(a){return a instanceof HTMLElement||a instanceof E(a).HTMLElement}function cb(a){return\"undefined\"===typeof ShadowRoot?!1:a instanceof ShadowRoot||a instanceof E(a).ShadowRoot}function ua(a){let {overflow:b,overflowX:c,overflowY:d,display:e}=G(a);return/auto|scroll|overlay|hidden|clip/.test(b+\nd+c)&&![\"inline\",\"contents\"].includes(e)}function Ja(a){let b=Ka(),c=G(a);return\"none\"!==c.transform||\"none\"!==c.perspective||(c.containerType?\"normal\"!==c.containerType:!1)||!b&&(c.backdropFilter?\"none\"!==c.backdropFilter:!1)||!b&&(c.filter?\"none\"!==c.filter:!1)||[\"transform\",\"perspective\",\"filter\"].some(d=>(c.willChange||\"\").includes(d))||[\"paint\",\"layout\",\"strict\",\"content\"].some(d=>(c.contain||\"\").includes(d))}function Ka(){return\"undefined\"!==typeof CSS&&CSS.supports?CSS.supports(\"-webkit-backdrop-filter\",\n\"none\"):!1}function xa(a){return[\"html\",\"body\",\"#document\"].includes(T(a))}function G(a){return E(a).getComputedStyle(a)}function ya(a){return M(a)?{scrollLeft:a.scrollLeft,scrollTop:a.scrollTop}:{scrollLeft:a.pageXOffset,scrollTop:a.pageYOffset}}function ja(a){if(\"html\"===T(a))return a;a=a.assignedSlot||a.parentNode||cb(a)&&a.host||L(a);return cb(a)?a.host:a}function db(a){let b=ja(a);return xa(b)?a.ownerDocument?a.ownerDocument.body:a.body:J(b)&&ua(b)?b:db(b)}function za(a,b){var c;void 0===b&&\n(b=[]);let d=db(a);a=d===(null==(c=a.ownerDocument)?void 0:c.body);c=E(d);return a?b.concat(c,c.visualViewport||[],ua(d)?d:[]):b.concat(d,za(d))}function eb(a){var b=G(a);let c=parseFloat(b.width)||0;b=parseFloat(b.height)||0;var d=J(a);let e=d?a.offsetWidth:c;a=d?a.offsetHeight:b;if(d=Aa(c)!==e||Aa(b)!==a)c=e,b=a;return{width:c,height:b,$:d}}function La(a){return M(a)?a:a.contextElement}function ka(a){var b=La(a);if(!J(b))return{x:1,y:1};a=b.getBoundingClientRect();let {width:c,height:d,$:e}=eb(b);\nb=(e?Aa(a.width):a.width)/c;a=(e?Aa(a.height):a.height)/d;b&&Number.isFinite(b)||(b=1);a&&Number.isFinite(a)||(a=1);return{x:b,y:a}}function fb(a){a=E(a);return Ka()&&a.visualViewport?{x:a.visualViewport.offsetLeft,y:a.visualViewport.offsetTop}:Mb}function Z(a,b,c,d){void 0===b&&(b=!1);void 0===c&&(c=!1);var e=a.getBoundingClientRect(),f=La(a),g={x:1,y:1};b&&(d?M(d)&&(g=ka(d)):g=ka(a));a=c;void 0===a&&(a=!1);a=!d||a&&d!==E(f)?!1:a;b=a?fb(f):{x:0,y:0};a=(e.left+b.x)/g.x;b=(e.top+b.y)/g.y;c=e.width/\ng.x;e=e.height/g.y;if(f){f=E(f);g=d&&M(d)?E(d):d;let l=f.frameElement;for(;l&&d&&g!==f;){let k=ka(l);var h=l.getBoundingClientRect();let m=G(l),q=h.left+(l.clientLeft+parseFloat(m.paddingLeft))*k.x;h=h.top+(l.clientTop+parseFloat(m.paddingTop))*k.y;a*=k.x;b*=k.y;c*=k.x;e*=k.y;a+=q;b+=h;l=E(l).frameElement}}return wa({width:c,height:e,x:a,y:b})}function gb(a){return Z(L(a)).left+ya(a).scrollLeft}function hb(a,b,c){if(\"viewport\"===b){b=E(a);var d=L(a);b=b.visualViewport;a=d.clientWidth;d=d.clientHeight;\nvar e=0,f=0;if(b){a=b.width;d=b.height;let g=Ka();if(!g||g&&\"fixed\"===c)e=b.offsetLeft,f=b.offsetTop}c={width:a,height:d,x:e,y:f}}else\"document\"===b?(f=L(a),c=L(f),e=ya(f),b=f.ownerDocument.body,a=N(c.scrollWidth,c.clientWidth,b.scrollWidth,b.clientWidth),d=N(c.scrollHeight,c.clientHeight,b.scrollHeight,b.clientHeight),f=-e.scrollLeft+gb(f),e=-e.scrollTop,\"rtl\"===G(b).direction&&(f+=N(c.clientWidth,b.clientWidth)-a),c={width:a,height:d,x:f,y:e}):M(b)?(a=Z(b,!0,\"fixed\"===c),c=a.top+b.clientTop,a=a.left+\nb.clientLeft,d=J(b)?ka(b):{x:1,y:1},c={width:b.clientWidth*d.x,height:b.clientHeight*d.y,x:a*d.x,y:c*d.y}):(c=fb(a),c=D({},b,{x:b.x-c.x,y:b.y-c.y}));return wa(c)}function ib(a,b){a=ja(a);return a===b||!M(a)||xa(a)?!1:\"fixed\"===G(a).position||ib(a,b)}function Nb(a,b){var c=b.get(a);if(c)return c;c=za(a).filter(g=>M(g)&&\"body\"!==T(g));let d=null,e=\"fixed\"===G(a).position,f=e?ja(a):a;for(;M(f)&&!xa(f);){let g=G(f),h=Ja(f);h||\"fixed\"!==g.position||(d=null);(e?!h&&!d:!h&&\"static\"===g.position&&d&&[\"absolute\",\n\"fixed\"].includes(d.position)||ua(f)&&!h&&ib(a,f))?c=c.filter(l=>l!==f):d=g;f=ja(f)}b.set(a,c);return c}function jb(a,b){return J(a)&&\"fixed\"!==G(a).position?b?b(a):a.offsetParent:null}function kb(a,b){let c=E(a);if(!J(a))return c;let d=jb(a,b);for(;d&&[\"table\",\"td\",\"th\"].includes(T(d))&&\"static\"===G(d).position;)d=jb(d,b);if(d&&(\"html\"===T(d)||\"body\"===T(d)&&\"static\"===G(d).position&&!Ja(d)))return c;if(!(b=d))a:{for(a=ja(a);J(a)&&!xa(a);)if(Ja(a)){b=a;break a}else a=ja(a);b=null}return b||c}function Ob(a,\nb){function c(){clearTimeout(f);e&&e.disconnect();e=null}function d(h,l){function k(x){x=x[0].intersectionRatio;if(x!==l){if(!t)return d();x?d(!1,x):f=setTimeout(()=>{d(!1,1E-7)},100)}t=!1}void 0===h&&(h=!1);void 0===l&&(l=1);c();let {left:m,top:q,width:p,height:u}=a.getBoundingClientRect();h||b();if(p&&u){h=Ba(q);var r=Ba(g.clientWidth-(m+p)),n=Ba(g.clientHeight-(q+u)),v=Ba(m);h={rootMargin:-h+\"px \"+-r+\"px \"+-n+\"px \"+-v+\"px\",threshold:N(0,U(1,l))||1};var t=!0;try{e=new IntersectionObserver(k,D({},\nh,{root:g.ownerDocument}))}catch(x){e=new IntersectionObserver(k,h)}e.observe(a)}}let e=null,f,g=L(a);d(!0);return c}function Pb(a,b,c,d){function e(){let t=Z(a);!v||t.x===v.x&&t.y===v.y&&t.width===v.width&&t.height===v.height||c();v=t;n=requestAnimationFrame(e)}void 0===d&&(d={});let {ancestorScroll:f=!0,ancestorResize:g=!0,elementResize:h=\"function\"===typeof ResizeObserver,layoutShift:l=\"function\"===typeof IntersectionObserver,animationFrame:k=!1}=d,m=La(a),q=f||g?[...(m?za(m):[]),...za(b)]:[];\nq.forEach(t=>{f&&t.addEventListener(\"scroll\",c,{passive:!0});g&&t.addEventListener(\"resize\",c)});let p=m&&l?Ob(m,c):null,u=-1,r=null;h&&(r=new ResizeObserver(t=>{[t]=t;t&&t.target===m&&r&&(r.unobserve(b),cancelAnimationFrame(u),u=requestAnimationFrame(()=>{r&&r.observe(b)}));c()}),m&&!k&&r.observe(m),r.observe(b));let n,v=k?Z(a):null;k&&e();c();return()=>{q.forEach(t=>{f&&t.removeEventListener(\"scroll\",c);g&&t.removeEventListener(\"resize\",c)});p&&p();r&&r.disconnect();r=null;k&&cancelAnimationFrame(n)}}\nfunction Qb(a){a.cleanup&&a.cleanup();let b=a._getResolvedAttachToOptions(),c=b.element,d=Rb(b,a),e=void 0===b||null===b?!0:!b.element||!b.on;e&&(c=document.body,a.shepherdElementComponent.getElement().classList.add(\"shepherd-centered\"));a.cleanup=Pb(c,a.el,()=>{a.el?Sb(c,a,d,e):a.cleanup()});a.target=b.element;return d}function Sb(a,b,c,d){return Tb(a,b.el,c).then(Ub(b,d)).then(e=>new Promise(f=>{setTimeout(()=>f(e),300)})).then(e=>{e&&e.el&&e.el.focus({preventScroll:!0})})}function Ub(a,b){return({x:c,\ny:d,placement:e,middlewareData:f})=>{if(!a.el)return a;b?Object.assign(a.el.style,{position:\"fixed\",left:\"50%\",top:\"50%\",transform:\"translate(-50%, -50%)\"}):Object.assign(a.el.style,{position:\"absolute\",left:`${c}px`,top:`${d}px`});a.el.dataset.popperPlacement=e;if((c=a.el.querySelector(\".shepherd-arrow\"))&&f.arrow){let {x:g,y:h}=f.arrow;Object.assign(c.style,{left:null!=g?`${g}px`:\"\",top:null!=h?`${h}px`:\"\"})}return a}}function Rb(a,b){let c={strategy:\"absolute\",middleware:[]};var d=b.options.arrow&&\nb.el?b.el.querySelector(\".shepherd-arrow\"):!1;void 0!==a&&null!==a&&a.element&&a.on&&(c.middleware.push(Vb(),Wb({limiter:Xb(),crossAxis:!0})),d&&c.middleware.push(Yb({element:d})),c.placement=a.on);return Ma(b.options.floatingUIOptions||{},c)}function F(){}function Zb(a,b){for(let c in b)a[c]=b[c];return a}function la(a){return a()}function Na(a){return\"function\"===typeof a}function O(a,b){return a!=a?b==b:a!==b||a&&\"object\"===typeof a||\"function\"===typeof a}function H(a){a.parentNode&&a.parentNode.removeChild(a)}\nfunction lb(a){return document.createElementNS(\"http://www.w3.org/2000/svg\",a)}function Ca(a,b,c,d){a.addEventListener(b,c,d);return()=>a.removeEventListener(b,c,d)}function z(a,b,c){null==c?a.removeAttribute(b):a.getAttribute(b)!==c&&a.setAttribute(b,c)}function mb(a,b){let c=Object.getOwnPropertyDescriptors(a.__proto__);for(let d in b)null==b[d]?a.removeAttribute(d):\"style\"===d?a.style.cssText=b[d]:\"__value\"===d?a.value=a[d]=b[d]:c[d]&&c[d].set&&-1===$b.indexOf(d)?a[d]=b[d]:z(a,d,b[d])}function ma(a,\nb,c){a.classList[c?\"add\":\"remove\"](b)}function Da(){if(!P)throw Error(\"Function called outside component initialization\");return P}function Oa(a){na.push(a)}function nb(){if(0===oa){var a=P;do{try{for(;oa<pa.length;){let c=pa[oa];oa++;P=c;var b=c.$$;if(null!==b.fragment){b.update();b.before_update.forEach(la);let d=b.dirty;b.dirty=[-1];b.fragment&&b.fragment.p(b.ctx,d);b.after_update.forEach(Oa)}}}catch(c){throw oa=pa.length=0,c;}P=null;for(oa=pa.length=0;qa.length;)qa.pop()();for(let c=0;c<na.length;c+=\n1){let d=na[c];Pa.has(d)||(Pa.add(d),d())}na.length=0}while(pa.length);for(;ob.length;)ob.pop()();Qa=!1;Pa.clear();P=a}}function ac(a){let b=[],c=[];na.forEach(d=>-1===a.indexOf(d)?b.push(d):c.push(d));c.forEach(d=>d());na=b}function aa(){ba={r:0,c:[],p:ba}}function ca(){ba.r||ba.c.forEach(la);ba=ba.p}function y(a,b){a&&a.i&&(Ea.delete(a),a.i(b))}function B(a,b,c,d){a&&a.o?Ea.has(a)||(Ea.add(a),ba.c.push(()=>{Ea.delete(a);d&&(c&&a.d(1),d())}),a.o(b)):d&&d()}function da(a){a&&a.c()}function V(a,b,\nc,d){let {fragment:e,after_update:f}=a.$$;e&&e.m(b,c);d||Oa(()=>{let g=a.$$.on_mount.map(la).filter(Na);a.$$.on_destroy?a.$$.on_destroy.push(...g):g.forEach(la);a.$$.on_mount=[]});f.forEach(Oa)}function W(a,b){a=a.$$;null!==a.fragment&&(ac(a.after_update),a.on_destroy.forEach(la),a.fragment&&a.fragment.d(b),a.on_destroy=a.fragment=null,a.ctx=[])}function Q(a,b,c,d,e,f,g,h=[-1]){let l=P;P=a;let k=a.$$={fragment:null,ctx:[],props:f,update:F,not_equal:e,bound:Object.create(null),on_mount:[],on_destroy:[],\non_disconnect:[],before_update:[],after_update:[],context:new Map(b.context||(l?l.$$.context:[])),callbacks:Object.create(null),dirty:h,skip_bound:!1,root:b.target||l.$$.root};g&&g(k.root);let m=!1;k.ctx=c?c(a,b.props||{},(q,p,...u)=>{u=u.length?u[0]:p;if(k.ctx&&e(k.ctx[q],k.ctx[q]=u)){if(!k.skip_bound&&k.bound[q])k.bound[q](u);m&&(-1===a.$$.dirty[0]&&(pa.push(a),Qa||(Qa=!0,bc.then(nb)),a.$$.dirty.fill(0)),a.$$.dirty[q/31|0]|=1<<q%31)}return p}):[];k.update();m=!0;k.before_update.forEach(la);k.fragment=\nd?d(k.ctx):!1;b.target&&(b.hydrate?(c=Array.from(b.target.childNodes),k.fragment&&k.fragment.l(c),c.forEach(H)):k.fragment&&k.fragment.c(),b.intro&&y(a.$$.fragment),V(a,b.target,b.anchor,b.customElement),nb());P=l}function cc(a){let b,c,d,e,f;return{c(){b=document.createElement(\"button\");z(b,\"aria-label\",c=a[3]?a[3]:null);z(b,\"class\",d=`${a[1]||\"\"} shepherd-button ${a[4]?\"shepherd-button-secondary\":\"\"}`);b.disabled=a[2];z(b,\"tabindex\",\"0\")},m(g,h){g.insertBefore(b,h||null);b.innerHTML=a[5];e||(f=\nCa(b,\"click\",function(){Na(a[0])&&a[0].apply(this,arguments)}),e=!0)},p(g,[h]){a=g;h&32&&(b.innerHTML=a[5]);h&8&&c!==(c=a[3]?a[3]:null)&&z(b,\"aria-label\",c);h&18&&d!==(d=`${a[1]||\"\"} shepherd-button ${a[4]?\"shepherd-button-secondary\":\"\"}`)&&z(b,\"class\",d);h&4&&(b.disabled=a[2])},i:F,o:F,d(g){g&&H(b);e=!1;f()}}}function dc(a,b,c){function d(p){return X(p)?p.call(f):p}let {config:e,step:f}=b,g,h,l,k,m,q;a.$$set=p=>{\"config\"in p&&c(6,e=p.config);\"step\"in p&&c(7,f=p.step)};a.$$.update=()=>{a.$$.dirty&\n192&&(c(0,g=e.action?e.action.bind(f.tour):null),c(1,h=e.classes),c(2,l=e.disabled?d(e.disabled):!1),c(3,k=e.label?d(e.label):null),c(4,m=e.secondary),c(5,q=e.text?d(e.text):null))};return[g,h,l,k,m,q,e,f]}function pb(a,b,c){a=a.slice();a[2]=b[c];return a}function qb(a){let b,c,d=a[1],e=[];for(let g=0;g<d.length;g+=1)e[g]=rb(pb(a,d,g));let f=g=>B(e[g],1,1,()=>{e[g]=null});return{c(){for(let g=0;g<e.length;g+=1)e[g].c();b=document.createTextNode(\"\")},m(g,h){for(let l=0;l<e.length;l+=1)e[l]&&e[l].m(g,\nh);g.insertBefore(b,h||null);c=!0},p(g,h){if(h&3){d=g[1];let l;for(l=0;l<d.length;l+=1){let k=pb(g,d,l);e[l]?(e[l].p(k,h),y(e[l],1)):(e[l]=rb(k),e[l].c(),y(e[l],1),e[l].m(b.parentNode,b))}aa();for(l=d.length;l<e.length;l+=1)f(l);ca()}},i(g){if(!c){for(g=0;g<d.length;g+=1)y(e[g]);c=!0}},o(g){e=e.filter(Boolean);for(g=0;g<e.length;g+=1)B(e[g]);c=!1},d(g){var h=e;for(let l=0;l<h.length;l+=1)h[l]&&h[l].d(g);g&&H(b)}}}function rb(a){let b,c;b=new ec({props:{config:a[2],step:a[0]}});return{c(){da(b.$$.fragment)},\nm(d,e){V(b,d,e);c=!0},p(d,e){let f={};e&2&&(f.config=d[2]);e&1&&(f.step=d[0]);b.$set(f)},i(d){c||(y(b.$$.fragment,d),c=!0)},o(d){B(b.$$.fragment,d);c=!1},d(d){W(b,d)}}}function fc(a){let b,c,d=a[1]&&qb(a);return{c(){b=document.createElement(\"footer\");d&&d.c();z(b,\"class\",\"shepherd-footer\")},m(e,f){e.insertBefore(b,f||null);d&&d.m(b,null);c=!0},p(e,[f]){e[1]?d?(d.p(e,f),f&2&&y(d,1)):(d=qb(e),d.c(),y(d,1),d.m(b,null)):d&&(aa(),B(d,1,1,()=>{d=null}),ca())},i(e){c||(y(d),c=!0)},o(e){B(d);c=!1},d(e){e&&\nH(b);d&&d.d()}}}function gc(a,b,c){let d,{step:e}=b;a.$$set=f=>{\"step\"in f&&c(0,e=f.step)};a.$$.update=()=>{a.$$.dirty&1&&c(1,d=e.options.buttons)};return[e,d]}function hc(a){let b,c,d,e,f;return{c(){b=document.createElement(\"button\");c=document.createElement(\"span\");c.textContent=\"\\u00d7\";z(c,\"aria-hidden\",\"true\");z(b,\"aria-label\",d=a[0].label?a[0].label:\"Close Tour\");z(b,\"class\",\"shepherd-cancel-icon\");z(b,\"type\",\"button\")},m(g,h){g.insertBefore(b,h||null);b.appendChild(c);e||(f=Ca(b,\"click\",a[1]),\ne=!0)},p(g,[h]){h&1&&d!==(d=g[0].label?g[0].label:\"Close Tour\")&&z(b,\"aria-label\",d)},i:F,o:F,d(g){g&&H(b);e=!1;f()}}}function ic(a,b,c){let {cancelIcon:d,step:e}=b;a.$$set=f=>{\"cancelIcon\"in f&&c(0,d=f.cancelIcon);\"step\"in f&&c(2,e=f.step)};return[d,f=>{f.preventDefault();e.cancel()},e]}function jc(a){let b;return{c(){b=document.createElement(\"h3\");z(b,\"id\",a[1]);z(b,\"class\",\"shepherd-title\")},m(c,d){c.insertBefore(b,d||null);a[3](b)},p(c,[d]){d&2&&z(b,\"id\",c[1])},i:F,o:F,d(c){c&&H(b);a[3](null)}}}\nfunction kc(a,b,c){let {labelId:d,element:e,title:f}=b;Da().$$.after_update.push(()=>{X(f)&&c(2,f=f());c(0,e.innerHTML=f,e)});a.$$set=g=>{\"labelId\"in g&&c(1,d=g.labelId);\"element\"in g&&c(0,e=g.element);\"title\"in g&&c(2,f=g.title)};return[e,d,f,function(g){qa[g?\"unshift\":\"push\"](()=>{e=g;c(0,e)})}]}function sb(a){let b,c;b=new lc({props:{labelId:a[0],title:a[2]}});return{c(){da(b.$$.fragment)},m(d,e){V(b,d,e);c=!0},p(d,e){let f={};e&1&&(f.labelId=d[0]);e&4&&(f.title=d[2]);b.$set(f)},i(d){c||(y(b.$$.fragment,\nd),c=!0)},o(d){B(b.$$.fragment,d);c=!1},d(d){W(b,d)}}}function tb(a){let b,c;b=new mc({props:{cancelIcon:a[3],step:a[1]}});return{c(){da(b.$$.fragment)},m(d,e){V(b,d,e);c=!0},p(d,e){let f={};e&8&&(f.cancelIcon=d[3]);e&2&&(f.step=d[1]);b.$set(f)},i(d){c||(y(b.$$.fragment,d),c=!0)},o(d){B(b.$$.fragment,d);c=!1},d(d){W(b,d)}}}function nc(a){let b,c,d,e=a[2]&&sb(a),f=a[3]&&a[3].enabled&&tb(a);return{c(){b=document.createElement(\"header\");e&&e.c();c=document.createTextNode(\" \");f&&f.c();z(b,\"class\",\"shepherd-header\")},\nm(g,h){g.insertBefore(b,h||null);e&&e.m(b,null);b.appendChild(c);f&&f.m(b,null);d=!0},p(g,[h]){g[2]?e?(e.p(g,h),h&4&&y(e,1)):(e=sb(g),e.c(),y(e,1),e.m(b,c)):e&&(aa(),B(e,1,1,()=>{e=null}),ca());g[3]&&g[3].enabled?f?(f.p(g,h),h&8&&y(f,1)):(f=tb(g),f.c(),y(f,1),f.m(b,null)):f&&(aa(),B(f,1,1,()=>{f=null}),ca())},i(g){d||(y(e),y(f),d=!0)},o(g){B(e);B(f);d=!1},d(g){g&&H(b);e&&e.d();f&&f.d()}}}function oc(a,b,c){let {labelId:d,step:e}=b,f,g;a.$$set=h=>{\"labelId\"in h&&c(0,d=h.labelId);\"step\"in h&&c(1,e=\nh.step)};a.$$.update=()=>{a.$$.dirty&2&&(c(2,f=e.options.title),c(3,g=e.options.cancelIcon))};return[d,e,f,g]}function pc(a){let b;return{c(){b=document.createElement(\"div\");z(b,\"class\",\"shepherd-text\");z(b,\"id\",a[1])},m(c,d){c.insertBefore(b,d||null);a[3](b)},p(c,[d]){d&2&&z(b,\"id\",c[1])},i:F,o:F,d(c){c&&H(b);a[3](null)}}}function qc(a,b,c){let {descriptionId:d,element:e,step:f}=b;Da().$$.after_update.push(()=>{let {text:g}=f.options;X(g)&&(g=g.call(f));g instanceof HTMLElement?e.appendChild(g):\nc(0,e.innerHTML=g,e)});a.$$set=g=>{\"descriptionId\"in g&&c(1,d=g.descriptionId);\"element\"in g&&c(0,e=g.element);\"step\"in g&&c(2,f=g.step)};return[e,d,f,function(g){qa[g?\"unshift\":\"push\"](()=>{e=g;c(0,e)})}]}function ub(a){let b,c;b=new rc({props:{labelId:a[1],step:a[2]}});return{c(){da(b.$$.fragment)},m(d,e){V(b,d,e);c=!0},p(d,e){let f={};e&2&&(f.labelId=d[1]);e&4&&(f.step=d[2]);b.$set(f)},i(d){c||(y(b.$$.fragment,d),c=!0)},o(d){B(b.$$.fragment,d);c=!1},d(d){W(b,d)}}}function vb(a){let b,c;b=new sc({props:{descriptionId:a[0],\nstep:a[2]}});return{c(){da(b.$$.fragment)},m(d,e){V(b,d,e);c=!0},p(d,e){let f={};e&1&&(f.descriptionId=d[0]);e&4&&(f.step=d[2]);b.$set(f)},i(d){c||(y(b.$$.fragment,d),c=!0)},o(d){B(b.$$.fragment,d);c=!1},d(d){W(b,d)}}}function wb(a){let b,c;b=new tc({props:{step:a[2]}});return{c(){da(b.$$.fragment)},m(d,e){V(b,d,e);c=!0},p(d,e){let f={};e&4&&(f.step=d[2]);b.$set(f)},i(d){c||(y(b.$$.fragment,d),c=!0)},o(d){B(b.$$.fragment,d);c=!1},d(d){W(b,d)}}}function uc(a){let b,c=void 0!==a[2].options.title||a[2].options.cancelIcon&&\na[2].options.cancelIcon.enabled,d,e=void 0!==a[2].options.text,f,g=Array.isArray(a[2].options.buttons)&&a[2].options.buttons.length,h,l=c&&ub(a),k=e&&vb(a),m=g&&wb(a);return{c(){b=document.createElement(\"div\");l&&l.c();d=document.createTextNode(\" \");k&&k.c();f=document.createTextNode(\" \");m&&m.c();z(b,\"class\",\"shepherd-content\")},m(q,p){q.insertBefore(b,p||null);l&&l.m(b,null);b.appendChild(d);k&&k.m(b,null);b.appendChild(f);m&&m.m(b,null);h=!0},p(q,[p]){p&4&&(c=void 0!==q[2].options.title||q[2].options.cancelIcon&&\nq[2].options.cancelIcon.enabled);c?l?(l.p(q,p),p&4&&y(l,1)):(l=ub(q),l.c(),y(l,1),l.m(b,d)):l&&(aa(),B(l,1,1,()=>{l=null}),ca());p&4&&(e=void 0!==q[2].options.text);e?k?(k.p(q,p),p&4&&y(k,1)):(k=vb(q),k.c(),y(k,1),k.m(b,f)):k&&(aa(),B(k,1,1,()=>{k=null}),ca());p&4&&(g=Array.isArray(q[2].options.buttons)&&q[2].options.buttons.length);g?m?(m.p(q,p),p&4&&y(m,1)):(m=wb(q),m.c(),y(m,1),m.m(b,null)):m&&(aa(),B(m,1,1,()=>{m=null}),ca())},i(q){h||(y(l),y(k),y(m),h=!0)},o(q){B(l);B(k);B(m);h=!1},d(q){q&&H(b);\nl&&l.d();k&&k.d();m&&m.d()}}}function vc(a,b,c){let {descriptionId:d,labelId:e,step:f}=b;a.$$set=g=>{\"descriptionId\"in g&&c(0,d=g.descriptionId);\"labelId\"in g&&c(1,e=g.labelId);\"step\"in g&&c(2,f=g.step)};return[d,e,f]}function xb(a){let b;return{c(){b=document.createElement(\"div\");z(b,\"class\",\"shepherd-arrow\");z(b,\"data-popper-arrow\",\"\")},m(c,d){c.insertBefore(b,d||null)},d(c){c&&H(b)}}}function wc(a){let b,c,d,e,f,g,h,l,k=a[4].options.arrow&&a[4].options.attachTo&&a[4].options.attachTo.element&&\na[4].options.attachTo.on&&xb();d=new xc({props:{descriptionId:a[2],labelId:a[3],step:a[4]}});let m=[{\"aria-describedby\":e=void 0!==a[4].options.text?a[2]:null},{\"aria-labelledby\":f=a[4].options.title?a[3]:null},a[1],{role:\"dialog\"},{tabindex:\"0\"}],q={};for(let p=0;p<m.length;p+=1)q=Zb(q,m[p]);return{c(){b=document.createElement(\"div\");k&&k.c();c=document.createTextNode(\" \");da(d.$$.fragment);mb(b,q);ma(b,\"shepherd-has-cancel-icon\",a[5]);ma(b,\"shepherd-has-title\",a[6]);ma(b,\"shepherd-element\",!0)},\nm(p,u){p.insertBefore(b,u||null);k&&k.m(b,null);b.appendChild(c);V(d,b,null);a[13](b);g=!0;h||(l=Ca(b,\"keydown\",a[7]),h=!0)},p(p,[u]){p[4].options.arrow&&p[4].options.attachTo&&p[4].options.attachTo.element&&p[4].options.attachTo.on?k||(k=xb(),k.c(),k.m(b,c)):k&&(k.d(1),k=null);var r={};u&4&&(r.descriptionId=p[2]);u&8&&(r.labelId=p[3]);u&16&&(r.step=p[4]);d.$set(r);r=b;u=[(!g||u&20&&e!==(e=void 0!==p[4].options.text?p[2]:null))&&{\"aria-describedby\":e},(!g||u&24&&f!==(f=p[4].options.title?p[3]:null))&&\n{\"aria-labelledby\":f},u&2&&p[1],{role:\"dialog\"},{tabindex:\"0\"}];let n={},v={},t={$$scope:1},x=m.length;for(;x--;){let A=m[x],w=u[x];if(w){for(let C in A)C in w||(v[C]=1);for(let C in w)t[C]||(n[C]=w[C],t[C]=1);m[x]=w}else for(let C in A)t[C]=1}for(let A in v)A in n||(n[A]=void 0);mb(r,q=n);ma(b,\"shepherd-has-cancel-icon\",p[5]);ma(b,\"shepherd-has-title\",p[6]);ma(b,\"shepherd-element\",!0)},i(p){g||(y(d.$$.fragment,p),g=!0)},o(p){B(d.$$.fragment,p);g=!1},d(p){p&&H(b);k&&k.d();W(d);a[13](null);h=!1;l()}}}\nfunction yb(a){return a.split(\" \").filter(b=>!!b.length)}function yc(a,b,c){let {classPrefix:d,element:e,descriptionId:f,firstFocusableElement:g,focusableElements:h,labelId:l,lastFocusableElement:k,step:m,dataStepId:q}=b,p,u,r;Da().$$.on_mount.push(()=>{c(1,q={[`data-${d}shepherd-step-id`]:m.id});c(9,h=e.querySelectorAll('a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), [tabindex=\"0\"]'));c(8,g=h[0]);c(10,k=h[h.length-1])});Da().$$.after_update.push(()=>\n{if(r!==m.options.classes){var n=r;sa(n)&&(n=yb(n),n.length&&e.classList.remove(...n));n=r=m.options.classes;sa(n)&&(n=yb(n),n.length&&e.classList.add(...n))}});a.$$set=n=>{\"classPrefix\"in n&&c(11,d=n.classPrefix);\"element\"in n&&c(0,e=n.element);\"descriptionId\"in n&&c(2,f=n.descriptionId);\"firstFocusableElement\"in n&&c(8,g=n.firstFocusableElement);\"focusableElements\"in n&&c(9,h=n.focusableElements);\"labelId\"in n&&c(3,l=n.labelId);\"lastFocusableElement\"in n&&c(10,k=n.lastFocusableElement);\"step\"in\nn&&c(4,m=n.step);\"dataStepId\"in n&&c(1,q=n.dataStepId)};a.$$.update=()=>{a.$$.dirty&16&&(c(5,p=m.options&&m.options.cancelIcon&&m.options.cancelIcon.enabled),c(6,u=m.options&&m.options.title))};return[e,q,f,l,m,p,u,n=>{const {tour:v}=m;switch(n.keyCode){case 9:if(0===h.length){n.preventDefault();break}if(n.shiftKey){if(document.activeElement===g||document.activeElement.classList.contains(\"shepherd-element\"))n.preventDefault(),k.focus()}else document.activeElement===k&&(n.preventDefault(),g.focus());\nbreak;case 27:v.options.exitOnEsc&&(n.stopPropagation(),m.cancel());break;case 37:v.options.keyboardNavigation&&(n.stopPropagation(),v.back());break;case 39:v.options.keyboardNavigation&&(n.stopPropagation(),v.next())}},g,h,k,d,()=>e,function(n){qa[n?\"unshift\":\"push\"](()=>{e=n;c(0,e)})}]}function zc(a){a&&({steps:a}=a,a.forEach(b=>{b.options&&!1===b.options.canClickTarget&&b.options.attachTo&&b.target instanceof HTMLElement&&b.target.classList.remove(\"shepherd-target-click-disabled\")}))}function Ac({width:a,\nheight:b,x:c=0,y:d=0,r:e=0}){let {innerWidth:f,innerHeight:g}=window,{topLeft:h=0,topRight:l=0,bottomRight:k=0,bottomLeft:m=0}=\"number\"===typeof e?{topLeft:e,topRight:e,bottomRight:e,bottomLeft:e}:e;return`M${f},${g}\\\nH0\\\nV0\\\nH${f}\\\nV${g}\\\nZ\\\nM${c+h},${d}\\\na${h},${h},0,0,0-${h},${h}\\\nV${b+d-m}\\\na${m},${m},0,0,0,${m},${m}\\\nH${a+c-k}\\\na${k},${k},0,0,0,${k}-${k}\\\nV${d+l}\\\na${l},${l},0,0,0-${l}-${l}\\\nZ`}function Bc(a){let b,c,d,e,f;return{c(){b=lb(\"svg\");c=lb(\"path\");z(c,\"d\",a[2]);z(b,\"class\",d=`${a[1]?\"shepherd-modal-is-visible\":\"\"} shepherd-modal-overlay-container`)},m(g,h){g.insertBefore(b,h||null);b.appendChild(c);a[11](b);e||(f=Ca(b,\"touchmove\",a[3]),e=!0)},p(g,[h]){h&4&&z(c,\"d\",g[2]);h&2&&d!==(d=`${g[1]?\"shepherd-modal-is-visible\":\"\"} shepherd-modal-overlay-container`)&&z(b,\"class\",d)},i:F,o:F,d(g){g&&H(b);a[11](null);e=!1;f()}}}function zb(a){if(!a)return null;let b=a instanceof HTMLElement&&\nwindow.getComputedStyle(a).overflowY;return\"hidden\"!==b&&\"visible\"!==b&&a.scrollHeight>=a.clientHeight?a:zb(a.parentElement)}function Cc(a,b,c){function d(){c(4,m={width:0,height:0,x:0,y:0,r:0})}function e(){c(1,q=!1);h()}function f(n=0,v=0,t,x){if(x){var A=x.getBoundingClientRect();let C=A.y||A.top;A=A.bottom||C+A.height;if(t){var w=t.getBoundingClientRect();t=w.y||w.top;w=w.bottom||t+w.height;C=Math.max(C,t);A=Math.min(A,w)}let {y:Fa,height:I}={y:C,height:Math.max(A-C,0)},{x:R,width:Ra,left:Dc}=\nx.getBoundingClientRect();c(4,m={width:Ra+2*n,height:I+2*n,x:(R||Dc)-n,y:Fa-n,r:v})}else d()}function g(){c(1,q=!0)}function h(){p&&(cancelAnimationFrame(p),p=void 0);window.removeEventListener(\"touchmove\",r,{passive:!1})}function l(n){let {modalOverlayOpeningPadding:v,modalOverlayOpeningRadius:t}=n.options,x=zb(n.target),A=()=>{p=void 0;f(v,t,x,n.target);p=requestAnimationFrame(A)};A();window.addEventListener(\"touchmove\",r,{passive:!1})}let {element:k,openingProperties:m}=b;Ga();let q=!1,p=void 0,\nu;d();let r=n=>{n.preventDefault()};a.$$set=n=>{\"element\"in n&&c(0,k=n.element);\"openingProperties\"in n&&c(4,m=n.openingProperties)};a.$$.update=()=>{a.$$.dirty&16&&c(2,u=Ac(m))};return[k,q,u,n=>{n.stopPropagation()},m,()=>k,d,e,f,function(n){h();n.tour.options.useModalOverlay?(l(n),g()):e()},g,function(n){qa[n?\"unshift\":\"push\"](()=>{k=n;c(0,k)})}]}var Db=function(a){var b;if(b=!!a&&\"object\"===typeof a)b=Object.prototype.toString.call(a),b=!(\"[object RegExp]\"===b||\"[object Date]\"===b||a.$$typeof===\nEc);return b},Ec=\"function\"===typeof Symbol&&Symbol.for?Symbol.for(\"react.element\"):60103;fa.all=function(a,b){if(!Array.isArray(a))throw Error(\"first argument should be an array\");return a.reduce(function(c,d){return fa(c,d,b)},{})};var Ma=fa;class Sa{on(a,b,c,d=!1){void 0===this.bindings&&(this.bindings={});void 0===this.bindings[a]&&(this.bindings[a]=[]);this.bindings[a].push({handler:b,ctx:c,once:d});return this}once(a,b,c){return this.on(a,b,c,!0)}off(a,b){if(void 0===this.bindings||void 0===\nthis.bindings[a])return this;void 0===b?delete this.bindings[a]:this.bindings[a].forEach((c,d)=>{c.handler===b&&this.bindings[a].splice(d,1)});return this}trigger(a,...b){void 0!==this.bindings&&this.bindings[a]&&this.bindings[a].forEach((c,d)=>{let {ctx:e,handler:f,once:g}=c;f.apply(e||this,b);g&&this.bindings[a].splice(d,1)});return this}}let U=Math.min,N=Math.max,Aa=Math.round,Ba=Math.floor,Lb={left:\"right\",right:\"left\",bottom:\"top\",top:\"bottom\"},Ib={start:\"end\",end:\"start\"},Fc=\"mainAxis crossAxis fallbackPlacements fallbackStrategy fallbackAxisSideDirection flipAlignment\".split(\" \"),\nGc=[\"mainAxis\",\"crossAxis\",\"limiter\"],Hc=async(a,b,c)=>{const {placement:d=\"bottom\",strategy:e=\"absolute\",middleware:f=[],platform:g}=c;c=f.filter(Boolean);const h=await (null==g.isRTL?void 0:g.isRTL(b));let l=await g.getElementRects({reference:a,floating:b,strategy:e}),{x:k,y:m}=$a(l,d,h),q=d,p={},u=0;for(let r=0;r<c.length;r++){const {name:n,fn:v}=c[r],{x:t,y:x,data:A,reset:w}=await v({x:k,y:m,initialPlacement:d,placement:q,strategy:e,middlewareData:p,rects:l,platform:g,elements:{reference:a,floating:b}});\nk=null!=t?t:k;m=null!=x?x:m;p=D({},p,{[n]:D({},p[n],A)});w&&50>=u&&(u++,\"object\"===typeof w&&(w.placement&&(q=w.placement),w.rects&&(l=!0===w.rects?await g.getElementRects({reference:a,floating:b,strategy:e}):w.rects),{x:k,y:m}=$a(l,q,h)),r=-1)}return{x:k,y:m,placement:q,strategy:e,middlewareData:p}},Yb=a=>({name:\"arrow\",options:a,async fn(b){const {x:c,y:d,placement:e,rects:f,platform:g,elements:h}=b,{element:l,padding:k=0}=ha(a,b)||{};if(null==l)return{};var m=Za(k);b={x:c,y:d};const q=ta(ia(e));\nvar p=Ha(q);const u=await g.getDimensions(l);var r=\"y\"===q,n=r?\"top\":\"left\",v=r?\"bottom\":\"right\",t=r?\"clientHeight\":\"clientWidth\",x=f.reference[p]+f.reference[q]-b[q]-f.floating[p];const A=b[q]-f.reference[q],w=await (null==g.getOffsetParent?void 0:g.getOffsetParent(l));(r=w?w[t]:0)&&await (null==g.isElement?void 0:g.isElement(w))||(r=h.floating[t]||f.floating[p]);t=x/2-A/2;x=r/2-u[p]/2-1;n=U(m[n],x);m=U(m[v],x);v=r-u[p]-m;r=r/2-u[p]/2+t;t=N(n,U(r,v));p=null!=e.split(\"-\")[1]&&r!=t&&0>f.reference[p]/\n2-(r<n?n:m)-u[p]/2?r<n?n-r:v-r:0;return{[q]:b[q]-p,data:{[q]:t,centerOffset:r-t+p}}}}),Vb=function(a){void 0===a&&(a={});return{name:\"flip\",options:a,async fn(b){var c;const {placement:d,middlewareData:e,rects:f,initialPlacement:g,platform:h,elements:l}=b;var k=ha(a,b);const {mainAxis:m=!0,crossAxis:q=!0,fallbackPlacements:p,fallbackStrategy:u=\"bestFit\",fallbackAxisSideDirection:r=\"none\",flipAlignment:n=!0}=k;var v=Ya(k,Fc);k=Y(d);var t=Y(g)===g;const x=await (null==h.isRTL?void 0:h.isRTL(l.floating));\nt=p||(t||!n?[va(g)]:Hb(g));p||\"none\"===r||t.push(...Kb(g,n,r,x));t=[g,...t];v=await ab(b,v);const A=[];b=(null==(c=e.flip)?void 0:c.overflows)||[];m&&A.push(v[k]);q&&(c=Gb(d,f,x),A.push(v[c[0]],v[c[1]]));b=[...b,{placement:d,overflows:A}];if(!A.every(I=>0>=I)){var w,C;c=((null==(w=e.flip)?void 0:w.index)||0)+1;if(w=t[c])return{data:{index:c,overflows:b},reset:{placement:w}};w=null==(C=b.filter(I=>0>=I.overflows[0]).sort((I,R)=>I.overflows[1]-R.overflows[1])[0])?void 0:C.placement;if(!w)switch(u){case \"bestFit\":var Fa;\n(C=null==(Fa=b.map(I=>[I.placement,I.overflows.filter(R=>0<R).reduce((R,Ra)=>R+Ra,0)]).sort((I,R)=>I[1]-R[1])[0])?void 0:Fa[0])&&(w=C);break;case \"initialPlacement\":w=g}if(d!==w)return{reset:{placement:w}}}return{}}}},Wb=function(a){void 0===a&&(a={});return{name:\"shift\",options:a,async fn(b){const {x:c,y:d,placement:e}=b;var f=ha(a,b);const {mainAxis:g=!0,crossAxis:h=!1,limiter:l={fn:u=>{let {x:r,y:n}=u;return{x:r,y:n}}}}=f;var k=Ya(f,Gc);f={x:c,y:d};k=await ab(b,k);const m=ia(Y(e)),q=ta(m);let p=\nf[q];f=f[m];g&&(p=N(p+k[\"y\"===q?\"top\":\"left\"],U(p,p-k[\"y\"===q?\"bottom\":\"right\"])));h&&(f=N(f+k[\"y\"===m?\"top\":\"left\"],U(f,f-k[\"y\"===m?\"bottom\":\"right\"])));b=l.fn(D({},b,{[q]:p,[m]:f}));return D({},b,{data:{x:b.x-c,y:b.y-d}})}}},Xb=function(a){void 0===a&&(a={});return{options:a,fn(b){const {x:c,y:d,placement:e,rects:f,middlewareData:g}=b,{offset:h=0,mainAxis:l=!0,crossAxis:k=!0}=ha(a,b);var m={x:c,y:d};const q=ia(e),p=ta(q);let u=m[p];m=m[q];b=ha(h,b);b=\"number\"===typeof b?{mainAxis:b,crossAxis:0}:\nD({mainAxis:0,crossAxis:0},b);if(l){var r=\"y\"===p?\"height\":\"width\",n=f.reference[p]-f.floating[r]+b.mainAxis;r=f.reference[p]+f.reference[r]-b.mainAxis;u<n?u=n:u>r&&(u=r)}if(k){var v,t;r=\"y\"===p?\"width\":\"height\";const x=[\"top\",\"left\"].includes(Y(e));n=f.reference[q]-f.floating[r]+(x?(null==(v=g.offset)?void 0:v[q])||0:0)+(x?0:b.crossAxis);v=f.reference[q]+f.reference[r]+(x?0:(null==(t=g.offset)?void 0:t[q])||0)-(x?b.crossAxis:0);m<n?m=n:m>v&&(m=v)}return{[p]:u,[q]:m}}}},Mb={x:0,y:0},Ic={convertOffsetParentRelativeRectToViewportRelativeRect:function(a){let {rect:b,\noffsetParent:c,strategy:d}=a;var e=J(c);let f=L(c);if(c===f)return b;a={scrollLeft:0,scrollTop:0};let g={x:1,y:1};var h=0,l=0;if(e||!e&&\"fixed\"!==d){if(\"body\"!==T(c)||ua(f))a=ya(c);J(c)&&(e=Z(c),g=ka(c),h=e.x+c.clientLeft,l=e.y+c.clientTop)}return{width:b.width*g.x,height:b.height*g.y,x:b.x*g.x-a.scrollLeft*g.x+h,y:b.y*g.y-a.scrollTop*g.y+l}},getDocumentElement:L,getClippingRect:function(a){let {element:b,boundary:c,rootBoundary:d,strategy:e}=a;a=[...(\"clippingAncestors\"===c?Nb(b,this._c):[].concat(c)),\nd];a=a.reduce((f,g)=>{g=hb(b,g,e);f.top=N(g.top,f.top);f.right=U(g.right,f.right);f.bottom=U(g.bottom,f.bottom);f.left=N(g.left,f.left);return f},hb(b,a[0],e));return{width:a.right-a.left,height:a.bottom-a.top,x:a.left,y:a.top}},getOffsetParent:kb,getElementRects:async function(a){let {reference:b,floating:c,strategy:d}=a;a=this.getDimensions;var e=await (this.getOffsetParent||kb)(c),f=J(e);let g=L(e),h=\"fixed\"===d,l=Z(b,!0,h,e),k={scrollLeft:0,scrollTop:0};var m=0,q=0;if(f||!f&&!h){if(\"body\"!==T(e)||\nua(g))k=ya(e);f?(f=Z(e,!0,h,e),m=f.x+e.clientLeft,q=f.y+e.clientTop):g&&(m=gb(g))}return{reference:{x:l.left+k.scrollLeft-m,y:l.top+k.scrollTop-q,width:l.width,height:l.height},floating:D({x:0,y:0},await a(c))}},getClientRects:function(a){return Array.from(a.getClientRects())},getDimensions:function(a){return eb(a)},getScale:ka,isElement:M,isRTL:function(a){return\"rtl\"===G(a).direction}},Tb=(a,b,c)=>{var d=new Map;c=D({platform:Ic},c);d=D({},c.platform,{_c:d});return Hc(a,b,D({},c,{platform:d}))},\n$b=[\"width\",\"height\"],P,pa=[],qa=[],na=[],ob=[],bc=Promise.resolve(),Qa=!1,Pa=new Set,oa=0,Ea=new Set,ba;class S{$destroy(){W(this,1);this.$destroy=F}$on(a,b){if(!Na(b))return F;let c=this.$$.callbacks[a]||(this.$$.callbacks[a]=[]);c.push(b);return()=>{let d=c.indexOf(b);-1!==d&&c.splice(d,1)}}$set(a){this.$$set&&0!==Object.keys(a).length&&(this.$$.skip_bound=!0,this.$$set(a),this.$$.skip_bound=!1)}}class ec extends S{constructor(a){super();Q(this,a,dc,cc,O,{config:6,step:7})}}class tc extends S{constructor(a){super();\nQ(this,a,gc,fc,O,{step:0})}}class mc extends S{constructor(a){super();Q(this,a,ic,hc,O,{cancelIcon:0,step:2})}}class lc extends S{constructor(a){super();Q(this,a,kc,jc,O,{labelId:1,element:0,title:2})}}class rc extends S{constructor(a){super();Q(this,a,oc,nc,O,{labelId:0,step:1})}}class sc extends S{constructor(a){super();Q(this,a,qc,pc,O,{descriptionId:1,element:0,step:2})}}class xc extends S{constructor(a){super();Q(this,a,vc,uc,O,{descriptionId:0,labelId:1,step:2})}}class Jc extends S{constructor(a){super();\nQ(this,a,yc,wc,O,{classPrefix:11,element:0,descriptionId:2,firstFocusableElement:8,focusableElements:9,labelId:3,lastFocusableElement:10,step:4,dataStepId:1,getElement:12})}get getElement(){return this.$$.ctx[12]}}class Ta extends Sa{constructor(a,b={}){super(a,b);this.tour=a;this.classPrefix=this.tour.options?Xa(this.tour.options.classPrefix):\"\";this.styles=a.styles;this._resolvedAttachTo=null;Wa(this);this._setOptions(b);return this}cancel(){this.tour.cancel();this.trigger(\"cancel\")}complete(){this.tour.complete();\nthis.trigger(\"complete\")}destroy(){this.cleanup&&this.cleanup();this.cleanup=null;this.el instanceof HTMLElement&&(this.el.remove(),this.el=null);this._updateStepTargetOnHide();this.trigger(\"destroy\")}getTour(){return this.tour}hide(){this.tour.modal.hide();this.trigger(\"before-hide\");this.el&&(this.el.hidden=!0);this._updateStepTargetOnHide();this.trigger(\"hide\")}_resolveAttachToOptions(){let a=this.options.attachTo||{},b=Object.assign({},a);X(b.element)&&(b.element=b.element.call(this));if(sa(b.element)){try{b.element=\ndocument.querySelector(b.element)}catch(c){}b.element||console.error(`The element for this Shepherd step was not found ${a.element}`)}return this._resolvedAttachTo=b}_getResolvedAttachToOptions(){return null===this._resolvedAttachTo?this._resolveAttachToOptions():this._resolvedAttachTo}isOpen(){return!(!this.el||this.el.hidden)}show(){return X(this.options.beforeShowPromise)?Promise.resolve(this.options.beforeShowPromise()).then(()=>this._show()):Promise.resolve(this._show())}updateStepOptions(a){Object.assign(this.options,\na);this.shepherdElementComponent&&this.shepherdElementComponent.$set({step:this})}getElement(){return this.el}getTarget(){return this.target}_createTooltipContent(){this.shepherdElementComponent=new Jc({target:this.tour.options.stepsContainer||document.body,props:{classPrefix:this.classPrefix,descriptionId:`${this.id}-description`,labelId:`${this.id}-label`,step:this,styles:this.styles}});return this.shepherdElementComponent.getElement()}_scrollTo(a){let {element:b}=this._getResolvedAttachToOptions();\nX(this.options.scrollToHandler)?this.options.scrollToHandler(b):b instanceof Element&&\"function\"===typeof b.scrollIntoView&&b.scrollIntoView(a)}_getClassOptions(a){var b=this.tour&&this.tour.options&&this.tour.options.defaultStepOptions;b=b&&b.classes?b.classes:\"\";a=[...(a.classes?a.classes:\"\").split(\" \"),...b.split(\" \")];a=new Set(a);return Array.from(a).join(\" \").trim()}_setOptions(a={}){let b=this.tour&&this.tour.options&&this.tour.options.defaultStepOptions;b=Ma({},b||{});this.options=Object.assign({arrow:!0},\nb,a,{floatingUIOptions:Ma(b.floatingUIOptions||{},a.floatingUIOptions||{})});let {when:c}=this.options;this.options.classes=this._getClassOptions(a);this.destroy();this.id=this.options.id||`step-${Ga()}`;c&&Object.keys(c).forEach(d=>{this.on(d,c[d],this)})}_setupElements(){void 0!==this.el&&this.destroy();this.el=this._createTooltipContent();this.options.advanceOn&&Fb(this);Qb(this)}_show(){this.trigger(\"before-show\");this._resolveAttachToOptions();this._setupElements();this.tour.modal||this.tour._setupModal();\nthis.tour.modal.setupForStep(this);this._styleTargetElementForStep(this);this.el.hidden=!1;this.options.scrollTo&&setTimeout(()=>{this._scrollTo(this.options.scrollTo)});this.el.hidden=!1;let a=this.shepherdElementComponent.getElement(),b=this.target||document.body;b.classList.add(`${this.classPrefix}shepherd-enabled`);b.classList.add(`${this.classPrefix}shepherd-target`);a.classList.add(\"shepherd-enabled\");this.trigger(\"show\")}_styleTargetElementForStep(a){let b=a.target;b&&(a.options.highlightClass&&\nb.classList.add(a.options.highlightClass),b.classList.remove(\"shepherd-target-click-disabled\"),!1===a.options.canClickTarget&&b.classList.add(\"shepherd-target-click-disabled\"))}_updateStepTargetOnHide(){let a=this.target||document.body;this.options.highlightClass&&a.classList.remove(this.options.highlightClass);a.classList.remove(\"shepherd-target-click-disabled\",`${this.classPrefix}shepherd-enabled`,`${this.classPrefix}shepherd-target`)}}class Kc extends S{constructor(a){super();Q(this,a,Cc,Bc,O,\n{element:0,openingProperties:4,getElement:5,closeModalOpening:6,hide:7,positionModal:8,setupForStep:9,show:10})}get getElement(){return this.$$.ctx[5]}get closeModalOpening(){return this.$$.ctx[6]}get hide(){return this.$$.ctx[7]}get positionModal(){return this.$$.ctx[8]}get setupForStep(){return this.$$.ctx[9]}get show(){return this.$$.ctx[10]}}let ea=new Sa;class Lc extends Sa{constructor(a={}){super(a);Wa(this);this.options=Object.assign({},{exitOnEsc:!0,keyboardNavigation:!0},a);this.classPrefix=\nXa(this.options.classPrefix);this.steps=[];this.addSteps(this.options.steps);\"active cancel complete inactive show start\".split(\" \").map(b=>{(c=>{this.on(c,d=>{d=d||{};d.tour=this;ea.trigger(c,d)})})(b)});this._setTourID();return this}addStep(a,b){a instanceof Ta?a.tour=this:a=new Ta(this,a);void 0!==b?this.steps.splice(b,0,a):this.steps.push(a);return a}addSteps(a){Array.isArray(a)&&a.forEach(b=>{this.addStep(b)});return this}back(){let a=this.steps.indexOf(this.currentStep);this.show(a-1,!1)}async cancel(){if(this.options.confirmCancel){let a=\nthis.options.confirmCancelMessage||\"Are you sure you want to stop the tour?\";(\"function\"===typeof this.options.confirmCancel?await this.options.confirmCancel():window.confirm(a))&&this._done(\"cancel\")}else this._done(\"cancel\")}complete(){this._done(\"complete\")}getById(a){return this.steps.find(b=>b.id===a)}getCurrentStep(){return this.currentStep}hide(){let a=this.getCurrentStep();if(a)return a.hide()}isActive(){return ea.activeTour===this}next(){let a=this.steps.indexOf(this.currentStep);a===this.steps.length-\n1?this.complete():this.show(a+1,!0)}removeStep(a){let b=this.getCurrentStep();this.steps.some((c,d)=>{if(c.id===a)return c.isOpen()&&c.hide(),c.destroy(),this.steps.splice(d,1),!0});b&&b.id===a&&(this.currentStep=void 0,this.steps.length?this.show(0):this.cancel())}show(a=0,b=!0){if(a=sa(a)?this.getById(a):this.steps[a])this._updateStateBeforeShow(),X(a.options.showOn)&&!a.options.showOn()?this._skipStep(a,b):(this.trigger(\"show\",{step:a,previous:this.currentStep}),this.currentStep=a,a.show())}start(){this.trigger(\"start\");\nthis.focusedElBeforeOpen=document.activeElement;this.currentStep=null;this._setupModal();this._setupActiveTour();this.next()}_done(a){let b=this.steps.indexOf(this.currentStep);Array.isArray(this.steps)&&this.steps.forEach(c=>c.destroy());zc(this);this.trigger(a,{index:b});ea.activeTour=null;this.trigger(\"inactive\",{tour:this});this.modal&&this.modal.hide();\"cancel\"!==a&&\"complete\"!==a||!this.modal||(a=document.querySelector(\".shepherd-modal-overlay-container\"))&&a.remove();this.focusedElBeforeOpen instanceof\nHTMLElement&&this.focusedElBeforeOpen.focus()}_setupActiveTour(){this.trigger(\"active\",{tour:this});ea.activeTour=this}_setupModal(){this.modal=new Kc({target:this.options.modalContainer||document.body,props:{classPrefix:this.classPrefix,styles:this.styles}})}_skipStep(a,b){a=this.steps.indexOf(a);a===this.steps.length-1?this.complete():this.show(b?a+1:a-1,b)}_updateStateBeforeShow(){this.currentStep&&this.currentStep.hide();this.isActive()||this._setupActiveTour()}_setTourID(){this.id=`${this.options.tourName||\n\"tour\"}--${Ga()}`}}class Ab{constructor(){}}\"undefined\"===typeof window?Object.assign(ea,{Tour:Ab,Step:Ab}):Object.assign(ea,{Tour:Lc,Step:Ta});return ea})\n//# sourceMappingURL=shepherd.min.js.map\n","/**\n * Main\n */\n\n'use strict';\n\nwindow.isRtl = window.Helpers.isRtl();\nwindow.isDarkStyle = window.Helpers.isDarkStyle();\nlet menu,\n  animate,\n  isHorizontalLayout = false;\n\nif (document.getElementById('layout-menu')) {\n  isHorizontalLayout = document.getElementById('layout-menu').classList.contains('menu-horizontal');\n}\n\n(function () {\n  setTimeout(function () {\n    window.Helpers.initCustomOptionCheck();\n  }, 1000);\n\n  if (typeof Waves !== 'undefined') {\n    Waves.init();\n    Waves.attach(\n      \".btn[class*='btn-']:not(.position-relative):not([class*='btn-outline-']):not([class*='btn-label-'])\",\n      ['waves-light']\n    );\n    Waves.attach(\"[class*='btn-outline-']:not(.position-relative)\");\n    Waves.attach(\"[class*='btn-label-']:not(.position-relative)\");\n    Waves.attach('.pagination .page-item .page-link');\n    Waves.attach('.dropdown-menu .dropdown-item');\n    Waves.attach('.light-style .list-group .list-group-item-action');\n    Waves.attach('.dark-style .list-group .list-group-item-action', ['waves-light']);\n    Waves.attach('.nav-tabs:not(.nav-tabs-widget) .nav-item .nav-link');\n    Waves.attach('.nav-pills .nav-item .nav-link', ['waves-light']);\n  }\n\n  // Initialize menu\n  //-----------------\n\n  let layoutMenuEl = document.querySelectorAll('#layout-menu');\n  layoutMenuEl.forEach(function (element) {\n    menu = new Menu(element, {\n      orientation: isHorizontalLayout ? 'horizontal' : 'vertical',\n      closeChildren: isHorizontalLayout ? true : false,\n      // ? This option only works with Horizontal menu\n      showDropdownOnHover: localStorage.getItem('templateCustomizer-' + templateName + '--ShowDropdownOnHover') // If value(showDropdownOnHover) is set in local storage\n        ? localStorage.getItem('templateCustomizer-' + templateName + '--ShowDropdownOnHover') === 'true' // Use the local storage value\n        : window.templateCustomizer !== undefined // If value is set in config.js\n          ? window.templateCustomizer.settings.defaultShowDropdownOnHover // Use the config.js value\n          : true // Use this if you are not using the config.js and want to set value directly from here\n    });\n    // Change parameter to true if you want scroll animation\n    window.Helpers.scrollToActive((animate = false));\n    window.Helpers.mainMenu = menu;\n  });\n\n  // Initialize menu togglers and bind click on each\n  let menuToggler = document.querySelectorAll('.layout-menu-toggle');\n  menuToggler.forEach(item => {\n    item.addEventListener('click', event => {\n      event.preventDefault();\n      window.Helpers.toggleCollapsed();\n      // Enable menu state with local storage support if enableMenuLocalStorage = true from config.js\n      if (config.enableMenuLocalStorage && !window.Helpers.isSmallScreen()) {\n        try {\n          localStorage.setItem(\n            'templateCustomizer-' + templateName + '--LayoutCollapsed',\n            String(window.Helpers.isCollapsed())\n          );\n          // Update customizer checkbox state on click of menu toggler\n          let layoutCollapsedCustomizerOptions = document.querySelector('.template-customizer-layouts-options');\n          if (layoutCollapsedCustomizerOptions) {\n            let layoutCollapsedVal = window.Helpers.isCollapsed() ? 'collapsed' : 'expanded';\n            layoutCollapsedCustomizerOptions.querySelector(`input[value=\"${layoutCollapsedVal}\"]`).click();\n          }\n        } catch (e) {}\n      }\n    });\n  });\n\n  // Menu swipe gesture\n\n  // Detect swipe gesture on the target element and call swipe In\n  window.Helpers.swipeIn('.drag-target', function (e) {\n    window.Helpers.setCollapsed(false);\n  });\n\n  // Detect swipe gesture on the target element and call swipe Out\n  window.Helpers.swipeOut('#layout-menu', function (e) {\n    if (window.Helpers.isSmallScreen()) window.Helpers.setCollapsed(true);\n  });\n\n  // Display in main menu when menu scrolls\n  let menuInnerContainer = document.getElementsByClassName('menu-inner'),\n    menuInnerShadow = document.getElementsByClassName('menu-inner-shadow')[0];\n  if (menuInnerContainer.length > 0 && menuInnerShadow) {\n    menuInnerContainer[0].addEventListener('ps-scroll-y', function () {\n      const shouldShow = this.querySelector('.ps__thumb-y').offsetTop;\n      menuInnerShadow.classList.toggle('d-none', !shouldShow);\n    });\n  }\n\n  // Update light/dark image based on current style\n  function switchImage(style) {\n    if (style === 'system') {\n      if (window.matchMedia('(prefers-color-scheme: dark)').matches) {\n        style = 'dark';\n      } else {\n        style = 'light';\n      }\n    }\n    const switchImagesList = [].slice.call(document.querySelectorAll('[data-app-' + style + '-img]'));\n    switchImagesList.map(function (imageEl) {\n      const setImage = imageEl.getAttribute('data-app-' + style + '-img');\n      imageEl.src = assetsPath + 'img/' + setImage; // Using window.assetsPath to get the exact relative path\n    });\n  }\n\n  //Style Switcher (Light/Dark/System Mode)\n  let styleSwitcher = document.querySelector('.dropdown-style-switcher');\n\n  // Active class on style switcher dropdown items\n  const activeStyle = document.documentElement.getAttribute('data-style');\n\n  // Get style from local storage or use 'system' as default\n  let storedStyle =\n    localStorage.getItem('templateCustomizer-' + templateName + '--Style') || //if no template style then use Customizer style\n    (window.templateCustomizer?.settings?.defaultStyle ?? 'light'); //!if there is no Customizer then use default style as light\n\n  // Set style on click of style switcher item if template customizer is enabled\n  if (window.templateCustomizer && styleSwitcher) {\n    let styleSwitcherItems = [].slice.call(styleSwitcher.children[1].querySelectorAll('.dropdown-item'));\n    styleSwitcherItems.forEach(function (item) {\n      item.classList.remove('active');\n      item.addEventListener('click', function () {\n        let currentStyle = this.getAttribute('data-theme');\n        if (currentStyle === 'light') {\n          window.templateCustomizer.setStyle('light');\n        } else if (currentStyle === 'dark') {\n          window.templateCustomizer.setStyle('dark');\n        } else {\n          window.templateCustomizer.setStyle('system');\n        }\n      });\n\n      if (item.getAttribute('data-theme') === activeStyle) {\n        // Add 'active' class to the item if it matches the activeStyle\n        item.classList.add('active');\n      }\n    });\n\n    // Update style switcher icon based on the stored style\n\n    const styleSwitcherIcon = styleSwitcher.querySelector('i');\n\n    if (storedStyle === 'light') {\n      styleSwitcherIcon.classList.add('ti-sun');\n      new bootstrap.Tooltip(styleSwitcherIcon, {\n        title: 'Light Mode',\n        fallbackPlacements: ['bottom']\n      });\n    } else if (storedStyle === 'dark') {\n      styleSwitcherIcon.classList.add('ti-moon-stars');\n      new bootstrap.Tooltip(styleSwitcherIcon, {\n        title: 'Dark Mode',\n        fallbackPlacements: ['bottom']\n      });\n    } else {\n      styleSwitcherIcon.classList.add('ti-device-desktop-analytics');\n      new bootstrap.Tooltip(styleSwitcherIcon, {\n        title: 'System Mode',\n        fallbackPlacements: ['bottom']\n      });\n    }\n  }\n\n  // Run switchImage function based on the stored style\n  switchImage(storedStyle);\n\n  // Internationalization (Language Dropdown)\n  // ---------------------------------------\n\n  if (typeof i18next !== 'undefined' && typeof i18NextHttpBackend !== 'undefined') {\n    i18next\n      .use(i18NextHttpBackend)\n      .init({\n        lng: window.templateCustomizer ? window.templateCustomizer.settings.lang : 'en',\n        debug: false,\n        fallbackLng: 'en',\n        backend: {\n          loadPath: assetsPath + 'json/locales/{{lng}}.json'\n        },\n        returnObjects: true\n      })\n      .then(function (t) {\n        localize();\n      });\n  }\n\n  let languageDropdown = document.getElementsByClassName('dropdown-language');\n\n  if (languageDropdown.length) {\n    let dropdownItems = languageDropdown[0].querySelectorAll('.dropdown-item');\n\n    for (let i = 0; i < dropdownItems.length; i++) {\n      dropdownItems[i].addEventListener('click', function () {\n        let currentLanguage = this.getAttribute('data-language');\n        let textDirection = this.getAttribute('data-text-direction');\n\n        for (let sibling of this.parentNode.children) {\n          var siblingEle = sibling.parentElement.parentNode.firstChild;\n\n          // Loop through each sibling and push to the array\n          while (siblingEle) {\n            if (siblingEle.nodeType === 1 && siblingEle !== siblingEle.parentElement) {\n              siblingEle.querySelector('.dropdown-item').classList.remove('active');\n            }\n            siblingEle = siblingEle.nextSibling;\n          }\n        }\n        this.classList.add('active');\n\n        i18next.changeLanguage(currentLanguage, (err, t) => {\n          window.templateCustomizer ? window.templateCustomizer.setLang(currentLanguage) : '';\n          directionChange(textDirection);\n          if (err) return console.log('something went wrong loading', err);\n          localize();\n        });\n      });\n    }\n    function directionChange(textDirection) {\n      if (textDirection === 'rtl') {\n        if (localStorage.getItem('templateCustomizer-' + templateName + '--Rtl') !== 'true')\n          window.templateCustomizer ? window.templateCustomizer.setRtl(true) : '';\n      } else {\n        if (localStorage.getItem('templateCustomizer-' + templateName + '--Rtl') === 'true')\n          window.templateCustomizer ? window.templateCustomizer.setRtl(false) : '';\n      }\n    }\n  }\n\n  function localize() {\n    let i18nList = document.querySelectorAll('[data-i18n]');\n    // Set the current language in dd\n    let currentLanguageEle = document.querySelector('.dropdown-item[data-language=\"' + i18next.language + '\"]');\n\n    if (currentLanguageEle) {\n      currentLanguageEle.click();\n    }\n\n    i18nList.forEach(function (item) {\n      item.innerHTML = i18next.t(item.dataset.i18n);\n    });\n  }\n\n  // Notification\n  // ------------\n  const notificationMarkAsReadAll = document.querySelector('.dropdown-notifications-all');\n  const notificationMarkAsReadList = document.querySelectorAll('.dropdown-notifications-read');\n\n  // Notification: Mark as all as read\n  if (notificationMarkAsReadAll) {\n    notificationMarkAsReadAll.addEventListener('click', event => {\n      notificationMarkAsReadList.forEach(item => {\n        item.closest('.dropdown-notifications-item').classList.add('marked-as-read');\n      });\n    });\n  }\n  // Notification: Mark as read/unread onclick of dot\n  if (notificationMarkAsReadList) {\n    notificationMarkAsReadList.forEach(item => {\n      item.addEventListener('click', event => {\n        item.closest('.dropdown-notifications-item').classList.toggle('marked-as-read');\n      });\n    });\n  }\n\n  // Notification: Mark as read/unread onclick of dot\n  const notificationArchiveMessageList = document.querySelectorAll('.dropdown-notifications-archive');\n  notificationArchiveMessageList.forEach(item => {\n    item.addEventListener('click', event => {\n      item.closest('.dropdown-notifications-item').remove();\n    });\n  });\n\n  // Init helpers & misc\n  // --------------------\n\n  // Init BS Tooltip\n  const tooltipTriggerList = [].slice.call(document.querySelectorAll('[data-bs-toggle=\"tooltip\"]'));\n  tooltipTriggerList.map(function (tooltipTriggerEl) {\n    return new bootstrap.Tooltip(tooltipTriggerEl);\n  });\n\n  // Accordion active class\n  const accordionActiveFunction = function (e) {\n    if (e.type == 'show.bs.collapse' || e.type == 'show.bs.collapse') {\n      e.target.closest('.accordion-item').classList.add('active');\n    } else {\n      e.target.closest('.accordion-item').classList.remove('active');\n    }\n  };\n\n  const accordionTriggerList = [].slice.call(document.querySelectorAll('.accordion'));\n  const accordionList = accordionTriggerList.map(function (accordionTriggerEl) {\n    accordionTriggerEl.addEventListener('show.bs.collapse', accordionActiveFunction);\n    accordionTriggerEl.addEventListener('hide.bs.collapse', accordionActiveFunction);\n  });\n\n  // If layout is RTL add .dropdown-menu-end class to .dropdown-menu\n  // if (isRtl) {\n  //   Helpers._addClass('dropdown-menu-end', document.querySelectorAll('#layout-navbar .dropdown-menu'));\n  // }\n\n  // Auto update layout based on screen size\n  window.Helpers.setAutoUpdate(true);\n\n  // Toggle Password Visibility\n  window.Helpers.initPasswordToggle();\n\n  // Speech To Text\n  window.Helpers.initSpeechToText();\n\n  // Init PerfectScrollbar in Navbar Dropdown (i.e notification)\n  window.Helpers.initNavbarDropdownScrollbar();\n\n  let horizontalMenuTemplate = document.querySelector(\"[data-template^='horizontal-menu']\");\n  if (horizontalMenuTemplate) {\n    // if screen size is small then set navbar fixed\n    if (window.innerWidth < window.Helpers.LAYOUT_BREAKPOINT) {\n      window.Helpers.setNavbarFixed('fixed');\n    } else {\n      window.Helpers.setNavbarFixed('');\n    }\n  }\n\n  // On window resize listener\n  // -------------------------\n  window.addEventListener(\n    'resize',\n    function (event) {\n      // Hide open search input and set value blank\n      if (window.innerWidth >= window.Helpers.LAYOUT_BREAKPOINT) {\n        if (document.querySelector('.search-input-wrapper')) {\n          document.querySelector('.search-input-wrapper').classList.add('d-none');\n          document.querySelector('.search-input').value = '';\n        }\n      }\n      // Horizontal Layout : Update menu based on window size\n      if (horizontalMenuTemplate) {\n        // if screen size is small then set navbar fixed\n        if (window.innerWidth < window.Helpers.LAYOUT_BREAKPOINT) {\n          window.Helpers.setNavbarFixed('fixed');\n        } else {\n          window.Helpers.setNavbarFixed('');\n        }\n        setTimeout(function () {\n          if (window.innerWidth < window.Helpers.LAYOUT_BREAKPOINT) {\n            if (document.getElementById('layout-menu')) {\n              if (document.getElementById('layout-menu').classList.contains('menu-horizontal')) {\n                menu.switchMenu('vertical');\n              }\n            }\n          } else {\n            if (document.getElementById('layout-menu')) {\n              if (document.getElementById('layout-menu').classList.contains('menu-vertical')) {\n                menu.switchMenu('horizontal');\n              }\n            }\n          }\n        }, 100);\n      }\n    },\n    true\n  );\n\n  // Manage menu expanded/collapsed with templateCustomizer & local storage\n  //------------------------------------------------------------------\n\n  // If current layout is horizontal OR current window screen is small (overlay menu) than return from here\n  if (isHorizontalLayout || window.Helpers.isSmallScreen()) {\n    return;\n  }\n\n  // If current layout is vertical and current window screen is > small\n\n  // Auto update menu collapsed/expanded based on the themeConfig\n  if (typeof TemplateCustomizer !== 'undefined') {\n    if (window.templateCustomizer.settings.defaultMenuCollapsed) {\n      window.Helpers.setCollapsed(true, false);\n    } else {\n      window.Helpers.setCollapsed(false, false);\n    }\n  }\n\n  // Manage menu expanded/collapsed state with local storage support If enableMenuLocalStorage = true in config.js\n  if (typeof config !== 'undefined') {\n    if (config.enableMenuLocalStorage) {\n      try {\n        if (localStorage.getItem('templateCustomizer-' + templateName + '--LayoutCollapsed') !== null)\n          window.Helpers.setCollapsed(\n            localStorage.getItem('templateCustomizer-' + templateName + '--LayoutCollapsed') === 'true',\n            false\n          );\n      } catch (e) {}\n    }\n  }\n})();\n\n// ! Removed following code if you do't wish to use jQuery. Remember that navbar search functionality will stop working on removal.\nif (typeof $ !== 'undefined') {\n  $(function () {\n    // ! TODO: Required to load after DOM is ready, did this now with jQuery ready.\n    window.Helpers.initSidebarToggle();\n    // Toggle Universal Sidebar\n\n    // Navbar Search with autosuggest (typeahead)\n    // ? You can remove the following JS if you don't want to use search functionality.\n    //----------------------------------------------------------------------------------\n\n    var searchToggler = $('.search-toggler'),\n      searchInputWrapper = $('.search-input-wrapper'),\n      searchInput = $('.search-input'),\n      contentBackdrop = $('.content-backdrop');\n\n    // Open search input on click of search icon\n    if (searchToggler.length) {\n      searchToggler.on('click', function () {\n        if (searchInputWrapper.length) {\n          searchInputWrapper.toggleClass('d-none');\n          searchInput.focus();\n        }\n      });\n    }\n    // Open search on 'CTRL+/'\n    $(document).on('keydown', function (event) {\n      let ctrlKey = event.ctrlKey,\n        slashKey = event.which === 191;\n\n      if (ctrlKey && slashKey) {\n        if (searchInputWrapper.length) {\n          searchInputWrapper.toggleClass('d-none');\n          searchInput.focus();\n        }\n      }\n    });\n    // Note: Following code is required to update container class of typeahead dropdown width on focus of search input. setTimeout is required to allow time to initiate Typeahead UI.\n    setTimeout(function () {\n      var twitterTypeahead = $('.twitter-typeahead');\n      searchInput.on('focus', function () {\n        if (searchInputWrapper.hasClass('container-xxl')) {\n          searchInputWrapper.find(twitterTypeahead).addClass('container-xxl');\n          twitterTypeahead.removeClass('container-fluid');\n        } else if (searchInputWrapper.hasClass('container-fluid')) {\n          searchInputWrapper.find(twitterTypeahead).addClass('container-fluid');\n          twitterTypeahead.removeClass('container-xxl');\n        }\n      });\n    }, 10);\n\n    if (searchInput.length) {\n      // Filter config\n      var filterConfig = function (data) {\n        return function findMatches(q, cb) {\n          let matches;\n          matches = [];\n          data.filter(function (i) {\n            if (i.name.toLowerCase().startsWith(q.toLowerCase())) {\n              matches.push(i);\n            } else if (\n              !i.name.toLowerCase().startsWith(q.toLowerCase()) &&\n              i.name.toLowerCase().includes(q.toLowerCase())\n            ) {\n              matches.push(i);\n              matches.sort(function (a, b) {\n                return b.name < a.name ? 1 : -1;\n              });\n            } else {\n              return [];\n            }\n          });\n          cb(matches);\n        };\n      };\n\n      // Search JSON\n      var searchJson = 'search-vertical.json'; // For vertical layout\n      if ($('#layout-menu').hasClass('menu-horizontal')) {\n        var searchJson = 'search-horizontal.json'; // For vertical layout\n      }\n      // Search API AJAX call\n      var searchData = $.ajax({\n        url: assetsPath + 'json/' + searchJson, //? Use your own search api instead\n        dataType: 'json',\n        async: false\n      }).responseJSON;\n      // Init typeahead on searchInput\n      searchInput.each(function () {\n        var $this = $(this);\n        searchInput\n          .typeahead(\n            {\n              hint: false,\n              classNames: {\n                menu: 'tt-menu navbar-search-suggestion',\n                cursor: 'active',\n                suggestion: 'suggestion d-flex justify-content-between px-4 py-2 w-100'\n              }\n            },\n            // ? Add/Update blocks as per need\n            // Pages\n            {\n              name: 'pages',\n              display: 'name',\n              limit: 5,\n              source: filterConfig(searchData.pages),\n              templates: {\n                header: '<h6 class=\"suggestions-header text-primary mb-0 mx-4 mt-3 pb-2\">Pages</h6>',\n                suggestion: function ({ url, icon, name }) {\n                  return (\n                    '<a href=\"' +\n                    url +\n                    '\">' +\n                    '<div>' +\n                    '<i class=\"ti ' +\n                    icon +\n                    ' me-2\"></i>' +\n                    '<span class=\"align-middle\">' +\n                    name +\n                    '</span>' +\n                    '</div>' +\n                    '</a>'\n                  );\n                },\n                notFound:\n                  '<div class=\"not-found px-4 py-2\">' +\n                  '<h6 class=\"suggestions-header text-primary mb-2\">Pages</h6>' +\n                  '<p class=\"py-2 mb-0\"><i class=\"ti ti-alert-circle ti-xs me-2\"></i> No Results Found</p>' +\n                  '</div>'\n              }\n            },\n            // Files\n            {\n              name: 'files',\n              display: 'name',\n              limit: 4,\n              source: filterConfig(searchData.files),\n              templates: {\n                header: '<h6 class=\"suggestions-header text-primary mb-0 mx-4 mt-3 pb-2\">Files</h6>',\n                suggestion: function ({ src, name, subtitle, meta }) {\n                  return (\n                    '<a href=\"javascript:;\">' +\n                    '<div class=\"d-flex w-50\">' +\n                    '<img class=\"me-3\" src=\"' +\n                    assetsPath +\n                    src +\n                    '\" alt=\"' +\n                    name +\n                    '\" height=\"32\">' +\n                    '<div class=\"w-75\">' +\n                    '<h6 class=\"mb-0\">' +\n                    name +\n                    '</h6>' +\n                    '<small class=\"text-muted\">' +\n                    subtitle +\n                    '</small>' +\n                    '</div>' +\n                    '</div>' +\n                    '<small class=\"text-muted\">' +\n                    meta +\n                    '</small>' +\n                    '</a>'\n                  );\n                },\n                notFound:\n                  '<div class=\"not-found px-4 py-2\">' +\n                  '<h6 class=\"suggestions-header text-primary mb-2\">Files</h6>' +\n                  '<p class=\"py-2 mb-0\"><i class=\"ti ti-alert-circle ti-xs me-2\"></i> No Results Found</p>' +\n                  '</div>'\n              }\n            },\n            // Members\n            {\n              name: 'members',\n              display: 'name',\n              limit: 4,\n              source: filterConfig(searchData.members),\n              templates: {\n                header: '<h6 class=\"suggestions-header text-primary mb-0 mx-4 mt-3 pb-2\">Members</h6>',\n                suggestion: function ({ name, src, subtitle }) {\n                  return (\n                    '<a href=\"app-user-view-account.html\">' +\n                    '<div class=\"d-flex align-items-center\">' +\n                    '<img class=\"rounded-circle me-3\" src=\"' +\n                    assetsPath +\n                    src +\n                    '\" alt=\"' +\n                    name +\n                    '\" height=\"32\">' +\n                    '<div class=\"user-info\">' +\n                    '<h6 class=\"mb-0\">' +\n                    name +\n                    '</h6>' +\n                    '<small class=\"text-muted\">' +\n                    subtitle +\n                    '</small>' +\n                    '</div>' +\n                    '</div>' +\n                    '</a>'\n                  );\n                },\n                notFound:\n                  '<div class=\"not-found px-4 py-2\">' +\n                  '<h6 class=\"suggestions-header text-primary mb-2\">Members</h6>' +\n                  '<p class=\"py-2 mb-0\"><i class=\"ti ti-alert-circle ti-xs me-2\"></i> No Results Found</p>' +\n                  '</div>'\n              }\n            }\n          )\n          //On typeahead result render.\n          .bind('typeahead:render', function () {\n            // Show content backdrop,\n            contentBackdrop.addClass('show').removeClass('fade');\n          })\n          // On typeahead select\n          .bind('typeahead:select', function (ev, suggestion) {\n            // Open selected page\n            if (suggestion.url) {\n              window.location = suggestion.url;\n            }\n          })\n          // On typeahead close\n          .bind('typeahead:close', function () {\n            // Clear search\n            searchInput.val('');\n            $this.typeahead('val', '');\n            // Hide search input wrapper\n            searchInputWrapper.addClass('d-none');\n            // Fade content backdrop\n            contentBackdrop.addClass('fade').removeClass('show');\n          });\n\n        // On searchInput keyup, Fade content backdrop if search input is blank\n        searchInput.on('keyup', function () {\n          if (searchInput.val() == '') {\n            contentBackdrop.addClass('fade').removeClass('show');\n          }\n        });\n      });\n\n      // Init PerfectScrollbar in search result\n      var psSearch;\n      $('.navbar-search-suggestion').each(function () {\n        psSearch = new PerfectScrollbar($(this)[0], {\n          wheelPropagation: false,\n          suppressScrollX: true\n        });\n      });\n\n      searchInput.on('keyup', function () {\n        psSearch.update();\n      });\n    }\n  });\n}\n","/**\n * ============================================================================\n * MAIN ENTRY POINT - Vite Build System\n * ============================================================================\n *\n * This is the single entry point for all JavaScript in the application.\n * Vite will bundle this and all its imports into optimized chunks.\n *\n * Architecture:\n * 1. Vendor libraries load first (jQuery, Bootstrap, etc.)\n * 2. Core systems initialize (EventDelegation, Helpers, etc.)\n * 3. Modules register their handlers with EventDelegation\n * 4. No duplicate event listeners - single source of truth\n *\n * ============================================================================\n */\n\n// ============================================================================\n// 0. VENDOR LIBRARIES - Must load first (order matters!)\n// ============================================================================\n\n// Vendor globals shim - exposes all vendor libraries to window:\n// jQuery, Bootstrap, Popper, Waves, PerfectScrollbar, Hammer, Menu\nimport './vendor-globals.js';\n\n// ============================================================================\n// 1. CORE SYSTEMS - Must load after vendors\n// ============================================================================\n\n// Event delegation system - the ONLY global click handler\nimport './event-delegation.js';\n\n// Core utilities\nimport './csrf-fetch.js';\nimport './helpers-minimal.js';\nimport './modal-manager.js';\nimport './config.js';\n\n// ============================================================================\n// 2. LAYOUT & NAVIGATION\n// ============================================================================\n\nimport './sidebar-interactions.js';\nimport './navbar-modern.js';\nimport './simple-theme-switcher.js';\nimport './admin-navigation.js';\nimport './theme-colors.js';\n\n// Socket and real-time features\nimport './socket-manager.js';\nimport './online-status.js';\n\n// ============================================================================\n// 3. UI COMPONENTS\n// ============================================================================\n\nimport './components-modern.js';\nimport './responsive-system.js';\nimport './ui-enhancements.js';\nimport './mobile-gestures.js';\nimport './mobile-keyboard.js';\nimport './mobile-forms.js';\nimport './mobile-haptics.js';\nimport './responsive-tables.js';\nimport './design-system.js';\nimport './swal-contextual.js';\n\n// ============================================================================\n// 4. FEATURE MODULES\n// ============================================================================\n\n// Chat and messaging\nimport './chat-widget.js';\nimport './messenger-widget.js';\n\n// Player features\n// import './player-profile.js';  // TODO: Create this file\n// import './profile-form.js';    // TODO: Create this file\nimport './profile-wizard.js';\nimport './profile-verification.js';\n\n// Match and draft\nimport './draft-system.js';\nimport './draft-history.js';\nimport './pitch-view.js';\n\n// Home page\n// import './home.js';  // TODO: Create this file\n\n// ============================================================================\n// 5. ADMIN MODULES\n// ============================================================================\n\nimport './admin-panel-base.js';\nimport './admin-panel-dashboard.js';\nimport './admin-panel-discord-bot.js';\nimport './admin-panel-performance.js';\n// import './admin-discord-management.js';  // TODO: Create this file\nimport './admin-utilities-init.js';\n\n// Admin submodules\nimport './admin/admin-dashboard.js';\nimport './admin/message-categories.js';\nimport './admin/message-template-detail.js';\nimport './admin/push-campaigns.js';\nimport './admin/scheduled-messages.js';\n\n// Match operations\nimport './match-operations/match-reports.js';\nimport './match-operations/seasons.js';\n\n// ============================================================================\n// 6. INITIALIZATION\n// ============================================================================\n\nimport './app-init-registration.js';\n\n// ============================================================================\n// 7. UTILITY MODULES\n// ============================================================================\n\nimport './utils/visibility.js';\nimport './components/tabs-controller.js';\nimport './init-system.js';\n\n// ============================================================================\n// 8. CUSTOM JS - Core\n// ============================================================================\n\nimport '../custom_js/tour.js';\nimport '../custom_js/report_match.js';\nimport '../custom_js/rsvp.js';\nimport '../custom_js/rsvp-unified.js';\nimport '../custom_js/discord-membership-check.js';\nimport '../custom_js/modal-helpers.js';\nimport '../custom_js/modals.js';\nimport '../custom_js/sms-verification.js';\nimport '../custom_js/mobile-menu-fix.js';\nimport '../custom_js/mobile-tables.js';\n\n// ============================================================================\n// 9. CUSTOM JS - Admin\n// ============================================================================\n\nimport '../custom_js/admin_actions.js';\nimport '../custom_js/admin-discord-management.js';\nimport '../custom_js/admin-manage-subs.js';\nimport '../custom_js/admin-match-detail.js';\nimport '../custom_js/admin-panel-match-list.js';\nimport '../custom_js/cache-stats.js';\nimport '../custom_js/clear-cache.js';\nimport '../custom_js/create-poll.js';\nimport '../custom_js/manage-polls.js';\nimport '../custom_js/manage-roles.js';\nimport '../custom_js/manage-teams.js';\nimport '../custom_js/redis-stats.js';\nimport '../custom_js/user-approval-management.js';\n\n// ============================================================================\n// 10. CUSTOM JS - Features\n// ============================================================================\n\nimport '../custom_js/calendar-subscription.js';\nimport '../custom_js/check-duplicate.js';\nimport '../custom_js/coach-dashboard.js';\nimport '../custom_js/cropper.js';\nimport '../custom_js/design-system-override.js';\nimport '../custom_js/draft-enhanced.js';\nimport '../custom_js/draft-predictions.js';\nimport '../custom_js/ecs-fc-schedule.js';\nimport '../custom_js/ecsfc-schedule.js';\nimport '../custom_js/handle_2fa.js';\nimport '../custom_js/home.js';\nimport '../custom_js/live_reporting.js';\nimport '../custom_js/match-management.js';\nimport '../custom_js/match_stats.js';\nimport '../custom_js/matches-management.js';\nimport '../custom_js/merge-profiles.js';\nimport '../custom_js/onboarding.js';\nimport '../custom_js/player-profile.js';\nimport '../custom_js/players-list.js';\nimport '../custom_js/playoff_bracket.js';\nimport '../custom_js/profile-form-handler.js';\nimport '../custom_js/profile-success.js';\nimport '../custom_js/schedule-management.js';\nimport '../custom_js/scheduled-message-validation.js';\nimport '../custom_js/settings-tabs.js';\nimport '../custom_js/settings.js';\nimport '../custom_js/simple-cropper.js';\nimport '../custom_js/substitute-pool-management.js';\nimport '../custom_js/substitute-request-management.js';\nimport '../custom_js/team-detail.js';\nimport '../custom_js/teams-overview.js';\nimport '../custom_js/verify-2fa.js';\nimport '../custom_js/verify-merge.js';\nimport '../custom_js/view-standings.js';\nimport '../custom_js/waitlist-login-register.js';\nimport '../custom_js/waitlist-register-authenticated.js';\nimport '../custom_js/waitlist-register.js';\n\n// ============================================================================\n// 11. ADDITIONAL JS MODULES\n// ============================================================================\n\nimport './admin-panel-feature-toggles.js';\nimport './admin/announcement-form.js';\nimport './auto_schedule_wizard.js';\nimport './mobile-draft.js';\nimport './mobile-table-enhancer.js';\nimport './message-management.js';\nimport './messages-inbox.js';\nimport './pass-studio.js';\nimport './pass-studio-cropper.js';\nimport './security-dashboard.js';\n\n// ============================================================================\n// 9. VENDOR - Shepherd.js (guided tours)\n// ============================================================================\n\nimport '../assets/vendor/libs/shepherd/shepherd.js';\n\n// ============================================================================\n// 10. MAIN APP INITIALIZATION\n// ============================================================================\n\n// Main.js - initializes Menu, Helpers, and other core functionality\nimport '../assets/js/main.js';\n\n// Log successful initialization\nconsole.log('[Main Entry] All modules loaded successfully');\n"],"names":["require_main_001","exports","module","_a","e","t","window","this","ie","oe","r","Object","getPrototypeOf","ae","slice","g","flat","call","concat","apply","s","push","se","indexOf","n","i","toString","ue","hasOwnProperty","o","a","le","v","nodeType","item","y","C","document","u","type","src","nonce","noModule","m","createElement","text","getAttribute","setAttribute","head","appendChild","parentNode","removeChild","x","l","ce","fn","init","c","length","fe","nodeName","toLowerCase","prototype","jquery","constructor","toArray","get","pushStack","merge","prevObject","each","map","arguments","first","eq","last","even","grep","odd","end","sort","splice","extend","isPlainObject","Array","isArray","expando","Math","random","replace","isReady","error","Error","noop","isEmptyObject","globalEval","textContent","documentElement","nodeValue","makeArray","inArray","isXMLDoc","namespaceURI","ownerDocument","test","guid","support","Symbol","iterator","split","pe","pop","de","he","ge","ve","RegExp","contains","compareDocumentPosition","f","p","charCodeAt","escapeSelector","ye","me","b","w","T","d","k","S","E","W","h","j","A","D","ID","CLASS","TAG","ATTR","PSEUDO","CHILD","bool","needsContext","N","q","L","H","O","P","String","fromCharCode","M","V","R","J","disabled","dir","next","childNodes","I","exec","getElementById","id","getElementsByTagName","getElementsByClassName","U","scope","Y","Q","join","querySelectorAll","removeAttribute","re","cacheLength","shift","F","$","B","_","z","isDisabled","X","matches","webkitMatchesSelector","msMatchesSelector","defaultView","top","addEventListener","getById","getElementsByName","disconnectedMatch","cssHas","querySelector","filter","find","getAttributeNode","value","innerHTML","sortDetached","matchesSelector","attr","attrHandle","uniqueSort","sortStable","expr","createPseudo","match","relative","preFilter","className","firstChild","lastChild","pseudos","setFilters","not","ne","has","lang","target","location","hash","root","focus","activeElement","hasFocus","href","tabIndex","enabled","checked","selected","selectedIndex","empty","nextSibling","parent","header","input","button","lt","gt","nth","radio","checkbox","file","password","image","submit","reset","G","K","Z","ee","te","selector","filters","unique","compile","select","setDocument","tokenize","escape","getText","isXML","selectors","is","parseHTML","ready","children","contents","prev","closest","index","prevAll","add","addBack","parents","parentsUntil","nextAll","nextUntil","prevUntil","siblings","contentDocument","content","reverse","promise","done","fail","then","Callbacks","once","stopOnFalse","memory","remove","disable","lock","locked","fireWith","fire","fired","Deferred","state","always","catch","pipe","progress","notify","resolve","reject","TypeError","notifyWith","resolveWith","exceptionHook","rejectWith","getErrorHook","getStackHook","setTimeout","when","console","warn","name","message","stack","readyException","removeEventListener","readyWait","readyState","doScroll","toUpperCase","uid","cache","defineProperty","configurable","set","access","hasData","JSON","parse","data","removeData","_data","_removeData","attributes","queue","dequeue","_queueHooks","unshift","stop","clearQueue","source","composed","getRootNode","style","display","css","cur","cssNumber","unit","start","body","show","hide","toggle","xe","be","we","Te","Ce","createDocumentFragment","checkClone","cloneNode","noCloneChecked","defaultValue","option","ke","thead","col","tr","td","_default","Se","Ee","tbody","tfoot","colgroup","caption","th","optgroup","je","Ae","htmlPrefilter","createTextNode","De","Ne","qe","Le","off","event","He","namespace","handler","isTrigger","special","delegateType","stopPropagation","stopImmediatePropagation","preventDefault","trigger","isImmediatePropagationStopped","global","events","create","handle","triggered","dispatch","bindType","origType","delegateCount","setup","teardown","removeEvent","fix","delegateTarget","preDispatch","handlers","isPropagationStopped","currentTarget","elem","rnamespace","handleObj","result","postDispatch","addProp","Event","enumerable","originalEvent","writable","load","noBubble","click","beforeunload","returnValue","isDefaultPrevented","defaultPrevented","relatedTarget","timeStamp","Date","now","isSimulated","altKey","bubbles","cancelable","changedTouches","ctrlKey","detail","eventPhase","metaKey","pageX","pageY","shiftKey","view","char","code","charCode","key","keyCode","buttons","clientX","clientY","offsetX","offsetY","pointerId","pointerType","screenX","screenY","targetTouches","toElement","touches","which","blur","documentMode","simulate","mouseenter","mouseleave","pointerenter","pointerleave","on","one","Oe","Pe","Me","Re","Ie","We","Fe","$e","html","clone","_evalUrl","Be","cleanData","detach","append","prepend","insertBefore","before","after","replaceWith","replaceChild","appendTo","prependTo","insertAfter","replaceAll","_e","ze","Xe","opener","getComputedStyle","Ue","Ve","Ge","getPropertyValue","pixelBoxStyles","width","minWidth","maxWidth","Ye","cssText","marginLeft","right","position","offsetWidth","round","parseFloat","backgroundClip","clearCloneStyle","boxSizingReliable","pixelPosition","reliableMarginLeft","scrollboxSize","reliableTrDimensions","height","parseInt","borderTopWidth","borderBottomWidth","offsetHeight","Qe","Je","Ke","Ze","cssProps","et","tt","visibility","nt","letterSpacing","fontWeight","rt","max","it","ceil","ot","getClientRects","at","cssHooks","opacity","animationIterationCount","aspectRatio","borderImageSlice","columnCount","flexGrow","flexShrink","gridArea","gridColumn","gridColumnEnd","gridColumnStart","gridRow","gridRowEnd","gridRowStart","lineHeight","order","orphans","scale","widows","zIndex","zoom","fillOpacity","floodOpacity","stopOpacity","strokeMiterlimit","strokeOpacity","setProperty","isFinite","getBoundingClientRect","left","margin","padding","border","expand","Tween","prop","easing","options","propHooks","run","duration","pos","step","fx","scrollTop","scrollLeft","linear","swing","cos","PI","st","ut","ct","ft","pt","dt","hidden","requestAnimationFrame","interval","tick","ht","vt","yt","tweeners","prefilters","startTime","tweens","props","opts","specialEasing","originalProperties","originalOptions","createTween","bind","complete","timer","anim","Animation","tweener","unqueued","overflow","overflowX","overflowY","prefilter","speed","speeds","old","fadeTo","animate","finish","timers","slideDown","slideUp","slideToggle","fadeIn","fadeOut","fadeToggle","slow","fast","delay","clearTimeout","checkOn","optSelected","radioValue","mt","xt","removeAttr","attrHooks","bt","wt","Tt","Ct","kt","removeProp","propFix","for","class","addClass","removeClass","toggleClass","hasClass","St","val","valHooks","Et","jt","At","parseXML","DOMParser","parseFromString","Dt","Nt","parentWindow","triggerHandler","qt","Lt","Ht","Ot","Pt","param","encodeURIComponent","serialize","serializeArray","Mt","Rt","It","Wt","Ft","$t","Bt","_t","zt","Xt","Ut","Vt","dataTypes","Gt","ajaxSettings","flatOptions","active","lastModified","etag","url","isLocal","protocol","processData","async","contentType","accepts","xml","json","responseFields","converters","context","ajaxSetup","ajaxPrefilter","ajaxTransport","ajax","statusCode","getResponseHeader","getAllResponseHeaders","setRequestHeader","overrideMimeType","mimeType","status","abort","method","dataType","crossDomain","host","traditional","hasContent","ifModified","headers","beforeSend","success","timeout","send","dataFilter","statusText","getJSON","getScript","wrapAll","firstElementChild","wrapInner","wrap","unwrap","visible","xhr","XMLHttpRequest","Yt","Qt","cors","open","username","xhrFields","onload","onerror","onabort","ontimeout","onreadystatechange","responseType","responseText","binary","response","script","scriptAttrs","charset","scriptCharset","Jt","Kt","Zt","jsonp","jsonpCallback","createHTMLDocument","implementation","animated","offset","setOffset","using","pageYOffset","pageXOffset","offsetParent","scrollTo","Height","Width","unbind","delegate","undelegate","hover","en","proxy","holdReady","parseJSON","isFunction","isWindow","camelCase","isNumeric","isNaN","trim","define","amd","tn","jQuery","nn","noConflict","globalThis","self","Popper","Element","HTMLElement","ShadowRoot","min","navigator","userAgentData","brands","brand","version","userAgent","visualViewport","offsetLeft","offsetTop","bottom","clientLeft","clientTop","abs","assignedSlot","transform","perspective","contain","willChange","reduce","Map","Set","requires","requiresIfExists","forEach","isSameNode","assign","clientWidth","clientHeight","scrollWidth","scrollHeight","direction","reference","element","placement","strategy","boundary","rootBoundary","elementContext","altBoundary","rects","popper","elements","contextElement","modifiersData","keys","modifiers","some","defaultModifiers","defaultOptions","orderedModifiers","styles","setOptions","scrollParents","phase","effect","instance","update","forceUpdate","Promise","destroy","onFirstUpdate","passive","scroll","resize","popperRect","variation","offsets","gpuAcceleration","adaptive","roundOffsets","isFixed","devicePixelRatio","popperOffsets","arrow","_skip","mainAxis","altAxis","fallbackPlacements","flipVariations","allowedAutoPlacements","every","tether","tetherOffset","centerOffset","preventOverflow","referenceClippingOffsets","popperEscapeOffsets","isReferenceHidden","hasPopperEscaped","applyStyles","computeStyles","createPopper","createPopperLite","detectOverflow","eventListeners","flip","popperGenerator","bootstrap","size","from","delete","CSS","dispatchEvent","Node","ELEMENT_NODE","classList","hasAttribute","attachShadow","NAME","jQueryInterface","Constructor","transitionDuration","transitionDelay","Number","uidEvent","values","callable","delegationSelector","oneOff","Boolean","entries","includes","startsWith","decodeURIComponent","setDataAttribute","removeDataAttribute","getDataAttributes","dataset","charAt","getDataAttribute","Default","DefaultType","_getConfig","_mergeConfigObj","_configAfterMerge","_typeCheckConfig","super","_element","_config","DATA_KEY","dispose","EVENT_KEY","getOwnPropertyNames","_queueCallback","getInstance","getOrCreateInstance","VERSION","eventName","findOne","previousElementSibling","nextElementSibling","focusableChildren","getSelectorFromElement","getElementFromSelector","getMultipleElementsFromSelector","tagName","close","_destroyElement","endCallback","leftCallback","rightCallback","isSupported","_deltaX","_supportPointerEvents","PointerEvent","_initEvents","_start","_eventIsPointerPenTouch","_end","_handleSwipe","_move","maxTouchPoints","ArrowLeft","ArrowRight","keyboard","pause","ride","touch","_interval","_activeElement","_isSliding","touchTimeout","_swipeHelper","_indicatorsElement","_addEventListeners","cycle","_slide","nextWhenVisible","_clearInterval","_updateInterval","setInterval","_maybeEnableCycle","to","_getItems","_getItemIndex","_getActive","defaultInterval","_keydown","_addTouchEventListeners","_directionToOrder","_setActiveIndicatorElement","_orderToDirection","_isAnimated","clearInterval","_isTransitioning","_triggerArray","_initializeChildren","_addAriaAndCollapsedClass","_isShown","_getFirstLevelChildren","_getDimension","freeze","__proto__","afterMain","afterRead","afterWrite","auto","basePlacements","beforeMain","beforeRead","beforeWrite","clippingParents","createPopperBase","main","modifierPhases","placements","read","variationPlacements","viewport","write","toStringTag","ti","ei","ii","ni","si","oi","ri","ai","autoClose","popperConfig","li","ci","_popper","_parent","_menu","_inNavbar","_detectNavbar","_createPopper","_completeHide","_getPopperConfig","_getPlacement","_getOffset","_selectMenuItem","clearMenus","composedPath","clickEvent","dataApiKeydownHandler","hi","di","ui","clickCallback","isAnimated","isVisible","rootElement","fi","pi","_isAppended","_append","_getElement","_emulateAnimation","mi","gi","_i","autofocus","trapElement","bi","vi","_isActive","_lastTabNavDirection","activate","_handleFocusin","_handleKeydown","deactivate","yi","wi","Ai","Ei","Ti","getWidth","innerWidth","_disableOverFlow","_setElementAttributes","_resetElementAttributes","isOverflowing","_saveInitialAttribute","_applyManipulationCallback","removeProperty","Ci","Oi","xi","ki","Li","Si","Di","backdrop","Ii","Ni","_dialog","_backdrop","_initializeBackDrop","_focustrap","_initializeFocusTrap","_scrollBar","_adjustDialog","_showElement","_hideModal","handleUpdate","_triggerBackdropTransition","_resetAdjustments","paddingLeft","paddingRight","Pi","Mi","ji","Fi","Hi","$i","Wi","Bi","zi","Ri","area","br","div","em","hr","h1","h2","h3","h4","h5","h6","img","ol","pre","small","span","sub","sup","strong","ul","qi","Vi","Ki","Qi","allowList","extraClass","sanitize","sanitizeFn","template","Xi","Yi","entry","Ui","getContent","_resolvePossibleFunction","changeContent","_checkContent","toHtml","_maybeSanitize","_setContent","_putElementInTemplate","Gi","Ji","Zi","sn","AUTO","TOP","RIGHT","BOTTOM","LEFT","rn","animation","container","customClass","title","an","ln","_isEnabled","_timeout","_isHovered","_activeTrigger","_templateFactory","_newContent","tip","_setListeners","_fixTitle","enable","toggleEnabled","_leave","_enter","_hideModalHandler","_disposePopper","_isWithContent","_getTipElement","_isWithActiveTrigger","_getTitle","_createTipElement","_getContentForTemplate","_getTemplateFactory","floor","setContent","_initializeOnDelegatedTarget","_getDelegateConfig","_setTimeout","cn","hn","dn","_getContent","un","pn","mn","rootMargin","smoothScroll","threshold","gn","_n","_targetLinks","_observableSections","_rootElement","_activeTarget","_observer","_previousScrollData","visibleEntryTop","parentScrollTop","refresh","_initializeTargetsAndObservables","_maybeEnableSmoothScroll","disconnect","_getNewObserver","observe","behavior","IntersectionObserver","_observerCallback","_process","isIntersecting","_clearActiveClass","decodeURI","_activateParents","bn","vn","yn","wn","An","En","Tn","Cn","On","xn","_setInitialAttributes","_getChildren","_elemIsActive","_getActiveElem","_deactivate","_activate","_toggleDropDown","preventScroll","_setAttributeIfNotExists","_setInitialAttributesOnChild","_getInnerElement","_getOuterElement","_setInitialAttributesOnTargetPanel","kn","Ln","Sn","Dn","autohide","In","Nn","_hasMouseInteraction","_hasKeyboardInteraction","_clearTimeout","_maybeScheduleHide","isShown","_onInteraction","Alert","Button","Carousel","Collapse","Dropdown","Modal","Offcanvas","Popover","ScrollSpy","Tab","Toast","Tooltip","Waves","allowEvent","srcElement","parentElement","SVGElement","registerEvent","color","backgroundColor","attach","ripple","wait","calm","displayEffect","scrolling","isAlive","settings","scrollingThreshold","CustomEvent","createEvent","initCustomEvent","reach","containerWidth","containerHeight","contentWidth","contentHeight","scrollbarXRail","rail","scrollbarYRail","suppressScrollX","scrollXMarginOffset","scrollbarXActive","railXWidth","railXMarginWidth","railXRatio","scrollbarXWidth","scrollbarXLeft","negativeScrollAdjustment","suppressScrollY","scrollYMarginOffset","scrollbarYActive","railYHeight","railYMarginHeight","railYRatio","scrollbarYHeight","scrollbarYTop","isRtl","isScrollbarXUsingBottom","scrollbarXBottom","scrollbarXTop","isScrollbarYUsingRight","scrollbarYRight","scrollbarYOuterWidth","scrollbarYLeft","scrollbarX","railBorderXWidth","scrollbarY","railBorderYWidth","minScrollbarLength","maxScrollbarLength","clicking","mozMatchesSelector","rtl","thumb","consuming","isEmpty","unbindAll","defineProperties","eventElements","eventElement","isWebKit","supportsTouch","DocumentTouch","supportsIePointer","msMaxTouchPoints","isChrome","shadowRoot","wheelPropagation","wheel","deltaX","deltaY","wheelDeltaX","wheelDeltaY","deltaMode","wheelDelta","useBothWheelAxes","wheelSpeed","onwheel","onmousewheel","MSPOINTER_TYPE_MOUSE","getTime","scrollY","swipeEasing","isInitialized","MSPointerEvent","isNegativeScroll","borderLeftWidth","borderRightWidth","marginRight","marginTop","marginBottom","lastScrollTop","lastScrollLeft","onScroll","removePsClasses","PerfectScrollbar","log","_super","la","oa","ma","manager","callback","inputTarget","domHandler","pointers","changedPointers","Ea","Ga","Ha","isFirst","isFinal","session","eventType","firstInput","firstMultiple","center","ra","deltaTime","angle","distance","offsetDelta","prevDelta","prevInput","offsetDirection","overallVelocityX","overallVelocityY","overallVelocity","qa","Ra","rotation","maxPointers","lastInterval","Da","velocity","velocityX","velocityY","srcEvent","emit","recognize","pa","Ia","Ja","Ka","La","Ma","Qa","sqrt","atan2","evEl","Ta","evWin","Ua","pressed","Xa","Ya","store","pointerEvents","evTarget","$a","started","bb","targetIds","Fa","identifier","mouse","primaryTouch","lastTouches","cb","db","defaults","ua","nb","simultaneous","requireFail","sb","qb","pb","ob","aa","ba","pX","pY","ca","da","_timer","_input","ea","fa","ga","pTime","pCenter","count","ha","recognizers","preset","ia","oldCssProps","inputClass","xa","ya","wa","touchAction","ja","recognizeWith","requireFailure","na","sa","ta","za","Ba","Na","Oa","Pa","Sa","mousedown","mousemove","mouseup","Va","pointerdown","pointermove","pointerup","pointercancel","pointerout","Wa","Za","touchstart","touchmove","touchend","touchcancel","ab","sourceCapabilities","firesTouchEvents","eb","fb","gb","hb","ib","jb","kb","lb","mb","supports","compute","actions","getTouchAction","preventDefaults","prevented","preventSrc","rb","tb","dropRecognizeWith","dropRequireFailure","hasRequireFailures","canRecognizeWith","additionalEvent","tryEmit","canEmit","process","attrTest","directionTest","time","taps","posThreshold","failTimeout","tapCount","domEvents","userSelect","touchSelect","touchCallout","contentZooming","userDrag","tapHighlightColor","stopped","curRecognizer","initEvent","gesture","ka","INPUT_START","INPUT_MOVE","INPUT_END","INPUT_CANCEL","STATE_POSSIBLE","STATE_BEGAN","STATE_CHANGED","STATE_ENDED","STATE_RECOGNIZED","STATE_CANCELLED","STATE_FAILED","DIRECTION_NONE","DIRECTION_LEFT","DIRECTION_RIGHT","DIRECTION_UP","DIRECTION_DOWN","DIRECTION_HORIZONTAL","DIRECTION_VERTICAL","DIRECTION_ALL","Manager","Input","TouchAction","TouchInput","MouseInput","PointerEventInput","TouchMouseInput","SingleTouchInput","Recognizer","AttrRecognizer","Tap","Pan","Swipe","Pinch","Rotate","Press","inherit","bindFn","prefixed","Hammer","TRANSITION_EVENTS","Menu","el","config","_PS","_el","_horizontal","orientation","_animate","_accordion","accordion","_showDropdownOnHover","showDropdownOnHover","_closeChildren","closeChildren","_rtl","_onOpen","onOpen","_onOpened","onOpened","_onClose","onClose","_onClosed","onClosed","_psScroll","_topParent","_menuBgClass","_inner","_prevBtn","_wrapper","_nextBtn","_innerPosition","PerfectScrollbarLib","_scrollbar","_hasClass","Helpers","menuPsScroll","menuClassList","LAYOUT_BREAKPOINT","switchMenu","_bindEvents","menuInstance","_evntElClick","menuItem","_findParent","toggleLink","isMobileDevice","_evntWindowResize","_lastWidth","horizontalMenuTemplate","manageScroll","_evntPrevBtnClick","_evntNextBtnClick","_evntBodyClick","closeAll","_evntElMouseOver","screen","_evntElMouseOut","mainEl","mouseOutEl","mouseOverEl","childOf","_toggleLink","_unbindEvents","_evntInnerMousemove","_evntInnerMouseleave","_findUnopenedParent","_getItem","_getLink","_promisify","_findMenu","_isRoot","_toggleDropdown","_toggleAnimation","_closeOther","_autoClose","opened","_findChild","menu","actualItem","subMenuItem","wrapperWidth","itemOffset","_getItemOffset","itemWidth","menuWidth","marginValue","_updateSlider","_innerWidth","newPosition","_getSlideNextPos","_getSlidePrevPos","curItem","curItemWidth","tree","parentItem","openedItems","openedChildren","_unbindAnimationEndEvent","linkHeight","clearItemStyle","_bindAnimationEndEvent","totalHeight","_wrapperWidth","_position","items","menuInner","menuScroll","navbar","navbarCollapse","asideMenuWrapper","asideMenu","horzMenuClasses","vertMenuClasses","horzMenuWrapper","menuToggler","activeMenuItems","cls","menus","i2","l2","throwError","found","passed","curEl","ROOT_EL","_menuAnimationEndEventCb","ev","_menuAnimationEndEventTimeout","args","setDisabled","isActive","isOpened","jQueryExports","Bootstrap","WavesExports","PerfectScrollbarExports","HammerExports","MenuExports","EventDelegation","debug","stats","handlersRegistered","eventsProcessed","errorsEncountered","register","action","unregister","isRegistered","getRegisteredActions","handleClick","handleChange","handleInput","handleSubmit","handleKeydown","actionElement","handleError","onChange","onInput","form","onSubmit","FormData","onKeydown","showNotification","enableDebug","disableDebug","getStats","registeredActions","resetStats","updateRSVPStatus","playerId","matchId","Swal","icon","showCancelButton","confirmButtonText","cancelButtonText","confirmButtonColor","ECSTheme","getColor","confirmButton","cancelButton","buttonsStyling","isConfirmed","formData","csrfToken","allowOutsideClick","didOpen","showLoading","fetch","ok","showConfirmButton","reload","showCalendarToast","showToast","Toastify","bgColors","warning","info","gravity","background","setCalendarLoading","loading","loadingIndicator","taskId","taskType","taskDataStr","taskData","err","showTaskInfo","revokeTask","rescheduleTask","loadAllTaskDetails","refreshStatuses","targetId","scheduleMatch","verifyMatch","verifyUrl","editMatch","playerName","confirmDraftPlayer","draftSystemInstance","showDraftModal","teamId","teamName","confirmRemovePlayer","openPlayerModal","searchTerm","handleSearch","card","shouldShow","handleFilter","playerPosition","handleSort","handleEditButtonClick","onclickAttr","containerId","addEvent","updatePlayerRSVP","submitRSVP","withdrawRSVP","phone","formatPhoneNumber","smsModal","ModalManager","showByElement","playerNameEl","playerIdEl","playerPhoneEl","messageEl","charCountEl","discordId","discordModal","discordIdEl","urlInput","clipboard","writeText","originalHtml","execCommand","confirm","CalendarSubscription","loadSubscription","webcalUrl","feedUrl","googleUrl","_b","_c","preferences","include_team_matches","include_league_events","include_ref_assignments","stringify","ProfileVerification","handleCheckboxChange","verifyDataEl","areAllSectionsReviewed","Haptics","uncheckedSections","getUncheckedSections","showIncompleteWarning","perPage","URL","searchParams","btn","cancelButtonColor","originalText","success_count","finally","dmDiscordIdInput","modalTitle","dmMessageTextarea","defaultMessage","discord_id","modalElement","modalInstance","refId","assignReferee","removeReferee","loadCalendarEvents","fetchAvailableReferees","calendarInstance","getDate","refreshCalendar","refereeId","viewRefereeProfile","profileUrl","updateRefereeStatus","league","approvePlayer","removePlayer","openEditPreferencesModal","openPlayerDetailsModal","section","listView","gridView","filterText","filterPlayerCards","searchText","openLeagueManagementModal","savePreferences","page","paginationState","currentPage","updatePagination","addToPool","rejectPlayer","removeFromPool","loadStatistics","showAddPlayerModal","formActionInput","carouselElement","OnboardingWizard","croppedImageHiddenInput","bootstrapCarousel","totalSteps","getFormElements","getCurrentStep","cropper","canvas","getCroppedCanvas","toDataURL","checkValidity","firstInvalid","scrollIntoView","block","activeItem","requiredFields","isValid","field","feedback","validationMessage","handleSmsToggle","securityDashboard","refreshAll","loadSecurityEvents","loadSecurityLogs","ip","unbanIP","reason","quickBanIP","banIP","clearAllBans","showBanIpModal","banIp","startSeasonWizard","showExistingSeasons","showMainView","nextStep","previousStep","createSeason","updateSeasonStructure","templateType","applyWizardTemplate","addWizardField","removeWizardField","seasonId","seasonType","setActiveSeason","seasonName","confirmDeleteSeason","recreateDiscordResources","toggleScheduleSettings","deleteSchedule","commitSchedule","matchDesc","selectForSwap","executeSwap","swapIndex","removeFromSwap","removeField","addField","applyTemplate","addWeekConfig","generateDefaultWeeks","clearWeeks","updateWeekCard","removeWeekCard","platform","PassStudio","setPreviewPlatform","updatePassStylePreview","bg","fg","label","bgColorInput","fgColorInput","labelColorInput","bgColorText","fgColorText","labelColorText","updatePreviewFromForm","markUnsaved","textInput","toggleLogoVisibility","assetType","openAssetCropper","updateGooglePreview","updateBarcodePreview","saveAppearance","FieldsManager","initializeDefaults","fieldType","openAddFieldModal","createField","saveFields","resetFields","variableName","insertVariableInAdd","refreshStats","userId","showPlayerDetails","showApprovalModal","showDenialModal","submitApproval","submitDenial","originalFetch","CSRF_METHODS","meta","getCSRFToken","Headers","fetchWithCSRF","RESIZE_DELAY","_initialized","_listeners","_resizeCallback","_resizeTimeout","mainMenu","isSmallScreen","isDarkStyle","isLightStyle","isCollapsed","isOffcanvas","isNavbarFixed","isFooterFixed","isLayoutNavbarFull","getLayoutMenu","getMenu","layoutMenu","getLayoutNavbar","getLayoutFooter","_addClass","_removeClass","setCollapsed","collapsed","_triggerEvent","toggleCollapsed","setNavbarFixed","fixed","setFooterFixed","scrollToActive","activeEl","activeTop","swipeIn","targetEl","swipeOut","hammer","initPasswordToggle","initCustomOptionCheck","updateCustomOptionCheck","opt","initSpeechToText","SpeechRecognition","webkitSpeechRecognition","listening","recognition","onspeechstart","onresult","results","transcript","onspeechend","initNavbarDropdownScrollbar","initSidebarToggle","overlay","appOverlay","tel","namespaceParts","setAutoUpdate","ModalManager$1","discoverModals","setupEventDelegation","setupMutationObserver","modalInstances","modalEl","modalId","parseOptionsFromElement","closestModal","MutationObserver","mutations","mutation","removedNodes","node","cleanup","childList","subtree","modal","cleanupAll","clear","reinit","DEBUG","__publicField","getCSSVariable","fallback","InitSystem","priority","safeGetModal","safeShowModal","colors","primary","danger","secondary","light","dark","colors_label","colors_dark","assetsPath","templateName","rtlSupport","cardBg","bodyBg","headerBg","CONFIG","sidebar","sidebarToggle","submenuToggle","expandableItem","collapsedKey","desktop","State","isDesktop","isSidebarOpen","collapsedState","localStorage","getItem","handleOutsideClick","handleKeyDown","resizeTimeout","handleResize","setupResizeHandler","isOpen","handleSidebarToggle","closeSidebar","handleSubmenuToggle","alert","toggleCollapsedState","openSidebar","setItem","focusableElements","getFocusableElements","firstFocusableElement","lastFocusableElement","focusTrapActive","handleFocusTrap","trapFocus","currentElement","focusable","currentIndex","previousIndex","focusPreviousItem","nextIndex","focusNextItem","focusFirstItem","focusLastItem","wasDesktop","SidebarInteractions","collapse","description","reinitializable","ModernNavbarController","activeDropdown","scrollThreshold","csrfMeta","csrfInput","cookies","cookie","registerEventHandlers","attachEventListeners","initScrollTracking","initSearch","initNotifications","initRoleImpersonation","initTheme","initPresence","toggleMobileMenu","dropdownId","dropdown","toggleDropdown","theme","switchTheme","startRoleImpersonation","stopRoleImpersonation","notificationId","markNotificationRead","markAllNotificationsRead","clearAllNotifications","dismissNotification","toggleNotificationExpand","handleLogout","handleKeyboard","navigateDropdown","closeDropdown","openDropdown","staggerDropdownItems","transition","findIndex","ticking","searchInput","searchTimeout","query","performSearch","initializePlayerSearch","actualTheme","matchMedia","iconClass","system","checkboxes","selectedRoles","roles","badge","normalStatus","activeStatus","activeRolesList","role","notification","updateNotificationBadge","unread_count","loadNotifications","refreshNotificationCount","loadingEl","emptyEl","notifications","notifEl","createNotificationElement","emptyText","is_read","colorClass","icon_color","truncatedMessage","substring","hasMore","escapeHtml","time_ago","created_at","expandedContent","deleted_count","loadImpersonationStatus","refreshBtn","loadAvailableRoles","validateRoleSelection","clearBtn","clearRoleSelection","updateImpersonationStatus","current_impersonation","startBtn","countDisplay","selectedCount","savedTheme","applyTheme","save","io","initPresenceSocket","checkPresence","refreshPresence","visibilityState","presenceSocket","connected","connect","SocketManager","isOptimisticallyConnected","updateOnlineStatus","getSocket","onConnect","socket","onDisconnect","attachSocketListenersDirect","transports","upgrade","reconnection","reconnectionAttempts","reconnectionDelay","reconnectionDelayMax","autoConnect","withCredentials","online","isOnline","statusIndicator","initNavbar","navbarController","SimpleThemeSwitcher","themes","variants","currentTheme","currentVariant","setupEventListeners","setupSystemThemeDetection","loadSavedVariant","savedVariant","loadSavedTheme","setTheme","effectiveTheme","resolveSystemTheme","updateThemeIcon","updateActiveMenuItem","saveThemeToServer","dropdownInstance","cycleTheme","getCurrentTheme","getEffectiveTheme","setVariant","variant","saveVariantToServer","notifyAndReload","timerProgressBar","getCurrentVariant","isModern","toggleVariant","themeSwitcher","_themeNeedsSync","_variantNeedsSync","AdminNavigationController","nav","handleEscapeKey","registerActions","handleToggleDropdown","handleNavigation","handleCloseDropdown","closeAllDropdowns","dropdownItem","firstItem","initAdminNavigation","pathname","navElements","altNav","adminNavController","colorCache","cacheValid","colorMap","accent","white","muted","fallbacks","getCSSVar","varName","invalidateCache","observer","attributeName","getAllColors","getChartColors","palette","getSwalColors","denyButtonColor","connection","randomizationFactor","optimisticDisconnectDelay","isConnected","connectionAttempts","disconnectTimeout","OPTIMISTIC_KEY","connectCallbacks","disconnectCallbacks","attachInternalListeners","fireConnectCallbacks","handleConnect","handleDisconnect","handleConnectError","sessionStorage","component","fireDisconnectCallbacks","lastConnected","wasRecentlyConnected","componentName","componentListeners","removeListeners","reconnect","OnlineStatusManager","updateInterval","intervalId","onlineUserIds","initialized","fetchOnlineUsers","setupWebSocketListeners","online_user_ids","updateAllIndicators","isUserOnline","indicator","updateIndicator","setUserStatus","userIdStr","checkSocket","attachSocketListeners","user_id","getOnlineCount","getOnlineUserIds","ModalController","activeModals","modalTrigger","openModal","topModal","firstElement","lastElement","ToastController","toasts","idCounter","toastId","dismiss","dismissible","toast","icons","TooltipController","activeTooltip","tooltips","getElement","tooltip","tooltipPosition","tooltipVariant","DropdownController","dropdownTrigger","TableController","paginationBtn","tableId","paginate","table","column","sortColumn","currentDirection","sortDirection","newDirection","FormController","validateField","validateForm","clearError","showError","inputs","ModernComponents","Table","Form","ResponsiveSystem","device","isMobile","isTablet","isIOS","isAndroid","hasTouch","hasMouse","detectDevice","applyDeviceClasses","fixIOSViewportHeight","setupTouchFeedback","enhanceModals","enhanceFormControls","enhanceTables","enhanceNavigation","improveScrolling","monitorNetworkStatus","screenWidth","setVh","vh","innerHeight","modalDialog","setupModalSwipeDismiss","modalOpen","modalBody","modalContent","handleModalKeyboard","modalClose","cleanupModalBackdrops","modalHeader","startY","currentY","isDragging","bsModal","control","select2","selectElement","dropdownParent","placeholder","scrollHint","tabs","isOnMobile","hasMultipleTabs","hasOverflow","existingHint","sidebarMenu","link","anchor","targetElement","showNetworkStatus","statusDiv","resizeTimer","openModals","modalBackdrops","shouldEnhance","addedNodes","enhanceNewElements","feather","hasNewFeatherIcons","group","MobileGestures","isTouchDevice","isHammerLoaded","bootstrapModal","setupSidebarSwipe","menuOpen","menuClose","setupPullToRefresh","isPulling","refreshIndicator","borderRadius","refreshThreshold","refreshEvent","setupLongPress","longPress","longPressEvent","setupDoubleTap","isZoomed","doubleTap","setupSwipeActions","row","actionsRevealed","actionsContainer","deleteBtn","onclick","deleteEvent","swipe","setupPinchZoom","lastScale","setupSwipeNavigation","activeTab","tab","activeIndex","addGestureStyles","MobileKeyboard","keyboardHeight","activeInput","originalViewportHeight","detectKeyboard","currentHeight","heightDiff","onKeyboardShow","onKeyboardHide","adjustModalsForKeyboard","adjustDropdownsForKeyboard","resetModalAdjustments","availableHeight","inputRect","keyboardTop","rect","scrollInputIntoView","inputBottom","scrollAmount","inline","optimizeInputType","autocomplete","inputMode","pattern","fontSize","setupInputHandlers","setupIOSFixes","setVH","setupAndroidFixes","metaViewport","originalContent","setupFormValidation","validationError","validity","valid","addKeyboardStyles","MobileForms","optimizeModals","optimizeInputGroups","setupSwipeToDelete","deleteIndicator","hideTimeout","removeBtn","optimizeSelect2","$select","dropdownAutoWidth","dropdownCssClass","containerCssClass","minimumResultsForSearch","makeCollapsible","inputGroups","sectionTitle","optimizeDataTables","DataTable","$table","isDataTable","responsive","columns","len","draw","pageLength","dom","language","search","lengthMenu","infoEmpty","infoFiltered","addQuickActions","optimizeTextareas","textarea","maxLength","counter","updateCounter","remaining","convertToFloatingLabels","setupMobileValidation","invalidFields","addMobileFormStyles","_vibrate","vibrate","mozVibrate","webkitVibrate","removeItem","medium","heavy","selection","deselection","drafted","invalidSelection","timeWarning","inputFocus","formSubmit","archive","custom","ResponsiveTables","processAllTables","setupScrollTracking","setupDataTables","processTable","headerCells","headerTexts","cell","isCellWithOnlyActions","isCellWithAvatar","innerText","child","tableWrapper","dataTable","drawCallback","shouldProcess","ECSDesignSystem","ensureStylesheetLoaded","enhanceButtons","enhanceCards","enhanceForms","enhanceNavs","setupResponsive","setupDarkMode","setupCustomBehaviors","btnClassMap","excludeSelector","bootstrapClass","ecsClass","cardClassMap","headerColorMap","cardHeader","adjustForScreenSize","htmlElement","isDarkBsTheme","isDark","applyDarkModeToContent","addDarkModeToggle","addRippleEffect","improveKeyboardNavigation","setupTransitions","ACTION_CONFIGS","titlePrefix","approve","deny","sync","cancel","unlink","revoke","retry","resend","duplicate","schedule","detectAction","lowerText","SwalContextual","actionConfig","reverseButtons","buildConfig","conversations","messages","unreadCount","searchUsers","markRead","msgId","animationDuration","typingDebounce","searchDebounce","maxMessageLength","currentView","activeConversation","onlineUsers","isTyping","typingTimeout","searchQuery","searchResults","typingIndicators","readReceipts","fetchJSON","loadConversations","conversationList","emptyState","defaultAvatar","conv","user","isUnread","is_online","avatarUrl","avatar_url","roleBadges","renderRoleBadges","is_coach","is_admin","is_global_admin","is_ref","last_message","sent_by_me","renderConversations","loadUnreadCount","updateBadge","badges","renderMessages","messagesContainer","currentUserId","getCurrentUserId","msg","isSent","sender_id","is_deleted","formatMessageTime","contentWithEmojis","shortcode","emoji","EMOJI_MAP","escaped","convertEmojiShortcodes","handleDeleteMenuClick","messageId","popup","showDenyButton","denyButtonText","deleteMessage","isDenied","showDeleteConfirmation","senderId","deleteFor","msgIndex","scrollToBottom","xD","XD","renderSearchResults","navbarBadge","updateSendButton","sendBtn","composerInput","openWidget","widget","chatScrollY","joinMessagingRoom","closeWidget","clearSearch","toggleWidget","openConversation","userName","roleInfo","avatar","chatAvatar","chatName","chatStatus","chatAvatarContainer","loadMessages","closeConversation","handleTriggerClick","handleConversationClick","conversation","isCoach","isAdmin","isGlobalAdmin","isRef","handleBackClick","handleSendClick","sendMessage","handleComposerKeydown","recipient_id","handleComposerInput","searchDebounceTimer","handleSearchInput","users","handleSearchFocus","handleSearchBlur","handleClickOutside","initWebSocket","connectedSocket","handleNewMessage","handleMessageSent","handleMessageError","handleUnreadUpdate","handleMessageDeleted","handleUserTyping","handleMessagesRead","handleUserOnline","handleUserOffline","handleOnlineUsers","message_id","deletedFor","deleted_for","sender_name","Notification","permission","tag","typing","typingIndicator","reader_id","updateUserOnlineStatus","onlineList","onlineSection","renderOnlineUsers","isoString","date","diff","toLocaleTimeString","hour","minute","toLocaleDateString","weekday","month","day","sessionData","updatePosition","mobileNav","navHeight","panel","chatView","backBtn","newChatBtn","openInboxBtn","closeBtns","ChatWidget","getUnreadCount","MessengerWidget","currentUserName","refreshIntervals","bindEvents","setupWebSocket","loadOnlineUsers","unread","handleAction","conversationId","onlineUser","onlineUserId","msgInput","handleTyping","showList","focusSearch","handleTypingIndicator","appendMessage","online_users","updateOnlineCount","list","countEl","onlineClass","preview","headerTitle","bubble","timeStr","msgEl","markAsRead","typingEl","navBadge","ProfileWizard","autoSaveUrl","autoSaveDelay","currentStep","autoSaveTimeout","lastSavedData","progressBar","currentStepInput","prevBtn","nextBtn","confirmBtn","saveIndicator","swipeHint","steps","stepIndicators","editButtons","confirmCheckbox","updateUI","initSwipeGestures","stepNum","stepIndicator","goToStep","gotoStep","scheduleAutoSave","populateReview","validateFinalStep","updateConfirmButton","validateCurrentStep","shakeInvalidFields","updateNavigationButtons","currentStepEl","emailField","fieldName","review","displayValue","multiple","selectedOptions","checkedBoxes","autoSave","fromEntries","dataString","showSaveIndicator","touchStartX","touchEndX","swipeDistance","formatPosition","isVerificationPage","setupSectionCheckboxes","setupConfirmButton","setupProgressIndicator","setupHapticFeedback","trackUserInteraction","createSectionCheckboxes","attachCheckboxListeners","cardTitle","sectionName","shouldSkipSection","checkboxContainer","isChecked","updateProgress","animateCardCheck","progressContainer","createProgressIndicator","progressText","helpText","firstCard","checkedCount","totalCount","updateProgressBar","progressBarContainer","percentage","sectionList","DraftSystemV2","leagueName","currentPlayerId","setupImageHandling","initializeSocket","setupSearch","setupTeamTabHighlighting","testImg","Image","player","smartCropImage","naturalWidth","naturalHeight","positionClass","closeModals","updateConnectionStatus","league_name","setupSocketListenersViaManager","setupSocketListeners","tryFallbackConnection","room","hideDraftingIndicator","handlePlayerDrafted","handlePlayerRemoved","player_name","showUserActivity","team_name","hideLoading","handlePlayerDetails","SM","forceNew","setupSocketEventListeners","statusElement","updatePlayerCounts","playerColumns","visibleCount","playerCard","toggleEmptyState","updateAvailableCount","sortBy","players","cardA","cardB","aValue","bValue","localeCompare","teams","playerCount","inputOptions","obj","team","inputPlaceholder","inputValidator","confirmDraft","prompt","showDraftingIndicator","player_id","team_id","activity","fallbackDraftPlayer","availableContainer","playerColumn","maxHeight","addPlayerToTeam","teamSection","profilePictureUrl","profile_picture_url","favorite_position","career_goals","career_assists","career_yellow_cards","career_red_cards","updateTeamCount","teamCountBadge","addPlayerToAvailable","experienceLevel","experience_level","league_experience_seasons","mediumPictureUrl","profile_picture_medium","profile_picture_webp","experienceSeasons","attendanceEstimate","attendance_estimate","expectedAvailability","expected_weeks_available","experienceBadgeColor","attendanceColor","attendanceDisplay","sortSelect","positionFilter","filterPosition","removePlayerFromTeam","profileHtml","season_goals","season_assists","season_yellow_cards","season_red_cards","reliability_score","rsvp_response_rate","player_notes","admin_notes","match_history","goals","assists","yellow_cards","red_cards","availableCount","countElement","playersContainer","iconMap","refreshDraft","viewPlayerProfile","handleDragStart","dataTransfer","setData","effectAllowed","draggedPlayerId","handleDragEnd","handleDragOver","dropEffect","dropZone","handleDragLeave","handleDrop","getData","teamNameElement","teamAccordion","handleDropToAvailable","currentPlayerCard","fetchPositionAnalysis","updatePositionHighlighting","activeTeamId","analysis","player_fit_scores","existingBadge","fitData","fit_category","openAccordion","DraftHistoryManager","getCsrfToken","initDragAndDrop","metaToken","editForm","handleEditSubmit","draggableCard","currentPos","pickId","dragImage","setDragImage","draggedPickId","targetPosition","showAlert","handleDragDrop","mode","reloadPage","clearFilters","currentUrl","editDraftPick","notes","deleteDraftPick","normalizeDraftPositions","leagueId","season_id","league_id","clearSeasonLeague","alertClass","alertHtml","insertAdjacentHTML","initTooltips","tooltipTriggerEl","draftHistoryManager","PitchViewSystem","draftedPlayersByTeam","currentDraggedPlayer","setupSocket","populateExistingPlayers","updateAllStats","handlePlayerPositionUpdated","handlePositionFilter","onTeamTabSwitch","setupDragAndDropEvents","handlePositionDrop","updateAvailablePlayerCount","playerItems","selectedPosition","current_position","addPlayerToPosition","emitEvent","positionContainer","removePlayerFromAllPositions","playerElement","createPositionedPlayerElement","removePlayerFromAvailable","updatePositionStats","updateTeamCounts","handlePositionedPlayerDragStart","handlePositionedPlayerDragEnd","getPlayerInitials","part","removePlayerFromPosition","isPlayerInTeam","addPlayerBackToAvailable","playerItem","handlePlayerDragStart","handlePlayerDragEnd","handlePositionDragOver","handlePositionDragLeave","zone","isPositioned","currentPlayers","recommended","getRecommendedMax","showPositionWarning","movePlayerBetweenPositions","draftPlayerToPosition","updatePositionCapacity","gk","lwb","rwb","cdm","cm","cam","lw","rw","bench","currentCount","recommendedMax","positionName","slot","currentSpan","positions","playerData","addPlayerToAvailableList","availableList","def","mid","fwd","category","countSpan","totalPlayers","getTotalPlayersInTeam","total","getContainerId","collectRemovedStatIds","baseName","removedIds","formBaseName","statId","getFinalEvents","uniqueId","stat_id","unique_id","eventExists","eventsArray","ownGoalExists","ownGoal","ownGoalList","og","fixDropdownsAndOverflow","dropdowns","containers","bindEventHandlers","charCount","toastr","submitBtn","removeDataTablesArrows","beforeStyle","afterStyle","AdminPanelBase","MOBILE_BREAKPOINT","TABLET_BREAKPOINT","TOAST_DURATION_MOBILE","TOAST_DURATION_DESKTOP","FETCH_TIMEOUT_MOBILE","FETCH_TIMEOUT_DESKTOP","DEBOUNCE_WAIT","_autoRefreshInterval","initMobileNavigation","initAdminNavToggle","initTouchGestures","initProgressiveLoading","initResponsiveTables","initNetworkMonitoring","initAutoRefreshManagement","initPerformanceMonitoring","initDoubleTapPrevention","initSmoothScrolling","initIOSBouncePrevent","navLinks","navEnhanced","bsCollapse","toggleBtn","navContainer","adminNavToggleEnhanced","gesturesEnhanced","touchStartY","touchEndY","loaded","unobserve","handleResponsiveTables","mobileStack","debounce","_networkMonitoringSetup","updateNetworkStatus","onLine","showMobileToast","_autoRefreshSetup","manageAutoRefresh","_performanceMonitoringSetup","PerformanceObserver","getEntries","entryType","loadTime","loadEventEnd","loadEventStart","entryTypes","doubleTapPrevented","smoothScrollEnhanced","_iosBouncePreventSetup","func","confirmAction","messageLower","defaultConfirm","defaultIcon","defaultTitle","defaultColor","confirmText","cancelText","confirmColor","controller","AbortController","timeoutId","signal","registerServiceWorker","serviceWorker","registration","AdminPanel","handleNavigate","openNavigationSettings","openRegistrationSettings","openTaskMonitor","openDatabaseMonitor","openMatchReports","generateReport","currentPath","highlightActiveNav","cursor","createToggle","teams_navigation_enabled","store_navigation_enabled","matches_navigation_enabled","leagues_navigation_enabled","drafts_navigation_enabled","players_navigation_enabled","messaging_navigation_enabled","mobile_features_navigation_enabled","showLoaderOnConfirm","preConfirm","saveNavigationSettings","isLoading","showNavigationSettingsModal","roleOptions","default_user_role","registration_enabled","waitlist_registration_enabled","admin_approval_required","require_real_name","require_email","require_phone","require_location","require_jersey_size","require_position_preferences","require_availability","require_referee_willingness","discord_only_login","saveRegistrationSettings","showRegistrationSettingsModal","available_roles","tasksHtml","tasks","task","statusClass","worker","active_count","scheduled_count","worker_count","showTaskMonitorModal","cpu_percent","memory_percent","services","database","response_time_ms","redis","timestamp","toLocaleString","showDatabaseMonitorModal","formToken","botApiUrl","recentLogs","commands","commandUsage","guildInfo","restartBot","checkBotHealth","healthInfo","guild_count","latency","memory_usage_mb","details","viewBotLogs","logsHtml","logs","level","syncCommands","commands_synced","viewCommands","commandsHtml","categories","cmd","permissionColor","permission_level","commandPermissions","usage","commands_today","commands_this_week","most_used_command","avg_response_time","customCommands","manageGuild","guildId","guild","guildStats","member_count","channel_count","role_count","addGuild","showCloseButton","saveBotConfig","_d","_f","_g","prefix","default_role","activity_type","activity_text","auto_moderation","command_logging","welcome_messages","resetBotConfig","prefixEl","roleEl","activityTypeEl","activityTextEl","autoModEl","cmdLogEl","welcomeEl","__BOT_RECENT_LOGS__","__BOT_COMMANDS__","__BOT_COMMAND_USAGE__","__BOT_GUILD_INFO__","loadBotConfig","refreshInterval","queryPerformanceChart","cacheUsageChart","autoRefresh","perfData","avgQueryTime","dbAvgQueryTime","cacheActive","cacheExpired","queryCtx","Chart","getContext","labels","datasets","borderColor","tension","fill","maintainAspectRatio","scales","beginAtZero","plugins","legend","cacheCtx","borderWidth","initializeCharts","handleToggleAutoRefresh","handleClearCache","startAutoRefresh","statusSpan","updateMetrics","report","updateLiveValue","avg_query_time","toFixed","slow_queries","active_entries","cache_size_mb","timestampEl","slowQueriesEl","cacheSizeEl","updateMetricColors","newValue","updateQueryChart","expired","expired_entries","metric","dockerStatusContainer","taskManagementContainer","toastContainer","roleSelect","permissionsSelect","currentPermissionsList","dockerLogsContent","dockerLogsModalLabel","refreshContainers","openTaskManagement","refreshTaskList","cleanupOldTasks","loadTaskManagement","showLogs","containerAction","viewTaskDetails","removeTask","closeModal","dockerStatus","dockerLogs","dockerAction","taskManagement","taskDetails","cleanupTasks","rolePermissions","AdminDashboard","initEventDelegation","initPermissionsTab","initDockerStatus","handleRefreshContainers","containerName","containerActionType","fetchDockerStatus","allowClear","roleId","fetchRolePermissions","updateCurrentPermissionsList","permissions","currentPermissionIds","listElement","permissionsHTML","renderContainers","containersHTML","cont","statusIcon","uptime","cpu_usage","memory_usage","showComponentToast","errorData","fetchTaskList","renderTaskManagement","statistics","activeTasks","active_tasks","total_active","by_status","SUCCESS","FAILURE","PENDING","renderTaskRow","statusColor","getStatusColor","celery_state","task_id","task_type","stage","STARTED","PROGRESS","REVOKED","getThemeColor","detailsHtml","registry_cleaned","metadata_cleaned","total_cleaned","colorName","toastHTML","toastElement","editCategory","idInput","nameInput","descInput","deleteCategory","deleteUrl","categoryIdInput","handleEditCategory","categoryId","categoryName","categoryDescription","handleDeleteCategory","MessageCategories","viewTemplate","titleEl","contentEl","editTemplate","channelType","usageContext","contentInput","channelSelect","contextInput","activeCheckbox","toggleTemplate","currentStatus","toggleUrl","newStatus","templateIdInput","deleteTemplate","insertVariable","variable","selectionStart","selectionEnd","newPos","setSelectionRange","handleGoBack","history","back","handleViewTemplate","templateId","viewId","templateContent","handleEditTemplate","templateDescription","templateChannel","templateContext","templateActive","handleToggleTemplate","handleDeleteTemplate","varBtn","var","actualTarget","editModal","createModal","MessageTemplateDetail","CampaignsConfig","baseUrl","CAMPAIGNS_BASE_URL","CAMPAIGNS_CSRF_TOKEN","viewCampaign","campaignId","campaign","target_type","editCampaign","sendCampaign","campaignName","scheduleCampaign","scheduleTime","showValidationMessage","scheduled_send_time","deleteCampaign","cancelCampaign","duplicateCampaign","toggleCampaignTargetOptions","targetType","selectedSelector","pool","toggleCampaignSchedule","sendType","scheduleContainer","handleViewCampaign","handleEditCampaign","handleSendCampaign","handleScheduleCampaign","handleDeleteCampaign","handleCancelCampaign","handleDuplicateCampaign","targetTypeSelect","PushCampaigns","ENDPOINTS","MESSAGE_DETAILS","MESSAGE_UPDATE","previewMessage","channel","scheduleDate","previewTitle","previewContent","previewType","previewChannel","previewSchedule","viewScheduledMessage","messageTitle","editScheduledMessage","scheduledTime","message_type","match_id","scheduled_time","updateUrl","cancelScheduledMessage","cancelUrl","messageIdInput","retryScheduledMessage","retryUrl","handlePreviewMessage","handleViewScheduledMessage","handleEditScheduledMessage","handleCancelScheduledMessage","handleRetryScheduledMessage","recurringCheckbox","recurrenceOptions","recurrencePattern","required","initRecurringToggle","filterValue","scheduleDateInput","minDateTime","getFullYear","getMonth","padStart","getHours","getMinutes","initMinDateTime","ScheduledMessages","matchStatusCtx","matchesPerWeekCtx","completed","pending","live","cancelled","generateMatchReport","generateTeamReport","viewMatchReport","viewTeamReport","start_date","end_date","is_current","createUrl","createSeasonUrl","origin","submitCreateSeason","editSeason","season","submitUpdateSeason","submitDeleteSeason","deleteSeason","showEditSeasonModal","setCurrentSeason","setCurrentUrl","setCurrentSeasonUrl","submitSetCurrentSeason","viewSeason","loader","bar","themeColor","originalSetupCustomBehaviors","e2","closeIcon","layoutOverlay","overlayDiv","closeMenu","toggleMenu","discordBtn","DiscordMembershipChecker","membershipStatus","discordMembershipStatus","showJoinPrompt","urgency","showUrgentPopup","Visibility","HIDDEN_CLASS","LEGACY_CLASSES","_resolveElement","force","isHidden","showOnly","toShow","toHide","migrate","wasHidden","TabsController","SELECTORS","TABS_CONTAINER","TAB_TRIGGER","TAB_PANE","CLASSES","ACTIVE_TRIGGER","ACTIVE_PANE","ACTIVE_PANE_ALT","initContainer","handleInitialHash","tabsInitialized","tabId","tabTrigger","activateTab","allTriggers","newIndex","triggers","panes","targetTrigger","targetPane","replaceState","InitSystemDebug","showTab","getActiveTab","activeTrigger","initializing","endTime","components","failures","logging","throwOnError","initTimeout","componentTimeout","autoInit","initFn","_error","_warn","dependencies","initTime","initDuration","existingIndex","_log","_getStatus","performance","timeoutPromise","initPromise","_initializeQueue","race","successCount","failureCount","_dispatchEvent","_initComponent","depName","dep","componentNames","failed","skipped","getComponent","getAllComponents","getInitOrder","configure","printOrder","printStatus","testReinit","Shepherd","tourVar","Tour","defaultStepOptions","cancelIcon","useModalOverlay","addStep","attachTo","showTour","csrftoken","playerChoices","setupEditMatchButtons","newInputGroup","containerSelector","eventIndicator","inputGroupClass","currentMatchData","homeTeamId","home_team","awayTeamId","away_team","homeTeamName","home_team_name","awayTeamName","away_team_name","createTeamOptions","createPlayerOptions","eventEntry","jQueryEntry","$button","initialEvents","yellowCards","redCards","ownGoals","finalGoals","finalAssists","finalYellowCards","finalRedCards","finalOwnGoals","initialGoals","initialAssists","initialYellowCards","initialRedCards","initialOwnGoals","removedGoalIds","removedAssistIds","removedYellowCardIds","removedRedCardIds","removedOwnGoalIds","collectRemovedOwnGoalIds","goalsToAdd","goal","assistsToAdd","assist","yellowCardsToAdd","redCardsToAdd","ownGoalsToAdd","goalsToRemove","assistsToRemove","yellowCardsToRemove","redCardsToRemove","ownGoalsToRemove","homeTeamScore","awayTeamScore","verifyHomeTeam","verifyAwayTeam","homeTeamCheckbox","awayTeamCheckbox","missingVerifications","home_team_score","away_team_score","goals_to_add","goals_to_remove","assists_to_add","assists_to_remove","yellow_cards_to_add","yellow_cards_to_remove","red_cards_to_add","red_cards_to_remove","own_goals_to_add","own_goals_to_remove","verify_home_team","verify_away_team","successMessage","home_team_verified","away_team_verified","modalElem","errorMessage","errorTitle","showRefreshOption","error_type","responseJSON","swalOptions","reportMatchUpdateStats","addOwnGoalEvent","modalSelector","vsMatch","removeOwnGoalEvent","rsvpDataElement","retryCount","operationId","currentOperationId","substr","availability","operation_id","pow","lastSelected","parts","radioButton","setInitialRSVPs","subPlayerSelect","matchType","matchIdValue","substitutes","has_responses","Option","response_status","assignModal","loadAvailableSubs","requestSubModal","teamSelect","matchInfoText","matchParts","homeOption","awayOption","userRoles","subTeamSelect","newOption","matchIdInput","tempDiv","teamOptions","fixTeamOptions","syncDiscordButton","closeButton","newestOnTop","timeOut","tooltipElements","tableOptions","searchPlaceholder","tables","api","adjust","bindTabHandlers","DiscordMembershipChecker$1","discordInviteUrl","checkOnLoad","handleMembershipStatus","discordError","showDiscordJoinPrompt","in_server","updateDiscordElements","showSuccessMessage","lastPromptShown","isUrgent","handleDiscordJoin","showReminderMessage","isInServer","footer","setSuccessState","setWarningState","discordStyles","toggleSelectAll","selectAll","autoRefreshInterval","redisUpdateStats","healthIndicator","health","overall","healthText","decoded_client","raw_client","pool_stats","max_connections","utilization_percent","created_connections","available_connections","in_use_connections","server_metrics","connected_clients","used_memory_human","total_commands_processed","instantaneous_ops_per_sec","testConnection","testButton","resultsDiv","testName","tests","badgeClass","cleanupConnections","cleanupButton","discordChecker","CSS_CLASSES","ModalHelpers","initMobileViewportFix","registerModalEventHandlers","ensureModalInitialized","loadModalsIfNotFound","cleanupModalBackdrop","disableIOSScrolling","scrollPosition","enableIOSScrolling","updateMobileViewportHeight","_viewportFixSetup","applyButtonTransformFix","transformFixed","adminSetVerificationCode","phoneInput","verificationCodeInput","smsToggle","smsConsent","smsOptInSection","toggleSmsConsent","smsVerificationSection","toggleSmsVerification","addTableLabels","labeled","spinner","updateButtonIcon","assignments","formattedDate","match_date","renderAssignments","handleLoadAssignments","handleAssignSub","assignmentId","subsPageData","URLSearchParams","handleRemoveAssignment","upcomingMatches","home_team_id","away_team_id","handleMatchSelection","handleAssignSubFormSubmit","pageLoader","initPageLoader","zeroRecords","columnDefs","orderable","targets","handleScheduleMatch","handleStopSession","sessionId","matchDetailData","setButtonLoading","showSuccessNotification","showErrorNotification","handleRefreshSession","handleForceSync","metaTag","cookieValue","MatchDetail","stopSession","forceSync","matchName","rsvp_data","status_breakdown","team_history","viewMatchDetails","adminPanelDeleteMatch","selectedMatches","getSelectedMatches","update_status","export","matchIds","match_ids","scheduled","postponed","bulkUpdateStatus","exportSelectedMatches","bulkActions","csv","xlsx","selectAllCheckbox","refreshButton","refreshUrl","testUrl","testCache","updatePreview","question","ManageRoles","initializeSelect2","setupRoleChangeHandler","closeOnSelect","loadRolePermissions","credentials","alertsContainer","ManageTeams","setupModalHandlers","handleOpenAddTeamModal","handleOpenEditTeamModal","handleDeleteTeam","addTeamModal","modalLeagueNameInput","modalSeasonIdInput","editTeamModal","modalTeamNameInput","modalTeamIdInput","deleteTeam","teamIdInput","initializeRedisStats","approvalModal","denialModal","playerDetailsModal","showErrorAlert","submitButton","showSuccessAlert","removeUserFromTable","userApprovalUpdateStats","rowUserId","showEmptyTableMessage","pendingCard","approvedCard","deniedCard","totalCard","numberEl","approved","denied","pendingBadge","approvalModalElement","denialModalElement","playerDetailsModalElement","initializeModals","approvalForm","denialForm","initializeFormSubmitListeners","email","pronouns","jersey_size","approval_status","is_current_player","is_sub","profileLink","subscription","setLoading","feed_url","webcal_url","webcalBtn","googleBtn","includeMatches","includeLeagueEvents","includeRefAssignments","lastAccessed","last_accessed","accessCount","access_count","renderSubscription","errorContainer","getCardHTML","isReferee","setupImageErrorHandlers","filterPlayers","availablePlayersContainer","playerCards","filteredPlayers","experience","attendance","sortPlayers","availablePlayersCount","selectedTeamId","leagueNameScript","draftEnhancedSocket","playerIdField","actionField","playerEmail","createNewBtn","requestSub","leagueType","substitutes_needed","positions_needed","endpoint","handleMatchReportSubmit","CoachDashboard","imageInput","onClickUpload","imageSmoothingQuality","toBlob","blob","reader","FileReader","readAsDataURL","onloadend","base64data","ratio","files","imgsrc","createObjectURL","imageElement","imgContainer","Cropper","viewMode","dragMode","autoCropArea","restore","guides","highlight","movable","zoomable","rotatable","scalable","cropBoxMovable","cropBoxResizable","toggleDragModeOnDblclick","checkOrientation","croppingimg","HTMLImageElement","setupLiveSearch","profileLoading","other_positions","positions_to_avoid","goal_frequency","expected_availability","draftButton","displayPlayerProfile","_draggedPlayerId","dropTarget","handleDropOnTeam","emitData","setupDraftEnhancedSocket","DraftPredictionsManager","pendingSaves","saveTimeouts","showAutoSaveStatus","submitFilterForm","handleFieldChange","handleNotesChange","showPlayerImageModal","autoSavePrediction","getPlayerCurrentValues","predicted_round","updateRowAppearance","submitPrediction","getPlayerName","roundInput","confidenceInput","notesInput","confidence_level","nameElement","savedSpan","savingSpan","requestData","draft_season_id","filterForm","tokenMeta","token","tokenInput","imgElement","fullImageUrl","fullImage","modalImg","modalName","modalLabel","alt","DraftPredictions","setPrediction","confidence","bulkSetRounds","roundMappings","draftPredictionsManager","matchState","currentTeamId","calendar","currentMatches","loadTeamMatches","upcomingOnly","matchesHtml","matchDate","match_time","isUpcoming","statusBadge","getStatusBadge","homeAwayBadge","is_home_match","opponent_name","dateString","year","timeString","hours","minutes","setHours","hour12","formatTime","field_name","createMatchCard","loadRsvpSummary","renderMatchesList","ecsFcShowAlert","summary","yes","no","maybe","no_response","responseRate","renderRsvpSummary","rsvp_summary","showCreateMatchModal","selectedDate","dateInput","toISOString","handleMatchFormSubmit","matchData","refetchEvents","ecsFcEditMatch","ecsFcDeleteMatch","sendRsvpReminder","showImportMatchesModal","handleImportFormSubmit","csvText","lines","line","startIndex","fields","parseMatchesCsv","handleRsvpUpdate","match_type","handleMatchUpdate","alertDiv","teamData","calendarEl","FullCalendar","Calendar","initialView","headerToolbar","fetchInfo","successCallback","failureCallback","startDate","endDate","eventClick","showMatchDetails","selectable","selectInfo","eventDisplay","dayMaxEvents","render","initializeCalendar","createMatchBtn","importMatchesBtn","matchForm","importForm","handleRsvpResponse","ecsFcInitializeEventHandlers","initializeEcsFcSchedule","EcsFcSchedule","deleteMatch","leagues","setupModals","handleGenerateForm","handleEditMatch","addWeekModal","populateTeamSelects","totalWeeks","matchesPerWeek","funWeek","tstWeek","startTimeStr","detailedForm","generateDetailedInputForm","formHTML","week","generateMatchInput","teamsOptions","teamA","teamB","loadMatchData","formattedTime","convertTo24Hour","populateTeamSelectsWithSelection","period","selectIds","selectId","selectedTeam","enable2FABtn","verify2FAForm","disable2FAForm","qr_code","secret","setViewportHeight","initializeSwipeNavigation","tabContentId","tabPanes","tabContainer","handleSwipe","initializeTabAutoScroll","tabRect","containerRect","initializeDiscordMembershipCheck","rsvpData","playerDiscordId","discordInServer","discordLastChecked","inServerStatus","lastChecked","triggerMembershipCheck","lastCheckDate","showDiscordMembershipPrompt","authUrl","discordAuthUrl","showEvent","hideEvent","HomePage","timerInterval","activeReporters","playerShifts","isTimerRunning","joinMatch","updateScore","homeScore","awayScore","home_score","away_score","updateTimer","elapsedSeconds","isRunning","elapsed_seconds","is_running","toggleTimer","shouldRun","updateTimerDisplay","updateScoreUI","updateTimerUI","seconds","updateEventsUI","$eventsList","eventText","event_type","eventClass","updateMatchStatusUI","updateReportersUI","reporters","$reportersList","reporter","timeSince","lastActive","diffMs","diffSec","timeSinceLastActive","last_active","updateShiftsUI","shifts","$shiftsContainer","activeShifts","is_active","inactiveShifts","$activeList","$inactiveList","updatePlayerDropdown","$playerSelect","disableReportingControls","liveReportingShowNotification","$notifications","$notification","lastUpdatedEl","statuses","status_color","status_icon","status_display","loadMatchTaskDetails","updateMatchRow","showTaskError","thread","createTaskCard","createNoTaskCard","reporting","updateMatchTaskDetails","RETRY","RUNNING","FINISHED","MISSING","Completed","Scheduled","Active","Issue","getStatusIcon","typeName","typeIcon","displayMessage","isFallback","countdown","ttl","formatDuration","eta","etaTime","statusDisplay","fallbackIndicator","taskDataJson","taskName","historicalSection","formatScheduledTimes","isoTime","formatScheduledTime","filterMatchStats","selectedMatchId","updateMergePreview","updatesList","updates","LiveReporting","socketUrl","timer_running","report_submitted","updateMatchUI","updated_by_name","eventMessage","existingShiftIndex","last_updated","report_submitted_by","submitted_by","submitted_by_name","newScore","newPeriod","eventTeamId","eventPlayerId","eventMinute","eventData","togglePlayerShift","report_data","submitFinalReport","leave","initializeCSRFToken","historicalToggle","historicalToggleIcon","matchStatsEditMatch","removeMatchStat","competitionMappings","MLS","Concacaf","inverseCompetitionMappings","handleMatchActions","flatpickr","enableTime","dateFormat","time_24hr","updateAllMatchStatuses","dateCell","competitionCell","actionsCell","selectHtml","friendlyName","actualValue","removeMatch","clearUrl","startButton","updateMatchStatus","startLiveReporting","stopButton","stopLiveReporting","dateValue","competitionValue","competition","newFormattedDate","dateObj","formatDate","newCompetitionText","resetActionButtons","saveMatch","cancelEdit","nextOrSaveButton","previousButton","carouselControls","progressIndicator","SimpleCropperInstance","initializeSimpleCropper","loadImageIntoCropper","updateNavButtons","stepAttr","stepDisplay","phoneNumberInput","smsConsentInput","showVerificationDialog","showDiscordLinkDialog","discordUrl","initEditModeToggles","editBtn","editing","profileSection","enterEditMode","cancelBtn","exitEditMode","initProfileImageActions","imageAction","fileInput","removeUrl","performImageRemove","handleImageRemove","fileInputChange","initMatchStatActions","eventLabel","currentMinute","saveStatMinute","newMinute","openEditStatModal","performRemoveStat","confirmRemoveStat","tooltipList","verifyData","verified","initProfileVerification","discordData","isLinked","linked","initDiscordPrompt","filterSelect","selectedSeason","itemSeason","matchSeason","initMatchFilter","contactModal","messageField","submitUrl","initContactModal","flashContainer","flashMessages","initFlashMessages","initTabSync","PlayerProfile","submitDeleteForm","handleClearSearch","focusCancel","handleDeletePlayer","syncForm","allowEscapeKey","progressInterval","checkProgress","messageDiv","checkCompletion","statusData","newPlayers","new_players","potentialInactive","potential_inactive","processNew","processInactive","process_new","process_inactive","confirmSync","showSyncResults","startSyncProcess","initializeSyncHandler","PlayoffBracket","autoRefreshEnabled","autoRefreshDelay","groupA","standings","groupB","placementMatches","initialize","fetchBracketData","renderBracket","handleMatchReport","updateStatusBadge","renderGroup","renderPlacementFinals","not_started","group_stage","week2_morning","placement_finals","groupName","groupData","matchesContainer","standingsContainer","matchesByRound","groupMatchesByRound","roundDiv","roundLabel","getRoundLabel","tableContainer","standing","createStandingRow","sampleMatch","roundNum","grouped","playoff_round","isReported","homeWinner","awayWinner","teamsHTML","infoHTML","buttonHTML","points","goal_difference","goals_for","renderTBDPlacementMatch","renderPlacementMatch","matchup","matchCard","existingModal","stopAutoRefresh","updateCountdowns","newHours","formatCountdown","formChanged","formSubmitting","markFormChanged","markFormSaved","selects","initSelect2","forms","initFormChangeTracking","autoSubmitForms","autoSubmitDelay","initAutoSubmitForms","initFormValidation","phoneInputs","initPhoneFormatting","textareas","counterId","initCharacterCounters","resetBtn","formId","ProfileForm","doneBtn","getPlayerId","initDoneButton","celebrationEl","playSound","audioContext","AudioContext","webkitAudioContext","oscillator","createOscillator","gainNode","createGain","destination","frequency","gain","setValueAtTime","currentTime","exponentialRampToValueAtTime","playSuccessSound","initCelebration","editMatchModal","isAddOperation","currentMatchId","evt","setupSingleWeekModal","setupEditButtons","setupDeleteButtons","setupAddMatchButtons","addSingleWeekTimeSlot","addTimeSlotBtn","singleWeekForm","handleSingleWeekSubmit","leagueTeams","optionsHtml","resp","openAddMatchModal","team_a_id","teamAId","team_b_id","teamBId","openEditMatchModal","toISODate","toISOTime","hh","mm","ampm","overdueElement","originalTitle","updatePageTitle","setupAutoRefresh","SettingsTabs","CONTAINER","TRIGGER","PANE","handleHash","accountInfoForm","passwordChangeForm","notificationForm","unlinkDiscordForm","smsOptOutBtn","smsOptInForm","smsVerificationForm","resendCodeBtn","smsConsentStep","smsVerificationStep","smsConfirmationStep","phoneNumber","consentGiven","phone_number","consent_given","verificationCode","confirmation_code","SimpleCropper","canvasId","ctx","lastX","lastY","defaultBg","defaultBorder","cropSize","handleMouseDown","handleMouseMove","handleMouseUp","handleWheel","handleTouchStart","handleTouchMove","handleTouchEnd","drawBackground","fillStyle","fillRect","font","textAlign","fillText","loadImage","resetTransform","scaleX","scaleY","clearRect","drawImage","drawCropOverlay","globalCompositeOperation","beginPath","arc","strokeStyle","lineWidth","stroke","currentX","delta","newScale","mouseX","mouseY","getCroppedImageData","format","quality","cropCanvas","cropCtx","outputSize","centerX","centerY","radius","subPoolShowAlert","initializeSearch","leagueFilter","league_type","resultsContainer","can_add_to","displaySearchResults","getTimeSince","diffMins","diffHours","diffDays","formatDateTime","subRequestShowNotification","loadRecentActivity","displayRecentActivity","activities","performed_at","performer_name","loadSubstituteRequests","requests","displaySubstituteRequests","request","assignedCount","assigned_count","substitutesNeeded","assignments_remaining","timeSinceCreated","canResend","canCancel","canDelete","response_rate","available_responses","resendSubstituteRequest","requestId","createdAt","created","confirmMessage","performResendRequest","errorResponse","requires_confirmation","resendSubstituteRequestForce","loadMatchSubstituteRequests","displayMatchSubstituteRequests","performMatchResendRequest","performDeleteRequest","viewRequestDetails","available","responses","is_available","unavailable","noResponse","total_responses","responsesHtml","canAssign","responded_at","response_method","player_phone","assignmentsHtml","assignment","position_assigned","assigned_at","modalHtml","gender_preference","displayRequestDetailsModal","assignSubstitute","switchToCropMode","profilePreview","uploadInstructions","cropperInterface","cropperControls","resetImageSelection","switchToUploadMode","getCroppedImage","cropAndSaveProfileImage","croppedData","hiddenInput","csrfTokenInput","uploadUrl","profilePic","targetStatus","targetLeague","sms_notifications","discord_notifications","email_notifications","cancelSubstituteRequest","resendMatchSubstituteRequest","cancelMatchSubstituteRequest","deleteSubstituteRequest","pendingCount","pendingCards","playerIds","bulkApproveAllPending","activeCount","maxMatches","autoApproval","defaultMaxMatches","inputLabel","imagePositionData","xPos","yPos","originalImage","imageWidth","imageHeight","dragStartX","dragStartY","startXPos","startYPos","startDrag","drag","xPercent","yPercent","xPosSlider","yPosSlider","dragHint","endDrag","previewWrapper","zoomValue","bgSize","backgroundImage","backgroundSize","backgroundPosition","resetImagePosition","zoomSlider","assignDiscordRolesToTeam","processed_count","refreshDiscordStatusForTeam","updateScheduleControlsState","weeks","expandBtn","collapseBtn","allClosed","allOpen","targetName","handleTriggerFileInput","handleTriggerBackgroundInput","slider","handleAdjustZoom","res","getTeamIdFromUrl","positionData","uploadBtn","originalHTML","uploadCroppedImage","handleAssignDiscordRoles","handleRefreshDiscordStatus","badgeElement","status_change","refreshSinglePlayerDiscordStatus","handleRefreshPlayerDiscord","backgroundInput","firstInteraction","hideDragHint","initializeImagePositioning","loadImageForCropping","setupFileInputHandlers","backgroundUrl","today","closestUpcoming","closestDate","lastWeek","lastDate","dateStr","weekDate","weekToOpen","initializeScheduleAccordion","TeamsOverview","restoreActiveTab","setupTabPersistence","optimizeForMobile","activeTabId","verifyMergeData","hasToken","resendBtn","oldEmail","resendUrl","old_email","merge_data","mergeData","ViewStandings","initializeBootstrapComponents","popoverTriggerEl","tabElement","isEditing","breakdown","specialWeeksCount","getEnabledSpecialWeeksCount","premierRegular","classicRegular","premierRegularInput","classicRegularInput","initAutoScheduleWizard","fieldItems","updateWizardFieldRemoveButtons","weekCount","premierWeeks","classicWeeks","updateWizardPracticeWeekOptions","joinButton","toggleEdit","profileData","verifyProfile","settingKey","isEnabled","statusLabel","iconElement","new_value","handleToggleChange","titleInput","prioritySelect","typeSelect","previewBody","previewPriority","maxChars","announcementId","addSpinnerCSS","MobileDraft","selectedPlayer","setupTapToSelect","showQuickDraftPanel","viewBtn","showPlayerInfo","existing","quickDraft","draftBtn","showTeamSelector","selectBtn","optimizePitchView","pitch","marker","transformOrigin","setupTeamSwipe","teamsContainer","optimizeRemoveButtons","originalOnclick","optimizeFilters","filterContainer","addMobileDraftStyles","shouldUpdate","windowHeight","toggleRect","availableSpace","paginationContainers","pagination","pageItems","activePage","activePageNum","allPageItems","lastItem","pageNum","ellipsisBefore","ellipsisAfter","previewTemplate","variables_used","copyTemplate","message_content","messageContent","sampleData","league_display_name","league_welcome_message","league_contact_info","match_location","regex","MessagesInboxConfig","API_BASE","apiBase","CURRENT_USER_ID","SETTINGS","activeUserId","isLoadingMessages","inbox","loadingState","sidebarFooter","welcomeState","chatOnlineText","chatProfileLink","messagesLoading","typingName","messageInput","sendButton","userSearchInput","userResultsList","markAllReadBtn","markAllAsRead","closeChat","handleInputChange","handleConversationSearch","handleUserSearch","initialUser","handleTypingStart","handleTypingStop","handleMessageRead","filteredList","previewClass","createConversationElement","updateChatHeader","showChatView","msgDate","toDateString","separator","yesterday","setDate","createDateSeparator","createMessageElement","updateConversationUnread","profile_url","readIcon","read_receipts","max_message_length","typing_indicators","updateConversationPreview","markMessageAsRead","incrementConversationUnread","timeEl","updateGlobalBadge","sentByMe","passTypeCode","hasUnsavedChanges","previewData","currentPlatform","assets","loadPreviewData","loadAssets","initColorPickers","markSaved","updateAssetPreviews","asset","updateLivePreviewAssets","previewLogo","previewStrip","logo","stripImg","primaryOverlay","strip","googleLogo","googleLogoUrl","applePreview","googlePreview","passStyle","descEl","stripWrapper","thumbnailWrapper","updatePreviewForPassStyle","appleCard","stripArea","thumbnail","primarySection","notch","AssetCropper","existingUrl","onAssetUploaded","assetData","onAssetDeleted","previewCard","previewArea","heroUrl","logoUrl","heroPreview","logoPreview","pass_type","background_color","foreground_color","label_color","logoText","logo_text","googleContent","updatePreviewFields","frontFields","fieldsByLocation","field_location","is_visible","auxiliary","labelColor","resolveValue","value_template","default_value","updateApplePreviewFields","updateGooglePreviewFields","headerRow","headerFieldsContainer","labelEl","secondaryContainer","allSecondary","primarySec","primaryValue","infoRows","primaryEl","bgColor","fgColor","lblColor","logoEl","suppressBarcode","appleBarcodeArea","googleBarcodeArea","showLogo","google_hero_image_url","google_logo_url","suppress_barcode","show_logo","passStyleRadio","apple_pass_style","fieldId","variableText","initScript","minScale","maxScale","currentAssetType","targetWidth","targetHeight","DIMENSIONS","icon2x","logo2x","strip2x","thumbnail2x","background2x","assetExists","existingAssetUrl","dims","initCanvas","fitImageToCanvas","drawCheckerboard","strokeRect","checkerLight","checkerDark","zoomIn","zoomOut","resetPosition","changeImage","outputCanvas","outputCtx","srcX","displayX","displayToImageX","srcY","displayY","displayToImageY","srcW","srcH","saveAndUpload","asset_type","cropped_image","deleteAsset","responseData","SecurityDashboard","countdownInterval","startCountdowns","all","lastUpdated","renderSecurityEvents","renderSecurityEventsError","renderSecurityLogs","renderSecurityLogsError","monitoredIps","attack_protection","total_monitored_ips","blacklistedIps","total_blacklisted_ips","attackAttempts","total_attack_attempts","eventsHTML","severityClass","getSeverityClass","severity","getEventIcon","formatEventTitle","shouldShowBanButton","logsHTML","levelClass","getLogLevelClass","levelIcon","getLogLevelIcon","timeFormatted","ip_address","ipContainer","ipAddress","confirmBanBtn","duration_hours","clearAllBansBtn","isMergeableObject","getOwnPropertySymbols","propertyIsEnumerable","Bb","arrayMerge","Db","cloneUnlessOtherwiseSpecified","customMerge","Cb","Ib","va","Lb","floating","getClippingRect","isElement","getDocumentElement","getOffsetParent","getScale","convertOffsetParentRelativeRectToViewportRelativeRect","containerType","backdropFilter","Aa","Mb","frameElement","paddingTop","Nb","Pb","ancestorScroll","ancestorResize","elementResize","ResizeObserver","layoutShift","animationFrame","intersectionRatio","Ob","cancelAnimationFrame","Qb","_getResolvedAttachToOptions","middleware","Vb","Wb","limiter","Xb","crossAxis","Yb","floatingUIOptions","Rb","shepherdElementComponent","Tb","middlewareData","popperPlacement","Ub","Sb","Zb","createElementNS","Ca","getOwnPropertyDescriptors","$b","$$","fragment","before_update","dirty","after_update","on_mount","on_destroy","ac","not_equal","bound","on_disconnect","callbacks","skip_bound","bc","hydrate","intro","customElement","cc","dc","$$set","tour","classes","ec","$set","fc","gc","hc","ic","jc","kc","labelId","lc","mc","nc","oc","pc","qc","descriptionId","ub","rc","vb","sc","wb","tc","uc","vc","xb","wc","xc","tabindex","$$scope","yb","yc","classPrefix","dataStepId","exitOnEsc","keyboardNavigation","Bc","zb","Cc","Dc","modalOverlayOpeningPadding","modalOverlayOpeningRadius","openingProperties","topLeft","topRight","bottomRight","bottomLeft","Ac","$$typeof","Ec","bindings","Fc","Gc","getDimensions","initialPlacement","fallbackStrategy","fallbackAxisSideDirection","flipAlignment","isRTL","Hb","Jb","Kb","overflows","Gb","Ic","getElementRects","Hc","$destroy","$on","Jc","_resolvedAttachTo","_setOptions","_updateStepTargetOnHide","getTour","_resolveAttachToOptions","beforeShowPromise","_show","updateStepOptions","getTarget","_createTooltipContent","stepsContainer","_scrollTo","scrollToHandler","_getClassOptions","_setupElements","advanceOn","Eb","Fb","_setupModal","setupForStep","_styleTargetElementForStep","highlightClass","canClickTarget","Kc","closeModalOpening","positionModal","Ab","Step","addSteps","_setTourID","confirmCancel","confirmCancelMessage","_done","activeTour","removeStep","_updateStateBeforeShow","showOn","_skipStep","previous","focusedElBeforeOpen","_setupActiveTour","zc","modalContainer","tourName","isHorizontalLayout","templateCustomizer","defaultShowDropdownOnHover","enableMenuLocalStorage","layoutCollapsedCustomizerOptions","layoutCollapsedVal","menuInnerContainer","menuInnerShadow","styleSwitcher","activeStyle","storedStyle","defaultStyle","currentStyle","setStyle","styleSwitcherIcon","imageEl","setImage","i18next","i18NextHttpBackend","use","lng","fallbackLng","backend","loadPath","returnObjects","localize","languageDropdown","directionChange","textDirection","setRtl","dropdownItems","currentLanguage","sibling","siblingEle","changeLanguage","setLang","i18nList","currentLanguageEle","i18n","notificationMarkAsReadAll","notificationMarkAsReadList","accordionActiveFunction","accordionTriggerEl","TemplateCustomizer","defaultMenuCollapsed","searchToggler","searchInputWrapper","contentBackdrop","slashKey","twitterTypeahead","filterConfig","searchJson","psSearch","searchData","$this","typeahead","hint","classNames","suggestion","limit","pages","templates","notFound","subtitle","members"],"mappings":"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"}