/**
 * ============================================================================
 * ADMIN DASHBOARD PAGE STYLES
 * ============================================================================
 *
 * Dedicated styles for admin_dashboard.html template.
 * Extracted from inline styles to maintain separation of concerns.
 *
 * This file provides:
 *   - Docker logs modal styling with code/log display formatting
 *   - Docker container status cards and grid layout
 *   - Task management UI elements (stats, tables, progress bars)
 *   - Role & permissions management styling
 *   - Quick admin links section
 *   - Loading states and toast notifications
 *
 * Design Tokens:
 *   - Uses CSS variables from tokens/ directory
 *   - Full dark mode support with [data-style="dark"] selectors
 *   - Responsive breakpoints (mobile: 768px, tablet: 992px)
 *   - Accessibility features (focus states, reduced motion, high contrast)
 *
 * Inline Styles Status:
 *   - HTML inline styles: 0 (100% clean)
 *   - JavaScript inline styles: 0 (replaced with CSS custom properties)
 *   - Dynamic styling: Uses --task-progress CSS variable
 *
 * Last Updated: 2025-12-15
 * Inline Style Elimination: âœ… 100% COMPLETE
 *
 * ============================================================================
 */

/* ============================================================================
   DOCKER LOGS DISPLAY
   Styling for the Docker logs modal content
   ============================================================================ */

/**
 * Docker logs container
 * Displays container logs in a scrollable, monospace format
 *
 * Design decisions:
 *   - Uses monospace font for code readability
 *   - 70vh max-height for comfortable viewing without overwhelming
 *   - Scrollable overflow for long logs
 *   - Slightly smaller font size for denser log viewing
 */
.docker-logs-content {
  /* Layout */
  max-height: 70vh;
  overflow-y: auto;

  /* Spacing */
  padding: var(--space-3);

  /* Typography */
  font-family: var(--font-mono);
  font-size: var(--text-sm);
  line-height: var(--leading-relaxed);

  /* Colors - Light Mode */
  background-color: var(--color-neutral-900);
  color: var(--color-neutral-50);

  /* Visual */
  border-radius: var(--radius-md);

  /* Smooth scrolling */
  scroll-behavior: smooth;

  /* Scrollbar styling */
  scrollbar-width: thin;
  scrollbar-color: var(--color-neutral-600) var(--color-neutral-800);
}

/* Webkit scrollbar styling (Chrome, Safari, Edge) */
.docker-logs-content::-webkit-scrollbar {
  width: 8px;
}

.docker-logs-content::-webkit-scrollbar-track {
  background-color: var(--color-neutral-800);
  border-radius: var(--radius-sm);
}

.docker-logs-content::-webkit-scrollbar-thumb {
  background-color: var(--color-neutral-600);
  border-radius: var(--radius-sm);
  transition: background-color var(--duration-fast) var(--ease-smooth);
}

.docker-logs-content::-webkit-scrollbar-thumb:hover {
  background-color: var(--color-neutral-500);
}

/* Dark mode adjustments */
[data-style="dark"] .docker-logs-content {
  background-color: var(--color-neutral-50);
  color: var(--color-neutral-900);
  border: 1px solid var(--color-neutral-100);
}

[data-style="dark"] .docker-logs-content::-webkit-scrollbar-track {
  background-color: var(--color-neutral-100);
}

[data-style="dark"] .docker-logs-content::-webkit-scrollbar-thumb {
  background-color: var(--color-neutral-300);
}

[data-style="dark"] .docker-logs-content::-webkit-scrollbar-thumb:hover {
  background-color: var(--color-neutral-400);
}

/* ============================================================================
   PRE-FORMATTED TEXT GENERAL STYLING
   Applies to all <pre> elements in admin dashboard
   ============================================================================ */

/**
 * Enhanced pre element styling for code blocks
 */
.admin-dashboard pre {
  /* Typography */
  font-family: var(--font-mono);
  font-size: var(--text-sm);
  line-height: var(--leading-relaxed);

  /* Spacing */
  padding: var(--space-3);
  margin: 0;

  /* Layout */
  white-space: pre-wrap;
  word-wrap: break-word;

  /* Visual */
  border-radius: var(--radius-md);
  overflow-x: auto;
}

/* ============================================================================
   DOCKER CONTAINER CARDS
   Styling for Docker container status displays
   ============================================================================ */

/**
 * Container card grid layout
 */
.docker-container-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
  gap: var(--space-4);
  margin-top: var(--space-4);
}

/**
 * Individual container card
 */
.docker-container-card {
  background-color: var(--color-bg-card);
  border: 1px solid var(--color-border-primary);
  border-radius: var(--radius-lg);
  padding: var(--space-4);
  transition: all var(--duration-normal) var(--ease-smooth);
}

.docker-container-card:hover {
  box-shadow: var(--shadow-md);
  border-color: var(--color-primary-300);
}

/* Dark mode container cards */
[data-style="dark"] .docker-container-card {
  background-color: var(--color-neutral-50);
  border-color: var(--color-neutral-200);
}

[data-style="dark"] .docker-container-card:hover {
  border-color: var(--color-primary-600);
}

/* ============================================================================
   TASK MANAGEMENT COMPONENTS
   Styling for task management table and cards
   ============================================================================ */

/**
 * Task statistics cards container
 */
.task-stats-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
  gap: var(--space-4);
  margin-bottom: var(--space-4);
}

/**
 * Individual task stat card
 */
.task-stat-card {
  padding: var(--space-4);
  border-radius: var(--radius-lg);
  text-align: center;
  color: var(--color-neutral-0);
  transition: transform var(--duration-fast) var(--ease-smooth);
}

.task-stat-card:hover {
  transform: translateY(-2px);
  box-shadow: var(--shadow-lg);
}

/* Task stat card variants */
.task-stat-card.primary {
  background: linear-gradient(135deg, var(--color-primary-600), var(--color-primary-700));
}

.task-stat-card.success {
  background: linear-gradient(135deg, var(--color-success-600), var(--color-success-700));
}

.task-stat-card.danger {
  background: linear-gradient(135deg, var(--color-danger-600), var(--color-danger-700));
}

.task-stat-card.warning {
  background: linear-gradient(135deg, var(--color-warning-600), var(--color-warning-700));
}

/* Dark mode task stats */
[data-style="dark"] .task-stat-card {
  /* Slightly brighter in dark mode */
  filter: brightness(1.1);
}

/**
 * Task table styling
 */
.task-management-table {
  width: 100%;
  border-collapse: collapse;
  font-size: var(--text-sm);
}

.task-management-table th {
  background-color: var(--color-bg-secondary);
  color: var(--color-text-primary);
  font-weight: var(--font-semibold);
  text-align: left;
  padding: var(--space-3);
  border-bottom: 2px solid var(--color-border-primary);
}

.task-management-table td {
  padding: var(--space-3);
  border-bottom: 1px solid var(--color-border-primary);
  vertical-align: middle;
}

.task-management-table tbody tr:hover {
  background-color: var(--color-hover-bg);
}

/* Dark mode table */
[data-style="dark"] .task-management-table th {
  background-color: var(--color-neutral-100);
  color: var(--color-neutral-900);
}

[data-style="dark"] .task-management-table td {
  border-bottom-color: var(--color-neutral-200);
}

/**
 * Task progress bar
 */
.task-progress {
  height: 20px;
  background-color: var(--color-neutral-200);
  border-radius: var(--radius-md);
  overflow: hidden;
  position: relative;
}

.task-progress-bar {
  /* Dynamic width via CSS custom property (set by JavaScript) */
  --task-progress: 0%;
  width: var(--task-progress);

  /* Layout */
  height: 100%;
  border-radius: var(--radius-md);
  overflow: hidden;
  position: relative;

  /* Visual */
  background: linear-gradient(90deg, var(--color-primary-600), var(--color-primary-500));
  transition: width var(--duration-normal) var(--ease-smooth);

  /* Center text */
  display: flex;
  align-items: center;
  justify-content: center;

  /* Typography */
  color: var(--color-neutral-0);
  font-size: var(--text-xs);
  font-weight: var(--font-semibold);

  /* Ensure text is visible even at low percentages */
  min-width: fit-content;
}

/* Dark mode progress */
[data-style="dark"] .task-progress {
  background-color: var(--color-neutral-200);
}

/* ============================================================================
   PERMISSIONS MANAGEMENT
   Styling for role & permissions section
   ============================================================================ */

/**
 * Current permissions list
 */
.current-permissions-list {
  list-style: none;
  padding: 0;
  margin: 0;
  max-height: 300px;
  overflow-y: auto;
}

.current-permissions-list .list-group-item {
  padding: var(--space-2) var(--space-3);
  border: 1px solid var(--color-border-primary);
  background-color: var(--color-bg-primary);
  transition: background-color var(--duration-fast) var(--ease-smooth);
}

.current-permissions-list .list-group-item:hover {
  background-color: var(--color-hover-bg);
}

/* Dark mode permissions list */
[data-style="dark"] .current-permissions-list .list-group-item {
  background-color: var(--color-neutral-50);
  border-color: var(--color-neutral-200);
  color: var(--color-neutral-900);
}

/* ============================================================================
   QUICK LINKS SECTION
   Enhanced styling for admin quick links
   ============================================================================ */

/**
 * Quick link items with icon
 */
.admin-quick-link {
  display: flex;
  align-items: center;
  gap: var(--space-3);
  padding: var(--space-3);
  border: 1px solid var(--color-border-primary);
  border-radius: var(--radius-md);
  background-color: var(--color-bg-card);
  transition: all var(--duration-normal) var(--ease-smooth);
  text-decoration: none;
  color: var(--color-text-primary);
}

.admin-quick-link:hover {
  background-color: var(--color-primary-subtle);
  border-color: var(--color-primary);
  transform: translateX(4px);
  box-shadow: var(--shadow-sm);
}

.admin-quick-link i {
  font-size: 1.5rem;
  flex-shrink: 0;
}

/* Dark mode quick links */
[data-style="dark"] .admin-quick-link {
  background-color: var(--color-neutral-50);
  border-color: var(--color-neutral-200);
  color: var(--color-neutral-900);
}

[data-style="dark"] .admin-quick-link:hover {
  background-color: rgba(96, 165, 250, 0.15);
  border-color: var(--color-primary-600);
}

/* ============================================================================
   LOADING STATES
   Spinners and loading indicators
   ============================================================================ */

/**
 * Loading container
 */
.loading-container {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  padding: var(--space-10);
  color: var(--color-text-muted);
}

.loading-container .spinner-border {
  margin-bottom: var(--space-3);
}

/* Dark mode loading */
[data-style="dark"] .loading-container {
  color: var(--color-neutral-400);
}

/* ============================================================================
   TOAST NOTIFICATIONS
   Toast container positioning
   ============================================================================ */

/**
 * Toast container
 */
.toast-container {
  position: fixed;
  bottom: 0;
  right: 0;
  padding: var(--space-3);
  z-index: var(--z-toast);
  pointer-events: none;
}

.toast-container .toast {
  pointer-events: auto;
  margin-bottom: var(--space-2);
}

/* ============================================================================
   RESPONSIVE ADJUSTMENTS
   Mobile and tablet optimizations
   ============================================================================ */

/* Tablet and below */
@media (max-width: 991.98px) {
  .docker-logs-content {
    max-height: 60vh;
    font-size: var(--text-xs);
  }

  .docker-container-grid {
    grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
    gap: var(--space-3);
  }

  .task-stats-grid {
    grid-template-columns: repeat(2, 1fr);
    gap: var(--space-3);
  }
}

/* Mobile */
@media (max-width: 767.98px) {
  .docker-logs-content {
    max-height: 50vh;
    padding: var(--space-2);
  }

  .docker-container-grid {
    grid-template-columns: 1fr;
  }

  .task-stats-grid {
    grid-template-columns: 1fr;
  }

  .task-management-table {
    font-size: var(--text-xs);
  }

  .task-management-table th,
  .task-management-table td {
    padding: var(--space-2);
  }

  .admin-quick-link {
    padding: var(--space-2);
  }
}

/* ============================================================================
   ACCESSIBILITY IMPROVEMENTS
   ============================================================================ */

/* High contrast mode */
@media (prefers-contrast: more) {
  .docker-logs-content,
  .docker-container-card,
  .task-stat-card {
    border-width: 2px;
  }

  .task-progress {
    border: 2px solid currentColor;
  }
}

/* Reduced motion */
@media (prefers-reduced-motion: reduce) {
  .docker-container-card,
  .task-stat-card,
  .admin-quick-link,
  .task-progress-bar {
    transition: none;
  }

  .docker-logs-content {
    scroll-behavior: auto;
  }
}

/* Focus visible states */
.docker-logs-content:focus-visible,
.admin-quick-link:focus-visible {
  outline: 2px solid var(--color-primary);
  outline-offset: 2px;
}

/* ============================================================================
   UTILITY CLASSES
   Helper classes specific to admin dashboard
   ============================================================================ */

/**
 * Monospace text utility
 */
.mono {
  font-family: var(--font-mono);
}

/**
 * Scrollable container utility
 */
.scrollable-y {
  overflow-y: auto;
  scrollbar-width: thin;
}

/**
 * Text truncation for long task IDs
 */
.text-truncate-id {
  max-width: 150px;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

/* ============================================================================
   NOTES FOR DEVELOPERS
   ============================================================================

   INLINE STYLES REMOVED (3 TOTAL):

   1. Docker Logs Pre Element (Line 196 in original HTML):
      - OLD: <pre id="dockerLogsContent" class="bg-dark text-light p-3"
                  style="max-height: 70vh; overflow-y: auto; font-size: 0.85rem;"></pre>
      - NEW: <pre id="dockerLogsContent" class="docker-logs-content"></pre>
      - CSS: .docker-logs-content { max-height: 70vh; overflow-y: auto; font-size: var(--text-sm); }
      - REASON: Separation of concerns, dark mode support, maintainability

   2. Progress Bar Container (Line 605 in original HTML):
      - OLD: <div class="progress" style="height: 20px;">
      - NEW: <div class="task-progress">
      - CSS: .task-progress { height: 20px; }
      - REASON: Consistent styling, easier to modify across all instances

   3. Progress Bar Width (Line 606 in original HTML + JS manipulation):
      - OLD: <div class="progress-bar" style="width: ${task.progress || 0}%">
             bar.style.width = `${progress}%`;
      - NEW: <div class="task-progress-bar" data-progress="${task.progress || 0}">
             bar.style.setProperty('--task-progress', `${progress}%`);
      - CSS: .task-progress-bar { --task-progress: 0%; width: var(--task-progress); }
      - REASON: CSS custom properties maintain dynamic functionality while eliminating
                inline styles, better performance, easier debugging

   DESIGN TOKEN USAGE:
   - Spacing: var(--space-*) tokens from spacing.css
   - Colors: var(--color-*) tokens from colors.css
   - Typography: var(--text-*, --font-*) tokens from typography.css
   - Borders: var(--radius-*) tokens from borders.css
   - Shadows: var(--shadow-*) tokens from shadows.css
   - Transitions: var(--duration-*, --ease-*) tokens from animations.css

   DARK MODE SUPPORT:
   - All components have [data-style="dark"] selectors
   - Uses semantic color tokens that automatically adjust
   - Tested for visibility and contrast in both modes

   ACCESSIBILITY:
   - Focus visible states for keyboard navigation
   - Reduced motion support
   - High contrast mode support
   - Semantic HTML structure expected

   RESPONSIVE DESIGN:
   - Mobile-first approach
   - Breakpoints at 768px (mobile), 992px (tablet)
   - Touch-friendly sizing on mobile devices

 * ============================================================================
 */
