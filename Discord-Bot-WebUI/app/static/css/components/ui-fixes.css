/**
 * ============================================================================
 * UI FIXES - Comprehensive UI Bug Fixes
 * ============================================================================
 *
 * This file contains targeted fixes for common UI issues across the application.
 * Each section addresses a specific reported bug.
 *
 * ============================================================================
 */

/*
 * NOTE: .c-stats-grid and .c-stat components moved to components/c-stat.css
 */

/* ============================================================================
   1. TAB/PILL BOOTSTRAP COMPATIBILITY (renumbered)
   Bootstrap uses .active class, our BEM uses .is-active
   ============================================================================ */

/* Support Bootstrap .active class alongside .is-active */
.c-nav-modern__link.active,
.c-nav-modern__link--active {
  color: var(--color-primary, var(--color-primary-600, #2563EB));
  background: var(--color-primary-soft, rgba(37, 99, 235, 0.1));
  font-weight: var(--font-semibold, 600);
}

.c-nav-modern__link.active i,
.c-nav-modern__link--active i {
  opacity: 1;
}

/* Pills variant with Bootstrap active */
.c-nav-modern--pills .c-nav-modern__link.active,
.c-nav-modern--pills .c-nav-modern__link--active {
  color: var(--color-white, #fff);
  background: var(--color-primary, var(--color-primary-600, #2563EB));
}

/* Dark mode for Bootstrap active class */
[data-style="dark"] .c-nav-modern__link.active,
[data-style="dark"] .c-nav-modern__link--active {
  color: var(--color-primary-light, var(--color-primary-400, #60A5FA));
  background: rgba(37, 99, 235, 0.15);
}

[data-style="dark"] .c-nav-modern--pills .c-nav-modern__link.active,
[data-style="dark"] .c-nav-modern--pills .c-nav-modern__link--active {
  color: var(--color-white, #fff);
  background: var(--color-primary, var(--color-primary-600, #2563EB));
}

/* NOTE: Tab pane styles consolidated to navigation-modern.css */
/* NOTE: Nav list styles consolidated to navigation-modern.css */

/* NOTE: Dropdown positioning consolidated to navbar-modern.css */

/* ============================================================================
   4. SETTINGS PAGE FIXES
   ============================================================================ */

/* NOTE: .c-form-modern consolidated to form-modern-additions.css */

/* Ensure form is not floating */
.c-sms-consent-step__form,
[data-form="sms-opt-in"] {
  position: relative !important;
  z-index: 1;
}

/* Theme picker card separation */
.theme-selection-card {
  position: relative;
  background: var(--color-bg-card, var(--color-secondary-900, var(--color-secondary-900, var(--color-secondary-900, #1e293b))));
  transition: all var(--duration-fast, 150ms) ease;
}

.theme-selection-card:not(:last-child) {
  margin-bottom: var(--space-3, 12px);
}

/* Ensure theme cards don't overlap */
[data-action="select-theme-variant"] {
  position: relative;
  z-index: 1;
}

/*
 * NOTE: .c-stat-box and variants moved to components/c-stat.css
 * Settings-specific size overrides can use .c-stat-box--sm modifier
 */

/*
 * NOTE: .c-settings-card__title and __subtitle moved to components/settings-components.css
 */

/* ============================================================================
   5. DRAFT PLAYER CARDS - Reduce size for better density
   ============================================================================ */

/* Smaller card images for draft */
.draft-player-card-header {
  height: 120px;
  overflow: hidden;
}

.draft-player-image {
  width: 100%;
  height: 100%;
  object-fit: cover;
  object-position: top center;
}

/* Compact card body */
.draft-player-card .card-body {
  padding: var(--space-2, 8px) var(--space-3, 12px);
}

/* Smaller stats in draft cards */
.draft-stat-avg-small {
  font-size: 0.65rem;
  opacity: 0.8;
}

/* Make draft grid denser */
.draft-available-container .col-xl-3 {
  flex: 0 0 20%;
  max-width: 20%;
}

@media (max-width: 1400px) {
  .draft-available-container .col-xl-3 {
    flex: 0 0 25%;
    max-width: 25%;
  }
}

@media (max-width: 992px) {
  .draft-available-container .col-xl-3,
  .draft-available-container .col-lg-4 {
    flex: 0 0 33.333%;
    max-width: 33.333%;
  }
}

@media (max-width: 768px) {
  .draft-available-container .col-xl-3,
  .draft-available-container .col-lg-4,
  .draft-available-container .col-md-6 {
    flex: 0 0 50%;
    max-width: 50%;
  }
}

/* Experience badge smaller */
.experience-corner-tag {
  padding: var(--space-1, 4px) var(--space-2, 8px);
  font-size: var(--text-xs, 0.75rem);
}

/* ============================================================================
   6. SIDEBAR ICONS FIX
   NOTE: Moved to layout/sidebar-modern.css
   Only keeping feather-specific opacity fix here
   ============================================================================ */

.c-sidebar__icon[data-feather] {
  opacity: 0.7;
}

/* ============================================================================
   7. MATCH HISTORY COLLAPSIBLE WEEKS
   NOTE: Main styles moved to team-detail.css. Only keeping light mode overrides.
   ============================================================================ */

/* NOTE: Team card styles consolidated to card-modern-additions.css */
/* NOTE: .c-team-avatar moved to components/c-team-avatar.css */

/* ============================================================================
   9. ICON MODERN SIZING
   ============================================================================ */

.c-icon-modern {
  font-size: 1rem;
  opacity: 0.7;
}

.c-icon-modern--small {
  font-size: 0.875rem;
}

/* ============================================================================
   10. PERFECTSCROLLBAR ERROR FIX
   Prevent error when element doesn't exist
   ============================================================================ */

/* Add fallback styling for when PerfectScrollbar fails */
.ps {
  overflow: auto !important;
}

.ps:not(.ps--active-x):not(.ps--active-y) {
  overflow: auto;
}

/* ============================================================================
   11. LIGHT MODE OVERRIDES
   ============================================================================ */

/* NOTE: c-stat and c-stat-box light mode styles moved to components/c-stat.css */

[data-style="light"] .theme-selection-card {
  background: var(--color-bg-primary, #fff);
}

/* NOTE: Light mode for .c-form-modern moved to form-modern-additions.css */
