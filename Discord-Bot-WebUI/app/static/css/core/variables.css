/**
 * ============================================================================
 * ECS DESIGN SYSTEM - Main Variables File
 * ============================================================================
 *
 * This file serves as the main entry point for the ECS design system.
 * It imports all design token files and provides backward compatibility.
 *
 * Token System Structure:
 *   - colors.css       → Complete color palette (50-900 scales)
 *   - typography.css   → Font system (families, sizes, weights)
 *   - spacing.css      → Spacing scale, z-index, containers
 *   - shadows.css      → Elevation system, focus states
 *   - borders.css      → Radius, widths, colors
 *   - animations.css   → Transitions, timing, keyframes
 *
 * Usage:
 *   This file is loaded first in the CSS cascade to establish design tokens.
 *   All other CSS files should reference these tokens via CSS variables.
 *
 * Migration Notes:
 *   - Old --ecs-* variables are mapped to new tokens for compatibility
 *   - Gradually migrate to new token names (--color-*, --space-*, etc.)
 *   - Legacy support will be removed in a future major version
 *
 * ============================================================================
 */

/* ============================================================================
   IMPORT DESIGN TOKENS
   Load all token files in order
   ============================================================================ */

@import url('../tokens/colors.css');
@import url('../tokens/typography.css');
@import url('../tokens/spacing.css');
@import url('../tokens/shadows.css');
@import url('../tokens/borders.css');
@import url('../tokens/animations.css');

/* ============================================================================
   BACKWARD COMPATIBILITY LAYER
   Maps old ECS variable names to new token system
   These will be deprecated in future versions
   ============================================================================ */

:root {
  /* ========================================================================
     LEGACY COLOR MAPPINGS
     Old --ecs-* variables → New --color-* tokens
     ======================================================================== */

  /* Brand colors */
  --ecs-primary: var(--color-primary);
  --ecs-primary-rgb: var(--color-primary-rgb);
  --ecs-primary-light: var(--color-primary-400);
  --ecs-primary-dark: var(--color-primary-700);
  --ecs-primary-subtle: var(--color-primary-subtle);

  --ecs-secondary: var(--color-secondary);
  --ecs-secondary-rgb: var(--color-secondary-rgb);
  --ecs-secondary-light: var(--color-secondary-400);
  --ecs-secondary-dark: var(--color-secondary-700);
  --ecs-secondary-subtle: var(--color-secondary-subtle);

  --ecs-accent: var(--color-accent);
  --ecs-accent-rgb: var(--color-accent-rgb);
  --ecs-accent-light: var(--color-accent-400);
  --ecs-accent-dark: var(--color-accent-700);
  --ecs-accent-subtle: var(--color-accent-subtle);

  /* Semantic colors */
  --ecs-success: var(--color-success);
  --ecs-success-rgb: var(--color-success-rgb);
  --ecs-success-light: var(--color-success-400);
  --ecs-success-dark: var(--color-success-700);
  --ecs-success-subtle: var(--color-success-subtle);

  --ecs-warning: var(--color-warning);
  --ecs-warning-rgb: var(--color-warning-rgb);
  --ecs-warning-light: var(--color-warning-400);
  --ecs-warning-dark: var(--color-warning-700);
  --ecs-warning-subtle: var(--color-warning-subtle);

  --ecs-danger: var(--color-danger);
  --ecs-danger-rgb: var(--color-danger-rgb);
  --ecs-danger-light: var(--color-danger-400);
  --ecs-danger-dark: var(--color-danger-700);
  --ecs-danger-subtle: var(--color-danger-subtle);

  --ecs-info: var(--color-info);
  --ecs-info-rgb: var(--color-info-rgb);
  --ecs-info-light: var(--color-info-400);
  --ecs-info-dark: var(--color-info-700);
  --ecs-info-subtle: var(--color-info-subtle);

  /* Neutral scale (old numbering → new scale) */
  --ecs-neutral-0: var(--color-neutral-0);
  --ecs-neutral-5: var(--color-neutral-50);
  --ecs-neutral-10: var(--color-neutral-100);
  --ecs-neutral-20: var(--color-neutral-200);
  --ecs-neutral-30: var(--color-neutral-300);
  --ecs-neutral-40: var(--color-neutral-400);
  --ecs-neutral-50: var(--color-neutral-500);
  --ecs-neutral-60: var(--color-neutral-600);
  --ecs-neutral-70: var(--color-neutral-700);
  --ecs-neutral-80: var(--color-neutral-800);
  --ecs-neutral-90: var(--color-neutral-900);

  /* ========================================================================
     LEGACY TYPOGRAPHY MAPPINGS
     ======================================================================== */

  --ecs-font-display: var(--font-display);
  --ecs-font-body: var(--font-body);
  --ecs-font-mono: var(--font-mono);
  --ecs-font-classic: var(--font-classic);

  --ecs-text-xs: var(--text-xs);
  --ecs-text-sm: var(--text-sm);
  --ecs-text-base: var(--text-base);
  --ecs-text-lg: var(--text-lg);
  --ecs-text-xl: var(--text-xl);
  --ecs-text-2xl: var(--text-2xl);
  --ecs-text-3xl: var(--text-3xl);
  --ecs-text-4xl: var(--text-4xl);
  --ecs-text-5xl: var(--text-5xl);

  --ecs-leading-tight: var(--leading-tight);
  --ecs-leading-snug: var(--leading-snug);
  --ecs-leading-normal: var(--leading-normal);
  --ecs-leading-relaxed: var(--leading-relaxed);

  --ecs-weight-normal: var(--font-normal);
  --ecs-weight-medium: var(--font-medium);
  --ecs-weight-semibold: var(--font-semibold);
  --ecs-weight-bold: var(--font-bold);
  --ecs-weight-black: var(--font-black);

  /* ========================================================================
     LEGACY SPACING MAPPINGS
     ======================================================================== */

  --ecs-space-0: var(--space-0);
  --ecs-space-1: var(--space-1);
  --ecs-space-2: var(--space-2);
  --ecs-space-3: var(--space-3);
  --ecs-space-4: var(--space-4);
  --ecs-space-5: var(--space-5);
  --ecs-space-6: var(--space-6);
  --ecs-space-8: var(--space-8);
  --ecs-space-10: var(--space-10);
  --ecs-space-12: var(--space-12);
  --ecs-space-16: var(--space-16);

  /* ========================================================================
     LEGACY BORDER MAPPINGS
     ======================================================================== */

  --ecs-radius-sm: var(--radius-sm);
  --ecs-radius-md: var(--radius-md);
  --ecs-radius-lg: var(--radius-lg);
  --ecs-radius-xl: var(--radius-xl);
  --ecs-radius-2xl: var(--radius-2xl);
  --ecs-radius-full: var(--radius-full);

  --ecs-border-width: var(--border-width);
  --ecs-border-color: var(--border-color-primary);

  /* ========================================================================
     LEGACY SHADOW MAPPINGS
     ======================================================================== */

  --ecs-shadow-sm: var(--shadow-sm);
  --ecs-shadow-md: var(--shadow-md);
  --ecs-shadow-lg: var(--shadow-lg);
  --ecs-shadow-xl: var(--shadow-xl);

  /* ========================================================================
     LEGACY TRANSITION MAPPINGS
     ======================================================================== */

  --ecs-transition-fast: var(--duration-fast) var(--ease-smooth);
  --ecs-transition-normal: var(--duration-normal) var(--ease-smooth);
  --ecs-transition-slow: var(--duration-slow) var(--ease-smooth);

  /* ========================================================================
     LEGACY COMPONENT TOKEN MAPPINGS
     ======================================================================== */

  /* Backgrounds */
  --ecs-bg-body: var(--color-bg-secondary);
  --ecs-bg-card: var(--color-bg-card);
  --ecs-bg-input: var(--color-bg-primary);
  --ecs-bg-sidebar: var(--color-neutral-900);
  --ecs-bg-navbar: var(--color-bg-primary);

  /* Text */
  --ecs-text-body: var(--color-text-secondary);
  --ecs-text-heading: var(--color-text-primary);
  --ecs-text-muted: var(--color-text-muted);
  --ecs-text-inverse: var(--color-text-inverse);

  /* Forms */
  --ecs-form-bg: var(--color-bg-primary);
  --ecs-form-border: var(--border-color-input);
  --ecs-form-focus: var(--border-color-focus);
  --ecs-form-placeholder: var(--color-text-muted);

  /* ========================================================================
     BOOTSTRAP INTEGRATION
     Map ECS tokens to Bootstrap for compatibility
     ======================================================================== */

  --bs-primary: var(--color-primary);
  --bs-primary-rgb: var(--color-primary-rgb);
  --bs-secondary: var(--color-secondary);
  --bs-secondary-rgb: var(--color-secondary-rgb);
  --bs-success: var(--color-success);
  --bs-success-rgb: var(--color-success-rgb);
  --bs-warning: var(--color-warning);
  --bs-warning-rgb: var(--color-warning-rgb);
  --bs-danger: var(--color-danger);
  --bs-danger-rgb: var(--color-danger-rgb);
  --bs-info: var(--color-info);
  --bs-info-rgb: var(--color-info-rgb);
  --bs-body-bg: var(--color-bg-secondary);
  --bs-body-color: var(--color-text-secondary);
  --bs-heading-color: var(--color-text-primary);
  --bs-border-color: var(--border-color-primary);
}

/* ============================================================================
   LIGHT MODE COMPATIBILITY
   Foundation.css uses html[data-style="light"] which needs higher specificity
   ============================================================================ */

html,
html[data-style="light"] {
  /* Ensure neutral scale is correct for light mode */
  --ecs-neutral-0: var(--color-neutral-0);
  --ecs-neutral-90: var(--color-neutral-900);

  /* Re-declare semantic tokens */
  --ecs-text-heading: var(--color-text-primary);
  --ecs-text-body: var(--color-text-secondary);
  --ecs-text-muted: var(--color-text-muted);

  /* Bootstrap mappings */
  --bs-heading-color: var(--color-text-primary);
  --bs-body-color: var(--color-text-secondary);
}

/* ============================================================================
   DARK MODE COMPATIBILITY
   Ensure dark mode tokens are applied correctly
   ============================================================================ */

[data-style="dark"] {
  /* Legacy dark mode specific variables */
  --ecs-bg-dark: var(--color-bg-primary);
  --ecs-text-dark: var(--color-text-secondary);

  --ecs-dark-bg-body: var(--color-neutral-0);
  --ecs-dark-bg-card: var(--color-neutral-50);
  --ecs-dark-bg-elevated: var(--color-neutral-100);
  --ecs-dark-border: var(--color-neutral-200);
  --ecs-dark-text-primary: var(--color-neutral-900);
  --ecs-dark-text-muted: var(--color-neutral-500);

  /* Bootstrap dark mode */
  --bs-body-bg: var(--color-bg-primary);
  --bs-body-color: var(--color-text-secondary);
  --bs-heading-color: var(--color-text-primary);
  --bs-border-color: var(--border-color-primary);
}

/* ============================================================================
   MIGRATION GUIDE
   ============================================================================

   Old Variable → New Token
   ------------------------

   Colors:
   --ecs-primary         → --color-primary or --color-primary-600
   --ecs-success-light   → --color-success-400
   --ecs-neutral-20      → --color-neutral-200

   Typography:
   --ecs-text-lg         → --text-lg (same name)
   --ecs-weight-bold     → --font-bold

   Spacing:
   --ecs-space-4         → --space-4 (same name)

   Borders:
   --ecs-radius-md       → --radius-md (same name)

   Shadows:
   --ecs-shadow-lg       → --shadow-lg (same name)

   Transitions:
   --ecs-transition-normal → Use --transition-all or specific transition

   Component Tokens:
   --ecs-bg-card         → --color-bg-card
   --ecs-text-heading    → --color-text-primary
   --ecs-form-border     → --border-color-input

   ============================================================================
 */
