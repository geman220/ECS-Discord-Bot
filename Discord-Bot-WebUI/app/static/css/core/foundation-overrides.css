/**
 * Foundation Overrides
 * =====================
 * Fixes hardcoded #7367f0 (Sneat purple) in foundation.css
 *
 * LOAD ORDER: After foundation.css, before components.css
 *
 * This file exists because foundation.css is a compiled vendor bundle
 * (Bootstrap + Sneat theme) that we can't easily edit. These overrides
 * redirect hardcoded colors to use CSS variables.
 */

/* ============================================
   1. ROOT CSS VARIABLE OVERRIDES
   Map Bootstrap variables to ECS theme variables
   ============================================ */

:root {
  /* Primary color - redirect Bootstrap to ECS */
  --bs-primary: var(--ecs-primary);
  --bs-primary-rgb: var(--ecs-primary-rgb);
  --bs-purple: var(--ecs-primary);

  /* Link colors */
  --bs-link-color: var(--ecs-primary);
  --bs-link-color-rgb: var(--ecs-primary-rgb);
  --bs-link-hover-color: var(--ecs-primary-dark);

  /* Semantic colors */
  --bs-success: var(--ecs-success);
  --bs-success-rgb: var(--ecs-success-rgb);
  --bs-warning: var(--ecs-warning);
  --bs-warning-rgb: var(--ecs-warning-rgb);
  --bs-danger: var(--ecs-danger);
  --bs-danger-rgb: var(--ecs-danger-rgb);
  --bs-info: var(--ecs-info);
  --bs-info-rgb: var(--ecs-info-rgb);

  /* Secondary */
  --bs-secondary: var(--ecs-secondary);
  --bs-secondary-rgb: var(--ecs-secondary-rgb);

  /* CRITICAL: Heading and text colors - override foundation.css #444050 */
  --bs-heading-color: var(--ecs-text-heading, #18181B);
  --bs-body-color: var(--ecs-text-body, #52525B);
  --bs-card-title-color: var(--ecs-text-heading, #18181B);
  --bs-card-cap-color: var(--ecs-text-heading, #18181B);

  /* Component-specific Bootstrap variables */
  --bs-dropdown-link-active-color: var(--ecs-primary);
  --bs-nav-tabs-link-active-color: var(--ecs-primary);
  --bs-nav-tabs-link-active-border-color: var(--ecs-primary);
  --bs-pagination-active-bg: var(--ecs-primary);
  --bs-pagination-active-border-color: var(--ecs-primary);
  --bs-progress-bar-bg: var(--ecs-primary);
}

/* ============================================
   2. FORM CONTROLS
   Override hardcoded focus/checked states
   ============================================ */

/* Form input focus - foundation.css line 2534 */
.form-control:focus {
  border-color: var(--ecs-primary);
  box-shadow: 0 2px 6px 0 rgba(var(--ecs-primary-rgb), 0.3);
}

.form-select:focus {
  border-color: var(--ecs-primary);
  box-shadow: 0 2px 6px 0 rgba(var(--ecs-primary-rgb), 0.3);
}

/* Checkboxes - foundation.css lines 2767-2779 */
.form-check-input:checked {
  background-color: var(--ecs-primary);
  border-color: var(--ecs-primary);
}

.form-check-input[type=checkbox]:indeterminate {
  background-color: var(--ecs-primary);
  border-color: var(--ecs-primary);
}

.form-check-input:focus {
  border-color: var(--ecs-primary);
  box-shadow: 0 0 0 0.2rem rgba(var(--ecs-primary-rgb), 0.25);
}

/* Form switches */
.form-switch .form-check-input:checked {
  background-color: var(--ecs-primary);
  border-color: var(--ecs-primary);
}

/* ============================================
   3. RANGE SLIDERS
   Override thumb and track colors
   ============================================ */

/* Webkit (Chrome, Safari) */
.form-range::-webkit-slider-thumb {
  background-color: var(--ecs-primary);
}

.form-range::-webkit-slider-thumb:hover {
  box-shadow: 0 0 0 8px rgba(var(--ecs-primary-rgb), 0.16);
}

.form-range::-webkit-slider-thumb:active,
.form-range::-webkit-slider-thumb:focus {
  background-color: var(--ecs-primary);
  border-color: var(--ecs-primary);
  box-shadow: 0 0 0 13px rgba(var(--ecs-primary-rgb), 0.16);
}

.form-range::-webkit-slider-runnable-track {
  background-color: var(--ecs-primary);
}

/* Firefox */
.form-range::-moz-range-thumb {
  background-color: var(--ecs-primary);
}

.form-range::-moz-range-thumb:hover {
  box-shadow: 0 0 0 8px rgba(var(--ecs-primary-rgb), 0.16);
}

.form-range::-moz-range-thumb:active,
.form-range::-moz-range-thumb:focus {
  background-color: var(--ecs-primary);
  border-color: var(--ecs-primary);
  box-shadow: 0 0 0 13px rgba(var(--ecs-primary-rgb), 0.16);
}

.form-range::-moz-range-track {
  background-color: var(--ecs-primary);
}

/* ============================================
   4. BUTTONS
   Override primary button colors
   ============================================ */

.btn-primary {
  background-color: var(--ecs-primary);
  border-color: var(--ecs-primary);
}

.btn-primary:hover {
  background-color: var(--ecs-primary-dark);
  border-color: var(--ecs-primary-dark);
}

.btn-primary:focus {
  background-color: var(--ecs-primary-dark);
  border-color: var(--ecs-primary-dark);
  box-shadow: 0 0 0 0.2rem rgba(var(--ecs-primary-rgb), 0.5);
}

.btn-primary:active,
.btn-primary.active {
  background-color: var(--ecs-primary-dark);
  border-color: var(--ecs-primary-dark);
}

.btn-outline-primary {
  color: var(--ecs-primary);
  border-color: var(--ecs-primary);
}

.btn-outline-primary:hover {
  background-color: var(--ecs-primary);
  border-color: var(--ecs-primary);
  color: #fff;
}

.btn-outline-primary:focus {
  box-shadow: 0 0 0 0.2rem rgba(var(--ecs-primary-rgb), 0.5);
}

/* ============================================
   5. NAVIGATION
   Override active/hover states
   ============================================ */

/* Nav tabs - Override scoped CSS variables in foundation.css line 3726-3735 */
.nav-tabs {
  --bs-nav-tabs-link-active-color: var(--ecs-primary);
  --bs-nav-tabs-link-active-border-color: var(--ecs-primary);
}

.nav-tabs .nav-link.active {
  color: var(--ecs-primary);
  border-bottom-color: var(--ecs-primary);
}

.nav-tabs .nav-link:hover {
  color: var(--ecs-primary);
}

/* Widget nav tabs - foundation.css line 9300 */
.nav-tabs.widget-nav-tabs .nav-link.active {
  border-color: var(--ecs-primary);
}

.nav-tabs.widget-nav-tabs .nav-link.active .badge {
  background-color: rgba(var(--ecs-primary-rgb), 0.16) !important;
  color: var(--ecs-primary) !important;
}

/* Nav alignment hover states - foundation.css lines 9475, 9523, 9566, 9589 */
/* These MUST use !important to override foundation.css !important declarations */
.nav-align-top .nav-tabs .nav-link:not(.active):hover {
  color: var(--ecs-primary) !important;
  border-bottom: 2px solid rgba(var(--ecs-primary-rgb), 0.3) !important;
}

.nav-align-right .nav-tabs .nav-link:not(.active):hover {
  color: var(--ecs-primary) !important;
  border-left: 2px solid rgba(var(--ecs-primary-rgb), 0.3) !important;
}

.nav-align-bottom .nav-tabs .nav-link:not(.active):hover {
  color: var(--ecs-primary) !important;
  border-top: 2px solid rgba(var(--ecs-primary-rgb), 0.3) !important;
}

.nav-align-left .nav-tabs .nav-link:not(.active):hover {
  color: var(--ecs-primary) !important;
  border-right: 2px solid rgba(var(--ecs-primary-rgb), 0.3) !important;
}

/* Text paper hover - foundation.css line 7336 */
.text-paper[href]:hover,
.text-paper[href]:focus {
  color: var(--ecs-primary) !important;
}

/* Border primary utility - foundation.css line 13194 */
.border-primary {
  border-color: var(--ecs-primary) !important;
}

/* Nav pills - Override active and hover states */
.nav-pills .nav-link.active {
  background-color: var(--ecs-primary) !important;
  color: #fff !important;
}

/* Nav pills hover - foundation.css line 9334 */
.nav-pills .nav-item .nav-link:not(.active):hover,
.nav-pills .nav-link:not(.active):hover {
  background-color: rgba(var(--ecs-primary-rgb), 0.1) !important;
}

/* Pagination - Override scoped CSS variables in .pagination - foundation.css lines 4609-4610 */
.pagination {
  --bs-pagination-active-bg: var(--ecs-primary);
  --bs-pagination-active-border-color: var(--ecs-primary);
}

.page-item.active .page-link {
  background-color: var(--ecs-primary);
  border-color: var(--ecs-primary);
}

.page-link:hover {
  color: var(--ecs-primary);
}

.page-link:focus {
  box-shadow: 0 0 0 0.2rem rgba(var(--ecs-primary-rgb), 0.25);
}

/* ============================================
   6. DROPDOWNS
   Override active item colors
   ============================================ */

/* Override scoped CSS variables in .dropdown-menu - foundation.css lines 3300-3315 */
.dropdown-menu {
  --bs-dropdown-link-active-color: var(--ecs-primary);
  --bs-dropdown-link-active-bg: rgba(var(--ecs-primary-rgb), 0.1);
}

/* Override scoped CSS variables in .navbar-nav .dropdown-menu - foundation.css line 3577 */
.navbar-nav .dropdown-menu {
  --bs-dropdown-link-active-color: var(--ecs-primary);
  --bs-dropdown-link-active-bg: rgba(var(--ecs-primary-rgb), 0.1);
}

.dropdown-item.active,
.dropdown-item:active {
  background-color: var(--ecs-primary);
}

.dropdown-item:hover {
  color: var(--ecs-primary);
}

/* ============================================
   7. PROGRESS BARS
   ============================================ */

/* Override scoped CSS variables in .progress - foundation.css line 4823 */
.progress,
.progress-stacked {
  --bs-progress-bar-bg: var(--ecs-primary);
}

.progress-bar {
  background-color: var(--ecs-primary);
}

/* ============================================
   8. TEXT & BACKGROUND UTILITIES
   ============================================ */

.text-primary {
  color: var(--ecs-primary) !important;
}

.bg-primary {
  background-color: var(--ecs-primary) !important;
}

.border-primary {
  border-color: var(--ecs-primary) !important;
}

.link-primary {
  color: var(--ecs-primary);
}

.link-primary:hover {
  color: var(--ecs-primary-dark);
}

/* ============================================
   9. BADGES & LABELS
   ============================================ */

.badge.bg-primary {
  background-color: var(--ecs-primary) !important;
}

.bg-label-primary {
  background-color: rgba(var(--ecs-primary-rgb), 0.16) !important;
  color: var(--ecs-primary) !important;
}

/* ============================================
   10. ALERTS
   ============================================ */

.alert-primary {
  background-color: rgba(var(--ecs-primary-rgb), 0.1);
  border-color: rgba(var(--ecs-primary-rgb), 0.2);
  color: var(--ecs-primary-dark);
}

.alert-primary .alert-link {
  color: var(--ecs-primary-dark);
}

/* ============================================
   11. LIST GROUPS
   ============================================ */

/* Override scoped CSS variables in .list-group - foundation.css line 4888 */
.list-group {
  --bs-list-group-active-bg: rgba(var(--ecs-primary-rgb), 0.1);
}

.list-group-item.active {
  background-color: var(--ecs-primary);
  border-color: var(--ecs-primary);
}

.list-group-item-primary {
  background-color: rgba(var(--ecs-primary-rgb), 0.1);
  color: var(--ecs-primary-dark);
}

/* ============================================
   12. ACCORDION
   ============================================ */

.accordion-button:not(.collapsed) {
  color: var(--ecs-primary);
  background-color: rgba(var(--ecs-primary-rgb), 0.1);
}

.accordion-button:focus {
  border-color: var(--ecs-primary);
  box-shadow: 0 0 0 0.2rem rgba(var(--ecs-primary-rgb), 0.25);
}

/* ============================================
   13. SPINNERS
   ============================================ */

.spinner-border.text-primary {
  color: var(--ecs-primary) !important;
}

.spinner-grow.text-primary {
  color: var(--ecs-primary) !important;
}

/* ============================================
   14. BREADCRUMBS
   ============================================ */

.breadcrumb-item.active {
  color: var(--ecs-primary);
}

.breadcrumb-item a {
  color: var(--ecs-primary);
}

.breadcrumb-item a:hover {
  color: var(--ecs-primary-dark);
}

/* ============================================
   15. CARDS (accent borders)
   ============================================ */

.card-border-primary {
  border-color: var(--ecs-primary);
}

.card-border-shadow-primary {
  box-shadow: 0 0.25rem 1rem rgba(var(--ecs-primary-rgb), 0.2);
}

/* ============================================
   16. TABLES
   ============================================ */

/* Override table scoped variables - foundation.css line 2257 */
.table {
  --bs-table-active-bg: rgba(var(--ecs-primary-rgb), 0.08);
}

/* Override all table-primary purple-derived colors - foundation.css lines 2325-2333 */
.table-primary {
  --bs-table-bg: rgba(var(--ecs-primary-rgb), 0.1);
  --bs-table-border-color: rgba(var(--ecs-primary-rgb), 0.2);
  --bs-table-striped-bg: rgba(var(--ecs-primary-rgb), 0.15);
  --bs-table-hover-bg: rgba(var(--ecs-primary-rgb), 0.15);
}

/* ============================================
   17. MODALS
   ============================================ */

.modal-header.bg-primary {
  background-color: var(--ecs-primary) !important;
}

/* ============================================
   18. MISC SNEAT-SPECIFIC OVERRIDES
   ============================================ */

/* Sneat's custom primary label styling */
.bg-gradient-primary {
  background-image: linear-gradient(45deg, var(--ecs-primary), var(--ecs-primary-light)) !important;
}

/* Avatar ring colors */
.avatar-status.avatar-online {
  background-color: var(--ecs-success);
}

/* Focus ring for accessibility */
.focus-ring-primary {
  --bs-focus-ring-color: rgba(var(--ecs-primary-rgb), 0.25);
}

/* ============================================
   19. CUSTOM OPTIONS (Sneat components)
   ============================================ */

/* Custom option icons - foundation.css line 25910 */
.custom-option-icon.checked i,
.custom-option-icon.checked svg {
  color: var(--ecs-primary);
}

/* Custom option image check - foundation.css line 25982 */
.custom-option-image.custom-option-image-check:hover .form-check-input:checked {
  border-color: var(--ecs-primary);
}

/* Custom option border - foundation.css line 26561 */
.custom-option.checked {
  border-color: var(--ecs-primary);
}

/* ============================================
   20. SVG STROKES
   ============================================ */

/* SVG stroke colors - foundation.css line 11854 */
.apexcharts-pie-label,
.apexcharts-datalabels,
.apexcharts-datalabel,
.apexcharts-datalabel-label,
.apexcharts-datalabel-value {
  stroke: var(--ecs-primary);
}

/* Chart annotations */
.apexcharts-point-annotations circle,
.apexcharts-point-annotations path {
  stroke: var(--ecs-primary);
}

/* ============================================
   21. DARK MODE LAYOUT BACKGROUNDS
   Fix foundation.css lines 30763-30768 which use
   undefined variables --ecs-bg-dark and --ecs-text-dark
   ============================================ */

/* Override foundation.css dark mode layout backgrounds */
html[data-style="dark"] .layout-container,
html[data-style="dark"] .layout-page,
html[data-style="dark"] .layout-wrapper,
html[data-style="dark"] .content-wrapper {
  background-color: var(--ecs-dark-bg-body, #09090B) !important;
  color: var(--ecs-dark-text-muted, #A1A1AA) !important;
}

/* Ensure containers also get dark background */
html[data-style="dark"] .container-xxl,
html[data-style="dark"] .container-xl,
html[data-style="dark"] .container-fluid {
  background-color: transparent !important;
}

/* Fix any remaining light backgrounds in dark mode */
html[data-style="dark"] .bg-body {
  background-color: var(--ecs-dark-bg-body, #09090B) !important;
}

/* ============================================
   22. TAB CONTENT BACKGROUNDS
   Fix foundation.css line 9612 which sets
   background: #fff for tab-content elements
   ============================================ */

/* Nav tabs background - foundation.css line 9224 */
html[data-style="dark"] .nav .nav-tabs,
html[data-style="dark"] .nav-tabs {
  background-color: var(--ecs-dark-bg-card, #18181B) !important;
}

/* Tab content backgrounds - foundation.css line 9606-9612 */
html[data-style="dark"] .nav-align-top > .tab-content,
html[data-style="dark"] .nav-align-right > .tab-content,
html[data-style="dark"] .nav-align-bottom > .tab-content,
html[data-style="dark"] .nav-align-left > .tab-content,
html[data-style="dark"] .tab-content {
  background: var(--ecs-dark-bg-card, #18181B) !important;
  background-color: var(--ecs-dark-bg-card, #18181B) !important;
}

/* Tab content inside cards - keep transparent to inherit card background */
html[data-style="dark"] .card .tab-content,
html[data-style="dark"] .card .nav-align-top > .tab-content,
html[data-style="dark"] .card .nav-align-right > .tab-content,
html[data-style="dark"] .card .nav-align-bottom > .tab-content,
html[data-style="dark"] .card .nav-align-left > .tab-content {
  background: transparent !important;
  background-color: transparent !important;
}

/* ECS tab content class */
html[data-style="dark"] .ecs-tab-content {
  background: var(--ecs-dark-bg-card, #18181B) !important;
  background-color: var(--ecs-dark-bg-card, #18181B) !important;
}

/* Tab panes inside dark mode */
html[data-style="dark"] .tab-pane {
  background-color: transparent !important;
}

/* ============================================
   23. CARD BACKGROUNDS IN DARK MODE
   Ensure all cards use proper dark backgrounds
   ============================================ */

html[data-style="dark"] .card {
  background-color: var(--ecs-dark-bg-card, #18181B) !important;
  border-color: var(--ecs-dark-border, #3F3F46) !important;
}

html[data-style="dark"] .card-body {
  background-color: transparent !important;
}

html[data-style="dark"] .card-header {
  background-color: transparent !important;
  border-color: var(--ecs-dark-border, #3F3F46) !important;
}

html[data-style="dark"] .card-footer {
  background-color: transparent !important;
  border-color: var(--ecs-dark-border, #3F3F46) !important;
}

/* Nested cards */
html[data-style="dark"] .card .card {
  background-color: var(--ecs-dark-bg-elevated, #27272A) !important;
}

/* ============================================
   24. MODAL BACKGROUNDS IN DARK MODE
   ============================================ */

html[data-style="dark"] .modal-content {
  background-color: var(--ecs-dark-bg-card, #18181B) !important;
  border-color: var(--ecs-dark-border, #3F3F46) !important;
}

html[data-style="dark"] .modal-header {
  border-color: var(--ecs-dark-border, #3F3F46) !important;
}

html[data-style="dark"] .modal-footer {
  border-color: var(--ecs-dark-border, #3F3F46) !important;
}

/* ============================================
   25. DROPDOWN MENUS IN DARK MODE
   ============================================ */

html[data-style="dark"] .dropdown-menu {
  background-color: var(--ecs-dark-bg-elevated, #27272A) !important;
  border-color: var(--ecs-dark-border, #3F3F46) !important;
}

html[data-style="dark"] .dropdown-item {
  color: var(--ecs-dark-text-muted, #A1A1AA) !important;
}

html[data-style="dark"] .dropdown-item:hover,
html[data-style="dark"] .dropdown-item:focus {
  background-color: rgba(var(--ecs-primary-rgb), 0.1) !important;
  color: var(--ecs-primary) !important;
}

html[data-style="dark"] .dropdown-divider {
  border-color: var(--ecs-dark-border, #3F3F46) !important;
}

/* ============================================
   26. LIST GROUPS IN DARK MODE
   Comprehensive list-group styling for dark mode
   ============================================ */

html[data-style="dark"] .list-group-item,
[data-bs-theme="dark"] .list-group-item {
  background-color: var(--ecs-dark-bg-card, #18181B) !important;
  border-color: var(--ecs-dark-border, #3F3F46) !important;
  color: var(--ecs-dark-text-muted, #A1A1AA) !important;
}

html[data-style="dark"] .list-group-item:hover,
[data-bs-theme="dark"] .list-group-item:hover {
  background-color: var(--ecs-dark-bg-elevated, #27272A) !important;
}

/* List group action items (clickable) */
html[data-style="dark"] .list-group-item-action,
[data-bs-theme="dark"] .list-group-item-action {
  color: var(--ecs-dark-text-primary, #FAFAFA) !important;
  background-color: transparent !important;
}

html[data-style="dark"] .list-group-item-action:hover,
html[data-style="dark"] .list-group-item-action:focus,
[data-bs-theme="dark"] .list-group-item-action:hover,
[data-bs-theme="dark"] .list-group-item-action:focus {
  color: var(--ecs-dark-text-primary, #FAFAFA) !important;
  background-color: rgba(255, 255, 255, 0.1) !important;
}

/* List group action item text and icons */
html[data-style="dark"] .list-group-item-action *,
[data-bs-theme="dark"] .list-group-item-action * {
  color: inherit !important;
}

/* Active list group items */
html[data-style="dark"] .list-group-item.active,
[data-bs-theme="dark"] .list-group-item.active {
  background-color: var(--ecs-primary) !important;
  border-color: var(--ecs-primary) !important;
  color: var(--ecs-dark-bg-body, #09090B) !important;
}

/* List group flush variant */
html[data-style="dark"] .list-group-flush .list-group-item,
[data-bs-theme="dark"] .list-group-flush .list-group-item {
  background-color: transparent !important;
  border-color: var(--ecs-dark-border, #3F3F46) !important;
}

/* List group badges maintain their colors */
html[data-style="dark"] .list-group-item .badge,
[data-bs-theme="dark"] .list-group-item .badge {
  color: inherit;
}

/* ============================================
   27. CARD TEXT CONTENT IN DARK MODE
   Ensure paragraphs, descriptions, and text-muted
   are readable in dark mode
   ============================================ */

html[data-style="dark"] .card-body p,
html[data-style="dark"] .card-body .card-text,
[data-bs-theme="dark"] .card-body p,
[data-bs-theme="dark"] .card-body .card-text {
  color: var(--ecs-dark-text-muted, #A1A1AA) !important;
}

html[data-style="dark"] .text-muted,
[data-bs-theme="dark"] .text-muted {
  color: var(--ecs-dark-text-muted, #A1A1AA) !important;
}

/* Card titles and headings in dark mode */
html[data-style="dark"] .card-title,
html[data-style="dark"] .card-header h5,
html[data-style="dark"] .card-header h6,
[data-bs-theme="dark"] .card-title,
[data-bs-theme="dark"] .card-header h5,
[data-bs-theme="dark"] .card-header h6 {
  color: var(--ecs-dark-text-primary, #FAFAFA) !important;
}

/* Text center content (empty states, placeholders) */
html[data-style="dark"] .text-center h6,
html[data-style="dark"] .text-center p,
html[data-style="dark"] .text-center small,
[data-bs-theme="dark"] .text-center h6,
[data-bs-theme="dark"] .text-center p,
[data-bs-theme="dark"] .text-center small {
  color: var(--ecs-dark-text-muted, #A1A1AA) !important;
}

/* Large icons in empty states */
html[data-style="dark"] .text-center i[style*="font-size"],
[data-bs-theme="dark"] .text-center i[style*="font-size"] {
  color: var(--ecs-dark-text-muted, #A1A1AA) !important;
}

/* ============================================
   28. ICON COLORS IN DARK MODE
   Ensure all icons are visible in dark mode
   ============================================ */

html[data-style="dark"] .card i:not([class*="text-"]),
[data-bs-theme="dark"] .card i:not([class*="text-"]) {
  color: var(--ecs-dark-text-muted, #A1A1AA) !important;
}

/* Icons with text-* classes should keep their semantic colors */
html[data-style="dark"] .card i.text-primary,
[data-bs-theme="dark"] .card i.text-primary {
  color: var(--ecs-primary) !important;
}

html[data-style="dark"] .card i.text-success,
[data-bs-theme="dark"] .card i.text-success {
  color: var(--ecs-success) !important;
}

html[data-style="dark"] .card i.text-warning,
[data-bs-theme="dark"] .card i.text-warning {
  color: var(--ecs-warning) !important;
}

html[data-style="dark"] .card i.text-danger,
[data-bs-theme="dark"] .card i.text-danger {
  color: var(--ecs-danger) !important;
}

html[data-style="dark"] .card i.text-info,
[data-bs-theme="dark"] .card i.text-info {
  color: var(--ecs-info) !important;
}

/* ============================================
   29. FORM INPUTS IN DARK MODE
   ============================================ */

html[data-style="dark"] .form-control,
html[data-style="dark"] .form-select {
  background-color: var(--ecs-dark-bg-elevated, #27272A) !important;
  border-color: var(--ecs-dark-border, #3F3F46) !important;
  color: var(--ecs-dark-text-primary, #FAFAFA) !important;
}

html[data-style="dark"] .form-control::placeholder {
  color: var(--ecs-neutral-50, #71717A) !important;
}

html[data-style="dark"] .form-control:focus,
html[data-style="dark"] .form-select:focus {
  border-color: var(--ecs-primary) !important;
  background-color: var(--ecs-dark-bg-elevated, #27272A) !important;
}

/* ============================================
   28. TABLE BACKGROUNDS IN DARK MODE
   ============================================ */

html[data-style="dark"] .table {
  --bs-table-bg: var(--ecs-dark-bg-card, #18181B);
  --bs-table-color: var(--ecs-dark-text-muted, #A1A1AA);
  --bs-table-border-color: var(--ecs-dark-border, #3F3F46);
}

html[data-style="dark"] .table > thead {
  background-color: var(--ecs-dark-bg-elevated, #27272A) !important;
}

html[data-style="dark"] .table > tbody > tr:hover {
  --bs-table-hover-bg: var(--ecs-dark-bg-elevated, #27272A);
}

html[data-style="dark"] .table-striped > tbody > tr:nth-of-type(odd) {
  --bs-table-striped-bg: rgba(255, 255, 255, 0.03);
}

/* ============================================
   29. CRITICAL: Override Foundation.css Theme Variables
   Foundation.css lines 30504-30578 define OLD colors that
   may have purple tints. Override with neutral ECS colors.
   ============================================ */

/* Light mode - ensure neutral colors */
/* These use var() references to admin-configurable colors where possible */
:root,
html,
html[data-style="light"] {
  /* CRITICAL: Override foundation.css inverted neutral scale (line 30534)
     Foundation.css sets --ecs-neutral-90: #f1f3f4 (light gray - WRONG!)
     We need #18181B (dark) for readable text in light mode */
  --ecs-neutral-90: #18181B;
  --ecs-neutral-80: #27272A;
  --ecs-neutral-70: #3F3F46;
  --ecs-neutral-60: #52525B;
  --ecs-neutral-50: #71717A;
  --ecs-neutral-40: #A1A1AA;
  --ecs-neutral-30: #D4D4D8;
  --ecs-neutral-20: #E4E4E7;
  --ecs-neutral-10: #F4F4F5;
  --ecs-neutral-5: #FAFAFA;
  --ecs-neutral-0: #FFFFFF;

  /* Map foundation.css variables to admin-configurable colors */
  /* Admin configures: --ecs-bg-body, --ecs-bg-card, --ecs-bg-input */
  /* Foundation.css uses: --ecs-bg-primary, --ecs-bg-secondary, --ecs-bg-tertiary */
  --ecs-bg-primary: var(--ecs-bg-card, #FFFFFF);
  --ecs-bg-secondary: var(--ecs-bg-body, #FAFAFA);
  --ecs-bg-tertiary: #F4F4F5;
  --ecs-bg-navbar: var(--ecs-bg-card, #FFFFFF);
  --ecs-bg-sidebar: #18181B;
  --ecs-bg-content: var(--ecs-bg-card, #FFFFFF);

  /* Map foundation.css text variables to admin-configurable colors */
  /* Admin configures: --ecs-text-heading, --ecs-text-body, --ecs-text-muted */
  /* Foundation.css uses: --ecs-text-primary, --ecs-text-secondary */
  --ecs-text-primary: var(--ecs-text-heading, #18181B);
  --ecs-text-secondary: var(--ecs-text-body, #52525B);

  /* Map border variables */
  /* Admin configures: --ecs-border, --ecs-border-input */
  --ecs-border-primary: var(--ecs-border, #E4E4E7);
  --ecs-border-secondary: var(--ecs-border, #E4E4E7);

  /* Map form variables */
  --ecs-form-bg: var(--ecs-bg-input, #FFFFFF);
  --ecs-form-border: var(--ecs-border-input, #D4D4D8);
  --ecs-form-text: var(--ecs-text-heading, #18181B);
  --ecs-form-placeholder: var(--ecs-text-muted, #A1A1AA);

  /* Legacy background variable */
  --ecs-background: var(--ecs-bg-body, #FAFAFA);
  --ecs-card-bg: var(--ecs-bg-card, #FFFFFF);

  /* CRITICAL: These are used by foundation.css lines 30743-30744 */
  /* Foundation.css uses var(--ecs-bg-light) but never defines it */
  --ecs-bg-light: var(--ecs-bg-card, #FFFFFF);
  --ecs-text-light: var(--ecs-text-heading, #18181B);

  /* Base bg/text variables used by components */
  --ecs-bg: var(--ecs-bg-card, #FFFFFF);
  --ecs-text: var(--ecs-text-heading, #18181B);
}

/* Dark mode - override purple-tinted colors with neutral ECS colors */
/* These use var() references to admin-configurable colors where possible */
html[data-style="dark"] {
  /* Map foundation.css variables to admin-configurable colors */
  /* Admin configures: --ecs-bg-body, --ecs-bg-card, --ecs-bg-input, --ecs-bg-sidebar */
  --ecs-bg-primary: var(--ecs-bg-body, #09090B);
  --ecs-bg-secondary: var(--ecs-bg-card, #18181B);
  --ecs-bg-tertiary: var(--ecs-bg-input, #27272A);
  --ecs-bg-navbar: var(--ecs-bg-card, #18181B);
  --ecs-bg-sidebar: var(--ecs-bg-sidebar, #09090B);
  --ecs-bg-content: var(--ecs-bg-card, #18181B);

  /* Map foundation.css text variables to admin-configurable colors */
  /* Admin configures: --ecs-text-heading, --ecs-text-body, --ecs-text-muted */
  --ecs-text-primary: var(--ecs-text-heading, #FAFAFA);
  --ecs-text-secondary: var(--ecs-text-body, #A1A1AA);

  /* Map border variables */
  /* Admin configures: --ecs-border, --ecs-border-input */
  --ecs-border-primary: var(--ecs-border, #3F3F46);
  --ecs-border-secondary: var(--ecs-border, #3F3F46);

  /* Map form variables */
  --ecs-form-bg: var(--ecs-bg-input, #27272A);
  --ecs-form-border: var(--ecs-border-input, #3F3F46);
  --ecs-form-text: var(--ecs-text-heading, #FAFAFA);
  --ecs-form-placeholder: var(--ecs-text-muted, #71717A);

  /* Legacy background variable */
  --ecs-background: var(--ecs-bg-body, #09090B);

  /* Override neutral scale for dark mode (inverted scale)
     In dark mode, high numbers = light colors for readable text */
  --ecs-neutral-0: #09090B;
  --ecs-neutral-5: #18181B;
  --ecs-neutral-10: #27272A;
  --ecs-neutral-20: #3F3F46;
  --ecs-neutral-30: #52525B;
  --ecs-neutral-40: #71717A;
  --ecs-neutral-50: #A1A1AA;
  --ecs-neutral-60: #D4D4D8;
  --ecs-neutral-70: #E4E4E7;
  --ecs-neutral-80: #F4F4F5;
  --ecs-neutral-90: #FAFAFA;

  /* Card background variable used by mobile.css */
  --ecs-card-bg: var(--ecs-bg-card, #18181B);

  /* CRITICAL: These are used by foundation.css lines 30751-30752 */
  --ecs-bg-dark: var(--ecs-bg-body, #09090B);
  --ecs-text-dark: var(--ecs-text-heading, #FAFAFA);

  /* Base bg/text variables used by components */
  --ecs-bg: var(--ecs-bg-card, #18181B);
  --ecs-text: var(--ecs-text-heading, #FAFAFA);

  /* Dark mode specific variables for fallback */
  --ecs-dark-bg-body: var(--ecs-bg-body, #09090B);
  --ecs-dark-bg-card: var(--ecs-bg-card, #18181B);
  --ecs-dark-bg-elevated: var(--ecs-bg-input, #27272A);
  --ecs-dark-border: var(--ecs-border, #3F3F46);
  --ecs-dark-text-primary: var(--ecs-text-heading, #FAFAFA);
  --ecs-dark-text-muted: var(--ecs-text-body, #A1A1AA);
}

/* ============================================
   30. SHARED ADMIN PANEL COMPONENTS
   Common components used across admin templates
   ============================================ */

/* Card icon - used in stat cards */
.card-icon {
  display: flex;
  align-items: center;
  justify-content: center;
}

/* Status indicator dots */
.status-indicator {
  width: 8px;
  height: 8px;
  border-radius: 50%;
  display: inline-block;
}

.status-indicator.active {
  background-color: var(--ecs-success, #22C55E);
  box-shadow: 0 0 0 2px rgba(var(--ecs-success-rgb, 34, 197, 94), 0.2);
}

.status-indicator.inactive {
  background-color: var(--ecs-danger, #EF4444);
  box-shadow: 0 0 0 2px rgba(var(--ecs-danger-rgb, 239, 68, 68), 0.2);
}

/* Timeline component */
.timeline {
  position: relative;
  padding-left: 30px;
}

.timeline::before {
  content: '';
  position: absolute;
  left: 10px;
  top: 0;
  bottom: 0;
  width: 2px;
  background: var(--bs-border-color, var(--ecs-border, #E4E4E7));
}

.timeline-item {
  position: relative;
  margin-bottom: 20px;
}

.timeline-marker {
  position: absolute;
  left: -24px;
  width: 8px;
  height: 8px;
  border-radius: 50%;
  border: 2px solid var(--bs-body-bg, var(--ecs-bg-card, #FFFFFF));
}

.timeline-content {
  background: var(--bs-light, var(--ecs-bg-body, #FAFAFA));
  padding: 15px;
  border-radius: 8px;
}

html[data-style="dark"] .timeline-content,
[data-bs-theme="dark"] .timeline-content {
  background: var(--ecs-dark-bg-elevated, #27272A);
}

.timeline-title {
  font-size: 0.9rem;
  margin-bottom: 5px;
}

.timeline-text {
  font-size: 0.85rem;
  color: var(--bs-text-muted, var(--ecs-text-muted, #71717A));
  margin-bottom: 5px;
}

/* Form switch large variant */
.form-switch-lg .form-check-input {
  width: 3rem;
  height: 1.5rem;
}

.form-switch-lg .form-check-input:focus {
  border-color: rgba(var(--ecs-primary-rgb), 0.25);
  outline: 0;
  box-shadow: 0 0 0 0.25rem rgba(var(--ecs-primary-rgb), 0.25);
}

/* Toggle status label */
.toggle-status {
  font-weight: 500;
  margin-left: 0.5rem;
}

/* Card row hover effect */
.card-body .row:hover {
  background-color: rgba(0, 0, 0, 0.02);
  border-radius: 0.375rem;
}

html[data-style="dark"] .card-body .row:hover,
[data-bs-theme="dark"] .card-body .row:hover {
  background-color: rgba(255, 255, 255, 0.05);
}

/* Setting toggle disabled state */
.setting-toggle:disabled {
  opacity: 0.6;
  cursor: not-allowed;
}

/* ============================================
   31. INDEX/DASHBOARD PAGE STYLES
   Match badge, tabs, RSVP controls, mobile optimizations
   ============================================ */

/* Match badge styling */
.match-badge {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 24px;
  height: 24px;
  border-radius: 50%;
  color: var(--ecs-neutral-0, #ffffff);
  font-weight: bold;
  font-size: 0.8rem;
}

/* Icon sizing utilities */
.icon-2xl {
  font-size: 2rem;
}

.image-150 {
  height: 150px;
}

.image-150-mb {
  height: 150px;
  margin-bottom: 1rem;
}

/* Card hover effect */
.shadow-sm {
  transition: all 0.2s ease;
}

.shadow-sm:hover {
  box-shadow: 0 0.25rem 1rem rgba(161, 172, 184, 0.45) !important;
}

/* Tabs styling */
.nav-pills .nav-link {
  font-size: 0.875rem;
  padding: 0.4rem 0.8rem;
  white-space: nowrap;
  margin: 0 2px;
}

/* Small tabs for mobile */
.small-tabs {
  margin-bottom: 0.5rem;
}

.small-tabs .nav-link {
  padding: 0.35rem 0.7rem;
  font-size: 0.8rem;
}

/* Scrollable tabs on small screens */
.overflow-auto::-webkit-scrollbar {
  height: 4px;
}

.overflow-auto::-webkit-scrollbar-thumb {
  background-color: rgba(0, 0, 0, 0.2);
  border-radius: 4px;
}

/* RSVP controls */
.rsvp-controls .btn-group label {
  padding: 0.25rem 0.5rem;
}

/* Carousel indicators position */
.carousel-indicators {
  bottom: -5px;
}

/* Prevent buttons from growing too large when clicked */
.btn {
  transition: none !important;
  transform: none !important;
}

.btn:active,
.btn.active,
.btn:focus {
  transform: none !important;
  box-shadow: none !important;
}

/* Mobile adaptations */
@media (max-width: 767.98px) {
  .card-header .card-title {
    font-size: 1rem;
  }

  .action-buttons .btn {
    padding: 0.25rem 0.5rem;
  }

  /* Touch-friendly controls - fixed to prevent growing */
  .btn-group > .btn {
    padding: 0.4rem 0.6rem;
    min-height: 44px;
    max-height: 44px;
  }

  /* Adjust spacing on mobile */
  .mb-md-0 {
    margin-bottom: 0.5rem !important;
  }

  /* Fix for iOS devices */
  .nav-pills {
    display: flex;
    overflow-x: auto;
    white-space: nowrap;
    -webkit-overflow-scrolling: touch;
    margin-bottom: 1rem;
    scrollbar-width: none;
    position: relative;
    z-index: 1;
  }

  .nav-pills::-webkit-scrollbar {
    display: none;
  }

  /* Remove fade-out gradient that causes white fade */
  .nav-pills:after {
    display: none;
  }

  /* Better match-item layout for mobile */
  .list-group-item {
    padding: 0.75rem 0.5rem !important;
  }

  .list-group-item .d-flex {
    flex-direction: column;
    align-items: flex-start !important;
  }

  .list-group-item .d-flex > div:first-child {
    margin-bottom: 0.5rem;
    width: 100%;
  }

  .list-group-item .d-flex > div:last-child {
    width: 100%;
    display: flex;
    justify-content: space-between;
  }

  /* RSVP controls on mobile - bigger touch targets */
  .rsvp-controls {
    width: 65%;
  }

  .rsvp-controls .btn-group {
    width: 100%;
  }

  .rsvp-controls .btn-group label {
    flex: 1;
    display: flex;
    justify-content: center;
    align-items: center;
    font-size: 1.2rem;
    min-height: 44px;
  }

  /* Button enhancements for mobile */
  .btn {
    min-height: 44px;
    display: inline-flex;
    align-items: center;
    justify-content: center;
  }

  .btn-sm {
    min-height: 38px;
  }

  /* Improved welcome header for mobile */
  .welcome-header h2 {
    font-size: 1.5rem;
  }

  .welcome-content {
    text-align: center;
  }

  .team-info {
    display: flex;
    align-items: center;
    justify-content: center;
    flex-wrap: wrap;
    gap: 0.25rem;
  }

  /* Improved tab styling on mobile */
  .nav-link {
    padding: 0.75rem 1rem;
    min-height: 44px;
    display: flex;
    align-items: center;
    justify-content: center;
    margin: 0 2px;
    border-radius: 0.25rem;
  }
}

/* Fix for iOS 100vh issue */
:root {
  --vh: 1vh;
}

.full-height {
  height: calc(var(--vh, 1vh) * 100);
}

/* iOS Specific Styles */
@supports (-webkit-touch-callout: none) {
  input[type="radio"],
  input[type="checkbox"] {
    -webkit-appearance: none;
  }

  .btn {
    -webkit-appearance: none;
  }

  /* Prevent unwanted zoom on input focus */
  input[type="text"],
  input[type="email"],
  input[type="password"],
  select,
  textarea {
    font-size: 16px !important;
  }
}

/* Active state for tabs */
.nav-pills .nav-link.active {
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
  transform: translateY(-1px);
}

/* ============================================
   32. STANDINGS PAGE STYLES
   Table headers, team avatars, popover, empty states
   ============================================ */

/* Table header styling */
.table thead th {
  font-size: 0.85rem;
  font-weight: 600;
}

/* Table column widths */
.col-rank {
  width: 5%;
}

.col-team {
  width: 25%;
}

/* Team styling */
.team-name {
  font-weight: 500;
  text-decoration: none;
  color: var(--bs-body-color);
}

.team-name:hover {
  color: var(--bs-primary);
}

/* Avatar styling */
.avatar {
  width: 30px;
  height: 30px;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
}

.team-initial {
  font-weight: bold;
  font-size: 0.85rem;
}

/* Popover styling */
.team-stats-popover {
  padding: 0.5rem;
  font-size: 0.85rem;
}

/* Empty State Styling */
.empty-state {
  display: flex;
  flex-direction: column;
  align-items: center;
  color: var(--bs-secondary);
}

.empty-state-icon {
  font-size: 2.5rem;
  color: var(--bs-secondary);
}

.empty-state-message {
  font-size: 0.875rem;
}

/* Table hover effect */
.table-hover tbody tr:hover {
  background-color: rgba(var(--bs-primary-rgb), 0.05);
}

/* Season selector */
.season-selector {
  min-width: 150px;
  border-radius: 0.375rem;
}

/* ============================================
   33. TEAMS OVERVIEW PAGE STYLES
   Team cards, avatars, empty states, responsive styling
   ============================================ */

/* Team Card Styling */
.team-card {
  transition: all 0.2s ease;
  border: none;
  box-shadow: 0 0.25rem 1rem rgba(161, 172, 184, 0.12);
}

.team-card:hover {
  transform: translateY(-5px);
  box-shadow: 0 0.5rem 1.5rem rgba(161, 172, 184, 0.2);
}

/* Avatar sizing - medium */
.avatar.avatar-md {
  width: 48px;
  height: 48px;
  border-radius: 50%;
}

/* Responsive Styling for Nav Pills and Team Meta */
@media (max-width: 767.98px) {
  .nav-pills {
    display: flex;
    overflow-x: auto;
    white-space: nowrap;
    -webkit-overflow-scrolling: touch;
    margin-bottom: 1rem;
    padding-bottom: 0.5rem;
  }

  .nav-pills .nav-link {
    padding: 0.4rem 0.8rem;
    font-size: 0.875rem;
  }

  .team-meta {
    flex-direction: column;
    gap: 0.5rem;
  }

  .team-meta > div {
    width: 100%;
  }
}

/* ============================================
   34. PLAYER PROFILE PAGE STYLES
   Match filter, image container utilities
   ============================================ */

/* Match filter dropdown width */
.match-filter {
  width: 250px;
}

/* ============================================
   35. CRITICAL LIGHT MODE TEXT CONTRAST FIXES
   Maximum specificity overrides for headings,
   card titles, and text colors
   ============================================ */

/* Override card-level CSS variables set by foundation.css .card selector */
.card {
  --bs-card-title-color: var(--ecs-text-heading, #18181B);
  --bs-card-cap-color: var(--ecs-text-heading, #18181B);
  --bs-card-color: var(--ecs-text-body, #52525B);
}

html:not([data-style="dark"]) .card {
  --bs-card-title-color: var(--ecs-text-heading, #18181B);
  --bs-card-cap-color: var(--ecs-text-heading, #18181B);
  --bs-card-color: var(--ecs-neutral-60, #52525B);
}

html[data-style="dark"] .card {
  --bs-card-title-color: var(--ecs-dark-text-primary, #FAFAFA);
  --bs-card-cap-color: var(--ecs-dark-text-primary, #FAFAFA);
  --bs-card-color: var(--ecs-dark-text-muted, #A1A1AA);
}

/* Force heading colors in light mode - override foundation.css #444050 */
html:not([data-style="dark"]) h1,
html:not([data-style="dark"]) h2,
html:not([data-style="dark"]) h3,
html:not([data-style="dark"]) h4,
html:not([data-style="dark"]) h5,
html:not([data-style="dark"]) h6,
html:not([data-style="dark"]) .h1,
html:not([data-style="dark"]) .h2,
html:not([data-style="dark"]) .h3,
html:not([data-style="dark"]) .h4,
html:not([data-style="dark"]) .h5,
html:not([data-style="dark"]) .h6 {
  color: var(--ecs-text-heading, #18181B) !important;
}

/* Card titles - maximum specificity */
html:not([data-style="dark"]) .card-title,
html:not([data-style="dark"]) .card .card-title,
html:not([data-style="dark"]) .card-header .card-title,
html:not([data-style="dark"]) .ecs-card-title,
html:not([data-style="dark"]) .card .ecs-card-title {
  color: var(--ecs-text-heading, #18181B) !important;
}

/* Table headers */
html:not([data-style="dark"]) .table thead th,
html:not([data-style="dark"]) .table-light th,
html:not([data-style="dark"]) thead.table-light th {
  color: var(--ecs-neutral-70, #3F3F46) !important;
}

/* Table body text */
html:not([data-style="dark"]) .table tbody td {
  color: var(--ecs-neutral-60, #52525B) !important;
}

html:not([data-style="dark"]) .table tbody td.fw-bold,
html:not([data-style="dark"]) .table tbody .fw-bold {
  color: var(--ecs-text-heading, #18181B) !important;
}

/* Primary colored icons and text */
html:not([data-style="dark"]) .text-primary,
html:not([data-style="dark"]) .text-primary i,
html:not([data-style="dark"]) i.text-primary,
html:not([data-style="dark"]) .ti.text-primary {
  color: var(--ecs-primary, #7C3AED) !important;
}

/* Card body text */
html:not([data-style="dark"]) .card-body {
  color: var(--ecs-neutral-60, #52525B) !important;
}

html:not([data-style="dark"]) .card-body p,
html:not([data-style="dark"]) .card-body span:not(.badge):not(.text-white) {
  color: var(--ecs-neutral-60, #52525B) !important;
}

/* Links in tables and cards */
html:not([data-style="dark"]) .team-name,
html:not([data-style="dark"]) a.team-name {
  color: var(--ecs-primary, #7C3AED) !important;
}

/* Match team names */
html:not([data-style="dark"]) .match-teams h6,
html:not([data-style="dark"]) .match-details h6 {
  color: var(--ecs-text-heading, #18181B) !important;
}

/* Match time */
html:not([data-style="dark"]) .match-time {
  color: var(--ecs-neutral-60, #52525B) !important;
}

/* Nav pills inactive state */
html:not([data-style="dark"]) .nav-pills .nav-link:not(.active),
html:not([data-style="dark"]) .ecs-nav-pills .ecs-nav-link:not(.active):not(.ecs-active) {
  color: var(--ecs-neutral-60, #52525B) !important;
}

/* Muted text - readable but still muted */
html:not([data-style="dark"]) .text-muted {
  color: var(--ecs-neutral-50, #71717A) !important;
}

/* Popovers with solid backgrounds */
html:not([data-style="dark"]) .popover {
  background-color: var(--ecs-neutral-0, #ffffff) !important;
  border-color: var(--ecs-neutral-20, #E4E4E7) !important;
}

html:not([data-style="dark"]) .popover-header {
  background-color: var(--ecs-neutral-5, #FAFAFA) !important;
  color: var(--ecs-text-heading, #18181B) !important;
  border-bottom-color: var(--ecs-neutral-20, #E4E4E7) !important;
}

html:not([data-style="dark"]) .popover-body {
  background-color: var(--ecs-neutral-0, #ffffff) !important;
  color: var(--ecs-neutral-60, #52525B) !important;
}

html:not([data-style="dark"]) .popover-body strong {
  color: var(--ecs-text-heading, #18181B) !important;
}

/* Semantic text colors */
html:not([data-style="dark"]) .text-success {
  color: var(--ecs-success, #10B981) !important;
}

html:not([data-style="dark"]) .text-danger {
  color: var(--ecs-danger, #EF4444) !important;
}

html:not([data-style="dark"]) .text-warning {
  color: var(--ecs-warning, #F59E0B) !important;
}

html:not([data-style="dark"]) .text-info {
  color: var(--ecs-info, #3B82F6) !important;
}
